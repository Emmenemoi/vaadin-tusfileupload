{"version":3,"file":"616.bundle.uppy.min.js","mappings":"8GAEA,MAAMA,EAAYC,OAAOC,OAAO,MAChC,SAASC,EAASC,GAGhB,OADuC,MAApBJ,EAAUI,KAAmCJ,EAAUI,GAAQH,OAAOC,OAAO,OACzFF,EAAUI,EACnB,CACAC,KAAKC,iBAAiB,WAAWC,IAC/BA,EAAMC,UAAUC,QAAQC,UAAUC,MAAK,IAAMN,KAAKO,gBAAe,IAEnEP,KAAKC,iBAAiB,YAAYC,IAChCA,EAAMC,UAAUH,KAAKQ,QAAQC,QAAQ,IAsBvCT,KAAKC,iBAAiB,WAAWC,IAC/B,IAAIQ,EAdWC,EAAOC,EAetB,OAAQV,EAAMW,KAAKC,MACjB,IAAK,gBAhBQH,EAiBHT,EAAMW,KAAKF,MAjBDC,EAiBQV,EAAMW,KAAKD,KAhBzCd,EAASa,GAAOC,EAAKG,IAAMH,EAAKC,KAiB5B,MACF,IAAK,oBAhBT,SAAoBF,EAAOK,UAClBlB,EAASa,GAAOK,EACzB,CAeMC,CAAWf,EAAMW,KAAKF,MAAOT,EAAMW,KAAKG,QACxC,MACF,IAAK,kBAhBT,SAAkBL,GAblB,IAAiCO,IAcP,CACtBJ,KAAM,iBACNH,QACAQ,MAAOrB,EAASa,IAhBlBH,QAAQY,WAAWd,MAAKE,IACtBA,EAAQa,SAAQC,IACdA,EAAOC,YAAYL,EAAI,GACvB,GAeN,CAWMM,CAAStB,EAAMW,KAAKF,OACpB,MACF,QACE,MAAM,IAAIc,MAAM,qDAA8D,MAATvB,GAA+C,OAA7BQ,EAAcR,EAAMW,WAAgB,EAASH,EAAYI,QACpJ,G","sources":["webpack://uppy-addon/./node_modules/@uppy/golden-retriever/lib/ServiceWorker.js"],"sourcesContent":["/* globals clients */\n\nconst fileCache = Object.create(null);\nfunction getCache(name) {\n  var _fileCache$name;\n  (_fileCache$name = fileCache[name]) != null ? _fileCache$name : fileCache[name] = Object.create(null);\n  return fileCache[name];\n}\nself.addEventListener('install', event => {\n  event.waitUntil(Promise.resolve().then(() => self.skipWaiting()));\n});\nself.addEventListener('activate', event => {\n  event.waitUntil(self.clients.claim());\n});\nfunction sendMessageToAllClients(msg) {\n  clients.matchAll().then(clients => {\n    clients.forEach(client => {\n      client.postMessage(msg);\n    });\n  });\n}\nfunction addFile(store, file) {\n  getCache(store)[file.id] = file.data;\n}\nfunction removeFile(store, fileID) {\n  delete getCache(store)[fileID];\n}\nfunction getFiles(store) {\n  sendMessageToAllClients({\n    type: 'uppy/ALL_FILES',\n    store,\n    files: getCache(store)\n  });\n}\nself.addEventListener('message', event => {\n  var _event$data;\n  switch (event.data.type) {\n    case 'uppy/ADD_FILE':\n      addFile(event.data.store, event.data.file);\n      break;\n    case 'uppy/REMOVE_FILE':\n      removeFile(event.data.store, event.data.fileID);\n      break;\n    case 'uppy/GET_FILES':\n      getFiles(event.data.store);\n      break;\n    default:\n      throw new Error(`[ServiceWorker] Unsupported event.data.type. Got: ${event == null || (_event$data = event.data) == null ? void 0 : _event$data.type}`);\n  }\n});"],"names":["fileCache","Object","create","getCache","name","self","addEventListener","event","waitUntil","Promise","resolve","then","skipWaiting","clients","claim","_event$data","store","file","data","type","id","fileID","removeFile","msg","files","matchAll","forEach","client","postMessage","getFiles","Error"],"sourceRoot":""}