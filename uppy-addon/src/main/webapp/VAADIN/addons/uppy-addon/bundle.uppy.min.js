/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@transloadit/prettier-bytes/prettierBytes.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@transloadit/prettier-bytes/prettierBytes.js ***!
  \*******************************************************************/
/***/ ((module) => {

// Adapted from https://github.com/Flet/prettier-bytes/
// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB
// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE
module.exports = function prettierBytes (num) {
  if (typeof num !== 'number' || isNaN(num)) {
    throw new TypeError(`Expected a number, got ${typeof num}`)
  }

  const neg = num < 0
  const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']

  if (neg) {
    num = -num
  }

  if (num < 1) {
    return `${(neg ? '-' : '') + num} B`
  }

  const exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1)
  num = Number(num / Math.pow(1024, exponent))
  const unit = units[exponent]

  if (num >= 10 || num % 1 === 0) {
    // Do not show decimals when the number is two-digit, or if the number has no
    // decimal component.
    return `${(neg ? '-' : '') + num.toFixed(0)} ${unit}`
  }
  return `${(neg ? '-' : '') + num.toFixed(1)} ${unit}`
}


/***/ }),

/***/ "./node_modules/@uppy/dashboard/node_modules/@transloadit/prettier-bytes/prettierBytes.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/node_modules/@transloadit/prettier-bytes/prettierBytes.js ***!
  \************************************************************************************************/
/***/ ((module) => {

// Adapted from https://github.com/Flet/prettier-bytes/
// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB
// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE
module.exports = function prettierBytes (num) {
  if (typeof num !== 'number' || isNaN(num)) {
    throw new TypeError('Expected a number, got ' + typeof num)
  }

  var neg = num < 0
  var units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']

  if (neg) {
    num = -num
  }

  if (num < 1) {
    return (neg ? '-' : '') + num + ' B'
  }

  var exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1)
  num = Number(num / Math.pow(1024, exponent))
  var unit = units[exponent]

  if (num >= 10 || num % 1 === 0) {
    // Do not show decimals when the number is two-digit, or if the number has no
    // decimal component.
    return (neg ? '-' : '') + num.toFixed(0) + ' ' + unit
  } else {
    return (neg ? '-' : '') + num.toFixed(1) + ' ' + unit
  }
}


/***/ }),

/***/ "./node_modules/classnames/index.js":
/*!******************************************!*\
  !*** ./node_modules/classnames/index.js ***!
  \******************************************/
/***/ ((module, exports) => {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
/* global define */

(function () {
	'use strict';

	var hasOwn = {}.hasOwnProperty;
	var nativeCodeString = '[native code]';

	function classNames() {
		var classes = [];

		for (var i = 0; i < arguments.length; i++) {
			var arg = arguments[i];
			if (!arg) continue;

			var argType = typeof arg;

			if (argType === 'string' || argType === 'number') {
				classes.push(arg);
			} else if (Array.isArray(arg)) {
				if (arg.length) {
					var inner = classNames.apply(null, arg);
					if (inner) {
						classes.push(inner);
					}
				}
			} else if (argType === 'object') {
				if (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {
					classes.push(arg.toString());
					continue;
				}

				for (var key in arg) {
					if (hasOwn.call(arg, key) && arg[key]) {
						classes.push(key);
					}
				}
			}
		}

		return classes.join(' ');
	}

	if ( true && module.exports) {
		classNames.default = classNames;
		module.exports = classNames;
	} else if (true) {
		// register as 'classnames', consistent with npm package name
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
			return classNames;
		}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}());


/***/ }),

/***/ "./node_modules/cropperjs/dist/cropper.js":
/*!************************************************!*\
  !*** ./node_modules/cropperjs/dist/cropper.js ***!
  \************************************************/
/***/ (function(module) {

/*!
 * Cropper.js v1.5.7
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-05-23T05:23:00.081Z
 */

(function (global, factory) {
   true ? module.exports = factory() :
  0;
}(this, (function () { 'use strict';

  function _typeof(obj) {
    "@babel/helpers - typeof";

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      _typeof = function (obj) {
        return typeof obj;
      };
    } else {
      _typeof = function (obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return _typeof(obj);
  }

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  }

  function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);

    if (Object.getOwnPropertySymbols) {
      var symbols = Object.getOwnPropertySymbols(object);
      if (enumerableOnly) symbols = symbols.filter(function (sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      });
      keys.push.apply(keys, symbols);
    }

    return keys;
  }

  function _objectSpread2(target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i] != null ? arguments[i] : {};

      if (i % 2) {
        ownKeys(Object(source), true).forEach(function (key) {
          _defineProperty(target, key, source[key]);
        });
      } else if (Object.getOwnPropertyDescriptors) {
        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
      } else {
        ownKeys(Object(source)).forEach(function (key) {
          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
      }
    }

    return target;
  }

  function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
  }

  function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
  }

  function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
  }

  function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
  }

  function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;

    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];

    return arr2;
  }

  function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';
  var WINDOW = IS_BROWSER ? window : {};
  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;
  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;
  var NAMESPACE = 'cropper'; // Actions

  var ACTION_ALL = 'all';
  var ACTION_CROP = 'crop';
  var ACTION_MOVE = 'move';
  var ACTION_ZOOM = 'zoom';
  var ACTION_EAST = 'e';
  var ACTION_WEST = 'w';
  var ACTION_SOUTH = 's';
  var ACTION_NORTH = 'n';
  var ACTION_NORTH_EAST = 'ne';
  var ACTION_NORTH_WEST = 'nw';
  var ACTION_SOUTH_EAST = 'se';
  var ACTION_SOUTH_WEST = 'sw'; // Classes

  var CLASS_CROP = "".concat(NAMESPACE, "-crop");
  var CLASS_DISABLED = "".concat(NAMESPACE, "-disabled");
  var CLASS_HIDDEN = "".concat(NAMESPACE, "-hidden");
  var CLASS_HIDE = "".concat(NAMESPACE, "-hide");
  var CLASS_INVISIBLE = "".concat(NAMESPACE, "-invisible");
  var CLASS_MODAL = "".concat(NAMESPACE, "-modal");
  var CLASS_MOVE = "".concat(NAMESPACE, "-move"); // Data keys

  var DATA_ACTION = "".concat(NAMESPACE, "Action");
  var DATA_PREVIEW = "".concat(NAMESPACE, "Preview"); // Drag modes

  var DRAG_MODE_CROP = 'crop';
  var DRAG_MODE_MOVE = 'move';
  var DRAG_MODE_NONE = 'none'; // Events

  var EVENT_CROP = 'crop';
  var EVENT_CROP_END = 'cropend';
  var EVENT_CROP_MOVE = 'cropmove';
  var EVENT_CROP_START = 'cropstart';
  var EVENT_DBLCLICK = 'dblclick';
  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';
  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';
  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';
  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;
  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;
  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;
  var EVENT_READY = 'ready';
  var EVENT_RESIZE = 'resize';
  var EVENT_WHEEL = 'wheel';
  var EVENT_ZOOM = 'zoom'; // Mime types

  var MIME_TYPE_JPEG = 'image/jpeg'; // RegExps

  var REGEXP_ACTIONS = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/;
  var REGEXP_DATA_URL = /^data:/;
  var REGEXP_DATA_URL_JPEG = /^data:image\/jpeg;base64,/;
  var REGEXP_TAG_NAME = /^img|canvas$/i; // Misc

  var DEFAULTS = {
    // Define the view mode of the cropper
    viewMode: 0,
    // 0, 1, 2, 3
    // Define the dragging mode of the cropper
    dragMode: DRAG_MODE_CROP,
    // 'crop', 'move' or 'none'
    // Define the initial aspect ratio of the crop box
    initialAspectRatio: NaN,
    // Define the aspect ratio of the crop box
    aspectRatio: NaN,
    // An object with the previous cropping result data
    data: null,
    // A selector for adding extra containers to preview
    preview: '',
    // Re-render the cropper when resize the window
    responsive: true,
    // Restore the cropped area after resize the window
    restore: true,
    // Check if the current image is a cross-origin image
    checkCrossOrigin: true,
    // Check the current image's Exif Orientation information
    checkOrientation: true,
    // Show the black modal
    modal: true,
    // Show the dashed lines for guiding
    guides: true,
    // Show the center indicator for guiding
    center: true,
    // Show the white modal to highlight the crop box
    highlight: true,
    // Show the grid background
    background: true,
    // Enable to crop the image automatically when initialize
    autoCrop: true,
    // Define the percentage of automatic cropping area when initializes
    autoCropArea: 0.8,
    // Enable to move the image
    movable: true,
    // Enable to rotate the image
    rotatable: true,
    // Enable to scale the image
    scalable: true,
    // Enable to zoom the image
    zoomable: true,
    // Enable to zoom the image by dragging touch
    zoomOnTouch: true,
    // Enable to zoom the image by wheeling mouse
    zoomOnWheel: true,
    // Define zoom ratio when zoom the image by wheeling mouse
    wheelZoomRatio: 0.1,
    // Enable to move the crop box
    cropBoxMovable: true,
    // Enable to resize the crop box
    cropBoxResizable: true,
    // Toggle drag mode between "crop" and "move" when click twice on the cropper
    toggleDragModeOnDblclick: true,
    // Size limitation
    minCanvasWidth: 0,
    minCanvasHeight: 0,
    minCropBoxWidth: 0,
    minCropBoxHeight: 0,
    minContainerWidth: 200,
    minContainerHeight: 100,
    // Shortcuts of events
    ready: null,
    cropstart: null,
    cropmove: null,
    cropend: null,
    crop: null,
    zoom: null
  };

  var TEMPLATE = '<div class="cropper-container" touch-action="none">' + '<div class="cropper-wrap-box">' + '<div class="cropper-canvas"></div>' + '</div>' + '<div class="cropper-drag-box"></div>' + '<div class="cropper-crop-box">' + '<span class="cropper-view-box"></span>' + '<span class="cropper-dashed dashed-h"></span>' + '<span class="cropper-dashed dashed-v"></span>' + '<span class="cropper-center"></span>' + '<span class="cropper-face"></span>' + '<span class="cropper-line line-e" data-cropper-action="e"></span>' + '<span class="cropper-line line-n" data-cropper-action="n"></span>' + '<span class="cropper-line line-w" data-cropper-action="w"></span>' + '<span class="cropper-line line-s" data-cropper-action="s"></span>' + '<span class="cropper-point point-e" data-cropper-action="e"></span>' + '<span class="cropper-point point-n" data-cropper-action="n"></span>' + '<span class="cropper-point point-w" data-cropper-action="w"></span>' + '<span class="cropper-point point-s" data-cropper-action="s"></span>' + '<span class="cropper-point point-ne" data-cropper-action="ne"></span>' + '<span class="cropper-point point-nw" data-cropper-action="nw"></span>' + '<span class="cropper-point point-sw" data-cropper-action="sw"></span>' + '<span class="cropper-point point-se" data-cropper-action="se"></span>' + '</div>' + '</div>';

  /**
   * Check if the given value is not a number.
   */

  var isNaN = Number.isNaN || WINDOW.isNaN;
  /**
   * Check if the given value is a number.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given value is a number, else `false`.
   */

  function isNumber(value) {
    return typeof value === 'number' && !isNaN(value);
  }
  /**
   * Check if the given value is a positive number.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.
   */

  var isPositiveNumber = function isPositiveNumber(value) {
    return value > 0 && value < Infinity;
  };
  /**
   * Check if the given value is undefined.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.
   */

  function isUndefined(value) {
    return typeof value === 'undefined';
  }
  /**
   * Check if the given value is an object.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given value is an object, else `false`.
   */

  function isObject(value) {
    return _typeof(value) === 'object' && value !== null;
  }
  var hasOwnProperty = Object.prototype.hasOwnProperty;
  /**
   * Check if the given value is a plain object.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.
   */

  function isPlainObject(value) {
    if (!isObject(value)) {
      return false;
    }

    try {
      var _constructor = value.constructor;
      var prototype = _constructor.prototype;
      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');
    } catch (error) {
      return false;
    }
  }
  /**
   * Check if the given value is a function.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given value is a function, else `false`.
   */

  function isFunction(value) {
    return typeof value === 'function';
  }
  var slice = Array.prototype.slice;
  /**
   * Convert array-like or iterable object to an array.
   * @param {*} value - The value to convert.
   * @returns {Array} Returns a new array.
   */

  function toArray(value) {
    return Array.from ? Array.from(value) : slice.call(value);
  }
  /**
   * Iterate the given data.
   * @param {*} data - The data to iterate.
   * @param {Function} callback - The process function for each element.
   * @returns {*} The original data.
   */

  function forEach(data, callback) {
    if (data && isFunction(callback)) {
      if (Array.isArray(data) || isNumber(data.length)
      /* array-like */
      ) {
          toArray(data).forEach(function (value, key) {
            callback.call(data, value, key, data);
          });
        } else if (isObject(data)) {
        Object.keys(data).forEach(function (key) {
          callback.call(data, data[key], key, data);
        });
      }
    }

    return data;
  }
  /**
   * Extend the given object.
   * @param {*} target - The target object to extend.
   * @param {*} args - The rest objects for merging to the target object.
   * @returns {Object} The extended object.
   */

  var assign = Object.assign || function assign(target) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    if (isObject(target) && args.length > 0) {
      args.forEach(function (arg) {
        if (isObject(arg)) {
          Object.keys(arg).forEach(function (key) {
            target[key] = arg[key];
          });
        }
      });
    }

    return target;
  };
  var REGEXP_DECIMALS = /\.\d*(?:0|9){12}\d*$/;
  /**
   * Normalize decimal number.
   * Check out {@link https://0.30000000000000004.com/}
   * @param {number} value - The value to normalize.
   * @param {number} [times=100000000000] - The times for normalizing.
   * @returns {number} Returns the normalized number.
   */

  function normalizeDecimalNumber(value) {
    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;
    return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;
  }
  var REGEXP_SUFFIX = /^width|height|left|top|marginLeft|marginTop$/;
  /**
   * Apply styles to the given element.
   * @param {Element} element - The target element.
   * @param {Object} styles - The styles for applying.
   */

  function setStyle(element, styles) {
    var style = element.style;
    forEach(styles, function (value, property) {
      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {
        value = "".concat(value, "px");
      }

      style[property] = value;
    });
  }
  /**
   * Check if the given element has a special class.
   * @param {Element} element - The element to check.
   * @param {string} value - The class to search.
   * @returns {boolean} Returns `true` if the special class was found.
   */

  function hasClass(element, value) {
    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;
  }
  /**
   * Add classes to the given element.
   * @param {Element} element - The target element.
   * @param {string} value - The classes to be added.
   */

  function addClass(element, value) {
    if (!value) {
      return;
    }

    if (isNumber(element.length)) {
      forEach(element, function (elem) {
        addClass(elem, value);
      });
      return;
    }

    if (element.classList) {
      element.classList.add(value);
      return;
    }

    var className = element.className.trim();

    if (!className) {
      element.className = value;
    } else if (className.indexOf(value) < 0) {
      element.className = "".concat(className, " ").concat(value);
    }
  }
  /**
   * Remove classes from the given element.
   * @param {Element} element - The target element.
   * @param {string} value - The classes to be removed.
   */

  function removeClass(element, value) {
    if (!value) {
      return;
    }

    if (isNumber(element.length)) {
      forEach(element, function (elem) {
        removeClass(elem, value);
      });
      return;
    }

    if (element.classList) {
      element.classList.remove(value);
      return;
    }

    if (element.className.indexOf(value) >= 0) {
      element.className = element.className.replace(value, '');
    }
  }
  /**
   * Add or remove classes from the given element.
   * @param {Element} element - The target element.
   * @param {string} value - The classes to be toggled.
   * @param {boolean} added - Add only.
   */

  function toggleClass(element, value, added) {
    if (!value) {
      return;
    }

    if (isNumber(element.length)) {
      forEach(element, function (elem) {
        toggleClass(elem, value, added);
      });
      return;
    } // IE10-11 doesn't support the second parameter of `classList.toggle`


    if (added) {
      addClass(element, value);
    } else {
      removeClass(element, value);
    }
  }
  var REGEXP_CAMEL_CASE = /([a-z\d])([A-Z])/g;
  /**
   * Transform the given string from camelCase to kebab-case
   * @param {string} value - The value to transform.
   * @returns {string} The transformed value.
   */

  function toParamCase(value) {
    return value.replace(REGEXP_CAMEL_CASE, '$1-$2').toLowerCase();
  }
  /**
   * Get data from the given element.
   * @param {Element} element - The target element.
   * @param {string} name - The data key to get.
   * @returns {string} The data value.
   */

  function getData(element, name) {
    if (isObject(element[name])) {
      return element[name];
    }

    if (element.dataset) {
      return element.dataset[name];
    }

    return element.getAttribute("data-".concat(toParamCase(name)));
  }
  /**
   * Set data to the given element.
   * @param {Element} element - The target element.
   * @param {string} name - The data key to set.
   * @param {string} data - The data value.
   */

  function setData(element, name, data) {
    if (isObject(data)) {
      element[name] = data;
    } else if (element.dataset) {
      element.dataset[name] = data;
    } else {
      element.setAttribute("data-".concat(toParamCase(name)), data);
    }
  }
  /**
   * Remove data from the given element.
   * @param {Element} element - The target element.
   * @param {string} name - The data key to remove.
   */

  function removeData(element, name) {
    if (isObject(element[name])) {
      try {
        delete element[name];
      } catch (error) {
        element[name] = undefined;
      }
    } else if (element.dataset) {
      // #128 Safari not allows to delete dataset property
      try {
        delete element.dataset[name];
      } catch (error) {
        element.dataset[name] = undefined;
      }
    } else {
      element.removeAttribute("data-".concat(toParamCase(name)));
    }
  }
  var REGEXP_SPACES = /\s\s*/;

  var onceSupported = function () {
    var supported = false;

    if (IS_BROWSER) {
      var once = false;

      var listener = function listener() {};

      var options = Object.defineProperty({}, 'once', {
        get: function get() {
          supported = true;
          return once;
        },

        /**
         * This setter can fix a `TypeError` in strict mode
         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}
         * @param {boolean} value - The value to set
         */
        set: function set(value) {
          once = value;
        }
      });
      WINDOW.addEventListener('test', listener, options);
      WINDOW.removeEventListener('test', listener, options);
    }

    return supported;
  }();
  /**
   * Remove event listener from the target element.
   * @param {Element} element - The event target.
   * @param {string} type - The event type(s).
   * @param {Function} listener - The event listener.
   * @param {Object} options - The event options.
   */


  function removeListener(element, type, listener) {
    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    var handler = listener;
    type.trim().split(REGEXP_SPACES).forEach(function (event) {
      if (!onceSupported) {
        var listeners = element.listeners;

        if (listeners && listeners[event] && listeners[event][listener]) {
          handler = listeners[event][listener];
          delete listeners[event][listener];

          if (Object.keys(listeners[event]).length === 0) {
            delete listeners[event];
          }

          if (Object.keys(listeners).length === 0) {
            delete element.listeners;
          }
        }
      }

      element.removeEventListener(event, handler, options);
    });
  }
  /**
   * Add event listener to the target element.
   * @param {Element} element - The event target.
   * @param {string} type - The event type(s).
   * @param {Function} listener - The event listener.
   * @param {Object} options - The event options.
   */

  function addListener(element, type, listener) {
    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    var _handler = listener;
    type.trim().split(REGEXP_SPACES).forEach(function (event) {
      if (options.once && !onceSupported) {
        var _element$listeners = element.listeners,
            listeners = _element$listeners === void 0 ? {} : _element$listeners;

        _handler = function handler() {
          delete listeners[event][listener];
          element.removeEventListener(event, _handler, options);

          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }

          listener.apply(element, args);
        };

        if (!listeners[event]) {
          listeners[event] = {};
        }

        if (listeners[event][listener]) {
          element.removeEventListener(event, listeners[event][listener], options);
        }

        listeners[event][listener] = _handler;
        element.listeners = listeners;
      }

      element.addEventListener(event, _handler, options);
    });
  }
  /**
   * Dispatch event on the target element.
   * @param {Element} element - The event target.
   * @param {string} type - The event type(s).
   * @param {Object} data - The additional event data.
   * @returns {boolean} Indicate if the event is default prevented or not.
   */

  function dispatchEvent(element, type, data) {
    var event; // Event and CustomEvent on IE9-11 are global objects, not constructors

    if (isFunction(Event) && isFunction(CustomEvent)) {
      event = new CustomEvent(type, {
        detail: data,
        bubbles: true,
        cancelable: true
      });
    } else {
      event = document.createEvent('CustomEvent');
      event.initCustomEvent(type, true, true, data);
    }

    return element.dispatchEvent(event);
  }
  /**
   * Get the offset base on the document.
   * @param {Element} element - The target element.
   * @returns {Object} The offset data.
   */

  function getOffset(element) {
    var box = element.getBoundingClientRect();
    return {
      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),
      top: box.top + (window.pageYOffset - document.documentElement.clientTop)
    };
  }
  var location = WINDOW.location;
  var REGEXP_ORIGINS = /^(\w+:)\/\/([^:/?#]*):?(\d*)/i;
  /**
   * Check if the given URL is a cross origin URL.
   * @param {string} url - The target URL.
   * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.
   */

  function isCrossOriginURL(url) {
    var parts = url.match(REGEXP_ORIGINS);
    return parts !== null && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);
  }
  /**
   * Add timestamp to the given URL.
   * @param {string} url - The target URL.
   * @returns {string} The result URL.
   */

  function addTimestamp(url) {
    var timestamp = "timestamp=".concat(new Date().getTime());
    return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;
  }
  /**
   * Get transforms base on the given object.
   * @param {Object} obj - The target object.
   * @returns {string} A string contains transform values.
   */

  function getTransforms(_ref) {
    var rotate = _ref.rotate,
        scaleX = _ref.scaleX,
        scaleY = _ref.scaleY,
        translateX = _ref.translateX,
        translateY = _ref.translateY;
    var values = [];

    if (isNumber(translateX) && translateX !== 0) {
      values.push("translateX(".concat(translateX, "px)"));
    }

    if (isNumber(translateY) && translateY !== 0) {
      values.push("translateY(".concat(translateY, "px)"));
    } // Rotate should come first before scale to match orientation transform


    if (isNumber(rotate) && rotate !== 0) {
      values.push("rotate(".concat(rotate, "deg)"));
    }

    if (isNumber(scaleX) && scaleX !== 1) {
      values.push("scaleX(".concat(scaleX, ")"));
    }

    if (isNumber(scaleY) && scaleY !== 1) {
      values.push("scaleY(".concat(scaleY, ")"));
    }

    var transform = values.length ? values.join(' ') : 'none';
    return {
      WebkitTransform: transform,
      msTransform: transform,
      transform: transform
    };
  }
  /**
   * Get the max ratio of a group of pointers.
   * @param {string} pointers - The target pointers.
   * @returns {number} The result ratio.
   */

  function getMaxZoomRatio(pointers) {
    var pointers2 = _objectSpread2({}, pointers);

    var ratios = [];
    forEach(pointers, function (pointer, pointerId) {
      delete pointers2[pointerId];
      forEach(pointers2, function (pointer2) {
        var x1 = Math.abs(pointer.startX - pointer2.startX);
        var y1 = Math.abs(pointer.startY - pointer2.startY);
        var x2 = Math.abs(pointer.endX - pointer2.endX);
        var y2 = Math.abs(pointer.endY - pointer2.endY);
        var z1 = Math.sqrt(x1 * x1 + y1 * y1);
        var z2 = Math.sqrt(x2 * x2 + y2 * y2);
        var ratio = (z2 - z1) / z1;
        ratios.push(ratio);
      });
    });
    ratios.sort(function (a, b) {
      return Math.abs(a) < Math.abs(b);
    });
    return ratios[0];
  }
  /**
   * Get a pointer from an event object.
   * @param {Object} event - The target event object.
   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.
   * @returns {Object} The result pointer contains start and/or end point coordinates.
   */

  function getPointer(_ref2, endOnly) {
    var pageX = _ref2.pageX,
        pageY = _ref2.pageY;
    var end = {
      endX: pageX,
      endY: pageY
    };
    return endOnly ? end : _objectSpread2({
      startX: pageX,
      startY: pageY
    }, end);
  }
  /**
   * Get the center point coordinate of a group of pointers.
   * @param {Object} pointers - The target pointers.
   * @returns {Object} The center point coordinate.
   */

  function getPointersCenter(pointers) {
    var pageX = 0;
    var pageY = 0;
    var count = 0;
    forEach(pointers, function (_ref3) {
      var startX = _ref3.startX,
          startY = _ref3.startY;
      pageX += startX;
      pageY += startY;
      count += 1;
    });
    pageX /= count;
    pageY /= count;
    return {
      pageX: pageX,
      pageY: pageY
    };
  }
  /**
   * Get the max sizes in a rectangle under the given aspect ratio.
   * @param {Object} data - The original sizes.
   * @param {string} [type='contain'] - The adjust type.
   * @returns {Object} The result sizes.
   */

  function getAdjustedSizes(_ref4) // or 'cover'
  {
    var aspectRatio = _ref4.aspectRatio,
        height = _ref4.height,
        width = _ref4.width;
    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';
    var isValidWidth = isPositiveNumber(width);
    var isValidHeight = isPositiveNumber(height);

    if (isValidWidth && isValidHeight) {
      var adjustedWidth = height * aspectRatio;

      if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {
        height = width / aspectRatio;
      } else {
        width = height * aspectRatio;
      }
    } else if (isValidWidth) {
      height = width / aspectRatio;
    } else if (isValidHeight) {
      width = height * aspectRatio;
    }

    return {
      width: width,
      height: height
    };
  }
  /**
   * Get the new sizes of a rectangle after rotated.
   * @param {Object} data - The original sizes.
   * @returns {Object} The result sizes.
   */

  function getRotatedSizes(_ref5) {
    var width = _ref5.width,
        height = _ref5.height,
        degree = _ref5.degree;
    degree = Math.abs(degree) % 180;

    if (degree === 90) {
      return {
        width: height,
        height: width
      };
    }

    var arc = degree % 90 * Math.PI / 180;
    var sinArc = Math.sin(arc);
    var cosArc = Math.cos(arc);
    var newWidth = width * cosArc + height * sinArc;
    var newHeight = width * sinArc + height * cosArc;
    return degree > 90 ? {
      width: newHeight,
      height: newWidth
    } : {
      width: newWidth,
      height: newHeight
    };
  }
  /**
   * Get a canvas which drew the given image.
   * @param {HTMLImageElement} image - The image for drawing.
   * @param {Object} imageData - The image data.
   * @param {Object} canvasData - The canvas data.
   * @param {Object} options - The options.
   * @returns {HTMLCanvasElement} The result canvas.
   */

  function getSourceCanvas(image, _ref6, _ref7, _ref8) {
    var imageAspectRatio = _ref6.aspectRatio,
        imageNaturalWidth = _ref6.naturalWidth,
        imageNaturalHeight = _ref6.naturalHeight,
        _ref6$rotate = _ref6.rotate,
        rotate = _ref6$rotate === void 0 ? 0 : _ref6$rotate,
        _ref6$scaleX = _ref6.scaleX,
        scaleX = _ref6$scaleX === void 0 ? 1 : _ref6$scaleX,
        _ref6$scaleY = _ref6.scaleY,
        scaleY = _ref6$scaleY === void 0 ? 1 : _ref6$scaleY;
    var aspectRatio = _ref7.aspectRatio,
        naturalWidth = _ref7.naturalWidth,
        naturalHeight = _ref7.naturalHeight;
    var _ref8$fillColor = _ref8.fillColor,
        fillColor = _ref8$fillColor === void 0 ? 'transparent' : _ref8$fillColor,
        _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,
        imageSmoothingEnabled = _ref8$imageSmoothingE === void 0 ? true : _ref8$imageSmoothingE,
        _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,
        imageSmoothingQuality = _ref8$imageSmoothingQ === void 0 ? 'low' : _ref8$imageSmoothingQ,
        _ref8$maxWidth = _ref8.maxWidth,
        maxWidth = _ref8$maxWidth === void 0 ? Infinity : _ref8$maxWidth,
        _ref8$maxHeight = _ref8.maxHeight,
        maxHeight = _ref8$maxHeight === void 0 ? Infinity : _ref8$maxHeight,
        _ref8$minWidth = _ref8.minWidth,
        minWidth = _ref8$minWidth === void 0 ? 0 : _ref8$minWidth,
        _ref8$minHeight = _ref8.minHeight,
        minHeight = _ref8$minHeight === void 0 ? 0 : _ref8$minHeight;
    var canvas = document.createElement('canvas');
    var context = canvas.getContext('2d');
    var maxSizes = getAdjustedSizes({
      aspectRatio: aspectRatio,
      width: maxWidth,
      height: maxHeight
    });
    var minSizes = getAdjustedSizes({
      aspectRatio: aspectRatio,
      width: minWidth,
      height: minHeight
    }, 'cover');
    var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));
    var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight)); // Note: should always use image's natural sizes for drawing as
    // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90

    var destMaxSizes = getAdjustedSizes({
      aspectRatio: imageAspectRatio,
      width: maxWidth,
      height: maxHeight
    });
    var destMinSizes = getAdjustedSizes({
      aspectRatio: imageAspectRatio,
      width: minWidth,
      height: minHeight
    }, 'cover');
    var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));
    var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));
    var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];
    canvas.width = normalizeDecimalNumber(width);
    canvas.height = normalizeDecimalNumber(height);
    context.fillStyle = fillColor;
    context.fillRect(0, 0, width, height);
    context.save();
    context.translate(width / 2, height / 2);
    context.rotate(rotate * Math.PI / 180);
    context.scale(scaleX, scaleY);
    context.imageSmoothingEnabled = imageSmoothingEnabled;
    context.imageSmoothingQuality = imageSmoothingQuality;
    context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function (param) {
      return Math.floor(normalizeDecimalNumber(param));
    }))));
    context.restore();
    return canvas;
  }
  var fromCharCode = String.fromCharCode;
  /**
   * Get string from char code in data view.
   * @param {DataView} dataView - The data view for read.
   * @param {number} start - The start index.
   * @param {number} length - The read length.
   * @returns {string} The read result.
   */

  function getStringFromCharCode(dataView, start, length) {
    var str = '';
    length += start;

    for (var i = start; i < length; i += 1) {
      str += fromCharCode(dataView.getUint8(i));
    }

    return str;
  }
  var REGEXP_DATA_URL_HEAD = /^data:.*,/;
  /**
   * Transform Data URL to array buffer.
   * @param {string} dataURL - The Data URL to transform.
   * @returns {ArrayBuffer} The result array buffer.
   */

  function dataURLToArrayBuffer(dataURL) {
    var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');
    var binary = atob(base64);
    var arrayBuffer = new ArrayBuffer(binary.length);
    var uint8 = new Uint8Array(arrayBuffer);
    forEach(uint8, function (value, i) {
      uint8[i] = binary.charCodeAt(i);
    });
    return arrayBuffer;
  }
  /**
   * Transform array buffer to Data URL.
   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.
   * @param {string} mimeType - The mime type of the Data URL.
   * @returns {string} The result Data URL.
   */

  function arrayBufferToDataURL(arrayBuffer, mimeType) {
    var chunks = []; // Chunk Typed Array for better performance (#435)

    var chunkSize = 8192;
    var uint8 = new Uint8Array(arrayBuffer);

    while (uint8.length > 0) {
      // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9
      // eslint-disable-next-line prefer-spread
      chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));
      uint8 = uint8.subarray(chunkSize);
    }

    return "data:".concat(mimeType, ";base64,").concat(btoa(chunks.join('')));
  }
  /**
   * Get orientation value from given array buffer.
   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.
   * @returns {number} The read orientation value.
   */

  function resetAndGetOrientation(arrayBuffer) {
    var dataView = new DataView(arrayBuffer);
    var orientation; // Ignores range error when the image does not have correct Exif information

    try {
      var littleEndian;
      var app1Start;
      var ifdStart; // Only handle JPEG image (start by 0xFFD8)

      if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {
        var length = dataView.byteLength;
        var offset = 2;

        while (offset + 1 < length) {
          if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {
            app1Start = offset;
            break;
          }

          offset += 1;
        }
      }

      if (app1Start) {
        var exifIDCode = app1Start + 4;
        var tiffOffset = app1Start + 10;

        if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {
          var endianness = dataView.getUint16(tiffOffset);
          littleEndian = endianness === 0x4949;

          if (littleEndian || endianness === 0x4D4D
          /* bigEndian */
          ) {
              if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {
                var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);

                if (firstIFDOffset >= 0x00000008) {
                  ifdStart = tiffOffset + firstIFDOffset;
                }
              }
            }
        }
      }

      if (ifdStart) {
        var _length = dataView.getUint16(ifdStart, littleEndian);

        var _offset;

        var i;

        for (i = 0; i < _length; i += 1) {
          _offset = ifdStart + i * 12 + 2;

          if (dataView.getUint16(_offset, littleEndian) === 0x0112
          /* Orientation */
          ) {
              // 8 is the offset of the current tag's value
              _offset += 8; // Get the original orientation value

              orientation = dataView.getUint16(_offset, littleEndian); // Override the orientation with its default value

              dataView.setUint16(_offset, 1, littleEndian);
              break;
            }
        }
      }
    } catch (error) {
      orientation = 1;
    }

    return orientation;
  }
  /**
   * Parse Exif Orientation value.
   * @param {number} orientation - The orientation to parse.
   * @returns {Object} The parsed result.
   */

  function parseOrientation(orientation) {
    var rotate = 0;
    var scaleX = 1;
    var scaleY = 1;

    switch (orientation) {
      // Flip horizontal
      case 2:
        scaleX = -1;
        break;
      // Rotate left 180°

      case 3:
        rotate = -180;
        break;
      // Flip vertical

      case 4:
        scaleY = -1;
        break;
      // Flip vertical and rotate right 90°

      case 5:
        rotate = 90;
        scaleY = -1;
        break;
      // Rotate right 90°

      case 6:
        rotate = 90;
        break;
      // Flip horizontal and rotate right 90°

      case 7:
        rotate = 90;
        scaleX = -1;
        break;
      // Rotate left 90°

      case 8:
        rotate = -90;
        break;
    }

    return {
      rotate: rotate,
      scaleX: scaleX,
      scaleY: scaleY
    };
  }

  var render = {
    render: function render() {
      this.initContainer();
      this.initCanvas();
      this.initCropBox();
      this.renderCanvas();

      if (this.cropped) {
        this.renderCropBox();
      }
    },
    initContainer: function initContainer() {
      var element = this.element,
          options = this.options,
          container = this.container,
          cropper = this.cropper;
      addClass(cropper, CLASS_HIDDEN);
      removeClass(element, CLASS_HIDDEN);
      var containerData = {
        width: Math.max(container.offsetWidth, Number(options.minContainerWidth) || 200),
        height: Math.max(container.offsetHeight, Number(options.minContainerHeight) || 100)
      };
      this.containerData = containerData;
      setStyle(cropper, {
        width: containerData.width,
        height: containerData.height
      });
      addClass(element, CLASS_HIDDEN);
      removeClass(cropper, CLASS_HIDDEN);
    },
    // Canvas (image wrapper)
    initCanvas: function initCanvas() {
      var containerData = this.containerData,
          imageData = this.imageData;
      var viewMode = this.options.viewMode;
      var rotated = Math.abs(imageData.rotate) % 180 === 90;
      var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;
      var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;
      var aspectRatio = naturalWidth / naturalHeight;
      var canvasWidth = containerData.width;
      var canvasHeight = containerData.height;

      if (containerData.height * aspectRatio > containerData.width) {
        if (viewMode === 3) {
          canvasWidth = containerData.height * aspectRatio;
        } else {
          canvasHeight = containerData.width / aspectRatio;
        }
      } else if (viewMode === 3) {
        canvasHeight = containerData.width / aspectRatio;
      } else {
        canvasWidth = containerData.height * aspectRatio;
      }

      var canvasData = {
        aspectRatio: aspectRatio,
        naturalWidth: naturalWidth,
        naturalHeight: naturalHeight,
        width: canvasWidth,
        height: canvasHeight
      };
      canvasData.left = (containerData.width - canvasWidth) / 2;
      canvasData.top = (containerData.height - canvasHeight) / 2;
      canvasData.oldLeft = canvasData.left;
      canvasData.oldTop = canvasData.top;
      this.canvasData = canvasData;
      this.limited = viewMode === 1 || viewMode === 2;
      this.limitCanvas(true, true);
      this.initialImageData = assign({}, imageData);
      this.initialCanvasData = assign({}, canvasData);
    },
    limitCanvas: function limitCanvas(sizeLimited, positionLimited) {
      var options = this.options,
          containerData = this.containerData,
          canvasData = this.canvasData,
          cropBoxData = this.cropBoxData;
      var viewMode = options.viewMode;
      var aspectRatio = canvasData.aspectRatio;
      var cropped = this.cropped && cropBoxData;

      if (sizeLimited) {
        var minCanvasWidth = Number(options.minCanvasWidth) || 0;
        var minCanvasHeight = Number(options.minCanvasHeight) || 0;

        if (viewMode > 1) {
          minCanvasWidth = Math.max(minCanvasWidth, containerData.width);
          minCanvasHeight = Math.max(minCanvasHeight, containerData.height);

          if (viewMode === 3) {
            if (minCanvasHeight * aspectRatio > minCanvasWidth) {
              minCanvasWidth = minCanvasHeight * aspectRatio;
            } else {
              minCanvasHeight = minCanvasWidth / aspectRatio;
            }
          }
        } else if (viewMode > 0) {
          if (minCanvasWidth) {
            minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);
          } else if (minCanvasHeight) {
            minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);
          } else if (cropped) {
            minCanvasWidth = cropBoxData.width;
            minCanvasHeight = cropBoxData.height;

            if (minCanvasHeight * aspectRatio > minCanvasWidth) {
              minCanvasWidth = minCanvasHeight * aspectRatio;
            } else {
              minCanvasHeight = minCanvasWidth / aspectRatio;
            }
          }
        }

        var _getAdjustedSizes = getAdjustedSizes({
          aspectRatio: aspectRatio,
          width: minCanvasWidth,
          height: minCanvasHeight
        });

        minCanvasWidth = _getAdjustedSizes.width;
        minCanvasHeight = _getAdjustedSizes.height;
        canvasData.minWidth = minCanvasWidth;
        canvasData.minHeight = minCanvasHeight;
        canvasData.maxWidth = Infinity;
        canvasData.maxHeight = Infinity;
      }

      if (positionLimited) {
        if (viewMode > (cropped ? 0 : 1)) {
          var newCanvasLeft = containerData.width - canvasData.width;
          var newCanvasTop = containerData.height - canvasData.height;
          canvasData.minLeft = Math.min(0, newCanvasLeft);
          canvasData.minTop = Math.min(0, newCanvasTop);
          canvasData.maxLeft = Math.max(0, newCanvasLeft);
          canvasData.maxTop = Math.max(0, newCanvasTop);

          if (cropped && this.limited) {
            canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));
            canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));
            canvasData.maxLeft = cropBoxData.left;
            canvasData.maxTop = cropBoxData.top;

            if (viewMode === 2) {
              if (canvasData.width >= containerData.width) {
                canvasData.minLeft = Math.min(0, newCanvasLeft);
                canvasData.maxLeft = Math.max(0, newCanvasLeft);
              }

              if (canvasData.height >= containerData.height) {
                canvasData.minTop = Math.min(0, newCanvasTop);
                canvasData.maxTop = Math.max(0, newCanvasTop);
              }
            }
          }
        } else {
          canvasData.minLeft = -canvasData.width;
          canvasData.minTop = -canvasData.height;
          canvasData.maxLeft = containerData.width;
          canvasData.maxTop = containerData.height;
        }
      }
    },
    renderCanvas: function renderCanvas(changed, transformed) {
      var canvasData = this.canvasData,
          imageData = this.imageData;

      if (transformed) {
        var _getRotatedSizes = getRotatedSizes({
          width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),
          height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),
          degree: imageData.rotate || 0
        }),
            naturalWidth = _getRotatedSizes.width,
            naturalHeight = _getRotatedSizes.height;

        var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);
        var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);
        canvasData.left -= (width - canvasData.width) / 2;
        canvasData.top -= (height - canvasData.height) / 2;
        canvasData.width = width;
        canvasData.height = height;
        canvasData.aspectRatio = naturalWidth / naturalHeight;
        canvasData.naturalWidth = naturalWidth;
        canvasData.naturalHeight = naturalHeight;
        this.limitCanvas(true, false);
      }

      if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {
        canvasData.left = canvasData.oldLeft;
      }

      if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {
        canvasData.top = canvasData.oldTop;
      }

      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);
      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);
      this.limitCanvas(false, true);
      canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);
      canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);
      canvasData.oldLeft = canvasData.left;
      canvasData.oldTop = canvasData.top;
      setStyle(this.canvas, assign({
        width: canvasData.width,
        height: canvasData.height
      }, getTransforms({
        translateX: canvasData.left,
        translateY: canvasData.top
      })));
      this.renderImage(changed);

      if (this.cropped && this.limited) {
        this.limitCropBox(true, true);
      }
    },
    renderImage: function renderImage(changed) {
      var canvasData = this.canvasData,
          imageData = this.imageData;
      var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);
      var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);
      assign(imageData, {
        width: width,
        height: height,
        left: (canvasData.width - width) / 2,
        top: (canvasData.height - height) / 2
      });
      setStyle(this.image, assign({
        width: imageData.width,
        height: imageData.height
      }, getTransforms(assign({
        translateX: imageData.left,
        translateY: imageData.top
      }, imageData))));

      if (changed) {
        this.output();
      }
    },
    initCropBox: function initCropBox() {
      var options = this.options,
          canvasData = this.canvasData;
      var aspectRatio = options.aspectRatio || options.initialAspectRatio;
      var autoCropArea = Number(options.autoCropArea) || 0.8;
      var cropBoxData = {
        width: canvasData.width,
        height: canvasData.height
      };

      if (aspectRatio) {
        if (canvasData.height * aspectRatio > canvasData.width) {
          cropBoxData.height = cropBoxData.width / aspectRatio;
        } else {
          cropBoxData.width = cropBoxData.height * aspectRatio;
        }
      }

      this.cropBoxData = cropBoxData;
      this.limitCropBox(true, true); // Initialize auto crop area

      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);
      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight); // The width/height of auto crop area must large than "minWidth/Height"

      cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);
      cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);
      cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;
      cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;
      cropBoxData.oldLeft = cropBoxData.left;
      cropBoxData.oldTop = cropBoxData.top;
      this.initialCropBoxData = assign({}, cropBoxData);
    },
    limitCropBox: function limitCropBox(sizeLimited, positionLimited) {
      var options = this.options,
          containerData = this.containerData,
          canvasData = this.canvasData,
          cropBoxData = this.cropBoxData,
          limited = this.limited;
      var aspectRatio = options.aspectRatio;

      if (sizeLimited) {
        var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;
        var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;
        var maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width;
        var maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height; // The min/maxCropBoxWidth/Height must be less than container's width/height

        minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);
        minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);

        if (aspectRatio) {
          if (minCropBoxWidth && minCropBoxHeight) {
            if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {
              minCropBoxHeight = minCropBoxWidth / aspectRatio;
            } else {
              minCropBoxWidth = minCropBoxHeight * aspectRatio;
            }
          } else if (minCropBoxWidth) {
            minCropBoxHeight = minCropBoxWidth / aspectRatio;
          } else if (minCropBoxHeight) {
            minCropBoxWidth = minCropBoxHeight * aspectRatio;
          }

          if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {
            maxCropBoxHeight = maxCropBoxWidth / aspectRatio;
          } else {
            maxCropBoxWidth = maxCropBoxHeight * aspectRatio;
          }
        } // The minWidth/Height must be less than maxWidth/Height


        cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);
        cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);
        cropBoxData.maxWidth = maxCropBoxWidth;
        cropBoxData.maxHeight = maxCropBoxHeight;
      }

      if (positionLimited) {
        if (limited) {
          cropBoxData.minLeft = Math.max(0, canvasData.left);
          cropBoxData.minTop = Math.max(0, canvasData.top);
          cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;
          cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;
        } else {
          cropBoxData.minLeft = 0;
          cropBoxData.minTop = 0;
          cropBoxData.maxLeft = containerData.width - cropBoxData.width;
          cropBoxData.maxTop = containerData.height - cropBoxData.height;
        }
      }
    },
    renderCropBox: function renderCropBox() {
      var options = this.options,
          containerData = this.containerData,
          cropBoxData = this.cropBoxData;

      if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {
        cropBoxData.left = cropBoxData.oldLeft;
      }

      if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {
        cropBoxData.top = cropBoxData.oldTop;
      }

      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);
      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);
      this.limitCropBox(false, true);
      cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);
      cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);
      cropBoxData.oldLeft = cropBoxData.left;
      cropBoxData.oldTop = cropBoxData.top;

      if (options.movable && options.cropBoxMovable) {
        // Turn to move the canvas when the crop box is equal to the container
        setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);
      }

      setStyle(this.cropBox, assign({
        width: cropBoxData.width,
        height: cropBoxData.height
      }, getTransforms({
        translateX: cropBoxData.left,
        translateY: cropBoxData.top
      })));

      if (this.cropped && this.limited) {
        this.limitCanvas(true, true);
      }

      if (!this.disabled) {
        this.output();
      }
    },
    output: function output() {
      this.preview();
      dispatchEvent(this.element, EVENT_CROP, this.getData());
    }
  };

  var preview = {
    initPreview: function initPreview() {
      var element = this.element,
          crossOrigin = this.crossOrigin;
      var preview = this.options.preview;
      var url = crossOrigin ? this.crossOriginUrl : this.url;
      var alt = element.alt || 'The image to preview';
      var image = document.createElement('img');

      if (crossOrigin) {
        image.crossOrigin = crossOrigin;
      }

      image.src = url;
      image.alt = alt;
      this.viewBox.appendChild(image);
      this.viewBoxImage = image;

      if (!preview) {
        return;
      }

      var previews = preview;

      if (typeof preview === 'string') {
        previews = element.ownerDocument.querySelectorAll(preview);
      } else if (preview.querySelector) {
        previews = [preview];
      }

      this.previews = previews;
      forEach(previews, function (el) {
        var img = document.createElement('img'); // Save the original size for recover

        setData(el, DATA_PREVIEW, {
          width: el.offsetWidth,
          height: el.offsetHeight,
          html: el.innerHTML
        });

        if (crossOrigin) {
          img.crossOrigin = crossOrigin;
        }

        img.src = url;
        img.alt = alt;
        /**
         * Override img element styles
         * Add `display:block` to avoid margin top issue
         * Add `height:auto` to override `height` attribute on IE8
         * (Occur only when margin-top <= -height)
         */

        img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;"';
        el.innerHTML = '';
        el.appendChild(img);
      });
    },
    resetPreview: function resetPreview() {
      forEach(this.previews, function (element) {
        var data = getData(element, DATA_PREVIEW);
        setStyle(element, {
          width: data.width,
          height: data.height
        });
        element.innerHTML = data.html;
        removeData(element, DATA_PREVIEW);
      });
    },
    preview: function preview() {
      var imageData = this.imageData,
          canvasData = this.canvasData,
          cropBoxData = this.cropBoxData;
      var cropBoxWidth = cropBoxData.width,
          cropBoxHeight = cropBoxData.height;
      var width = imageData.width,
          height = imageData.height;
      var left = cropBoxData.left - canvasData.left - imageData.left;
      var top = cropBoxData.top - canvasData.top - imageData.top;

      if (!this.cropped || this.disabled) {
        return;
      }

      setStyle(this.viewBoxImage, assign({
        width: width,
        height: height
      }, getTransforms(assign({
        translateX: -left,
        translateY: -top
      }, imageData))));
      forEach(this.previews, function (element) {
        var data = getData(element, DATA_PREVIEW);
        var originalWidth = data.width;
        var originalHeight = data.height;
        var newWidth = originalWidth;
        var newHeight = originalHeight;
        var ratio = 1;

        if (cropBoxWidth) {
          ratio = originalWidth / cropBoxWidth;
          newHeight = cropBoxHeight * ratio;
        }

        if (cropBoxHeight && newHeight > originalHeight) {
          ratio = originalHeight / cropBoxHeight;
          newWidth = cropBoxWidth * ratio;
          newHeight = originalHeight;
        }

        setStyle(element, {
          width: newWidth,
          height: newHeight
        });
        setStyle(element.getElementsByTagName('img')[0], assign({
          width: width * ratio,
          height: height * ratio
        }, getTransforms(assign({
          translateX: -left * ratio,
          translateY: -top * ratio
        }, imageData))));
      });
    }
  };

  var events = {
    bind: function bind() {
      var element = this.element,
          options = this.options,
          cropper = this.cropper;

      if (isFunction(options.cropstart)) {
        addListener(element, EVENT_CROP_START, options.cropstart);
      }

      if (isFunction(options.cropmove)) {
        addListener(element, EVENT_CROP_MOVE, options.cropmove);
      }

      if (isFunction(options.cropend)) {
        addListener(element, EVENT_CROP_END, options.cropend);
      }

      if (isFunction(options.crop)) {
        addListener(element, EVENT_CROP, options.crop);
      }

      if (isFunction(options.zoom)) {
        addListener(element, EVENT_ZOOM, options.zoom);
      }

      addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));

      if (options.zoomable && options.zoomOnWheel) {
        addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {
          passive: false,
          capture: true
        });
      }

      if (options.toggleDragModeOnDblclick) {
        addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));
      }

      addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));
      addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));

      if (options.responsive) {
        addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));
      }
    },
    unbind: function unbind() {
      var element = this.element,
          options = this.options,
          cropper = this.cropper;

      if (isFunction(options.cropstart)) {
        removeListener(element, EVENT_CROP_START, options.cropstart);
      }

      if (isFunction(options.cropmove)) {
        removeListener(element, EVENT_CROP_MOVE, options.cropmove);
      }

      if (isFunction(options.cropend)) {
        removeListener(element, EVENT_CROP_END, options.cropend);
      }

      if (isFunction(options.crop)) {
        removeListener(element, EVENT_CROP, options.crop);
      }

      if (isFunction(options.zoom)) {
        removeListener(element, EVENT_ZOOM, options.zoom);
      }

      removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);

      if (options.zoomable && options.zoomOnWheel) {
        removeListener(cropper, EVENT_WHEEL, this.onWheel, {
          passive: false,
          capture: true
        });
      }

      if (options.toggleDragModeOnDblclick) {
        removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);
      }

      removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);
      removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);

      if (options.responsive) {
        removeListener(window, EVENT_RESIZE, this.onResize);
      }
    }
  };

  var handlers = {
    resize: function resize() {
      if (this.disabled) {
        return;
      }

      var options = this.options,
          container = this.container,
          containerData = this.containerData;
      var ratio = container.offsetWidth / containerData.width; // Resize when width changed or height changed

      if (ratio !== 1 || container.offsetHeight !== containerData.height) {
        var canvasData;
        var cropBoxData;

        if (options.restore) {
          canvasData = this.getCanvasData();
          cropBoxData = this.getCropBoxData();
        }

        this.render();

        if (options.restore) {
          this.setCanvasData(forEach(canvasData, function (n, i) {
            canvasData[i] = n * ratio;
          }));
          this.setCropBoxData(forEach(cropBoxData, function (n, i) {
            cropBoxData[i] = n * ratio;
          }));
        }
      }
    },
    dblclick: function dblclick() {
      if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {
        return;
      }

      this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);
    },
    wheel: function wheel(event) {
      var _this = this;

      var ratio = Number(this.options.wheelZoomRatio) || 0.1;
      var delta = 1;

      if (this.disabled) {
        return;
      }

      event.preventDefault(); // Limit wheel speed to prevent zoom too fast (#21)

      if (this.wheeling) {
        return;
      }

      this.wheeling = true;
      setTimeout(function () {
        _this.wheeling = false;
      }, 50);

      if (event.deltaY) {
        delta = event.deltaY > 0 ? 1 : -1;
      } else if (event.wheelDelta) {
        delta = -event.wheelDelta / 120;
      } else if (event.detail) {
        delta = event.detail > 0 ? 1 : -1;
      }

      this.zoom(-delta * ratio, event);
    },
    cropStart: function cropStart(event) {
      var buttons = event.buttons,
          button = event.button;

      if (this.disabled // Handle mouse event and pointer event and ignore touch event
      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && ( // No primary button (Usually the left button)
      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0 // Open context menu
      || event.ctrlKey)) {
        return;
      }

      var options = this.options,
          pointers = this.pointers;
      var action;

      if (event.changedTouches) {
        // Handle touch event
        forEach(event.changedTouches, function (touch) {
          pointers[touch.identifier] = getPointer(touch);
        });
      } else {
        // Handle mouse event and pointer event
        pointers[event.pointerId || 0] = getPointer(event);
      }

      if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {
        action = ACTION_ZOOM;
      } else {
        action = getData(event.target, DATA_ACTION);
      }

      if (!REGEXP_ACTIONS.test(action)) {
        return;
      }

      if (dispatchEvent(this.element, EVENT_CROP_START, {
        originalEvent: event,
        action: action
      }) === false) {
        return;
      } // This line is required for preventing page zooming in iOS browsers


      event.preventDefault();
      this.action = action;
      this.cropping = false;

      if (action === ACTION_CROP) {
        this.cropping = true;
        addClass(this.dragBox, CLASS_MODAL);
      }
    },
    cropMove: function cropMove(event) {
      var action = this.action;

      if (this.disabled || !action) {
        return;
      }

      var pointers = this.pointers;
      event.preventDefault();

      if (dispatchEvent(this.element, EVENT_CROP_MOVE, {
        originalEvent: event,
        action: action
      }) === false) {
        return;
      }

      if (event.changedTouches) {
        forEach(event.changedTouches, function (touch) {
          // The first parameter should not be undefined (#432)
          assign(pointers[touch.identifier] || {}, getPointer(touch, true));
        });
      } else {
        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));
      }

      this.change(event);
    },
    cropEnd: function cropEnd(event) {
      if (this.disabled) {
        return;
      }

      var action = this.action,
          pointers = this.pointers;

      if (event.changedTouches) {
        forEach(event.changedTouches, function (touch) {
          delete pointers[touch.identifier];
        });
      } else {
        delete pointers[event.pointerId || 0];
      }

      if (!action) {
        return;
      }

      event.preventDefault();

      if (!Object.keys(pointers).length) {
        this.action = '';
      }

      if (this.cropping) {
        this.cropping = false;
        toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);
      }

      dispatchEvent(this.element, EVENT_CROP_END, {
        originalEvent: event,
        action: action
      });
    }
  };

  var change = {
    change: function change(event) {
      var options = this.options,
          canvasData = this.canvasData,
          containerData = this.containerData,
          cropBoxData = this.cropBoxData,
          pointers = this.pointers;
      var action = this.action;
      var aspectRatio = options.aspectRatio;
      var left = cropBoxData.left,
          top = cropBoxData.top,
          width = cropBoxData.width,
          height = cropBoxData.height;
      var right = left + width;
      var bottom = top + height;
      var minLeft = 0;
      var minTop = 0;
      var maxWidth = containerData.width;
      var maxHeight = containerData.height;
      var renderable = true;
      var offset; // Locking aspect ratio in "free mode" by holding shift key

      if (!aspectRatio && event.shiftKey) {
        aspectRatio = width && height ? width / height : 1;
      }

      if (this.limited) {
        minLeft = cropBoxData.minLeft;
        minTop = cropBoxData.minTop;
        maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);
        maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);
      }

      var pointer = pointers[Object.keys(pointers)[0]];
      var range = {
        x: pointer.endX - pointer.startX,
        y: pointer.endY - pointer.startY
      };

      var check = function check(side) {
        switch (side) {
          case ACTION_EAST:
            if (right + range.x > maxWidth) {
              range.x = maxWidth - right;
            }

            break;

          case ACTION_WEST:
            if (left + range.x < minLeft) {
              range.x = minLeft - left;
            }

            break;

          case ACTION_NORTH:
            if (top + range.y < minTop) {
              range.y = minTop - top;
            }

            break;

          case ACTION_SOUTH:
            if (bottom + range.y > maxHeight) {
              range.y = maxHeight - bottom;
            }

            break;
        }
      };

      switch (action) {
        // Move crop box
        case ACTION_ALL:
          left += range.x;
          top += range.y;
          break;
        // Resize crop box

        case ACTION_EAST:
          if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {
            renderable = false;
            break;
          }

          check(ACTION_EAST);
          width += range.x;

          if (width < 0) {
            action = ACTION_WEST;
            width = -width;
            left -= width;
          }

          if (aspectRatio) {
            height = width / aspectRatio;
            top += (cropBoxData.height - height) / 2;
          }

          break;

        case ACTION_NORTH:
          if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {
            renderable = false;
            break;
          }

          check(ACTION_NORTH);
          height -= range.y;
          top += range.y;

          if (height < 0) {
            action = ACTION_SOUTH;
            height = -height;
            top -= height;
          }

          if (aspectRatio) {
            width = height * aspectRatio;
            left += (cropBoxData.width - width) / 2;
          }

          break;

        case ACTION_WEST:
          if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {
            renderable = false;
            break;
          }

          check(ACTION_WEST);
          width -= range.x;
          left += range.x;

          if (width < 0) {
            action = ACTION_EAST;
            width = -width;
            left -= width;
          }

          if (aspectRatio) {
            height = width / aspectRatio;
            top += (cropBoxData.height - height) / 2;
          }

          break;

        case ACTION_SOUTH:
          if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {
            renderable = false;
            break;
          }

          check(ACTION_SOUTH);
          height += range.y;

          if (height < 0) {
            action = ACTION_NORTH;
            height = -height;
            top -= height;
          }

          if (aspectRatio) {
            width = height * aspectRatio;
            left += (cropBoxData.width - width) / 2;
          }

          break;

        case ACTION_NORTH_EAST:
          if (aspectRatio) {
            if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {
              renderable = false;
              break;
            }

            check(ACTION_NORTH);
            height -= range.y;
            top += range.y;
            width = height * aspectRatio;
          } else {
            check(ACTION_NORTH);
            check(ACTION_EAST);

            if (range.x >= 0) {
              if (right < maxWidth) {
                width += range.x;
              } else if (range.y <= 0 && top <= minTop) {
                renderable = false;
              }
            } else {
              width += range.x;
            }

            if (range.y <= 0) {
              if (top > minTop) {
                height -= range.y;
                top += range.y;
              }
            } else {
              height -= range.y;
              top += range.y;
            }
          }

          if (width < 0 && height < 0) {
            action = ACTION_SOUTH_WEST;
            height = -height;
            width = -width;
            top -= height;
            left -= width;
          } else if (width < 0) {
            action = ACTION_NORTH_WEST;
            width = -width;
            left -= width;
          } else if (height < 0) {
            action = ACTION_SOUTH_EAST;
            height = -height;
            top -= height;
          }

          break;

        case ACTION_NORTH_WEST:
          if (aspectRatio) {
            if (range.y <= 0 && (top <= minTop || left <= minLeft)) {
              renderable = false;
              break;
            }

            check(ACTION_NORTH);
            height -= range.y;
            top += range.y;
            width = height * aspectRatio;
            left += cropBoxData.width - width;
          } else {
            check(ACTION_NORTH);
            check(ACTION_WEST);

            if (range.x <= 0) {
              if (left > minLeft) {
                width -= range.x;
                left += range.x;
              } else if (range.y <= 0 && top <= minTop) {
                renderable = false;
              }
            } else {
              width -= range.x;
              left += range.x;
            }

            if (range.y <= 0) {
              if (top > minTop) {
                height -= range.y;
                top += range.y;
              }
            } else {
              height -= range.y;
              top += range.y;
            }
          }

          if (width < 0 && height < 0) {
            action = ACTION_SOUTH_EAST;
            height = -height;
            width = -width;
            top -= height;
            left -= width;
          } else if (width < 0) {
            action = ACTION_NORTH_EAST;
            width = -width;
            left -= width;
          } else if (height < 0) {
            action = ACTION_SOUTH_WEST;
            height = -height;
            top -= height;
          }

          break;

        case ACTION_SOUTH_WEST:
          if (aspectRatio) {
            if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {
              renderable = false;
              break;
            }

            check(ACTION_WEST);
            width -= range.x;
            left += range.x;
            height = width / aspectRatio;
          } else {
            check(ACTION_SOUTH);
            check(ACTION_WEST);

            if (range.x <= 0) {
              if (left > minLeft) {
                width -= range.x;
                left += range.x;
              } else if (range.y >= 0 && bottom >= maxHeight) {
                renderable = false;
              }
            } else {
              width -= range.x;
              left += range.x;
            }

            if (range.y >= 0) {
              if (bottom < maxHeight) {
                height += range.y;
              }
            } else {
              height += range.y;
            }
          }

          if (width < 0 && height < 0) {
            action = ACTION_NORTH_EAST;
            height = -height;
            width = -width;
            top -= height;
            left -= width;
          } else if (width < 0) {
            action = ACTION_SOUTH_EAST;
            width = -width;
            left -= width;
          } else if (height < 0) {
            action = ACTION_NORTH_WEST;
            height = -height;
            top -= height;
          }

          break;

        case ACTION_SOUTH_EAST:
          if (aspectRatio) {
            if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {
              renderable = false;
              break;
            }

            check(ACTION_EAST);
            width += range.x;
            height = width / aspectRatio;
          } else {
            check(ACTION_SOUTH);
            check(ACTION_EAST);

            if (range.x >= 0) {
              if (right < maxWidth) {
                width += range.x;
              } else if (range.y >= 0 && bottom >= maxHeight) {
                renderable = false;
              }
            } else {
              width += range.x;
            }

            if (range.y >= 0) {
              if (bottom < maxHeight) {
                height += range.y;
              }
            } else {
              height += range.y;
            }
          }

          if (width < 0 && height < 0) {
            action = ACTION_NORTH_WEST;
            height = -height;
            width = -width;
            top -= height;
            left -= width;
          } else if (width < 0) {
            action = ACTION_SOUTH_WEST;
            width = -width;
            left -= width;
          } else if (height < 0) {
            action = ACTION_NORTH_EAST;
            height = -height;
            top -= height;
          }

          break;
        // Move canvas

        case ACTION_MOVE:
          this.move(range.x, range.y);
          renderable = false;
          break;
        // Zoom canvas

        case ACTION_ZOOM:
          this.zoom(getMaxZoomRatio(pointers), event);
          renderable = false;
          break;
        // Create crop box

        case ACTION_CROP:
          if (!range.x || !range.y) {
            renderable = false;
            break;
          }

          offset = getOffset(this.cropper);
          left = pointer.startX - offset.left;
          top = pointer.startY - offset.top;
          width = cropBoxData.minWidth;
          height = cropBoxData.minHeight;

          if (range.x > 0) {
            action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;
          } else if (range.x < 0) {
            left -= width;
            action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;
          }

          if (range.y < 0) {
            top -= height;
          } // Show the crop box if is hidden


          if (!this.cropped) {
            removeClass(this.cropBox, CLASS_HIDDEN);
            this.cropped = true;

            if (this.limited) {
              this.limitCropBox(true, true);
            }
          }

          break;
      }

      if (renderable) {
        cropBoxData.width = width;
        cropBoxData.height = height;
        cropBoxData.left = left;
        cropBoxData.top = top;
        this.action = action;
        this.renderCropBox();
      } // Override


      forEach(pointers, function (p) {
        p.startX = p.endX;
        p.startY = p.endY;
      });
    }
  };

  var methods = {
    // Show the crop box manually
    crop: function crop() {
      if (this.ready && !this.cropped && !this.disabled) {
        this.cropped = true;
        this.limitCropBox(true, true);

        if (this.options.modal) {
          addClass(this.dragBox, CLASS_MODAL);
        }

        removeClass(this.cropBox, CLASS_HIDDEN);
        this.setCropBoxData(this.initialCropBoxData);
      }

      return this;
    },
    // Reset the image and crop box to their initial states
    reset: function reset() {
      if (this.ready && !this.disabled) {
        this.imageData = assign({}, this.initialImageData);
        this.canvasData = assign({}, this.initialCanvasData);
        this.cropBoxData = assign({}, this.initialCropBoxData);
        this.renderCanvas();

        if (this.cropped) {
          this.renderCropBox();
        }
      }

      return this;
    },
    // Clear the crop box
    clear: function clear() {
      if (this.cropped && !this.disabled) {
        assign(this.cropBoxData, {
          left: 0,
          top: 0,
          width: 0,
          height: 0
        });
        this.cropped = false;
        this.renderCropBox();
        this.limitCanvas(true, true); // Render canvas after crop box rendered

        this.renderCanvas();
        removeClass(this.dragBox, CLASS_MODAL);
        addClass(this.cropBox, CLASS_HIDDEN);
      }

      return this;
    },

    /**
     * Replace the image's src and rebuild the cropper
     * @param {string} url - The new URL.
     * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.
     * @returns {Cropper} this
     */
    replace: function replace(url) {
      var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (!this.disabled && url) {
        if (this.isImg) {
          this.element.src = url;
        }

        if (hasSameSize) {
          this.url = url;
          this.image.src = url;

          if (this.ready) {
            this.viewBoxImage.src = url;
            forEach(this.previews, function (element) {
              element.getElementsByTagName('img')[0].src = url;
            });
          }
        } else {
          if (this.isImg) {
            this.replaced = true;
          }

          this.options.data = null;
          this.uncreate();
          this.load(url);
        }
      }

      return this;
    },
    // Enable (unfreeze) the cropper
    enable: function enable() {
      if (this.ready && this.disabled) {
        this.disabled = false;
        removeClass(this.cropper, CLASS_DISABLED);
      }

      return this;
    },
    // Disable (freeze) the cropper
    disable: function disable() {
      if (this.ready && !this.disabled) {
        this.disabled = true;
        addClass(this.cropper, CLASS_DISABLED);
      }

      return this;
    },

    /**
     * Destroy the cropper and remove the instance from the image
     * @returns {Cropper} this
     */
    destroy: function destroy() {
      var element = this.element;

      if (!element[NAMESPACE]) {
        return this;
      }

      element[NAMESPACE] = undefined;

      if (this.isImg && this.replaced) {
        element.src = this.originalUrl;
      }

      this.uncreate();
      return this;
    },

    /**
     * Move the canvas with relative offsets
     * @param {number} offsetX - The relative offset distance on the x-axis.
     * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.
     * @returns {Cropper} this
     */
    move: function move(offsetX) {
      var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;
      var _this$canvasData = this.canvasData,
          left = _this$canvasData.left,
          top = _this$canvasData.top;
      return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));
    },

    /**
     * Move the canvas to an absolute point
     * @param {number} x - The x-axis coordinate.
     * @param {number} [y=x] - The y-axis coordinate.
     * @returns {Cropper} this
     */
    moveTo: function moveTo(x) {
      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;
      var canvasData = this.canvasData;
      var changed = false;
      x = Number(x);
      y = Number(y);

      if (this.ready && !this.disabled && this.options.movable) {
        if (isNumber(x)) {
          canvasData.left = x;
          changed = true;
        }

        if (isNumber(y)) {
          canvasData.top = y;
          changed = true;
        }

        if (changed) {
          this.renderCanvas(true);
        }
      }

      return this;
    },

    /**
     * Zoom the canvas with a relative ratio
     * @param {number} ratio - The target ratio.
     * @param {Event} _originalEvent - The original event if any.
     * @returns {Cropper} this
     */
    zoom: function zoom(ratio, _originalEvent) {
      var canvasData = this.canvasData;
      ratio = Number(ratio);

      if (ratio < 0) {
        ratio = 1 / (1 - ratio);
      } else {
        ratio = 1 + ratio;
      }

      return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);
    },

    /**
     * Zoom the canvas to an absolute ratio
     * @param {number} ratio - The target ratio.
     * @param {Object} pivot - The zoom pivot point coordinate.
     * @param {Event} _originalEvent - The original event if any.
     * @returns {Cropper} this
     */
    zoomTo: function zoomTo(ratio, pivot, _originalEvent) {
      var options = this.options,
          canvasData = this.canvasData;
      var width = canvasData.width,
          height = canvasData.height,
          naturalWidth = canvasData.naturalWidth,
          naturalHeight = canvasData.naturalHeight;
      ratio = Number(ratio);

      if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {
        var newWidth = naturalWidth * ratio;
        var newHeight = naturalHeight * ratio;

        if (dispatchEvent(this.element, EVENT_ZOOM, {
          ratio: ratio,
          oldRatio: width / naturalWidth,
          originalEvent: _originalEvent
        }) === false) {
          return this;
        }

        if (_originalEvent) {
          var pointers = this.pointers;
          var offset = getOffset(this.cropper);
          var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {
            pageX: _originalEvent.pageX,
            pageY: _originalEvent.pageY
          }; // Zoom from the triggering point of the event

          canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);
          canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);
        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {
          canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);
          canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);
        } else {
          // Zoom from the center of the canvas
          canvasData.left -= (newWidth - width) / 2;
          canvasData.top -= (newHeight - height) / 2;
        }

        canvasData.width = newWidth;
        canvasData.height = newHeight;
        this.renderCanvas(true);
      }

      return this;
    },

    /**
     * Rotate the canvas with a relative degree
     * @param {number} degree - The rotate degree.
     * @returns {Cropper} this
     */
    rotate: function rotate(degree) {
      return this.rotateTo((this.imageData.rotate || 0) + Number(degree));
    },

    /**
     * Rotate the canvas to an absolute degree
     * @param {number} degree - The rotate degree.
     * @returns {Cropper} this
     */
    rotateTo: function rotateTo(degree) {
      degree = Number(degree);

      if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {
        this.imageData.rotate = degree % 360;
        this.renderCanvas(true, true);
      }

      return this;
    },

    /**
     * Scale the image on the x-axis.
     * @param {number} scaleX - The scale ratio on the x-axis.
     * @returns {Cropper} this
     */
    scaleX: function scaleX(_scaleX) {
      var scaleY = this.imageData.scaleY;
      return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);
    },

    /**
     * Scale the image on the y-axis.
     * @param {number} scaleY - The scale ratio on the y-axis.
     * @returns {Cropper} this
     */
    scaleY: function scaleY(_scaleY) {
      var scaleX = this.imageData.scaleX;
      return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);
    },

    /**
     * Scale the image
     * @param {number} scaleX - The scale ratio on the x-axis.
     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.
     * @returns {Cropper} this
     */
    scale: function scale(scaleX) {
      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;
      var imageData = this.imageData;
      var transformed = false;
      scaleX = Number(scaleX);
      scaleY = Number(scaleY);

      if (this.ready && !this.disabled && this.options.scalable) {
        if (isNumber(scaleX)) {
          imageData.scaleX = scaleX;
          transformed = true;
        }

        if (isNumber(scaleY)) {
          imageData.scaleY = scaleY;
          transformed = true;
        }

        if (transformed) {
          this.renderCanvas(true, true);
        }
      }

      return this;
    },

    /**
     * Get the cropped area position and size data (base on the original image)
     * @param {boolean} [rounded=false] - Indicate if round the data values or not.
     * @returns {Object} The result cropped data.
     */
    getData: function getData() {
      var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      var options = this.options,
          imageData = this.imageData,
          canvasData = this.canvasData,
          cropBoxData = this.cropBoxData;
      var data;

      if (this.ready && this.cropped) {
        data = {
          x: cropBoxData.left - canvasData.left,
          y: cropBoxData.top - canvasData.top,
          width: cropBoxData.width,
          height: cropBoxData.height
        };
        var ratio = imageData.width / imageData.naturalWidth;
        forEach(data, function (n, i) {
          data[i] = n / ratio;
        });

        if (rounded) {
          // In case rounding off leads to extra 1px in right or bottom border
          // we should round the top-left corner and the dimension (#343).
          var bottom = Math.round(data.y + data.height);
          var right = Math.round(data.x + data.width);
          data.x = Math.round(data.x);
          data.y = Math.round(data.y);
          data.width = right - data.x;
          data.height = bottom - data.y;
        }
      } else {
        data = {
          x: 0,
          y: 0,
          width: 0,
          height: 0
        };
      }

      if (options.rotatable) {
        data.rotate = imageData.rotate || 0;
      }

      if (options.scalable) {
        data.scaleX = imageData.scaleX || 1;
        data.scaleY = imageData.scaleY || 1;
      }

      return data;
    },

    /**
     * Set the cropped area position and size with new data
     * @param {Object} data - The new data.
     * @returns {Cropper} this
     */
    setData: function setData(data) {
      var options = this.options,
          imageData = this.imageData,
          canvasData = this.canvasData;
      var cropBoxData = {};

      if (this.ready && !this.disabled && isPlainObject(data)) {
        var transformed = false;

        if (options.rotatable) {
          if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {
            imageData.rotate = data.rotate;
            transformed = true;
          }
        }

        if (options.scalable) {
          if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {
            imageData.scaleX = data.scaleX;
            transformed = true;
          }

          if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {
            imageData.scaleY = data.scaleY;
            transformed = true;
          }
        }

        if (transformed) {
          this.renderCanvas(true, true);
        }

        var ratio = imageData.width / imageData.naturalWidth;

        if (isNumber(data.x)) {
          cropBoxData.left = data.x * ratio + canvasData.left;
        }

        if (isNumber(data.y)) {
          cropBoxData.top = data.y * ratio + canvasData.top;
        }

        if (isNumber(data.width)) {
          cropBoxData.width = data.width * ratio;
        }

        if (isNumber(data.height)) {
          cropBoxData.height = data.height * ratio;
        }

        this.setCropBoxData(cropBoxData);
      }

      return this;
    },

    /**
     * Get the container size data.
     * @returns {Object} The result container data.
     */
    getContainerData: function getContainerData() {
      return this.ready ? assign({}, this.containerData) : {};
    },

    /**
     * Get the image position and size data.
     * @returns {Object} The result image data.
     */
    getImageData: function getImageData() {
      return this.sized ? assign({}, this.imageData) : {};
    },

    /**
     * Get the canvas position and size data.
     * @returns {Object} The result canvas data.
     */
    getCanvasData: function getCanvasData() {
      var canvasData = this.canvasData;
      var data = {};

      if (this.ready) {
        forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {
          data[n] = canvasData[n];
        });
      }

      return data;
    },

    /**
     * Set the canvas position and size with new data.
     * @param {Object} data - The new canvas data.
     * @returns {Cropper} this
     */
    setCanvasData: function setCanvasData(data) {
      var canvasData = this.canvasData;
      var aspectRatio = canvasData.aspectRatio;

      if (this.ready && !this.disabled && isPlainObject(data)) {
        if (isNumber(data.left)) {
          canvasData.left = data.left;
        }

        if (isNumber(data.top)) {
          canvasData.top = data.top;
        }

        if (isNumber(data.width)) {
          canvasData.width = data.width;
          canvasData.height = data.width / aspectRatio;
        } else if (isNumber(data.height)) {
          canvasData.height = data.height;
          canvasData.width = data.height * aspectRatio;
        }

        this.renderCanvas(true);
      }

      return this;
    },

    /**
     * Get the crop box position and size data.
     * @returns {Object} The result crop box data.
     */
    getCropBoxData: function getCropBoxData() {
      var cropBoxData = this.cropBoxData;
      var data;

      if (this.ready && this.cropped) {
        data = {
          left: cropBoxData.left,
          top: cropBoxData.top,
          width: cropBoxData.width,
          height: cropBoxData.height
        };
      }

      return data || {};
    },

    /**
     * Set the crop box position and size with new data.
     * @param {Object} data - The new crop box data.
     * @returns {Cropper} this
     */
    setCropBoxData: function setCropBoxData(data) {
      var cropBoxData = this.cropBoxData;
      var aspectRatio = this.options.aspectRatio;
      var widthChanged;
      var heightChanged;

      if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {
        if (isNumber(data.left)) {
          cropBoxData.left = data.left;
        }

        if (isNumber(data.top)) {
          cropBoxData.top = data.top;
        }

        if (isNumber(data.width) && data.width !== cropBoxData.width) {
          widthChanged = true;
          cropBoxData.width = data.width;
        }

        if (isNumber(data.height) && data.height !== cropBoxData.height) {
          heightChanged = true;
          cropBoxData.height = data.height;
        }

        if (aspectRatio) {
          if (widthChanged) {
            cropBoxData.height = cropBoxData.width / aspectRatio;
          } else if (heightChanged) {
            cropBoxData.width = cropBoxData.height * aspectRatio;
          }
        }

        this.renderCropBox();
      }

      return this;
    },

    /**
     * Get a canvas drawn the cropped image.
     * @param {Object} [options={}] - The config options.
     * @returns {HTMLCanvasElement} - The result canvas.
     */
    getCroppedCanvas: function getCroppedCanvas() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

      if (!this.ready || !window.HTMLCanvasElement) {
        return null;
      }

      var canvasData = this.canvasData;
      var source = getSourceCanvas(this.image, this.imageData, canvasData, options); // Returns the source canvas if it is not cropped.

      if (!this.cropped) {
        return source;
      }

      var _this$getData = this.getData(),
          initialX = _this$getData.x,
          initialY = _this$getData.y,
          initialWidth = _this$getData.width,
          initialHeight = _this$getData.height;

      var ratio = source.width / Math.floor(canvasData.naturalWidth);

      if (ratio !== 1) {
        initialX *= ratio;
        initialY *= ratio;
        initialWidth *= ratio;
        initialHeight *= ratio;
      }

      var aspectRatio = initialWidth / initialHeight;
      var maxSizes = getAdjustedSizes({
        aspectRatio: aspectRatio,
        width: options.maxWidth || Infinity,
        height: options.maxHeight || Infinity
      });
      var minSizes = getAdjustedSizes({
        aspectRatio: aspectRatio,
        width: options.minWidth || 0,
        height: options.minHeight || 0
      }, 'cover');

      var _getAdjustedSizes = getAdjustedSizes({
        aspectRatio: aspectRatio,
        width: options.width || (ratio !== 1 ? source.width : initialWidth),
        height: options.height || (ratio !== 1 ? source.height : initialHeight)
      }),
          width = _getAdjustedSizes.width,
          height = _getAdjustedSizes.height;

      width = Math.min(maxSizes.width, Math.max(minSizes.width, width));
      height = Math.min(maxSizes.height, Math.max(minSizes.height, height));
      var canvas = document.createElement('canvas');
      var context = canvas.getContext('2d');
      canvas.width = normalizeDecimalNumber(width);
      canvas.height = normalizeDecimalNumber(height);
      context.fillStyle = options.fillColor || 'transparent';
      context.fillRect(0, 0, width, height);
      var _options$imageSmoothi = options.imageSmoothingEnabled,
          imageSmoothingEnabled = _options$imageSmoothi === void 0 ? true : _options$imageSmoothi,
          imageSmoothingQuality = options.imageSmoothingQuality;
      context.imageSmoothingEnabled = imageSmoothingEnabled;

      if (imageSmoothingQuality) {
        context.imageSmoothingQuality = imageSmoothingQuality;
      } // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage


      var sourceWidth = source.width;
      var sourceHeight = source.height; // Source canvas parameters

      var srcX = initialX;
      var srcY = initialY;
      var srcWidth;
      var srcHeight; // Destination canvas parameters

      var dstX;
      var dstY;
      var dstWidth;
      var dstHeight;

      if (srcX <= -initialWidth || srcX > sourceWidth) {
        srcX = 0;
        srcWidth = 0;
        dstX = 0;
        dstWidth = 0;
      } else if (srcX <= 0) {
        dstX = -srcX;
        srcX = 0;
        srcWidth = Math.min(sourceWidth, initialWidth + srcX);
        dstWidth = srcWidth;
      } else if (srcX <= sourceWidth) {
        dstX = 0;
        srcWidth = Math.min(initialWidth, sourceWidth - srcX);
        dstWidth = srcWidth;
      }

      if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {
        srcY = 0;
        srcHeight = 0;
        dstY = 0;
        dstHeight = 0;
      } else if (srcY <= 0) {
        dstY = -srcY;
        srcY = 0;
        srcHeight = Math.min(sourceHeight, initialHeight + srcY);
        dstHeight = srcHeight;
      } else if (srcY <= sourceHeight) {
        dstY = 0;
        srcHeight = Math.min(initialHeight, sourceHeight - srcY);
        dstHeight = srcHeight;
      }

      var params = [srcX, srcY, srcWidth, srcHeight]; // Avoid "IndexSizeError"

      if (dstWidth > 0 && dstHeight > 0) {
        var scale = width / initialWidth;
        params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);
      } // All the numerical parameters should be integer for `drawImage`
      // https://github.com/fengyuanchen/cropper/issues/476


      context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function (param) {
        return Math.floor(normalizeDecimalNumber(param));
      }))));
      return canvas;
    },

    /**
     * Change the aspect ratio of the crop box.
     * @param {number} aspectRatio - The new aspect ratio.
     * @returns {Cropper} this
     */
    setAspectRatio: function setAspectRatio(aspectRatio) {
      var options = this.options;

      if (!this.disabled && !isUndefined(aspectRatio)) {
        // 0 -> NaN
        options.aspectRatio = Math.max(0, aspectRatio) || NaN;

        if (this.ready) {
          this.initCropBox();

          if (this.cropped) {
            this.renderCropBox();
          }
        }
      }

      return this;
    },

    /**
     * Change the drag mode.
     * @param {string} mode - The new drag mode.
     * @returns {Cropper} this
     */
    setDragMode: function setDragMode(mode) {
      var options = this.options,
          dragBox = this.dragBox,
          face = this.face;

      if (this.ready && !this.disabled) {
        var croppable = mode === DRAG_MODE_CROP;
        var movable = options.movable && mode === DRAG_MODE_MOVE;
        mode = croppable || movable ? mode : DRAG_MODE_NONE;
        options.dragMode = mode;
        setData(dragBox, DATA_ACTION, mode);
        toggleClass(dragBox, CLASS_CROP, croppable);
        toggleClass(dragBox, CLASS_MOVE, movable);

        if (!options.cropBoxMovable) {
          // Sync drag mode to crop box when it is not movable
          setData(face, DATA_ACTION, mode);
          toggleClass(face, CLASS_CROP, croppable);
          toggleClass(face, CLASS_MOVE, movable);
        }
      }

      return this;
    }
  };

  var AnotherCropper = WINDOW.Cropper;

  var Cropper = /*#__PURE__*/function () {
    /**
     * Create a new Cropper.
     * @param {Element} element - The target element for cropping.
     * @param {Object} [options={}] - The configuration options.
     */
    function Cropper(element) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      _classCallCheck(this, Cropper);

      if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {
        throw new Error('The first argument is required and must be an <img> or <canvas> element.');
      }

      this.element = element;
      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);
      this.cropped = false;
      this.disabled = false;
      this.pointers = {};
      this.ready = false;
      this.reloading = false;
      this.replaced = false;
      this.sized = false;
      this.sizing = false;
      this.init();
    }

    _createClass(Cropper, [{
      key: "init",
      value: function init() {
        var element = this.element;
        var tagName = element.tagName.toLowerCase();
        var url;

        if (element[NAMESPACE]) {
          return;
        }

        element[NAMESPACE] = this;

        if (tagName === 'img') {
          this.isImg = true; // e.g.: "img/picture.jpg"

          url = element.getAttribute('src') || '';
          this.originalUrl = url; // Stop when it's a blank image

          if (!url) {
            return;
          } // e.g.: "https://example.com/img/picture.jpg"


          url = element.src;
        } else if (tagName === 'canvas' && window.HTMLCanvasElement) {
          url = element.toDataURL();
        }

        this.load(url);
      }
    }, {
      key: "load",
      value: function load(url) {
        var _this = this;

        if (!url) {
          return;
        }

        this.url = url;
        this.imageData = {};
        var element = this.element,
            options = this.options;

        if (!options.rotatable && !options.scalable) {
          options.checkOrientation = false;
        } // Only IE10+ supports Typed Arrays


        if (!options.checkOrientation || !window.ArrayBuffer) {
          this.clone();
          return;
        } // Detect the mime type of the image directly if it is a Data URL


        if (REGEXP_DATA_URL.test(url)) {
          // Read ArrayBuffer from Data URL of JPEG images directly for better performance
          if (REGEXP_DATA_URL_JPEG.test(url)) {
            this.read(dataURLToArrayBuffer(url));
          } else {
            // Only a JPEG image may contains Exif Orientation information,
            // the rest types of Data URLs are not necessary to check orientation at all.
            this.clone();
          }

          return;
        } // 1. Detect the mime type of the image by a XMLHttpRequest.
        // 2. Load the image as ArrayBuffer for reading orientation if its a JPEG image.


        var xhr = new XMLHttpRequest();
        var clone = this.clone.bind(this);
        this.reloading = true;
        this.xhr = xhr; // 1. Cross origin requests are only supported for protocol schemes:
        // http, https, data, chrome, chrome-extension.
        // 2. Access to XMLHttpRequest from a Data URL will be blocked by CORS policy
        // in some browsers as IE11 and Safari.

        xhr.onabort = clone;
        xhr.onerror = clone;
        xhr.ontimeout = clone;

        xhr.onprogress = function () {
          // Abort the request directly if it not a JPEG image for better performance
          if (xhr.getResponseHeader('content-type') !== MIME_TYPE_JPEG) {
            xhr.abort();
          }
        };

        xhr.onload = function () {
          _this.read(xhr.response);
        };

        xhr.onloadend = function () {
          _this.reloading = false;
          _this.xhr = null;
        }; // Bust cache when there is a "crossOrigin" property to avoid browser cache error


        if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {
          url = addTimestamp(url);
        }

        xhr.open('GET', url);
        xhr.responseType = 'arraybuffer';
        xhr.withCredentials = element.crossOrigin === 'use-credentials';
        xhr.send();
      }
    }, {
      key: "read",
      value: function read(arrayBuffer) {
        var options = this.options,
            imageData = this.imageData; // Reset the orientation value to its default value 1
        // as some iOS browsers will render image with its orientation

        var orientation = resetAndGetOrientation(arrayBuffer);
        var rotate = 0;
        var scaleX = 1;
        var scaleY = 1;

        if (orientation > 1) {
          // Generate a new URL which has the default orientation value
          this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG);

          var _parseOrientation = parseOrientation(orientation);

          rotate = _parseOrientation.rotate;
          scaleX = _parseOrientation.scaleX;
          scaleY = _parseOrientation.scaleY;
        }

        if (options.rotatable) {
          imageData.rotate = rotate;
        }

        if (options.scalable) {
          imageData.scaleX = scaleX;
          imageData.scaleY = scaleY;
        }

        this.clone();
      }
    }, {
      key: "clone",
      value: function clone() {
        var element = this.element,
            url = this.url;
        var crossOrigin = element.crossOrigin;
        var crossOriginUrl = url;

        if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {
          if (!crossOrigin) {
            crossOrigin = 'anonymous';
          } // Bust cache when there is not a "crossOrigin" property (#519)


          crossOriginUrl = addTimestamp(url);
        }

        this.crossOrigin = crossOrigin;
        this.crossOriginUrl = crossOriginUrl;
        var image = document.createElement('img');

        if (crossOrigin) {
          image.crossOrigin = crossOrigin;
        }

        image.src = crossOriginUrl || url;
        image.alt = element.alt || 'The image to crop';
        this.image = image;
        image.onload = this.start.bind(this);
        image.onerror = this.stop.bind(this);
        addClass(image, CLASS_HIDE);
        element.parentNode.insertBefore(image, element.nextSibling);
      }
    }, {
      key: "start",
      value: function start() {
        var _this2 = this;

        var image = this.image;
        image.onload = null;
        image.onerror = null;
        this.sizing = true; // Match all browsers that use WebKit as the layout engine in iOS devices,
        // such as Safari for iOS, Chrome for iOS, and in-app browsers.

        var isIOSWebKit = WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent);

        var done = function done(naturalWidth, naturalHeight) {
          assign(_this2.imageData, {
            naturalWidth: naturalWidth,
            naturalHeight: naturalHeight,
            aspectRatio: naturalWidth / naturalHeight
          });
          _this2.sizing = false;
          _this2.sized = true;

          _this2.build();
        }; // Most modern browsers (excepts iOS WebKit)


        if (image.naturalWidth && !isIOSWebKit) {
          done(image.naturalWidth, image.naturalHeight);
          return;
        }

        var sizingImage = document.createElement('img');
        var body = document.body || document.documentElement;
        this.sizingImage = sizingImage;

        sizingImage.onload = function () {
          done(sizingImage.width, sizingImage.height);

          if (!isIOSWebKit) {
            body.removeChild(sizingImage);
          }
        };

        sizingImage.src = image.src; // iOS WebKit will convert the image automatically
        // with its orientation once append it into DOM (#279)

        if (!isIOSWebKit) {
          sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';
          body.appendChild(sizingImage);
        }
      }
    }, {
      key: "stop",
      value: function stop() {
        var image = this.image;
        image.onload = null;
        image.onerror = null;
        image.parentNode.removeChild(image);
        this.image = null;
      }
    }, {
      key: "build",
      value: function build() {
        if (!this.sized || this.ready) {
          return;
        }

        var element = this.element,
            options = this.options,
            image = this.image; // Create cropper elements

        var container = element.parentNode;
        var template = document.createElement('div');
        template.innerHTML = TEMPLATE;
        var cropper = template.querySelector(".".concat(NAMESPACE, "-container"));
        var canvas = cropper.querySelector(".".concat(NAMESPACE, "-canvas"));
        var dragBox = cropper.querySelector(".".concat(NAMESPACE, "-drag-box"));
        var cropBox = cropper.querySelector(".".concat(NAMESPACE, "-crop-box"));
        var face = cropBox.querySelector(".".concat(NAMESPACE, "-face"));
        this.container = container;
        this.cropper = cropper;
        this.canvas = canvas;
        this.dragBox = dragBox;
        this.cropBox = cropBox;
        this.viewBox = cropper.querySelector(".".concat(NAMESPACE, "-view-box"));
        this.face = face;
        canvas.appendChild(image); // Hide the original image

        addClass(element, CLASS_HIDDEN); // Inserts the cropper after to the current image

        container.insertBefore(cropper, element.nextSibling); // Show the image if is hidden

        if (!this.isImg) {
          removeClass(image, CLASS_HIDE);
        }

        this.initPreview();
        this.bind();
        options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;
        options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;
        options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;
        addClass(cropBox, CLASS_HIDDEN);

        if (!options.guides) {
          addClass(cropBox.getElementsByClassName("".concat(NAMESPACE, "-dashed")), CLASS_HIDDEN);
        }

        if (!options.center) {
          addClass(cropBox.getElementsByClassName("".concat(NAMESPACE, "-center")), CLASS_HIDDEN);
        }

        if (options.background) {
          addClass(cropper, "".concat(NAMESPACE, "-bg"));
        }

        if (!options.highlight) {
          addClass(face, CLASS_INVISIBLE);
        }

        if (options.cropBoxMovable) {
          addClass(face, CLASS_MOVE);
          setData(face, DATA_ACTION, ACTION_ALL);
        }

        if (!options.cropBoxResizable) {
          addClass(cropBox.getElementsByClassName("".concat(NAMESPACE, "-line")), CLASS_HIDDEN);
          addClass(cropBox.getElementsByClassName("".concat(NAMESPACE, "-point")), CLASS_HIDDEN);
        }

        this.render();
        this.ready = true;
        this.setDragMode(options.dragMode);

        if (options.autoCrop) {
          this.crop();
        }

        this.setData(options.data);

        if (isFunction(options.ready)) {
          addListener(element, EVENT_READY, options.ready, {
            once: true
          });
        }

        dispatchEvent(element, EVENT_READY);
      }
    }, {
      key: "unbuild",
      value: function unbuild() {
        if (!this.ready) {
          return;
        }

        this.ready = false;
        this.unbind();
        this.resetPreview();
        this.cropper.parentNode.removeChild(this.cropper);
        removeClass(this.element, CLASS_HIDDEN);
      }
    }, {
      key: "uncreate",
      value: function uncreate() {
        if (this.ready) {
          this.unbuild();
          this.ready = false;
          this.cropped = false;
        } else if (this.sizing) {
          this.sizingImage.onload = null;
          this.sizing = false;
          this.sized = false;
        } else if (this.reloading) {
          this.xhr.onabort = null;
          this.xhr.abort();
        } else if (this.image) {
          this.stop();
        }
      }
      /**
       * Get the no conflict cropper class.
       * @returns {Cropper} The cropper class.
       */

    }], [{
      key: "noConflict",
      value: function noConflict() {
        window.Cropper = AnotherCropper;
        return Cropper;
      }
      /**
       * Change the default options.
       * @param {Object} options - The new default options.
       */

    }, {
      key: "setDefaults",
      value: function setDefaults(options) {
        assign(DEFAULTS, isPlainObject(options) && options);
      }
    }]);

    return Cropper;
  }();

  assign(Cropper.prototype, render, preview, events, handlers, change, methods);

  return Cropper;

})));


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/core/dist/style.css":
/*!**************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/core/dist/style.css ***!
  \**************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "/**\n* General Uppy styles that apply to everything inside the .uppy-Root container\n*/\n.uppy-Root {\n  position: relative;\n  box-sizing: border-box;\n  color: #333;\n  font-family: -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", \"Segoe UI Symbol\", \"Segoe UI Emoji\", \"Apple Color Emoji\", Roboto, Helvetica, Arial, sans-serif;\n  line-height: 1;\n  text-align: left;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n[dir=rtl] .uppy-Root,\n.uppy-Root[dir=rtl] {\n  text-align: right;\n}\n\n.uppy-Root *,\n.uppy-Root *::before,\n.uppy-Root *::after {\n  box-sizing: inherit;\n}\n\n.uppy-Root [hidden] {\n  display: none;\n}\n\n.uppy-u-reset {\n  all: initial;\n  box-sizing: border-box;\n  -webkit-appearance: none;\n          appearance: none;\n  font-family: -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", \"Segoe UI Symbol\", \"Segoe UI Emoji\", \"Apple Color Emoji\", Roboto, Helvetica, Arial, sans-serif;\n  line-height: 1;\n}\n\n[dir=rtl] .uppy-u-reset {\n  text-align: right;\n}\n\n.uppy-c-textInput {\n  padding: 6px 8px;\n  font-size: 14px;\n  line-height: 1.5;\n  background-color: #fff;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n.uppy-size--md .uppy-c-textInput {\n  padding: 8px 10px;\n}\n.uppy-c-textInput:focus {\n  border-color: rgba(34, 117, 215, 0.6);\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.15);\n}\n[data-uppy-theme=dark] .uppy-c-textInput {\n  color: #eaeaea;\n  background-color: #333;\n  border-color: #333;\n}\n[data-uppy-theme=dark] .uppy-c-textInput:focus {\n  border-color: #525252;\n  box-shadow: none;\n}\n\n.uppy-c-icon {\n  display: inline-block;\n  max-width: 100%;\n  max-height: 100%;\n  overflow: hidden;\n  fill: currentColor;\n}\n\n.uppy-c-btn {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 500;\n  font-size: inherit;\n  font-family: inherit;\n  color: inherit;\n  line-height: 1;\n  white-space: nowrap;\n  text-align: center;\n  transition-duration: 0.3s;\n  transition-property: background-color, color;\n  -webkit-user-select: none;\n          user-select: none;\n}\n[dir=rtl] .uppy-c-btn {\n  text-align: center;\n}\n\n.uppy-c-btn:not(:disabled):not(.disabled) {\n  cursor: pointer;\n}\n\n.uppy-c-btn::-moz-focus-inner {\n  border: 0;\n}\n\n.uppy-c-btn-primary {\n  padding: 10px 18px;\n  color: #fff;\n  font-size: 14px;\n  background-color: #2275d7;\n  border-radius: 4px;\n}\n.uppy-c-btn-primary:hover {\n  background-color: #1b5dab;\n}\n.uppy-c-btn-primary:focus {\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.4);\n}\n.uppy-size--md .uppy-c-btn-primary {\n  padding: 13px 22px;\n}\n[data-uppy-theme=dark] .uppy-c-btn-primary {\n  color: #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-c-btn-primary:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-c-btn-primary::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-c-btn-primary:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n\n.uppy-c-btn-link {\n  padding: 10px 15px;\n  color: #525252;\n  font-size: 14px;\n  line-height: 1;\n  background-color: transparent;\n  border-radius: 4px;\n}\n.uppy-c-btn-link:hover {\n  color: #333;\n}\n.uppy-c-btn-link:focus {\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.25);\n}\n.uppy-size--md .uppy-c-btn-link {\n  padding: 13px 18px;\n}\n[data-uppy-theme=dark] .uppy-c-btn-link {\n  color: #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-c-btn-link:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-c-btn-link::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-c-btn-link:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n[data-uppy-theme=dark] .uppy-c-btn-link:hover {\n  color: #939393;\n}", "",{"version":3,"sources":["webpack://./node_modules/@uppy/core/dist/style.css"],"names":[],"mappings":"AAAA;;CAEC;AACD;EACE,kBAAkB;EAClB,sBAAsB;EACtB,WAAW;EACX,qKAAqK;EACrK,cAAc;EACd,gBAAgB;EAChB,mCAAmC;EACnC,kCAAkC;AACpC;;AAEA;;EAEE,iBAAiB;AACnB;;AAEA;;;EAGE,mBAAmB;AACrB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,YAAY;EACZ,sBAAsB;EACtB,wBAAwB;UAChB,gBAAgB;EACxB,qKAAqK;EACrK,cAAc;AAChB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;EAChB,eAAe;EACf,gBAAgB;EAChB,sBAAsB;EACtB,sBAAsB;EACtB,kBAAkB;AACpB;AACA;EACE,iBAAiB;AACnB;AACA;EACE,qCAAqC;EACrC,aAAa;EACb,8CAA8C;AAChD;AACA;EACE,cAAc;EACd,sBAAsB;EACtB,kBAAkB;AACpB;AACA;EACE,qBAAqB;EACrB,gBAAgB;AAClB;;AAEA;EACE,qBAAqB;EACrB,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;EACE,oBAAoB;EACpB,uBAAuB;EACvB,mBAAmB;EACnB,gBAAgB;EAChB,kBAAkB;EAClB,oBAAoB;EACpB,cAAc;EACd,cAAc;EACd,mBAAmB;EACnB,kBAAkB;EAClB,yBAAyB;EACzB,4CAA4C;EAC5C,yBAAyB;UACjB,iBAAiB;AAC3B;AACA;EACE,kBAAkB;AACpB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,eAAe;EACf,yBAAyB;EACzB,kBAAkB;AACpB;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,aAAa;EACb,6CAA6C;AAC/C;AACA;EACE,kBAAkB;AACpB;AACA;EACE,cAAc;AAChB;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,+CAA+C;AACjD;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,eAAe;EACf,cAAc;EACd,6BAA6B;EAC7B,kBAAkB;AACpB;AACA;EACE,WAAW;AACb;AACA;EACE,aAAa;EACb,8CAA8C;AAChD;AACA;EACE,kBAAkB;AACpB;AACA;EACE,cAAc;AAChB;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,+CAA+C;AACjD;AACA;EACE,cAAc;AAChB","sourcesContent":["/**\n* General Uppy styles that apply to everything inside the .uppy-Root container\n*/\n.uppy-Root {\n  position: relative;\n  box-sizing: border-box;\n  color: #333;\n  font-family: -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", \"Segoe UI Symbol\", \"Segoe UI Emoji\", \"Apple Color Emoji\", Roboto, Helvetica, Arial, sans-serif;\n  line-height: 1;\n  text-align: left;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n[dir=rtl] .uppy-Root,\n.uppy-Root[dir=rtl] {\n  text-align: right;\n}\n\n.uppy-Root *,\n.uppy-Root *::before,\n.uppy-Root *::after {\n  box-sizing: inherit;\n}\n\n.uppy-Root [hidden] {\n  display: none;\n}\n\n.uppy-u-reset {\n  all: initial;\n  box-sizing: border-box;\n  -webkit-appearance: none;\n          appearance: none;\n  font-family: -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", \"Segoe UI Symbol\", \"Segoe UI Emoji\", \"Apple Color Emoji\", Roboto, Helvetica, Arial, sans-serif;\n  line-height: 1;\n}\n\n[dir=rtl] .uppy-u-reset {\n  text-align: right;\n}\n\n.uppy-c-textInput {\n  padding: 6px 8px;\n  font-size: 14px;\n  line-height: 1.5;\n  background-color: #fff;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n.uppy-size--md .uppy-c-textInput {\n  padding: 8px 10px;\n}\n.uppy-c-textInput:focus {\n  border-color: rgba(34, 117, 215, 0.6);\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.15);\n}\n[data-uppy-theme=dark] .uppy-c-textInput {\n  color: #eaeaea;\n  background-color: #333;\n  border-color: #333;\n}\n[data-uppy-theme=dark] .uppy-c-textInput:focus {\n  border-color: #525252;\n  box-shadow: none;\n}\n\n.uppy-c-icon {\n  display: inline-block;\n  max-width: 100%;\n  max-height: 100%;\n  overflow: hidden;\n  fill: currentColor;\n}\n\n.uppy-c-btn {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 500;\n  font-size: inherit;\n  font-family: inherit;\n  color: inherit;\n  line-height: 1;\n  white-space: nowrap;\n  text-align: center;\n  transition-duration: 0.3s;\n  transition-property: background-color, color;\n  -webkit-user-select: none;\n          user-select: none;\n}\n[dir=rtl] .uppy-c-btn {\n  text-align: center;\n}\n\n.uppy-c-btn:not(:disabled):not(.disabled) {\n  cursor: pointer;\n}\n\n.uppy-c-btn::-moz-focus-inner {\n  border: 0;\n}\n\n.uppy-c-btn-primary {\n  padding: 10px 18px;\n  color: #fff;\n  font-size: 14px;\n  background-color: #2275d7;\n  border-radius: 4px;\n}\n.uppy-c-btn-primary:hover {\n  background-color: #1b5dab;\n}\n.uppy-c-btn-primary:focus {\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.4);\n}\n.uppy-size--md .uppy-c-btn-primary {\n  padding: 13px 22px;\n}\n[data-uppy-theme=dark] .uppy-c-btn-primary {\n  color: #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-c-btn-primary:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-c-btn-primary::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-c-btn-primary:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n\n.uppy-c-btn-link {\n  padding: 10px 15px;\n  color: #525252;\n  font-size: 14px;\n  line-height: 1;\n  background-color: transparent;\n  border-radius: 4px;\n}\n.uppy-c-btn-link:hover {\n  color: #333;\n}\n.uppy-c-btn-link:focus {\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.25);\n}\n.uppy-size--md .uppy-c-btn-link {\n  padding: 13px 18px;\n}\n[data-uppy-theme=dark] .uppy-c-btn-link {\n  color: #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-c-btn-link:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-c-btn-link::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-c-btn-link:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n[data-uppy-theme=dark] .uppy-c-btn-link:hover {\n  color: #939393;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/dashboard/dist/style.css":
/*!*******************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/dashboard/dist/style.css ***!
  \*******************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
// Imports



var ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%280%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E */ "data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%280%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E"), __webpack_require__.b);
var ___CSS_LOADER_URL_IMPORT_1___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28180%2018%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E */ "data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28180%2018%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E"), __webpack_require__.b);
var ___CSS_LOADER_URL_IMPORT_2___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28-90%2018%2018%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E */ "data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28-90%2018%2018%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E"), __webpack_require__.b);
var ___CSS_LOADER_URL_IMPORT_3___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%2890%206%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E */ "data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%2890%206%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E"), __webpack_require__.b);
var ___CSS_LOADER_URL_IMPORT_4___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2735%27 height=%2739%27 viewBox=%270 0 35 39%27%3E%3Cpath d=%27M1.708 38.66c1.709 0 3.417-3.417 6.834-3.417 3.416 0 5.125 3.417 8.61 3.417 3.348 0 5.056-3.417 8.473-3.417 4.305 0 5.125 3.417 6.833 3.417.889 0 1.709-.889 1.709-1.709v-19.68C34.167-5.757 0-5.757 0 17.271v19.68c0 .82.888 1.709 1.708 1.709zm8.542-17.084a3.383 3.383 0 01-3.417-3.416 3.383 3.383 0 013.417-3.417 3.383 3.383 0 013.417 3.417 3.383 3.383 0 01-3.417 3.416zm13.667 0A3.383 3.383 0 0120.5 18.16a3.383 3.383 0 013.417-3.417 3.383 3.383 0 013.416 3.417 3.383 3.383 0 01-3.416 3.416z%27 fill=%27%2523000%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E */ "data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2735%27 height=%2739%27 viewBox=%270 0 35 39%27%3E%3Cpath d=%27M1.708 38.66c1.709 0 3.417-3.417 6.834-3.417 3.416 0 5.125 3.417 8.61 3.417 3.348 0 5.056-3.417 8.473-3.417 4.305 0 5.125 3.417 6.833 3.417.889 0 1.709-.889 1.709-1.709v-19.68C34.167-5.757 0-5.757 0 17.271v19.68c0 .82.888 1.709 1.708 1.709zm8.542-17.084a3.383 3.383 0 01-3.417-3.416 3.383 3.383 0 013.417-3.417 3.383 3.383 0 013.417 3.417 3.383 3.383 0 01-3.417 3.416zm13.667 0A3.383 3.383 0 0120.5 18.16a3.383 3.383 0 013.417-3.417 3.383 3.383 0 013.416 3.417 3.383 3.383 0 01-3.416 3.416z%27 fill=%27%2523000%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E"), __webpack_require__.b);
var ___CSS_LOADER_URL_IMPORT_5___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml,%3Csvg width=%2748%27 height=%2748%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z%27 fill=%27%232275D7%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E */ "data:image/svg+xml,%3Csvg width=%2748%27 height=%2748%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z%27 fill=%27%232275D7%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E"), __webpack_require__.b);
var ___CSS_LOADER_URL_IMPORT_6___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml,%3Csvg width=%2748%27 height=%2748%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z%27 fill=%27%2302BAF2%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E */ "data:image/svg+xml,%3Csvg width=%2748%27 height=%2748%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z%27 fill=%27%2302BAF2%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E"), __webpack_require__.b);
var ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);
var ___CSS_LOADER_URL_REPLACEMENT_1___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_1___);
var ___CSS_LOADER_URL_REPLACEMENT_2___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_2___);
var ___CSS_LOADER_URL_REPLACEMENT_3___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_3___);
var ___CSS_LOADER_URL_REPLACEMENT_4___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_4___);
var ___CSS_LOADER_URL_REPLACEMENT_5___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_5___);
var ___CSS_LOADER_URL_REPLACEMENT_6___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_6___);
// Module
___CSS_LOADER_EXPORT___.push([module.id, "@charset \"UTF-8\";\n.uppy-Informer {\n  position: absolute;\n  right: 0;\n  bottom: 60px;\n  left: 0;\n  z-index: 1005;\n  text-align: center;\n}\n.uppy-Informer span > div {\n  margin-bottom: 6px;\n}\n\n.uppy-Informer-animated {\n  z-index: -1000;\n  transform: translateY(350%);\n  opacity: 0;\n  transition: all 300ms ease-in;\n}\n\n.uppy-Informer p {\n  display: inline-block;\n  max-width: 90%;\n  margin: 0;\n  padding: 0;\n  padding: 6px 15px;\n  color: #fff;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 1.4;\n  background-color: #757575;\n  border-radius: 18px;\n}\n.uppy-size--md .uppy-Informer p {\n  max-width: 500px;\n  padding: 10px 20px;\n  font-size: 14px;\n  line-height: 1.3;\n}\n[data-uppy-theme=dark] .uppy-Informer p {\n  background-color: #333;\n}\n\n[dir=\"ltr\"] .uppy-Informer p span{\n  left: 3px;\n}\n\n[dir=\"rtl\"] .uppy-Informer p span{\n  right: 3px;\n}\n\n[dir=\"ltr\"] .uppy-Informer p span{\n  margin-left: -1px;\n}\n\n[dir=\"rtl\"] .uppy-Informer p span{\n  margin-right: -1px;\n}\n\n.uppy-Informer p span {\n  position: relative;\n  top: -1px;\n  display: inline-block;\n  width: 13px;\n  height: 13px;\n  color: #525252;\n  font-size: 10px;\n  line-height: 12px;\n  vertical-align: middle;\n  background-color: #fff;\n  border-radius: 50%;\n}\n\n.uppy-Informer p span:hover {\n  cursor: help;\n}\n\n.uppy-Informer p span::after {\n  line-height: 1.3;\n  word-wrap: break-word;\n}\n\n/* -------------------------------------------------------------------\n  Microtip\n\n  Modern, lightweight css-only tooltips\n  Just 1kb minified and gzipped\n\n  @author Ghosh\n  @package Microtip\n\n----------------------------------------------------------------------\n  1. Base Styles\n  2. Direction Modifiers\n  3. Position Modifiers\n-------------------------------------------------------------------- */\n/* ------------------------------------------------\n  [1] Base Styles\n------------------------------------------------- */\n.uppy-Root [aria-label][role~=tooltip] {\n  position: relative;\n}\n\n.uppy-Root [aria-label][role~=tooltip]::before,\n.uppy-Root [aria-label][role~=tooltip]::after {\n  position: absolute;\n  z-index: 10;\n  box-sizing: border-box;\n  transform: translate3d(0, 0, 0);\n  transform-origin: top;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  opacity: 0;\n  transition: all var(--microtip-transition-duration, 0.18s) var(--microtip-transition-easing, ease-in-out) var(--microtip-transition-delay, 0s);\n  pointer-events: none;\n  will-change: transform;\n}\n\n.uppy-Root [aria-label][role~=tooltip]::before {\n  background-size: 100% auto !important;\n  content: \"\";\n}\n\n.uppy-Root [aria-label][role~=tooltip]::after {\n  box-sizing: content-box;\n  padding: 0.5em 1em;\n  color: #fff;\n  font-weight: var(--microtip-font-weight, normal);\n  font-size: var(--microtip-font-size, 13px);\n  white-space: nowrap;\n  text-transform: var(--microtip-text-transform, none);\n  background: rgba(17, 17, 17, 0.9);\n  border-radius: 4px;\n  content: attr(aria-label);\n}\n\n.uppy-Root [aria-label][role~=tooltip]:hover::before,\n.uppy-Root [aria-label][role~=tooltip]:hover::after,\n.uppy-Root [aria-label][role~=tooltip]:focus::before,\n.uppy-Root [aria-label][role~=tooltip]:focus::after {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n/* ------------------------------------------------\n  [2] Position Modifiers\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position|=top]::before {\n  bottom: 100%;\n  left: 50%;\n  width: 18px;\n  height: 6px;\n  margin-bottom: 5px;\n  background: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ") no-repeat;\n  transform: translate3d(-50%, 0, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position|=top]::after {\n  bottom: 100%;\n  left: 50%;\n  margin-bottom: 11px;\n  transform: translate3d(-50%, 0, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position|=top]:hover::before {\n  transform: translate3d(-50%, -5px, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=top]:hover::after {\n  transform: translate3d(-50%, -5px, 0);\n}\n\n/* ------------------------------------------------\n  [2.1] Top Left\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position=top-left]::after {\n  bottom: 100%;\n  transform: translate3d(calc(-100% + 16px), 0, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=top-left]:hover::after {\n  transform: translate3d(calc(-100% + 16px), -5px, 0);\n}\n\n/* ------------------------------------------------\n  [2.2] Top Right\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position=top-right]::after {\n  bottom: 100%;\n  transform: translate3d(calc(0% - 16px), 0, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=top-right]:hover::after {\n  transform: translate3d(calc(0% - 16px), -5px, 0);\n}\n\n/* ------------------------------------------------\n  [2.3] Bottom\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position|=bottom]::before {\n  top: 100%;\n  bottom: auto;\n  left: 50%;\n  width: 18px;\n  height: 6px;\n  margin-top: 5px;\n  margin-bottom: 0;\n  background: url(" + ___CSS_LOADER_URL_REPLACEMENT_1___ + ") no-repeat;\n  transform: translate3d(-50%, -10px, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position|=bottom]::after {\n  top: 100%;\n  left: 50%;\n  margin-top: 11px;\n  transform: translate3d(-50%, -10px, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position|=bottom]:hover::before {\n  transform: translate3d(-50%, 0, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=bottom]:hover::after {\n  transform: translate3d(-50%, 0, 0);\n}\n\n/* ------------------------------------------------\n  [2.4] Bottom Left\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position=bottom-left]::after {\n  top: 100%;\n  transform: translate3d(calc(-100% + 16px), -10px, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=bottom-left]:hover::after {\n  transform: translate3d(calc(-100% + 16px), 0, 0);\n}\n\n/* ------------------------------------------------\n  [2.5] Bottom Right\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position=bottom-right]::after {\n  top: 100%;\n  transform: translate3d(calc(0% - 16px), -10px, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=bottom-right]:hover::after {\n  transform: translate3d(calc(0% - 16px), 0, 0);\n}\n\n/* ------------------------------------------------\n  [2.6] Left\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position=left]::before,\n.uppy-Root [role~=tooltip][data-microtip-position=left]::after {\n  top: 50%;\n  right: 100%;\n  bottom: auto;\n  left: auto;\n  transform: translate3d(10px, -50%, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=left]::before {\n  width: 6px;\n  height: 18px;\n  margin-right: 5px;\n  margin-bottom: 0;\n  background: url(" + ___CSS_LOADER_URL_REPLACEMENT_2___ + ") no-repeat;\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=left]::after {\n  margin-right: 11px;\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=left]:hover::before,\n.uppy-Root [role~=tooltip][data-microtip-position=left]:hover::after {\n  transform: translate3d(0, -50%, 0);\n}\n\n/* ------------------------------------------------\n  [2.7] Right\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position=right]::before,\n.uppy-Root [role~=tooltip][data-microtip-position=right]::after {\n  top: 50%;\n  bottom: auto;\n  left: 100%;\n  transform: translate3d(-10px, -50%, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=right]::before {\n  width: 6px;\n  height: 18px;\n  margin-bottom: 0;\n  margin-left: 5px;\n  background: url(" + ___CSS_LOADER_URL_REPLACEMENT_3___ + ") no-repeat;\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=right]::after {\n  margin-left: 11px;\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=right]:hover::before,\n.uppy-Root [role~=tooltip][data-microtip-position=right]:hover::after {\n  transform: translate3d(0, -50%, 0);\n}\n\n/* ------------------------------------------------\n  [3] Size\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-size=small]::after {\n  width: 80px;\n  white-space: initial;\n}\n\n.uppy-Root [role~=tooltip][data-microtip-size=medium]::after {\n  width: 150px;\n  white-space: initial;\n}\n\n.uppy-Root [role~=tooltip][data-microtip-size=large]::after {\n  width: 260px;\n  white-space: initial;\n}\n\n.uppy-StatusBar {\n  position: relative;\n  z-index: 1001;\n  display: flex;\n  height: 46px;\n  color: #fff;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 40px;\n  background-color: #fff;\n  transition: height 0.2s;\n}\n[data-uppy-theme=dark] .uppy-StatusBar {\n  background-color: #1f1f1f;\n}\n\n.uppy-StatusBar::before {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 2px;\n  background-color: #eaeaea;\n  content: \"\";\n}\n[data-uppy-theme=dark] .uppy-StatusBar::before {\n  background-color: #757575;\n}\n\n.uppy-StatusBar[aria-hidden=true] {\n  height: 0;\n  overflow-y: hidden;\n}\n\n.uppy-StatusBar.is-complete .uppy-StatusBar-progress {\n  background-color: #1bb240;\n}\n\n.uppy-StatusBar.is-error .uppy-StatusBar-progress {\n  background-color: #e32437;\n}\n\n.uppy-StatusBar.is-complete .uppy-StatusBar-statusIndicator {\n  color: #1bb240;\n}\n\n.uppy-StatusBar.is-error .uppy-StatusBar-statusIndicator {\n  color: #e32437;\n}\n\n.uppy-StatusBar:not([aria-hidden=true]).is-waiting {\n  height: 65px;\n  background-color: #fff;\n  border-top: 1px solid #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-StatusBar:not([aria-hidden=true]).is-waiting {\n  background-color: #1f1f1f;\n  border-top: 1px solid #333;\n}\n\n.uppy-StatusBar-progress {\n  position: absolute;\n  z-index: 1001;\n  height: 2px;\n  background-color: #2275d7;\n  transition: background-color, width 0.3s ease-out;\n}\n.uppy-StatusBar-progress.is-indeterminate {\n  background-image: linear-gradient(45deg, rgba(0, 0, 0, 0.3) 25%, transparent 25%, transparent 50%, rgba(0, 0, 0, 0.3) 50%, rgba(0, 0, 0, 0.3) 75%, transparent 75%, transparent);\n  background-size: 64px 64px;\n  animation: uppy-StatusBar-ProgressStripes 1s linear infinite;\n}\n\n@keyframes uppy-StatusBar-ProgressStripes {\n  from {\n    background-position: 0 0;\n  }\n  to {\n    background-position: 64px 0;\n  }\n}\n.uppy-StatusBar.is-preprocessing .uppy-StatusBar-progress,\n.uppy-StatusBar.is-postprocessing .uppy-StatusBar-progress {\n  background-color: #f6a623;\n}\n\n.uppy-StatusBar.is-waiting .uppy-StatusBar-progress {\n  display: none;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-content{\n  padding-left: 10px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-content{\n  padding-right: 10px;\n}\n\n.uppy-StatusBar-content {\n  position: relative;\n  z-index: 1002;\n  display: flex;\n  align-items: center;\n  height: 100%;\n  color: #333;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-StatusBar-content{\n  padding-left: 15px;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-StatusBar-content{\n  padding-right: 15px;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-content {\n  color: #eaeaea;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-status{\n  padding-right: 0.3em;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-status{\n  padding-left: 0.3em;\n}\n\n.uppy-StatusBar-status {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  font-weight: normal;\n  line-height: 1.4;\n}\n\n.uppy-StatusBar-statusPrimary {\n  font-weight: 500;\n  line-height: 1;\n  display: flex;\n}\n.uppy-StatusBar-statusPrimary button.uppy-StatusBar-details {\n  margin-left: 5px;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-statusPrimary {\n  color: #eaeaea;\n}\n\n.uppy-StatusBar-statusSecondary {\n  display: inline-block;\n  margin-top: 1px;\n  color: #757575;\n  font-size: 11px;\n  line-height: 1.2;\n  white-space: nowrap;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-statusSecondary {\n  color: #bbb;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-statusSecondaryHint{\n  margin-right: 5px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-statusSecondaryHint{\n  margin-left: 5px;\n}\n\n.uppy-StatusBar-statusSecondaryHint {\n  display: inline-block;\n  line-height: 1;\n  vertical-align: middle;\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-StatusBar-statusSecondaryHint{\n  margin-right: 8px;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-StatusBar-statusSecondaryHint{\n  margin-left: 8px;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-statusIndicator{\n  margin-right: 7px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-statusIndicator{\n  margin-left: 7px;\n}\n\n.uppy-StatusBar-statusIndicator {\n  position: relative;\n  top: 1px;\n  color: #525252;\n}\n.uppy-StatusBar-statusIndicator svg {\n  vertical-align: text-bottom;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-actions{\n  right: 10px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-actions{\n  left: 10px;\n}\n\n.uppy-StatusBar-actions {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 1004;\n  display: flex;\n  align-items: center;\n}\n\n.uppy-StatusBar.is-waiting .uppy-StatusBar-actions {\n  position: static;\n  width: 100%;\n  height: 100%;\n  padding: 0 15px;\n  background-color: #fafafa;\n}\n[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actions {\n  background-color: #1f1f1f;\n}\n\n.uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts {\n  flex-direction: column;\n  height: 90px;\n}\n.uppy-size--md .uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts {\n  flex-direction: row;\n  height: 65px;\n}\n.uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts .uppy-StatusBar-actions {\n  flex-direction: column;\n  justify-content: center;\n}\n.uppy-size--md .uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts .uppy-StatusBar-actions {\n  flex-direction: row;\n  justify-content: initial;\n}\n\n.uppy-StatusBar-actionCircleBtn {\n  margin: 3px;\n  line-height: 1;\n  cursor: pointer;\n  opacity: 0.9;\n}\n.uppy-StatusBar-actionCircleBtn:focus {\n  outline: none;\n}\n.uppy-StatusBar-actionCircleBtn::-moz-focus-inner {\n  border: 0;\n}\n.uppy-StatusBar-actionCircleBtn:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionCircleBtn:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionCircleBtn::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionCircleBtn:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n.uppy-StatusBar-actionCircleBtn:hover {\n  opacity: 1;\n}\n.uppy-StatusBar-actionCircleBtn:focus {\n  border-radius: 50%;\n}\n\n.uppy-StatusBar-actionCircleBtn svg {\n  vertical-align: bottom;\n}\n\n.uppy-StatusBar-actionBtn {\n  display: inline-block;\n  color: #2275d7;\n  font-size: 10px;\n  line-height: inherit;\n  vertical-align: middle;\n}\n.uppy-size--md .uppy-StatusBar-actionBtn {\n  font-size: 11px;\n}\n\n.uppy-StatusBar-actionBtn--disabled {\n  opacity: 0.4;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--disabled {\n  opacity: 0.7;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-actionBtn--retry{\n  margin-right: 6px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-actionBtn--retry{\n  margin-left: 6px;\n}\n\n.uppy-StatusBar-actionBtn--retry {\n  position: relative;\n  height: 16px;\n  padding: 1px 6px 3px 18px;\n  color: #fff;\n  line-height: 1;\n  background-color: #ff4b23;\n  border-radius: 8px;\n}\n.uppy-StatusBar-actionBtn--retry:focus {\n  outline: none;\n}\n.uppy-StatusBar-actionBtn--retry::-moz-focus-inner {\n  border: 0;\n}\n.uppy-StatusBar-actionBtn--retry:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--retry:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--retry::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--retry:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n.uppy-StatusBar-actionBtn--retry:hover {\n  background-color: #f92d00;\n}\n[dir=\"ltr\"] .uppy-StatusBar-actionBtn--retry svg{\n  left: 6px;\n}\n[dir=\"rtl\"] .uppy-StatusBar-actionBtn--retry svg{\n  right: 6px;\n}\n.uppy-StatusBar-actionBtn--retry svg {\n  position: absolute;\n  top: 3px;\n}\n\n.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload {\n  width: 100%;\n  padding: 15px 10px;\n  color: #fff;\n  font-size: 14px;\n  line-height: 1;\n  background-color: #1bb240;\n}\n.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload:hover {\n  background-color: #189c38;\n}\n[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload {\n  background-color: #1c8b37;\n}\n[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload:hover {\n  background-color: #18762f;\n}\n\n.uppy-size--md .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload {\n  width: auto;\n  padding: 13px 22px;\n}\n\n.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload.uppy-StatusBar-actionBtn--disabled:hover {\n  background-color: #1bb240;\n  cursor: not-allowed;\n}\n\n[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload.uppy-StatusBar-actionBtn--disabled:hover {\n  background-color: #1c8b37;\n}\n\n.uppy-StatusBar:not(.is-waiting) .uppy-StatusBar-actionBtn--upload {\n  color: #2275d7;\n  background-color: transparent;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-actionBtn--uploadNewlyAdded{\n  padding-right: 3px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-actionBtn--uploadNewlyAdded{\n  padding-left: 3px;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-actionBtn--uploadNewlyAdded{\n  padding-left: 3px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-actionBtn--uploadNewlyAdded{\n  padding-right: 3px;\n}\n\n.uppy-StatusBar-actionBtn--uploadNewlyAdded {\n  padding-bottom: 1px;\n  border-radius: 3px;\n}\n.uppy-StatusBar-actionBtn--uploadNewlyAdded:focus {\n  outline: none;\n}\n.uppy-StatusBar-actionBtn--uploadNewlyAdded::-moz-focus-inner {\n  border: 0;\n}\n.uppy-StatusBar-actionBtn--uploadNewlyAdded:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--uploadNewlyAdded:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--uploadNewlyAdded::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--uploadNewlyAdded:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n.uppy-StatusBar.is-preprocessing .uppy-StatusBar-actionBtn--uploadNewlyAdded, .uppy-StatusBar.is-postprocessing .uppy-StatusBar-actionBtn--uploadNewlyAdded {\n  display: none;\n}\n\n.uppy-StatusBar-actionBtn--done {\n  padding: 7px 8px;\n  line-height: 1;\n  border-radius: 3px;\n}\n.uppy-StatusBar-actionBtn--done:focus {\n  outline: none;\n}\n.uppy-StatusBar-actionBtn--done::-moz-focus-inner {\n  border: 0;\n}\n.uppy-StatusBar-actionBtn--done:hover {\n  color: #1b5dab;\n}\n.uppy-StatusBar-actionBtn--done:focus {\n  background-color: #dfe6f1;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--done:focus {\n  background-color: #333;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--done {\n  color: #02baf2;\n}\n\n.uppy-size--md .uppy-StatusBar-actionBtn--done {\n  font-size: 14px;\n}\n\n.uppy-StatusBar-serviceMsg {\n  padding-left: 10px;\n  color: #000;\n  font-size: 11px;\n  line-height: 1.1;\n}\n.uppy-size--md .uppy-StatusBar-serviceMsg {\n  padding-left: 15px;\n  font-size: 14px;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-serviceMsg {\n  color: #eaeaea;\n}\n\n.uppy-StatusBar-serviceMsg-ghostsIcon {\n  position: relative;\n  top: 2px;\n  left: 6px;\n  width: 10px;\n  vertical-align: text-bottom;\n  opacity: 0.5;\n}\n.uppy-size--md .uppy-StatusBar-serviceMsg-ghostsIcon {\n  top: 1px;\n  left: 10px;\n  width: 15px;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-details{\n  left: 2px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-details{\n  right: 2px;\n}\n\n.uppy-StatusBar-details {\n  position: relative;\n  top: 0;\n  display: inline-block;\n  width: 13px;\n  height: 13px;\n  color: #fff;\n  font-weight: 600;\n  font-size: 10px;\n  line-height: 12px;\n  text-align: center;\n  vertical-align: middle;\n  background-color: #939393;\n  border-radius: 50%;\n  cursor: help;\n  -webkit-appearance: none;\n          appearance: none;\n}\n\n.uppy-StatusBar-details::after {\n  line-height: 1.3;\n  word-wrap: break-word;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-spinner{\n  margin-right: 10px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-spinner{\n  margin-left: 10px;\n}\n\n.uppy-StatusBar-spinner {\n  animation-name: uppy-StatusBar-spinnerAnimation;\n  animation-duration: 1s;\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n  fill: #2275d7;\n}\n\n.uppy-StatusBar.is-preprocessing .uppy-StatusBar-spinner,\n.uppy-StatusBar.is-postprocessing .uppy-StatusBar-spinner {\n  fill: #f6a623;\n}\n\n@keyframes uppy-StatusBar-spinnerAnimation {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.uppy-ProviderBrowser-viewType--grid ul.uppy-ProviderBrowser-list,\n.uppy-ProviderBrowser-viewType--unsplash ul.uppy-ProviderBrowser-list {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  justify-content: space-between;\n  padding: 6px;\n}\n.uppy-ProviderBrowser-viewType--grid ul.uppy-ProviderBrowser-list::after,\n.uppy-ProviderBrowser-viewType--unsplash ul.uppy-ProviderBrowser-list::after {\n  flex: auto;\n  content: \"\";\n}\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem {\n  position: relative;\n  width: 50%;\n  margin: 0;\n}\n.uppy-size--md .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem,\n.uppy-size--md .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem {\n  width: 33.3333%;\n}\n.uppy-size--lg .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem,\n.uppy-size--lg .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem {\n  width: 25%;\n}\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem::before,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem::before {\n  display: block;\n  padding-top: 100%;\n  content: \"\";\n}\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--selected img,\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--selected svg,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--selected img,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--selected svg {\n  opacity: 0.85;\n}\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--disabled,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--disabled {\n  opacity: 0.5;\n}\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner {\n  background-color: rgba(147, 147, 147, 0.2);\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner,\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner {\n  background-color: rgba(234, 234, 234, 0.2);\n}\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview svg,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview svg {\n  width: 30%;\n  height: 30%;\n  fill: rgba(0, 0, 0, 0.7);\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview svg,\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview svg {\n  fill: rgba(255, 255, 255, 0.8);\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner {\n  position: absolute;\n  top: 7px;\n  right: 7px;\n  bottom: 7px;\n  left: 7px;\n  width: calc(100% - 14px);\n  height: calc(100% - 14px);\n  overflow: hidden;\n  text-align: center;\n  border-radius: 4px;\n}\n@media (hover: none) {\n  .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner .uppy-ProviderBrowserItem-author,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner .uppy-ProviderBrowserItem-author {\n    display: block;\n  }\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner,\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner {\n  box-shadow: 0 0 0 3px rgba(170, 225, 255, 0.7);\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner img,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 4px;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-author,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-author {\n  position: absolute;\n  display: none;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background: rgba(0, 0, 0, 0.3);\n  color: white;\n  font-weight: 500;\n  font-size: 12px;\n  margin: 0;\n  padding: 5px;\n  text-decoration: none;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-author:hover,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-author:hover {\n  background: rgba(0, 0, 0, 0.4);\n  text-decoration: underline;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox {\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  z-index: 1002;\n  width: 26px;\n  height: 26px;\n  background-color: #2275d7;\n  border-radius: 50%;\n  opacity: 0;\n}\n[dir=\"ltr\"] .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox::after,[dir=\"ltr\"] \n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox::after{\n  left: 7px;\n}\n[dir=\"rtl\"] .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox::after,[dir=\"rtl\"] \n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox::after{\n  right: 7px;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox::after,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox::after {\n  top: 8px;\n  width: 12px;\n  height: 7px;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--is-checked,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--is-checked {\n  opacity: 1;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:hover + label .uppy-ProviderBrowserItem-author,\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus + label .uppy-ProviderBrowserItem-author,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:hover + label .uppy-ProviderBrowserItem-author,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus + label .uppy-ProviderBrowserItem-author {\n  display: block;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus + label,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus + label {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus + label:focus,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus + label:focus {\n  outline: none;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus + label::-moz-focus-inner,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus + label::-moz-focus-inner {\n  border: 0;\n}\n\n.uppy-ProviderBrowser-viewType--list {\n  background-color: #fff;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--list {\n  background-color: #1f1f1f;\n}\n.uppy-ProviderBrowser-viewType--list li.uppy-ProviderBrowserItem {\n  display: flex;\n  align-items: center;\n  margin: 0;\n  padding: 7px 15px;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--list li.uppy-ProviderBrowserItem {\n  color: #eaeaea;\n}\n.uppy-ProviderBrowser-viewType--list li.uppy-ProviderBrowserItem--disabled {\n  opacity: 0.6;\n}\n[dir=\"ltr\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox{\n  margin-right: 15px;\n}\n[dir=\"rtl\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox{\n  margin-left: 15px;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox {\n  width: 17px;\n  height: 17px;\n  background-color: #fff;\n  border: 1px solid #cfcfcf;\n  border-radius: 3px;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:focus {\n  border: 1px solid #2275d7;\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.25);\n}\n[dir=\"ltr\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox::after{\n  left: 3px;\n}\n[dir=\"rtl\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox::after{\n  right: 3px;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox::after {\n  top: 4px;\n  width: 9px;\n  height: 5px;\n  opacity: 0;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:focus {\n  border-color: rgba(2, 186, 242, 0.7);\n  box-shadow: 0 0 0 3px rgba(2, 186, 242, 0.2);\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox--is-checked {\n  background-color: #2275d7;\n  border-color: #2275d7;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox--is-checked::after {\n  opacity: 1;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner {\n  display: flex;\n  align-items: center;\n  padding: 2px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner:focus {\n  text-decoration: underline;\n  outline: none;\n}\n[dir=\"ltr\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner img,[dir=\"ltr\"] \n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner svg{\n  margin-right: 8px;\n}\n[dir=\"rtl\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner img,[dir=\"rtl\"] \n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner svg{\n  margin-left: 8px;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner img,\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner svg {\n  max-width: 20px;\n  max-height: 20px;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner span {\n  overflow: hidden;\n  line-height: 1.2;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem--disabled .uppy-ProviderBrowserItem-inner {\n  cursor: default;\n}\n[dir=\"ltr\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-iconWrap{\n  margin-right: 7px;\n}\n[dir=\"rtl\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-iconWrap{\n  margin-left: 7px;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-iconWrap {\n  width: 20px;\n}\n\n.uppy-ProviderBrowserItem-checkbox {\n  position: relative;\n  flex-shrink: 0;\n  cursor: pointer;\n}\n.uppy-ProviderBrowserItem-checkbox:disabled {\n  cursor: default;\n}\n.uppy-ProviderBrowserItem-checkbox::after {\n  position: absolute;\n  border-bottom: 2px solid #eaeaea;\n  border-left: 2px solid #eaeaea;\n  transform: rotate(-45deg);\n  cursor: pointer;\n  content: \"\";\n}\n.uppy-ProviderBrowserItem-checkbox:disabled::after {\n  cursor: default;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowserItem-checkbox {\n  background-color: #1f1f1f;\n  border-color: #939393;\n}\n\n[data-uppy-theme=dark] .uppy-ProviderBrowserItem-checkbox--is-checked {\n  background-color: #333;\n}\n\n.uppy-SearchProvider {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n[data-uppy-theme=dark] .uppy-SearchProvider {\n  background-color: #1f1f1f;\n}\n\n.uppy-SearchProvider-input {\n  width: 90%;\n  max-width: 650px;\n  margin-bottom: 15px;\n}\n.uppy-size--md .uppy-SearchProvider-input {\n  margin-bottom: 20px;\n}\n.uppy-SearchProvider-input::-webkit-search-cancel-button {\n  display: none;\n}\n\n.uppy-SearchProvider-searchButton {\n  padding: 13px 25px;\n}\n.uppy-size--md .uppy-SearchProvider-searchButton {\n  padding: 13px 30px;\n}\n\n.uppy-DashboardContent-panelBody {\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-panelBody {\n  background-color: #1f1f1f;\n}\n\n.uppy-Provider-auth,\n.uppy-Provider-error,\n.uppy-Provider-loading,\n.uppy-Provider-empty {\n  display: flex;\n  flex: 1;\n  flex-flow: column wrap;\n  align-items: center;\n  justify-content: center;\n  color: #939393;\n}\n\n.uppy-Provider-empty {\n  color: #939393;\n}\n\n.uppy-Provider-authIcon svg {\n  width: 100px;\n  height: 75px;\n}\n\n.uppy-Provider-authTitle {\n  max-width: 500px;\n  margin-bottom: 30px;\n  padding: 0 15px;\n  color: #757575;\n  font-weight: 400;\n  font-size: 17px;\n  line-height: 1.4;\n  text-align: center;\n}\n.uppy-size--md .uppy-Provider-authTitle {\n  font-size: 20px;\n}\n[data-uppy-theme=dark] .uppy-Provider-authTitle {\n  color: #cfcfcf;\n}\n\n.uppy-Provider-btn-google {\n  display: flex;\n  align-items: center;\n  padding: 8px 12px !important;\n  background: #4285F4;\n}\n.uppy-Provider-btn-google:hover {\n  background-color: #1266f1;\n}\n.uppy-Provider-btn-google:focus {\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.4);\n}\n.uppy-Provider-btn-google svg {\n  margin-right: 8px;\n}\n\n[dir=\"ltr\"] .uppy-Provider-breadcrumbs{\n  text-align: left;\n}\n\n[dir=\"rtl\"] .uppy-Provider-breadcrumbs{\n  text-align: right;\n}\n\n.uppy-Provider-breadcrumbs {\n  flex: 1;\n  margin-bottom: 10px;\n  color: #525252;\n  font-size: 12px;\n}\n.uppy-size--md .uppy-Provider-breadcrumbs {\n  margin-bottom: 0;\n}\n[data-uppy-theme=dark] .uppy-Provider-breadcrumbs {\n  color: #eaeaea;\n}\n\n[dir=\"ltr\"] .uppy-Provider-breadcrumbsIcon{\n  margin-right: 4px;\n}\n\n[dir=\"rtl\"] .uppy-Provider-breadcrumbsIcon{\n  margin-left: 4px;\n}\n\n.uppy-Provider-breadcrumbsIcon {\n  display: inline-block;\n  color: #525252;\n  line-height: 1;\n  vertical-align: middle;\n}\n\n.uppy-Provider-breadcrumbsIcon svg {\n  width: 13px;\n  height: 13px;\n  fill: #525252;\n}\n\n.uppy-Provider-breadcrumbs button {\n  display: inline-block;\n  padding: 4px;\n  line-height: inherit;\n  border-radius: 3px;\n}\n.uppy-Provider-breadcrumbs button:focus {\n  outline: none;\n}\n.uppy-Provider-breadcrumbs button::-moz-focus-inner {\n  border: 0;\n}\n.uppy-Provider-breadcrumbs button:hover {\n  color: #1b5dab;\n}\n.uppy-Provider-breadcrumbs button:focus {\n  background-color: #dfe6f1;\n}\n[data-uppy-theme=dark] .uppy-Provider-breadcrumbs button:focus {\n  background-color: #333;\n}\n.uppy-Provider-breadcrumbs button:not(:last-of-type) {\n  text-decoration: underline;\n}\n.uppy-Provider-breadcrumbs button:last-of-type {\n  color: #333;\n  font-weight: 500;\n  cursor: normal;\n  pointer-events: none;\n}\n.uppy-Provider-breadcrumbs button:hover {\n  cursor: pointer;\n}\n[data-uppy-theme=dark] .uppy-Provider-breadcrumbs button {\n  color: #eaeaea;\n}\n\n.uppy-ProviderBrowser {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n  font-weight: 400;\n  font-size: 14px;\n}\n\n.uppy-ProviderBrowser-user {\n  margin: 0 8px 0 0;\n  color: #333;\n  font-weight: 500;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-user {\n  color: #eaeaea;\n}\n\n[dir=\"ltr\"] .uppy-ProviderBrowser-user::after{\n  left: 4px;\n}\n\n[dir=\"rtl\"] .uppy-ProviderBrowser-user::after{\n  right: 4px;\n}\n\n.uppy-ProviderBrowser-user::after {\n  position: relative;\n  color: #939393;\n  font-weight: normal;\n  content: \"·\";\n}\n\n.uppy-ProviderBrowser-header {\n  position: relative;\n  z-index: 1001;\n  border-bottom: 1px solid #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-header {\n  border-bottom: 1px solid #333;\n}\n\n.uppy-ProviderBrowser-headerBar {\n  z-index: 1001;\n  padding: 7px 15px;\n  color: #757575;\n  font-size: 12px;\n  line-height: 1.4;\n  background-color: #fafafa;\n}\n.uppy-size--md .uppy-ProviderBrowser-headerBar {\n  display: flex;\n  align-items: center;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-headerBar {\n  background-color: #1f1f1f;\n}\n\n.uppy-ProviderBrowser-headerBar--simple {\n  display: block;\n  justify-content: center;\n  text-align: center;\n}\n\n.uppy-ProviderBrowser-headerBar--simple .uppy-Provider-breadcrumbsWrap {\n  display: inline-block;\n  flex: none;\n  vertical-align: middle;\n}\n\n.uppy-ProviderBrowser-searchFilter {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 30px;\n  padding-left: 8px;\n  padding-right: 8px;\n  margin-top: 15px;\n  margin-bottom: 15px;\n}\n\n[dir=\"ltr\"] .uppy-ProviderBrowser-searchFilterInput{\n  padding-left: 30px;\n}\n\n[dir=\"rtl\"] .uppy-ProviderBrowser-searchFilterInput{\n  padding-right: 30px;\n}\n\n[dir=\"ltr\"] .uppy-ProviderBrowser-searchFilterInput{\n  padding-right: 30px;\n}\n\n[dir=\"rtl\"] .uppy-ProviderBrowser-searchFilterInput{\n  padding-left: 30px;\n}\n\n.uppy-ProviderBrowser-searchFilterInput {\n  z-index: 1001;\n  width: 100%;\n  height: 30px;\n  font-size: 13px;\n  font-family: -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", \"Segoe UI Symbol\", \"Segoe UI Emoji\", \"Apple Color Emoji\", Roboto, Helvetica, Arial, sans-serif;\n  line-height: 1.4;\n  background-color: #eaeaea;\n  border: 0;\n  border-radius: 4px;\n  outline: 0;\n  color: #333;\n}\n.uppy-ProviderBrowser-searchFilterInput::-webkit-search-cancel-button {\n  display: none;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-searchFilterInput {\n  color: #eaeaea;\n  background-color: #1f1f1f;\n}\n\n.uppy-ProviderBrowser-searchFilterInput:focus {\n  background-color: #cfcfcf;\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-searchFilterInput:focus {\n  background-color: #333;\n}\n\n[dir=\"ltr\"] .uppy-ProviderBrowser-searchFilterIcon{\n  left: 16px;\n}\n\n[dir=\"rtl\"] .uppy-ProviderBrowser-searchFilterIcon{\n  right: 16px;\n}\n\n.uppy-ProviderBrowser-searchFilterIcon {\n  position: absolute;\n  z-index: 1002;\n  width: 12px;\n  height: 12px;\n  color: #757575;\n}\n\n.uppy-ProviderBrowser-searchFilterInput::placeholder {\n  color: #939393;\n  opacity: 1;\n}\n\n[dir=\"ltr\"] .uppy-ProviderBrowser-searchFilterReset{\n  right: 16px;\n}\n\n[dir=\"rtl\"] .uppy-ProviderBrowser-searchFilterReset{\n  left: 16px;\n}\n\n.uppy-ProviderBrowser-searchFilterReset {\n  border-radius: 3px;\n  position: absolute;\n  z-index: 1002;\n  width: 22px;\n  height: 22px;\n  padding: 6px;\n  color: #939393;\n  cursor: pointer;\n}\n.uppy-ProviderBrowser-searchFilterReset:focus {\n  outline: none;\n}\n.uppy-ProviderBrowser-searchFilterReset::-moz-focus-inner {\n  border: 0;\n}\n.uppy-ProviderBrowser-searchFilterReset:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n.uppy-ProviderBrowser-searchFilterReset:hover {\n  color: #757575;\n}\n.uppy-ProviderBrowser-searchFilterReset svg {\n  vertical-align: text-top;\n}\n\n.uppy-ProviderBrowser-userLogout {\n  padding: 4px;\n  color: #2275d7;\n  line-height: inherit;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.uppy-ProviderBrowser-userLogout:focus {\n  outline: none;\n}\n.uppy-ProviderBrowser-userLogout::-moz-focus-inner {\n  border: 0;\n}\n.uppy-ProviderBrowser-userLogout:hover {\n  color: #1b5dab;\n}\n.uppy-ProviderBrowser-userLogout:focus {\n  background-color: #dfe6f1;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-userLogout:focus {\n  background-color: #333;\n}\n.uppy-ProviderBrowser-userLogout:hover {\n  text-decoration: underline;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-userLogout {\n  color: #eaeaea;\n}\n\n.uppy-ProviderBrowser-body {\n  position: relative;\n  flex: 1;\n}\n\n.uppy-ProviderBrowser-list {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: block;\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  list-style: none;\n  background-color: #fff;\n  border-spacing: 0;\n  -webkit-overflow-scrolling: touch;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-list {\n  background-color: #1f1f1f;\n}\n.uppy-ProviderBrowser-list:focus {\n  outline: none;\n}\n\n.uppy-ProviderBrowserItem-inner {\n  font-weight: 500;\n  font-size: 13px;\n  cursor: pointer;\n}\n\n.uppy-ProviderBrowser-footer {\n  display: flex;\n  align-items: center;\n  height: 65px;\n  padding: 0 15px;\n  background-color: #fff;\n  border-top: 1px solid #eaeaea;\n}\n[dir=\"ltr\"] .uppy-ProviderBrowser-footer button{\n  margin-right: 8px;\n}\n[dir=\"rtl\"] .uppy-ProviderBrowser-footer button{\n  margin-left: 8px;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-footer {\n  background-color: #1f1f1f;\n  border-top: 1px solid #333;\n}\n\n.uppy-Dashboard-Item-previewInnerWrap {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  border-radius: 3px;\n  box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.4);\n}\n.uppy-size--md .uppy-Dashboard-Item-previewInnerWrap {\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);\n}\n\n.uppy-Dashboard-Item-previewInnerWrap::after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1001;\n  display: none;\n  background-color: rgba(0, 0, 0, 0.65);\n  content: \"\";\n}\n\n.uppy-Dashboard-Item-previewLink {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1002;\n}\n.uppy-Dashboard-Item-previewLink:focus {\n  box-shadow: inset 0 0 0 3px #76abe9;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-previewLink:focus {\n  box-shadow: inset 0 0 0 3px #016c8d;\n}\n\n.uppy-Dashboard-Item-preview img.uppy-Dashboard-Item-previewImg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 3px;\n  transform: translateZ(0);\n}\n\n.uppy-Dashboard-Item-progress {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 1002;\n  width: 120px;\n  color: #fff;\n  text-align: center;\n  transform: translate(-50%, -50%);\n  transition: all 0.35 ease;\n}\n\n.uppy-Dashboard-Item-progressIndicator {\n  display: inline-block;\n  width: 38px;\n  height: 38px;\n  opacity: 0.9;\n  color: #fff;\n}\n.uppy-size--md .uppy-Dashboard-Item-progressIndicator {\n  width: 55px;\n  height: 55px;\n}\n\nbutton.uppy-Dashboard-Item-progressIndicator {\n  cursor: pointer;\n}\nbutton.uppy-Dashboard-Item-progressIndicator:focus {\n  outline: none;\n}\nbutton.uppy-Dashboard-Item-progressIndicator::-moz-focus-inner {\n  border: 0;\n}\nbutton.uppy-Dashboard-Item-progressIndicator:focus .uppy-Dashboard-Item-progressIcon--bg,\nbutton.uppy-Dashboard-Item-progressIndicator:focus .uppy-Dashboard-Item-progressIcon--retry {\n  fill: #76abe9;\n}\n\n.uppy-Dashboard-Item-progressIcon--circle {\n  width: 100%;\n  height: 100%;\n}\n\n.uppy-Dashboard-Item-progressIcon--bg {\n  stroke: rgba(255, 255, 255, 0.4);\n}\n\n.uppy-Dashboard-Item-progressIcon--progress {\n  transition: stroke-dashoffset 0.5s ease-out;\n  stroke: #fff;\n}\n\n.uppy-Dashboard-Item-progressIcon--play {\n  transition: all 0.2s;\n  fill: #fff;\n  stroke: #fff;\n}\n\n.uppy-Dashboard-Item-progressIcon--cancel {\n  transition: all 0.2s;\n  fill: #fff;\n}\n\n.uppy-Dashboard-Item-progressIcon--pause {\n  transition: all 0.2s;\n  fill: #fff;\n  stroke: #fff;\n}\n\n.uppy-Dashboard-Item-progressIcon--check {\n  transition: all 0.2s;\n  fill: #fff;\n}\n\n.uppy-Dashboard-Item-progressIcon--retry {\n  fill: #fff;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{\n  right: -8px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{\n  left: -8px;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{\n  left: initial;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{\n  right: initial;\n}\n\n.uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress {\n  top: -9px;\n  width: auto;\n  transform: initial;\n}\n\n.uppy-Dashboard-Item.is-error .uppy-Dashboard-Item-progressIndicator {\n  width: 18px;\n  height: 18px;\n}\n.uppy-size--md .uppy-Dashboard-Item.is-error .uppy-Dashboard-Item-progressIndicator {\n  width: 28px;\n  height: 28px;\n}\n\n.uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progressIndicator {\n  width: 18px;\n  height: 18px;\n  opacity: 1;\n}\n.uppy-size--md .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progressIndicator {\n  width: 22px;\n  height: 22px;\n}\n\n.uppy-Dashboard-Item.is-processing .uppy-Dashboard-Item-progress {\n  opacity: 0;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-Item-fileInfo{\n  padding-right: 5px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-Item-fileInfo{\n  padding-left: 5px;\n}\n[dir=\"ltr\"] .uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfo{\n  padding-right: 10px;\n}\n[dir=\"rtl\"] .uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfo{\n  padding-left: 10px;\n}\n[dir=\"ltr\"] .uppy-size--md.uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfo{\n  padding-right: 15px;\n}\n[dir=\"rtl\"] .uppy-size--md.uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfo{\n  padding-left: 15px;\n}\n\n.uppy-Dashboard-Item-name {\n  margin-bottom: 5px;\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 1.3;\n  word-wrap: anywhere;\n  word-break: break-all;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-name {\n  color: #eaeaea;\n}\n.uppy-size--md.uppy-Dashboard--singleFile .uppy-Dashboard-Item-name {\n  font-size: 14px;\n  line-height: 1.4;\n}\n\n.uppy-Dashboard-Item-fileName {\n  display: flex;\n  align-items: baseline;\n}\n.uppy-Dashboard-Item-fileName button {\n  margin-left: 5px;\n}\n\n.uppy-Dashboard-Item-author {\n  color: #757575;\n  vertical-align: bottom;\n  font-size: 11px;\n  font-weight: normal;\n  display: inline-block;\n  line-height: 1;\n  margin-bottom: 5px;\n}\n.uppy-Dashboard-Item-author a {\n  color: #757575;\n}\n\n.uppy-Dashboard-Item-status {\n  color: #757575;\n  font-weight: normal;\n  font-size: 11px;\n  line-height: 1;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-status {\n  color: #bbb;\n}\n\n.uppy-Dashboard-Item-statusSize {\n  display: inline-block;\n  text-transform: uppercase;\n  vertical-align: bottom;\n  margin-bottom: 5px;\n}\n\n.uppy-Dashboard-Item-reSelect {\n  color: #2275d7;\n  font-weight: 600;\n  font-size: inherit;\n  font-family: inherit;\n}\n\n.uppy-Dashboard-Item-errorMessage {\n  font-size: 11px;\n  font-weight: 500;\n  line-height: 1.3;\n  color: #a51523;\n  background-color: #fdeff1;\n  padding: 5px 6px;\n}\n\n.uppy-Dashboard-Item-errorMessageBtn {\n  font-size: 11px;\n  text-decoration: underline;\n  color: #a51523;\n  cursor: pointer;\n  font-weight: 500;\n}\n\n.uppy-Dashboard-Item-preview .uppy-Dashboard-Item-errorMessage {\n  display: none;\n}\n.uppy-size--md .uppy-Dashboard-Item-preview .uppy-Dashboard-Item-errorMessage {\n  display: block;\n  border-top: 1px solid #f7c2c8;\n  padding: 6px 8px;\n  line-height: 1.4;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n\n.uppy-Dashboard-Item-fileInfo .uppy-Dashboard-Item-errorMessage {\n  display: inline-block;\n  position: static;\n  border: 1px solid #f7c2c8;\n  border-radius: 3px;\n}\n.uppy-size--md .uppy-Dashboard-Item-fileInfo .uppy-Dashboard-Item-errorMessage {\n  display: none;\n}\n\n.uppy-Dashboard-Item-action {\n  color: #939393;\n  cursor: pointer;\n}\n.uppy-Dashboard-Item-action:focus {\n  outline: none;\n}\n.uppy-Dashboard-Item-action::-moz-focus-inner {\n  border: 0;\n}\n.uppy-Dashboard-Item-action:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n.uppy-Dashboard-Item-action:hover {\n  color: #1f1f1f;\n  opacity: 1;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action {\n  color: #cfcfcf;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action:hover {\n  color: #eaeaea;\n}\n\n.uppy-Dashboard-Item-action--remove {\n  color: #1f1f1f;\n  opacity: 0.95;\n}\n.uppy-Dashboard-Item-action--remove:hover {\n  color: #000;\n  opacity: 1;\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-Dashboard-Item-action--remove,[dir=\"ltr\"]  .uppy-Dashboard--singleFile .uppy-Dashboard-Item-action--remove{\n  right: -8px;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-Dashboard-Item-action--remove,[dir=\"rtl\"]  .uppy-Dashboard--singleFile .uppy-Dashboard-Item-action--remove{\n  left: -8px;\n}\n.uppy-size--md .uppy-Dashboard-Item-action--remove, .uppy-Dashboard--singleFile .uppy-Dashboard-Item-action--remove {\n  position: absolute;\n  top: -8px;\n  z-index: 1002;\n  width: 18px;\n  height: 18px;\n  padding: 0;\n}\n.uppy-size--md .uppy-Dashboard-Item-action--remove:focus, .uppy-Dashboard--singleFile .uppy-Dashboard-Item-action--remove:focus {\n  border-radius: 50%;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action--remove {\n  color: #525252;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action--remove:hover {\n  color: #333;\n}\n\n.uppy-Dashboard:not(.uppy-size--md):not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item-actionWrapper {\n  display: flex;\n  align-items: center;\n}\n.uppy-Dashboard:not(.uppy-size--md):not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item-action {\n  width: 22px;\n  height: 22px;\n  margin-left: 3px;\n  padding: 3px;\n}\n.uppy-Dashboard:not(.uppy-size--md):not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item-action:focus {\n  border-radius: 3px;\n}\n\n.uppy-size--md .uppy-Dashboard-Item-action--copyLink,\n.uppy-size--md .uppy-Dashboard-Item-action--edit {\n  width: 16px;\n  height: 16px;\n  padding: 0;\n}\n.uppy-size--md .uppy-Dashboard-Item-action--copyLink:focus,\n.uppy-size--md .uppy-Dashboard-Item-action--edit:focus {\n  border-radius: 3px;\n}\n\n.uppy-Dashboard-Item {\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  border-bottom: 1px solid #eaeaea;\n}\n[dir=\"ltr\"] .uppy-Dashboard:not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item{\n  padding-right: 0;\n}\n[dir=\"rtl\"] .uppy-Dashboard:not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item{\n  padding-left: 0;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item {\n  border-bottom: 1px solid #333;\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-Dashboard-Item{\n  float: left;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-Dashboard-Item{\n  float: right;\n}\n.uppy-size--md .uppy-Dashboard-Item {\n  position: relative;\n  display: block;\n  /* When changing width: also update `itemsPerRow` values in `src/components/Dashboard.js`. */\n  width: calc(33.333% - 15px - 15px);\n  height: 215px;\n  margin: 5px 15px;\n  padding: 0;\n  border-bottom: 0;\n}\n.uppy-size--lg .uppy-Dashboard-Item {\n  /* When changing width: also update `itemsPerRow` values in `src/components/Dashboard.js`. */\n  width: calc(25% - 15px - 15px);\n  height: 190px;\n  margin: 5px 15px;\n  padding: 0;\n}\n.uppy-size--xl .uppy-Dashboard-Item {\n  /* When changing width: also update `itemsPerRow` values in `src/components/Dashboard.js`. */\n  width: calc(20% - 15px - 15px);\n  height: 210px;\n  padding: 0;\n}\n.uppy-Dashboard--singleFile .uppy-Dashboard-Item {\n  display: block;\n  width: 100%;\n  max-width: 400px;\n  height: auto;\n  border-bottom: 0;\n  position: relative;\n  padding: 0;\n  margin: 10px;\n}\n\n.uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-previewInnerWrap {\n  opacity: 0.2;\n}\n\n.uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-name {\n  opacity: 0.7;\n}\n\n.uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-preview::before {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1005;\n  background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_4___ + ");\n  background-repeat: no-repeat;\n  background-position: 50% 10px;\n  background-size: 25px;\n  opacity: 0.5;\n  content: \"\";\n}\n.uppy-size--md .uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-preview::before {\n  background-position: 50% 50%;\n  background-size: 40px;\n}\n\n.uppy-Dashboard-Item-preview {\n  position: relative;\n}\n.uppy-Dashboard:not(.uppy-size--md):not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item-preview {\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: 50px;\n  height: 50px;\n}\n.uppy-size--md .uppy-Dashboard-Item-preview {\n  width: 100%;\n  height: 140px;\n}\n.uppy-size--lg .uppy-Dashboard-Item-preview {\n  height: 120px;\n}\n.uppy-size--xl .uppy-Dashboard-Item-preview {\n  height: 140px;\n}\n.uppy-Dashboard--singleFile .uppy-Dashboard-Item-preview {\n  width: 100%;\n  height: 270px;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-Item-fileInfoAndButtons{\n  padding-right: 8px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-Item-fileInfoAndButtons{\n  padding-left: 8px;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-Item-fileInfoAndButtons{\n  padding-left: 12px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-Item-fileInfoAndButtons{\n  padding-right: 12px;\n}\n\n.uppy-Dashboard-Item-fileInfoAndButtons {\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  justify-content: space-between;\n}\n.uppy-size--md .uppy-Dashboard-Item-fileInfoAndButtons, .uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfoAndButtons {\n  align-items: flex-start;\n  width: 100%;\n  padding: 0;\n  padding-top: 9px;\n}\n\n.uppy-Dashboard-Item-fileInfo {\n  flex-grow: 1;\n  flex-shrink: 1;\n}\n\n.uppy-Dashboard-Item-actionWrapper {\n  flex-grow: 0;\n  flex-shrink: 0;\n}\n\n.uppy-Dashboard-Item.is-inprogress .uppy-Dashboard-Item-previewInnerWrap::after,\n.uppy-Dashboard-Item.is-error .uppy-Dashboard-Item-previewInnerWrap::after {\n  display: block;\n}\n\n.uppy-Dashboard-Item.is-inprogress:not(.is-resumable) .uppy-Dashboard-Item-action--remove {\n  display: none;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-Item-errorDetails{\n  left: 2px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-Item-errorDetails{\n  right: 2px;\n}\n\n.uppy-Dashboard-Item-errorDetails {\n  position: relative;\n  top: 0;\n  flex-shrink: 0;\n  width: 13px;\n  height: 13px;\n  color: #fff;\n  font-weight: 600;\n  font-size: 10px;\n  line-height: 12px;\n  text-align: center;\n  background-color: #939393;\n  border-radius: 50%;\n  border: none;\n  cursor: help;\n  -webkit-appearance: none;\n          appearance: none;\n}\n\n.uppy-Dashboard-Item-errorDetails::after {\n  line-height: 1.3;\n  word-wrap: break-word;\n}\n\n.uppy-Dashboard-FileCard {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1005;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  background-color: #fff;\n  border-radius: 5px;\n  box-shadow: 0 0 10px 4px rgba(0, 0, 0, 0.1);\n}\n.uppy-Dashboard-FileCard .uppy-DashboardContent-bar {\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n}\n.uppy-Dashboard-FileCard .uppy-Dashboard-FileCard-actions {\n  border-bottom-right-radius: 5px;\n  border-bottom-left-radius: 5px;\n}\n\n.uppy-Dashboard-FileCard-inner {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  flex-shrink: 1;\n  height: 100%;\n  min-height: 0;\n}\n\n.uppy-Dashboard-FileCard-preview {\n  position: relative;\n  display: flex;\n  flex-grow: 0;\n  flex-shrink: 1;\n  align-items: center;\n  justify-content: center;\n  height: 60%;\n  min-height: 0;\n  border-bottom: 1px solid #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-FileCard-preview {\n  background-color: #333;\n  border-bottom: 0;\n}\n\n.uppy-Dashboard-FileCard-preview img.uppy-Dashboard-Item-previewImg {\n  flex: 0 0 auto;\n  max-width: 90%;\n  max-height: 90%;\n  object-fit: cover;\n  border-radius: 3px;\n  box-shadow: 0 3px 20px rgba(0, 0, 0, 0.15);\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-FileCard-edit{\n  right: 10px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-FileCard-edit{\n  left: 10px;\n}\n\n.uppy-Dashboard-FileCard-edit {\n  position: absolute;\n  top: 10px;\n  padding: 7px 15px;\n  color: #fff;\n  font-size: 13px;\n  background-color: rgba(0, 0, 0, 0.5);\n  border-radius: 50px;\n}\n.uppy-Dashboard-FileCard-edit:focus {\n  outline: none;\n}\n.uppy-Dashboard-FileCard-edit::-moz-focus-inner {\n  border: 0;\n}\n.uppy-Dashboard-FileCard-edit:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n.uppy-Dashboard-FileCard-edit:hover {\n  background-color: rgba(0, 0, 0, 0.8);\n}\n\n.uppy-Dashboard-FileCard-info {\n  flex-grow: 0;\n  flex-shrink: 0;\n  height: 40%;\n  padding: 30px 20px 20px 20px;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-FileCard-info {\n  background-color: #1f1f1f;\n}\n\n.uppy-Dashboard-FileCard-fieldset {\n  max-width: 640px;\n  margin: auto;\n  margin-bottom: 12px;\n  padding: 0;\n  font-size: 0;\n  border: 0;\n}\n\n.uppy-Dashboard-FileCard-label {\n  display: inline-block;\n  width: 22%;\n  color: #525252;\n  font-size: 12px;\n  vertical-align: middle;\n}\n.uppy-size--md .uppy-Dashboard-FileCard-label {\n  font-size: 14px;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-FileCard-label {\n  color: #eaeaea;\n}\n\n.uppy-Dashboard-FileCard-input {\n  display: inline-block;\n  width: 78%;\n  vertical-align: middle;\n}\n\n.uppy-Dashboard-FileCard-actions {\n  display: flex;\n  flex-grow: 0;\n  flex-shrink: 0;\n  align-items: center;\n  height: 55px;\n  padding: 0 15px;\n  background-color: #fafafa;\n  border-top: 1px solid #eaeaea;\n}\n.uppy-size--md .uppy-Dashboard-FileCard-actions {\n  height: 65px;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-FileCard-actions {\n  background-color: #1f1f1f;\n  border-top: 1px solid #333;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-FileCard-actionsBtn{\n  margin-right: 10px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-FileCard-actionsBtn{\n  margin-left: 10px;\n}\n\n.uppy-transition-slideDownUp-enter {\n  transform: translate3d(0, -105%, 0);\n  opacity: 0.01;\n  transition: transform 0.25s ease-in-out, opacity 0.25s ease-in-out;\n}\n\n.uppy-transition-slideDownUp-enter.uppy-transition-slideDownUp-enter-active {\n  transform: translate3d(0, 0, 0);\n  opacity: 1;\n}\n\n.uppy-transition-slideDownUp-leave {\n  transform: translate3d(0, 0, 0);\n  opacity: 1;\n  transition: transform 0.25s ease-in-out, opacity 0.25s ease-in-out;\n}\n\n.uppy-transition-slideDownUp-leave.uppy-transition-slideDownUp-leave-active {\n  transform: translate3d(0, -105%, 0);\n  opacity: 0.01;\n}\n\n@keyframes uppy-Dashboard-fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes uppy-Dashboard-fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@keyframes uppy-Dashboard-slideDownAndFadeIn {\n  from {\n    transform: translate3d(-50%, -70%, 0);\n    opacity: 0;\n  }\n  to {\n    transform: translate3d(-50%, -50%, 0);\n    opacity: 1;\n  }\n}\n@keyframes uppy-Dashboard-slideDownAndFadeIn--small {\n  from {\n    transform: translate3d(0, -20%, 0);\n    opacity: 0;\n  }\n  to {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes uppy-Dashboard-slideUpFadeOut {\n  from {\n    transform: translate3d(-50%, -50%, 0);\n    opacity: 1;\n  }\n  to {\n    transform: translate3d(-50%, -70%, 0);\n    opacity: 0;\n  }\n}\n@keyframes uppy-Dashboard-slideUpFadeOut--small {\n  from {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n  to {\n    transform: translate3d(0, -20%, 0);\n    opacity: 0;\n  }\n}\n.uppy-Dashboard--modal {\n  z-index: 1001;\n}\n\n.uppy-Dashboard--modal[aria-hidden=true] {\n  display: none;\n}\n\n.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose > .uppy-Dashboard-inner {\n  animation: uppy-Dashboard-slideDownAndFadeIn--small 0.3s cubic-bezier(0, 0, 0.2, 1);\n}\n@media only screen and (min-width: 820px) {\n  .uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose > .uppy-Dashboard-inner {\n    animation: uppy-Dashboard-slideDownAndFadeIn 0.3s cubic-bezier(0, 0, 0.2, 1);\n  }\n}\n\n.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose > .uppy-Dashboard-overlay {\n  animation: uppy-Dashboard-fadeIn 0.3s cubic-bezier(0, 0, 0.2, 1);\n}\n\n.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose.uppy-Dashboard--isClosing > .uppy-Dashboard-inner {\n  animation: uppy-Dashboard-slideUpFadeOut--small 0.3s cubic-bezier(0, 0, 0.2, 1);\n}\n@media only screen and (min-width: 820px) {\n  .uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose.uppy-Dashboard--isClosing > .uppy-Dashboard-inner {\n    animation: uppy-Dashboard-slideUpFadeOut 0.3s cubic-bezier(0, 0, 0.2, 1);\n  }\n}\n\n.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose.uppy-Dashboard--isClosing > .uppy-Dashboard-overlay {\n  animation: uppy-Dashboard-fadeOut 0.3s cubic-bezier(0, 0, 0.2, 1);\n}\n\n.uppy-Dashboard-isFixed {\n  height: 100vh;\n  overflow: hidden;\n}\n\n.uppy-Dashboard--modal .uppy-Dashboard-overlay {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1001;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.uppy-Dashboard-inner {\n  position: relative;\n  max-width: 100%;\n  max-height: 100%;\n  background-color: #f4f4f4;\n  border: 1px solid #eaeaea;\n  border-radius: 5px;\n  outline: none;\n}\n.uppy-size--md .uppy-Dashboard-inner {\n  min-height: auto;\n}\n@media only screen and (min-width: 820px) {\n  .uppy-Dashboard-inner {\n    width: 650px;\n    height: 500px;\n  }\n}\n.uppy-Dashboard--modal .uppy-Dashboard-inner {\n  z-index: 1002;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-inner {\n  background-color: #1f1f1f;\n}\n.uppy-Dashboard--isDisabled .uppy-Dashboard-inner {\n  cursor: not-allowed;\n}\n\n.uppy-Dashboard-innerWrap {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n  border-radius: 5px;\n  opacity: 0;\n}\n.uppy-Dashboard--isInnerWrapVisible .uppy-Dashboard-innerWrap {\n  opacity: 1;\n}\n.uppy-Dashboard--isDisabled .uppy-Dashboard-innerWrap {\n  opacity: 0.6;\n  filter: grayscale(100%);\n  -webkit-user-select: none;\n          user-select: none;\n  cursor: not-allowed;\n}\n\n.uppy-Dashboard--isDisabled .uppy-ProviderIconBg {\n  fill: #9f9f9f;\n}\n\n.uppy-Dashboard--isDisabled [disabled], .uppy-Dashboard--isDisabled [aria-disabled] {\n  pointer-events: none;\n  cursor: not-allowed;\n}\n\n.uppy-Dashboard--modal .uppy-Dashboard-inner {\n  position: fixed;\n  top: 35px;\n  right: 15px;\n  bottom: 15px;\n  left: 15px;\n  border: none;\n}\n@media only screen and (min-width: 820px) {\n  .uppy-Dashboard--modal .uppy-Dashboard-inner {\n    top: 50%;\n    right: auto;\n    left: 50%;\n    box-shadow: 0 5px 15px 4px rgba(0, 0, 0, 0.15);\n    transform: translate(-50%, -50%);\n  }\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-close{\n  right: -2px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-close{\n  left: -2px;\n}\n\n.uppy-Dashboard-close {\n  position: absolute;\n  top: -33px;\n  z-index: 1005;\n  display: block;\n  color: rgba(255, 255, 255, 0.9);\n  font-size: 27px;\n  cursor: pointer;\n}\n.uppy-Dashboard-close:focus {\n  outline: none;\n}\n.uppy-Dashboard-close::-moz-focus-inner {\n  border: 0;\n}\n.uppy-Dashboard-close:focus {\n  color: #8cb8ed;\n}\n@media only screen and (min-width: 820px) {\n  [dir=\"ltr\"] .uppy-Dashboard-close{\n    right: -35px;\n  }\n  [dir=\"rtl\"] .uppy-Dashboard-close{\n    left: -35px;\n  }\n  .uppy-Dashboard-close {\n    top: -10px;\n    font-size: 35px;\n  }\n}\n\n.uppy-Dashboard-serviceMsg {\n  position: relative;\n  top: -1px;\n  z-index: 1004;\n  padding: 12px 0;\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 1.3;\n  background-color: #fffbf7;\n  border-top: 1px solid #edd4b9;\n  border-bottom: 1px solid #edd4b9;\n}\n.uppy-size--md .uppy-Dashboard-serviceMsg {\n  font-size: 14px;\n  line-height: 1.4;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-serviceMsg {\n  color: #eaeaea;\n  background-color: #1f1f1f;\n  border-top: 1px solid #333;\n  border-bottom: 1px solid #333;\n}\n\n.uppy-Dashboard-serviceMsg-title {\n  display: block;\n  margin-bottom: 4px;\n  padding-left: 42px;\n  line-height: 1;\n}\n\n.uppy-Dashboard-serviceMsg-text {\n  padding: 0 15px;\n}\n\n.uppy-Dashboard-serviceMsg-actionBtn {\n  color: #2275d7;\n  font-weight: inherit;\n  font-size: inherit;\n  vertical-align: initial;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-serviceMsg-actionBtn {\n  color: rgba(2, 186, 242, 0.9);\n}\n\n.uppy-Dashboard-serviceMsg-icon {\n  position: absolute;\n  top: 10px;\n  left: 15px;\n}\n\n.uppy-Dashboard-AddFiles {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  text-align: center;\n}\n[data-uppy-drag-drop-supported=true] .uppy-Dashboard-AddFiles {\n  height: calc(100% - 14px);\n  margin: 7px;\n  border: 1px dashed #dfdfdf;\n  border-radius: 3px;\n}\n.uppy-Dashboard-AddFilesPanel .uppy-Dashboard-AddFiles {\n  height: calc(100% - 14px - 40px);\n  border: none;\n}\n.uppy-Dashboard--modal .uppy-Dashboard-AddFiles {\n  border-color: #cfcfcf;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-AddFiles {\n  border-color: #757575;\n}\n\n.uppy-Dashboard-AddFiles-info {\n  display: none;\n  margin-top: auto;\n  padding-top: 15px;\n  padding-bottom: 15px;\n}\n.uppy-size--height-md .uppy-Dashboard-AddFiles-info {\n  display: block;\n}\n.uppy-size--md .uppy-Dashboard-AddFiles-info {\n  position: absolute;\n  right: 0;\n  bottom: 25px;\n  left: 0;\n  padding-top: 30px;\n  padding-bottom: 0;\n}\n[data-uppy-num-acquirers=\"0\"] .uppy-Dashboard-AddFiles-info {\n  margin-top: 0;\n}\n\n.uppy-Dashboard-browse {\n  color: rgba(34, 117, 215, 0.9);\n  cursor: pointer;\n}\n.uppy-Dashboard-browse:focus {\n  outline: none;\n}\n.uppy-Dashboard-browse::-moz-focus-inner {\n  border: 0;\n}\n.uppy-Dashboard-browse:hover, .uppy-Dashboard-browse:focus {\n  border-bottom: 1px solid #2275d7;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-browse {\n  color: rgba(2, 186, 242, 0.9);\n}\n[data-uppy-theme=dark] .uppy-Dashboard-browse:hover, [data-uppy-theme=dark] .uppy-Dashboard-browse:focus {\n  border-bottom: 1px solid #02baf2;\n}\n\n.uppy-Dashboard-browseBtn {\n  display: block;\n  width: 100%;\n  margin-top: 8px;\n  margin-bottom: 5px;\n  font-weight: 500;\n  font-size: 14px;\n}\n.uppy-size--md .uppy-Dashboard-browseBtn {\n  width: auto;\n  margin: auto;\n  margin-top: 15px;\n  margin-bottom: 15px;\n  padding: 13px 44px;\n  font-size: 15px;\n}\n\n.uppy-Dashboard-AddFiles-list {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  width: 100%;\n  margin-top: 2px;\n  padding: 2px 0;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.uppy-size--md .uppy-Dashboard-AddFiles-list {\n  flex: none;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  max-width: 600px;\n  margin-top: 15px;\n  padding-top: 0;\n  overflow-y: visible;\n}\n\n.uppy-DashboardTab {\n  width: 100%;\n  text-align: center;\n  border-bottom: 1px solid #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab {\n  border-bottom: 1px solid #333;\n}\n.uppy-size--md .uppy-DashboardTab {\n  display: inline-block;\n  width: initial;\n  margin-bottom: 10px;\n  border-bottom: none;\n}\n\n.uppy-DashboardTab-btn {\n  flex-direction: row;\n  align-items: center;\n  justify-content: left;\n  width: 100%;\n  height: 100%;\n  padding: 12px 15px;\n  color: #525252;\n  background-color: transparent;\n  cursor: pointer;\n  -webkit-appearance: none;\n  appearance: none;\n}\n.uppy-DashboardTab-btn:focus {\n  outline: none;\n}\n.uppy-DashboardTab-btn::-moz-focus-inner {\n  border: 0;\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-DashboardTab-btn{\n  margin-right: 1px;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-DashboardTab-btn{\n  margin-left: 1px;\n}\n.uppy-size--md .uppy-DashboardTab-btn {\n  flex-direction: column;\n  width: 86px;\n  padding: 10px 3px;\n  border-radius: 5px;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-btn {\n  color: #eaeaea;\n}\n\n.uppy-DashboardTab-btn::-moz-focus-inner {\n  border: 0;\n}\n\n.uppy-DashboardTab-btn:hover {\n  background-color: #e9ecef;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-btn:hover {\n  background-color: #333;\n}\n\n.uppy-DashboardTab-btn:active,\n.uppy-DashboardTab-btn:focus {\n  background-color: #dfe6f1;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-btn:active,\n[data-uppy-theme=dark] .uppy-DashboardTab-btn:focus {\n  background-color: #525252;\n}\n\n.uppy-DashboardTab-btn svg {\n  display: inline-block;\n  max-width: 100%;\n  max-height: 100%;\n  overflow: hidden;\n  vertical-align: text-top;\n  transition: transform ease-in-out 0.15s;\n}\n\n[dir=\"ltr\"] .uppy-DashboardTab-inner{\n  margin-right: 10px;\n}\n\n[dir=\"rtl\"] .uppy-DashboardTab-inner{\n  margin-left: 10px;\n}\n\n.uppy-DashboardTab-inner {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  border-radius: 8px;\n  background-color: #fff;\n  box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.1), 0 2px 3px 0 rgba(0, 0, 0, 0.02);\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-DashboardTab-inner{\n  margin-right: 0;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-DashboardTab-inner{\n  margin-left: 0;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-inner {\n  background-color: #323232;\n  box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.2), 0 1px 2px 0 rgba(0, 0, 0, 0.2), 0 2px 3px 0 rgba(0, 0, 0, 0.08);\n}\n\n.uppy-DashboardTab-name {\n  font-weight: 400;\n  font-size: 14px;\n}\n.uppy-size--md .uppy-DashboardTab-name {\n  margin-top: 8px;\n  margin-bottom: 0;\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.uppy-DashboardTab-iconMyDevice {\n  color: #2275d7;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-iconMyDevice {\n  color: #02baf2;\n}\n\n.uppy-DashboardTab-iconBox {\n  color: #0061d5;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-iconBox {\n  color: #eaeaea;\n}\n\n.uppy-DashboardTab-iconDropbox {\n  color: #0061fe;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-iconDropbox {\n  color: #eaeaea;\n}\n\n.uppy-DashboardTab-iconUnsplash {\n  color: #111;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-iconUnsplash {\n  color: #eaeaea;\n}\n\n.uppy-DashboardTab-iconScreenRec {\n  color: #2c3e50;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-iconScreenRec {\n  color: #eaeaea;\n}\n\n.uppy-DashboardTab-iconAudio {\n  color: #8030a3;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-iconAudio {\n  color: #bf6ee3;\n}\n\n.uppy-Dashboard-input {\n  position: absolute;\n  z-index: -1;\n  width: 0.1px;\n  height: 0.1px;\n  overflow: hidden;\n  opacity: 0;\n}\n\n.uppy-DashboardContent-bar {\n  position: relative;\n  z-index: 1004;\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  height: 40px;\n  padding: 0 10px;\n  background-color: #fafafa;\n  border-bottom: 1px solid #eaeaea;\n}\n.uppy-size--md .uppy-DashboardContent-bar {\n  height: 50px;\n  padding: 0 15px;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-bar {\n  background-color: #1f1f1f;\n  border-bottom: 1px solid #333;\n}\n\n.uppy-DashboardContent-title {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  width: 100%;\n  max-width: 170px;\n  margin: auto;\n  overflow-x: hidden;\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 40px;\n  white-space: nowrap;\n  text-align: center;\n  text-overflow: ellipsis;\n}\n.uppy-size--md .uppy-DashboardContent-title {\n  max-width: 300px;\n  font-size: 14px;\n  line-height: 50px;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-title {\n  color: #eaeaea;\n}\n\n[dir=\"ltr\"] .uppy-DashboardContent-back,[dir=\"ltr\"] \n.uppy-DashboardContent-save{\n  margin-left: -6px;\n}\n\n[dir=\"rtl\"] .uppy-DashboardContent-back,[dir=\"rtl\"] \n.uppy-DashboardContent-save{\n  margin-right: -6px;\n}\n\n.uppy-DashboardContent-back,\n.uppy-DashboardContent-save {\n  margin: 0;\n  padding: 0;\n  color: inherit;\n  font-size: inherit;\n  font-family: inherit;\n  line-height: 1;\n  background: none;\n  border: 0;\n  -webkit-appearance: none;\n  padding: 7px 6px;\n  color: #2275d7;\n  font-weight: 400;\n  font-size: 12px;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.uppy-DashboardContent-back:focus,\n.uppy-DashboardContent-save:focus {\n  outline: none;\n}\n.uppy-DashboardContent-back::-moz-focus-inner,\n.uppy-DashboardContent-save::-moz-focus-inner {\n  border: 0;\n}\n.uppy-DashboardContent-back:hover,\n.uppy-DashboardContent-save:hover {\n  color: #1b5dab;\n}\n.uppy-DashboardContent-back:focus,\n.uppy-DashboardContent-save:focus {\n  background-color: #dfe6f1;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-back:focus,\n[data-uppy-theme=dark] .uppy-DashboardContent-save:focus {\n  background-color: #333;\n}\n.uppy-size--md .uppy-DashboardContent-back,\n.uppy-size--md .uppy-DashboardContent-save {\n  font-size: 14px;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-back,\n[data-uppy-theme=dark] .uppy-DashboardContent-save {\n  color: #02baf2;\n}\n\n[dir=\"ltr\"] .uppy-DashboardContent-addMore{\n  margin-right: -5px;\n}\n\n[dir=\"rtl\"] .uppy-DashboardContent-addMore{\n  margin-left: -5px;\n}\n\n.uppy-DashboardContent-addMore {\n  margin: 0;\n  padding: 0;\n  color: inherit;\n  font-size: inherit;\n  font-family: inherit;\n  line-height: 1;\n  background: none;\n  border: 0;\n  -webkit-appearance: none;\n  width: 29px;\n  height: 29px;\n  padding: 7px 8px;\n  color: #2275d7;\n  font-weight: 500;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.uppy-DashboardContent-addMore:focus {\n  outline: none;\n}\n.uppy-DashboardContent-addMore::-moz-focus-inner {\n  border: 0;\n}\n.uppy-DashboardContent-addMore:hover {\n  color: #1b5dab;\n}\n.uppy-DashboardContent-addMore:focus {\n  background-color: #dfe6f1;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-addMore:focus {\n  background-color: #333;\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-DashboardContent-addMore{\n  margin-right: -8px;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-DashboardContent-addMore{\n  margin-left: -8px;\n}\n.uppy-size--md .uppy-DashboardContent-addMore {\n  width: auto;\n  height: auto;\n  font-size: 14px;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-addMore {\n  color: #02baf2;\n}\n\n[dir=\"ltr\"] .uppy-DashboardContent-addMore svg{\n  margin-right: 4px;\n}\n\n[dir=\"rtl\"] .uppy-DashboardContent-addMore svg{\n  margin-left: 4px;\n}\n\n.uppy-DashboardContent-addMore svg {\n  vertical-align: baseline;\n}\n.uppy-size--md .uppy-DashboardContent-addMore svg {\n  width: 11px;\n  height: 11px;\n}\n\n.uppy-DashboardContent-addMoreCaption {\n  display: none;\n}\n.uppy-size--md .uppy-DashboardContent-addMoreCaption {\n  display: inline;\n}\n\n.uppy-DashboardContent-panel {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1005;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  overflow: hidden;\n  background-color: whitesmoke;\n  border-radius: 5px;\n}\n\n.uppy-Dashboard-AddFilesPanel {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1005;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  background: #fafafa;\n  background: linear-gradient(0deg, #fafafa 35%, rgba(250, 250, 250, 0.85) 100%);\n  border-radius: 5px;\n  box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.15);\n}\n[data-uppy-theme=dark] .uppy-Dashboard-AddFilesPanel {\n  background-color: #333;\n  background-image: linear-gradient(0deg, #1f1f1f 35%, rgba(31, 31, 31, 0.85) 100%);\n}\n\n.uppy-Dashboard--isAddFilesPanelVisible .uppy-Dashboard-files {\n  filter: blur(2px);\n}\n\n.uppy-Dashboard-progress {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 12%;\n}\n\n.uppy-Dashboard-progressBarContainer.is-active {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1004;\n  width: 100%;\n  height: 100%;\n}\n\n.uppy-Dashboard-filesContainer {\n  position: relative;\n  flex: 1;\n  margin: 0;\n  overflow-y: hidden;\n}\n.uppy-Dashboard-filesContainer::after {\n  display: table;\n  clear: both;\n  content: \"\";\n}\n\n.uppy-Dashboard-files {\n  flex: 1;\n  margin: 0;\n  padding: 0 0 10px 0;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.uppy-size--md .uppy-Dashboard-files {\n  padding-top: 10px;\n}\n\n.uppy-Dashboard--singleFile .uppy-Dashboard-filesInner {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n\n.uppy-Dashboard-dropFilesHereHint {\n  position: absolute;\n  top: 7px;\n  right: 7px;\n  bottom: 7px;\n  left: 7px;\n  z-index: 2000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 90px;\n  color: #757575;\n  font-size: 16px;\n  text-align: center;\n  background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_5___ + ");\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  border: 1px dashed #2275d7;\n  border-radius: 3px;\n  visibility: hidden;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-dropFilesHereHint {\n  color: #bbb;\n  background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_6___ + ");\n  border-color: #02baf2;\n}\n\n.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-dropFilesHereHint {\n  visibility: visible;\n}\n.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-DashboardContent-bar,\n.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-files,\n.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-progressindicators,\n.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-serviceMsg {\n  opacity: 0.15;\n}\n.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-AddFiles {\n  opacity: 0.03;\n}\n\n.uppy-Dashboard-AddFiles-title {\n  width: 100%;\n  margin-top: 15px;\n  margin-bottom: 5px;\n  padding: 0 15px;\n  color: #000;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 1.35;\n  text-align: inline-start;\n}\n.uppy-size--md .uppy-Dashboard-AddFiles-title {\n  max-width: 480px;\n  padding: 0 35px;\n  margin-top: 5px;\n  font-weight: 400;\n  font-size: 21px;\n  text-align: center;\n}\n[data-uppy-num-acquirers=\"0\"] .uppy-Dashboard-AddFiles-title {\n  text-align: center;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-AddFiles-title {\n  color: #eaeaea;\n}\n.uppy-Dashboard-AddFiles-title button {\n  font-weight: 500;\n}\n.uppy-size--md .uppy-Dashboard-AddFiles-title button {\n  font-weight: 400;\n}\n\n.uppy-Dashboard-note {\n  max-width: 350px;\n  margin: auto;\n  padding: 0 15px;\n  color: #757575;\n  font-size: 14px;\n  line-height: 1.25;\n  text-align: center;\n}\n.uppy-size--md .uppy-Dashboard-note {\n  max-width: 600px;\n  line-height: 1.35;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-note {\n  color: #cfcfcf;\n}\n\na.uppy-Dashboard-poweredBy {\n  display: inline-block;\n  margin-top: 8px;\n  color: #939393;\n  font-size: 11px;\n  text-align: center;\n  text-decoration: none;\n}\n\n.uppy-Dashboard-poweredByIcon {\n  position: relative;\n  top: 1px;\n  margin-right: 1px;\n  margin-left: 1px;\n  vertical-align: text-top;\n  opacity: 0.9;\n  fill: none;\n  stroke: #939393;\n}\n\n.uppy-Dashboard-Item-previewIcon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 100;\n  width: 25px;\n  height: 25px;\n  transform: translate(-50%, -50%);\n}\n.uppy-size--md .uppy-Dashboard-Item-previewIcon {\n  width: 38px;\n  height: 38px;\n}\n.uppy-Dashboard-Item-previewIcon svg {\n  width: 100%;\n  height: 100%;\n}\n.uppy-Dashboard--singleFile .uppy-Dashboard-Item-previewIcon {\n  width: 90px;\n  height: 90px;\n}\n\n.uppy-Dashboard-Item-previewIconWrap {\n  position: relative;\n  height: 76px;\n  max-height: 75%;\n}\n.uppy-Dashboard--singleFile .uppy-Dashboard-Item-previewIconWrap {\n  height: 176px;\n}\n\n.uppy-Dashboard-Item-previewIconBg {\n  width: 100%;\n  height: 100%;\n  filter: drop-shadow(rgba(0, 0, 0, 0.1) 0 1px 1px);\n}\n\n.uppy-Dashboard-upload {\n  position: relative;\n  width: 50px;\n  height: 50px;\n}\n.uppy-size--md .uppy-Dashboard-upload {\n  width: 60px;\n  height: 60px;\n}\n\n.uppy-Dashboard-upload .uppy-c-icon {\n  position: relative;\n  top: 1px;\n  width: 50%;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-uploadCount{\n  right: -12px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-uploadCount{\n  left: -12px;\n}\n\n.uppy-Dashboard-uploadCount {\n  position: absolute;\n  top: -12px;\n  width: 16px;\n  height: 16px;\n  color: #fff;\n  font-size: 8px;\n  line-height: 16px;\n  background-color: #1bb240;\n  border-radius: 50%;\n}\n.uppy-size--md .uppy-Dashboard-uploadCount {\n  width: 18px;\n  height: 18px;\n  font-size: 9px;\n  line-height: 18px;\n}", "",{"version":3,"sources":["webpack://./node_modules/@uppy/dashboard/dist/style.css"],"names":[],"mappings":"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AgB;AAClB;;AAEA;EACE,qBAAqB;EACrB,cAAc;EACd,sBAAsB;AACxB;AACA;EACE,iBAAiB;AACnB;AACA;EACE,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,cAAc;AAChB;AACA;EACE,2BAA2B;AAC7B;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,aAAa;EACb,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;EAChB,WAAW;EACX,YAAY;EACZ,eAAe;EACf,yBAAyB;AAC3B;AACA;EACE,yBAAyB;AAC3B;;AAEA;EACE,sBAAsB;EACtB,YAAY;AACd;AACA;EACE,mBAAmB;EACnB,YAAY;AACd;AACA;EACE,sBAAsB;EACtB,uBAAuB;AACzB;AACA;EACE,mBAAmB;EACnB,wBAAwB;AAC1B;;AAEA;EACE,WAAW;EACX,cAAc;EACd,eAAe;EACf,YAAY;AACd;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,6CAA6C;AAC/C;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,+CAA+C;AACjD;AACA;EACE,UAAU;AACZ;AACA;EACE,kBAAkB;AACpB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,qBAAqB;EACrB,cAAc;EACd,eAAe;EACf,oBAAoB;EACpB,sBAAsB;AACxB;AACA;EACE,eAAe;AACjB;;AAEA;EACE,YAAY;AACd;AACA;EACE,YAAY;AACd;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,yBAAyB;EACzB,WAAW;EACX,cAAc;EACd,yBAAyB;EACzB,kBAAkB;AACpB;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,6CAA6C;AAC/C;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,+CAA+C;AACjD;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,SAAS;AACX;AACA;EACE,UAAU;AACZ;AACA;EACE,kBAAkB;EAClB,QAAQ;AACV;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,WAAW;EACX,eAAe;EACf,cAAc;EACd,yBAAyB;AAC3B;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,yBAAyB;AAC3B;;AAEA;EACE,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,yBAAyB;EACzB,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,cAAc;EACd,6BAA6B;AAC/B;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;EACnB,kBAAkB;AACpB;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,6CAA6C;AAC/C;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,+CAA+C;AACjD;AACA;EACE,aAAa;AACf;;AAEA;EACE,gBAAgB;EAChB,cAAc;EACd,kBAAkB;AACpB;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,cAAc;AAChB;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,sBAAsB;AACxB;AACA;EACE,cAAc;AAChB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,eAAe;EACf,gBAAgB;AAClB;AACA;EACE,kBAAkB;EAClB,eAAe;AACjB;AACA;EACE,cAAc;AAChB;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,WAAW;EACX,2BAA2B;EAC3B,YAAY;AACd;AACA;EACE,QAAQ;EACR,UAAU;EACV,WAAW;AACb;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,qBAAqB;EACrB,WAAW;EACX,YAAY;EACZ,WAAW;EACX,gBAAgB;EAChB,eAAe;EACf,iBAAiB;EACjB,kBAAkB;EAClB,sBAAsB;EACtB,yBAAyB;EACzB,kBAAkB;EAClB,YAAY;EACZ,wBAAwB;UAChB,gBAAgB;AAC1B;;AAEA;EACE,gBAAgB;EAChB,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,+CAA+C;EAC/C,sBAAsB;EACtB,iCAAiC;EACjC,mCAAmC;EACnC,aAAa;AACf;;AAEA;;EAEE,aAAa;AACf;;AAEA;EACE;IACE,uBAAuB;EACzB;EACA;IACE,yBAAyB;EAC3B;AACF;AACA;;EAEE,aAAa;EACb,mBAAmB;EACnB,eAAe;EACf,uBAAuB;EACvB,8BAA8B;EAC9B,YAAY;AACd;AACA;;EAEE,UAAU;EACV,WAAW;AACb;AACA;;EAEE,kBAAkB;EAClB,UAAU;EACV,SAAS;AACX;AACA;;EAEE,eAAe;AACjB;AACA;;EAEE,UAAU;AACZ;AACA;;EAEE,cAAc;EACd,iBAAiB;EACjB,WAAW;AACb;AACA;;;;EAIE,aAAa;AACf;AACA;;EAEE,YAAY;AACd;AACA;;EAEE,0CAA0C;AAC5C;AACA;;EAEE,0CAA0C;AAC5C;AACA;;EAEE,UAAU;EACV,WAAW;EACX,wBAAwB;AAC1B;AACA;;EAEE,8BAA8B;AAChC;AACA;;EAEE,kBAAkB;EAClB,QAAQ;EACR,UAAU;EACV,WAAW;EACX,SAAS;EACT,wBAAwB;EACxB,yBAAyB;EACzB,gBAAgB;EAChB,kBAAkB;EAClB,kBAAkB;AACpB;AACA;EACE;;IAEE,cAAc;EAChB;AACF;AACA;;EAEE,8CAA8C;AAChD;AACA;;EAEE,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,kBAAkB;AACpB;AACA;;EAEE,kBAAkB;EAClB,aAAa;EACb,SAAS;EACT,OAAO;EACP,WAAW;EACX,8BAA8B;EAC9B,YAAY;EACZ,gBAAgB;EAChB,eAAe;EACf,SAAS;EACT,YAAY;EACZ,qBAAqB;AACvB;AACA;;EAEE,8BAA8B;EAC9B,0BAA0B;AAC5B;AACA;;EAEE,kBAAkB;EAClB,SAAS;EACT,WAAW;EACX,aAAa;EACb,WAAW;EACX,YAAY;EACZ,yBAAyB;EACzB,kBAAkB;EAClB,UAAU;AACZ;AACA;;EAEE,SAAS;AACX;AACA;;EAEE,UAAU;AACZ;AACA;;EAEE,QAAQ;EACR,WAAW;EACX,WAAW;AACb;AACA;;EAEE,UAAU;AACZ;AACA;;;;EAIE,cAAc;AAChB;AACA;;EAEE,6CAA6C;AAC/C;AACA;;EAEE,aAAa;AACf;AACA;;EAEE,SAAS;AACX;;AAEA;EACE,sBAAsB;AACxB;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,aAAa;EACb,mBAAmB;EACnB,SAAS;EACT,iBAAiB;AACnB;AACA;EACE,cAAc;AAChB;AACA;EACE,YAAY;AACd;AACA;EACE,kBAAkB;AACpB;AACA;EACE,iBAAiB;AACnB;AACA;EACE,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,yBAAyB;EACzB,kBAAkB;AACpB;AACA;EACE,yBAAyB;EACzB,aAAa;EACb,8CAA8C;AAChD;AACA;EACE,SAAS;AACX;AACA;EACE,UAAU;AACZ;AACA;EACE,QAAQ;EACR,UAAU;EACV,WAAW;EACX,UAAU;AACZ;AACA;EACE,oCAAoC;EACpC,4CAA4C;AAC9C;AACA;EACE,yBAAyB;EACzB,qBAAqB;AACvB;AACA;EACE,UAAU;AACZ;AACA;EACE,aAAa;EACb,mBAAmB;EACnB,YAAY;EACZ,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;AACzB;AACA;EACE,0BAA0B;EAC1B,aAAa;AACf;AACA;;EAEE,iBAAiB;AACnB;AACA;;EAEE,gBAAgB;AAClB;AACA;;EAEE,eAAe;EACf,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;AACzB;AACA;EACE,eAAe;AACjB;AACA;EACE,iBAAiB;AACnB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,eAAe;AACjB;AACA;EACE,eAAe;AACjB;AACA;EA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CX,YAAY;EACZ,UAAU;AACZ;AACA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;AACnB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,kBAAkB;AACpB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,qBAAqB;AACvB;AACA;EACE,cAAc;AAChB;AACA;EACE,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,qBAAqB;AACvB;AACA;EACE,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,sBAAsB;EACtB,eAAe;EACf,mBAAmB;EACnB,qBAAqB;EACrB,cAAc;EACd,kBAAkB;AACpB;AACA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;EACd,mBAAmB;EACnB,eAAe;EACf,cAAc;AAChB;AACA;EACE,WAAW;AACb;;AAEA;EACE,qBAAqB;EACrB,yBAAyB;EACzB,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,gBAAgB;EAChB,kBAAkB;EAClB,oBAAoB;AACtB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,cAAc;EACd,yBAAyB;EACzB,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,0BAA0B;EAC1B,cAAc;EACd,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,aAAa;AACf;AACA;EACE,cAAc;EACd,6BAA6B;EAC7B,gBAAgB;EAChB,gBAAgB;EAChB,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,8BAA8B;EAC9B,+BAA+B;AACjC;;AAEA;EACE,qBAAqB;EACrB,gBAAgB;EAChB,yBAAyB;EACzB,kBAAkB;AACpB;AACA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;EACd,eAAe;AACjB;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,6CAA6C;AAC/C;AACA;EACE,cAAc;EACd,UAAU;AACZ;AACA;EACE,cAAc;AAChB;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,+CAA+C;AACjD;AACA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;EACd,aAAa;AACf;AACA;EACE,WAAW;EACX,UAAU;AACZ;AACA;EACE,WAAW;AACb;AACA;EACE,UAAU;AACZ;AACA;EACE,kBAAkB;EAClB,SAAS;EACT,aAAa;EACb,WAAW;EACX,YAAY;EACZ,UAAU;AACZ;AACA;EACE,kBAAkB;AACpB;AACA;EACE,cAAc;AAChB;AACA;EACE,WAAW;AACb;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,YAAY;AACd;AACA;EACE,kBAAkB;AACpB;;AAEA;;EAEE,WAAW;EACX,YAAY;EACZ,UAAU;AACZ;AACA;;EAEE,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,aAAa;EACb,gCAAgC;AAClC;AACA;EACE,gBAAgB;AAClB;AACA;EACE,eAAe;AACjB;AACA;EACE,6BAA6B;AAC/B;AACA;EACE,WAAW;AACb;AACA;EACE,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,cAAc;EACd,4FAA4F;EAC5F,kCAAkC;EAClC,aAAa;EACb,gBAAgB;EAChB,UAAU;EACV,gBAAgB;AAClB;AACA;EACE,4FAA4F;EAC5F,8BAA8B;EAC9B,aAAa;EACb,gBAAgB;EAChB,UAAU;AACZ;AACA;EACE,4FAA4F;EAC5F,8BAA8B;EAC9B,aAAa;EACb,UAAU;AACZ;AACA;EACE,cAAc;EACd,WAAW;EACX,gBAAgB;EAChB,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;EAClB,UAAU;EACV,YAAY;AACd;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,aAAa;EACb,yDAA2qB;EAC3qB,4BAA4B;EAC5B,6BAA6B;EAC7B,q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CE,qCAAqC;IACrC,UAAU;EACZ;EACA;IACE,qCAAqC;IACrC,UAAU;EACZ;AACF;AACA;EACE;IACE,kCAAkC;IAClC,UAAU;EACZ;EACA;IACE,+BAA+B;IAC/B,UAAU;EACZ;AACF;AACA;EACE;IACE,qCAAqC;IACrC,UAAU;EACZ;EACA;IACE,qCAAqC;IACrC,UAAU;EACZ;AACF;AACA;EACE;IACE,+BAA+B;IAC/B,UAAU;EACZ;EACA;IACE,kCAAkC;IAClC,UAAU;EACZ;AACF;AACA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,mFAAmF;AACrF;AACA;EACE;IACE,4EAA4E;EAC9E;AACF;;AAEA;EACE,gEAAgE;AAClE;;AAEA;EACE,+EAA+E;AACjF;AACA;EACE;IACE,wEAAwE;EAC1E;AACF;;AAEA;EACE,iEAAiE;AACnE;;AAEA;EACE,aAAa;EACb,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,aAAa;EACb,oCAAoC;AACtC;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,gBAAgB;EAChB,yBAAyB;EACzB,yBAAyB;EACzB,kBAAkB;EAClB,aAAa;AACf;AACA;EACE,gBAAgB;AAClB;AACA;EACE;IACE,YAAY;IACZ,aAAa;EACf;AACF;AACA;EACE,aAAa;AACf;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,aAAa;EACb,sBAAsB;EACtB,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;EAClB,UAAU;AACZ;AACA;EACE,UAAU;AACZ;AACA;EACE,YAAY;EACZ,uBAAuB;EACvB,yBAAyB;UACjB,iBAAiB;EACzB,mBAAmB;AACrB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,oBAAoB;EACpB,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,SAAS;EACT,WAAW;EACX,YAAY;EACZ,UAAU;EACV,YAAY;AACd;AACA;EACE;IACE,QAAQ;IACR,WAAW;IACX,SAAS;IACT,8CAA8C;IAC9C,gCAAgC;EAClC;AACF;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,aAAa;EACb,cAAc;EACd,+BAA+B;EAC/B,eAAe;EACf,eAAe;AACjB;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,cAAc;AAChB;AACA;EACE;IACE,YAAY;EACd;EACA;IACE,WAAW;EACb;EACA;IACE,UAAU;IACV,eAAe;EACjB;AACF;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,aAAa;EACb,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,gBAAgB;EAChB,yBAAyB;EACzB,6BAA6B;EAC7B,gCAAgC;AAClC;AACA;EACE,eAAe;EACf,gBAAgB;AAClB;AACA;EACE,cAAc;EACd,yBAAyB;EACzB,0BAA0B;EAC1B,6BAA6B;AAC/B;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,cAAc;EACd,oBAAoB;EACpB,kBAAkB;EAClB,uBAAuB;AACzB;AACA;EACE,6BAA6B;AAC/B;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,kBAAkB;EAClB,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;EACZ,kBAAkB;AACpB;AACA;EACE,yBAAyB;EACzB,WAAW;EACX,0BAA0B;EAC1B,kBAAkB;AACpB;AACA;EACE,gCAAgC;EAChC,YAAY;AACd;AACA;EACE,qBAAqB;AACvB;AACA;EACE,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,gBAAgB;EAChB,iBAAiB;EACjB,oBAAoB;AACtB;AACA;EACE,cAAc;AAChB;AACA;EACE,kBAAkB;EAClB,QAAQ;EACR,YAAY;EACZ,OAAO;EACP,iBAAiB;EACjB,iBAAiB;AACnB;AACA;EACE,aAAa;AACf;;AAEA;EACE,8BAA8B;EAC9B,eAAe;AACjB;AACA;EACE,aAAa;AACf;AAC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CX,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,aAAa;EACb,WAAW;EACX,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,OAAO;EACP,SAAS;EACT,kBAAkB;AACpB;AACA;EACE,cAAc;EACd,WAAW;EACX,WAAW;AACb;;AAEA;EACE,OAAO;EACP,SAAS;EACT,mBAAmB;EACnB,gBAAgB;EAChB,iCAAiC;AACnC;AACA;EACE,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,UAAU;EACV,WAAW;EACX,SAAS;EACT,aAAa;EACb,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,iBAAiB;EACjB,cAAc;EACd,eAAe;EACf,kBAAkB;EAClB,yDAAsd;EACtd,4BAA4B;EAC5B,4BAA4B;EAC5B,0BAA0B;EAC1B,kBAAkB;EAClB,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,yDAAsd;EACtd,qBAAqB;AACvB;;AAEA;EACE,mBAAmB;AACrB;AACA;;;;EAIE,aAAa;AACf;AACA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,eAAe;EACf,WAAW;EACX,gBAAgB;EAChB,eAAe;EACf,iBAAiB;EACjB,wBAAwB;AAC1B;AACA;EACE,gBAAgB;EAChB,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,kBAAkB;AACpB;AACA;EACE,kBAAkB;AACpB;AACA;EACE,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,YAAY;EACZ,eAAe;EACf,cAAc;EACd,eAAe;EACf,iBAAiB;EACjB,kBAAkB;AACpB;AACA;EACE,gBAAgB;EAChB,iBAAiB;AACnB;AACA;EACE,cAAc;AAChB;;AAEA;EACE,qBAAqB;EACrB,eAAe;EACf,cAAc;EACd,eAAe;EACf,kBAAkB;EAClB,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,iBAAiB;EACjB,gBAAgB;EAChB,wBAAwB;EACxB,YAAY;EACZ,UAAU;EACV,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,YAAY;EACZ,WAAW;EACX,YAAY;EACZ,gCAAgC;AAClC;AACA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,eAAe;AACjB;AACA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,iDAAiD;AACnD;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,UAAU;AACZ;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,YAAY;EACZ,WAAW;EACX,cAAc;EACd,iBAAiB;EACjB,yBAAyB;EACzB,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,YAAY;EACZ,cAAc;EACd,iBAAiB;AACnB","sourcesContent":["@charset \"UTF-8\";\n.uppy-Informer {\n  position: absolute;\n  right: 0;\n  bottom: 60px;\n  left: 0;\n  z-index: 1005;\n  text-align: center;\n}\n.uppy-Informer span > div {\n  margin-bottom: 6px;\n}\n\n.uppy-Informer-animated {\n  z-index: -1000;\n  transform: translateY(350%);\n  opacity: 0;\n  transition: all 300ms ease-in;\n}\n\n.uppy-Informer p {\n  display: inline-block;\n  max-width: 90%;\n  margin: 0;\n  padding: 0;\n  padding: 6px 15px;\n  color: #fff;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 1.4;\n  background-color: #757575;\n  border-radius: 18px;\n}\n.uppy-size--md .uppy-Informer p {\n  max-width: 500px;\n  padding: 10px 20px;\n  font-size: 14px;\n  line-height: 1.3;\n}\n[data-uppy-theme=dark] .uppy-Informer p {\n  background-color: #333;\n}\n\n[dir=\"ltr\"] .uppy-Informer p span{\n  left: 3px;\n}\n\n[dir=\"rtl\"] .uppy-Informer p span{\n  right: 3px;\n}\n\n[dir=\"ltr\"] .uppy-Informer p span{\n  margin-left: -1px;\n}\n\n[dir=\"rtl\"] .uppy-Informer p span{\n  margin-right: -1px;\n}\n\n.uppy-Informer p span {\n  position: relative;\n  top: -1px;\n  display: inline-block;\n  width: 13px;\n  height: 13px;\n  color: #525252;\n  font-size: 10px;\n  line-height: 12px;\n  vertical-align: middle;\n  background-color: #fff;\n  border-radius: 50%;\n}\n\n.uppy-Informer p span:hover {\n  cursor: help;\n}\n\n.uppy-Informer p span::after {\n  line-height: 1.3;\n  word-wrap: break-word;\n}\n\n/* -------------------------------------------------------------------\n  Microtip\n\n  Modern, lightweight css-only tooltips\n  Just 1kb minified and gzipped\n\n  @author Ghosh\n  @package Microtip\n\n----------------------------------------------------------------------\n  1. Base Styles\n  2. Direction Modifiers\n  3. Position Modifiers\n-------------------------------------------------------------------- */\n/* ------------------------------------------------\n  [1] Base Styles\n------------------------------------------------- */\n.uppy-Root [aria-label][role~=tooltip] {\n  position: relative;\n}\n\n.uppy-Root [aria-label][role~=tooltip]::before,\n.uppy-Root [aria-label][role~=tooltip]::after {\n  position: absolute;\n  z-index: 10;\n  box-sizing: border-box;\n  transform: translate3d(0, 0, 0);\n  transform-origin: top;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  opacity: 0;\n  transition: all var(--microtip-transition-duration, 0.18s) var(--microtip-transition-easing, ease-in-out) var(--microtip-transition-delay, 0s);\n  pointer-events: none;\n  will-change: transform;\n}\n\n.uppy-Root [aria-label][role~=tooltip]::before {\n  background-size: 100% auto !important;\n  content: \"\";\n}\n\n.uppy-Root [aria-label][role~=tooltip]::after {\n  box-sizing: content-box;\n  padding: 0.5em 1em;\n  color: #fff;\n  font-weight: var(--microtip-font-weight, normal);\n  font-size: var(--microtip-font-size, 13px);\n  white-space: nowrap;\n  text-transform: var(--microtip-text-transform, none);\n  background: rgba(17, 17, 17, 0.9);\n  border-radius: 4px;\n  content: attr(aria-label);\n}\n\n.uppy-Root [aria-label][role~=tooltip]:hover::before,\n.uppy-Root [aria-label][role~=tooltip]:hover::after,\n.uppy-Root [aria-label][role~=tooltip]:focus::before,\n.uppy-Root [aria-label][role~=tooltip]:focus::after {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n/* ------------------------------------------------\n  [2] Position Modifiers\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position|=top]::before {\n  bottom: 100%;\n  left: 50%;\n  width: 18px;\n  height: 6px;\n  margin-bottom: 5px;\n  background: url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%280%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E\") no-repeat;\n  transform: translate3d(-50%, 0, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position|=top]::after {\n  bottom: 100%;\n  left: 50%;\n  margin-bottom: 11px;\n  transform: translate3d(-50%, 0, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position|=top]:hover::before {\n  transform: translate3d(-50%, -5px, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=top]:hover::after {\n  transform: translate3d(-50%, -5px, 0);\n}\n\n/* ------------------------------------------------\n  [2.1] Top Left\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position=top-left]::after {\n  bottom: 100%;\n  transform: translate3d(calc(-100% + 16px), 0, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=top-left]:hover::after {\n  transform: translate3d(calc(-100% + 16px), -5px, 0);\n}\n\n/* ------------------------------------------------\n  [2.2] Top Right\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position=top-right]::after {\n  bottom: 100%;\n  transform: translate3d(calc(0% - 16px), 0, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=top-right]:hover::after {\n  transform: translate3d(calc(0% - 16px), -5px, 0);\n}\n\n/* ------------------------------------------------\n  [2.3] Bottom\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position|=bottom]::before {\n  top: 100%;\n  bottom: auto;\n  left: 50%;\n  width: 18px;\n  height: 6px;\n  margin-top: 5px;\n  margin-bottom: 0;\n  background: url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28180%2018%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E\") no-repeat;\n  transform: translate3d(-50%, -10px, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position|=bottom]::after {\n  top: 100%;\n  left: 50%;\n  margin-top: 11px;\n  transform: translate3d(-50%, -10px, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position|=bottom]:hover::before {\n  transform: translate3d(-50%, 0, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=bottom]:hover::after {\n  transform: translate3d(-50%, 0, 0);\n}\n\n/* ------------------------------------------------\n  [2.4] Bottom Left\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position=bottom-left]::after {\n  top: 100%;\n  transform: translate3d(calc(-100% + 16px), -10px, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=bottom-left]:hover::after {\n  transform: translate3d(calc(-100% + 16px), 0, 0);\n}\n\n/* ------------------------------------------------\n  [2.5] Bottom Right\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position=bottom-right]::after {\n  top: 100%;\n  transform: translate3d(calc(0% - 16px), -10px, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=bottom-right]:hover::after {\n  transform: translate3d(calc(0% - 16px), 0, 0);\n}\n\n/* ------------------------------------------------\n  [2.6] Left\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position=left]::before,\n.uppy-Root [role~=tooltip][data-microtip-position=left]::after {\n  top: 50%;\n  right: 100%;\n  bottom: auto;\n  left: auto;\n  transform: translate3d(10px, -50%, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=left]::before {\n  width: 6px;\n  height: 18px;\n  margin-right: 5px;\n  margin-bottom: 0;\n  background: url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28-90%2018%2018%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E\") no-repeat;\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=left]::after {\n  margin-right: 11px;\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=left]:hover::before,\n.uppy-Root [role~=tooltip][data-microtip-position=left]:hover::after {\n  transform: translate3d(0, -50%, 0);\n}\n\n/* ------------------------------------------------\n  [2.7] Right\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-position=right]::before,\n.uppy-Root [role~=tooltip][data-microtip-position=right]::after {\n  top: 50%;\n  bottom: auto;\n  left: 100%;\n  transform: translate3d(-10px, -50%, 0);\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=right]::before {\n  width: 6px;\n  height: 18px;\n  margin-bottom: 0;\n  margin-left: 5px;\n  background: url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%2890%206%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E\") no-repeat;\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=right]::after {\n  margin-left: 11px;\n}\n\n.uppy-Root [role~=tooltip][data-microtip-position=right]:hover::before,\n.uppy-Root [role~=tooltip][data-microtip-position=right]:hover::after {\n  transform: translate3d(0, -50%, 0);\n}\n\n/* ------------------------------------------------\n  [3] Size\n------------------------------------------------- */\n.uppy-Root [role~=tooltip][data-microtip-size=small]::after {\n  width: 80px;\n  white-space: initial;\n}\n\n.uppy-Root [role~=tooltip][data-microtip-size=medium]::after {\n  width: 150px;\n  white-space: initial;\n}\n\n.uppy-Root [role~=tooltip][data-microtip-size=large]::after {\n  width: 260px;\n  white-space: initial;\n}\n\n.uppy-StatusBar {\n  position: relative;\n  z-index: 1001;\n  display: flex;\n  height: 46px;\n  color: #fff;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 40px;\n  background-color: #fff;\n  transition: height 0.2s;\n}\n[data-uppy-theme=dark] .uppy-StatusBar {\n  background-color: #1f1f1f;\n}\n\n.uppy-StatusBar::before {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 2px;\n  background-color: #eaeaea;\n  content: \"\";\n}\n[data-uppy-theme=dark] .uppy-StatusBar::before {\n  background-color: #757575;\n}\n\n.uppy-StatusBar[aria-hidden=true] {\n  height: 0;\n  overflow-y: hidden;\n}\n\n.uppy-StatusBar.is-complete .uppy-StatusBar-progress {\n  background-color: #1bb240;\n}\n\n.uppy-StatusBar.is-error .uppy-StatusBar-progress {\n  background-color: #e32437;\n}\n\n.uppy-StatusBar.is-complete .uppy-StatusBar-statusIndicator {\n  color: #1bb240;\n}\n\n.uppy-StatusBar.is-error .uppy-StatusBar-statusIndicator {\n  color: #e32437;\n}\n\n.uppy-StatusBar:not([aria-hidden=true]).is-waiting {\n  height: 65px;\n  background-color: #fff;\n  border-top: 1px solid #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-StatusBar:not([aria-hidden=true]).is-waiting {\n  background-color: #1f1f1f;\n  border-top: 1px solid #333;\n}\n\n.uppy-StatusBar-progress {\n  position: absolute;\n  z-index: 1001;\n  height: 2px;\n  background-color: #2275d7;\n  transition: background-color, width 0.3s ease-out;\n}\n.uppy-StatusBar-progress.is-indeterminate {\n  background-image: linear-gradient(45deg, rgba(0, 0, 0, 0.3) 25%, transparent 25%, transparent 50%, rgba(0, 0, 0, 0.3) 50%, rgba(0, 0, 0, 0.3) 75%, transparent 75%, transparent);\n  background-size: 64px 64px;\n  animation: uppy-StatusBar-ProgressStripes 1s linear infinite;\n}\n\n@keyframes uppy-StatusBar-ProgressStripes {\n  from {\n    background-position: 0 0;\n  }\n  to {\n    background-position: 64px 0;\n  }\n}\n.uppy-StatusBar.is-preprocessing .uppy-StatusBar-progress,\n.uppy-StatusBar.is-postprocessing .uppy-StatusBar-progress {\n  background-color: #f6a623;\n}\n\n.uppy-StatusBar.is-waiting .uppy-StatusBar-progress {\n  display: none;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-content{\n  padding-left: 10px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-content{\n  padding-right: 10px;\n}\n\n.uppy-StatusBar-content {\n  position: relative;\n  z-index: 1002;\n  display: flex;\n  align-items: center;\n  height: 100%;\n  color: #333;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-StatusBar-content{\n  padding-left: 15px;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-StatusBar-content{\n  padding-right: 15px;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-content {\n  color: #eaeaea;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-status{\n  padding-right: 0.3em;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-status{\n  padding-left: 0.3em;\n}\n\n.uppy-StatusBar-status {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  font-weight: normal;\n  line-height: 1.4;\n}\n\n.uppy-StatusBar-statusPrimary {\n  font-weight: 500;\n  line-height: 1;\n  display: flex;\n}\n.uppy-StatusBar-statusPrimary button.uppy-StatusBar-details {\n  margin-left: 5px;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-statusPrimary {\n  color: #eaeaea;\n}\n\n.uppy-StatusBar-statusSecondary {\n  display: inline-block;\n  margin-top: 1px;\n  color: #757575;\n  font-size: 11px;\n  line-height: 1.2;\n  white-space: nowrap;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-statusSecondary {\n  color: #bbb;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-statusSecondaryHint{\n  margin-right: 5px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-statusSecondaryHint{\n  margin-left: 5px;\n}\n\n.uppy-StatusBar-statusSecondaryHint {\n  display: inline-block;\n  line-height: 1;\n  vertical-align: middle;\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-StatusBar-statusSecondaryHint{\n  margin-right: 8px;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-StatusBar-statusSecondaryHint{\n  margin-left: 8px;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-statusIndicator{\n  margin-right: 7px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-statusIndicator{\n  margin-left: 7px;\n}\n\n.uppy-StatusBar-statusIndicator {\n  position: relative;\n  top: 1px;\n  color: #525252;\n}\n.uppy-StatusBar-statusIndicator svg {\n  vertical-align: text-bottom;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-actions{\n  right: 10px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-actions{\n  left: 10px;\n}\n\n.uppy-StatusBar-actions {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 1004;\n  display: flex;\n  align-items: center;\n}\n\n.uppy-StatusBar.is-waiting .uppy-StatusBar-actions {\n  position: static;\n  width: 100%;\n  height: 100%;\n  padding: 0 15px;\n  background-color: #fafafa;\n}\n[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actions {\n  background-color: #1f1f1f;\n}\n\n.uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts {\n  flex-direction: column;\n  height: 90px;\n}\n.uppy-size--md .uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts {\n  flex-direction: row;\n  height: 65px;\n}\n.uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts .uppy-StatusBar-actions {\n  flex-direction: column;\n  justify-content: center;\n}\n.uppy-size--md .uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts .uppy-StatusBar-actions {\n  flex-direction: row;\n  justify-content: initial;\n}\n\n.uppy-StatusBar-actionCircleBtn {\n  margin: 3px;\n  line-height: 1;\n  cursor: pointer;\n  opacity: 0.9;\n}\n.uppy-StatusBar-actionCircleBtn:focus {\n  outline: none;\n}\n.uppy-StatusBar-actionCircleBtn::-moz-focus-inner {\n  border: 0;\n}\n.uppy-StatusBar-actionCircleBtn:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionCircleBtn:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionCircleBtn::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionCircleBtn:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n.uppy-StatusBar-actionCircleBtn:hover {\n  opacity: 1;\n}\n.uppy-StatusBar-actionCircleBtn:focus {\n  border-radius: 50%;\n}\n\n.uppy-StatusBar-actionCircleBtn svg {\n  vertical-align: bottom;\n}\n\n.uppy-StatusBar-actionBtn {\n  display: inline-block;\n  color: #2275d7;\n  font-size: 10px;\n  line-height: inherit;\n  vertical-align: middle;\n}\n.uppy-size--md .uppy-StatusBar-actionBtn {\n  font-size: 11px;\n}\n\n.uppy-StatusBar-actionBtn--disabled {\n  opacity: 0.4;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--disabled {\n  opacity: 0.7;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-actionBtn--retry{\n  margin-right: 6px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-actionBtn--retry{\n  margin-left: 6px;\n}\n\n.uppy-StatusBar-actionBtn--retry {\n  position: relative;\n  height: 16px;\n  padding: 1px 6px 3px 18px;\n  color: #fff;\n  line-height: 1;\n  background-color: #ff4b23;\n  border-radius: 8px;\n}\n.uppy-StatusBar-actionBtn--retry:focus {\n  outline: none;\n}\n.uppy-StatusBar-actionBtn--retry::-moz-focus-inner {\n  border: 0;\n}\n.uppy-StatusBar-actionBtn--retry:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--retry:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--retry::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--retry:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n.uppy-StatusBar-actionBtn--retry:hover {\n  background-color: #f92d00;\n}\n[dir=\"ltr\"] .uppy-StatusBar-actionBtn--retry svg{\n  left: 6px;\n}\n[dir=\"rtl\"] .uppy-StatusBar-actionBtn--retry svg{\n  right: 6px;\n}\n.uppy-StatusBar-actionBtn--retry svg {\n  position: absolute;\n  top: 3px;\n}\n\n.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload {\n  width: 100%;\n  padding: 15px 10px;\n  color: #fff;\n  font-size: 14px;\n  line-height: 1;\n  background-color: #1bb240;\n}\n.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload:hover {\n  background-color: #189c38;\n}\n[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload {\n  background-color: #1c8b37;\n}\n[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload:hover {\n  background-color: #18762f;\n}\n\n.uppy-size--md .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload {\n  width: auto;\n  padding: 13px 22px;\n}\n\n.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload.uppy-StatusBar-actionBtn--disabled:hover {\n  background-color: #1bb240;\n  cursor: not-allowed;\n}\n\n[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload.uppy-StatusBar-actionBtn--disabled:hover {\n  background-color: #1c8b37;\n}\n\n.uppy-StatusBar:not(.is-waiting) .uppy-StatusBar-actionBtn--upload {\n  color: #2275d7;\n  background-color: transparent;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-actionBtn--uploadNewlyAdded{\n  padding-right: 3px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-actionBtn--uploadNewlyAdded{\n  padding-left: 3px;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-actionBtn--uploadNewlyAdded{\n  padding-left: 3px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-actionBtn--uploadNewlyAdded{\n  padding-right: 3px;\n}\n\n.uppy-StatusBar-actionBtn--uploadNewlyAdded {\n  padding-bottom: 1px;\n  border-radius: 3px;\n}\n.uppy-StatusBar-actionBtn--uploadNewlyAdded:focus {\n  outline: none;\n}\n.uppy-StatusBar-actionBtn--uploadNewlyAdded::-moz-focus-inner {\n  border: 0;\n}\n.uppy-StatusBar-actionBtn--uploadNewlyAdded:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--uploadNewlyAdded:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--uploadNewlyAdded::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--uploadNewlyAdded:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n.uppy-StatusBar.is-preprocessing .uppy-StatusBar-actionBtn--uploadNewlyAdded, .uppy-StatusBar.is-postprocessing .uppy-StatusBar-actionBtn--uploadNewlyAdded {\n  display: none;\n}\n\n.uppy-StatusBar-actionBtn--done {\n  padding: 7px 8px;\n  line-height: 1;\n  border-radius: 3px;\n}\n.uppy-StatusBar-actionBtn--done:focus {\n  outline: none;\n}\n.uppy-StatusBar-actionBtn--done::-moz-focus-inner {\n  border: 0;\n}\n.uppy-StatusBar-actionBtn--done:hover {\n  color: #1b5dab;\n}\n.uppy-StatusBar-actionBtn--done:focus {\n  background-color: #dfe6f1;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--done:focus {\n  background-color: #333;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--done {\n  color: #02baf2;\n}\n\n.uppy-size--md .uppy-StatusBar-actionBtn--done {\n  font-size: 14px;\n}\n\n.uppy-StatusBar-serviceMsg {\n  padding-left: 10px;\n  color: #000;\n  font-size: 11px;\n  line-height: 1.1;\n}\n.uppy-size--md .uppy-StatusBar-serviceMsg {\n  padding-left: 15px;\n  font-size: 14px;\n}\n[data-uppy-theme=dark] .uppy-StatusBar-serviceMsg {\n  color: #eaeaea;\n}\n\n.uppy-StatusBar-serviceMsg-ghostsIcon {\n  position: relative;\n  top: 2px;\n  left: 6px;\n  width: 10px;\n  vertical-align: text-bottom;\n  opacity: 0.5;\n}\n.uppy-size--md .uppy-StatusBar-serviceMsg-ghostsIcon {\n  top: 1px;\n  left: 10px;\n  width: 15px;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-details{\n  left: 2px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-details{\n  right: 2px;\n}\n\n.uppy-StatusBar-details {\n  position: relative;\n  top: 0;\n  display: inline-block;\n  width: 13px;\n  height: 13px;\n  color: #fff;\n  font-weight: 600;\n  font-size: 10px;\n  line-height: 12px;\n  text-align: center;\n  vertical-align: middle;\n  background-color: #939393;\n  border-radius: 50%;\n  cursor: help;\n  -webkit-appearance: none;\n          appearance: none;\n}\n\n.uppy-StatusBar-details::after {\n  line-height: 1.3;\n  word-wrap: break-word;\n}\n\n[dir=\"ltr\"] .uppy-StatusBar-spinner{\n  margin-right: 10px;\n}\n\n[dir=\"rtl\"] .uppy-StatusBar-spinner{\n  margin-left: 10px;\n}\n\n.uppy-StatusBar-spinner {\n  animation-name: uppy-StatusBar-spinnerAnimation;\n  animation-duration: 1s;\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n  fill: #2275d7;\n}\n\n.uppy-StatusBar.is-preprocessing .uppy-StatusBar-spinner,\n.uppy-StatusBar.is-postprocessing .uppy-StatusBar-spinner {\n  fill: #f6a623;\n}\n\n@keyframes uppy-StatusBar-spinnerAnimation {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.uppy-ProviderBrowser-viewType--grid ul.uppy-ProviderBrowser-list,\n.uppy-ProviderBrowser-viewType--unsplash ul.uppy-ProviderBrowser-list {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  justify-content: space-between;\n  padding: 6px;\n}\n.uppy-ProviderBrowser-viewType--grid ul.uppy-ProviderBrowser-list::after,\n.uppy-ProviderBrowser-viewType--unsplash ul.uppy-ProviderBrowser-list::after {\n  flex: auto;\n  content: \"\";\n}\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem {\n  position: relative;\n  width: 50%;\n  margin: 0;\n}\n.uppy-size--md .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem,\n.uppy-size--md .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem {\n  width: 33.3333%;\n}\n.uppy-size--lg .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem,\n.uppy-size--lg .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem {\n  width: 25%;\n}\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem::before,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem::before {\n  display: block;\n  padding-top: 100%;\n  content: \"\";\n}\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--selected img,\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--selected svg,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--selected img,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--selected svg {\n  opacity: 0.85;\n}\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--disabled,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--disabled {\n  opacity: 0.5;\n}\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner {\n  background-color: rgba(147, 147, 147, 0.2);\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner,\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner {\n  background-color: rgba(234, 234, 234, 0.2);\n}\n.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview svg,\n.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview svg {\n  width: 30%;\n  height: 30%;\n  fill: rgba(0, 0, 0, 0.7);\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview svg,\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview svg {\n  fill: rgba(255, 255, 255, 0.8);\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner {\n  position: absolute;\n  top: 7px;\n  right: 7px;\n  bottom: 7px;\n  left: 7px;\n  width: calc(100% - 14px);\n  height: calc(100% - 14px);\n  overflow: hidden;\n  text-align: center;\n  border-radius: 4px;\n}\n@media (hover: none) {\n  .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner .uppy-ProviderBrowserItem-author,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner .uppy-ProviderBrowserItem-author {\n    display: block;\n  }\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner,\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner {\n  box-shadow: 0 0 0 3px rgba(170, 225, 255, 0.7);\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner img,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 4px;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-author,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-author {\n  position: absolute;\n  display: none;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background: rgba(0, 0, 0, 0.3);\n  color: white;\n  font-weight: 500;\n  font-size: 12px;\n  margin: 0;\n  padding: 5px;\n  text-decoration: none;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-author:hover,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-author:hover {\n  background: rgba(0, 0, 0, 0.4);\n  text-decoration: underline;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox {\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  z-index: 1002;\n  width: 26px;\n  height: 26px;\n  background-color: #2275d7;\n  border-radius: 50%;\n  opacity: 0;\n}\n[dir=\"ltr\"] .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox::after,[dir=\"ltr\"] \n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox::after{\n  left: 7px;\n}\n[dir=\"rtl\"] .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox::after,[dir=\"rtl\"] \n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox::after{\n  right: 7px;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox::after,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox::after {\n  top: 8px;\n  width: 12px;\n  height: 7px;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--is-checked,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--is-checked {\n  opacity: 1;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:hover + label .uppy-ProviderBrowserItem-author,\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus + label .uppy-ProviderBrowserItem-author,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:hover + label .uppy-ProviderBrowserItem-author,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus + label .uppy-ProviderBrowserItem-author {\n  display: block;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus + label,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus + label {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus + label:focus,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus + label:focus {\n  outline: none;\n}\n.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus + label::-moz-focus-inner,\n.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus + label::-moz-focus-inner {\n  border: 0;\n}\n\n.uppy-ProviderBrowser-viewType--list {\n  background-color: #fff;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--list {\n  background-color: #1f1f1f;\n}\n.uppy-ProviderBrowser-viewType--list li.uppy-ProviderBrowserItem {\n  display: flex;\n  align-items: center;\n  margin: 0;\n  padding: 7px 15px;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--list li.uppy-ProviderBrowserItem {\n  color: #eaeaea;\n}\n.uppy-ProviderBrowser-viewType--list li.uppy-ProviderBrowserItem--disabled {\n  opacity: 0.6;\n}\n[dir=\"ltr\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox{\n  margin-right: 15px;\n}\n[dir=\"rtl\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox{\n  margin-left: 15px;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox {\n  width: 17px;\n  height: 17px;\n  background-color: #fff;\n  border: 1px solid #cfcfcf;\n  border-radius: 3px;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:focus {\n  border: 1px solid #2275d7;\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.25);\n}\n[dir=\"ltr\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox::after{\n  left: 3px;\n}\n[dir=\"rtl\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox::after{\n  right: 3px;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox::after {\n  top: 4px;\n  width: 9px;\n  height: 5px;\n  opacity: 0;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:focus {\n  border-color: rgba(2, 186, 242, 0.7);\n  box-shadow: 0 0 0 3px rgba(2, 186, 242, 0.2);\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox--is-checked {\n  background-color: #2275d7;\n  border-color: #2275d7;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox--is-checked::after {\n  opacity: 1;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner {\n  display: flex;\n  align-items: center;\n  padding: 2px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner:focus {\n  text-decoration: underline;\n  outline: none;\n}\n[dir=\"ltr\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner img,[dir=\"ltr\"] \n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner svg{\n  margin-right: 8px;\n}\n[dir=\"rtl\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner img,[dir=\"rtl\"] \n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner svg{\n  margin-left: 8px;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner img,\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner svg {\n  max-width: 20px;\n  max-height: 20px;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner span {\n  overflow: hidden;\n  line-height: 1.2;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem--disabled .uppy-ProviderBrowserItem-inner {\n  cursor: default;\n}\n[dir=\"ltr\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-iconWrap{\n  margin-right: 7px;\n}\n[dir=\"rtl\"] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-iconWrap{\n  margin-left: 7px;\n}\n.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-iconWrap {\n  width: 20px;\n}\n\n.uppy-ProviderBrowserItem-checkbox {\n  position: relative;\n  flex-shrink: 0;\n  cursor: pointer;\n}\n.uppy-ProviderBrowserItem-checkbox:disabled {\n  cursor: default;\n}\n.uppy-ProviderBrowserItem-checkbox::after {\n  position: absolute;\n  border-bottom: 2px solid #eaeaea;\n  border-left: 2px solid #eaeaea;\n  transform: rotate(-45deg);\n  cursor: pointer;\n  content: \"\";\n}\n.uppy-ProviderBrowserItem-checkbox:disabled::after {\n  cursor: default;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowserItem-checkbox {\n  background-color: #1f1f1f;\n  border-color: #939393;\n}\n\n[data-uppy-theme=dark] .uppy-ProviderBrowserItem-checkbox--is-checked {\n  background-color: #333;\n}\n\n.uppy-SearchProvider {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n[data-uppy-theme=dark] .uppy-SearchProvider {\n  background-color: #1f1f1f;\n}\n\n.uppy-SearchProvider-input {\n  width: 90%;\n  max-width: 650px;\n  margin-bottom: 15px;\n}\n.uppy-size--md .uppy-SearchProvider-input {\n  margin-bottom: 20px;\n}\n.uppy-SearchProvider-input::-webkit-search-cancel-button {\n  display: none;\n}\n\n.uppy-SearchProvider-searchButton {\n  padding: 13px 25px;\n}\n.uppy-size--md .uppy-SearchProvider-searchButton {\n  padding: 13px 30px;\n}\n\n.uppy-DashboardContent-panelBody {\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-panelBody {\n  background-color: #1f1f1f;\n}\n\n.uppy-Provider-auth,\n.uppy-Provider-error,\n.uppy-Provider-loading,\n.uppy-Provider-empty {\n  display: flex;\n  flex: 1;\n  flex-flow: column wrap;\n  align-items: center;\n  justify-content: center;\n  color: #939393;\n}\n\n.uppy-Provider-empty {\n  color: #939393;\n}\n\n.uppy-Provider-authIcon svg {\n  width: 100px;\n  height: 75px;\n}\n\n.uppy-Provider-authTitle {\n  max-width: 500px;\n  margin-bottom: 30px;\n  padding: 0 15px;\n  color: #757575;\n  font-weight: 400;\n  font-size: 17px;\n  line-height: 1.4;\n  text-align: center;\n}\n.uppy-size--md .uppy-Provider-authTitle {\n  font-size: 20px;\n}\n[data-uppy-theme=dark] .uppy-Provider-authTitle {\n  color: #cfcfcf;\n}\n\n.uppy-Provider-btn-google {\n  display: flex;\n  align-items: center;\n  padding: 8px 12px !important;\n  background: #4285F4;\n}\n.uppy-Provider-btn-google:hover {\n  background-color: #1266f1;\n}\n.uppy-Provider-btn-google:focus {\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.4);\n}\n.uppy-Provider-btn-google svg {\n  margin-right: 8px;\n}\n\n[dir=\"ltr\"] .uppy-Provider-breadcrumbs{\n  text-align: left;\n}\n\n[dir=\"rtl\"] .uppy-Provider-breadcrumbs{\n  text-align: right;\n}\n\n.uppy-Provider-breadcrumbs {\n  flex: 1;\n  margin-bottom: 10px;\n  color: #525252;\n  font-size: 12px;\n}\n.uppy-size--md .uppy-Provider-breadcrumbs {\n  margin-bottom: 0;\n}\n[data-uppy-theme=dark] .uppy-Provider-breadcrumbs {\n  color: #eaeaea;\n}\n\n[dir=\"ltr\"] .uppy-Provider-breadcrumbsIcon{\n  margin-right: 4px;\n}\n\n[dir=\"rtl\"] .uppy-Provider-breadcrumbsIcon{\n  margin-left: 4px;\n}\n\n.uppy-Provider-breadcrumbsIcon {\n  display: inline-block;\n  color: #525252;\n  line-height: 1;\n  vertical-align: middle;\n}\n\n.uppy-Provider-breadcrumbsIcon svg {\n  width: 13px;\n  height: 13px;\n  fill: #525252;\n}\n\n.uppy-Provider-breadcrumbs button {\n  display: inline-block;\n  padding: 4px;\n  line-height: inherit;\n  border-radius: 3px;\n}\n.uppy-Provider-breadcrumbs button:focus {\n  outline: none;\n}\n.uppy-Provider-breadcrumbs button::-moz-focus-inner {\n  border: 0;\n}\n.uppy-Provider-breadcrumbs button:hover {\n  color: #1b5dab;\n}\n.uppy-Provider-breadcrumbs button:focus {\n  background-color: #dfe6f1;\n}\n[data-uppy-theme=dark] .uppy-Provider-breadcrumbs button:focus {\n  background-color: #333;\n}\n.uppy-Provider-breadcrumbs button:not(:last-of-type) {\n  text-decoration: underline;\n}\n.uppy-Provider-breadcrumbs button:last-of-type {\n  color: #333;\n  font-weight: 500;\n  cursor: normal;\n  pointer-events: none;\n}\n.uppy-Provider-breadcrumbs button:hover {\n  cursor: pointer;\n}\n[data-uppy-theme=dark] .uppy-Provider-breadcrumbs button {\n  color: #eaeaea;\n}\n\n.uppy-ProviderBrowser {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n  font-weight: 400;\n  font-size: 14px;\n}\n\n.uppy-ProviderBrowser-user {\n  margin: 0 8px 0 0;\n  color: #333;\n  font-weight: 500;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-user {\n  color: #eaeaea;\n}\n\n[dir=\"ltr\"] .uppy-ProviderBrowser-user::after{\n  left: 4px;\n}\n\n[dir=\"rtl\"] .uppy-ProviderBrowser-user::after{\n  right: 4px;\n}\n\n.uppy-ProviderBrowser-user::after {\n  position: relative;\n  color: #939393;\n  font-weight: normal;\n  content: \"·\";\n}\n\n.uppy-ProviderBrowser-header {\n  position: relative;\n  z-index: 1001;\n  border-bottom: 1px solid #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-header {\n  border-bottom: 1px solid #333;\n}\n\n.uppy-ProviderBrowser-headerBar {\n  z-index: 1001;\n  padding: 7px 15px;\n  color: #757575;\n  font-size: 12px;\n  line-height: 1.4;\n  background-color: #fafafa;\n}\n.uppy-size--md .uppy-ProviderBrowser-headerBar {\n  display: flex;\n  align-items: center;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-headerBar {\n  background-color: #1f1f1f;\n}\n\n.uppy-ProviderBrowser-headerBar--simple {\n  display: block;\n  justify-content: center;\n  text-align: center;\n}\n\n.uppy-ProviderBrowser-headerBar--simple .uppy-Provider-breadcrumbsWrap {\n  display: inline-block;\n  flex: none;\n  vertical-align: middle;\n}\n\n.uppy-ProviderBrowser-searchFilter {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 30px;\n  padding-left: 8px;\n  padding-right: 8px;\n  margin-top: 15px;\n  margin-bottom: 15px;\n}\n\n[dir=\"ltr\"] .uppy-ProviderBrowser-searchFilterInput{\n  padding-left: 30px;\n}\n\n[dir=\"rtl\"] .uppy-ProviderBrowser-searchFilterInput{\n  padding-right: 30px;\n}\n\n[dir=\"ltr\"] .uppy-ProviderBrowser-searchFilterInput{\n  padding-right: 30px;\n}\n\n[dir=\"rtl\"] .uppy-ProviderBrowser-searchFilterInput{\n  padding-left: 30px;\n}\n\n.uppy-ProviderBrowser-searchFilterInput {\n  z-index: 1001;\n  width: 100%;\n  height: 30px;\n  font-size: 13px;\n  font-family: -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", \"Segoe UI Symbol\", \"Segoe UI Emoji\", \"Apple Color Emoji\", Roboto, Helvetica, Arial, sans-serif;\n  line-height: 1.4;\n  background-color: #eaeaea;\n  border: 0;\n  border-radius: 4px;\n  outline: 0;\n  color: #333;\n}\n.uppy-ProviderBrowser-searchFilterInput::-webkit-search-cancel-button {\n  display: none;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-searchFilterInput {\n  color: #eaeaea;\n  background-color: #1f1f1f;\n}\n\n.uppy-ProviderBrowser-searchFilterInput:focus {\n  background-color: #cfcfcf;\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-searchFilterInput:focus {\n  background-color: #333;\n}\n\n[dir=\"ltr\"] .uppy-ProviderBrowser-searchFilterIcon{\n  left: 16px;\n}\n\n[dir=\"rtl\"] .uppy-ProviderBrowser-searchFilterIcon{\n  right: 16px;\n}\n\n.uppy-ProviderBrowser-searchFilterIcon {\n  position: absolute;\n  z-index: 1002;\n  width: 12px;\n  height: 12px;\n  color: #757575;\n}\n\n.uppy-ProviderBrowser-searchFilterInput::placeholder {\n  color: #939393;\n  opacity: 1;\n}\n\n[dir=\"ltr\"] .uppy-ProviderBrowser-searchFilterReset{\n  right: 16px;\n}\n\n[dir=\"rtl\"] .uppy-ProviderBrowser-searchFilterReset{\n  left: 16px;\n}\n\n.uppy-ProviderBrowser-searchFilterReset {\n  border-radius: 3px;\n  position: absolute;\n  z-index: 1002;\n  width: 22px;\n  height: 22px;\n  padding: 6px;\n  color: #939393;\n  cursor: pointer;\n}\n.uppy-ProviderBrowser-searchFilterReset:focus {\n  outline: none;\n}\n.uppy-ProviderBrowser-searchFilterReset::-moz-focus-inner {\n  border: 0;\n}\n.uppy-ProviderBrowser-searchFilterReset:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n.uppy-ProviderBrowser-searchFilterReset:hover {\n  color: #757575;\n}\n.uppy-ProviderBrowser-searchFilterReset svg {\n  vertical-align: text-top;\n}\n\n.uppy-ProviderBrowser-userLogout {\n  padding: 4px;\n  color: #2275d7;\n  line-height: inherit;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.uppy-ProviderBrowser-userLogout:focus {\n  outline: none;\n}\n.uppy-ProviderBrowser-userLogout::-moz-focus-inner {\n  border: 0;\n}\n.uppy-ProviderBrowser-userLogout:hover {\n  color: #1b5dab;\n}\n.uppy-ProviderBrowser-userLogout:focus {\n  background-color: #dfe6f1;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-userLogout:focus {\n  background-color: #333;\n}\n.uppy-ProviderBrowser-userLogout:hover {\n  text-decoration: underline;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-userLogout {\n  color: #eaeaea;\n}\n\n.uppy-ProviderBrowser-body {\n  position: relative;\n  flex: 1;\n}\n\n.uppy-ProviderBrowser-list {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: block;\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  list-style: none;\n  background-color: #fff;\n  border-spacing: 0;\n  -webkit-overflow-scrolling: touch;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-list {\n  background-color: #1f1f1f;\n}\n.uppy-ProviderBrowser-list:focus {\n  outline: none;\n}\n\n.uppy-ProviderBrowserItem-inner {\n  font-weight: 500;\n  font-size: 13px;\n  cursor: pointer;\n}\n\n.uppy-ProviderBrowser-footer {\n  display: flex;\n  align-items: center;\n  height: 65px;\n  padding: 0 15px;\n  background-color: #fff;\n  border-top: 1px solid #eaeaea;\n}\n[dir=\"ltr\"] .uppy-ProviderBrowser-footer button{\n  margin-right: 8px;\n}\n[dir=\"rtl\"] .uppy-ProviderBrowser-footer button{\n  margin-left: 8px;\n}\n[data-uppy-theme=dark] .uppy-ProviderBrowser-footer {\n  background-color: #1f1f1f;\n  border-top: 1px solid #333;\n}\n\n.uppy-Dashboard-Item-previewInnerWrap {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  border-radius: 3px;\n  box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.4);\n}\n.uppy-size--md .uppy-Dashboard-Item-previewInnerWrap {\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);\n}\n\n.uppy-Dashboard-Item-previewInnerWrap::after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1001;\n  display: none;\n  background-color: rgba(0, 0, 0, 0.65);\n  content: \"\";\n}\n\n.uppy-Dashboard-Item-previewLink {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1002;\n}\n.uppy-Dashboard-Item-previewLink:focus {\n  box-shadow: inset 0 0 0 3px #76abe9;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-previewLink:focus {\n  box-shadow: inset 0 0 0 3px #016c8d;\n}\n\n.uppy-Dashboard-Item-preview img.uppy-Dashboard-Item-previewImg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 3px;\n  transform: translateZ(0);\n}\n\n.uppy-Dashboard-Item-progress {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 1002;\n  width: 120px;\n  color: #fff;\n  text-align: center;\n  transform: translate(-50%, -50%);\n  transition: all 0.35 ease;\n}\n\n.uppy-Dashboard-Item-progressIndicator {\n  display: inline-block;\n  width: 38px;\n  height: 38px;\n  opacity: 0.9;\n  color: #fff;\n}\n.uppy-size--md .uppy-Dashboard-Item-progressIndicator {\n  width: 55px;\n  height: 55px;\n}\n\nbutton.uppy-Dashboard-Item-progressIndicator {\n  cursor: pointer;\n}\nbutton.uppy-Dashboard-Item-progressIndicator:focus {\n  outline: none;\n}\nbutton.uppy-Dashboard-Item-progressIndicator::-moz-focus-inner {\n  border: 0;\n}\nbutton.uppy-Dashboard-Item-progressIndicator:focus .uppy-Dashboard-Item-progressIcon--bg,\nbutton.uppy-Dashboard-Item-progressIndicator:focus .uppy-Dashboard-Item-progressIcon--retry {\n  fill: #76abe9;\n}\n\n.uppy-Dashboard-Item-progressIcon--circle {\n  width: 100%;\n  height: 100%;\n}\n\n.uppy-Dashboard-Item-progressIcon--bg {\n  stroke: rgba(255, 255, 255, 0.4);\n}\n\n.uppy-Dashboard-Item-progressIcon--progress {\n  transition: stroke-dashoffset 0.5s ease-out;\n  stroke: #fff;\n}\n\n.uppy-Dashboard-Item-progressIcon--play {\n  transition: all 0.2s;\n  fill: #fff;\n  stroke: #fff;\n}\n\n.uppy-Dashboard-Item-progressIcon--cancel {\n  transition: all 0.2s;\n  fill: #fff;\n}\n\n.uppy-Dashboard-Item-progressIcon--pause {\n  transition: all 0.2s;\n  fill: #fff;\n  stroke: #fff;\n}\n\n.uppy-Dashboard-Item-progressIcon--check {\n  transition: all 0.2s;\n  fill: #fff;\n}\n\n.uppy-Dashboard-Item-progressIcon--retry {\n  fill: #fff;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{\n  right: -8px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{\n  left: -8px;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{\n  left: initial;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{\n  right: initial;\n}\n\n.uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress {\n  top: -9px;\n  width: auto;\n  transform: initial;\n}\n\n.uppy-Dashboard-Item.is-error .uppy-Dashboard-Item-progressIndicator {\n  width: 18px;\n  height: 18px;\n}\n.uppy-size--md .uppy-Dashboard-Item.is-error .uppy-Dashboard-Item-progressIndicator {\n  width: 28px;\n  height: 28px;\n}\n\n.uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progressIndicator {\n  width: 18px;\n  height: 18px;\n  opacity: 1;\n}\n.uppy-size--md .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progressIndicator {\n  width: 22px;\n  height: 22px;\n}\n\n.uppy-Dashboard-Item.is-processing .uppy-Dashboard-Item-progress {\n  opacity: 0;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-Item-fileInfo{\n  padding-right: 5px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-Item-fileInfo{\n  padding-left: 5px;\n}\n[dir=\"ltr\"] .uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfo{\n  padding-right: 10px;\n}\n[dir=\"rtl\"] .uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfo{\n  padding-left: 10px;\n}\n[dir=\"ltr\"] .uppy-size--md.uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfo{\n  padding-right: 15px;\n}\n[dir=\"rtl\"] .uppy-size--md.uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfo{\n  padding-left: 15px;\n}\n\n.uppy-Dashboard-Item-name {\n  margin-bottom: 5px;\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 1.3;\n  word-wrap: anywhere;\n  word-break: break-all;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-name {\n  color: #eaeaea;\n}\n.uppy-size--md.uppy-Dashboard--singleFile .uppy-Dashboard-Item-name {\n  font-size: 14px;\n  line-height: 1.4;\n}\n\n.uppy-Dashboard-Item-fileName {\n  display: flex;\n  align-items: baseline;\n}\n.uppy-Dashboard-Item-fileName button {\n  margin-left: 5px;\n}\n\n.uppy-Dashboard-Item-author {\n  color: #757575;\n  vertical-align: bottom;\n  font-size: 11px;\n  font-weight: normal;\n  display: inline-block;\n  line-height: 1;\n  margin-bottom: 5px;\n}\n.uppy-Dashboard-Item-author a {\n  color: #757575;\n}\n\n.uppy-Dashboard-Item-status {\n  color: #757575;\n  font-weight: normal;\n  font-size: 11px;\n  line-height: 1;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-status {\n  color: #bbb;\n}\n\n.uppy-Dashboard-Item-statusSize {\n  display: inline-block;\n  text-transform: uppercase;\n  vertical-align: bottom;\n  margin-bottom: 5px;\n}\n\n.uppy-Dashboard-Item-reSelect {\n  color: #2275d7;\n  font-weight: 600;\n  font-size: inherit;\n  font-family: inherit;\n}\n\n.uppy-Dashboard-Item-errorMessage {\n  font-size: 11px;\n  font-weight: 500;\n  line-height: 1.3;\n  color: #a51523;\n  background-color: #fdeff1;\n  padding: 5px 6px;\n}\n\n.uppy-Dashboard-Item-errorMessageBtn {\n  font-size: 11px;\n  text-decoration: underline;\n  color: #a51523;\n  cursor: pointer;\n  font-weight: 500;\n}\n\n.uppy-Dashboard-Item-preview .uppy-Dashboard-Item-errorMessage {\n  display: none;\n}\n.uppy-size--md .uppy-Dashboard-Item-preview .uppy-Dashboard-Item-errorMessage {\n  display: block;\n  border-top: 1px solid #f7c2c8;\n  padding: 6px 8px;\n  line-height: 1.4;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n\n.uppy-Dashboard-Item-fileInfo .uppy-Dashboard-Item-errorMessage {\n  display: inline-block;\n  position: static;\n  border: 1px solid #f7c2c8;\n  border-radius: 3px;\n}\n.uppy-size--md .uppy-Dashboard-Item-fileInfo .uppy-Dashboard-Item-errorMessage {\n  display: none;\n}\n\n.uppy-Dashboard-Item-action {\n  color: #939393;\n  cursor: pointer;\n}\n.uppy-Dashboard-Item-action:focus {\n  outline: none;\n}\n.uppy-Dashboard-Item-action::-moz-focus-inner {\n  border: 0;\n}\n.uppy-Dashboard-Item-action:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n.uppy-Dashboard-Item-action:hover {\n  color: #1f1f1f;\n  opacity: 1;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action {\n  color: #cfcfcf;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action:hover {\n  color: #eaeaea;\n}\n\n.uppy-Dashboard-Item-action--remove {\n  color: #1f1f1f;\n  opacity: 0.95;\n}\n.uppy-Dashboard-Item-action--remove:hover {\n  color: #000;\n  opacity: 1;\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-Dashboard-Item-action--remove,[dir=\"ltr\"]  .uppy-Dashboard--singleFile .uppy-Dashboard-Item-action--remove{\n  right: -8px;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-Dashboard-Item-action--remove,[dir=\"rtl\"]  .uppy-Dashboard--singleFile .uppy-Dashboard-Item-action--remove{\n  left: -8px;\n}\n.uppy-size--md .uppy-Dashboard-Item-action--remove, .uppy-Dashboard--singleFile .uppy-Dashboard-Item-action--remove {\n  position: absolute;\n  top: -8px;\n  z-index: 1002;\n  width: 18px;\n  height: 18px;\n  padding: 0;\n}\n.uppy-size--md .uppy-Dashboard-Item-action--remove:focus, .uppy-Dashboard--singleFile .uppy-Dashboard-Item-action--remove:focus {\n  border-radius: 50%;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action--remove {\n  color: #525252;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item-action--remove:hover {\n  color: #333;\n}\n\n.uppy-Dashboard:not(.uppy-size--md):not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item-actionWrapper {\n  display: flex;\n  align-items: center;\n}\n.uppy-Dashboard:not(.uppy-size--md):not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item-action {\n  width: 22px;\n  height: 22px;\n  margin-left: 3px;\n  padding: 3px;\n}\n.uppy-Dashboard:not(.uppy-size--md):not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item-action:focus {\n  border-radius: 3px;\n}\n\n.uppy-size--md .uppy-Dashboard-Item-action--copyLink,\n.uppy-size--md .uppy-Dashboard-Item-action--edit {\n  width: 16px;\n  height: 16px;\n  padding: 0;\n}\n.uppy-size--md .uppy-Dashboard-Item-action--copyLink:focus,\n.uppy-size--md .uppy-Dashboard-Item-action--edit:focus {\n  border-radius: 3px;\n}\n\n.uppy-Dashboard-Item {\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  border-bottom: 1px solid #eaeaea;\n}\n[dir=\"ltr\"] .uppy-Dashboard:not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item{\n  padding-right: 0;\n}\n[dir=\"rtl\"] .uppy-Dashboard:not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item{\n  padding-left: 0;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-Item {\n  border-bottom: 1px solid #333;\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-Dashboard-Item{\n  float: left;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-Dashboard-Item{\n  float: right;\n}\n.uppy-size--md .uppy-Dashboard-Item {\n  position: relative;\n  display: block;\n  /* When changing width: also update `itemsPerRow` values in `src/components/Dashboard.js`. */\n  width: calc(33.333% - 15px - 15px);\n  height: 215px;\n  margin: 5px 15px;\n  padding: 0;\n  border-bottom: 0;\n}\n.uppy-size--lg .uppy-Dashboard-Item {\n  /* When changing width: also update `itemsPerRow` values in `src/components/Dashboard.js`. */\n  width: calc(25% - 15px - 15px);\n  height: 190px;\n  margin: 5px 15px;\n  padding: 0;\n}\n.uppy-size--xl .uppy-Dashboard-Item {\n  /* When changing width: also update `itemsPerRow` values in `src/components/Dashboard.js`. */\n  width: calc(20% - 15px - 15px);\n  height: 210px;\n  padding: 0;\n}\n.uppy-Dashboard--singleFile .uppy-Dashboard-Item {\n  display: block;\n  width: 100%;\n  max-width: 400px;\n  height: auto;\n  border-bottom: 0;\n  position: relative;\n  padding: 0;\n  margin: 10px;\n}\n\n.uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-previewInnerWrap {\n  opacity: 0.2;\n}\n\n.uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-name {\n  opacity: 0.7;\n}\n\n.uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-preview::before {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1005;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='35' height='39' viewBox='0 0 35 39'%3E%3Cpath d='M1.708 38.66c1.709 0 3.417-3.417 6.834-3.417 3.416 0 5.125 3.417 8.61 3.417 3.348 0 5.056-3.417 8.473-3.417 4.305 0 5.125 3.417 6.833 3.417.889 0 1.709-.889 1.709-1.709v-19.68C34.167-5.757 0-5.757 0 17.271v19.68c0 .82.888 1.709 1.708 1.709zm8.542-17.084a3.383 3.383 0 01-3.417-3.416 3.383 3.383 0 013.417-3.417 3.383 3.383 0 013.417 3.417 3.383 3.383 0 01-3.417 3.416zm13.667 0A3.383 3.383 0 0120.5 18.16a3.383 3.383 0 013.417-3.417 3.383 3.383 0 013.416 3.417 3.383 3.383 0 01-3.416 3.416z' fill='%2523000' fill-rule='nonzero'/%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: 50% 10px;\n  background-size: 25px;\n  opacity: 0.5;\n  content: \"\";\n}\n.uppy-size--md .uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-preview::before {\n  background-position: 50% 50%;\n  background-size: 40px;\n}\n\n.uppy-Dashboard-Item-preview {\n  position: relative;\n}\n.uppy-Dashboard:not(.uppy-size--md):not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item-preview {\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: 50px;\n  height: 50px;\n}\n.uppy-size--md .uppy-Dashboard-Item-preview {\n  width: 100%;\n  height: 140px;\n}\n.uppy-size--lg .uppy-Dashboard-Item-preview {\n  height: 120px;\n}\n.uppy-size--xl .uppy-Dashboard-Item-preview {\n  height: 140px;\n}\n.uppy-Dashboard--singleFile .uppy-Dashboard-Item-preview {\n  width: 100%;\n  height: 270px;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-Item-fileInfoAndButtons{\n  padding-right: 8px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-Item-fileInfoAndButtons{\n  padding-left: 8px;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-Item-fileInfoAndButtons{\n  padding-left: 12px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-Item-fileInfoAndButtons{\n  padding-right: 12px;\n}\n\n.uppy-Dashboard-Item-fileInfoAndButtons {\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  justify-content: space-between;\n}\n.uppy-size--md .uppy-Dashboard-Item-fileInfoAndButtons, .uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfoAndButtons {\n  align-items: flex-start;\n  width: 100%;\n  padding: 0;\n  padding-top: 9px;\n}\n\n.uppy-Dashboard-Item-fileInfo {\n  flex-grow: 1;\n  flex-shrink: 1;\n}\n\n.uppy-Dashboard-Item-actionWrapper {\n  flex-grow: 0;\n  flex-shrink: 0;\n}\n\n.uppy-Dashboard-Item.is-inprogress .uppy-Dashboard-Item-previewInnerWrap::after,\n.uppy-Dashboard-Item.is-error .uppy-Dashboard-Item-previewInnerWrap::after {\n  display: block;\n}\n\n.uppy-Dashboard-Item.is-inprogress:not(.is-resumable) .uppy-Dashboard-Item-action--remove {\n  display: none;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-Item-errorDetails{\n  left: 2px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-Item-errorDetails{\n  right: 2px;\n}\n\n.uppy-Dashboard-Item-errorDetails {\n  position: relative;\n  top: 0;\n  flex-shrink: 0;\n  width: 13px;\n  height: 13px;\n  color: #fff;\n  font-weight: 600;\n  font-size: 10px;\n  line-height: 12px;\n  text-align: center;\n  background-color: #939393;\n  border-radius: 50%;\n  border: none;\n  cursor: help;\n  -webkit-appearance: none;\n          appearance: none;\n}\n\n.uppy-Dashboard-Item-errorDetails::after {\n  line-height: 1.3;\n  word-wrap: break-word;\n}\n\n.uppy-Dashboard-FileCard {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1005;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  background-color: #fff;\n  border-radius: 5px;\n  box-shadow: 0 0 10px 4px rgba(0, 0, 0, 0.1);\n}\n.uppy-Dashboard-FileCard .uppy-DashboardContent-bar {\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n}\n.uppy-Dashboard-FileCard .uppy-Dashboard-FileCard-actions {\n  border-bottom-right-radius: 5px;\n  border-bottom-left-radius: 5px;\n}\n\n.uppy-Dashboard-FileCard-inner {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  flex-shrink: 1;\n  height: 100%;\n  min-height: 0;\n}\n\n.uppy-Dashboard-FileCard-preview {\n  position: relative;\n  display: flex;\n  flex-grow: 0;\n  flex-shrink: 1;\n  align-items: center;\n  justify-content: center;\n  height: 60%;\n  min-height: 0;\n  border-bottom: 1px solid #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-FileCard-preview {\n  background-color: #333;\n  border-bottom: 0;\n}\n\n.uppy-Dashboard-FileCard-preview img.uppy-Dashboard-Item-previewImg {\n  flex: 0 0 auto;\n  max-width: 90%;\n  max-height: 90%;\n  object-fit: cover;\n  border-radius: 3px;\n  box-shadow: 0 3px 20px rgba(0, 0, 0, 0.15);\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-FileCard-edit{\n  right: 10px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-FileCard-edit{\n  left: 10px;\n}\n\n.uppy-Dashboard-FileCard-edit {\n  position: absolute;\n  top: 10px;\n  padding: 7px 15px;\n  color: #fff;\n  font-size: 13px;\n  background-color: rgba(0, 0, 0, 0.5);\n  border-radius: 50px;\n}\n.uppy-Dashboard-FileCard-edit:focus {\n  outline: none;\n}\n.uppy-Dashboard-FileCard-edit::-moz-focus-inner {\n  border: 0;\n}\n.uppy-Dashboard-FileCard-edit:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n.uppy-Dashboard-FileCard-edit:hover {\n  background-color: rgba(0, 0, 0, 0.8);\n}\n\n.uppy-Dashboard-FileCard-info {\n  flex-grow: 0;\n  flex-shrink: 0;\n  height: 40%;\n  padding: 30px 20px 20px 20px;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-FileCard-info {\n  background-color: #1f1f1f;\n}\n\n.uppy-Dashboard-FileCard-fieldset {\n  max-width: 640px;\n  margin: auto;\n  margin-bottom: 12px;\n  padding: 0;\n  font-size: 0;\n  border: 0;\n}\n\n.uppy-Dashboard-FileCard-label {\n  display: inline-block;\n  width: 22%;\n  color: #525252;\n  font-size: 12px;\n  vertical-align: middle;\n}\n.uppy-size--md .uppy-Dashboard-FileCard-label {\n  font-size: 14px;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-FileCard-label {\n  color: #eaeaea;\n}\n\n.uppy-Dashboard-FileCard-input {\n  display: inline-block;\n  width: 78%;\n  vertical-align: middle;\n}\n\n.uppy-Dashboard-FileCard-actions {\n  display: flex;\n  flex-grow: 0;\n  flex-shrink: 0;\n  align-items: center;\n  height: 55px;\n  padding: 0 15px;\n  background-color: #fafafa;\n  border-top: 1px solid #eaeaea;\n}\n.uppy-size--md .uppy-Dashboard-FileCard-actions {\n  height: 65px;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-FileCard-actions {\n  background-color: #1f1f1f;\n  border-top: 1px solid #333;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-FileCard-actionsBtn{\n  margin-right: 10px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-FileCard-actionsBtn{\n  margin-left: 10px;\n}\n\n.uppy-transition-slideDownUp-enter {\n  transform: translate3d(0, -105%, 0);\n  opacity: 0.01;\n  transition: transform 0.25s ease-in-out, opacity 0.25s ease-in-out;\n}\n\n.uppy-transition-slideDownUp-enter.uppy-transition-slideDownUp-enter-active {\n  transform: translate3d(0, 0, 0);\n  opacity: 1;\n}\n\n.uppy-transition-slideDownUp-leave {\n  transform: translate3d(0, 0, 0);\n  opacity: 1;\n  transition: transform 0.25s ease-in-out, opacity 0.25s ease-in-out;\n}\n\n.uppy-transition-slideDownUp-leave.uppy-transition-slideDownUp-leave-active {\n  transform: translate3d(0, -105%, 0);\n  opacity: 0.01;\n}\n\n@keyframes uppy-Dashboard-fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes uppy-Dashboard-fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@keyframes uppy-Dashboard-slideDownAndFadeIn {\n  from {\n    transform: translate3d(-50%, -70%, 0);\n    opacity: 0;\n  }\n  to {\n    transform: translate3d(-50%, -50%, 0);\n    opacity: 1;\n  }\n}\n@keyframes uppy-Dashboard-slideDownAndFadeIn--small {\n  from {\n    transform: translate3d(0, -20%, 0);\n    opacity: 0;\n  }\n  to {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes uppy-Dashboard-slideUpFadeOut {\n  from {\n    transform: translate3d(-50%, -50%, 0);\n    opacity: 1;\n  }\n  to {\n    transform: translate3d(-50%, -70%, 0);\n    opacity: 0;\n  }\n}\n@keyframes uppy-Dashboard-slideUpFadeOut--small {\n  from {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n  to {\n    transform: translate3d(0, -20%, 0);\n    opacity: 0;\n  }\n}\n.uppy-Dashboard--modal {\n  z-index: 1001;\n}\n\n.uppy-Dashboard--modal[aria-hidden=true] {\n  display: none;\n}\n\n.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose > .uppy-Dashboard-inner {\n  animation: uppy-Dashboard-slideDownAndFadeIn--small 0.3s cubic-bezier(0, 0, 0.2, 1);\n}\n@media only screen and (min-width: 820px) {\n  .uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose > .uppy-Dashboard-inner {\n    animation: uppy-Dashboard-slideDownAndFadeIn 0.3s cubic-bezier(0, 0, 0.2, 1);\n  }\n}\n\n.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose > .uppy-Dashboard-overlay {\n  animation: uppy-Dashboard-fadeIn 0.3s cubic-bezier(0, 0, 0.2, 1);\n}\n\n.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose.uppy-Dashboard--isClosing > .uppy-Dashboard-inner {\n  animation: uppy-Dashboard-slideUpFadeOut--small 0.3s cubic-bezier(0, 0, 0.2, 1);\n}\n@media only screen and (min-width: 820px) {\n  .uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose.uppy-Dashboard--isClosing > .uppy-Dashboard-inner {\n    animation: uppy-Dashboard-slideUpFadeOut 0.3s cubic-bezier(0, 0, 0.2, 1);\n  }\n}\n\n.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose.uppy-Dashboard--isClosing > .uppy-Dashboard-overlay {\n  animation: uppy-Dashboard-fadeOut 0.3s cubic-bezier(0, 0, 0.2, 1);\n}\n\n.uppy-Dashboard-isFixed {\n  height: 100vh;\n  overflow: hidden;\n}\n\n.uppy-Dashboard--modal .uppy-Dashboard-overlay {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1001;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.uppy-Dashboard-inner {\n  position: relative;\n  max-width: 100%;\n  max-height: 100%;\n  background-color: #f4f4f4;\n  border: 1px solid #eaeaea;\n  border-radius: 5px;\n  outline: none;\n}\n.uppy-size--md .uppy-Dashboard-inner {\n  min-height: auto;\n}\n@media only screen and (min-width: 820px) {\n  .uppy-Dashboard-inner {\n    width: 650px;\n    height: 500px;\n  }\n}\n.uppy-Dashboard--modal .uppy-Dashboard-inner {\n  z-index: 1002;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-inner {\n  background-color: #1f1f1f;\n}\n.uppy-Dashboard--isDisabled .uppy-Dashboard-inner {\n  cursor: not-allowed;\n}\n\n.uppy-Dashboard-innerWrap {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n  border-radius: 5px;\n  opacity: 0;\n}\n.uppy-Dashboard--isInnerWrapVisible .uppy-Dashboard-innerWrap {\n  opacity: 1;\n}\n.uppy-Dashboard--isDisabled .uppy-Dashboard-innerWrap {\n  opacity: 0.6;\n  filter: grayscale(100%);\n  -webkit-user-select: none;\n          user-select: none;\n  cursor: not-allowed;\n}\n\n.uppy-Dashboard--isDisabled .uppy-ProviderIconBg {\n  fill: #9f9f9f;\n}\n\n.uppy-Dashboard--isDisabled [disabled], .uppy-Dashboard--isDisabled [aria-disabled] {\n  pointer-events: none;\n  cursor: not-allowed;\n}\n\n.uppy-Dashboard--modal .uppy-Dashboard-inner {\n  position: fixed;\n  top: 35px;\n  right: 15px;\n  bottom: 15px;\n  left: 15px;\n  border: none;\n}\n@media only screen and (min-width: 820px) {\n  .uppy-Dashboard--modal .uppy-Dashboard-inner {\n    top: 50%;\n    right: auto;\n    left: 50%;\n    box-shadow: 0 5px 15px 4px rgba(0, 0, 0, 0.15);\n    transform: translate(-50%, -50%);\n  }\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-close{\n  right: -2px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-close{\n  left: -2px;\n}\n\n.uppy-Dashboard-close {\n  position: absolute;\n  top: -33px;\n  z-index: 1005;\n  display: block;\n  color: rgba(255, 255, 255, 0.9);\n  font-size: 27px;\n  cursor: pointer;\n}\n.uppy-Dashboard-close:focus {\n  outline: none;\n}\n.uppy-Dashboard-close::-moz-focus-inner {\n  border: 0;\n}\n.uppy-Dashboard-close:focus {\n  color: #8cb8ed;\n}\n@media only screen and (min-width: 820px) {\n  [dir=\"ltr\"] .uppy-Dashboard-close{\n    right: -35px;\n  }\n  [dir=\"rtl\"] .uppy-Dashboard-close{\n    left: -35px;\n  }\n  .uppy-Dashboard-close {\n    top: -10px;\n    font-size: 35px;\n  }\n}\n\n.uppy-Dashboard-serviceMsg {\n  position: relative;\n  top: -1px;\n  z-index: 1004;\n  padding: 12px 0;\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 1.3;\n  background-color: #fffbf7;\n  border-top: 1px solid #edd4b9;\n  border-bottom: 1px solid #edd4b9;\n}\n.uppy-size--md .uppy-Dashboard-serviceMsg {\n  font-size: 14px;\n  line-height: 1.4;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-serviceMsg {\n  color: #eaeaea;\n  background-color: #1f1f1f;\n  border-top: 1px solid #333;\n  border-bottom: 1px solid #333;\n}\n\n.uppy-Dashboard-serviceMsg-title {\n  display: block;\n  margin-bottom: 4px;\n  padding-left: 42px;\n  line-height: 1;\n}\n\n.uppy-Dashboard-serviceMsg-text {\n  padding: 0 15px;\n}\n\n.uppy-Dashboard-serviceMsg-actionBtn {\n  color: #2275d7;\n  font-weight: inherit;\n  font-size: inherit;\n  vertical-align: initial;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-serviceMsg-actionBtn {\n  color: rgba(2, 186, 242, 0.9);\n}\n\n.uppy-Dashboard-serviceMsg-icon {\n  position: absolute;\n  top: 10px;\n  left: 15px;\n}\n\n.uppy-Dashboard-AddFiles {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  text-align: center;\n}\n[data-uppy-drag-drop-supported=true] .uppy-Dashboard-AddFiles {\n  height: calc(100% - 14px);\n  margin: 7px;\n  border: 1px dashed #dfdfdf;\n  border-radius: 3px;\n}\n.uppy-Dashboard-AddFilesPanel .uppy-Dashboard-AddFiles {\n  height: calc(100% - 14px - 40px);\n  border: none;\n}\n.uppy-Dashboard--modal .uppy-Dashboard-AddFiles {\n  border-color: #cfcfcf;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-AddFiles {\n  border-color: #757575;\n}\n\n.uppy-Dashboard-AddFiles-info {\n  display: none;\n  margin-top: auto;\n  padding-top: 15px;\n  padding-bottom: 15px;\n}\n.uppy-size--height-md .uppy-Dashboard-AddFiles-info {\n  display: block;\n}\n.uppy-size--md .uppy-Dashboard-AddFiles-info {\n  position: absolute;\n  right: 0;\n  bottom: 25px;\n  left: 0;\n  padding-top: 30px;\n  padding-bottom: 0;\n}\n[data-uppy-num-acquirers=\"0\"] .uppy-Dashboard-AddFiles-info {\n  margin-top: 0;\n}\n\n.uppy-Dashboard-browse {\n  color: rgba(34, 117, 215, 0.9);\n  cursor: pointer;\n}\n.uppy-Dashboard-browse:focus {\n  outline: none;\n}\n.uppy-Dashboard-browse::-moz-focus-inner {\n  border: 0;\n}\n.uppy-Dashboard-browse:hover, .uppy-Dashboard-browse:focus {\n  border-bottom: 1px solid #2275d7;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-browse {\n  color: rgba(2, 186, 242, 0.9);\n}\n[data-uppy-theme=dark] .uppy-Dashboard-browse:hover, [data-uppy-theme=dark] .uppy-Dashboard-browse:focus {\n  border-bottom: 1px solid #02baf2;\n}\n\n.uppy-Dashboard-browseBtn {\n  display: block;\n  width: 100%;\n  margin-top: 8px;\n  margin-bottom: 5px;\n  font-weight: 500;\n  font-size: 14px;\n}\n.uppy-size--md .uppy-Dashboard-browseBtn {\n  width: auto;\n  margin: auto;\n  margin-top: 15px;\n  margin-bottom: 15px;\n  padding: 13px 44px;\n  font-size: 15px;\n}\n\n.uppy-Dashboard-AddFiles-list {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  width: 100%;\n  margin-top: 2px;\n  padding: 2px 0;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.uppy-size--md .uppy-Dashboard-AddFiles-list {\n  flex: none;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  max-width: 600px;\n  margin-top: 15px;\n  padding-top: 0;\n  overflow-y: visible;\n}\n\n.uppy-DashboardTab {\n  width: 100%;\n  text-align: center;\n  border-bottom: 1px solid #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab {\n  border-bottom: 1px solid #333;\n}\n.uppy-size--md .uppy-DashboardTab {\n  display: inline-block;\n  width: initial;\n  margin-bottom: 10px;\n  border-bottom: none;\n}\n\n.uppy-DashboardTab-btn {\n  flex-direction: row;\n  align-items: center;\n  justify-content: left;\n  width: 100%;\n  height: 100%;\n  padding: 12px 15px;\n  color: #525252;\n  background-color: transparent;\n  cursor: pointer;\n  -webkit-appearance: none;\n  appearance: none;\n}\n.uppy-DashboardTab-btn:focus {\n  outline: none;\n}\n.uppy-DashboardTab-btn::-moz-focus-inner {\n  border: 0;\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-DashboardTab-btn{\n  margin-right: 1px;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-DashboardTab-btn{\n  margin-left: 1px;\n}\n.uppy-size--md .uppy-DashboardTab-btn {\n  flex-direction: column;\n  width: 86px;\n  padding: 10px 3px;\n  border-radius: 5px;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-btn {\n  color: #eaeaea;\n}\n\n.uppy-DashboardTab-btn::-moz-focus-inner {\n  border: 0;\n}\n\n.uppy-DashboardTab-btn:hover {\n  background-color: #e9ecef;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-btn:hover {\n  background-color: #333;\n}\n\n.uppy-DashboardTab-btn:active,\n.uppy-DashboardTab-btn:focus {\n  background-color: #dfe6f1;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-btn:active,\n[data-uppy-theme=dark] .uppy-DashboardTab-btn:focus {\n  background-color: #525252;\n}\n\n.uppy-DashboardTab-btn svg {\n  display: inline-block;\n  max-width: 100%;\n  max-height: 100%;\n  overflow: hidden;\n  vertical-align: text-top;\n  transition: transform ease-in-out 0.15s;\n}\n\n[dir=\"ltr\"] .uppy-DashboardTab-inner{\n  margin-right: 10px;\n}\n\n[dir=\"rtl\"] .uppy-DashboardTab-inner{\n  margin-left: 10px;\n}\n\n.uppy-DashboardTab-inner {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  border-radius: 8px;\n  background-color: #fff;\n  box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.1), 0 2px 3px 0 rgba(0, 0, 0, 0.02);\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-DashboardTab-inner{\n  margin-right: 0;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-DashboardTab-inner{\n  margin-left: 0;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-inner {\n  background-color: #323232;\n  box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.2), 0 1px 2px 0 rgba(0, 0, 0, 0.2), 0 2px 3px 0 rgba(0, 0, 0, 0.08);\n}\n\n.uppy-DashboardTab-name {\n  font-weight: 400;\n  font-size: 14px;\n}\n.uppy-size--md .uppy-DashboardTab-name {\n  margin-top: 8px;\n  margin-bottom: 0;\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.uppy-DashboardTab-iconMyDevice {\n  color: #2275d7;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-iconMyDevice {\n  color: #02baf2;\n}\n\n.uppy-DashboardTab-iconBox {\n  color: #0061d5;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-iconBox {\n  color: #eaeaea;\n}\n\n.uppy-DashboardTab-iconDropbox {\n  color: #0061fe;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-iconDropbox {\n  color: #eaeaea;\n}\n\n.uppy-DashboardTab-iconUnsplash {\n  color: #111;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-iconUnsplash {\n  color: #eaeaea;\n}\n\n.uppy-DashboardTab-iconScreenRec {\n  color: #2c3e50;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-iconScreenRec {\n  color: #eaeaea;\n}\n\n.uppy-DashboardTab-iconAudio {\n  color: #8030a3;\n}\n[data-uppy-theme=dark] .uppy-DashboardTab-iconAudio {\n  color: #bf6ee3;\n}\n\n.uppy-Dashboard-input {\n  position: absolute;\n  z-index: -1;\n  width: 0.1px;\n  height: 0.1px;\n  overflow: hidden;\n  opacity: 0;\n}\n\n.uppy-DashboardContent-bar {\n  position: relative;\n  z-index: 1004;\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  height: 40px;\n  padding: 0 10px;\n  background-color: #fafafa;\n  border-bottom: 1px solid #eaeaea;\n}\n.uppy-size--md .uppy-DashboardContent-bar {\n  height: 50px;\n  padding: 0 15px;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-bar {\n  background-color: #1f1f1f;\n  border-bottom: 1px solid #333;\n}\n\n.uppy-DashboardContent-title {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  width: 100%;\n  max-width: 170px;\n  margin: auto;\n  overflow-x: hidden;\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 40px;\n  white-space: nowrap;\n  text-align: center;\n  text-overflow: ellipsis;\n}\n.uppy-size--md .uppy-DashboardContent-title {\n  max-width: 300px;\n  font-size: 14px;\n  line-height: 50px;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-title {\n  color: #eaeaea;\n}\n\n[dir=\"ltr\"] .uppy-DashboardContent-back,[dir=\"ltr\"] \n.uppy-DashboardContent-save{\n  margin-left: -6px;\n}\n\n[dir=\"rtl\"] .uppy-DashboardContent-back,[dir=\"rtl\"] \n.uppy-DashboardContent-save{\n  margin-right: -6px;\n}\n\n.uppy-DashboardContent-back,\n.uppy-DashboardContent-save {\n  margin: 0;\n  padding: 0;\n  color: inherit;\n  font-size: inherit;\n  font-family: inherit;\n  line-height: 1;\n  background: none;\n  border: 0;\n  -webkit-appearance: none;\n  padding: 7px 6px;\n  color: #2275d7;\n  font-weight: 400;\n  font-size: 12px;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.uppy-DashboardContent-back:focus,\n.uppy-DashboardContent-save:focus {\n  outline: none;\n}\n.uppy-DashboardContent-back::-moz-focus-inner,\n.uppy-DashboardContent-save::-moz-focus-inner {\n  border: 0;\n}\n.uppy-DashboardContent-back:hover,\n.uppy-DashboardContent-save:hover {\n  color: #1b5dab;\n}\n.uppy-DashboardContent-back:focus,\n.uppy-DashboardContent-save:focus {\n  background-color: #dfe6f1;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-back:focus,\n[data-uppy-theme=dark] .uppy-DashboardContent-save:focus {\n  background-color: #333;\n}\n.uppy-size--md .uppy-DashboardContent-back,\n.uppy-size--md .uppy-DashboardContent-save {\n  font-size: 14px;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-back,\n[data-uppy-theme=dark] .uppy-DashboardContent-save {\n  color: #02baf2;\n}\n\n[dir=\"ltr\"] .uppy-DashboardContent-addMore{\n  margin-right: -5px;\n}\n\n[dir=\"rtl\"] .uppy-DashboardContent-addMore{\n  margin-left: -5px;\n}\n\n.uppy-DashboardContent-addMore {\n  margin: 0;\n  padding: 0;\n  color: inherit;\n  font-size: inherit;\n  font-family: inherit;\n  line-height: 1;\n  background: none;\n  border: 0;\n  -webkit-appearance: none;\n  width: 29px;\n  height: 29px;\n  padding: 7px 8px;\n  color: #2275d7;\n  font-weight: 500;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.uppy-DashboardContent-addMore:focus {\n  outline: none;\n}\n.uppy-DashboardContent-addMore::-moz-focus-inner {\n  border: 0;\n}\n.uppy-DashboardContent-addMore:hover {\n  color: #1b5dab;\n}\n.uppy-DashboardContent-addMore:focus {\n  background-color: #dfe6f1;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-addMore:focus {\n  background-color: #333;\n}\n[dir=\"ltr\"] .uppy-size--md .uppy-DashboardContent-addMore{\n  margin-right: -8px;\n}\n[dir=\"rtl\"] .uppy-size--md .uppy-DashboardContent-addMore{\n  margin-left: -8px;\n}\n.uppy-size--md .uppy-DashboardContent-addMore {\n  width: auto;\n  height: auto;\n  font-size: 14px;\n}\n[data-uppy-theme=dark] .uppy-DashboardContent-addMore {\n  color: #02baf2;\n}\n\n[dir=\"ltr\"] .uppy-DashboardContent-addMore svg{\n  margin-right: 4px;\n}\n\n[dir=\"rtl\"] .uppy-DashboardContent-addMore svg{\n  margin-left: 4px;\n}\n\n.uppy-DashboardContent-addMore svg {\n  vertical-align: baseline;\n}\n.uppy-size--md .uppy-DashboardContent-addMore svg {\n  width: 11px;\n  height: 11px;\n}\n\n.uppy-DashboardContent-addMoreCaption {\n  display: none;\n}\n.uppy-size--md .uppy-DashboardContent-addMoreCaption {\n  display: inline;\n}\n\n.uppy-DashboardContent-panel {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1005;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  overflow: hidden;\n  background-color: whitesmoke;\n  border-radius: 5px;\n}\n\n.uppy-Dashboard-AddFilesPanel {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1005;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  background: #fafafa;\n  background: linear-gradient(0deg, #fafafa 35%, rgba(250, 250, 250, 0.85) 100%);\n  border-radius: 5px;\n  box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.15);\n}\n[data-uppy-theme=dark] .uppy-Dashboard-AddFilesPanel {\n  background-color: #333;\n  background-image: linear-gradient(0deg, #1f1f1f 35%, rgba(31, 31, 31, 0.85) 100%);\n}\n\n.uppy-Dashboard--isAddFilesPanelVisible .uppy-Dashboard-files {\n  filter: blur(2px);\n}\n\n.uppy-Dashboard-progress {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 12%;\n}\n\n.uppy-Dashboard-progressBarContainer.is-active {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1004;\n  width: 100%;\n  height: 100%;\n}\n\n.uppy-Dashboard-filesContainer {\n  position: relative;\n  flex: 1;\n  margin: 0;\n  overflow-y: hidden;\n}\n.uppy-Dashboard-filesContainer::after {\n  display: table;\n  clear: both;\n  content: \"\";\n}\n\n.uppy-Dashboard-files {\n  flex: 1;\n  margin: 0;\n  padding: 0 0 10px 0;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.uppy-size--md .uppy-Dashboard-files {\n  padding-top: 10px;\n}\n\n.uppy-Dashboard--singleFile .uppy-Dashboard-filesInner {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n\n.uppy-Dashboard-dropFilesHereHint {\n  position: absolute;\n  top: 7px;\n  right: 7px;\n  bottom: 7px;\n  left: 7px;\n  z-index: 2000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 90px;\n  color: #757575;\n  font-size: 16px;\n  text-align: center;\n  background-image: url(\"data:image/svg+xml,%3Csvg width='48' height='48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z' fill='%232275D7' fill-rule='nonzero'/%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  border: 1px dashed #2275d7;\n  border-radius: 3px;\n  visibility: hidden;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-dropFilesHereHint {\n  color: #bbb;\n  background-image: url(\"data:image/svg+xml,%3Csvg width='48' height='48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z' fill='%2302BAF2' fill-rule='nonzero'/%3E%3C/svg%3E\");\n  border-color: #02baf2;\n}\n\n.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-dropFilesHereHint {\n  visibility: visible;\n}\n.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-DashboardContent-bar,\n.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-files,\n.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-progressindicators,\n.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-serviceMsg {\n  opacity: 0.15;\n}\n.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-AddFiles {\n  opacity: 0.03;\n}\n\n.uppy-Dashboard-AddFiles-title {\n  width: 100%;\n  margin-top: 15px;\n  margin-bottom: 5px;\n  padding: 0 15px;\n  color: #000;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 1.35;\n  text-align: inline-start;\n}\n.uppy-size--md .uppy-Dashboard-AddFiles-title {\n  max-width: 480px;\n  padding: 0 35px;\n  margin-top: 5px;\n  font-weight: 400;\n  font-size: 21px;\n  text-align: center;\n}\n[data-uppy-num-acquirers=\"0\"] .uppy-Dashboard-AddFiles-title {\n  text-align: center;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-AddFiles-title {\n  color: #eaeaea;\n}\n.uppy-Dashboard-AddFiles-title button {\n  font-weight: 500;\n}\n.uppy-size--md .uppy-Dashboard-AddFiles-title button {\n  font-weight: 400;\n}\n\n.uppy-Dashboard-note {\n  max-width: 350px;\n  margin: auto;\n  padding: 0 15px;\n  color: #757575;\n  font-size: 14px;\n  line-height: 1.25;\n  text-align: center;\n}\n.uppy-size--md .uppy-Dashboard-note {\n  max-width: 600px;\n  line-height: 1.35;\n}\n[data-uppy-theme=dark] .uppy-Dashboard-note {\n  color: #cfcfcf;\n}\n\na.uppy-Dashboard-poweredBy {\n  display: inline-block;\n  margin-top: 8px;\n  color: #939393;\n  font-size: 11px;\n  text-align: center;\n  text-decoration: none;\n}\n\n.uppy-Dashboard-poweredByIcon {\n  position: relative;\n  top: 1px;\n  margin-right: 1px;\n  margin-left: 1px;\n  vertical-align: text-top;\n  opacity: 0.9;\n  fill: none;\n  stroke: #939393;\n}\n\n.uppy-Dashboard-Item-previewIcon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 100;\n  width: 25px;\n  height: 25px;\n  transform: translate(-50%, -50%);\n}\n.uppy-size--md .uppy-Dashboard-Item-previewIcon {\n  width: 38px;\n  height: 38px;\n}\n.uppy-Dashboard-Item-previewIcon svg {\n  width: 100%;\n  height: 100%;\n}\n.uppy-Dashboard--singleFile .uppy-Dashboard-Item-previewIcon {\n  width: 90px;\n  height: 90px;\n}\n\n.uppy-Dashboard-Item-previewIconWrap {\n  position: relative;\n  height: 76px;\n  max-height: 75%;\n}\n.uppy-Dashboard--singleFile .uppy-Dashboard-Item-previewIconWrap {\n  height: 176px;\n}\n\n.uppy-Dashboard-Item-previewIconBg {\n  width: 100%;\n  height: 100%;\n  filter: drop-shadow(rgba(0, 0, 0, 0.1) 0 1px 1px);\n}\n\n.uppy-Dashboard-upload {\n  position: relative;\n  width: 50px;\n  height: 50px;\n}\n.uppy-size--md .uppy-Dashboard-upload {\n  width: 60px;\n  height: 60px;\n}\n\n.uppy-Dashboard-upload .uppy-c-icon {\n  position: relative;\n  top: 1px;\n  width: 50%;\n}\n\n[dir=\"ltr\"] .uppy-Dashboard-uploadCount{\n  right: -12px;\n}\n\n[dir=\"rtl\"] .uppy-Dashboard-uploadCount{\n  left: -12px;\n}\n\n.uppy-Dashboard-uploadCount {\n  position: absolute;\n  top: -12px;\n  width: 16px;\n  height: 16px;\n  color: #fff;\n  font-size: 8px;\n  line-height: 16px;\n  background-color: #1bb240;\n  border-radius: 50%;\n}\n.uppy-size--md .uppy-Dashboard-uploadCount {\n  width: 18px;\n  height: 18px;\n  font-size: 9px;\n  line-height: 18px;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/image-editor/dist/style.css":
/*!**********************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/image-editor/dist/style.css ***!
  \**********************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
// Imports



var ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC */ "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC"), __webpack_require__.b);
var ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".uppy-ImageCropper-range {\n  width: 100%;\n  margin: 9px 0;\n  background: transparent;\n  -webkit-appearance: none;\n}\n.uppy-ImageCropper-range::-moz-focus-outer {\n  border: 0;\n}\n.uppy-ImageCropper-range:focus {\n  outline: 0;\n}\n.uppy-ImageCropper-range:focus::-webkit-slider-runnable-track {\n  background: rgba(255, 255, 255, 0.2);\n}\n.uppy-ImageCropper-range:focus::-ms-fill-lower {\n  background: rgba(255, 255, 255, 0.2);\n}\n.uppy-ImageCropper-range:focus::-ms-fill-upper {\n  background: rgba(255, 255, 255, 0.2);\n}\n.uppy-ImageCropper-range::-webkit-slider-runnable-track {\n  width: 100%;\n  height: 4px;\n  cursor: default;\n  -webkit-transition: all 0.2s ease;\n  transition: all 0.2s ease;\n  box-shadow: 0 0 0 transparent, 0 0 0 rgba(13, 13, 13, 0);\n  background: rgba(255, 255, 255, 0.2);\n  border: 0 solid transparent;\n  border-radius: 5px;\n}\n.uppy-ImageCropper-range::-webkit-slider-thumb {\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.2), 0 0 0 rgba(13, 13, 13, 0.2);\n  box-sizing: border-box;\n  width: 18px;\n  height: 18px;\n  background: #fff;\n  border: 0 solid transparent;\n  border-radius: 9px;\n  cursor: default;\n  margin-top: -7px;\n  -webkit-appearance: none;\n}\n.uppy-ImageCropper-range::-moz-range-track {\n  box-shadow: 0 0 0 transparent, 0 0 0 rgba(13, 13, 13, 0);\n  width: 100%;\n  height: 4px;\n  cursor: default;\n  -moz-transition: all 0.2s ease;\n  transition: all 0.2s ease;\n  height: 4px;\n  background: rgba(255, 255, 255, 0.2);\n  border: 0 solid transparent;\n  border-radius: 5px;\n}\n.uppy-ImageCropper-range::-moz-range-thumb {\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.2), 0 0 0 rgba(13, 13, 13, 0.2);\n  box-sizing: border-box;\n  width: 18px;\n  height: 18px;\n  background: #fff;\n  border: 0 solid transparent;\n  border-radius: 9px;\n  cursor: default;\n}\n.uppy-ImageCropper-range::-ms-track {\n  width: 100%;\n  height: 4px;\n  cursor: default;\n  -ms-transition: all 0.2s ease;\n  transition: all 0.2s ease;\n  color: transparent;\n  background: transparent;\n  border-color: transparent;\n  border-width: 9px 0;\n}\n.uppy-ImageCropper-range::-ms-fill-lower {\n  box-shadow: 0 0 0 transparent, 0 0 0 rgba(13, 13, 13, 0);\n  background: rgba(242, 242, 242, 0.2);\n  border: 0 solid transparent;\n  border-radius: 10px;\n}\n.uppy-ImageCropper-range::-ms-fill-upper {\n  box-shadow: 0 0 0 transparent, 0 0 0 rgba(13, 13, 13, 0);\n  background: rgba(255, 255, 255, 0.2);\n  border: 0 solid transparent;\n  border-radius: 10px;\n}\n.uppy-ImageCropper-range::-ms-thumb {\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.2), 0 0 0 rgba(13, 13, 13, 0.2);\n  box-sizing: border-box;\n  width: 18px;\n  height: 18px;\n  background: #fff;\n  border: 0 solid transparent;\n  border-radius: 9px;\n  cursor: default;\n  margin-top: 1px;\n}\n.uppy-ImageCropper-range:disabled::-webkit-slider-thumb, .uppy-ImageCropper-range:disabled::-moz-range-thumb, .uppy-ImageCropper-range:disabled::-ms-thumb, .uppy-ImageCropper-range:disabled::-webkit-slider-runnable-track, .uppy-ImageCropper-range:disabled::-ms-fill-lower, .uppy-ImageCropper-range:disabled::-ms-fill-upper {\n  cursor: not-allowed;\n}\n\n/*!\n * Cropper.js v1.5.6\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2019-10-04T04:33:44.164Z\n */\n.cropper-container {\n  position: relative;\n  font-size: 0;\n  line-height: 0;\n  direction: ltr;\n  -webkit-user-select: none;\n  user-select: none;\n  touch-action: none;\n}\n\n.cropper-container img {\n  display: block;\n  width: 100%;\n  min-width: 0 !important;\n  max-width: none !important;\n  height: 100%;\n  min-height: 0 !important;\n  max-height: none !important;\n  image-orientation: 0deg;\n}\n\n.cropper-wrap-box,\n.cropper-canvas,\n.cropper-drag-box,\n.cropper-crop-box,\n.cropper-modal {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n\n.cropper-wrap-box,\n.cropper-canvas {\n  overflow: hidden;\n}\n\n.cropper-drag-box {\n  background-color: #fff;\n  opacity: 0;\n}\n\n.cropper-modal {\n  background-color: #000;\n  opacity: 1;\n}\n\n.cropper-view-box {\n  display: block;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  background: repeating-conic-gradient(rgba(0, 0, 0, 0.5) 0% 25%, rgba(255, 255, 255, 0.5) 0% 50%) 50%/16px 16px;\n}\n\n.cropper-dashed {\n  position: absolute;\n  display: block;\n  border: 0 dashed #eee;\n  opacity: 0.5;\n}\n\n.cropper-dashed.dashed-h {\n  top: 33.3333333333%;\n  left: 0;\n  width: 100%;\n  height: 33.3333333333%;\n  border-top-width: 1px;\n  border-bottom-width: 1px;\n}\n\n.cropper-dashed.dashed-v {\n  top: 0;\n  left: 33.3333333333%;\n  width: 33.3333333333%;\n  height: 100%;\n  border-right-width: 1px;\n  border-left-width: 1px;\n}\n\n.cropper-center {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  display: block;\n  width: 0;\n  height: 0;\n  opacity: 0.75;\n}\n\n.cropper-center::before,\n.cropper-center::after {\n  position: absolute;\n  display: block;\n  background-color: #eee;\n  content: \" \";\n}\n\n.cropper-center::before {\n  top: 0;\n  left: -3px;\n  width: 7px;\n  height: 1px;\n}\n\n.cropper-center::after {\n  top: -3px;\n  left: 0;\n  width: 1px;\n  height: 7px;\n}\n\n.cropper-face,\n.cropper-line,\n.cropper-point {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n\n.cropper-face {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  opacity: 0;\n}\n\n.cropper-line {\n  background-color: #39f;\n}\n\n.cropper-line.line-e {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: ew-resize;\n}\n\n.cropper-line.line-n {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: ns-resize;\n}\n\n.cropper-line.line-w {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: ew-resize;\n}\n\n.cropper-line.line-s {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: ns-resize;\n}\n\n.cropper-point {\n  width: 5px;\n  height: 5px;\n  background-color: #39f;\n  opacity: 0.75;\n}\n\n.cropper-point.point-e {\n  top: 50%;\n  right: -3px;\n  margin-top: -3px;\n  cursor: ew-resize;\n}\n\n.cropper-point.point-n {\n  top: -3px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: ns-resize;\n}\n\n.cropper-point.point-w {\n  top: 50%;\n  left: -3px;\n  margin-top: -3px;\n  cursor: ew-resize;\n}\n\n.cropper-point.point-s {\n  bottom: -3px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n\n.cropper-point.point-ne {\n  top: -3px;\n  right: -3px;\n  cursor: nesw-resize;\n}\n\n.cropper-point.point-nw {\n  top: -3px;\n  left: -3px;\n  cursor: nwse-resize;\n}\n\n.cropper-point.point-sw {\n  bottom: -3px;\n  left: -3px;\n  cursor: nesw-resize;\n}\n\n.cropper-point.point-se {\n  right: -3px;\n  bottom: -3px;\n  width: 20px;\n  height: 20px;\n  cursor: nwse-resize;\n  opacity: 1;\n}\n\n@media (min-width: 768px) {\n  .cropper-point.point-se {\n    width: 15px;\n    height: 15px;\n  }\n}\n@media (min-width: 992px) {\n  .cropper-point.point-se {\n    width: 10px;\n    height: 10px;\n  }\n}\n@media (min-width: 1200px) {\n  .cropper-point.point-se {\n    width: 5px;\n    height: 5px;\n    opacity: 0.75;\n  }\n}\n.cropper-point.point-se::before {\n  position: absolute;\n  right: -50%;\n  bottom: -50%;\n  display: block;\n  width: 200%;\n  height: 200%;\n  background-color: #39f;\n  opacity: 0;\n  content: \" \";\n}\n\n.cropper-invisible {\n  opacity: 0;\n}\n\n.cropper-bg {\n  background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ");\n}\n\n.cropper-hide {\n  position: absolute;\n  display: block;\n  width: 0;\n  height: 0;\n}\n\n.cropper-hidden {\n  display: none !important;\n}\n\n.cropper-move {\n  cursor: move;\n}\n\n.cropper-crop {\n  cursor: crosshair;\n}\n\n.cropper-disabled .cropper-drag-box,\n.cropper-disabled .cropper-face,\n.cropper-disabled .cropper-line,\n.cropper-disabled .cropper-point {\n  cursor: not-allowed;\n}\n\n.uppy-ImageCropper {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n\n.uppy-ImageCropper-container {\n  flex-grow: 1;\n}\n\n.uppy-ImageCropper-image {\n  display: block;\n  max-height: 400px;\n}\n\n.uppy-ImageCropper-controls {\n  position: absolute;\n  bottom: 15px;\n  left: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 38px;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.6);\n  transform: translateX(-50%);\n}\n.uppy-size--md .uppy-ImageCropper-controls {\n  padding-top: 0;\n}\n\n.uppy-ImageCropper-controls button {\n  width: 35px;\n  height: 35px;\n}\n.uppy-ImageCropper-controls button svg {\n  padding: 3px;\n}\n.uppy-size--md .uppy-ImageCropper-controls button {\n  width: 40px;\n  height: 40px;\n}\n.uppy-size--md .uppy-ImageCropper-controls button svg {\n  padding: 1px;\n}\n.uppy-ImageCropper-controls button:hover {\n  background-color: rgba(34, 117, 215, 0.8);\n}\n.uppy-ImageCropper-controls button:focus {\n  background-color: rgba(34, 117, 215, 0.8);\n  outline: none;\n}\n\n.uppy-ImageCropper-rangeWrapper {\n  position: absolute !important;\n  top: 0;\n  right: 10px;\n  left: 10px;\n  height: 38px;\n}\n.uppy-size--md .uppy-ImageCropper-rangeWrapper {\n  position: static !important;\n  height: auto;\n}\n\n.uppy-size--md .uppy-ImageCropper-range {\n  width: 180px;\n  margin-right: 15px;\n  margin-left: 5px;\n}\n\n.uppy-ImageCropper .cropper-point {\n  width: 8px;\n  height: 8px;\n}\n\n.uppy-ImageCropper .cropper-view-box {\n  outline: 2px solid #39f;\n}", "",{"version":3,"sources":["webpack://./node_modules/@uppy/image-editor/dist/style.css"],"names":[],"mappings":"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","sourcesContent":[".uppy-ImageCropper-range {\n  width: 100%;\n  margin: 9px 0;\n  background: transparent;\n  -webkit-appearance: none;\n}\n.uppy-ImageCropper-range::-moz-focus-outer {\n  border: 0;\n}\n.uppy-ImageCropper-range:focus {\n  outline: 0;\n}\n.uppy-ImageCropper-range:focus::-webkit-slider-runnable-track {\n  background: rgba(255, 255, 255, 0.2);\n}\n.uppy-ImageCropper-range:focus::-ms-fill-lower {\n  background: rgba(255, 255, 255, 0.2);\n}\n.uppy-ImageCropper-range:focus::-ms-fill-upper {\n  background: rgba(255, 255, 255, 0.2);\n}\n.uppy-ImageCropper-range::-webkit-slider-runnable-track {\n  width: 100%;\n  height: 4px;\n  cursor: default;\n  -webkit-transition: all 0.2s ease;\n  transition: all 0.2s ease;\n  box-shadow: 0 0 0 transparent, 0 0 0 rgba(13, 13, 13, 0);\n  background: rgba(255, 255, 255, 0.2);\n  border: 0 solid transparent;\n  border-radius: 5px;\n}\n.uppy-ImageCropper-range::-webkit-slider-thumb {\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.2), 0 0 0 rgba(13, 13, 13, 0.2);\n  box-sizing: border-box;\n  width: 18px;\n  height: 18px;\n  background: #fff;\n  border: 0 solid transparent;\n  border-radius: 9px;\n  cursor: default;\n  margin-top: -7px;\n  -webkit-appearance: none;\n}\n.uppy-ImageCropper-range::-moz-range-track {\n  box-shadow: 0 0 0 transparent, 0 0 0 rgba(13, 13, 13, 0);\n  width: 100%;\n  height: 4px;\n  cursor: default;\n  -moz-transition: all 0.2s ease;\n  transition: all 0.2s ease;\n  height: 4px;\n  background: rgba(255, 255, 255, 0.2);\n  border: 0 solid transparent;\n  border-radius: 5px;\n}\n.uppy-ImageCropper-range::-moz-range-thumb {\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.2), 0 0 0 rgba(13, 13, 13, 0.2);\n  box-sizing: border-box;\n  width: 18px;\n  height: 18px;\n  background: #fff;\n  border: 0 solid transparent;\n  border-radius: 9px;\n  cursor: default;\n}\n.uppy-ImageCropper-range::-ms-track {\n  width: 100%;\n  height: 4px;\n  cursor: default;\n  -ms-transition: all 0.2s ease;\n  transition: all 0.2s ease;\n  color: transparent;\n  background: transparent;\n  border-color: transparent;\n  border-width: 9px 0;\n}\n.uppy-ImageCropper-range::-ms-fill-lower {\n  box-shadow: 0 0 0 transparent, 0 0 0 rgba(13, 13, 13, 0);\n  background: rgba(242, 242, 242, 0.2);\n  border: 0 solid transparent;\n  border-radius: 10px;\n}\n.uppy-ImageCropper-range::-ms-fill-upper {\n  box-shadow: 0 0 0 transparent, 0 0 0 rgba(13, 13, 13, 0);\n  background: rgba(255, 255, 255, 0.2);\n  border: 0 solid transparent;\n  border-radius: 10px;\n}\n.uppy-ImageCropper-range::-ms-thumb {\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.2), 0 0 0 rgba(13, 13, 13, 0.2);\n  box-sizing: border-box;\n  width: 18px;\n  height: 18px;\n  background: #fff;\n  border: 0 solid transparent;\n  border-radius: 9px;\n  cursor: default;\n  margin-top: 1px;\n}\n.uppy-ImageCropper-range:disabled::-webkit-slider-thumb, .uppy-ImageCropper-range:disabled::-moz-range-thumb, .uppy-ImageCropper-range:disabled::-ms-thumb, .uppy-ImageCropper-range:disabled::-webkit-slider-runnable-track, .uppy-ImageCropper-range:disabled::-ms-fill-lower, .uppy-ImageCropper-range:disabled::-ms-fill-upper {\n  cursor: not-allowed;\n}\n\n/*!\n * Cropper.js v1.5.6\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2019-10-04T04:33:44.164Z\n */\n.cropper-container {\n  position: relative;\n  font-size: 0;\n  line-height: 0;\n  direction: ltr;\n  -webkit-user-select: none;\n  user-select: none;\n  touch-action: none;\n}\n\n.cropper-container img {\n  display: block;\n  width: 100%;\n  min-width: 0 !important;\n  max-width: none !important;\n  height: 100%;\n  min-height: 0 !important;\n  max-height: none !important;\n  image-orientation: 0deg;\n}\n\n.cropper-wrap-box,\n.cropper-canvas,\n.cropper-drag-box,\n.cropper-crop-box,\n.cropper-modal {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n\n.cropper-wrap-box,\n.cropper-canvas {\n  overflow: hidden;\n}\n\n.cropper-drag-box {\n  background-color: #fff;\n  opacity: 0;\n}\n\n.cropper-modal {\n  background-color: #000;\n  opacity: 1;\n}\n\n.cropper-view-box {\n  display: block;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  background: repeating-conic-gradient(rgba(0, 0, 0, 0.5) 0% 25%, rgba(255, 255, 255, 0.5) 0% 50%) 50%/16px 16px;\n}\n\n.cropper-dashed {\n  position: absolute;\n  display: block;\n  border: 0 dashed #eee;\n  opacity: 0.5;\n}\n\n.cropper-dashed.dashed-h {\n  top: 33.3333333333%;\n  left: 0;\n  width: 100%;\n  height: 33.3333333333%;\n  border-top-width: 1px;\n  border-bottom-width: 1px;\n}\n\n.cropper-dashed.dashed-v {\n  top: 0;\n  left: 33.3333333333%;\n  width: 33.3333333333%;\n  height: 100%;\n  border-right-width: 1px;\n  border-left-width: 1px;\n}\n\n.cropper-center {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  display: block;\n  width: 0;\n  height: 0;\n  opacity: 0.75;\n}\n\n.cropper-center::before,\n.cropper-center::after {\n  position: absolute;\n  display: block;\n  background-color: #eee;\n  content: \" \";\n}\n\n.cropper-center::before {\n  top: 0;\n  left: -3px;\n  width: 7px;\n  height: 1px;\n}\n\n.cropper-center::after {\n  top: -3px;\n  left: 0;\n  width: 1px;\n  height: 7px;\n}\n\n.cropper-face,\n.cropper-line,\n.cropper-point {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n\n.cropper-face {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  opacity: 0;\n}\n\n.cropper-line {\n  background-color: #39f;\n}\n\n.cropper-line.line-e {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: ew-resize;\n}\n\n.cropper-line.line-n {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: ns-resize;\n}\n\n.cropper-line.line-w {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: ew-resize;\n}\n\n.cropper-line.line-s {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: ns-resize;\n}\n\n.cropper-point {\n  width: 5px;\n  height: 5px;\n  background-color: #39f;\n  opacity: 0.75;\n}\n\n.cropper-point.point-e {\n  top: 50%;\n  right: -3px;\n  margin-top: -3px;\n  cursor: ew-resize;\n}\n\n.cropper-point.point-n {\n  top: -3px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: ns-resize;\n}\n\n.cropper-point.point-w {\n  top: 50%;\n  left: -3px;\n  margin-top: -3px;\n  cursor: ew-resize;\n}\n\n.cropper-point.point-s {\n  bottom: -3px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n\n.cropper-point.point-ne {\n  top: -3px;\n  right: -3px;\n  cursor: nesw-resize;\n}\n\n.cropper-point.point-nw {\n  top: -3px;\n  left: -3px;\n  cursor: nwse-resize;\n}\n\n.cropper-point.point-sw {\n  bottom: -3px;\n  left: -3px;\n  cursor: nesw-resize;\n}\n\n.cropper-point.point-se {\n  right: -3px;\n  bottom: -3px;\n  width: 20px;\n  height: 20px;\n  cursor: nwse-resize;\n  opacity: 1;\n}\n\n@media (min-width: 768px) {\n  .cropper-point.point-se {\n    width: 15px;\n    height: 15px;\n  }\n}\n@media (min-width: 992px) {\n  .cropper-point.point-se {\n    width: 10px;\n    height: 10px;\n  }\n}\n@media (min-width: 1200px) {\n  .cropper-point.point-se {\n    width: 5px;\n    height: 5px;\n    opacity: 0.75;\n  }\n}\n.cropper-point.point-se::before {\n  position: absolute;\n  right: -50%;\n  bottom: -50%;\n  display: block;\n  width: 200%;\n  height: 200%;\n  background-color: #39f;\n  opacity: 0;\n  content: \" \";\n}\n\n.cropper-invisible {\n  opacity: 0;\n}\n\n.cropper-bg {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC\");\n}\n\n.cropper-hide {\n  position: absolute;\n  display: block;\n  width: 0;\n  height: 0;\n}\n\n.cropper-hidden {\n  display: none !important;\n}\n\n.cropper-move {\n  cursor: move;\n}\n\n.cropper-crop {\n  cursor: crosshair;\n}\n\n.cropper-disabled .cropper-drag-box,\n.cropper-disabled .cropper-face,\n.cropper-disabled .cropper-line,\n.cropper-disabled .cropper-point {\n  cursor: not-allowed;\n}\n\n.uppy-ImageCropper {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n\n.uppy-ImageCropper-container {\n  flex-grow: 1;\n}\n\n.uppy-ImageCropper-image {\n  display: block;\n  max-height: 400px;\n}\n\n.uppy-ImageCropper-controls {\n  position: absolute;\n  bottom: 15px;\n  left: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 38px;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.6);\n  transform: translateX(-50%);\n}\n.uppy-size--md .uppy-ImageCropper-controls {\n  padding-top: 0;\n}\n\n.uppy-ImageCropper-controls button {\n  width: 35px;\n  height: 35px;\n}\n.uppy-ImageCropper-controls button svg {\n  padding: 3px;\n}\n.uppy-size--md .uppy-ImageCropper-controls button {\n  width: 40px;\n  height: 40px;\n}\n.uppy-size--md .uppy-ImageCropper-controls button svg {\n  padding: 1px;\n}\n.uppy-ImageCropper-controls button:hover {\n  background-color: rgba(34, 117, 215, 0.8);\n}\n.uppy-ImageCropper-controls button:focus {\n  background-color: rgba(34, 117, 215, 0.8);\n  outline: none;\n}\n\n.uppy-ImageCropper-rangeWrapper {\n  position: absolute !important;\n  top: 0;\n  right: 10px;\n  left: 10px;\n  height: 38px;\n}\n.uppy-size--md .uppy-ImageCropper-rangeWrapper {\n  position: static !important;\n  height: auto;\n}\n\n.uppy-size--md .uppy-ImageCropper-range {\n  width: 180px;\n  margin-right: 15px;\n  margin-left: 5px;\n}\n\n.uppy-ImageCropper .cropper-point {\n  width: 8px;\n  height: 8px;\n}\n\n.uppy-ImageCropper .cropper-view-box {\n  outline: 2px solid #39f;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/screen-capture/dist/style.css":
/*!************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/screen-capture/dist/style.css ***!
  \************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".uppy-ScreenCapture-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n\n.uppy-ScreenCapture-videoContainer {\n  position: relative;\n  flex: 1;\n  flex-grow: 1;\n  width: 100%;\n  overflow: hidden;\n  text-align: center;\n  background-color: #333;\n}\n.uppy-size--md .uppy-ScreenCapture-videoContainer {\n  max-width: 100%;\n}\n\n.uppy-ScreenCapture-video {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  outline: 0;\n}\n\n.uppy-ScreenCapture-buttonContainer {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 75px;\n  padding: 0 20px;\n  background-color: #fff;\n  border-top: 1px solid #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-ScreenCapture-buttonContainer {\n  background-color: #1f1f1f;\n  border-top: 1px solid #333;\n}\n\n.uppy-ScreenCapture-button {\n  width: 45px;\n  height: 45px;\n  color: #fff;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n.uppy-ScreenCapture-button:focus {\n  outline: none;\n}\n.uppy-ScreenCapture-button::-moz-focus-inner {\n  border: 0;\n}\n.uppy-ScreenCapture-button:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n[data-uppy-theme=dark] .uppy-ScreenCapture-button:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-ScreenCapture-button::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-ScreenCapture-button:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n.uppy-size--md .uppy-ScreenCapture-button {\n  width: 60px;\n  height: 60px;\n}\n.uppy-ScreenCapture-button:hover {\n  background-color: #d31b2d;\n}\n\n.uppy-ScreenCapture-button svg {\n  display: inline-block;\n  width: 30px;\n  max-width: 100%;\n  height: 30px;\n  max-height: 100%;\n  overflow: hidden;\n  vertical-align: text-top;\n  fill: currentColor;\n}\n\n.uppy-ScreenCapture-button--submit {\n  margin-left: 12px;\n  background-color: #2275d7;\n}\n.uppy-ScreenCapture-button--submit:hover {\n  background-color: #1f69c1;\n}\n.uppy-ScreenCapture-button--submit:disabled {\n  background-color: #939393;\n  cursor: default;\n}\n.uppy-ScreenCapture-button--submit:disabled:hover {\n  background-color: #eaeaea;\n}\n\n.uppy-ScreenCapture-title {\n  max-width: 500px;\n  margin: 0;\n  margin-bottom: 5px;\n  padding: 0 15px;\n  color: #333;\n  font-weight: 400;\n  font-size: 22px;\n  line-height: 1.35;\n  text-align: center;\n}\n\n.uppy-ScreenCapture-icon--stream {\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 1;\n  margin: 1rem;\n}\n.uppy-ScreenCapture-icon--stream svg {\n  fill: #939393;\n}\n\n.uppy-ScreenCapture-icon--streamActive svg {\n  animation: uppy-ScreenCapture-icon--blink 1s cubic-bezier(0.47, 0, 0.75, 0.72) infinite;\n}\n\n@keyframes uppy-ScreenCapture-icon--blink {\n  0% {\n    fill: #2275d7;\n  }\n  50% {\n    fill: #939393;\n  }\n  100% {\n    fill: #2275d7;\n  }\n}\n.uppy-ScreenCapture-button--video {\n  color: #fff;\n  background: #e32437;\n}\n.uppy-ScreenCapture-button--video:hover {\n  background-color: #bc1828;\n}", "",{"version":3,"sources":["webpack://./node_modules/@uppy/screen-capture/dist/style.css"],"names":[],"mappings":"AAAA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,OAAO;EACP,YAAY;EACZ,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,sBAAsB;AACxB;AACA;EACE,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,eAAe;EACf,gBAAgB;EAChB,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,eAAe;EACf,sBAAsB;EACtB,6BAA6B;AAC/B;AACA;EACE,yBAAyB;EACzB,0BAA0B;AAC5B;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,eAAe;EACf,oBAAoB;AACtB;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,6CAA6C;AAC/C;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,+CAA+C;AACjD;AACA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,yBAAyB;AAC3B;;AAEA;EACE,qBAAqB;EACrB,WAAW;EACX,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,gBAAgB;EAChB,wBAAwB;EACxB,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;EACjB,yBAAyB;AAC3B;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,yBAAyB;EACzB,eAAe;AACjB;AACA;EACE,yBAAyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,SAAS;EACT,kBAAkB;EAClB,eAAe;EACf,WAAW;EACX,gBAAgB;EAChB,eAAe;EACf,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,UAAU;EACV,YAAY;AACd;AACA;EACE,aAAa;AACf;;AAEA;EACE,uFAAuF;AACzF;;AAEA;EACE;IACE,aAAa;EACf;EACA;IACE,aAAa;EACf;EACA;IACE,aAAa;EACf;AACF;AACA;EACE,WAAW;EACX,mBAAmB;AACrB;AACA;EACE,yBAAyB;AAC3B","sourcesContent":[".uppy-ScreenCapture-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n\n.uppy-ScreenCapture-videoContainer {\n  position: relative;\n  flex: 1;\n  flex-grow: 1;\n  width: 100%;\n  overflow: hidden;\n  text-align: center;\n  background-color: #333;\n}\n.uppy-size--md .uppy-ScreenCapture-videoContainer {\n  max-width: 100%;\n}\n\n.uppy-ScreenCapture-video {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  outline: 0;\n}\n\n.uppy-ScreenCapture-buttonContainer {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 75px;\n  padding: 0 20px;\n  background-color: #fff;\n  border-top: 1px solid #eaeaea;\n}\n[data-uppy-theme=dark] .uppy-ScreenCapture-buttonContainer {\n  background-color: #1f1f1f;\n  border-top: 1px solid #333;\n}\n\n.uppy-ScreenCapture-button {\n  width: 45px;\n  height: 45px;\n  color: #fff;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n.uppy-ScreenCapture-button:focus {\n  outline: none;\n}\n.uppy-ScreenCapture-button::-moz-focus-inner {\n  border: 0;\n}\n.uppy-ScreenCapture-button:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n[data-uppy-theme=dark] .uppy-ScreenCapture-button:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-ScreenCapture-button::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-ScreenCapture-button:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n.uppy-size--md .uppy-ScreenCapture-button {\n  width: 60px;\n  height: 60px;\n}\n.uppy-ScreenCapture-button:hover {\n  background-color: #d31b2d;\n}\n\n.uppy-ScreenCapture-button svg {\n  display: inline-block;\n  width: 30px;\n  max-width: 100%;\n  height: 30px;\n  max-height: 100%;\n  overflow: hidden;\n  vertical-align: text-top;\n  fill: currentColor;\n}\n\n.uppy-ScreenCapture-button--submit {\n  margin-left: 12px;\n  background-color: #2275d7;\n}\n.uppy-ScreenCapture-button--submit:hover {\n  background-color: #1f69c1;\n}\n.uppy-ScreenCapture-button--submit:disabled {\n  background-color: #939393;\n  cursor: default;\n}\n.uppy-ScreenCapture-button--submit:disabled:hover {\n  background-color: #eaeaea;\n}\n\n.uppy-ScreenCapture-title {\n  max-width: 500px;\n  margin: 0;\n  margin-bottom: 5px;\n  padding: 0 15px;\n  color: #333;\n  font-weight: 400;\n  font-size: 22px;\n  line-height: 1.35;\n  text-align: center;\n}\n\n.uppy-ScreenCapture-icon--stream {\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 1;\n  margin: 1rem;\n}\n.uppy-ScreenCapture-icon--stream svg {\n  fill: #939393;\n}\n\n.uppy-ScreenCapture-icon--streamActive svg {\n  animation: uppy-ScreenCapture-icon--blink 1s cubic-bezier(0.47, 0, 0.75, 0.72) infinite;\n}\n\n@keyframes uppy-ScreenCapture-icon--blink {\n  0% {\n    fill: #2275d7;\n  }\n  50% {\n    fill: #939393;\n  }\n  100% {\n    fill: #2275d7;\n  }\n}\n.uppy-ScreenCapture-button--video {\n  color: #fff;\n  background: #e32437;\n}\n.uppy-ScreenCapture-button--video:hover {\n  background-color: #bc1828;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/url/dist/style.css":
/*!*************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/url/dist/style.css ***!
  \*************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".uppy-Url {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n[data-uppy-theme=dark] .uppy-Url {\n  background-color: #1f1f1f;\n}\n\n.uppy-Url-input {\n  width: 90%;\n  max-width: 650px;\n  margin-bottom: 15px;\n}\n.uppy-size--md .uppy-Url-input {\n  margin-bottom: 20px;\n}\n\n.uppy-Url-importButton {\n  padding: 13px 25px;\n}\n.uppy-size--md .uppy-Url-importButton {\n  padding: 13px 30px;\n}", "",{"version":3,"sources":["webpack://./node_modules/@uppy/url/dist/style.css"],"names":[],"mappings":"AAAA;EACE,aAAa;EACb,OAAO;EACP,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,YAAY;AACd;AACA;EACE,yBAAyB;AAC3B;;AAEA;EACE,UAAU;EACV,gBAAgB;EAChB,mBAAmB;AACrB;AACA;EACE,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;AACpB;AACA;EACE,kBAAkB;AACpB","sourcesContent":[".uppy-Url {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n[data-uppy-theme=dark] .uppy-Url {\n  background-color: #1f1f1f;\n}\n\n.uppy-Url-input {\n  width: 90%;\n  max-width: 650px;\n  margin-bottom: 15px;\n}\n.uppy-size--md .uppy-Url-input {\n  margin-bottom: 20px;\n}\n\n.uppy-Url-importButton {\n  padding: 13px 25px;\n}\n.uppy-size--md .uppy-Url-importButton {\n  padding: 13px 30px;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/webcam/dist/style.css":
/*!****************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/webcam/dist/style.css ***!
  \****************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
// Imports



var ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23757575%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E */ "data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23757575%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E"), __webpack_require__.b);
var ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".uppy-Webcam-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n\n.uppy-Webcam-videoContainer {\n  position: relative;\n  flex: 1;\n  flex-grow: 1;\n  width: 100%;\n  overflow: hidden;\n  text-align: center;\n  background-color: #333;\n}\n\n.uppy-Webcam-video {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n}\n\n.uppy-Webcam-video--mirrored {\n  transform: scaleX(-1);\n}\n\n.uppy-Webcam-footer {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  min-height: 75px;\n  padding: 20px 20px;\n}\n\n.uppy-Webcam-videoSourceContainer {\n  flex-grow: 0;\n  width: 100%;\n}\n\n.uppy-size--lg .uppy-Webcam-videoSourceContainer {\n  width: 33%;\n  margin: 0;\n}\n\n.uppy-Webcam-videoSource-select {\n  display: block;\n  width: 100%;\n  max-width: 90%;\n  margin: auto;\n  margin-bottom: 10px;\n  padding: 0.4em 1em 0.3em 0.4em;\n  font-size: 16px;\n  line-height: 1.2;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ");\n  background-repeat: no-repeat;\n  background-position: right 0.4em top 50%, 0 0;\n  background-size: 0.65em auto, 100%;\n  border: 1px solid #757575;\n}\n.uppy-size--lg .uppy-Webcam-videoSource-select {\n  margin-bottom: 0;\n  font-size: 14px;\n}\n\n.uppy-Webcam-videoSource-select::-ms-expand {\n  display: none;\n}\n\n.uppy-Webcam-buttonContainer {\n  width: 50%;\n  margin-left: 25%;\n  text-align: center;\n}\n\n.uppy-size--lg .uppy-Webcam-buttonContainer {\n  width: 34%;\n  margin-left: 0;\n}\n\n.uppy-Webcam-recordingLength {\n  flex-grow: 0;\n  width: 25%;\n  color: #757575;\n  font-family: SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n  text-align: right;\n}\n\n.uppy-size--lg .uppy-Webcam-recordingLength {\n  width: 33%;\n}\n\n.uppy-Webcam-button {\n  width: 45px;\n  height: 45px;\n  color: #fff;\n  background-color: #e32437;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n.uppy-Webcam-button:focus {\n  outline: none;\n}\n.uppy-Webcam-button::-moz-focus-inner {\n  border: 0;\n}\n.uppy-Webcam-button:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n.uppy-Webcam-button:hover {\n  background-color: #d31b2d;\n}\n[data-uppy-theme=dark] .uppy-Webcam-button:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-Webcam-button::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-Webcam-button:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n\n.uppy-Webcam-button--submit {\n  margin: 0 12px;\n  background-color: #2275d7;\n}\n.uppy-Webcam-button--submit:hover {\n  background-color: #1f69c1;\n}\n\n.uppy-Webcam-button svg {\n  display: inline-block;\n  width: 30px;\n  max-width: 100%;\n  height: 30px;\n  max-height: 100%;\n  overflow: hidden;\n  vertical-align: text-top;\n  fill: currentColor;\n}\n\n.uppy-size--md .uppy-Webcam-button {\n  width: 60px;\n  height: 60px;\n}\n\n.uppy-Webcam-button--picture {\n  margin-right: 12px;\n}\n\n.uppy-Webcam-permissons {\n  display: flex;\n  flex: 1;\n  flex-flow: column wrap;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  padding: 15px;\n}\n\n.uppy-Webcam-permissons p {\n  max-width: 450px;\n  margin: 0;\n  color: #939393;\n  line-height: 1.3;\n  line-height: 1.45;\n  text-align: center;\n}\n\n.uppy-Webcam-permissonsIcon svg {\n  width: 100px;\n  height: 75px;\n  margin-bottom: 30px;\n  color: #bbb;\n}\n\n.uppy-Webcam-title {\n  max-width: 500px;\n  margin: 0;\n  margin-bottom: 5px;\n  padding: 0 15px;\n  color: #333;\n  font-weight: 400;\n  font-size: 22px;\n  line-height: 1.35;\n  text-align: center;\n}\n[data-uppy-theme=dark] .uppy-Webcam-title {\n  color: #eaeaea;\n}", "",{"version":3,"sources":["webpack://./node_modules/@uppy/webcam/dist/style.css"],"names":[],"mappings":"AAAA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,OAAO;EACP,YAAY;EACZ,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,eAAe;EACf,gBAAgB;EAChB,YAAY;AACd;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,eAAe;EACf,mBAAmB;EACnB,8BAA8B;EAC9B,WAAW;EACX,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,UAAU;EACV,SAAS;AACX;;AAEA;EACE,cAAc;EACd,WAAW;EACX,cAAc;EACd,YAAY;EACZ,mBAAmB;EACnB,8BAA8B;EAC9B,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB,yDAAof;EACpf,4BAA4B;EAC5B,6CAA6C;EAC7C,kCAAkC;EAClC,yBAAyB;AAC3B;AACA;EACE,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,UAAU;EACV,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;EACE,UAAU;EACV,cAAc;AAChB;;AAEA;EACE,YAAY;EACZ,UAAU;EACV,cAAc;EACd,iGAAiG;EACjG,iBAAiB;AACnB;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,WAAW;EACX,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,oBAAoB;AACtB;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,6CAA6C;AAC/C;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;AACA;EACE,+CAA+C;AACjD;;AAEA;EACE,cAAc;EACd,yBAAyB;AAC3B;AACA;EACE,yBAAyB;AAC3B;;AAEA;EACE,qBAAqB;EACrB,WAAW;EACX,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,gBAAgB;EAChB,wBAAwB;EACxB,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,OAAO;EACP,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;EACZ,aAAa;AACf;;AAEA;EACE,gBAAgB;EAChB,SAAS;EACT,cAAc;EACd,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,YAAY;EACZ,mBAAmB;EACnB,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,SAAS;EACT,kBAAkB;EAClB,eAAe;EACf,WAAW;EACX,gBAAgB;EAChB,eAAe;EACf,iBAAiB;EACjB,kBAAkB;AACpB;AACA;EACE,cAAc;AAChB","sourcesContent":[".uppy-Webcam-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n\n.uppy-Webcam-videoContainer {\n  position: relative;\n  flex: 1;\n  flex-grow: 1;\n  width: 100%;\n  overflow: hidden;\n  text-align: center;\n  background-color: #333;\n}\n\n.uppy-Webcam-video {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n}\n\n.uppy-Webcam-video--mirrored {\n  transform: scaleX(-1);\n}\n\n.uppy-Webcam-footer {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  min-height: 75px;\n  padding: 20px 20px;\n}\n\n.uppy-Webcam-videoSourceContainer {\n  flex-grow: 0;\n  width: 100%;\n}\n\n.uppy-size--lg .uppy-Webcam-videoSourceContainer {\n  width: 33%;\n  margin: 0;\n}\n\n.uppy-Webcam-videoSource-select {\n  display: block;\n  width: 100%;\n  max-width: 90%;\n  margin: auto;\n  margin-bottom: 10px;\n  padding: 0.4em 1em 0.3em 0.4em;\n  font-size: 16px;\n  line-height: 1.2;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  background-image: url(\"data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23757575%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E\");\n  background-repeat: no-repeat;\n  background-position: right 0.4em top 50%, 0 0;\n  background-size: 0.65em auto, 100%;\n  border: 1px solid #757575;\n}\n.uppy-size--lg .uppy-Webcam-videoSource-select {\n  margin-bottom: 0;\n  font-size: 14px;\n}\n\n.uppy-Webcam-videoSource-select::-ms-expand {\n  display: none;\n}\n\n.uppy-Webcam-buttonContainer {\n  width: 50%;\n  margin-left: 25%;\n  text-align: center;\n}\n\n.uppy-size--lg .uppy-Webcam-buttonContainer {\n  width: 34%;\n  margin-left: 0;\n}\n\n.uppy-Webcam-recordingLength {\n  flex-grow: 0;\n  width: 25%;\n  color: #757575;\n  font-family: SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n  text-align: right;\n}\n\n.uppy-size--lg .uppy-Webcam-recordingLength {\n  width: 33%;\n}\n\n.uppy-Webcam-button {\n  width: 45px;\n  height: 45px;\n  color: #fff;\n  background-color: #e32437;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n.uppy-Webcam-button:focus {\n  outline: none;\n}\n.uppy-Webcam-button::-moz-focus-inner {\n  border: 0;\n}\n.uppy-Webcam-button:focus {\n  box-shadow: 0 0 0 3px rgba(34, 117, 215, 0.5);\n}\n.uppy-Webcam-button:hover {\n  background-color: #d31b2d;\n}\n[data-uppy-theme=dark] .uppy-Webcam-button:focus {\n  outline: none;\n}\n[data-uppy-theme=dark] .uppy-Webcam-button::-moz-focus-inner {\n  border: 0;\n}\n[data-uppy-theme=dark] .uppy-Webcam-button:focus {\n  box-shadow: 0 0 0 2px rgba(170, 225, 255, 0.85);\n}\n\n.uppy-Webcam-button--submit {\n  margin: 0 12px;\n  background-color: #2275d7;\n}\n.uppy-Webcam-button--submit:hover {\n  background-color: #1f69c1;\n}\n\n.uppy-Webcam-button svg {\n  display: inline-block;\n  width: 30px;\n  max-width: 100%;\n  height: 30px;\n  max-height: 100%;\n  overflow: hidden;\n  vertical-align: text-top;\n  fill: currentColor;\n}\n\n.uppy-size--md .uppy-Webcam-button {\n  width: 60px;\n  height: 60px;\n}\n\n.uppy-Webcam-button--picture {\n  margin-right: 12px;\n}\n\n.uppy-Webcam-permissons {\n  display: flex;\n  flex: 1;\n  flex-flow: column wrap;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  padding: 15px;\n}\n\n.uppy-Webcam-permissons p {\n  max-width: 450px;\n  margin: 0;\n  color: #939393;\n  line-height: 1.3;\n  line-height: 1.45;\n  text-align: center;\n}\n\n.uppy-Webcam-permissonsIcon svg {\n  width: 100px;\n  height: 75px;\n  margin-bottom: 30px;\n  color: #bbb;\n}\n\n.uppy-Webcam-title {\n  max-width: 500px;\n  margin: 0;\n  margin-bottom: 5px;\n  padding: 0 15px;\n  color: #333;\n  font-weight: 400;\n  font-size: 22px;\n  line-height: 1.35;\n  text-align: center;\n}\n[data-uppy-theme=dark] .uppy-Webcam-title {\n  color: #eaeaea;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (url, options) {
  if (!options) {
    options = {};
  }
  if (!url) {
    return url;
  }
  url = String(url.__esModule ? url.default : url);

  // If url is already wrapped in quotes, remove them
  if (/^['"].*['"]$/.test(url)) {
    url = url.slice(1, -1);
  }
  if (options.hash) {
    url += options.hash;
  }

  // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls
  if (/["'() \t\n]|(%20)/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, "\\n"), "\"");
  }
  return url;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/is-mobile/index.js":
/*!*****************************************!*\
  !*** ./node_modules/is-mobile/index.js ***!
  \*****************************************/
/***/ ((module) => {

"use strict";


module.exports = isMobile
module.exports.isMobile = isMobile
module.exports["default"] = isMobile

const mobileRE = /(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i
const notMobileRE = /CrOS/

const tabletRE = /android|ipad|playbook|silk/i

function isMobile (opts) {
  if (!opts) opts = {}
  let ua = opts.ua
  if (!ua && typeof navigator !== 'undefined') ua = navigator.userAgent
  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {
    ua = ua.headers['user-agent']
  }
  if (typeof ua !== 'string') return false

  let result =
    (mobileRE.test(ua) && !notMobileRE.test(ua)) ||
    (!!opts.tablet && tabletRE.test(ua))

  if (
    !result &&
    opts.tablet &&
    opts.featureDetect &&
    navigator &&
    navigator.maxTouchPoints > 1 &&
    ua.indexOf('Macintosh') !== -1 &&
    ua.indexOf('Safari') !== -1
  ) {
    result = true
  }

  return result
}


/***/ }),

/***/ "./node_modules/is-shallow-equal/index.js":
/*!************************************************!*\
  !*** ./node_modules/is-shallow-equal/index.js ***!
  \************************************************/
/***/ ((module) => {

module.exports = function isShallowEqual (a, b) {
  if (a === b) return true
  for (var i in a) if (!(i in b)) return false
  for (var i in b) if (a[i] !== b[i]) return false
  return true
}


/***/ }),

/***/ "./node_modules/lodash.debounce/index.js":
/*!***********************************************!*\
  !*** ./node_modules/lodash.debounce/index.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall;

    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = debounce;


/***/ }),

/***/ "./node_modules/lodash.throttle/index.js":
/*!***********************************************!*\
  !*** ./node_modules/lodash.throttle/index.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall;

    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

/**
 * Creates a throttled function that only invokes `func` at most once per
 * every `wait` milliseconds. The throttled function comes with a `cancel`
 * method to cancel delayed `func` invocations and a `flush` method to
 * immediately invoke them. Provide `options` to indicate whether `func`
 * should be invoked on the leading and/or trailing edge of the `wait`
 * timeout. The `func` is invoked with the last arguments provided to the
 * throttled function. Subsequent calls to the throttled function return the
 * result of the last `func` invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the throttled function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.throttle` and `_.debounce`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to throttle.
 * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=true]
 *  Specify invoking on the leading edge of the timeout.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new throttled function.
 * @example
 *
 * // Avoid excessively updating the position while scrolling.
 * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
 *
 * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
 * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
 * jQuery(element).on('click', throttled);
 *
 * // Cancel the trailing throttled invocation.
 * jQuery(window).on('popstate', throttled.cancel);
 */
function throttle(func, wait, options) {
  var leading = true,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  if (isObject(options)) {
    leading = 'leading' in options ? !!options.leading : leading;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }
  return debounce(func, wait, {
    'leading': leading,
    'maxWait': wait,
    'trailing': trailing
  });
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = throttle;


/***/ }),

/***/ "./node_modules/memoize-one/dist/memoize-one.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/memoize-one/dist/memoize-one.esm.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ memoizeOne)
/* harmony export */ });
var safeIsNaN = Number.isNaN ||
    function ponyfill(value) {
        return typeof value === 'number' && value !== value;
    };
function isEqual(first, second) {
    if (first === second) {
        return true;
    }
    if (safeIsNaN(first) && safeIsNaN(second)) {
        return true;
    }
    return false;
}
function areInputsEqual(newInputs, lastInputs) {
    if (newInputs.length !== lastInputs.length) {
        return false;
    }
    for (var i = 0; i < newInputs.length; i++) {
        if (!isEqual(newInputs[i], lastInputs[i])) {
            return false;
        }
    }
    return true;
}

function memoizeOne(resultFn, isEqual) {
    if (isEqual === void 0) { isEqual = areInputsEqual; }
    var cache = null;
    function memoized() {
        var newArgs = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            newArgs[_i] = arguments[_i];
        }
        if (cache && cache.lastThis === this && isEqual(newArgs, cache.lastArgs)) {
            return cache.lastResult;
        }
        var lastResult = resultFn.apply(this, newArgs);
        cache = {
            lastResult: lastResult,
            lastArgs: newArgs,
            lastThis: this,
        };
        return lastResult;
    }
    memoized.clear = function clear() {
        cache = null;
    };
    return memoized;
}




/***/ }),

/***/ "./node_modules/mime-match/index.js":
/*!******************************************!*\
  !*** ./node_modules/mime-match/index.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var wildcard = __webpack_require__(/*! wildcard */ "./node_modules/wildcard/index.js");
var reMimePartSplit = /[\/\+\.]/;

/**
  # mime-match

  A simple function to checker whether a target mime type matches a mime-type
  pattern (e.g. image/jpeg matches image/jpeg OR image/*).

  ## Example Usage

  <<< example.js

**/
module.exports = function(target, pattern) {
  function test(pattern) {
    var result = wildcard(pattern, target, reMimePartSplit);

    // ensure that we have a valid mime type (should have two parts)
    return result && result.length >= 2;
  }

  return pattern ? test(pattern.split(';')[0]) : test;
};


/***/ }),

/***/ "./node_modules/namespace-emitter/index.js":
/*!*************************************************!*\
  !*** ./node_modules/namespace-emitter/index.js ***!
  \*************************************************/
/***/ ((module) => {

/**
* Create an event emitter with namespaces
* @name createNamespaceEmitter
* @example
* var emitter = require('./index')()
*
* emitter.on('*', function () {
*   console.log('all events emitted', this.event)
* })
*
* emitter.on('example', function () {
*   console.log('example event emitted')
* })
*/
module.exports = function createNamespaceEmitter () {
  var emitter = {}
  var _fns = emitter._fns = {}

  /**
  * Emit an event. Optionally namespace the event. Handlers are fired in the order in which they were added with exact matches taking precedence. Separate the namespace and event with a `:`
  * @name emit
  * @param {String} event – the name of the event, with optional namespace
  * @param {...*} data – up to 6 arguments that are passed to the event listener
  * @example
  * emitter.emit('example')
  * emitter.emit('demo:test')
  * emitter.emit('data', { example: true}, 'a string', 1)
  */
  emitter.emit = function emit (event, arg1, arg2, arg3, arg4, arg5, arg6) {
    var toEmit = getListeners(event)

    if (toEmit.length) {
      emitAll(event, toEmit, [arg1, arg2, arg3, arg4, arg5, arg6])
    }
  }

  /**
  * Create en event listener.
  * @name on
  * @param {String} event
  * @param {Function} fn
  * @example
  * emitter.on('example', function () {})
  * emitter.on('demo', function () {})
  */
  emitter.on = function on (event, fn) {
    if (!_fns[event]) {
      _fns[event] = []
    }

    _fns[event].push(fn)
  }

  /**
  * Create en event listener that fires once.
  * @name once
  * @param {String} event
  * @param {Function} fn
  * @example
  * emitter.once('example', function () {})
  * emitter.once('demo', function () {})
  */
  emitter.once = function once (event, fn) {
    function one () {
      fn.apply(this, arguments)
      emitter.off(event, one)
    }
    this.on(event, one)
  }

  /**
  * Stop listening to an event. Stop all listeners on an event by only passing the event name. Stop a single listener by passing that event handler as a callback.
  * You must be explicit about what will be unsubscribed: `emitter.off('demo')` will unsubscribe an `emitter.on('demo')` listener,
  * `emitter.off('demo:example')` will unsubscribe an `emitter.on('demo:example')` listener
  * @name off
  * @param {String} event
  * @param {Function} [fn] – the specific handler
  * @example
  * emitter.off('example')
  * emitter.off('demo', function () {})
  */
  emitter.off = function off (event, fn) {
    var keep = []

    if (event && fn) {
      var fns = this._fns[event]
      var i = 0
      var l = fns ? fns.length : 0

      for (i; i < l; i++) {
        if (fns[i] !== fn) {
          keep.push(fns[i])
        }
      }
    }

    keep.length ? this._fns[event] = keep : delete this._fns[event]
  }

  function getListeners (e) {
    var out = _fns[e] ? _fns[e] : []
    var idx = e.indexOf(':')
    var args = (idx === -1) ? [e] : [e.substring(0, idx), e.substring(idx + 1)]

    var keys = Object.keys(_fns)
    var i = 0
    var l = keys.length

    for (i; i < l; i++) {
      var key = keys[i]
      if (key === '*') {
        out = out.concat(_fns[key])
      }

      if (args.length === 2 && args[0] === key) {
        out = out.concat(_fns[key])
        break
      }
    }

    return out
  }

  function emitAll (e, fns, args) {
    var i = 0
    var l = fns.length

    for (i; i < l; i++) {
      if (!fns[i]) break
      fns[i].event = e
      fns[i].apply(fns[i], args)
    }
  }

  return emitter
}


/***/ }),

/***/ "./node_modules/preact/dist/preact.module.js":
/*!***************************************************!*\
  !*** ./node_modules/preact/dist/preact.module.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Component": () => (/* binding */ k),
/* harmony export */   "Fragment": () => (/* binding */ _),
/* harmony export */   "cloneElement": () => (/* binding */ E),
/* harmony export */   "createContext": () => (/* binding */ F),
/* harmony export */   "createElement": () => (/* binding */ y),
/* harmony export */   "createRef": () => (/* binding */ d),
/* harmony export */   "h": () => (/* binding */ y),
/* harmony export */   "hydrate": () => (/* binding */ D),
/* harmony export */   "isValidElement": () => (/* binding */ i),
/* harmony export */   "options": () => (/* binding */ l),
/* harmony export */   "render": () => (/* binding */ B),
/* harmony export */   "toChildArray": () => (/* binding */ P)
/* harmony export */ });
var n,l,u,i,t,r,o,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,r,o,f={};for(o in u)"key"==o?t=u[o]:"ref"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),"function"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,t,r,null)}function p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function d(){return{current:null}}function _(n){return n.children}function k(n,l){this.props=n,this.context=l}function b(n,l){if(null==l)return n.__?b(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?b(n):null}function g(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return g(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!w.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(w)}function w(){var n,l,u,i,r,o,e,c;for(t.sort(f);n=t.shift();)n.__d&&(l=t.length,i=void 0,r=void 0,e=(o=(u=n).__v).__e,(c=u.__P)&&(i=[],(r=h({},o)).__v=o.__v+1,L(c,o,r,u.__n,void 0!==c.ownerSVGElement,null!=o.__h?[e]:null,i,null==e?b(o):e,o.__h),M(i,o),o.__e!=e&&g(o)),t.length>l&&t.sort(f));w.__r=0}function x(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,g,m,w=i&&i.__k||s,x=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||"boolean"==typeof d||"function"==typeof d?null:"string"==typeof d||"number"==typeof d||"bigint"==typeof d?p(null,d,null,null,d):Array.isArray(d)?p(_,{children:d},null,null,null):d.__b>0?p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=w[h])||y&&d.key==y.key&&d.type===y.type)w[h]=void 0;else for(v=0;v<x;v++){if((y=w[v])&&d.key==y.key&&d.type===y.type){w[v]=void 0;break}y=null}L(n,d,y=y||c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(m||(m=[]),y.ref&&m.push(y.ref,null,d),m.push(v,d.__c||k,d)),null!=k?(null==g&&(g=k),"function"==typeof d.type&&d.__k===y.__k?d.__d=e=A(d,e,n):e=C(n,d,y,w,k,e),"function"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=b(y))}for(u.__e=g,h=x;h--;)null!=w[h]&&("function"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=$(i).nextSibling),S(w[h],w[h]));if(m)for(h=0;h<m.length;h++)O(m[h],m[++h],m[++h])}function A(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l="function"==typeof i.type?A(i,l,u):C(u,i,i,t,i.__e,l));return l}function P(n,l){return l=l||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(n){P(n,l)}):l.push(n)),l}function C(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function $(n){var l,u,i;if(null==n.type||"string"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=$(u)))return i;return null}function H(n,l,u,i,t){var r;for(r in u)"children"===r||"key"===r||r in l||T(n,r,null,u[r],i);for(r in l)t&&"function"!=typeof l[r]||"children"===r||"key"===r||"value"===r||"checked"===r||u[r]===l[r]||T(n,r,l[r],u[r],i)}function I(n,l,u){"-"===l[0]?n.setProperty(l,null==u?"":u):n[l]=null==u?"":"number"!=typeof u||a.test(l)?u:u+"px"}function T(n,l,u,i,t){var r;n:if("style"===l)if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||I(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||I(n.style,l,u[l])}else if("o"===l[0]&&"n"===l[1])r=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?z:j,r):n.removeEventListener(l,r?z:j,r);else if("dangerouslySetInnerHTML"!==l){if(t)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==l&&"height"!==l&&"href"!==l&&"list"!==l&&"form"!==l&&"tabIndex"!==l&&"download"!==l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null==u||!1===u&&"-"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function j(n){return this.l[n.type+!1](l.event?l.event(n):n)}function z(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,b,g,m,w,A,P,C,$,H,I=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if("function"==typeof I){if(g=u.props,m=(s=I.contextType)&&t[s.__c],w=s?m?m.props.value:s.__:t,i.__c?b=(a=u.__c=i.__c).__=a.__E:("prototype"in I&&I.prototype.render?u.__c=a=new I(g,w):(u.__c=a=new k(g,w),a.constructor=I,a.render=q),m&&m.sub(a),a.props=g,a.state||(a.state={}),a.context=w,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=I.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,I.getDerivedStateFromProps(g,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==I.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==I.getDerivedStateFromProps&&g!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(g,w),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(g,a.__s,w)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=g,a.state=a.__s,a.__d=!1),a.__e=!1,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),A=0;A<a._sb.length;A++)a.__h.push(a._sb[A]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(g,a.__s,w),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,p,d)})}if(a.context=w,a.props=g,a.__P=n,P=l.__r,C=0,"prototype"in I&&I.prototype.render){for(a.state=a.__s,a.__d=!1,P&&P(u),s=a.render(a.props,a.state,a.context),$=0;$<a._sb.length;$++)a.__h.push(a._sb[$]);a._sb=[]}else do{a.__d=!1,P&&P(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++C<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),H=null!=s&&s.type===_&&null==s.key?s.props.children:s,x(n,Array.isArray(H)?H:[H],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),b&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=N(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function M(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function N(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if("svg"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&"setAttribute"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||""))}if(H(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,x(l,Array.isArray(_)?_:[_],u,i,t,r&&"foreignObject"!==d,o,f,o?o[0]:i.__k&&b(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v(o[_]);e||("value"in p&&void 0!==(_=p.value)&&(_!==l.value||"progress"===d&&!_||"option"===d&&_!==y.value)&&T(l,"value",_,y.value,!1),"checked"in p&&void 0!==(_=p.checked)&&_!==l.checked&&T(l,"checked",_,y.checked,!1))}return l}function O(n,u,i){try{"function"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function S(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||O(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&S(t[r],u,i||"function"!=typeof n.type);i||null==n.__e||v(n.__e),n.__=n.__e=n.__d=void 0}function q(n,l,u){return this.constructor(n,u)}function B(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r="function"==typeof t)?null:t&&t.__k||i.__k,f=[],L(i,u=(!r&&t||i).__k=y(_,null,[u]),o||c,c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),M(f,u)}function D(n,l){B(n,l,D)}function E(l,u,i){var t,r,o,f=h({},l.props);for(o in u)"key"==o?t=u[o]:"ref"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),p(l.type,f,t||l.key,r||l.ref,null)}function F(n,l){var u={__c:l="__cC"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,m(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},k.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),m(this))},k.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},k.prototype.render=_,t=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},w.__r=0,e=0;
//# sourceMappingURL=preact.module.js.map


/***/ }),

/***/ "./node_modules/preact/hooks/dist/hooks.module.js":
/*!********************************************************!*\
  !*** ./node_modules/preact/hooks/dist/hooks.module.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useCallback": () => (/* binding */ T),
/* harmony export */   "useContext": () => (/* binding */ q),
/* harmony export */   "useDebugValue": () => (/* binding */ x),
/* harmony export */   "useEffect": () => (/* binding */ p),
/* harmony export */   "useErrorBoundary": () => (/* binding */ P),
/* harmony export */   "useId": () => (/* binding */ V),
/* harmony export */   "useImperativeHandle": () => (/* binding */ A),
/* harmony export */   "useLayoutEffect": () => (/* binding */ y),
/* harmony export */   "useMemo": () => (/* binding */ F),
/* harmony export */   "useReducer": () => (/* binding */ s),
/* harmony export */   "useRef": () => (/* binding */ _),
/* harmony export */   "useState": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
var t,r,u,i,o=0,f=[],c=[],e=preact__WEBPACK_IMPORTED_MODULE_0__.options.__b,a=preact__WEBPACK_IMPORTED_MODULE_0__.options.__r,v=preact__WEBPACK_IMPORTED_MODULE_0__.options.diffed,l=preact__WEBPACK_IMPORTED_MODULE_0__.options.__c,m=preact__WEBPACK_IMPORTED_MODULE_0__.options.unmount;function d(t,u){preact__WEBPACK_IMPORTED_MODULE_0__.options.__h&&preact__WEBPACK_IMPORTED_MODULE_0__.options.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function h(n){return o=1,s(B,n)}function s(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function p(u,i){var o=d(t++,3);!preact__WEBPACK_IMPORTED_MODULE_0__.options.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function y(u,i){var o=d(t++,4);!preact__WEBPACK_IMPORTED_MODULE_0__.options.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,y(function(){return"function"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){preact__WEBPACK_IMPORTED_MODULE_0__.options.useDebugValue&&preact__WEBPACK_IMPORTED_MODULE_0__.options.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=h();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__="P"+i[0]+"-"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],preact__WEBPACK_IMPORTED_MODULE_0__.options.__e(r,t.__v)}}preact__WEBPACK_IMPORTED_MODULE_0__.options.__b=function(n){r=null,e&&e(n)},preact__WEBPACK_IMPORTED_MODULE_0__.options.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},preact__WEBPACK_IMPORTED_MODULE_0__.options.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===preact__WEBPACK_IMPORTED_MODULE_0__.options.requestAnimationFrame||((i=preact__WEBPACK_IMPORTED_MODULE_0__.options.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},preact__WEBPACK_IMPORTED_MODULE_0__.options.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],preact__WEBPACK_IMPORTED_MODULE_0__.options.__e(u,t.__v)}}),l&&l(t,r)},preact__WEBPACK_IMPORTED_MODULE_0__.options.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&preact__WEBPACK_IMPORTED_MODULE_0__.options.__e(r,u.__v))};var g="function"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;"function"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return"function"==typeof t?t(n):t}
//# sourceMappingURL=hooks.module.js.map


/***/ }),

/***/ "./node_modules/querystringify/index.js":
/*!**********************************************!*\
  !*** ./node_modules/querystringify/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


var has = Object.prototype.hasOwnProperty
  , undef;

/**
 * Decode a URI encoded string.
 *
 * @param {String} input The URI encoded string.
 * @returns {String|Null} The decoded string.
 * @api private
 */
function decode(input) {
  try {
    return decodeURIComponent(input.replace(/\+/g, ' '));
  } catch (e) {
    return null;
  }
}

/**
 * Attempts to encode a given input.
 *
 * @param {String} input The string that needs to be encoded.
 * @returns {String|Null} The encoded string.
 * @api private
 */
function encode(input) {
  try {
    return encodeURIComponent(input);
  } catch (e) {
    return null;
  }
}

/**
 * Simple query string parser.
 *
 * @param {String} query The query string that needs to be parsed.
 * @returns {Object}
 * @api public
 */
function querystring(query) {
  var parser = /([^=?#&]+)=?([^&]*)/g
    , result = {}
    , part;

  while (part = parser.exec(query)) {
    var key = decode(part[1])
      , value = decode(part[2]);

    //
    // Prevent overriding of existing properties. This ensures that build-in
    // methods like `toString` or __proto__ are not overriden by malicious
    // querystrings.
    //
    // In the case if failed decoding, we want to omit the key/value pairs
    // from the result.
    //
    if (key === null || value === null || key in result) continue;
    result[key] = value;
  }

  return result;
}

/**
 * Transform a query string to an object.
 *
 * @param {Object} obj Object that should be transformed.
 * @param {String} prefix Optional prefix.
 * @returns {String}
 * @api public
 */
function querystringify(obj, prefix) {
  prefix = prefix || '';

  var pairs = []
    , value
    , key;

  //
  // Optionally prefix with a '?' if needed
  //
  if ('string' !== typeof prefix) prefix = '?';

  for (key in obj) {
    if (has.call(obj, key)) {
      value = obj[key];

      //
      // Edge cases where we actually want to encode the value to an empty
      // string instead of the stringified value.
      //
      if (!value && (value === null || value === undef || isNaN(value))) {
        value = '';
      }

      key = encode(key);
      value = encode(value);

      //
      // If we failed to encode the strings, we should bail out as we don't
      // want to add invalid strings to the query.
      //
      if (key === null || value === null) continue;
      pairs.push(key +'='+ value);
    }
  }

  return pairs.length ? prefix + pairs.join('&') : '';
}

//
// Expose the module.
//
exports.stringify = querystringify;
exports.parse = querystring;


/***/ }),

/***/ "./node_modules/requires-port/index.js":
/*!*********************************************!*\
  !*** ./node_modules/requires-port/index.js ***!
  \*********************************************/
/***/ ((module) => {

"use strict";


/**
 * Check if we're required to add a port number.
 *
 * @see https://url.spec.whatwg.org/#default-port
 * @param {Number|String} port Port number we need to check
 * @param {String} protocol Protocol we need to check against.
 * @returns {Boolean} Is it a default port for the given protocol
 * @api private
 */
module.exports = function required(port, protocol) {
  protocol = protocol.split(':')[0];
  port = +port;

  if (!port) return false;

  switch (protocol) {
    case 'http':
    case 'ws':
    return port !== 80;

    case 'https':
    case 'wss':
    return port !== 443;

    case 'ftp':
    return port !== 21;

    case 'gopher':
    return port !== 70;

    case 'file':
    return false;
  }

  return port !== 0;
};


/***/ }),

/***/ "./node_modules/@uppy/core/dist/style.css":
/*!************************************************!*\
  !*** ./node_modules/@uppy/core/dist/style.css ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/core/dist/style.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/@uppy/dashboard/dist/style.css":
/*!*****************************************************!*\
  !*** ./node_modules/@uppy/dashboard/dist/style.css ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/dashboard/dist/style.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/@uppy/image-editor/dist/style.css":
/*!********************************************************!*\
  !*** ./node_modules/@uppy/image-editor/dist/style.css ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/image-editor/dist/style.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/@uppy/screen-capture/dist/style.css":
/*!**********************************************************!*\
  !*** ./node_modules/@uppy/screen-capture/dist/style.css ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/screen-capture/dist/style.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/@uppy/url/dist/style.css":
/*!***********************************************!*\
  !*** ./node_modules/@uppy/url/dist/style.css ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/url/dist/style.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/@uppy/webcam/dist/style.css":
/*!**************************************************!*\
  !*** ./node_modules/@uppy/webcam/dist/style.css ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/@uppy/webcam/dist/style.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";


var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";


var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/browser/fileReader.js":
/*!******************************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/browser/fileReader.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FileReader)
/* harmony export */ });
/* harmony import */ var _isReactNative_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isReactNative.js */ "./node_modules/tus-js-client/lib.esm/browser/isReactNative.js");
/* harmony import */ var _uriToBlob_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uriToBlob.js */ "./node_modules/tus-js-client/lib.esm/browser/uriToBlob.js");
/* harmony import */ var _sources_FileSource_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sources/FileSource.js */ "./node_modules/tus-js-client/lib.esm/browser/sources/FileSource.js");
/* harmony import */ var _sources_StreamSource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sources/StreamSource.js */ "./node_modules/tus-js-client/lib.esm/browser/sources/StreamSource.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }






var FileReader = /*#__PURE__*/function () {
  function FileReader() {
    _classCallCheck(this, FileReader);
  }

  _createClass(FileReader, [{
    key: "openFile",
    value: function openFile(input, chunkSize) {
      // In React Native, when user selects a file, instead of a File or Blob,
      // you usually get a file object {} with a uri property that contains
      // a local path to the file. We use XMLHttpRequest to fetch
      // the file blob, before uploading with tus.
      if ((0,_isReactNative_js__WEBPACK_IMPORTED_MODULE_0__["default"])() && input && typeof input.uri !== 'undefined') {
        return (0,_uriToBlob_js__WEBPACK_IMPORTED_MODULE_1__["default"])(input.uri).then(function (blob) {
          return new _sources_FileSource_js__WEBPACK_IMPORTED_MODULE_2__["default"](blob);
        })["catch"](function (err) {
          throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(err));
        });
      } // Since we emulate the Blob type in our tests (not all target browsers
      // support it), we cannot use `instanceof` for testing whether the input value
      // can be handled. Instead, we simply check is the slice() function and the
      // size property are available.


      if (typeof input.slice === 'function' && typeof input.size !== 'undefined') {
        return Promise.resolve(new _sources_FileSource_js__WEBPACK_IMPORTED_MODULE_2__["default"](input));
      }

      if (typeof input.read === 'function') {
        chunkSize = Number(chunkSize);

        if (!Number.isFinite(chunkSize)) {
          return Promise.reject(new Error('cannot create source for stream without a finite value for the `chunkSize` option'));
        }

        return Promise.resolve(new _sources_StreamSource_js__WEBPACK_IMPORTED_MODULE_3__["default"](input, chunkSize));
      }

      return Promise.reject(new Error('source object may only be an instance of File, Blob, or Reader in this environment'));
    }
  }]);

  return FileReader;
}();



/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/browser/fileSignature.js":
/*!*********************************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/browser/fileSignature.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fingerprint)
/* harmony export */ });
/* harmony import */ var _isReactNative_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isReactNative.js */ "./node_modules/tus-js-client/lib.esm/browser/isReactNative.js");
 // TODO: Differenciate between input types

/**
 * Generate a fingerprint for a file which will be used the store the endpoint
 *
 * @param {File} file
 * @param {Object} options
 * @param {Function} callback
 */

function fingerprint(file, options) {
  if ((0,_isReactNative_js__WEBPACK_IMPORTED_MODULE_0__["default"])()) {
    return Promise.resolve(reactNativeFingerprint(file, options));
  }

  return Promise.resolve(['tus-br', file.name, file.type, file.size, file.lastModified, options.endpoint].join('-'));
}

function reactNativeFingerprint(file, options) {
  var exifHash = file.exif ? hashCode(JSON.stringify(file.exif)) : 'noexif';
  return ['tus-rn', file.name || 'noname', file.size || 'nosize', exifHash, options.endpoint].join('/');
}

function hashCode(str) {
  /* eslint-disable no-bitwise */
  // from https://stackoverflow.com/a/8831937/151666
  var hash = 0;

  if (str.length === 0) {
    return hash;
  }

  for (var i = 0; i < str.length; i++) {
    var _char = str.charCodeAt(i);

    hash = (hash << 5) - hash + _char;
    hash &= hash; // Convert to 32bit integer
  }

  return hash;
}

/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/browser/httpStack.js":
/*!*****************************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/browser/httpStack.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ XHRHttpStack)
/* harmony export */ });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

/* eslint-disable max-classes-per-file */
var XHRHttpStack = /*#__PURE__*/function () {
  function XHRHttpStack() {
    _classCallCheck(this, XHRHttpStack);
  }

  _createClass(XHRHttpStack, [{
    key: "createRequest",
    value: function createRequest(method, url) {
      return new Request(method, url);
    }
  }, {
    key: "getName",
    value: function getName() {
      return 'XHRHttpStack';
    }
  }]);

  return XHRHttpStack;
}();



var Request = /*#__PURE__*/function () {
  function Request(method, url) {
    _classCallCheck(this, Request);

    this._xhr = new XMLHttpRequest();

    this._xhr.open(method, url, true);

    this._method = method;
    this._url = url;
    this._headers = {};
  }

  _createClass(Request, [{
    key: "getMethod",
    value: function getMethod() {
      return this._method;
    }
  }, {
    key: "getURL",
    value: function getURL() {
      return this._url;
    }
  }, {
    key: "setHeader",
    value: function setHeader(header, value) {
      this._xhr.setRequestHeader(header, value);

      this._headers[header] = value;
    }
  }, {
    key: "getHeader",
    value: function getHeader(header) {
      return this._headers[header];
    }
  }, {
    key: "setProgressHandler",
    value: function setProgressHandler(progressHandler) {
      // Test support for progress events before attaching an event listener
      if (!('upload' in this._xhr)) {
        return;
      }

      this._xhr.upload.onprogress = function (e) {
        if (!e.lengthComputable) {
          return;
        }

        progressHandler(e.loaded);
      };
    }
  }, {
    key: "send",
    value: function send() {
      var _this = this;

      var body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      return new Promise(function (resolve, reject) {
        _this._xhr.onload = function () {
          resolve(new Response(_this._xhr));
        };

        _this._xhr.onerror = function (err) {
          reject(err);
        };

        _this._xhr.send(body);
      });
    }
  }, {
    key: "abort",
    value: function abort() {
      this._xhr.abort();

      return Promise.resolve();
    }
  }, {
    key: "getUnderlyingObject",
    value: function getUnderlyingObject() {
      return this._xhr;
    }
  }]);

  return Request;
}();

var Response = /*#__PURE__*/function () {
  function Response(xhr) {
    _classCallCheck(this, Response);

    this._xhr = xhr;
  }

  _createClass(Response, [{
    key: "getStatus",
    value: function getStatus() {
      return this._xhr.status;
    }
  }, {
    key: "getHeader",
    value: function getHeader(header) {
      return this._xhr.getResponseHeader(header);
    }
  }, {
    key: "getBody",
    value: function getBody() {
      return this._xhr.responseText;
    }
  }, {
    key: "getUnderlyingObject",
    value: function getUnderlyingObject() {
      return this._xhr;
    }
  }]);

  return Response;
}();

/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/browser/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/browser/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DefaultHttpStack": () => (/* reexport safe */ _httpStack_js__WEBPACK_IMPORTED_MODULE_5__["default"]),
/* harmony export */   "DetailedError": () => (/* reexport safe */ _error_js__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   "Upload": () => (/* binding */ Upload),
/* harmony export */   "canStoreURLs": () => (/* reexport safe */ _urlStorage_js__WEBPACK_IMPORTED_MODULE_4__.canStoreURLs),
/* harmony export */   "defaultOptions": () => (/* binding */ defaultOptions),
/* harmony export */   "enableDebugLog": () => (/* reexport safe */ _logger_js__WEBPACK_IMPORTED_MODULE_2__.enableDebugLog),
/* harmony export */   "isSupported": () => (/* binding */ isSupported)
/* harmony export */ });
/* harmony import */ var _upload_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../upload.js */ "./node_modules/tus-js-client/lib.esm/upload.js");
/* harmony import */ var _noopUrlStorage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../noopUrlStorage.js */ "./node_modules/tus-js-client/lib.esm/noopUrlStorage.js");
/* harmony import */ var _logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logger.js */ "./node_modules/tus-js-client/lib.esm/logger.js");
/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../error.js */ "./node_modules/tus-js-client/lib.esm/error.js");
/* harmony import */ var _urlStorage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./urlStorage.js */ "./node_modules/tus-js-client/lib.esm/browser/urlStorage.js");
/* harmony import */ var _httpStack_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./httpStack.js */ "./node_modules/tus-js-client/lib.esm/browser/httpStack.js");
/* harmony import */ var _fileReader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./fileReader.js */ "./node_modules/tus-js-client/lib.esm/browser/fileReader.js");
/* harmony import */ var _fileSignature_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./fileSignature.js */ "./node_modules/tus-js-client/lib.esm/browser/fileSignature.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }










var defaultOptions = _objectSpread(_objectSpread({}, _upload_js__WEBPACK_IMPORTED_MODULE_0__["default"].defaultOptions), {}, {
  httpStack: new _httpStack_js__WEBPACK_IMPORTED_MODULE_5__["default"](),
  fileReader: new _fileReader_js__WEBPACK_IMPORTED_MODULE_6__["default"](),
  urlStorage: _urlStorage_js__WEBPACK_IMPORTED_MODULE_4__.canStoreURLs ? new _urlStorage_js__WEBPACK_IMPORTED_MODULE_4__.WebStorageUrlStorage() : new _noopUrlStorage_js__WEBPACK_IMPORTED_MODULE_1__["default"](),
  fingerprint: _fileSignature_js__WEBPACK_IMPORTED_MODULE_7__["default"]
});

var Upload = /*#__PURE__*/function (_BaseUpload) {
  _inherits(Upload, _BaseUpload);

  var _super = _createSuper(Upload);

  function Upload() {
    var file = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    _classCallCheck(this, Upload);

    options = _objectSpread(_objectSpread({}, defaultOptions), options);
    return _super.call(this, file, options);
  }

  _createClass(Upload, null, [{
    key: "terminate",
    value: function terminate(url) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      options = _objectSpread(_objectSpread({}, defaultOptions), options);
      return _upload_js__WEBPACK_IMPORTED_MODULE_0__["default"].terminate(url, options);
    }
  }]);

  return Upload;
}(_upload_js__WEBPACK_IMPORTED_MODULE_0__["default"]);

var _window = window,
    XMLHttpRequest = _window.XMLHttpRequest,
    Blob = _window.Blob;
var isSupported = XMLHttpRequest && Blob && typeof Blob.prototype.slice === 'function';


/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/browser/isReactNative.js":
/*!*********************************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/browser/isReactNative.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var isReactNative = function isReactNative() {
  return typeof navigator !== 'undefined' && typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative';
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isReactNative);

/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/browser/sources/FileSource.js":
/*!**************************************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/browser/sources/FileSource.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FileSource)
/* harmony export */ });
/* harmony import */ var _isCordova_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isCordova.js */ "./node_modules/tus-js-client/lib.esm/browser/sources/isCordova.js");
/* harmony import */ var _readAsByteArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./readAsByteArray.js */ "./node_modules/tus-js-client/lib.esm/browser/sources/readAsByteArray.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }




var FileSource = /*#__PURE__*/function () {
  // Make this.size a method
  function FileSource(file) {
    _classCallCheck(this, FileSource);

    this._file = file;
    this.size = file.size;
  }

  _createClass(FileSource, [{
    key: "slice",
    value: function slice(start, end) {
      // In Apache Cordova applications, a File must be resolved using
      // FileReader instances, see
      // https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-file/index.html#read-a-file
      if ((0,_isCordova_js__WEBPACK_IMPORTED_MODULE_0__["default"])()) {
        return (0,_readAsByteArray_js__WEBPACK_IMPORTED_MODULE_1__["default"])(this._file.slice(start, end));
      }

      var value = this._file.slice(start, end);

      return Promise.resolve({
        value: value
      });
    }
  }, {
    key: "close",
    value: function close() {// Nothing to do here since we don't need to release any resources.
    }
  }]);

  return FileSource;
}();



/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/browser/sources/StreamSource.js":
/*!****************************************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/browser/sources/StreamSource.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ StreamSource)
/* harmony export */ });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function len(blobOrArray) {
  if (blobOrArray === undefined) return 0;
  if (blobOrArray.size !== undefined) return blobOrArray.size;
  return blobOrArray.length;
}
/*
  Typed arrays and blobs don't have a concat method.
  This function helps StreamSource accumulate data to reach chunkSize.
*/


function concat(a, b) {
  if (a.concat) {
    // Is `a` an Array?
    return a.concat(b);
  }

  if (a instanceof Blob) {
    return new Blob([a, b], {
      type: a.type
    });
  }

  if (a.set) {
    // Is `a` a typed array?
    var c = new a.constructor(a.length + b.length);
    c.set(a);
    c.set(b, a.length);
    return c;
  }

  throw new Error('Unknown data type');
}

var StreamSource = /*#__PURE__*/function () {
  function StreamSource(reader) {
    _classCallCheck(this, StreamSource);

    this._buffer = undefined;
    this._bufferOffset = 0;
    this._reader = reader;
    this._done = false;
  }

  _createClass(StreamSource, [{
    key: "slice",
    value: function slice(start, end) {
      if (start < this._bufferOffset) {
        return Promise.reject(new Error("Requested data is before the reader's current offset"));
      }

      return this._readUntilEnoughDataOrDone(start, end);
    }
  }, {
    key: "_readUntilEnoughDataOrDone",
    value: function _readUntilEnoughDataOrDone(start, end) {
      var _this = this;

      var hasEnoughData = end <= this._bufferOffset + len(this._buffer);

      if (this._done || hasEnoughData) {
        var value = this._getDataFromBuffer(start, end);

        var done = value == null ? this._done : false;
        return Promise.resolve({
          value: value,
          done: done
        });
      }

      return this._reader.read().then(function (_ref) {
        var value = _ref.value,
            done = _ref.done;

        if (done) {
          _this._done = true;
        } else if (_this._buffer === undefined) {
          _this._buffer = value;
        } else {
          _this._buffer = concat(_this._buffer, value);
        }

        return _this._readUntilEnoughDataOrDone(start, end);
      });
    }
  }, {
    key: "_getDataFromBuffer",
    value: function _getDataFromBuffer(start, end) {
      // Remove data from buffer before `start`.
      // Data might be reread from the buffer if an upload fails, so we can only
      // safely delete data when it comes *before* what is currently being read.
      if (start > this._bufferOffset) {
        this._buffer = this._buffer.slice(start - this._bufferOffset);
        this._bufferOffset = start;
      } // If the buffer is empty after removing old data, all data has been read.


      var hasAllDataBeenRead = len(this._buffer) === 0;

      if (this._done && hasAllDataBeenRead) {
        return null;
      } // We already removed data before `start`, so we just return the first
      // chunk from the buffer.


      return this._buffer.slice(0, end - start);
    }
  }, {
    key: "close",
    value: function close() {
      if (this._reader.cancel) {
        this._reader.cancel();
      }
    }
  }]);

  return StreamSource;
}();



/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/browser/sources/isCordova.js":
/*!*************************************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/browser/sources/isCordova.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var isCordova = function isCordova() {
  return typeof window !== 'undefined' && (typeof window.PhoneGap !== 'undefined' || typeof window.Cordova !== 'undefined' || typeof window.cordova !== 'undefined');
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isCordova);

/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/browser/sources/readAsByteArray.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/browser/sources/readAsByteArray.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ readAsByteArray)
/* harmony export */ });
/**
 * readAsByteArray converts a File object to a Uint8Array.
 * This function is only used on the Apache Cordova platform.
 * See https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-file/index.html#read-a-file
 */
function readAsByteArray(chunk) {
  return new Promise(function (resolve, reject) {
    var reader = new FileReader();

    reader.onload = function () {
      var value = new Uint8Array(reader.result);
      resolve({
        value: value
      });
    };

    reader.onerror = function (err) {
      reject(err);
    };

    reader.readAsArrayBuffer(chunk);
  });
}

/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/browser/uriToBlob.js":
/*!*****************************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/browser/uriToBlob.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ uriToBlob)
/* harmony export */ });
/**
 * uriToBlob resolves a URI to a Blob object. This is used for
 * React Native to retrieve a file (identified by a file://
 * URI) as a blob.
 */
function uriToBlob(uri) {
  return new Promise(function (resolve, reject) {
    var xhr = new XMLHttpRequest();
    xhr.responseType = 'blob';

    xhr.onload = function () {
      var blob = xhr.response;
      resolve(blob);
    };

    xhr.onerror = function (err) {
      reject(err);
    };

    xhr.open('GET', uri);
    xhr.send();
  });
}

/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/browser/urlStorage.js":
/*!******************************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/browser/urlStorage.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WebStorageUrlStorage": () => (/* binding */ WebStorageUrlStorage),
/* harmony export */   "canStoreURLs": () => (/* binding */ canStoreURLs)
/* harmony export */ });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

var hasStorage = false;

try {
  hasStorage = 'localStorage' in window; // Attempt to store and read entries from the local storage to detect Private
  // Mode on Safari on iOS (see #49)
  // If the key was not used before, we remove it from local storage again to
  // not cause confusion where the entry came from.

  var key = 'tusSupport';
  var originalValue = localStorage.getItem(key);
  localStorage.setItem(key, originalValue);
  if (originalValue === null) localStorage.removeItem(key);
} catch (e) {
  // If we try to access localStorage inside a sandboxed iframe, a SecurityError
  // is thrown. When in private mode on iOS Safari, a QuotaExceededError is
  // thrown (see #49)
  if (e.code === e.SECURITY_ERR || e.code === e.QUOTA_EXCEEDED_ERR) {
    hasStorage = false;
  } else {
    throw e;
  }
}

var canStoreURLs = hasStorage;
var WebStorageUrlStorage = /*#__PURE__*/function () {
  function WebStorageUrlStorage() {
    _classCallCheck(this, WebStorageUrlStorage);
  }

  _createClass(WebStorageUrlStorage, [{
    key: "findAllUploads",
    value: function findAllUploads() {
      var results = this._findEntries('tus::');

      return Promise.resolve(results);
    }
  }, {
    key: "findUploadsByFingerprint",
    value: function findUploadsByFingerprint(fingerprint) {
      var results = this._findEntries("tus::".concat(fingerprint, "::"));

      return Promise.resolve(results);
    }
  }, {
    key: "removeUpload",
    value: function removeUpload(urlStorageKey) {
      localStorage.removeItem(urlStorageKey);
      return Promise.resolve();
    }
  }, {
    key: "addUpload",
    value: function addUpload(fingerprint, upload) {
      var id = Math.round(Math.random() * 1e12);
      var key = "tus::".concat(fingerprint, "::").concat(id);
      localStorage.setItem(key, JSON.stringify(upload));
      return Promise.resolve(key);
    }
  }, {
    key: "_findEntries",
    value: function _findEntries(prefix) {
      var results = [];

      for (var i = 0; i < localStorage.length; i++) {
        var _key = localStorage.key(i);

        if (_key.indexOf(prefix) !== 0) continue;

        try {
          var upload = JSON.parse(localStorage.getItem(_key));
          upload.urlStorageKey = _key;
          results.push(upload);
        } catch (e) {// The JSON parse error is intentionally ignored here, so a malformed
          // entry in the storage cannot prevent an upload.
        }
      }

      return results;
    }
  }]);

  return WebStorageUrlStorage;
}();

/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/error.js":
/*!*****************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/error.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var DetailedError = /*#__PURE__*/function (_Error) {
  _inherits(DetailedError, _Error);

  var _super = _createSuper(DetailedError);

  function DetailedError(message) {
    var _this;

    var causingErr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
    var req = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
    var res = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;

    _classCallCheck(this, DetailedError);

    _this = _super.call(this, message);
    _this.originalRequest = req;
    _this.originalResponse = res;
    _this.causingError = causingErr;

    if (causingErr != null) {
      message += ", caused by ".concat(causingErr.toString());
    }

    if (req != null) {
      var requestId = req.getHeader('X-Request-ID') || 'n/a';
      var method = req.getMethod();
      var url = req.getURL();
      var status = res ? res.getStatus() : 'n/a';
      var body = res ? res.getBody() || '' : 'n/a';
      message += ", originated from request (method: ".concat(method, ", url: ").concat(url, ", response code: ").concat(status, ", response text: ").concat(body, ", request id: ").concat(requestId, ")");
    }

    _this.message = message;
    return _this;
  }

  return _createClass(DetailedError);
}( /*#__PURE__*/_wrapNativeSuper(Error));

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DetailedError);

/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/logger.js":
/*!******************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/logger.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "enableDebugLog": () => (/* binding */ enableDebugLog),
/* harmony export */   "log": () => (/* binding */ log)
/* harmony export */ });
/* eslint no-console: "off" */
var isEnabled = false;
function enableDebugLog() {
  isEnabled = true;
}
function log(msg) {
  if (!isEnabled) return;
  console.log(msg);
}

/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/noopUrlStorage.js":
/*!**************************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/noopUrlStorage.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NoopUrlStorage)
/* harmony export */ });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

/* eslint no-unused-vars: "off" */
var NoopUrlStorage = /*#__PURE__*/function () {
  function NoopUrlStorage() {
    _classCallCheck(this, NoopUrlStorage);
  }

  _createClass(NoopUrlStorage, [{
    key: "listAllUploads",
    value: function listAllUploads() {
      return Promise.resolve([]);
    }
  }, {
    key: "findUploadsByFingerprint",
    value: function findUploadsByFingerprint(fingerprint) {
      return Promise.resolve([]);
    }
  }, {
    key: "removeUpload",
    value: function removeUpload(urlStorageKey) {
      return Promise.resolve();
    }
  }, {
    key: "addUpload",
    value: function addUpload(fingerprint, upload) {
      return Promise.resolve(null);
    }
  }]);

  return NoopUrlStorage;
}();



/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/upload.js":
/*!******************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/upload.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var js_base64__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! js-base64 */ "./node_modules/js-base64/base64.mjs");
/* harmony import */ var url_parse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! url-parse */ "./node_modules/url-parse/index.js");
/* harmony import */ var url_parse__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(url_parse__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error.js */ "./node_modules/tus-js-client/lib.esm/error.js");
/* harmony import */ var _logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger.js */ "./node_modules/tus-js-client/lib.esm/logger.js");
/* harmony import */ var _uuid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./uuid.js */ "./node_modules/tus-js-client/lib.esm/uuid.js");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }






var defaultOptions = {
  endpoint: null,
  uploadUrl: null,
  metadata: {},
  fingerprint: null,
  uploadSize: null,
  onProgress: null,
  onChunkComplete: null,
  onSuccess: null,
  onError: null,
  onUploadUrlAvailable: null,
  overridePatchMethod: false,
  headers: {},
  addRequestId: false,
  onBeforeRequest: null,
  onAfterResponse: null,
  onShouldRetry: null,
  chunkSize: Infinity,
  retryDelays: [0, 1000, 3000, 5000],
  parallelUploads: 1,
  parallelUploadBoundaries: null,
  storeFingerprintForResuming: true,
  removeFingerprintOnSuccess: false,
  uploadLengthDeferred: false,
  uploadDataDuringCreation: false,
  urlStorage: null,
  fileReader: null,
  httpStack: null
};

var BaseUpload = /*#__PURE__*/function () {
  function BaseUpload(file, options) {
    _classCallCheck(this, BaseUpload);

    // Warn about removed options from previous versions
    if ('resume' in options) {
      console.log('tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead.'); // eslint-disable-line no-console
    } // The default options will already be added from the wrapper classes.


    this.options = options; // Cast chunkSize to integer

    this.options.chunkSize = Number(this.options.chunkSize); // The storage module used to store URLs

    this._urlStorage = this.options.urlStorage; // The underlying File/Blob object

    this.file = file; // The URL against which the file will be uploaded

    this.url = null; // The underlying request object for the current PATCH request

    this._req = null; // The fingerpinrt for the current file (set after start())

    this._fingerprint = null; // The key that the URL storage returned when saving an URL with a fingerprint,

    this._urlStorageKey = null; // The offset used in the current PATCH request

    this._offset = null; // True if the current PATCH request has been aborted

    this._aborted = false; // The file's size in bytes

    this._size = null; // The Source object which will wrap around the given file and provides us
    // with a unified interface for getting its size and slice chunks from its
    // content allowing us to easily handle Files, Blobs, Buffers and Streams.

    this._source = null; // The current count of attempts which have been made. Zero indicates none.

    this._retryAttempt = 0; // The timeout's ID which is used to delay the next retry

    this._retryTimeout = null; // The offset of the remote upload before the latest attempt was started.

    this._offsetBeforeRetry = 0; // An array of BaseUpload instances which are used for uploading the different
    // parts, if the parallelUploads option is used.

    this._parallelUploads = null; // An array of upload URLs which are used for uploading the different
    // parts, if the parallelUploads option is used.

    this._parallelUploadUrls = null;
  }
  /**
   * Use the Termination extension to delete an upload from the server by sending a DELETE
   * request to the specified upload URL. This is only possible if the server supports the
   * Termination extension. If the `options.retryDelays` property is set, the method will
   * also retry if an error ocurrs.
   *
   * @param {String} url The upload's URL which will be terminated.
   * @param {object} options Optional options for influencing HTTP requests.
   * @return {Promise} The Promise will be resolved/rejected when the requests finish.
   */


  _createClass(BaseUpload, [{
    key: "findPreviousUploads",
    value: function findPreviousUploads() {
      var _this = this;

      return this.options.fingerprint(this.file, this.options).then(function (fingerprint) {
        return _this._urlStorage.findUploadsByFingerprint(fingerprint);
      });
    }
  }, {
    key: "resumeFromPreviousUpload",
    value: function resumeFromPreviousUpload(previousUpload) {
      this.url = previousUpload.uploadUrl || null;
      this._parallelUploadUrls = previousUpload.parallelUploadUrls || null;
      this._urlStorageKey = previousUpload.urlStorageKey;
    }
  }, {
    key: "start",
    value: function start() {
      var _this2 = this;

      var file = this.file;

      if (!file) {
        this._emitError(new Error('tus: no file or stream to upload provided'));

        return;
      }

      if (!this.options.endpoint && !this.options.uploadUrl && !this.url) {
        this._emitError(new Error('tus: neither an endpoint or an upload URL is provided'));

        return;
      }

      var retryDelays = this.options.retryDelays;

      if (retryDelays != null && Object.prototype.toString.call(retryDelays) !== '[object Array]') {
        this._emitError(new Error('tus: the `retryDelays` option must either be an array or null'));

        return;
      }

      if (this.options.parallelUploads > 1) {
        // Test which options are incompatible with parallel uploads.
        for (var _i = 0, _arr = ['uploadUrl', 'uploadSize', 'uploadLengthDeferred']; _i < _arr.length; _i++) {
          var optionName = _arr[_i];

          if (this.options[optionName]) {
            this._emitError(new Error("tus: cannot use the ".concat(optionName, " option when parallelUploads is enabled")));

            return;
          }
        }
      }

      if (this.options.parallelUploadBoundaries) {
        if (this.options.parallelUploads <= 1) {
          this._emitError(new Error('tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled'));

          return;
        }

        if (this.options.parallelUploads !== this.options.parallelUploadBoundaries.length) {
          this._emitError(new Error('tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`'));

          return;
        }
      }

      this.options.fingerprint(file, this.options).then(function (fingerprint) {
        if (fingerprint == null) {
          (0,_logger_js__WEBPACK_IMPORTED_MODULE_2__.log)('No fingerprint was calculated meaning that the upload cannot be stored in the URL storage.');
        } else {
          (0,_logger_js__WEBPACK_IMPORTED_MODULE_2__.log)("Calculated fingerprint: ".concat(fingerprint));
        }

        _this2._fingerprint = fingerprint;

        if (_this2._source) {
          return _this2._source;
        }

        return _this2.options.fileReader.openFile(file, _this2.options.chunkSize);
      }).then(function (source) {
        _this2._source = source; // First, we look at the uploadLengthDeferred option.
        // Next, we check if the caller has supplied a manual upload size.
        // Finally, we try to use the calculated size from the source object.

        if (_this2.options.uploadLengthDeferred) {
          _this2._size = null;
        } else if (_this2.options.uploadSize != null) {
          _this2._size = Number(_this2.options.uploadSize);

          if (Number.isNaN(_this2._size)) {
            _this2._emitError(new Error('tus: cannot convert `uploadSize` option into a number'));

            return;
          }
        } else {
          _this2._size = _this2._source.size;

          if (_this2._size == null) {
            _this2._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));

            return;
          }
        } // If the upload was configured to use multiple requests or if we resume from
        // an upload which used multiple requests, we start a parallel upload.


        if (_this2.options.parallelUploads > 1 || _this2._parallelUploadUrls != null) {
          _this2._startParallelUpload();
        } else {
          _this2._startSingleUpload();
        }
      })["catch"](function (err) {
        _this2._emitError(err);
      });
    }
    /**
     * Initiate the uploading procedure for a parallelized upload, where one file is split into
     * multiple request which are run in parallel.
     *
     * @api private
     */

  }, {
    key: "_startParallelUpload",
    value: function _startParallelUpload() {
      var _this$options$paralle,
          _this3 = this;

      var totalSize = this._size;
      var totalProgress = 0;
      this._parallelUploads = [];
      var partCount = this._parallelUploadUrls != null ? this._parallelUploadUrls.length : this.options.parallelUploads; // The input file will be split into multiple slices which are uploaded in separate
      // requests. Here we get the start and end position for the slices.

      var parts = (_this$options$paralle = this.options.parallelUploadBoundaries) !== null && _this$options$paralle !== void 0 ? _this$options$paralle : splitSizeIntoParts(this._source.size, partCount); // Attach URLs from previous uploads, if available.

      if (this._parallelUploadUrls) {
        parts.forEach(function (part, index) {
          part.uploadUrl = _this3._parallelUploadUrls[index] || null;
        });
      } // Create an empty list for storing the upload URLs


      this._parallelUploadUrls = new Array(parts.length); // Generate a promise for each slice that will be resolve if the respective
      // upload is completed.

      var uploads = parts.map(function (part, index) {
        var lastPartProgress = 0;
        return _this3._source.slice(part.start, part.end).then(function (_ref) {
          var value = _ref.value;
          return new Promise(function (resolve, reject) {
            // Merge with the user supplied options but overwrite some values.
            var options = _objectSpread(_objectSpread({}, _this3.options), {}, {
              // If available, the partial upload should be resumed from a previous URL.
              uploadUrl: part.uploadUrl || null,
              // We take manually care of resuming for partial uploads, so they should
              // not be stored in the URL storage.
              storeFingerprintForResuming: false,
              removeFingerprintOnSuccess: false,
              // Reset the parallelUploads option to not cause recursion.
              parallelUploads: 1,
              // Reset this option as we are not doing a parallel upload.
              parallelUploadBoundaries: null,
              metadata: {},
              // Add the header to indicate the this is a partial upload.
              headers: _objectSpread(_objectSpread({}, _this3.options.headers), {}, {
                'Upload-Concat': 'partial'
              }),
              // Reject or resolve the promise if the upload errors or completes.
              onSuccess: resolve,
              onError: reject,
              // Based in the progress for this partial upload, calculate the progress
              // for the entire final upload.
              onProgress: function onProgress(newPartProgress) {
                totalProgress = totalProgress - lastPartProgress + newPartProgress;
                lastPartProgress = newPartProgress;

                _this3._emitProgress(totalProgress, totalSize);
              },
              // Wait until every partial upload has an upload URL, so we can add
              // them to the URL storage.
              onUploadUrlAvailable: function onUploadUrlAvailable() {
                _this3._parallelUploadUrls[index] = upload.url; // Test if all uploads have received an URL

                if (_this3._parallelUploadUrls.filter(function (u) {
                  return Boolean(u);
                }).length === parts.length) {
                  _this3._saveUploadInUrlStorage();
                }
              }
            });

            var upload = new BaseUpload(value, options);
            upload.start(); // Store the upload in an array, so we can later abort them if necessary.

            _this3._parallelUploads.push(upload);
          });
        });
      });
      var req; // Wait until all partial uploads are finished and we can send the POST request for
      // creating the final upload.

      Promise.all(uploads).then(function () {
        req = _this3._openRequest('POST', _this3.options.endpoint);
        req.setHeader('Upload-Concat', "final;".concat(_this3._parallelUploadUrls.join(' '))); // Add metadata if values have been added

        var metadata = encodeMetadata(_this3.options.metadata);

        if (metadata !== '') {
          req.setHeader('Upload-Metadata', metadata);
        }

        return _this3._sendRequest(req, null);
      }).then(function (res) {
        if (!inStatusCategory(res.getStatus(), 200)) {
          _this3._emitHttpError(req, res, 'tus: unexpected response while creating upload');

          return;
        }

        var location = res.getHeader('Location');

        if (location == null) {
          _this3._emitHttpError(req, res, 'tus: invalid or missing Location header');

          return;
        }

        _this3.url = resolveUrl(_this3.options.endpoint, location);
        (0,_logger_js__WEBPACK_IMPORTED_MODULE_2__.log)("Created upload at ".concat(_this3.url));

        _this3._emitSuccess();
      })["catch"](function (err) {
        _this3._emitError(err);
      });
    }
    /**
     * Initiate the uploading procedure for a non-parallel upload. Here the entire file is
     * uploaded in a sequential matter.
     *
     * @api private
     */

  }, {
    key: "_startSingleUpload",
    value: function _startSingleUpload() {
      // Reset the aborted flag when the upload is started or else the
      // _performUpload will stop before sending a request if the upload has been
      // aborted previously.
      this._aborted = false; // The upload had been started previously and we should reuse this URL.

      if (this.url != null) {
        (0,_logger_js__WEBPACK_IMPORTED_MODULE_2__.log)("Resuming upload from previous URL: ".concat(this.url));

        this._resumeUpload();

        return;
      } // A URL has manually been specified, so we try to resume


      if (this.options.uploadUrl != null) {
        (0,_logger_js__WEBPACK_IMPORTED_MODULE_2__.log)("Resuming upload from provided URL: ".concat(this.options.uploadUrl));
        this.url = this.options.uploadUrl;

        this._resumeUpload();

        return;
      } // An upload has not started for the file yet, so we start a new one


      (0,_logger_js__WEBPACK_IMPORTED_MODULE_2__.log)('Creating a new upload');

      this._createUpload();
    }
    /**
     * Abort any running request and stop the current upload. After abort is called, no event
     * handler will be invoked anymore. You can use the `start` method to resume the upload
     * again.
     * If `shouldTerminate` is true, the `terminate` function will be called to remove the
     * current upload from the server.
     *
     * @param {boolean} shouldTerminate True if the upload should be deleted from the server.
     * @return {Promise} The Promise will be resolved/rejected when the requests finish.
     */

  }, {
    key: "abort",
    value: function abort(shouldTerminate) {
      var _this4 = this;

      // Stop any parallel partial uploads, that have been started in _startParallelUploads.
      if (this._parallelUploads != null) {
        this._parallelUploads.forEach(function (upload) {
          upload.abort(shouldTerminate);
        });
      } // Stop any current running request.


      if (this._req !== null) {
        this._req.abort(); // Note: We do not close the file source here, so the user can resume in the future.

      }

      this._aborted = true; // Stop any timeout used for initiating a retry.

      if (this._retryTimeout != null) {
        clearTimeout(this._retryTimeout);
        this._retryTimeout = null;
      }

      if (!shouldTerminate || this.url == null) {
        return Promise.resolve();
      }

      return BaseUpload.terminate(this.url, this.options) // Remove entry from the URL storage since the upload URL is no longer valid.
      .then(function () {
        return _this4._removeFromUrlStorage();
      });
    }
  }, {
    key: "_emitHttpError",
    value: function _emitHttpError(req, res, message, causingErr) {
      this._emitError(new _error_js__WEBPACK_IMPORTED_MODULE_1__["default"](message, causingErr, req, res));
    }
  }, {
    key: "_emitError",
    value: function _emitError(err) {
      var _this5 = this;

      // Do not emit errors, e.g. from aborted HTTP requests, if the upload has been stopped.
      if (this._aborted) return; // Check if we should retry, when enabled, before sending the error to the user.

      if (this.options.retryDelays != null) {
        // We will reset the attempt counter if
        // - we were already able to connect to the server (offset != null) and
        // - we were able to upload a small chunk of data to the server
        var shouldResetDelays = this._offset != null && this._offset > this._offsetBeforeRetry;

        if (shouldResetDelays) {
          this._retryAttempt = 0;
        }

        if (shouldRetry(err, this._retryAttempt, this.options)) {
          var delay = this.options.retryDelays[this._retryAttempt++];
          this._offsetBeforeRetry = this._offset;
          this._retryTimeout = setTimeout(function () {
            _this5.start();
          }, delay);
          return;
        }
      }

      if (typeof this.options.onError === 'function') {
        this.options.onError(err);
      } else {
        throw err;
      }
    }
    /**
     * Publishes notification if the upload has been successfully completed.
     *
     * @api private
     */

  }, {
    key: "_emitSuccess",
    value: function _emitSuccess() {
      if (this.options.removeFingerprintOnSuccess) {
        // Remove stored fingerprint and corresponding endpoint. This causes
        // new uploads of the same file to be treated as a different file.
        this._removeFromUrlStorage();
      }

      if (typeof this.options.onSuccess === 'function') {
        this.options.onSuccess();
      }
    }
    /**
     * Publishes notification when data has been sent to the server. This
     * data may not have been accepted by the server yet.
     *
     * @param {number} bytesSent  Number of bytes sent to the server.
     * @param {number} bytesTotal Total number of bytes to be sent to the server.
     * @api private
     */

  }, {
    key: "_emitProgress",
    value: function _emitProgress(bytesSent, bytesTotal) {
      if (typeof this.options.onProgress === 'function') {
        this.options.onProgress(bytesSent, bytesTotal);
      }
    }
    /**
     * Publishes notification when a chunk of data has been sent to the server
     * and accepted by the server.
     * @param {number} chunkSize  Size of the chunk that was accepted by the server.
     * @param {number} bytesAccepted Total number of bytes that have been
     *                                accepted by the server.
     * @param {number} bytesTotal Total number of bytes to be sent to the server.
     * @api private
     */

  }, {
    key: "_emitChunkComplete",
    value: function _emitChunkComplete(chunkSize, bytesAccepted, bytesTotal) {
      if (typeof this.options.onChunkComplete === 'function') {
        this.options.onChunkComplete(chunkSize, bytesAccepted, bytesTotal);
      }
    }
    /**
     * Create a new upload using the creation extension by sending a POST
     * request to the endpoint. After successful creation the file will be
     * uploaded
     *
     * @api private
     */

  }, {
    key: "_createUpload",
    value: function _createUpload() {
      var _this6 = this;

      if (!this.options.endpoint) {
        this._emitError(new Error('tus: unable to create upload because no endpoint is provided'));

        return;
      }

      var req = this._openRequest('POST', this.options.endpoint);

      if (this.options.uploadLengthDeferred) {
        req.setHeader('Upload-Defer-Length', 1);
      } else {
        req.setHeader('Upload-Length', this._size);
      } // Add metadata if values have been added


      var metadata = encodeMetadata(this.options.metadata);

      if (metadata !== '') {
        req.setHeader('Upload-Metadata', metadata);
      }

      var promise;

      if (this.options.uploadDataDuringCreation && !this.options.uploadLengthDeferred) {
        this._offset = 0;
        promise = this._addChunkToRequest(req);
      } else {
        promise = this._sendRequest(req, null);
      }

      promise.then(function (res) {
        if (!inStatusCategory(res.getStatus(), 200)) {
          _this6._emitHttpError(req, res, 'tus: unexpected response while creating upload');

          return;
        }

        var location = res.getHeader('Location');

        if (location == null) {
          _this6._emitHttpError(req, res, 'tus: invalid or missing Location header');

          return;
        }

        _this6.url = resolveUrl(_this6.options.endpoint, location);
        (0,_logger_js__WEBPACK_IMPORTED_MODULE_2__.log)("Created upload at ".concat(_this6.url));

        if (typeof _this6.options.onUploadUrlAvailable === 'function') {
          _this6.options.onUploadUrlAvailable();
        }

        if (_this6._size === 0) {
          // Nothing to upload and file was successfully created
          _this6._emitSuccess();

          _this6._source.close();

          return;
        }

        _this6._saveUploadInUrlStorage().then(function () {
          if (_this6.options.uploadDataDuringCreation) {
            _this6._handleUploadResponse(req, res);
          } else {
            _this6._offset = 0;

            _this6._performUpload();
          }
        });
      })["catch"](function (err) {
        _this6._emitHttpError(req, null, 'tus: failed to create upload', err);
      });
    }
    /*
     * Try to resume an existing upload. First a HEAD request will be sent
     * to retrieve the offset. If the request fails a new upload will be
     * created. In the case of a successful response the file will be uploaded.
     *
     * @api private
     */

  }, {
    key: "_resumeUpload",
    value: function _resumeUpload() {
      var _this7 = this;

      var req = this._openRequest('HEAD', this.url);

      var promise = this._sendRequest(req, null);

      promise.then(function (res) {
        var status = res.getStatus();

        if (!inStatusCategory(status, 200)) {
          // If the upload is locked (indicated by the 423 Locked status code), we
          // emit an error instead of directly starting a new upload. This way the
          // retry logic can catch the error and will retry the upload. An upload
          // is usually locked for a short period of time and will be available
          // afterwards.
          if (status === 423) {
            _this7._emitHttpError(req, res, 'tus: upload is currently locked; retry later');

            return;
          }

          if (inStatusCategory(status, 400)) {
            // Remove stored fingerprint and corresponding endpoint,
            // on client errors since the file can not be found
            _this7._removeFromUrlStorage();
          }

          if (!_this7.options.endpoint) {
            // Don't attempt to create a new upload if no endpoint is provided.
            _this7._emitHttpError(req, res, 'tus: unable to resume upload (new upload cannot be created without an endpoint)');

            return;
          } // Try to create a new upload


          _this7.url = null;

          _this7._createUpload();

          return;
        }

        var offset = parseInt(res.getHeader('Upload-Offset'), 10);

        if (Number.isNaN(offset)) {
          _this7._emitHttpError(req, res, 'tus: invalid or missing offset value');

          return;
        }

        var length = parseInt(res.getHeader('Upload-Length'), 10);

        if (Number.isNaN(length) && !_this7.options.uploadLengthDeferred) {
          _this7._emitHttpError(req, res, 'tus: invalid or missing length value');

          return;
        }

        if (typeof _this7.options.onUploadUrlAvailable === 'function') {
          _this7.options.onUploadUrlAvailable();
        }

        _this7._saveUploadInUrlStorage().then(function () {
          // Upload has already been completed and we do not need to send additional
          // data to the server
          if (offset === length) {
            _this7._emitProgress(length, length);

            _this7._emitSuccess();

            return;
          }

          _this7._offset = offset;

          _this7._performUpload();
        });
      })["catch"](function (err) {
        _this7._emitHttpError(req, null, 'tus: failed to resume upload', err);
      });
    }
    /**
     * Start uploading the file using PATCH requests. The file will be divided
     * into chunks as specified in the chunkSize option. During the upload
     * the onProgress event handler may be invoked multiple times.
     *
     * @api private
     */

  }, {
    key: "_performUpload",
    value: function _performUpload() {
      var _this8 = this;

      // If the upload has been aborted, we will not send the next PATCH request.
      // This is important if the abort method was called during a callback, such
      // as onChunkComplete or onProgress.
      if (this._aborted) {
        return;
      }

      var req; // Some browser and servers may not support the PATCH method. For those
      // cases, you can tell tus-js-client to use a POST request with the
      // X-HTTP-Method-Override header for simulating a PATCH request.

      if (this.options.overridePatchMethod) {
        req = this._openRequest('POST', this.url);
        req.setHeader('X-HTTP-Method-Override', 'PATCH');
      } else {
        req = this._openRequest('PATCH', this.url);
      }

      req.setHeader('Upload-Offset', this._offset);

      var promise = this._addChunkToRequest(req);

      promise.then(function (res) {
        if (!inStatusCategory(res.getStatus(), 200)) {
          _this8._emitHttpError(req, res, 'tus: unexpected response while uploading chunk');

          return;
        }

        _this8._handleUploadResponse(req, res);
      })["catch"](function (err) {
        // Don't emit an error if the upload was aborted manually
        if (_this8._aborted) {
          return;
        }

        _this8._emitHttpError(req, null, "tus: failed to upload chunk at offset ".concat(_this8._offset), err);
      });
    }
    /**
     * _addChunktoRequest reads a chunk from the source and sends it using the
     * supplied request object. It will not handle the response.
     *
     * @api private
     */

  }, {
    key: "_addChunkToRequest",
    value: function _addChunkToRequest(req) {
      var _this9 = this;

      var start = this._offset;
      var end = this._offset + this.options.chunkSize;
      req.setProgressHandler(function (bytesSent) {
        _this9._emitProgress(start + bytesSent, _this9._size);
      });
      req.setHeader('Content-Type', 'application/offset+octet-stream'); // The specified chunkSize may be Infinity or the calcluated end position
      // may exceed the file's size. In both cases, we limit the end position to
      // the input's total size for simpler calculations and correctness.

      if ((end === Infinity || end > this._size) && !this.options.uploadLengthDeferred) {
        end = this._size;
      }

      return this._source.slice(start, end).then(function (_ref2) {
        var value = _ref2.value,
            done = _ref2.done;

        // If the upload length is deferred, the upload size was not specified during
        // upload creation. So, if the file reader is done reading, we know the total
        // upload size and can tell the tus server.
        if (_this9.options.uploadLengthDeferred && done) {
          _this9._size = _this9._offset + (value && value.size ? value.size : 0);
          req.setHeader('Upload-Length', _this9._size);
        }

        if (value === null) {
          return _this9._sendRequest(req);
        }

        _this9._emitProgress(_this9._offset, _this9._size);

        return _this9._sendRequest(req, value);
      });
    }
    /**
     * _handleUploadResponse is used by requests that haven been sent using _addChunkToRequest
     * and already have received a response.
     *
     * @api private
     */

  }, {
    key: "_handleUploadResponse",
    value: function _handleUploadResponse(req, res) {
      var offset = parseInt(res.getHeader('Upload-Offset'), 10);

      if (Number.isNaN(offset)) {
        this._emitHttpError(req, res, 'tus: invalid or missing offset value');

        return;
      }

      this._emitProgress(offset, this._size);

      this._emitChunkComplete(offset - this._offset, offset, this._size);

      this._offset = offset;

      if (offset === this._size) {
        // Yay, finally done :)
        this._emitSuccess();

        this._source.close();

        return;
      }

      this._performUpload();
    }
    /**
     * Create a new HTTP request object with the given method and URL.
     *
     * @api private
     */

  }, {
    key: "_openRequest",
    value: function _openRequest(method, url) {
      var req = openRequest(method, url, this.options);
      this._req = req;
      return req;
    }
    /**
     * Remove the entry in the URL storage, if it has been saved before.
     *
     * @api private
     */

  }, {
    key: "_removeFromUrlStorage",
    value: function _removeFromUrlStorage() {
      var _this10 = this;

      if (!this._urlStorageKey) return;

      this._urlStorage.removeUpload(this._urlStorageKey)["catch"](function (err) {
        _this10._emitError(err);
      });

      this._urlStorageKey = null;
    }
    /**
     * Add the upload URL to the URL storage, if possible.
     *
     * @api private
     */

  }, {
    key: "_saveUploadInUrlStorage",
    value: function _saveUploadInUrlStorage() {
      var _this11 = this;

      // We do not store the upload URL
      // - if it was disabled in the option, or
      // - if no fingerprint was calculated for the input (i.e. a stream), or
      // - if the URL is already stored (i.e. key is set alread).
      if (!this.options.storeFingerprintForResuming || !this._fingerprint || this._urlStorageKey !== null) {
        return Promise.resolve();
      }

      var storedUpload = {
        size: this._size,
        metadata: this.options.metadata,
        creationTime: new Date().toString()
      };

      if (this._parallelUploads) {
        // Save multiple URLs if the parallelUploads option is used ...
        storedUpload.parallelUploadUrls = this._parallelUploadUrls;
      } else {
        // ... otherwise we just save the one available URL.
        storedUpload.uploadUrl = this.url;
      }

      return this._urlStorage.addUpload(this._fingerprint, storedUpload).then(function (urlStorageKey) {
        _this11._urlStorageKey = urlStorageKey;
      });
    }
    /**
     * Send a request with the provided body.
     *
     * @api private
     */

  }, {
    key: "_sendRequest",
    value: function _sendRequest(req) {
      var body = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      return sendRequest(req, body, this.options);
    }
  }], [{
    key: "terminate",
    value: function terminate(url) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var req = openRequest('DELETE', url, options);
      return sendRequest(req, null, options).then(function (res) {
        // A 204 response indicates a successfull request
        if (res.getStatus() === 204) {
          return;
        }

        throw new _error_js__WEBPACK_IMPORTED_MODULE_1__["default"]('tus: unexpected response while terminating upload', null, req, res);
      })["catch"](function (err) {
        if (!(err instanceof _error_js__WEBPACK_IMPORTED_MODULE_1__["default"])) {
          err = new _error_js__WEBPACK_IMPORTED_MODULE_1__["default"]('tus: failed to terminate upload', err, req, null);
        }

        if (!shouldRetry(err, 0, options)) {
          throw err;
        } // Instead of keeping track of the retry attempts, we remove the first element from the delays
        // array. If the array is empty, all retry attempts are used up and we will bubble up the error.
        // We recursively call the terminate function will removing elements from the retryDelays array.


        var delay = options.retryDelays[0];
        var remainingDelays = options.retryDelays.slice(1);

        var newOptions = _objectSpread(_objectSpread({}, options), {}, {
          retryDelays: remainingDelays
        });

        return new Promise(function (resolve) {
          return setTimeout(resolve, delay);
        }).then(function () {
          return BaseUpload.terminate(url, newOptions);
        });
      });
    }
  }]);

  return BaseUpload;
}();

function encodeMetadata(metadata) {
  return Object.entries(metadata).map(function (_ref3) {
    var _ref4 = _slicedToArray(_ref3, 2),
        key = _ref4[0],
        value = _ref4[1];

    return "".concat(key, " ").concat(js_base64__WEBPACK_IMPORTED_MODULE_4__.Base64.encode(String(value)));
  }).join(',');
}
/**
 * Checks whether a given status is in the range of the expected category.
 * For example, only a status between 200 and 299 will satisfy the category 200.
 *
 * @api private
 */


function inStatusCategory(status, category) {
  return status >= category && status < category + 100;
}
/**
 * Create a new HTTP request with the specified method and URL.
 * The necessary headers that are included in every request
 * will be added, including the request ID.
 *
 * @api private
 */


function openRequest(method, url, options) {
  var req = options.httpStack.createRequest(method, url);
  req.setHeader('Tus-Resumable', '1.0.0');
  var headers = options.headers || {};
  Object.entries(headers).forEach(function (_ref5) {
    var _ref6 = _slicedToArray(_ref5, 2),
        name = _ref6[0],
        value = _ref6[1];

    req.setHeader(name, value);
  });

  if (options.addRequestId) {
    var requestId = (0,_uuid_js__WEBPACK_IMPORTED_MODULE_3__["default"])();
    req.setHeader('X-Request-ID', requestId);
  }

  return req;
}
/**
 * Send a request with the provided body while invoking the onBeforeRequest
 * and onAfterResponse callbacks.
 *
 * @api private
 */


function sendRequest(req, body, options) {
  var onBeforeRequestPromise = typeof options.onBeforeRequest === 'function' ? Promise.resolve(options.onBeforeRequest(req)) : Promise.resolve();
  return onBeforeRequestPromise.then(function () {
    return req.send(body).then(function (res) {
      var onAfterResponsePromise = typeof options.onAfterResponse === 'function' ? Promise.resolve(options.onAfterResponse(req, res)) : Promise.resolve();
      return onAfterResponsePromise.then(function () {
        return res;
      });
    });
  });
}
/**
 * Checks whether the browser running this code has internet access.
 * This function will always return true in the node.js environment
 *
 * @api private
 */


function isOnline() {
  var online = true;

  if (typeof window !== 'undefined' && 'navigator' in window // eslint-disable-line no-undef
  && window.navigator.onLine === false) {
    // eslint-disable-line no-undef
    online = false;
  }

  return online;
}
/**
 * Checks whether or not it is ok to retry a request.
 * @param {Error} err the error returned from the last request
 * @param {number} retryAttempt the number of times the request has already been retried
 * @param {object} options tus Upload options
 *
 * @api private
 */


function shouldRetry(err, retryAttempt, options) {
  // We only attempt a retry if
  // - retryDelays option is set
  // - we didn't exceed the maxium number of retries, yet, and
  // - this error was caused by a request or it's response and
  // - the error is server error (i.e. not a status 4xx except a 409 or 423) or
  // a onShouldRetry is specified and returns true
  // - the browser does not indicate that we are offline
  if (options.retryDelays == null || retryAttempt >= options.retryDelays.length || err.originalRequest == null) {
    return false;
  }

  if (options && typeof options.onShouldRetry === 'function') {
    return options.onShouldRetry(err, retryAttempt, options);
  }

  var status = err.originalResponse ? err.originalResponse.getStatus() : 0;
  return (!inStatusCategory(status, 400) || status === 409 || status === 423) && isOnline();
}
/**
 * Resolve a relative link given the origin as source. For example,
 * if a HTTP request to http://example.com/files/ returns a Location
 * header with the value /upload/abc, the resolved URL will be:
 * http://example.com/upload/abc
 */


function resolveUrl(origin, link) {
  return new (url_parse__WEBPACK_IMPORTED_MODULE_0___default())(link, origin).toString();
}
/**
 * Calculate the start and end positions for the parts if an upload
 * is split into multiple parallel requests.
 *
 * @param {number} totalSize The byte size of the upload, which will be split.
 * @param {number} partCount The number in how many parts the upload will be split.
 * @return {object[]}
 * @api private
 */


function splitSizeIntoParts(totalSize, partCount) {
  var partSize = Math.floor(totalSize / partCount);
  var parts = [];

  for (var i = 0; i < partCount; i++) {
    parts.push({
      start: partSize * i,
      end: partSize * (i + 1)
    });
  }

  parts[partCount - 1].end = totalSize;
  return parts;
}

BaseUpload.defaultOptions = defaultOptions;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BaseUpload);

/***/ }),

/***/ "./node_modules/tus-js-client/lib.esm/uuid.js":
/*!****************************************************!*\
  !*** ./node_modules/tus-js-client/lib.esm/uuid.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ uuid)
/* harmony export */ });
/**
 * Generate a UUID v4 based on random numbers. We intentioanlly use the less
 * secure Math.random function here since the more secure crypto.getRandomNumbers
 * is not available on all platforms.
 * This is not a problem for us since we use the UUID only for generating a
 * request ID, so we can correlate server logs to client errors.
 *
 * This function is taken from following site:
 * https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript
 *
 * @return {string} The generate UUID
 */
function uuid() {
  /* eslint-disable no-bitwise */
  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
    var r = Math.random() * 16 | 0;
    var v = c === 'x' ? r : r & 0x3 | 0x8;
    return v.toString(16);
  });
}

/***/ }),

/***/ "./node_modules/url-parse/index.js":
/*!*****************************************!*\
  !*** ./node_modules/url-parse/index.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var required = __webpack_require__(/*! requires-port */ "./node_modules/requires-port/index.js")
  , qs = __webpack_require__(/*! querystringify */ "./node_modules/querystringify/index.js")
  , controlOrWhitespace = /^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/
  , CRHTLF = /[\n\r\t]/g
  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\/\//
  , port = /:\d+$/
  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i
  , windowsDriveLetter = /^[a-zA-Z]:/;

/**
 * Remove control characters and whitespace from the beginning of a string.
 *
 * @param {Object|String} str String to trim.
 * @returns {String} A new string representing `str` stripped of control
 *     characters and whitespace from its beginning.
 * @public
 */
function trimLeft(str) {
  return (str ? str : '').toString().replace(controlOrWhitespace, '');
}

/**
 * These are the parse rules for the URL parser, it informs the parser
 * about:
 *
 * 0. The char it Needs to parse, if it's a string it should be done using
 *    indexOf, RegExp using exec and NaN means set as current value.
 * 1. The property we should set when parsing this value.
 * 2. Indication if it's backwards or forward parsing, when set as number it's
 *    the value of extra chars that should be split off.
 * 3. Inherit from location if non existing in the parser.
 * 4. `toLowerCase` the resulting value.
 */
var rules = [
  ['#', 'hash'],                        // Extract from the back.
  ['?', 'query'],                       // Extract from the back.
  function sanitize(address, url) {     // Sanitize what is left of the address
    return isSpecial(url.protocol) ? address.replace(/\\/g, '/') : address;
  },
  ['/', 'pathname'],                    // Extract from the back.
  ['@', 'auth', 1],                     // Extract from the front.
  [NaN, 'host', undefined, 1, 1],       // Set left over value.
  [/:(\d*)$/, 'port', undefined, 1],    // RegExp the back.
  [NaN, 'hostname', undefined, 1, 1]    // Set left over.
];

/**
 * These properties should not be copied or inherited from. This is only needed
 * for all non blob URL's as a blob URL does not include a hash, only the
 * origin.
 *
 * @type {Object}
 * @private
 */
var ignore = { hash: 1, query: 1 };

/**
 * The location object differs when your code is loaded through a normal page,
 * Worker or through a worker using a blob. And with the blobble begins the
 * trouble as the location object will contain the URL of the blob, not the
 * location of the page where our code is loaded in. The actual origin is
 * encoded in the `pathname` so we can thankfully generate a good "default"
 * location from it so we can generate proper relative URL's again.
 *
 * @param {Object|String} loc Optional default location object.
 * @returns {Object} lolcation object.
 * @public
 */
function lolcation(loc) {
  var globalVar;

  if (typeof window !== 'undefined') globalVar = window;
  else if (typeof __webpack_require__.g !== 'undefined') globalVar = __webpack_require__.g;
  else if (typeof self !== 'undefined') globalVar = self;
  else globalVar = {};

  var location = globalVar.location || {};
  loc = loc || location;

  var finaldestination = {}
    , type = typeof loc
    , key;

  if ('blob:' === loc.protocol) {
    finaldestination = new Url(unescape(loc.pathname), {});
  } else if ('string' === type) {
    finaldestination = new Url(loc, {});
    for (key in ignore) delete finaldestination[key];
  } else if ('object' === type) {
    for (key in loc) {
      if (key in ignore) continue;
      finaldestination[key] = loc[key];
    }

    if (finaldestination.slashes === undefined) {
      finaldestination.slashes = slashes.test(loc.href);
    }
  }

  return finaldestination;
}

/**
 * Check whether a protocol scheme is special.
 *
 * @param {String} The protocol scheme of the URL
 * @return {Boolean} `true` if the protocol scheme is special, else `false`
 * @private
 */
function isSpecial(scheme) {
  return (
    scheme === 'file:' ||
    scheme === 'ftp:' ||
    scheme === 'http:' ||
    scheme === 'https:' ||
    scheme === 'ws:' ||
    scheme === 'wss:'
  );
}

/**
 * @typedef ProtocolExtract
 * @type Object
 * @property {String} protocol Protocol matched in the URL, in lowercase.
 * @property {Boolean} slashes `true` if protocol is followed by "//", else `false`.
 * @property {String} rest Rest of the URL that is not part of the protocol.
 */

/**
 * Extract protocol information from a URL with/without double slash ("//").
 *
 * @param {String} address URL we want to extract from.
 * @param {Object} location
 * @return {ProtocolExtract} Extracted information.
 * @private
 */
function extractProtocol(address, location) {
  address = trimLeft(address);
  address = address.replace(CRHTLF, '');
  location = location || {};

  var match = protocolre.exec(address);
  var protocol = match[1] ? match[1].toLowerCase() : '';
  var forwardSlashes = !!match[2];
  var otherSlashes = !!match[3];
  var slashesCount = 0;
  var rest;

  if (forwardSlashes) {
    if (otherSlashes) {
      rest = match[2] + match[3] + match[4];
      slashesCount = match[2].length + match[3].length;
    } else {
      rest = match[2] + match[4];
      slashesCount = match[2].length;
    }
  } else {
    if (otherSlashes) {
      rest = match[3] + match[4];
      slashesCount = match[3].length;
    } else {
      rest = match[4]
    }
  }

  if (protocol === 'file:') {
    if (slashesCount >= 2) {
      rest = rest.slice(2);
    }
  } else if (isSpecial(protocol)) {
    rest = match[4];
  } else if (protocol) {
    if (forwardSlashes) {
      rest = rest.slice(2);
    }
  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {
    rest = match[4];
  }

  return {
    protocol: protocol,
    slashes: forwardSlashes || isSpecial(protocol),
    slashesCount: slashesCount,
    rest: rest
  };
}

/**
 * Resolve a relative URL pathname against a base URL pathname.
 *
 * @param {String} relative Pathname of the relative URL.
 * @param {String} base Pathname of the base URL.
 * @return {String} Resolved pathname.
 * @private
 */
function resolve(relative, base) {
  if (relative === '') return base;

  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))
    , i = path.length
    , last = path[i - 1]
    , unshift = false
    , up = 0;

  while (i--) {
    if (path[i] === '.') {
      path.splice(i, 1);
    } else if (path[i] === '..') {
      path.splice(i, 1);
      up++;
    } else if (up) {
      if (i === 0) unshift = true;
      path.splice(i, 1);
      up--;
    }
  }

  if (unshift) path.unshift('');
  if (last === '.' || last === '..') path.push('');

  return path.join('/');
}

/**
 * The actual URL instance. Instead of returning an object we've opted-in to
 * create an actual constructor as it's much more memory efficient and
 * faster and it pleases my OCD.
 *
 * It is worth noting that we should not use `URL` as class name to prevent
 * clashes with the global URL instance that got introduced in browsers.
 *
 * @constructor
 * @param {String} address URL we want to parse.
 * @param {Object|String} [location] Location defaults for relative paths.
 * @param {Boolean|Function} [parser] Parser for the query string.
 * @private
 */
function Url(address, location, parser) {
  address = trimLeft(address);
  address = address.replace(CRHTLF, '');

  if (!(this instanceof Url)) {
    return new Url(address, location, parser);
  }

  var relative, extracted, parse, instruction, index, key
    , instructions = rules.slice()
    , type = typeof location
    , url = this
    , i = 0;

  //
  // The following if statements allows this module two have compatibility with
  // 2 different API:
  //
  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments
  //    where the boolean indicates that the query string should also be parsed.
  //
  // 2. The `URL` interface of the browser which accepts a URL, object as
  //    arguments. The supplied object will be used as default values / fall-back
  //    for relative paths.
  //
  if ('object' !== type && 'string' !== type) {
    parser = location;
    location = null;
  }

  if (parser && 'function' !== typeof parser) parser = qs.parse;

  location = lolcation(location);

  //
  // Extract protocol information before running the instructions.
  //
  extracted = extractProtocol(address || '', location);
  relative = !extracted.protocol && !extracted.slashes;
  url.slashes = extracted.slashes || relative && location.slashes;
  url.protocol = extracted.protocol || location.protocol || '';
  address = extracted.rest;

  //
  // When the authority component is absent the URL starts with a path
  // component.
  //
  if (
    extracted.protocol === 'file:' && (
      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||
    (!extracted.slashes &&
      (extracted.protocol ||
        extracted.slashesCount < 2 ||
        !isSpecial(url.protocol)))
  ) {
    instructions[3] = [/(.*)/, 'pathname'];
  }

  for (; i < instructions.length; i++) {
    instruction = instructions[i];

    if (typeof instruction === 'function') {
      address = instruction(address, url);
      continue;
    }

    parse = instruction[0];
    key = instruction[1];

    if (parse !== parse) {
      url[key] = address;
    } else if ('string' === typeof parse) {
      index = parse === '@'
        ? address.lastIndexOf(parse)
        : address.indexOf(parse);

      if (~index) {
        if ('number' === typeof instruction[2]) {
          url[key] = address.slice(0, index);
          address = address.slice(index + instruction[2]);
        } else {
          url[key] = address.slice(index);
          address = address.slice(0, index);
        }
      }
    } else if ((index = parse.exec(address))) {
      url[key] = index[1];
      address = address.slice(0, index.index);
    }

    url[key] = url[key] || (
      relative && instruction[3] ? location[key] || '' : ''
    );

    //
    // Hostname, host and protocol should be lowercased so they can be used to
    // create a proper `origin`.
    //
    if (instruction[4]) url[key] = url[key].toLowerCase();
  }

  //
  // Also parse the supplied query string in to an object. If we're supplied
  // with a custom parser as function use that instead of the default build-in
  // parser.
  //
  if (parser) url.query = parser(url.query);

  //
  // If the URL is relative, resolve the pathname against the base URL.
  //
  if (
      relative
    && location.slashes
    && url.pathname.charAt(0) !== '/'
    && (url.pathname !== '' || location.pathname !== '')
  ) {
    url.pathname = resolve(url.pathname, location.pathname);
  }

  //
  // Default to a / for pathname if none exists. This normalizes the URL
  // to always have a /
  //
  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {
    url.pathname = '/' + url.pathname;
  }

  //
  // We should not add port numbers if they are already the default port number
  // for a given protocol. As the host also contains the port number we're going
  // override it with the hostname which contains no port number.
  //
  if (!required(url.port, url.protocol)) {
    url.host = url.hostname;
    url.port = '';
  }

  //
  // Parse down the `auth` for the username and password.
  //
  url.username = url.password = '';

  if (url.auth) {
    index = url.auth.indexOf(':');

    if (~index) {
      url.username = url.auth.slice(0, index);
      url.username = encodeURIComponent(decodeURIComponent(url.username));

      url.password = url.auth.slice(index + 1);
      url.password = encodeURIComponent(decodeURIComponent(url.password))
    } else {
      url.username = encodeURIComponent(decodeURIComponent(url.auth));
    }

    url.auth = url.password ? url.username +':'+ url.password : url.username;
  }

  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host
    ? url.protocol +'//'+ url.host
    : 'null';

  //
  // The href is just the compiled result.
  //
  url.href = url.toString();
}

/**
 * This is convenience method for changing properties in the URL instance to
 * insure that they all propagate correctly.
 *
 * @param {String} part          Property we need to adjust.
 * @param {Mixed} value          The newly assigned value.
 * @param {Boolean|Function} fn  When setting the query, it will be the function
 *                               used to parse the query.
 *                               When setting the protocol, double slash will be
 *                               removed from the final url if it is true.
 * @returns {URL} URL instance for chaining.
 * @public
 */
function set(part, value, fn) {
  var url = this;

  switch (part) {
    case 'query':
      if ('string' === typeof value && value.length) {
        value = (fn || qs.parse)(value);
      }

      url[part] = value;
      break;

    case 'port':
      url[part] = value;

      if (!required(value, url.protocol)) {
        url.host = url.hostname;
        url[part] = '';
      } else if (value) {
        url.host = url.hostname +':'+ value;
      }

      break;

    case 'hostname':
      url[part] = value;

      if (url.port) value += ':'+ url.port;
      url.host = value;
      break;

    case 'host':
      url[part] = value;

      if (port.test(value)) {
        value = value.split(':');
        url.port = value.pop();
        url.hostname = value.join(':');
      } else {
        url.hostname = value;
        url.port = '';
      }

      break;

    case 'protocol':
      url.protocol = value.toLowerCase();
      url.slashes = !fn;
      break;

    case 'pathname':
    case 'hash':
      if (value) {
        var char = part === 'pathname' ? '/' : '#';
        url[part] = value.charAt(0) !== char ? char + value : value;
      } else {
        url[part] = value;
      }
      break;

    case 'username':
    case 'password':
      url[part] = encodeURIComponent(value);
      break;

    case 'auth':
      var index = value.indexOf(':');

      if (~index) {
        url.username = value.slice(0, index);
        url.username = encodeURIComponent(decodeURIComponent(url.username));

        url.password = value.slice(index + 1);
        url.password = encodeURIComponent(decodeURIComponent(url.password));
      } else {
        url.username = encodeURIComponent(decodeURIComponent(value));
      }
  }

  for (var i = 0; i < rules.length; i++) {
    var ins = rules[i];

    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();
  }

  url.auth = url.password ? url.username +':'+ url.password : url.username;

  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host
    ? url.protocol +'//'+ url.host
    : 'null';

  url.href = url.toString();

  return url;
}

/**
 * Transform the properties back in to a valid and full URL string.
 *
 * @param {Function} stringify Optional query stringify function.
 * @returns {String} Compiled version of the URL.
 * @public
 */
function toString(stringify) {
  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;

  var query
    , url = this
    , host = url.host
    , protocol = url.protocol;

  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';

  var result =
    protocol +
    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');

  if (url.username) {
    result += url.username;
    if (url.password) result += ':'+ url.password;
    result += '@';
  } else if (url.password) {
    result += ':'+ url.password;
    result += '@';
  } else if (
    url.protocol !== 'file:' &&
    isSpecial(url.protocol) &&
    !host &&
    url.pathname !== '/'
  ) {
    //
    // Add back the empty userinfo, otherwise the original invalid URL
    // might be transformed into a valid one with `url.pathname` as host.
    //
    result += '@';
  }

  //
  // Trailing colon is removed from `url.host` when it is parsed. If it still
  // ends with a colon, then add back the trailing colon that was removed. This
  // prevents an invalid URL from being transformed into a valid one.
  //
  if (host[host.length - 1] === ':' || (port.test(url.hostname) && !url.port)) {
    host += ':';
  }

  result += host + url.pathname;

  query = 'object' === typeof url.query ? stringify(url.query) : url.query;
  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;

  if (url.hash) result += url.hash;

  return result;
}

Url.prototype = { set: set, toString: toString };

//
// Expose the URL parser and some additional properties that might be useful for
// others or testing.
//
Url.extractProtocol = extractProtocol;
Url.location = lolcation;
Url.trimLeft = trimLeft;
Url.qs = qs;

module.exports = Url;


/***/ }),

/***/ "./node_modules/wildcard/index.js":
/*!****************************************!*\
  !*** ./node_modules/wildcard/index.js ***!
  \****************************************/
/***/ ((module) => {

"use strict";
/* jshint node: true */


/**
  # wildcard

  Very simple wildcard matching, which is designed to provide the same
  functionality that is found in the
  [eve](https://github.com/adobe-webplatform/eve) eventing library.

  ## Usage

  It works with strings:

  <<< examples/strings.js

  Arrays:

  <<< examples/arrays.js

  Objects (matching against keys):

  <<< examples/objects.js

  While the library works in Node, if you are are looking for file-based
  wildcard matching then you should have a look at:

  <https://github.com/isaacs/node-glob>
**/

function WildcardMatcher(text, separator) {
  this.text = text = text || '';
  this.hasWild = ~text.indexOf('*');
  this.separator = separator;
  this.parts = text.split(separator);
}

WildcardMatcher.prototype.match = function(input) {
  var matches = true;
  var parts = this.parts;
  var ii;
  var partsCount = parts.length;
  var testParts;

  if (typeof input == 'string' || input instanceof String) {
    if (!this.hasWild && this.text != input) {
      matches = false;
    } else {
      testParts = (input || '').split(this.separator);
      for (ii = 0; matches && ii < partsCount; ii++) {
        if (parts[ii] === '*')  {
          continue;
        } else if (ii < testParts.length) {
          matches = parts[ii] === testParts[ii];
        } else {
          matches = false;
        }
      }

      // If matches, then return the component parts
      matches = matches && testParts;
    }
  }
  else if (typeof input.splice == 'function') {
    matches = [];

    for (ii = input.length; ii--; ) {
      if (this.match(input[ii])) {
        matches[matches.length] = input[ii];
      }
    }
  }
  else if (typeof input == 'object') {
    matches = {};

    for (var key in input) {
      if (this.match(key)) {
        matches[key] = input[key];
      }
    }
  }

  return matches;
};

module.exports = function(text, test, separator) {
  var matcher = new WildcardMatcher(text, separator || /[\/\.]/);
  if (typeof test != 'undefined') {
    return matcher.match(test);
  }

  return matcher;
};


/***/ }),

/***/ "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC":
/*!**************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC ***!
  \**************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC";

/***/ }),

/***/ "data:image/svg+xml,%3Csvg width=%2748%27 height=%2748%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z%27 fill=%27%2302BAF2%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml,%3Csvg width=%2748%27 height=%2748%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z%27 fill=%27%2302BAF2%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml,%3Csvg width=%2748%27 height=%2748%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z%27 fill=%27%2302BAF2%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E";

/***/ }),

/***/ "data:image/svg+xml,%3Csvg width=%2748%27 height=%2748%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z%27 fill=%27%232275D7%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml,%3Csvg width=%2748%27 height=%2748%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z%27 fill=%27%232275D7%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml,%3Csvg width=%2748%27 height=%2748%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z%27 fill=%27%232275D7%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E";

/***/ }),

/***/ "data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2735%27 height=%2739%27 viewBox=%270 0 35 39%27%3E%3Cpath d=%27M1.708 38.66c1.709 0 3.417-3.417 6.834-3.417 3.416 0 5.125 3.417 8.61 3.417 3.348 0 5.056-3.417 8.473-3.417 4.305 0 5.125 3.417 6.833 3.417.889 0 1.709-.889 1.709-1.709v-19.68C34.167-5.757 0-5.757 0 17.271v19.68c0 .82.888 1.709 1.708 1.709zm8.542-17.084a3.383 3.383 0 01-3.417-3.416 3.383 3.383 0 013.417-3.417 3.383 3.383 0 013.417 3.417 3.383 3.383 0 01-3.417 3.416zm13.667 0A3.383 3.383 0 0120.5 18.16a3.383 3.383 0 013.417-3.417 3.383 3.383 0 013.416 3.417 3.383 3.383 0 01-3.416 3.416z%27 fill=%27%2523000%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2735%27 height=%2739%27 viewBox=%270 0 35 39%27%3E%3Cpath d=%27M1.708 38.66c1.709 0 3.417-3.417 6.834-3.417 3.416 0 5.125 3.417 8.61 3.417 3.348 0 5.056-3.417 8.473-3.417 4.305 0 5.125 3.417 6.833 3.417.889 0 1.709-.889 1.709-1.709v-19.68C34.167-5.757 0-5.757 0 17.271v19.68c0 .82.888 1.709 1.708 1.709zm8.542-17.084a3.383 3.383 0 01-3.417-3.416 3.383 3.383 0 013.417-3.417 3.383 3.383 0 013.417 3.417 3.383 3.383 0 01-3.417 3.416zm13.667 0A3.383 3.383 0 0120.5 18.16a3.383 3.383 0 013.417-3.417 3.383 3.383 0 013.416 3.417 3.383 3.383 0 01-3.416 3.416z%27 fill=%27%2523000%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2735%27 height=%2739%27 viewBox=%270 0 35 39%27%3E%3Cpath d=%27M1.708 38.66c1.709 0 3.417-3.417 6.834-3.417 3.416 0 5.125 3.417 8.61 3.417 3.348 0 5.056-3.417 8.473-3.417 4.305 0 5.125 3.417 6.833 3.417.889 0 1.709-.889 1.709-1.709v-19.68C34.167-5.757 0-5.757 0 17.271v19.68c0 .82.888 1.709 1.708 1.709zm8.542-17.084a3.383 3.383 0 01-3.417-3.416 3.383 3.383 0 013.417-3.417 3.383 3.383 0 013.417 3.417 3.383 3.383 0 01-3.417 3.416zm13.667 0A3.383 3.383 0 0120.5 18.16a3.383 3.383 0 013.417-3.417 3.383 3.383 0 013.416 3.417 3.383 3.383 0 01-3.416 3.416z%27 fill=%27%2523000%27 fill-rule=%27nonzero%27/%3E%3C/svg%3E";

/***/ }),

/***/ "data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23757575%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23757575%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23757575%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E";

/***/ }),

/***/ "data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28-90%2018%2018%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28-90%2018%2018%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28-90%2018%2018%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E";

/***/ }),

/***/ "data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%2890%206%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%2890%206%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%2890%206%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E";

/***/ }),

/***/ "data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%280%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%280%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%280%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E";

/***/ }),

/***/ "data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28180%2018%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28180%2018%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28180%2018%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E";

/***/ }),

/***/ "./node_modules/@uppy/aws-s3-multipart/lib/MultipartUploader.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@uppy/aws-s3-multipart/lib/MultipartUploader.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _uppy_utils_lib_AbortController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/utils/lib/AbortController */ "./node_modules/@uppy/utils/lib/AbortController.js");
function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }


const MB = 1024 * 1024;
const defaultOptions = {
  getChunkSize(file) {
    return Math.ceil(file.size / 10000);
  },

  onProgress() {},

  onPartComplete() {},

  onSuccess() {},

  onError(err) {
    throw err;
  }

};

function ensureInt(value) {
  if (typeof value === 'string') {
    return parseInt(value, 10);
  }

  if (typeof value === 'number') {
    return value;
  }

  throw new TypeError('Expected a number');
}

const pausingUploadReason = Symbol('pausing upload, not an actual error');

var _abortController = /*#__PURE__*/_classPrivateFieldLooseKey("abortController");

var _chunks = /*#__PURE__*/_classPrivateFieldLooseKey("chunks");

var _chunkState = /*#__PURE__*/_classPrivateFieldLooseKey("chunkState");

var _data = /*#__PURE__*/_classPrivateFieldLooseKey("data");

var _file = /*#__PURE__*/_classPrivateFieldLooseKey("file");

var _uploadPromise = /*#__PURE__*/_classPrivateFieldLooseKey("uploadPromise");

var _onError = /*#__PURE__*/_classPrivateFieldLooseKey("onError");

var _onSuccess = /*#__PURE__*/_classPrivateFieldLooseKey("onSuccess");

var _onReject = /*#__PURE__*/_classPrivateFieldLooseKey("onReject");

var _initChunks = /*#__PURE__*/_classPrivateFieldLooseKey("initChunks");

var _createUpload = /*#__PURE__*/_classPrivateFieldLooseKey("createUpload");

var _resumeUpload = /*#__PURE__*/_classPrivateFieldLooseKey("resumeUpload");

var _onPartProgress = /*#__PURE__*/_classPrivateFieldLooseKey("onPartProgress");

var _onPartComplete = /*#__PURE__*/_classPrivateFieldLooseKey("onPartComplete");

var _abortUpload = /*#__PURE__*/_classPrivateFieldLooseKey("abortUpload");

class MultipartUploader {
  constructor(data, options) {
    var _this$options, _this$options$getChun;

    Object.defineProperty(this, _abortUpload, {
      value: _abortUpload2
    });
    Object.defineProperty(this, _resumeUpload, {
      value: _resumeUpload2
    });
    Object.defineProperty(this, _createUpload, {
      value: _createUpload2
    });
    Object.defineProperty(this, _initChunks, {
      value: _initChunks2
    });
    Object.defineProperty(this, _abortController, {
      writable: true,
      value: new _uppy_utils_lib_AbortController__WEBPACK_IMPORTED_MODULE_0__.AbortController()
    });
    Object.defineProperty(this, _chunks, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _chunkState, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _data, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _file, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _uploadPromise, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _onError, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _onSuccess, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _onReject, {
      writable: true,
      value: err => (err == null ? void 0 : err.cause) === pausingUploadReason ? null : _classPrivateFieldLooseBase(this, _onError)[_onError](err)
    });
    Object.defineProperty(this, _onPartProgress, {
      writable: true,
      value: index => ev => {
        if (!ev.lengthComputable) return;
        const sent = ev.loaded;
        _classPrivateFieldLooseBase(this, _chunkState)[_chunkState][index].uploaded = ensureInt(sent);

        const totalUploaded = _classPrivateFieldLooseBase(this, _chunkState)[_chunkState].reduce((n, c) => n + c.uploaded, 0);

        this.options.onProgress(totalUploaded, _classPrivateFieldLooseBase(this, _data)[_data].size);
      }
    });
    Object.defineProperty(this, _onPartComplete, {
      writable: true,
      value: index => etag => {
        // This avoids the net::ERR_OUT_OF_MEMORY in Chromium Browsers.
        _classPrivateFieldLooseBase(this, _chunks)[_chunks][index] = null;
        _classPrivateFieldLooseBase(this, _chunkState)[_chunkState][index].etag = etag;
        _classPrivateFieldLooseBase(this, _chunkState)[_chunkState][index].done = true;
        const part = {
          PartNumber: index + 1,
          ETag: etag
        };
        this.options.onPartComplete(part);
      }
    });
    this.options = { ...defaultOptions,
      ...options
    }; // Use default `getChunkSize` if it was null or something

    (_this$options$getChun = (_this$options = this.options).getChunkSize) != null ? _this$options$getChun : _this$options.getChunkSize = defaultOptions.getChunkSize;
    _classPrivateFieldLooseBase(this, _data)[_data] = data;
    _classPrivateFieldLooseBase(this, _file)[_file] = options.file;
    _classPrivateFieldLooseBase(this, _onSuccess)[_onSuccess] = this.options.onSuccess;
    _classPrivateFieldLooseBase(this, _onError)[_onError] = this.options.onError;

    _classPrivateFieldLooseBase(this, _initChunks)[_initChunks]();
  }

  start() {
    if (_classPrivateFieldLooseBase(this, _uploadPromise)[_uploadPromise]) {
      if (!_classPrivateFieldLooseBase(this, _abortController)[_abortController].signal.aborted) _classPrivateFieldLooseBase(this, _abortController)[_abortController].abort(pausingUploadReason);
      _classPrivateFieldLooseBase(this, _abortController)[_abortController] = new _uppy_utils_lib_AbortController__WEBPACK_IMPORTED_MODULE_0__.AbortController();

      _classPrivateFieldLooseBase(this, _resumeUpload)[_resumeUpload]();
    } else {
      _classPrivateFieldLooseBase(this, _createUpload)[_createUpload]();
    }
  }

  pause() {
    _classPrivateFieldLooseBase(this, _abortController)[_abortController].abort(pausingUploadReason); // Swap it out for a new controller, because this instance may be resumed later.


    _classPrivateFieldLooseBase(this, _abortController)[_abortController] = new _uppy_utils_lib_AbortController__WEBPACK_IMPORTED_MODULE_0__.AbortController();
  }

  abort(opts) {
    var _opts;

    if (opts === void 0) {
      opts = undefined;
    }

    if ((_opts = opts) != null && _opts.really) _classPrivateFieldLooseBase(this, _abortUpload)[_abortUpload]();else this.pause();
  } // TODO: remove this in the next major


  get chunkState() {
    return _classPrivateFieldLooseBase(this, _chunkState)[_chunkState];
  }

}

function _initChunks2() {
  const desiredChunkSize = this.options.getChunkSize(_classPrivateFieldLooseBase(this, _data)[_data]); // at least 5MB per request, at most 10k requests

  const fileSize = _classPrivateFieldLooseBase(this, _data)[_data].size;

  const minChunkSize = Math.max(5 * MB, Math.ceil(fileSize / 10000));
  const chunkSize = Math.max(desiredChunkSize, minChunkSize); // Upload zero-sized files in one zero-sized chunk

  if (_classPrivateFieldLooseBase(this, _data)[_data].size === 0) {
    _classPrivateFieldLooseBase(this, _chunks)[_chunks] = [_classPrivateFieldLooseBase(this, _data)[_data]];
    _classPrivateFieldLooseBase(this, _data)[_data].onProgress = _classPrivateFieldLooseBase(this, _onPartProgress)[_onPartProgress](0);
    _classPrivateFieldLooseBase(this, _data)[_data].onComplete = _classPrivateFieldLooseBase(this, _onPartComplete)[_onPartComplete](0);
  } else {
    const arraySize = Math.ceil(fileSize / chunkSize);
    _classPrivateFieldLooseBase(this, _chunks)[_chunks] = Array(arraySize);
    let j = 0;

    for (let i = 0; i < fileSize; i += chunkSize) {
      const end = Math.min(fileSize, i + chunkSize);

      const chunk = _classPrivateFieldLooseBase(this, _data)[_data].slice(i, end);

      chunk.onProgress = _classPrivateFieldLooseBase(this, _onPartProgress)[_onPartProgress](j);
      chunk.onComplete = _classPrivateFieldLooseBase(this, _onPartComplete)[_onPartComplete](j);
      _classPrivateFieldLooseBase(this, _chunks)[_chunks][j++] = chunk;
    }
  }

  _classPrivateFieldLooseBase(this, _chunkState)[_chunkState] = _classPrivateFieldLooseBase(this, _chunks)[_chunks].map(() => ({
    uploaded: 0
  }));
}

function _createUpload2() {
  _classPrivateFieldLooseBase(this, _uploadPromise)[_uploadPromise] = this.options.companionComm.uploadFile(_classPrivateFieldLooseBase(this, _file)[_file], _classPrivateFieldLooseBase(this, _chunks)[_chunks], _classPrivateFieldLooseBase(this, _abortController)[_abortController].signal).then(_classPrivateFieldLooseBase(this, _onSuccess)[_onSuccess], _classPrivateFieldLooseBase(this, _onReject)[_onReject]);
}

function _resumeUpload2() {
  _classPrivateFieldLooseBase(this, _uploadPromise)[_uploadPromise] = this.options.companionComm.resumeUploadFile(_classPrivateFieldLooseBase(this, _file)[_file], _classPrivateFieldLooseBase(this, _chunks)[_chunks], _classPrivateFieldLooseBase(this, _abortController)[_abortController].signal).then(_classPrivateFieldLooseBase(this, _onSuccess)[_onSuccess], _classPrivateFieldLooseBase(this, _onReject)[_onReject]);
}

function _abortUpload2() {
  _classPrivateFieldLooseBase(this, _abortController)[_abortController].abort();

  this.options.companionComm.abortFileUpload(_classPrivateFieldLooseBase(this, _file)[_file]).catch(err => this.options.log(err));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MultipartUploader);

/***/ }),

/***/ "./node_modules/@uppy/aws-s3-multipart/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@uppy/aws-s3-multipart/lib/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ AwsS3Multipart)
/* harmony export */ });
/* harmony import */ var _uppy_core_lib_BasePlugin_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/core/lib/BasePlugin.js */ "./node_modules/@uppy/core/lib/BasePlugin.js");
/* harmony import */ var _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/companion-client */ "./node_modules/@uppy/companion-client/lib/index.js");
/* harmony import */ var _uppy_utils_lib_EventTracker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/utils/lib/EventTracker */ "./node_modules/@uppy/utils/lib/EventTracker.js");
/* harmony import */ var _uppy_utils_lib_emitSocketProgress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uppy/utils/lib/emitSocketProgress */ "./node_modules/@uppy/utils/lib/emitSocketProgress.js");
/* harmony import */ var _uppy_utils_lib_getSocketHost__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @uppy/utils/lib/getSocketHost */ "./node_modules/@uppy/utils/lib/getSocketHost.js");
/* harmony import */ var _uppy_utils_lib_RateLimitedQueue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @uppy/utils/lib/RateLimitedQueue */ "./node_modules/@uppy/utils/lib/RateLimitedQueue.js");
/* harmony import */ var _uppy_utils_lib_AbortController__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @uppy/utils/lib/AbortController */ "./node_modules/@uppy/utils/lib/AbortController.js");
/* harmony import */ var _MultipartUploader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MultipartUploader.js */ "./node_modules/@uppy/aws-s3-multipart/lib/MultipartUploader.js");
let _Symbol$for;

function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }








const packageJson = {
  "version": "3.1.3"
};


function assertServerError(res) {
  if (res && res.error) {
    const error = new Error(res.message);
    Object.assign(error, res.error);
    throw error;
  }

  return res;
}

function throwIfAborted(signal) {
  if (signal != null && signal.aborted) {
    throw (0,_uppy_utils_lib_AbortController__WEBPACK_IMPORTED_MODULE_6__.createAbortError)('The operation was aborted', {
      cause: signal.reason
    });
  }
}

var _abortMultipartUpload = /*#__PURE__*/_classPrivateFieldLooseKey("abortMultipartUpload");

var _cache = /*#__PURE__*/_classPrivateFieldLooseKey("cache");

var _createMultipartUpload = /*#__PURE__*/_classPrivateFieldLooseKey("createMultipartUpload");

var _fetchSignature = /*#__PURE__*/_classPrivateFieldLooseKey("fetchSignature");

var _listParts = /*#__PURE__*/_classPrivateFieldLooseKey("listParts");

var _previousRetryDelay = /*#__PURE__*/_classPrivateFieldLooseKey("previousRetryDelay");

var _requests = /*#__PURE__*/_classPrivateFieldLooseKey("requests");

var _retryDelayIterator = /*#__PURE__*/_classPrivateFieldLooseKey("retryDelayIterator");

var _sendCompletionRequest = /*#__PURE__*/_classPrivateFieldLooseKey("sendCompletionRequest");

var _setS3MultipartState = /*#__PURE__*/_classPrivateFieldLooseKey("setS3MultipartState");

var _uploadPartBytes = /*#__PURE__*/_classPrivateFieldLooseKey("uploadPartBytes");

var _shouldRetry = /*#__PURE__*/_classPrivateFieldLooseKey("shouldRetry");

class HTTPCommunicationQueue {
  constructor(_requests2, options, setS3MultipartState) {
    Object.defineProperty(this, _shouldRetry, {
      value: _shouldRetry2
    });
    Object.defineProperty(this, _abortMultipartUpload, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _cache, {
      writable: true,
      value: new WeakMap()
    });
    Object.defineProperty(this, _createMultipartUpload, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _fetchSignature, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _listParts, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _previousRetryDelay, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _requests, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _retryDelayIterator, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _sendCompletionRequest, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _setS3MultipartState, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _uploadPartBytes, {
      writable: true,
      value: void 0
    });
    _classPrivateFieldLooseBase(this, _requests)[_requests] = _requests2;
    _classPrivateFieldLooseBase(this, _setS3MultipartState)[_setS3MultipartState] = setS3MultipartState;
    this.setOptions(options);
  }

  setOptions(options) {
    const requests = _classPrivateFieldLooseBase(this, _requests)[_requests];

    if ('abortMultipartUpload' in options) {
      _classPrivateFieldLooseBase(this, _abortMultipartUpload)[_abortMultipartUpload] = requests.wrapPromiseFunction(options.abortMultipartUpload);
    }

    if ('createMultipartUpload' in options) {
      _classPrivateFieldLooseBase(this, _createMultipartUpload)[_createMultipartUpload] = requests.wrapPromiseFunction(options.createMultipartUpload, {
        priority: -1
      });
    }

    if ('signPart' in options) {
      _classPrivateFieldLooseBase(this, _fetchSignature)[_fetchSignature] = requests.wrapPromiseFunction(options.signPart);
    }

    if ('listParts' in options) {
      _classPrivateFieldLooseBase(this, _listParts)[_listParts] = requests.wrapPromiseFunction(options.listParts);
    }

    if ('completeMultipartUpload' in options) {
      _classPrivateFieldLooseBase(this, _sendCompletionRequest)[_sendCompletionRequest] = requests.wrapPromiseFunction(options.completeMultipartUpload);
    }

    if ('retryDelays' in options) {
      var _options$retryDelays;

      _classPrivateFieldLooseBase(this, _retryDelayIterator)[_retryDelayIterator] = (_options$retryDelays = options.retryDelays) == null ? void 0 : _options$retryDelays.values();
    }

    if ('uploadPartBytes' in options) {
      _classPrivateFieldLooseBase(this, _uploadPartBytes)[_uploadPartBytes] = requests.wrapPromiseFunction(options.uploadPartBytes, {
        priority: Infinity
      });
    }
  }

  async getUploadId(file, signal) {
    const cachedResult = _classPrivateFieldLooseBase(this, _cache)[_cache].get(file.data);

    if (cachedResult != null) {
      return cachedResult;
    }

    const promise = _classPrivateFieldLooseBase(this, _createMultipartUpload)[_createMultipartUpload](file, signal);

    const abortPromise = () => {
      promise.abort(signal.reason);

      _classPrivateFieldLooseBase(this, _cache)[_cache].delete(file.data);
    };

    signal.addEventListener('abort', abortPromise, {
      once: true
    });

    _classPrivateFieldLooseBase(this, _cache)[_cache].set(file.data, promise);

    promise.then(async result => {
      signal.removeEventListener('abort', abortPromise);

      _classPrivateFieldLooseBase(this, _setS3MultipartState)[_setS3MultipartState](file, result);

      _classPrivateFieldLooseBase(this, _cache)[_cache].set(file.data, result);
    }, () => {
      signal.removeEventListener('abort', abortPromise);
    });
    return promise;
  }

  async abortFileUpload(file) {
    const result = _classPrivateFieldLooseBase(this, _cache)[_cache].get(file.data);

    if (result != null) {
      // If the createMultipartUpload request never was made, we don't
      // need to send the abortMultipartUpload request.
      await _classPrivateFieldLooseBase(this, _abortMultipartUpload)[_abortMultipartUpload](file, await result);
    }
  }

  async uploadFile(file, chunks, signal) {
    throwIfAborted(signal);
    const {
      uploadId,
      key
    } = await this.getUploadId(file, signal);
    throwIfAborted(signal);
    const parts = await Promise.all(chunks.map((chunk, i) => this.uploadChunk(file, i + 1, chunk, signal)));
    throwIfAborted(signal);
    return _classPrivateFieldLooseBase(this, _sendCompletionRequest)[_sendCompletionRequest](file, {
      key,
      uploadId,
      parts,
      signal
    }).abortOn(signal);
  }

  async resumeUploadFile(file, chunks, signal) {
    throwIfAborted(signal);
    const {
      uploadId,
      key
    } = await this.getUploadId(file, signal);
    throwIfAborted(signal);
    const alreadyUploadedParts = await _classPrivateFieldLooseBase(this, _listParts)[_listParts](file, {
      uploadId,
      key,
      signal
    }).abortOn(signal);
    throwIfAborted(signal);
    const parts = await Promise.all(chunks.map((chunk, i) => {
      const partNumber = i + 1;
      const alreadyUploadedInfo = alreadyUploadedParts.find(_ref => {
        let {
          PartNumber
        } = _ref;
        return PartNumber === partNumber;
      });
      return alreadyUploadedInfo == null ? this.uploadChunk(file, partNumber, chunk, signal) : {
        PartNumber: partNumber,
        ETag: alreadyUploadedInfo.ETag
      };
    }));
    throwIfAborted(signal);
    return _classPrivateFieldLooseBase(this, _sendCompletionRequest)[_sendCompletionRequest](file, {
      key,
      uploadId,
      parts,
      signal
    }).abortOn(signal);
  }

  async uploadChunk(file, partNumber, body, signal) {
    throwIfAborted(signal);
    const {
      uploadId,
      key
    } = await this.getUploadId(file, signal);
    throwIfAborted(signal);

    for (;;) {
      const signature = await _classPrivateFieldLooseBase(this, _fetchSignature)[_fetchSignature](file, {
        uploadId,
        key,
        partNumber,
        body,
        signal
      }).abortOn(signal);
      throwIfAborted(signal);

      try {
        return {
          PartNumber: partNumber,
          ...(await _classPrivateFieldLooseBase(this, _uploadPartBytes)[_uploadPartBytes](signature, body, signal).abortOn(signal))
        };
      } catch (err) {
        if (!(await _classPrivateFieldLooseBase(this, _shouldRetry)[_shouldRetry](err))) throw err;
      }
    }
  }

}

async function _shouldRetry2(err) {
  var _err$source;

  const requests = _classPrivateFieldLooseBase(this, _requests)[_requests];

  const status = err == null ? void 0 : (_err$source = err.source) == null ? void 0 : _err$source.status; // TODO: this retry logic is taken out of Tus. We should have a centralized place for retrying,
  // perhaps the rate limited queue, and dedupe all plugins with that.

  if (status == null) {
    return false;
  }

  if (status === 403 && err.message === 'Request has expired') {
    if (!requests.isPaused) {
      // We don't want to exhaust the retryDelayIterator as long as there are
      // more than one request in parallel, to give slower connection a chance
      // to catch up with the expiry set in Companion.
      if (requests.limit === 1 || _classPrivateFieldLooseBase(this, _previousRetryDelay)[_previousRetryDelay] == null) {
        var _classPrivateFieldLoo;

        const next = (_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _retryDelayIterator)[_retryDelayIterator]) == null ? void 0 : _classPrivateFieldLoo.next();

        if (next == null || next.done) {
          return false;
        } // If there are more than 1 request done in parallel, the RLQ limit is
        // decreased and the failed request is requeued after waiting for a bit.
        // If there is only one request in parallel, the limit can't be
        // decreased, so we iterate over `retryDelayIterator` as we do for
        // other failures.
        // `#previousRetryDelay` caches the value so we can re-use it next time.


        _classPrivateFieldLooseBase(this, _previousRetryDelay)[_previousRetryDelay] = next.value;
      } // No need to stop the other requests, we just want to lower the limit.


      requests.rateLimit(0);
      await new Promise(resolve => setTimeout(resolve, _classPrivateFieldLooseBase(this, _previousRetryDelay)[_previousRetryDelay]));
    }
  } else if (status === 429) {
    // HTTP 429 Too Many Requests => to avoid the whole download to fail, pause all requests.
    if (!requests.isPaused) {
      var _classPrivateFieldLoo2;

      const next = (_classPrivateFieldLoo2 = _classPrivateFieldLooseBase(this, _retryDelayIterator)[_retryDelayIterator]) == null ? void 0 : _classPrivateFieldLoo2.next();

      if (next == null || next.done) {
        return false;
      }

      requests.rateLimit(next.value);
    }
  } else if (status > 400 && status < 500 && status !== 409) {
    // HTTP 4xx, the server won't send anything, it's doesn't make sense to retry
    return false;
  } else if (typeof navigator !== 'undefined' && navigator.onLine === false) {
    // The navigator is offline, let's wait for it to come back online.
    if (!requests.isPaused) {
      requests.pause();
      window.addEventListener('online', () => {
        requests.resume();
      }, {
        once: true
      });
    }
  } else {
    var _classPrivateFieldLoo3;

    // Other error code means the request can be retried later.
    const next = (_classPrivateFieldLoo3 = _classPrivateFieldLooseBase(this, _retryDelayIterator)[_retryDelayIterator]) == null ? void 0 : _classPrivateFieldLoo3.next();

    if (next == null || next.done) {
      return false;
    }

    await new Promise(resolve => setTimeout(resolve, next.value));
  }

  return true;
}

var _queueRequestSocketToken = /*#__PURE__*/_classPrivateFieldLooseKey("queueRequestSocketToken");

var _companionCommunicationQueue = /*#__PURE__*/_classPrivateFieldLooseKey("companionCommunicationQueue");

var _client = /*#__PURE__*/_classPrivateFieldLooseKey("client");

var _setS3MultipartState2 = /*#__PURE__*/_classPrivateFieldLooseKey("setS3MultipartState");

var _requestSocketToken = /*#__PURE__*/_classPrivateFieldLooseKey("requestSocketToken");

var _setCompanionHeaders = /*#__PURE__*/_classPrivateFieldLooseKey("setCompanionHeaders");

_Symbol$for = Symbol.for('uppy test: getClient');
class AwsS3Multipart extends _uppy_core_lib_BasePlugin_js__WEBPACK_IMPORTED_MODULE_0__["default"] {
  constructor(uppy, _opts) {
    var _this$opts$rateLimite;

    super(uppy, _opts);
    Object.defineProperty(this, _queueRequestSocketToken, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _companionCommunicationQueue, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _client, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _setS3MultipartState2, {
      writable: true,
      value: (file, _ref2) => {
        let {
          key,
          uploadId
        } = _ref2;
        const cFile = this.uppy.getFile(file.id);
        this.uppy.setFileState(file.id, {
          s3Multipart: { ...cFile.s3Multipart,
            key,
            uploadId
          }
        });
      }
    });
    Object.defineProperty(this, _requestSocketToken, {
      writable: true,
      value: async file => {
        const Client = file.remote.providerOptions.provider ? _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__.Provider : _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__.RequestClient;
        const client = new Client(this.uppy, file.remote.providerOptions);
        const opts = { ...this.opts
        };

        if (file.tus) {
          // Install file-specific upload overrides.
          Object.assign(opts, file.tus);
        }

        if (file.remote.url == null) {
          throw new Error('Cannot connect to an undefined URL');
        }

        const res = await client.post(file.remote.url, { ...file.remote.body,
          protocol: 's3-multipart',
          size: file.data.size,
          metadata: file.meta
        });
        return res.token;
      }
    });
    Object.defineProperty(this, _setCompanionHeaders, {
      writable: true,
      value: () => {
        _classPrivateFieldLooseBase(this, _client)[_client].setCompanionHeaders(this.opts.companionHeaders);
      }
    });
    this.type = 'uploader';
    this.id = this.opts.id || 'AwsS3Multipart';
    this.title = 'AWS S3 Multipart';
    _classPrivateFieldLooseBase(this, _client)[_client] = new _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__.RequestClient(uppy, _opts);
    const defaultOptions = {
      // TODO: this is currently opt-in for backward compat, switch to opt-out in the next major
      allowedMetaFields: null,
      limit: 6,
      retryDelays: [0, 1000, 3000, 5000],
      createMultipartUpload: this.createMultipartUpload.bind(this),
      listParts: this.listParts.bind(this),
      abortMultipartUpload: this.abortMultipartUpload.bind(this),
      completeMultipartUpload: this.completeMultipartUpload.bind(this),
      signPart: this.signPart.bind(this),
      uploadPartBytes: AwsS3Multipart.uploadPartBytes,
      companionHeaders: {}
    };
    this.opts = { ...defaultOptions,
      ..._opts
    };

    if ((_opts == null ? void 0 : _opts.prepareUploadParts) != null && _opts.signPart == null) {
      this.opts.signPart = async (file, _ref3) => {
        let {
          uploadId,
          key,
          partNumber,
          body,
          signal
        } = _ref3;
        const {
          presignedUrls,
          headers
        } = await _opts.prepareUploadParts(file, {
          uploadId,
          key,
          parts: [{
            number: partNumber,
            chunk: body
          }],
          signal
        });
        return {
          url: presignedUrls == null ? void 0 : presignedUrls[partNumber],
          headers: headers == null ? void 0 : headers[partNumber]
        };
      };
    }

    this.upload = this.upload.bind(this);
    /**
     * Simultaneous upload limiting is shared across all uploads with this plugin.
     *
     * @type {RateLimitedQueue}
     */

    this.requests = (_this$opts$rateLimite = this.opts.rateLimitedQueue) != null ? _this$opts$rateLimite : new _uppy_utils_lib_RateLimitedQueue__WEBPACK_IMPORTED_MODULE_5__.RateLimitedQueue(this.opts.limit);
    _classPrivateFieldLooseBase(this, _companionCommunicationQueue)[_companionCommunicationQueue] = new HTTPCommunicationQueue(this.requests, this.opts, _classPrivateFieldLooseBase(this, _setS3MultipartState2)[_setS3MultipartState2]);
    this.uploaders = Object.create(null);
    this.uploaderEvents = Object.create(null);
    this.uploaderSockets = Object.create(null);
    _classPrivateFieldLooseBase(this, _queueRequestSocketToken)[_queueRequestSocketToken] = this.requests.wrapPromiseFunction(_classPrivateFieldLooseBase(this, _requestSocketToken)[_requestSocketToken], {
      priority: -1
    });
  }

  [_Symbol$for]() {
    return _classPrivateFieldLooseBase(this, _client)[_client];
  }

  setOptions(newOptions) {
    _classPrivateFieldLooseBase(this, _companionCommunicationQueue)[_companionCommunicationQueue].setOptions(newOptions);

    return super.setOptions(newOptions);
  }
  /**
   * Clean up all references for a file's upload: the MultipartUploader instance,
   * any events related to the file, and the Companion WebSocket connection.
   *
   * Set `opts.abort` to tell S3 that the multipart upload is cancelled and must be removed.
   * This should be done when the user cancels the upload, not when the upload is completed or errored.
   */


  resetUploaderReferences(fileID, opts) {
    if (opts === void 0) {
      opts = {};
    }

    if (this.uploaders[fileID]) {
      this.uploaders[fileID].abort({
        really: opts.abort || false
      });
      this.uploaders[fileID] = null;
    }

    if (this.uploaderEvents[fileID]) {
      this.uploaderEvents[fileID].remove();
      this.uploaderEvents[fileID] = null;
    }

    if (this.uploaderSockets[fileID]) {
      this.uploaderSockets[fileID].close();
      this.uploaderSockets[fileID] = null;
    }
  } // TODO: make this a private method in the next major


  assertHost(method) {
    if (!this.opts.companionUrl) {
      throw new Error(`Expected a \`companionUrl\` option containing a Companion address, or if you are not using Companion, a custom \`${method}\` implementation.`);
    }
  }

  createMultipartUpload(file, signal) {
    var _this$opts$allowedMet;

    this.assertHost('createMultipartUpload');
    throwIfAborted(signal);
    const metadata = file.meta ? Object.fromEntries(((_this$opts$allowedMet = this.opts.allowedMetaFields) != null ? _this$opts$allowedMet : Object.keys(file.meta)).filter(key => file.meta[key] != null).map(key => [key, String(file.meta[key])])) : {};
    return _classPrivateFieldLooseBase(this, _client)[_client].post('s3/multipart', {
      filename: file.name,
      type: file.type,
      metadata
    }, {
      signal
    }).then(assertServerError);
  }

  listParts(file, _ref4, signal) {
    let {
      key,
      uploadId
    } = _ref4;
    this.assertHost('listParts');
    throwIfAborted(signal);
    const filename = encodeURIComponent(key);
    return _classPrivateFieldLooseBase(this, _client)[_client].get(`s3/multipart/${uploadId}?key=${filename}`, {
      signal
    }).then(assertServerError);
  }

  completeMultipartUpload(file, _ref5, signal) {
    let {
      key,
      uploadId,
      parts
    } = _ref5;
    this.assertHost('completeMultipartUpload');
    throwIfAborted(signal);
    const filename = encodeURIComponent(key);
    const uploadIdEnc = encodeURIComponent(uploadId);
    return _classPrivateFieldLooseBase(this, _client)[_client].post(`s3/multipart/${uploadIdEnc}/complete?key=${filename}`, {
      parts
    }, {
      signal
    }).then(assertServerError);
  }

  signPart(file, _ref6) {
    let {
      uploadId,
      key,
      partNumber,
      signal
    } = _ref6;
    this.assertHost('signPart');
    throwIfAborted(signal);

    if (uploadId == null || key == null || partNumber == null) {
      throw new Error('Cannot sign without a key, an uploadId, and a partNumber');
    }

    const filename = encodeURIComponent(key);
    return _classPrivateFieldLooseBase(this, _client)[_client].get(`s3/multipart/${uploadId}/${partNumber}?key=${filename}`, {
      signal
    }).then(assertServerError);
  }

  abortMultipartUpload(file, _ref7, signal) {
    let {
      key,
      uploadId
    } = _ref7;
    this.assertHost('abortMultipartUpload');
    const filename = encodeURIComponent(key);
    const uploadIdEnc = encodeURIComponent(uploadId);
    return _classPrivateFieldLooseBase(this, _client)[_client].delete(`s3/multipart/${uploadIdEnc}?key=${filename}`, undefined, {
      signal
    }).then(assertServerError);
  }

  static async uploadPartBytes(_ref8, body, signal) {
    let {
      url,
      expires,
      headers
    } = _ref8;
    throwIfAborted(signal);

    if (url == null) {
      throw new Error('Cannot upload to an undefined URL');
    }

    return new Promise((resolve, reject) => {
      const xhr = new XMLHttpRequest();
      xhr.open('PUT', url, true);

      if (headers) {
        Object.keys(headers).forEach(key => {
          xhr.setRequestHeader(key, headers[key]);
        });
      }

      xhr.responseType = 'text';

      if (typeof expires === 'number') {
        xhr.timeout = expires * 1000;
      }

      function onabort() {
        xhr.abort();
      }

      function cleanup() {
        signal.removeEventListener('abort', onabort);
      }

      signal.addEventListener('abort', onabort);
      xhr.upload.addEventListener('progress', body.onProgress);
      xhr.addEventListener('abort', () => {
        cleanup();
        reject((0,_uppy_utils_lib_AbortController__WEBPACK_IMPORTED_MODULE_6__.createAbortError)());
      });
      xhr.addEventListener('timeout', () => {
        cleanup();
        const error = new Error('Request has expired');
        error.source = {
          status: 403
        };
        reject(error);
      });
      xhr.addEventListener('load', ev => {
        cleanup();

        if (ev.target.status === 403 && ev.target.responseText.includes('<Message>Request has expired</Message>')) {
          const error = new Error('Request has expired');
          error.source = ev.target;
          reject(error);
          return;
        }

        if (ev.target.status < 200 || ev.target.status >= 300) {
          const error = new Error('Non 2xx');
          error.source = ev.target;
          reject(error);
          return;
        }

        body.onProgress == null ? void 0 : body.onProgress(body.size); // NOTE This must be allowed by CORS.

        const etag = ev.target.getResponseHeader('ETag');

        if (etag === null) {
          reject(new Error('AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions.'));
          return;
        }

        body.onComplete == null ? void 0 : body.onComplete(etag);
        resolve({
          ETag: etag
        });
      });
      xhr.addEventListener('error', ev => {
        cleanup();
        const error = new Error('Unknown error');
        error.source = ev.target;
        reject(error);
      });
      xhr.send(body);
    });
  }

  uploadFile(file) {
    var _this = this;

    return new Promise((resolve, reject) => {
      const onProgress = (bytesUploaded, bytesTotal) => {
        this.uppy.emit('upload-progress', file, {
          uploader: this,
          bytesUploaded,
          bytesTotal
        });
      };

      const onError = err => {
        this.uppy.log(err);
        this.uppy.emit('upload-error', file, err);
        this.resetUploaderReferences(file.id);
        reject(err);
      };

      const onSuccess = result => {
        const uploadObject = upload; // eslint-disable-line no-use-before-define

        const uploadResp = {
          body: { ...result
          },
          uploadURL: result.location
        };
        this.resetUploaderReferences(file.id);
        const cFile = this.uppy.getFile(file.id);
        this.uppy.emit('upload-success', cFile || file, uploadResp);

        if (result.location) {
          this.uppy.log(`Download ${file.name} from ${result.location}`);
        }

        resolve(uploadObject);
      };

      const onPartComplete = part => {
        const cFile = this.uppy.getFile(file.id);

        if (!cFile) {
          return;
        }

        this.uppy.emit('s3-multipart:part-uploaded', cFile, part);
      };

      const upload = new _MultipartUploader_js__WEBPACK_IMPORTED_MODULE_7__["default"](file.data, {
        // .bind to pass the file object to each handler.
        companionComm: _classPrivateFieldLooseBase(this, _companionCommunicationQueue)[_companionCommunicationQueue],
        log: function () {
          return _this.uppy.log(...arguments);
        },
        getChunkSize: this.opts.getChunkSize ? this.opts.getChunkSize.bind(this) : null,
        onProgress,
        onError,
        onSuccess,
        onPartComplete,
        file,
        ...file.s3Multipart
      });
      this.uploaders[file.id] = upload;
      this.uploaderEvents[file.id] = new _uppy_utils_lib_EventTracker__WEBPACK_IMPORTED_MODULE_2__["default"](this.uppy);
      this.onFileRemove(file.id, removed => {
        upload.abort();
        this.resetUploaderReferences(file.id, {
          abort: true
        });
        resolve(`upload ${removed.id} was removed`);
      });
      this.onCancelAll(file.id, function (_temp) {
        let {
          reason
        } = _temp === void 0 ? {} : _temp;

        if (reason === 'user') {
          upload.abort();

          _this.resetUploaderReferences(file.id, {
            abort: true
          });
        }

        resolve(`upload ${file.id} was canceled`);
      });
      this.onFilePause(file.id, isPaused => {
        if (isPaused) {
          upload.pause();
        } else {
          upload.start();
        }
      });
      this.onPauseAll(file.id, () => {
        upload.pause();
      });
      this.onResumeAll(file.id, () => {
        upload.start();
      }); // Don't double-emit upload-started for Golden Retriever-restored files that were already started

      if (!file.progress.uploadStarted || !file.isRestored) {
        upload.start();
        this.uppy.emit('upload-started', file);
      }
    });
  }

  // NOTE! Keep this duplicated code in sync with other plugins
  // TODO we should probably abstract this into a common function
  async uploadRemote(file) {
    this.resetUploaderReferences(file.id); // Don't double-emit upload-started for Golden Retriever-restored files that were already started

    if (!file.progress.uploadStarted || !file.isRestored) {
      this.uppy.emit('upload-started', file);
    }

    try {
      if (file.serverToken) {
        return await this.connectToServerSocket(file);
      }

      const serverToken = await _classPrivateFieldLooseBase(this, _queueRequestSocketToken)[_queueRequestSocketToken](file);
      if (!this.uppy.getState().files[file.id]) return undefined;
      this.uppy.setFileState(file.id, {
        serverToken
      });
      return await this.connectToServerSocket(this.uppy.getFile(file.id));
    } catch (err) {
      this.uppy.setFileState(file.id, {
        serverToken: undefined
      });
      this.uppy.emit('upload-error', file, err);
      throw err;
    }
  }

  async connectToServerSocket(file) {
    var _this2 = this;

    return new Promise((resolve, reject) => {
      let queuedRequest;
      const token = file.serverToken;
      const host = (0,_uppy_utils_lib_getSocketHost__WEBPACK_IMPORTED_MODULE_4__["default"])(file.remote.companionUrl);
      const socket = new _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__.Socket({
        target: `${host}/api/${token}`,
        autoOpen: false
      });
      this.uploaderSockets[file.id] = socket;
      this.uploaderEvents[file.id] = new _uppy_utils_lib_EventTracker__WEBPACK_IMPORTED_MODULE_2__["default"](this.uppy);
      this.onFileRemove(file.id, () => {
        queuedRequest.abort();
        socket.send('cancel', {});
        this.resetUploaderReferences(file.id, {
          abort: true
        });
        resolve(`upload ${file.id} was removed`);
      });
      this.onFilePause(file.id, isPaused => {
        if (isPaused) {
          // Remove this file from the queue so another file can start in its place.
          queuedRequest.abort();
          socket.send('pause', {});
        } else {
          // Resuming an upload should be queued, else you could pause and then
          // resume a queued upload to make it skip the queue.
          queuedRequest.abort();
          queuedRequest = this.requests.run(() => {
            socket.open();
            socket.send('resume', {});
            return () => socket.close();
          });
        }
      });
      this.onPauseAll(file.id, () => {
        queuedRequest.abort();
        socket.send('pause', {});
      });
      this.onCancelAll(file.id, function (_temp2) {
        let {
          reason
        } = _temp2 === void 0 ? {} : _temp2;

        if (reason === 'user') {
          queuedRequest.abort();
          socket.send('cancel', {});

          _this2.resetUploaderReferences(file.id);
        }

        resolve(`upload ${file.id} was canceled`);
      });
      this.onResumeAll(file.id, () => {
        queuedRequest.abort();

        if (file.error) {
          socket.send('pause', {});
        }

        queuedRequest = this.requests.run(() => {
          socket.open();
          socket.send('resume', {});
          return () => socket.close();
        });
      });
      this.onRetry(file.id, () => {
        // Only do the retry if the upload is actually in progress;
        // else we could try to send these messages when the upload is still queued.
        // We may need a better check for this since the socket may also be closed
        // for other reasons, like network failures.
        if (socket.isOpen) {
          socket.send('pause', {});
          socket.send('resume', {});
        }
      });
      this.onRetryAll(file.id, () => {
        if (socket.isOpen) {
          socket.send('pause', {});
          socket.send('resume', {});
        }
      });
      socket.on('progress', progressData => (0,_uppy_utils_lib_emitSocketProgress__WEBPACK_IMPORTED_MODULE_3__["default"])(this, progressData, file));
      socket.on('error', errData => {
        this.uppy.emit('upload-error', file, new Error(errData.error));
        this.resetUploaderReferences(file.id);
        queuedRequest.done();
        reject(new Error(errData.error));
      });
      socket.on('success', data => {
        const uploadResp = {
          uploadURL: data.url
        };
        this.uppy.emit('upload-success', file, uploadResp);
        this.resetUploaderReferences(file.id);
        queuedRequest.done();
        resolve();
      });
      queuedRequest = this.requests.run(() => {
        if (file.isPaused) {
          socket.send('pause', {});
        } else {
          socket.open();
        }

        return () => socket.close();
      });
    });
  }

  async upload(fileIDs) {
    if (fileIDs.length === 0) return undefined;
    const promises = fileIDs.map(id => {
      const file = this.uppy.getFile(id);

      if (file.isRemote) {
        return this.uploadRemote(file);
      }

      return this.uploadFile(file);
    });
    return Promise.all(promises);
  }

  onFileRemove(fileID, cb) {
    this.uploaderEvents[fileID].on('file-removed', file => {
      if (fileID === file.id) cb(file.id);
    });
  }

  onFilePause(fileID, cb) {
    this.uploaderEvents[fileID].on('upload-pause', (targetFileID, isPaused) => {
      if (fileID === targetFileID) {
        cb(isPaused);
      }
    });
  }

  onRetry(fileID, cb) {
    this.uploaderEvents[fileID].on('upload-retry', targetFileID => {
      if (fileID === targetFileID) {
        cb();
      }
    });
  }

  onRetryAll(fileID, cb) {
    this.uploaderEvents[fileID].on('retry-all', () => {
      if (!this.uppy.getFile(fileID)) return;
      cb();
    });
  }

  onPauseAll(fileID, cb) {
    this.uploaderEvents[fileID].on('pause-all', () => {
      if (!this.uppy.getFile(fileID)) return;
      cb();
    });
  }

  onCancelAll(fileID, eventHandler) {
    var _this3 = this;

    this.uploaderEvents[fileID].on('cancel-all', function () {
      if (!_this3.uppy.getFile(fileID)) return;
      eventHandler(...arguments);
    });
  }

  onResumeAll(fileID, cb) {
    this.uploaderEvents[fileID].on('resume-all', () => {
      if (!this.uppy.getFile(fileID)) return;
      cb();
    });
  }

  install() {
    const {
      capabilities
    } = this.uppy.getState();
    this.uppy.setState({
      capabilities: { ...capabilities,
        resumableUploads: true
      }
    });
    this.uppy.addPreProcessor(_classPrivateFieldLooseBase(this, _setCompanionHeaders)[_setCompanionHeaders]);
    this.uppy.addUploader(this.upload);
  }

  uninstall() {
    const {
      capabilities
    } = this.uppy.getState();
    this.uppy.setState({
      capabilities: { ...capabilities,
        resumableUploads: false
      }
    });
    this.uppy.removePreProcessor(_classPrivateFieldLooseBase(this, _setCompanionHeaders)[_setCompanionHeaders]);
    this.uppy.removeUploader(this.upload);
  }

}
AwsS3Multipart.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/companion-client/lib/AuthError.js":
/*!**************************************************************!*\
  !*** ./node_modules/@uppy/companion-client/lib/AuthError.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });


class AuthError extends Error {
  constructor() {
    super('Authorization required');
    this.name = 'AuthError';
    this.isAuthError = true;
  }

}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AuthError);

/***/ }),

/***/ "./node_modules/@uppy/companion-client/lib/Provider.js":
/*!*************************************************************!*\
  !*** ./node_modules/@uppy/companion-client/lib/Provider.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Provider)
/* harmony export */ });
/* harmony import */ var _RequestClient_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RequestClient.js */ "./node_modules/@uppy/companion-client/lib/RequestClient.js");
/* harmony import */ var _tokenStorage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tokenStorage.js */ "./node_modules/@uppy/companion-client/lib/tokenStorage.js");





const getName = id => {
  return id.split('-').map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(' ');
};

class Provider extends _RequestClient_js__WEBPACK_IMPORTED_MODULE_0__["default"] {
  constructor(uppy, opts) {
    super(uppy, opts);
    this.provider = opts.provider;
    this.id = this.provider;
    this.name = this.opts.name || getName(this.id);
    this.pluginId = this.opts.pluginId;
    this.tokenKey = `companion-${this.pluginId}-auth-token`;
    this.companionKeysParams = this.opts.companionKeysParams;
    this.preAuthToken = null;
  }

  async headers() {
    const [headers, token] = await Promise.all([super.headers(), this.getAuthToken()]);
    const authHeaders = {};

    if (token) {
      authHeaders['uppy-auth-token'] = token;
    }

    if (this.companionKeysParams) {
      authHeaders['uppy-credentials-params'] = btoa(JSON.stringify({
        params: this.companionKeysParams
      }));
    }

    return { ...headers,
      ...authHeaders
    };
  }

  onReceiveResponse(response) {
    super.onReceiveResponse(response);
    const plugin = this.uppy.getPlugin(this.pluginId);
    const oldAuthenticated = plugin.getPluginState().authenticated;
    const authenticated = oldAuthenticated ? response.status !== 401 : response.status < 400;
    plugin.setPluginState({
      authenticated
    });
    return response;
  }

  setAuthToken(token) {
    return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey, token);
  }

  getAuthToken() {
    return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey);
  }
  /**
   * Ensure we have a preauth token if necessary. Attempts to fetch one if we don't,
   * or rejects if loading one fails.
   */


  async ensurePreAuth() {
    if (this.companionKeysParams && !this.preAuthToken) {
      await this.fetchPreAuthToken();

      if (!this.preAuthToken) {
        throw new Error('Could not load authentication data required for third-party login. Please try again later.');
      }
    }
  }

  authUrl(queries) {
    if (queries === void 0) {
      queries = {};
    }

    const params = new URLSearchParams(queries);

    if (this.preAuthToken) {
      params.set('uppyPreAuthToken', this.preAuthToken);
    }

    return `${this.hostname}/${this.id}/connect?${params}`;
  }

  fileUrl(id) {
    return `${this.hostname}/${this.id}/get/${id}`;
  }

  async fetchPreAuthToken() {
    if (!this.companionKeysParams) {
      return;
    }

    try {
      const res = await this.post(`${this.id}/preauth/`, {
        params: this.companionKeysParams
      });
      this.preAuthToken = res.token;
    } catch (err) {
      this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${err}`, 'warning');
    }
  }

  list(directory) {
    return this.get(`${this.id}/list/${directory || ''}`);
  }

  logout() {
    return this.get(`${this.id}/logout`).then(response => Promise.all([response, this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)])).then(_ref => {
      let [response] = _ref;
      return response;
    });
  }

  static initPlugin(plugin, opts, defaultOpts) {
    /* eslint-disable no-param-reassign */
    plugin.type = 'acquirer';
    plugin.files = [];

    if (defaultOpts) {
      plugin.opts = { ...defaultOpts,
        ...opts
      };
    }

    if (opts.serverUrl || opts.serverPattern) {
      throw new Error('`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`');
    }

    if (opts.companionAllowedHosts) {
      const pattern = opts.companionAllowedHosts; // validate companionAllowedHosts param

      if (typeof pattern !== 'string' && !Array.isArray(pattern) && !(pattern instanceof RegExp)) {
        throw new TypeError(`${plugin.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);
      }

      plugin.opts.companionAllowedHosts = pattern;
    } else if (/^(?!https?:\/\/).*$/i.test(opts.companionUrl)) {
      // does not start with https://
      plugin.opts.companionAllowedHosts = `https://${opts.companionUrl.replace(/^\/\//, '')}`;
    } else {
      plugin.opts.companionAllowedHosts = new URL(opts.companionUrl).origin;
    }

    plugin.storage = plugin.opts.storage || _tokenStorage_js__WEBPACK_IMPORTED_MODULE_1__;
    /* eslint-enable no-param-reassign */
  }

}

/***/ }),

/***/ "./node_modules/@uppy/companion-client/lib/RequestClient.js":
/*!******************************************************************!*\
  !*** ./node_modules/@uppy/companion-client/lib/RequestClient.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ RequestClient)
/* harmony export */ });
/* harmony import */ var _uppy_utils_lib_fetchWithNetworkError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/utils/lib/fetchWithNetworkError */ "./node_modules/@uppy/utils/lib/fetchWithNetworkError.js");
/* harmony import */ var _uppy_utils_lib_ErrorWithCause__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/utils/lib/ErrorWithCause */ "./node_modules/@uppy/utils/lib/ErrorWithCause.js");
/* harmony import */ var _AuthError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AuthError.js */ "./node_modules/@uppy/companion-client/lib/AuthError.js");


let _Symbol$for;

function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }




const packageJson = {
  "version": "3.1.2"
}; // Remove the trailing slash so we can always safely append /xyz.

function stripSlash(url) {
  return url.replace(/\/$/, '');
}

async function handleJSONResponse(res) {
  if (res.status === 401) {
    throw new _AuthError_js__WEBPACK_IMPORTED_MODULE_2__["default"]();
  }

  const jsonPromise = res.json();

  if (res.ok) {
    return jsonPromise;
  }

  let errMsg = `Failed request with status: ${res.status}. ${res.statusText}`;

  try {
    const errData = await jsonPromise;
    errMsg = errData.message ? `${errMsg} message: ${errData.message}` : errMsg;
    errMsg = errData.requestId ? `${errMsg} request-Id: ${errData.requestId}` : errMsg;
  } catch {
    /* if the response contains invalid JSON, let's ignore the error */
  }

  throw new Error(errMsg);
} // todo pull out into core instead?


const allowedHeadersCache = new Map();

var _companionHeaders = /*#__PURE__*/_classPrivateFieldLooseKey("companionHeaders");

var _getUrl = /*#__PURE__*/_classPrivateFieldLooseKey("getUrl");

var _request = /*#__PURE__*/_classPrivateFieldLooseKey("request");

_Symbol$for = Symbol.for('uppy test: getCompanionHeaders');
class RequestClient {
  constructor(uppy, opts) {
    Object.defineProperty(this, _request, {
      value: _request2
    });
    Object.defineProperty(this, _getUrl, {
      value: _getUrl2
    });
    Object.defineProperty(this, _companionHeaders, {
      writable: true,
      value: void 0
    });
    this.uppy = uppy;
    this.opts = opts;
    this.onReceiveResponse = this.onReceiveResponse.bind(this);
    _classPrivateFieldLooseBase(this, _companionHeaders)[_companionHeaders] = opts == null ? void 0 : opts.companionHeaders;
  }

  setCompanionHeaders(headers) {
    _classPrivateFieldLooseBase(this, _companionHeaders)[_companionHeaders] = headers;
  }

  [_Symbol$for]() {
    return _classPrivateFieldLooseBase(this, _companionHeaders)[_companionHeaders];
  }

  get hostname() {
    const {
      companion
    } = this.uppy.getState();
    const host = this.opts.companionUrl;
    return stripSlash(companion && companion[host] ? companion[host] : host);
  }

  async headers() {
    const defaultHeaders = {
      Accept: 'application/json',
      'Content-Type': 'application/json',
      'Uppy-Versions': `@uppy/companion-client=${RequestClient.VERSION}`
    };
    return { ...defaultHeaders,
      ..._classPrivateFieldLooseBase(this, _companionHeaders)[_companionHeaders]
    };
  }

  onReceiveResponse(_ref) {
    let {
      headers
    } = _ref;
    const state = this.uppy.getState();
    const companion = state.companion || {};
    const host = this.opts.companionUrl; // Store the self-identified domain name for the Companion instance we just hit.

    if (headers.has('i-am') && headers.get('i-am') !== companion[host]) {
      this.uppy.setState({
        companion: { ...companion,
          [host]: headers.get('i-am')
        }
      });
    }
  }

  /*
    Preflight was added to avoid breaking change between older Companion-client versions and
    newer Companion versions and vice-versa. Usually the break will manifest via CORS errors because a
    version of companion-client could be sending certain headers to a version of Companion server that
    does not support those headers. In which case, the default preflight would lead to CORS.
    So to avoid those errors, we do preflight ourselves, to see what headers the Companion server
    we are communicating with allows. And based on that, companion-client knows what headers to
    send and what headers to not send.
     The preflight only happens once throughout the life-cycle of a certain
    Companion-client <-> Companion-server pair (allowedHeadersCache).
    Subsequent requests use the cached result of the preflight.
    However if there is an error retrieving the allowed headers, we will try again next time
  */
  async preflight(path) {
    const allowedHeadersCached = allowedHeadersCache.get(this.hostname);
    if (allowedHeadersCached != null) return allowedHeadersCached;
    const fallbackAllowedHeaders = ['accept', 'content-type', 'uppy-auth-token'];

    const promise = (async () => {
      try {
        const response = await fetch(_classPrivateFieldLooseBase(this, _getUrl)[_getUrl](path), {
          method: 'OPTIONS'
        });
        const header = response.headers.get('access-control-allow-headers');

        if (header == null || header === '*') {
          allowedHeadersCache.set(this.hostname, fallbackAllowedHeaders);
          return fallbackAllowedHeaders;
        }

        this.uppy.log(`[CompanionClient] adding allowed preflight headers to companion cache: ${this.hostname} ${header}`);
        const allowedHeaders = header.split(',').map(headerName => headerName.trim().toLowerCase());
        allowedHeadersCache.set(this.hostname, allowedHeaders);
        return allowedHeaders;
      } catch (err) {
        this.uppy.log(`[CompanionClient] unable to make preflight request ${err}`, 'warning'); // If the user gets a network error or similar, we should try preflight
        // again next time, or else we might get incorrect behaviour.

        allowedHeadersCache.delete(this.hostname); // re-fetch next time

        return fallbackAllowedHeaders;
      }
    })();

    allowedHeadersCache.set(this.hostname, promise);
    return promise;
  }

  async preflightAndHeaders(path) {
    const [allowedHeaders, headers] = await Promise.all([this.preflight(path), this.headers()]); // filter to keep only allowed Headers

    return Object.fromEntries(Object.entries(headers).filter(_ref2 => {
      let [header] = _ref2;

      if (!allowedHeaders.includes(header.toLowerCase())) {
        this.uppy.log(`[CompanionClient] excluding disallowed header ${header}`);
        return false;
      }

      return true;
    }));
  }

  async get(path, options) {
    if (options === void 0) {
      options = undefined;
    }

    // TODO: remove boolean support for options that was added for backward compatibility.
    // eslint-disable-next-line no-param-reassign
    if (typeof options === 'boolean') options = {
      skipPostResponse: options
    };
    return _classPrivateFieldLooseBase(this, _request)[_request]({ ...options,
      path
    });
  }

  async post(path, data, options) {
    if (options === void 0) {
      options = undefined;
    }

    // TODO: remove boolean support for options that was added for backward compatibility.
    // eslint-disable-next-line no-param-reassign
    if (typeof options === 'boolean') options = {
      skipPostResponse: options
    };
    return _classPrivateFieldLooseBase(this, _request)[_request]({ ...options,
      path,
      method: 'POST',
      data
    });
  }

  async delete(path, data, options) {
    if (data === void 0) {
      data = undefined;
    }

    // TODO: remove boolean support for options that was added for backward compatibility.
    // eslint-disable-next-line no-param-reassign
    if (typeof options === 'boolean') options = {
      skipPostResponse: options
    };
    return _classPrivateFieldLooseBase(this, _request)[_request]({ ...options,
      path,
      method: 'DELETE',
      data
    });
  }

}

function _getUrl2(url) {
  if (/^(https?:|)\/\//.test(url)) {
    return url;
  }

  return `${this.hostname}/${url}`;
}

async function _request2(_ref3) {
  let {
    path,
    method = 'GET',
    data,
    skipPostResponse,
    signal
  } = _ref3;

  try {
    const headers = await this.preflightAndHeaders(path);
    const response = await (0,_uppy_utils_lib_fetchWithNetworkError__WEBPACK_IMPORTED_MODULE_0__["default"])(_classPrivateFieldLooseBase(this, _getUrl)[_getUrl](path), {
      method,
      signal,
      headers,
      credentials: this.opts.companionCookiesRule || 'same-origin',
      body: data ? JSON.stringify(data) : null
    });
    if (!skipPostResponse) this.onReceiveResponse(response);
    return handleJSONResponse(response);
  } catch (err) {
    if (err != null && err.isAuthError) throw err;
    throw new _uppy_utils_lib_ErrorWithCause__WEBPACK_IMPORTED_MODULE_1__["default"](`Could not ${method} ${_classPrivateFieldLooseBase(this, _getUrl)[_getUrl](path)}`, {
      cause: err
    });
  }
}

RequestClient.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/companion-client/lib/SearchProvider.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@uppy/companion-client/lib/SearchProvider.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchProvider)
/* harmony export */ });
/* harmony import */ var _RequestClient_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RequestClient.js */ "./node_modules/@uppy/companion-client/lib/RequestClient.js");




const getName = id => {
  return id.split('-').map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(' ');
};

class SearchProvider extends _RequestClient_js__WEBPACK_IMPORTED_MODULE_0__["default"] {
  constructor(uppy, opts) {
    super(uppy, opts);
    this.provider = opts.provider;
    this.id = this.provider;
    this.name = this.opts.name || getName(this.id);
    this.pluginId = this.opts.pluginId;
  }

  fileUrl(id) {
    return `${this.hostname}/search/${this.id}/get/${id}`;
  }

  search(text, queries) {
    return this.get(`search/${this.id}/list?q=${encodeURIComponent(text)}${queries ? `&${queries}` : ''}`);
  }

}

/***/ }),

/***/ "./node_modules/@uppy/companion-client/lib/Socket.js":
/*!***********************************************************!*\
  !*** ./node_modules/@uppy/companion-client/lib/Socket.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ UppySocket)
/* harmony export */ });
/* harmony import */ var namespace_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! namespace-emitter */ "./node_modules/namespace-emitter/index.js");
let _Symbol$for, _Symbol$for2;

function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }



var _queued = /*#__PURE__*/_classPrivateFieldLooseKey("queued");

var _emitter = /*#__PURE__*/_classPrivateFieldLooseKey("emitter");

var _isOpen = /*#__PURE__*/_classPrivateFieldLooseKey("isOpen");

var _socket = /*#__PURE__*/_classPrivateFieldLooseKey("socket");

var _handleMessage = /*#__PURE__*/_classPrivateFieldLooseKey("handleMessage");

_Symbol$for = Symbol.for('uppy test: getSocket');
_Symbol$for2 = Symbol.for('uppy test: getQueued');
class UppySocket {
  constructor(opts) {
    Object.defineProperty(this, _queued, {
      writable: true,
      value: []
    });
    Object.defineProperty(this, _emitter, {
      writable: true,
      value: namespace_emitter__WEBPACK_IMPORTED_MODULE_0__()
    });
    Object.defineProperty(this, _isOpen, {
      writable: true,
      value: false
    });
    Object.defineProperty(this, _socket, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _handleMessage, {
      writable: true,
      value: e => {
        try {
          const message = JSON.parse(e.data);
          this.emit(message.action, message.payload);
        } catch (err) {
          // TODO: use a more robust error handler.
          console.log(err); // eslint-disable-line no-console
        }
      }
    });
    this.opts = opts;

    if (!opts || opts.autoOpen !== false) {
      this.open();
    }
  }

  get isOpen() {
    return _classPrivateFieldLooseBase(this, _isOpen)[_isOpen];
  }

  [_Symbol$for]() {
    return _classPrivateFieldLooseBase(this, _socket)[_socket];
  }

  [_Symbol$for2]() {
    return _classPrivateFieldLooseBase(this, _queued)[_queued];
  }

  open() {
    if (_classPrivateFieldLooseBase(this, _socket)[_socket] != null) return;
    _classPrivateFieldLooseBase(this, _socket)[_socket] = new WebSocket(this.opts.target);

    _classPrivateFieldLooseBase(this, _socket)[_socket].onopen = () => {
      _classPrivateFieldLooseBase(this, _isOpen)[_isOpen] = true;

      while (_classPrivateFieldLooseBase(this, _queued)[_queued].length > 0 && _classPrivateFieldLooseBase(this, _isOpen)[_isOpen]) {
        const first = _classPrivateFieldLooseBase(this, _queued)[_queued].shift();

        this.send(first.action, first.payload);
      }
    };

    _classPrivateFieldLooseBase(this, _socket)[_socket].onclose = () => {
      _classPrivateFieldLooseBase(this, _isOpen)[_isOpen] = false;
      _classPrivateFieldLooseBase(this, _socket)[_socket] = null;
    };

    _classPrivateFieldLooseBase(this, _socket)[_socket].onmessage = _classPrivateFieldLooseBase(this, _handleMessage)[_handleMessage];
  }

  close() {
    var _classPrivateFieldLoo;

    (_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _socket)[_socket]) == null ? void 0 : _classPrivateFieldLoo.close();
  }

  send(action, payload) {
    // attach uuid
    if (!_classPrivateFieldLooseBase(this, _isOpen)[_isOpen]) {
      _classPrivateFieldLooseBase(this, _queued)[_queued].push({
        action,
        payload
      });

      return;
    }

    _classPrivateFieldLooseBase(this, _socket)[_socket].send(JSON.stringify({
      action,
      payload
    }));
  }

  on(action, handler) {
    _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(action, handler);
  }

  emit(action, payload) {
    _classPrivateFieldLooseBase(this, _emitter)[_emitter].emit(action, payload);
  }

  once(action, handler) {
    _classPrivateFieldLooseBase(this, _emitter)[_emitter].once(action, handler);
  }

}

/***/ }),

/***/ "./node_modules/@uppy/companion-client/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@uppy/companion-client/lib/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Provider": () => (/* reexport safe */ _Provider_js__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "RequestClient": () => (/* reexport safe */ _RequestClient_js__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "SearchProvider": () => (/* reexport safe */ _SearchProvider_js__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "Socket": () => (/* reexport safe */ _Socket_js__WEBPACK_IMPORTED_MODULE_3__["default"])
/* harmony export */ });
/* harmony import */ var _RequestClient_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RequestClient.js */ "./node_modules/@uppy/companion-client/lib/RequestClient.js");
/* harmony import */ var _Provider_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Provider.js */ "./node_modules/@uppy/companion-client/lib/Provider.js");
/* harmony import */ var _SearchProvider_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SearchProvider.js */ "./node_modules/@uppy/companion-client/lib/SearchProvider.js");
/* harmony import */ var _Socket_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Socket.js */ "./node_modules/@uppy/companion-client/lib/Socket.js");

/**
 * Manages communications with Companion
 */






/***/ }),

/***/ "./node_modules/@uppy/companion-client/lib/tokenStorage.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@uppy/companion-client/lib/tokenStorage.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getItem": () => (/* binding */ getItem),
/* harmony export */   "removeItem": () => (/* binding */ removeItem),
/* harmony export */   "setItem": () => (/* binding */ setItem)
/* harmony export */ });

/**
 * This module serves as an Async wrapper for LocalStorage
 */

function setItem(key, value) {
  return new Promise(resolve => {
    localStorage.setItem(key, value);
    resolve();
  });
}
function getItem(key) {
  return Promise.resolve(localStorage.getItem(key));
}
function removeItem(key) {
  return new Promise(resolve => {
    localStorage.removeItem(key);
    resolve();
  });
}

/***/ }),

/***/ "./node_modules/@uppy/core/lib/BasePlugin.js":
/*!***************************************************!*\
  !*** ./node_modules/@uppy/core/lib/BasePlugin.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ BasePlugin)
/* harmony export */ });
/* harmony import */ var _uppy_utils_lib_Translator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/utils/lib/Translator */ "./node_modules/@uppy/utils/lib/Translator.js");
/**
 * Core plugin logic that all plugins share.
 *
 * BasePlugin does not contain DOM rendering so it can be used for plugins
 * without a user interface.
 *
 * See `Plugin` for the extended version with Preact rendering for interfaces.
 */

class BasePlugin {
  constructor(uppy, opts) {
    if (opts === void 0) {
      opts = {};
    }

    this.uppy = uppy;
    this.opts = opts;
  }

  getPluginState() {
    const {
      plugins
    } = this.uppy.getState();
    return plugins[this.id] || {};
  }

  setPluginState(update) {
    const {
      plugins
    } = this.uppy.getState();
    this.uppy.setState({
      plugins: { ...plugins,
        [this.id]: { ...plugins[this.id],
          ...update
        }
      }
    });
  }

  setOptions(newOpts) {
    this.opts = { ...this.opts,
      ...newOpts
    };
    this.setPluginState(); // so that UI re-renders with new options

    this.i18nInit();
  }

  i18nInit() {
    const translator = new _uppy_utils_lib_Translator__WEBPACK_IMPORTED_MODULE_0__["default"]([this.defaultLocale, this.uppy.locale, this.opts.locale]);
    this.i18n = translator.translate.bind(translator);
    this.i18nArray = translator.translateArray.bind(translator);
    this.setPluginState(); // so that UI re-renders and we see the updated locale
  }
  /**
   * Extendable methods
   * ==================
   * These methods are here to serve as an overview of the extendable methods as well as
   * making them not conditional in use, such as `if (this.afterUpdate)`.
   */
  // eslint-disable-next-line class-methods-use-this


  addTarget() {
    throw new Error('Extend the addTarget method to add your plugin to another plugin\'s target');
  } // eslint-disable-next-line class-methods-use-this


  install() {} // eslint-disable-next-line class-methods-use-this


  uninstall() {}
  /**
   * Called when plugin is mounted, whether in DOM or into another plugin.
   * Needed because sometimes plugins are mounted separately/after `install`,
   * so this.el and this.parent might not be available in `install`.
   * This is the case with @uppy/react plugins, for example.
   */


  render() {
    throw new Error('Extend the render method to add your plugin to a DOM element');
  } // eslint-disable-next-line class-methods-use-this


  update() {} // Called after every state update, after everything's mounted. Debounced.
  // eslint-disable-next-line class-methods-use-this


  afterUpdate() {}

}

/***/ }),

/***/ "./node_modules/@uppy/core/lib/Restricter.js":
/*!***************************************************!*\
  !*** ./node_modules/@uppy/core/lib/Restricter.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Restricter": () => (/* binding */ Restricter),
/* harmony export */   "RestrictionError": () => (/* binding */ RestrictionError),
/* harmony export */   "defaultOptions": () => (/* binding */ defaultOptions)
/* harmony export */ });
/* harmony import */ var _transloadit_prettier_bytes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @transloadit/prettier-bytes */ "./node_modules/@transloadit/prettier-bytes/prettierBytes.js");
/* harmony import */ var mime_match__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mime-match */ "./node_modules/mime-match/index.js");
/* eslint-disable max-classes-per-file, class-methods-use-this */


const defaultOptions = {
  maxFileSize: null,
  minFileSize: null,
  maxTotalFileSize: null,
  maxNumberOfFiles: null,
  minNumberOfFiles: null,
  allowedFileTypes: null,
  requiredMetaFields: []
};

class RestrictionError extends Error {
  constructor() {
    super(...arguments);
    this.isRestriction = true;
  }

}

class Restricter {
  constructor(getOpts, i18n) {
    this.i18n = i18n;

    this.getOpts = () => {
      const opts = getOpts();

      if (opts.restrictions.allowedFileTypes != null && !Array.isArray(opts.restrictions.allowedFileTypes)) {
        throw new TypeError('`restrictions.allowedFileTypes` must be an array');
      }

      return opts;
    };
  }

  validate(file, files) {
    const {
      maxFileSize,
      minFileSize,
      maxTotalFileSize,
      maxNumberOfFiles,
      allowedFileTypes
    } = this.getOpts().restrictions;

    if (maxNumberOfFiles) {
      const nonGhostFiles = files.filter(f => !f.isGhost);

      if (nonGhostFiles.length + 1 > maxNumberOfFiles) {
        throw new RestrictionError(`${this.i18n('youCanOnlyUploadX', {
          smart_count: maxNumberOfFiles
        })}`);
      }
    }

    if (allowedFileTypes) {
      const isCorrectFileType = allowedFileTypes.some(type => {
        // check if this is a mime-type
        if (type.includes('/')) {
          if (!file.type) return false;
          return mime_match__WEBPACK_IMPORTED_MODULE_1__(file.type.replace(/;.*?$/, ''), type);
        } // otherwise this is likely an extension


        if (type[0] === '.' && file.extension) {
          return file.extension.toLowerCase() === type.slice(1).toLowerCase();
        }

        return false;
      });

      if (!isCorrectFileType) {
        const allowedFileTypesString = allowedFileTypes.join(', ');
        throw new RestrictionError(this.i18n('youCanOnlyUploadFileTypes', {
          types: allowedFileTypesString
        }));
      }
    } // We can't check maxTotalFileSize if the size is unknown.


    if (maxTotalFileSize && file.size != null) {
      const totalFilesSize = files.reduce((total, f) => total + f.size, file.size);

      if (totalFilesSize > maxTotalFileSize) {
        throw new RestrictionError(this.i18n('exceedsSize', {
          size: _transloadit_prettier_bytes__WEBPACK_IMPORTED_MODULE_0__(maxTotalFileSize),
          file: file.name
        }));
      }
    } // We can't check maxFileSize if the size is unknown.


    if (maxFileSize && file.size != null && file.size > maxFileSize) {
      throw new RestrictionError(this.i18n('exceedsSize', {
        size: _transloadit_prettier_bytes__WEBPACK_IMPORTED_MODULE_0__(maxFileSize),
        file: file.name
      }));
    } // We can't check minFileSize if the size is unknown.


    if (minFileSize && file.size != null && file.size < minFileSize) {
      throw new RestrictionError(this.i18n('inferiorSize', {
        size: _transloadit_prettier_bytes__WEBPACK_IMPORTED_MODULE_0__(minFileSize)
      }));
    }
  }

  validateMinNumberOfFiles(files) {
    const {
      minNumberOfFiles
    } = this.getOpts().restrictions;

    if (Object.keys(files).length < minNumberOfFiles) {
      throw new RestrictionError(this.i18n('youHaveToAtLeastSelectX', {
        smart_count: minNumberOfFiles
      }));
    }
  }

  getMissingRequiredMetaFields(file) {
    const error = new RestrictionError(this.i18n('missingRequiredMetaFieldOnFile', {
      fileName: file.name
    }));
    const {
      requiredMetaFields
    } = this.getOpts().restrictions;
    const missingFields = [];

    for (const field of requiredMetaFields) {
      if (!Object.hasOwn(file.meta, field) || file.meta[field] === '') {
        missingFields.push(field);
      }
    }

    return {
      missingFields,
      error
    };
  }

}



/***/ }),

/***/ "./node_modules/@uppy/core/lib/UIPlugin.js":
/*!*************************************************!*\
  !*** ./node_modules/@uppy/core/lib/UIPlugin.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _uppy_utils_lib_findDOMElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/utils/lib/findDOMElement */ "./node_modules/@uppy/utils/lib/findDOMElement.js");
/* harmony import */ var _uppy_utils_lib_getTextDirection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/utils/lib/getTextDirection */ "./node_modules/@uppy/utils/lib/getTextDirection.js");
/* harmony import */ var _BasePlugin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BasePlugin.js */ "./node_modules/@uppy/core/lib/BasePlugin.js");
function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }





/**
 * Defer a frequent call to the microtask queue.
 *
 * @param {() => T} fn
 * @returns {Promise<T>}
 */

function debounce(fn) {
  let calling = null;
  let latestArgs = null;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    latestArgs = args;

    if (!calling) {
      calling = Promise.resolve().then(() => {
        calling = null; // At this point `args` may be different from the most
        // recent state, if multiple calls happened since this task
        // was queued. So we use the `latestArgs`, which definitely
        // is the most recent call.

        return fn(...latestArgs);
      });
    }

    return calling;
  };
}
/**
 * UIPlugin is the extended version of BasePlugin to incorporate rendering with Preact.
 * Use this for plugins that need a user interface.
 *
 * For plugins without an user interface, see BasePlugin.
 */


var _updateUI = /*#__PURE__*/_classPrivateFieldLooseKey("updateUI");

class UIPlugin extends _BasePlugin_js__WEBPACK_IMPORTED_MODULE_3__["default"] {
  constructor() {
    super(...arguments);
    Object.defineProperty(this, _updateUI, {
      writable: true,
      value: void 0
    });
  }

  getTargetPlugin(target) {
    let targetPlugin;

    if (typeof target === 'object' && target instanceof UIPlugin) {
      // Targeting a plugin *instance*
      targetPlugin = target;
    } else if (typeof target === 'function') {
      // Targeting a plugin type
      const Target = target; // Find the target plugin instance.

      this.uppy.iteratePlugins(p => {
        if (p instanceof Target) {
          targetPlugin = p;
        }
      });
    }

    return targetPlugin;
  }
  /**
   * Check if supplied `target` is a DOM element or an `object`.
   * If it’s an object — target is a plugin, and we search `plugins`
   * for a plugin with same name and return its target.
   */


  mount(target, plugin) {
    const callerPluginName = plugin.id;
    const targetElement = (0,_uppy_utils_lib_findDOMElement__WEBPACK_IMPORTED_MODULE_1__["default"])(target);

    if (targetElement) {
      this.isTargetDOMEl = true; // When target is <body> with a single <div> element,
      // Preact thinks it’s the Uppy root element in there when doing a diff,
      // and destroys it. So we are creating a fragment (could be empty div)

      const uppyRootElement = document.createElement('div');
      uppyRootElement.classList.add('uppy-Root'); // API for plugins that require a synchronous rerender.

      _classPrivateFieldLooseBase(this, _updateUI)[_updateUI] = debounce(state => {
        // plugin could be removed, but this.rerender is debounced below,
        // so it could still be called even after uppy.removePlugin or uppy.close
        // hence the check
        if (!this.uppy.getPlugin(this.id)) return;
        (0,preact__WEBPACK_IMPORTED_MODULE_0__.render)(this.render(state), uppyRootElement);
        this.afterUpdate();
      });
      this.uppy.log(`Installing ${callerPluginName} to a DOM element '${target}'`);

      if (this.opts.replaceTargetContent) {
        // Doing render(h(null), targetElement), which should have been
        // a better way, since because the component might need to do additional cleanup when it is removed,
        // stopped working — Preact just adds null into target, not replacing
        targetElement.innerHTML = '';
      }

      (0,preact__WEBPACK_IMPORTED_MODULE_0__.render)(this.render(this.uppy.getState()), uppyRootElement);
      this.el = uppyRootElement;
      targetElement.appendChild(uppyRootElement); // Set the text direction if the page has not defined one.

      uppyRootElement.dir = this.opts.direction || (0,_uppy_utils_lib_getTextDirection__WEBPACK_IMPORTED_MODULE_2__["default"])(uppyRootElement) || 'ltr';
      this.onMount();
      return this.el;
    }

    const targetPlugin = this.getTargetPlugin(target);

    if (targetPlugin) {
      this.uppy.log(`Installing ${callerPluginName} to ${targetPlugin.id}`);
      this.parent = targetPlugin;
      this.el = targetPlugin.addTarget(plugin);
      this.onMount();
      return this.el;
    }

    this.uppy.log(`Not installing ${callerPluginName}`);
    let message = `Invalid target option given to ${callerPluginName}.`;

    if (typeof target === 'function') {
      message += ' The given target is not a Plugin class. ' + 'Please check that you\'re not specifying a React Component instead of a plugin. ' + 'If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: ' + 'run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.';
    } else {
      message += 'If you meant to target an HTML element, please make sure that the element exists. ' + 'Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. ' + '(see https://github.com/transloadit/uppy/issues/1042)\n\n' + 'If you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.';
    }

    throw new Error(message);
  }

  update(state) {
    if (this.el != null) {
      var _classPrivateFieldLoo, _classPrivateFieldLoo2;

      (_classPrivateFieldLoo = (_classPrivateFieldLoo2 = _classPrivateFieldLooseBase(this, _updateUI))[_updateUI]) == null ? void 0 : _classPrivateFieldLoo.call(_classPrivateFieldLoo2, state);
    }
  }

  unmount() {
    if (this.isTargetDOMEl) {
      var _this$el;

      (_this$el = this.el) == null ? void 0 : _this$el.remove();
    }

    this.onUnmount();
  } // eslint-disable-next-line class-methods-use-this


  onMount() {} // eslint-disable-next-line class-methods-use-this


  onUnmount() {}

}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UIPlugin);

/***/ }),

/***/ "./node_modules/@uppy/core/lib/Uppy.js":
/*!*********************************************!*\
  !*** ./node_modules/@uppy/core/lib/Uppy.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _uppy_utils_lib_Translator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/utils/lib/Translator */ "./node_modules/@uppy/utils/lib/Translator.js");
/* harmony import */ var namespace_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! namespace-emitter */ "./node_modules/namespace-emitter/index.js");
/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! nanoid/non-secure */ "./node_modules/nanoid/non-secure/index.js");
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash.throttle */ "./node_modules/lodash.throttle/index.js");
/* harmony import */ var _uppy_store_default__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uppy/store-default */ "./node_modules/@uppy/store-default/lib/index.js");
/* harmony import */ var _uppy_utils_lib_getFileType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @uppy/utils/lib/getFileType */ "./node_modules/@uppy/utils/lib/getFileType.js");
/* harmony import */ var _uppy_utils_lib_getFileNameAndExtension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @uppy/utils/lib/getFileNameAndExtension */ "./node_modules/@uppy/utils/lib/getFileNameAndExtension.js");
/* harmony import */ var _uppy_utils_lib_generateFileID__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @uppy/utils/lib/generateFileID */ "./node_modules/@uppy/utils/lib/generateFileID.js");
/* harmony import */ var _supportsUploadProgress_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./supportsUploadProgress.js */ "./node_modules/@uppy/core/lib/supportsUploadProgress.js");
/* harmony import */ var _getFileName_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./getFileName.js */ "./node_modules/@uppy/core/lib/getFileName.js");
/* harmony import */ var _loggers_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./loggers.js */ "./node_modules/@uppy/core/lib/loggers.js");
/* harmony import */ var _Restricter_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Restricter.js */ "./node_modules/@uppy/core/lib/Restricter.js");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@uppy/core/lib/locale.js");
let _Symbol$for, _Symbol$for2;

function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }

/* eslint-disable max-classes-per-file */

/* global AggregateError */












const packageJson = {
  "version": "3.1.2"
};

/**
 * Uppy Core module.
 * Manages plugins, state updates, acts as an event bus,
 * adds/removes files and metadata.
 */

var _plugins = /*#__PURE__*/_classPrivateFieldLooseKey("plugins");

var _restricter = /*#__PURE__*/_classPrivateFieldLooseKey("restricter");

var _storeUnsubscribe = /*#__PURE__*/_classPrivateFieldLooseKey("storeUnsubscribe");

var _emitter = /*#__PURE__*/_classPrivateFieldLooseKey("emitter");

var _preProcessors = /*#__PURE__*/_classPrivateFieldLooseKey("preProcessors");

var _uploaders = /*#__PURE__*/_classPrivateFieldLooseKey("uploaders");

var _postProcessors = /*#__PURE__*/_classPrivateFieldLooseKey("postProcessors");

var _informAndEmit = /*#__PURE__*/_classPrivateFieldLooseKey("informAndEmit");

var _checkRequiredMetaFieldsOnFile = /*#__PURE__*/_classPrivateFieldLooseKey("checkRequiredMetaFieldsOnFile");

var _checkRequiredMetaFields = /*#__PURE__*/_classPrivateFieldLooseKey("checkRequiredMetaFields");

var _assertNewUploadAllowed = /*#__PURE__*/_classPrivateFieldLooseKey("assertNewUploadAllowed");

var _checkAndCreateFileStateObject = /*#__PURE__*/_classPrivateFieldLooseKey("checkAndCreateFileStateObject");

var _startIfAutoProceed = /*#__PURE__*/_classPrivateFieldLooseKey("startIfAutoProceed");

var _addListeners = /*#__PURE__*/_classPrivateFieldLooseKey("addListeners");

var _updateOnlineStatus = /*#__PURE__*/_classPrivateFieldLooseKey("updateOnlineStatus");

var _createUpload = /*#__PURE__*/_classPrivateFieldLooseKey("createUpload");

var _getUpload = /*#__PURE__*/_classPrivateFieldLooseKey("getUpload");

var _removeUpload = /*#__PURE__*/_classPrivateFieldLooseKey("removeUpload");

var _runUpload = /*#__PURE__*/_classPrivateFieldLooseKey("runUpload");

_Symbol$for = Symbol.for('uppy test: getPlugins');
_Symbol$for2 = Symbol.for('uppy test: createUpload');

class Uppy {
  /** @type {Record<string, BasePlugin[]>} */

  /**
   * Instantiate Uppy
   *
   * @param {object} opts — Uppy options
   */
  constructor(_opts) {
    Object.defineProperty(this, _runUpload, {
      value: _runUpload2
    });
    Object.defineProperty(this, _removeUpload, {
      value: _removeUpload2
    });
    Object.defineProperty(this, _getUpload, {
      value: _getUpload2
    });
    Object.defineProperty(this, _createUpload, {
      value: _createUpload2
    });
    Object.defineProperty(this, _addListeners, {
      value: _addListeners2
    });
    Object.defineProperty(this, _startIfAutoProceed, {
      value: _startIfAutoProceed2
    });
    Object.defineProperty(this, _checkAndCreateFileStateObject, {
      value: _checkAndCreateFileStateObject2
    });
    Object.defineProperty(this, _assertNewUploadAllowed, {
      value: _assertNewUploadAllowed2
    });
    Object.defineProperty(this, _checkRequiredMetaFields, {
      value: _checkRequiredMetaFields2
    });
    Object.defineProperty(this, _checkRequiredMetaFieldsOnFile, {
      value: _checkRequiredMetaFieldsOnFile2
    });
    Object.defineProperty(this, _informAndEmit, {
      value: _informAndEmit2
    });
    Object.defineProperty(this, _plugins, {
      writable: true,
      value: Object.create(null)
    });
    Object.defineProperty(this, _restricter, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _storeUnsubscribe, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _emitter, {
      writable: true,
      value: namespace_emitter__WEBPACK_IMPORTED_MODULE_1__()
    });
    Object.defineProperty(this, _preProcessors, {
      writable: true,
      value: new Set()
    });
    Object.defineProperty(this, _uploaders, {
      writable: true,
      value: new Set()
    });
    Object.defineProperty(this, _postProcessors, {
      writable: true,
      value: new Set()
    });
    Object.defineProperty(this, _updateOnlineStatus, {
      writable: true,
      value: this.updateOnlineStatus.bind(this)
    });
    this.defaultLocale = _locale_js__WEBPACK_IMPORTED_MODULE_11__["default"];
    const defaultOptions = {
      id: 'uppy',
      autoProceed: false,
      allowMultipleUploadBatches: true,
      debug: false,
      restrictions: _Restricter_js__WEBPACK_IMPORTED_MODULE_10__.defaultOptions,
      meta: {},
      onBeforeFileAdded: currentFile => currentFile,
      onBeforeUpload: files => files,
      store: new _uppy_store_default__WEBPACK_IMPORTED_MODULE_3__["default"](),
      logger: _loggers_js__WEBPACK_IMPORTED_MODULE_9__.justErrorsLogger,
      infoTimeout: 5000
    }; // Merge default options with the ones set by user,
    // making sure to merge restrictions too

    this.opts = { ...defaultOptions,
      ..._opts,
      restrictions: { ...defaultOptions.restrictions,
        ...(_opts && _opts.restrictions)
      }
    }; // Support debug: true for backwards-compatability, unless logger is set in opts
    // opts instead of this.opts to avoid comparing objects — we set logger: justErrorsLogger in defaultOptions

    if (_opts && _opts.logger && _opts.debug) {
      this.log('You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.', 'warning');
    } else if (_opts && _opts.debug) {
      this.opts.logger = _loggers_js__WEBPACK_IMPORTED_MODULE_9__.debugLogger;
    }

    this.log(`Using Core v${this.constructor.VERSION}`);
    this.i18nInit(); // ___Why throttle at 500ms?
    //    - We must throttle at >250ms for superfocus in Dashboard to work well
    //    (because animation takes 0.25s, and we want to wait for all animations to be over before refocusing).
    //    [Practical Check]: if thottle is at 100ms, then if you are uploading a file,
    //    and click 'ADD MORE FILES', - focus won't activate in Firefox.
    //    - We must throttle at around >500ms to avoid performance lags.
    //    [Practical Check] Firefox, try to upload a big file for a prolonged period of time. Laptop will start to heat up.

    this.calculateProgress = lodash_throttle__WEBPACK_IMPORTED_MODULE_2__(this.calculateProgress.bind(this), 500, {
      leading: true,
      trailing: true
    });
    this.store = this.opts.store;
    this.setState({
      plugins: {},
      files: {},
      currentUploads: {},
      allowNewUpload: true,
      capabilities: {
        uploadProgress: (0,_supportsUploadProgress_js__WEBPACK_IMPORTED_MODULE_7__["default"])(),
        individualCancellation: true,
        resumableUploads: false
      },
      totalProgress: 0,
      meta: { ...this.opts.meta
      },
      info: [],
      recoveredState: null
    });
    _classPrivateFieldLooseBase(this, _restricter)[_restricter] = new _Restricter_js__WEBPACK_IMPORTED_MODULE_10__.Restricter(() => this.opts, this.i18n);
    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe] = this.store.subscribe((prevState, nextState, patch) => {
      this.emit('state-update', prevState, nextState, patch);
      this.updateAll(nextState);
    }); // Exposing uppy object on window for debugging and testing

    if (this.opts.debug && typeof window !== 'undefined') {
      window[this.opts.id] = this;
    }

    _classPrivateFieldLooseBase(this, _addListeners)[_addListeners]();
  }

  emit(event) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    _classPrivateFieldLooseBase(this, _emitter)[_emitter].emit(event, ...args);
  }

  on(event, callback) {
    _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(event, callback);

    return this;
  }

  once(event, callback) {
    _classPrivateFieldLooseBase(this, _emitter)[_emitter].once(event, callback);

    return this;
  }

  off(event, callback) {
    _classPrivateFieldLooseBase(this, _emitter)[_emitter].off(event, callback);

    return this;
  }
  /**
   * Iterate on all plugins and run `update` on them.
   * Called each time state changes.
   *
   */


  updateAll(state) {
    this.iteratePlugins(plugin => {
      plugin.update(state);
    });
  }
  /**
   * Updates state with a patch
   *
   * @param {object} patch {foo: 'bar'}
   */


  setState(patch) {
    this.store.setState(patch);
  }
  /**
   * Returns current state.
   *
   * @returns {object}
   */


  getState() {
    return this.store.getState();
  }
  /**
   * Shorthand to set state for a specific file.
   */


  setFileState(fileID, state) {
    if (!this.getState().files[fileID]) {
      throw new Error(`Can’t set state for ${fileID} (the file could have been removed)`);
    }

    this.setState({
      files: { ...this.getState().files,
        [fileID]: { ...this.getState().files[fileID],
          ...state
        }
      }
    });
  }

  i18nInit() {
    const translator = new _uppy_utils_lib_Translator__WEBPACK_IMPORTED_MODULE_0__["default"]([this.defaultLocale, this.opts.locale]);
    this.i18n = translator.translate.bind(translator);
    this.i18nArray = translator.translateArray.bind(translator);
    this.locale = translator.locale;
  }

  setOptions(newOpts) {
    this.opts = { ...this.opts,
      ...newOpts,
      restrictions: { ...this.opts.restrictions,
        ...(newOpts && newOpts.restrictions)
      }
    };

    if (newOpts.meta) {
      this.setMeta(newOpts.meta);
    }

    this.i18nInit();

    if (newOpts.locale) {
      this.iteratePlugins(plugin => {
        plugin.setOptions(newOpts);
      });
    } // Note: this is not the preact `setState`, it's an internal function that has the same name.


    this.setState(); // so that UI re-renders with new options
  }

  resetProgress() {
    const defaultProgress = {
      percentage: 0,
      bytesUploaded: 0,
      uploadComplete: false,
      uploadStarted: null
    };
    const files = { ...this.getState().files
    };
    const updatedFiles = {};
    Object.keys(files).forEach(fileID => {
      updatedFiles[fileID] = { ...files[fileID],
        progress: { ...files[fileID].progress,
          ...defaultProgress
        }
      };
    });
    this.setState({
      files: updatedFiles,
      totalProgress: 0,
      allowNewUpload: true,
      error: null,
      recoveredState: null
    });
    this.emit('reset-progress');
  }

  addPreProcessor(fn) {
    _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].add(fn);
  }

  removePreProcessor(fn) {
    return _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].delete(fn);
  }

  addPostProcessor(fn) {
    _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].add(fn);
  }

  removePostProcessor(fn) {
    return _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].delete(fn);
  }

  addUploader(fn) {
    _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].add(fn);
  }

  removeUploader(fn) {
    return _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].delete(fn);
  }

  setMeta(data) {
    const updatedMeta = { ...this.getState().meta,
      ...data
    };
    const updatedFiles = { ...this.getState().files
    };
    Object.keys(updatedFiles).forEach(fileID => {
      updatedFiles[fileID] = { ...updatedFiles[fileID],
        meta: { ...updatedFiles[fileID].meta,
          ...data
        }
      };
    });
    this.log('Adding metadata:');
    this.log(data);
    this.setState({
      meta: updatedMeta,
      files: updatedFiles
    });
  }

  setFileMeta(fileID, data) {
    const updatedFiles = { ...this.getState().files
    };

    if (!updatedFiles[fileID]) {
      this.log('Was trying to set metadata for a file that has been removed: ', fileID);
      return;
    }

    const newMeta = { ...updatedFiles[fileID].meta,
      ...data
    };
    updatedFiles[fileID] = { ...updatedFiles[fileID],
      meta: newMeta
    };
    this.setState({
      files: updatedFiles
    });
  }
  /**
   * Get a file object.
   *
   * @param {string} fileID The ID of the file object to return.
   */


  getFile(fileID) {
    return this.getState().files[fileID];
  }
  /**
   * Get all files in an array.
   */


  getFiles() {
    const {
      files
    } = this.getState();
    return Object.values(files);
  }

  getObjectOfFilesPerState() {
    const {
      files: filesObject,
      totalProgress,
      error
    } = this.getState();
    const files = Object.values(filesObject);
    const inProgressFiles = files.filter(_ref => {
      let {
        progress
      } = _ref;
      return !progress.uploadComplete && progress.uploadStarted;
    });
    const newFiles = files.filter(file => !file.progress.uploadStarted);
    const startedFiles = files.filter(file => file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess);
    const uploadStartedFiles = files.filter(file => file.progress.uploadStarted);
    const pausedFiles = files.filter(file => file.isPaused);
    const completeFiles = files.filter(file => file.progress.uploadComplete);
    const erroredFiles = files.filter(file => file.error);
    const inProgressNotPausedFiles = inProgressFiles.filter(file => !file.isPaused);
    const processingFiles = files.filter(file => file.progress.preprocess || file.progress.postprocess);
    return {
      newFiles,
      startedFiles,
      uploadStartedFiles,
      pausedFiles,
      completeFiles,
      erroredFiles,
      inProgressFiles,
      inProgressNotPausedFiles,
      processingFiles,
      isUploadStarted: uploadStartedFiles.length > 0,
      isAllComplete: totalProgress === 100 && completeFiles.length === files.length && processingFiles.length === 0,
      isAllErrored: !!error && erroredFiles.length === files.length,
      isAllPaused: inProgressFiles.length !== 0 && pausedFiles.length === inProgressFiles.length,
      isUploadInProgress: inProgressFiles.length > 0,
      isSomeGhost: files.some(file => file.isGhost)
    };
  }
  /*
  * @constructs
  * @param { Error } error
  * @param { undefined } file
  */

  /*
  * @constructs
  * @param { RestrictionError } error
  * @param { UppyFile | undefined } file
  */


  validateRestrictions(file, files) {
    if (files === void 0) {
      files = this.getFiles();
    }

    try {
      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validate(file, files);
    } catch (err) {
      return err;
    }

    return null;
  }

  checkIfFileAlreadyExists(fileID) {
    const {
      files
    } = this.getState();

    if (files[fileID] && !files[fileID].isGhost) {
      return true;
    }

    return false;
  }
  /**
   * Create a file state object based on user-provided `addFile()` options.
   *
   * Note this is extremely side-effectful and should only be done when a file state object
   * will be added to state immediately afterward!
   *
   * The `files` value is passed in because it may be updated by the caller without updating the store.
   */


  /**
   * Add a new file to `state.files`. This will run `onBeforeFileAdded`,
   * try to guess file type in a clever way, check file against restrictions,
   * and start an upload if `autoProceed === true`.
   *
   * @param {object} file object to add
   * @returns {string} id for the added file
   */
  addFile(file) {
    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](file);

    const {
      files
    } = this.getState();

    let newFile = _classPrivateFieldLooseBase(this, _checkAndCreateFileStateObject)[_checkAndCreateFileStateObject](files, file); // Users are asked to re-select recovered files without data,
    // and to keep the progress, meta and everthing else, we only replace said data


    if (files[newFile.id] && files[newFile.id].isGhost) {
      newFile = { ...files[newFile.id],
        data: file.data,
        isGhost: false
      };
      this.log(`Replaced the blob in the restored ghost file: ${newFile.name}, ${newFile.id}`);
    }

    this.setState({
      files: { ...files,
        [newFile.id]: newFile
      }
    });
    this.emit('file-added', newFile);
    this.emit('files-added', [newFile]);
    this.log(`Added file: ${newFile.name}, ${newFile.id}, mime type: ${newFile.type}`);

    _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();

    return newFile.id;
  }
  /**
   * Add multiple files to `state.files`. See the `addFile()` documentation.
   *
   * If an error occurs while adding a file, it is logged and the user is notified.
   * This is good for UI plugins, but not for programmatic use.
   * Programmatic users should usually still use `addFile()` on individual files.
   */


  addFiles(fileDescriptors) {
    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](); // create a copy of the files object only once


    const files = { ...this.getState().files
    };
    const newFiles = [];
    const errors = [];

    for (let i = 0; i < fileDescriptors.length; i++) {
      try {
        let newFile = _classPrivateFieldLooseBase(this, _checkAndCreateFileStateObject)[_checkAndCreateFileStateObject](files, fileDescriptors[i]); // Users are asked to re-select recovered files without data,
        // and to keep the progress, meta and everthing else, we only replace said data


        if (files[newFile.id] && files[newFile.id].isGhost) {
          newFile = { ...files[newFile.id],
            data: fileDescriptors[i].data,
            isGhost: false
          };
          this.log(`Replaced blob in a ghost file: ${newFile.name}, ${newFile.id}`);
        }

        files[newFile.id] = newFile;
        newFiles.push(newFile);
      } catch (err) {
        if (!err.isRestriction) {
          errors.push(err);
        }
      }
    }

    this.setState({
      files
    });
    newFiles.forEach(newFile => {
      this.emit('file-added', newFile);
    });
    this.emit('files-added', newFiles);

    if (newFiles.length > 5) {
      this.log(`Added batch of ${newFiles.length} files`);
    } else {
      Object.keys(newFiles).forEach(fileID => {
        this.log(`Added file: ${newFiles[fileID].name}\n id: ${newFiles[fileID].id}\n type: ${newFiles[fileID].type}`);
      });
    }

    if (newFiles.length > 0) {
      _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();
    }

    if (errors.length > 0) {
      let message = 'Multiple errors occurred while adding files:\n';
      errors.forEach(subError => {
        message += `\n * ${subError.message}`;
      });
      this.info({
        message: this.i18n('addBulkFilesFailed', {
          smart_count: errors.length
        }),
        details: message
      }, 'error', this.opts.infoTimeout);

      if (typeof AggregateError === 'function') {
        throw new AggregateError(errors, message);
      } else {
        const err = new Error(message);
        err.errors = errors;
        throw err;
      }
    }
  }

  removeFiles(fileIDs, reason) {
    const {
      files,
      currentUploads
    } = this.getState();
    const updatedFiles = { ...files
    };
    const updatedUploads = { ...currentUploads
    };
    const removedFiles = Object.create(null);
    fileIDs.forEach(fileID => {
      if (files[fileID]) {
        removedFiles[fileID] = files[fileID];
        delete updatedFiles[fileID];
      }
    }); // Remove files from the `fileIDs` list in each upload.

    function fileIsNotRemoved(uploadFileID) {
      return removedFiles[uploadFileID] === undefined;
    }

    Object.keys(updatedUploads).forEach(uploadID => {
      const newFileIDs = currentUploads[uploadID].fileIDs.filter(fileIsNotRemoved); // Remove the upload if no files are associated with it anymore.

      if (newFileIDs.length === 0) {
        delete updatedUploads[uploadID];
        return;
      }

      const {
        capabilities
      } = this.getState();

      if (newFileIDs.length !== currentUploads[uploadID].fileIDs.length && !capabilities.individualCancellation) {
        throw new Error('individualCancellation is disabled');
      }

      updatedUploads[uploadID] = { ...currentUploads[uploadID],
        fileIDs: newFileIDs
      };
    });
    const stateUpdate = {
      currentUploads: updatedUploads,
      files: updatedFiles
    }; // If all files were removed - allow new uploads,
    // and clear recoveredState

    if (Object.keys(updatedFiles).length === 0) {
      stateUpdate.allowNewUpload = true;
      stateUpdate.error = null;
      stateUpdate.recoveredState = null;
    }

    this.setState(stateUpdate);
    this.calculateTotalProgress();
    const removedFileIDs = Object.keys(removedFiles);
    removedFileIDs.forEach(fileID => {
      this.emit('file-removed', removedFiles[fileID], reason);
    });

    if (removedFileIDs.length > 5) {
      this.log(`Removed ${removedFileIDs.length} files`);
    } else {
      this.log(`Removed files: ${removedFileIDs.join(', ')}`);
    }
  }

  removeFile(fileID, reason) {
    if (reason === void 0) {
      reason = null;
    }

    this.removeFiles([fileID], reason);
  }

  pauseResume(fileID) {
    if (!this.getState().capabilities.resumableUploads || this.getFile(fileID).uploadComplete) {
      return undefined;
    }

    const wasPaused = this.getFile(fileID).isPaused || false;
    const isPaused = !wasPaused;
    this.setFileState(fileID, {
      isPaused
    });
    this.emit('upload-pause', fileID, isPaused);
    return isPaused;
  }

  pauseAll() {
    const updatedFiles = { ...this.getState().files
    };
    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {
      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;
    });
    inProgressUpdatedFiles.forEach(file => {
      const updatedFile = { ...updatedFiles[file],
        isPaused: true
      };
      updatedFiles[file] = updatedFile;
    });
    this.setState({
      files: updatedFiles
    });
    this.emit('pause-all');
  }

  resumeAll() {
    const updatedFiles = { ...this.getState().files
    };
    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {
      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;
    });
    inProgressUpdatedFiles.forEach(file => {
      const updatedFile = { ...updatedFiles[file],
        isPaused: false,
        error: null
      };
      updatedFiles[file] = updatedFile;
    });
    this.setState({
      files: updatedFiles
    });
    this.emit('resume-all');
  }

  retryAll() {
    const updatedFiles = { ...this.getState().files
    };
    const filesToRetry = Object.keys(updatedFiles).filter(file => {
      return updatedFiles[file].error;
    });
    filesToRetry.forEach(file => {
      const updatedFile = { ...updatedFiles[file],
        isPaused: false,
        error: null
      };
      updatedFiles[file] = updatedFile;
    });
    this.setState({
      files: updatedFiles,
      error: null
    });
    this.emit('retry-all', filesToRetry);

    if (filesToRetry.length === 0) {
      return Promise.resolve({
        successful: [],
        failed: []
      });
    }

    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](filesToRetry, {
      forceAllowNewUpload: true // create new upload even if allowNewUpload: false

    });

    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);
  }

  cancelAll(_temp) {
    let {
      reason = 'user'
    } = _temp === void 0 ? {} : _temp;
    this.emit('cancel-all', {
      reason
    }); // Only remove existing uploads if user is canceling

    if (reason === 'user') {
      const {
        files
      } = this.getState();
      const fileIDs = Object.keys(files);

      if (fileIDs.length) {
        this.removeFiles(fileIDs, 'cancel-all');
      }

      this.setState({
        totalProgress: 0,
        error: null,
        recoveredState: null
      });
    }
  }

  retryUpload(fileID) {
    this.setFileState(fileID, {
      error: null,
      isPaused: false
    });
    this.emit('upload-retry', fileID);

    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload]([fileID], {
      forceAllowNewUpload: true // create new upload even if allowNewUpload: false

    });

    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);
  }

  logout() {
    this.iteratePlugins(plugin => {
      if (plugin.provider && plugin.provider.logout) {
        plugin.provider.logout();
      }
    });
  }

  calculateProgress(file, data) {
    if (file == null || !this.getFile(file.id)) {
      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);
      return;
    } // bytesTotal may be null or zero; in that case we can't divide by it


    const canHavePercentage = Number.isFinite(data.bytesTotal) && data.bytesTotal > 0;
    this.setFileState(file.id, {
      progress: { ...this.getFile(file.id).progress,
        bytesUploaded: data.bytesUploaded,
        bytesTotal: data.bytesTotal,
        percentage: canHavePercentage ? Math.round(data.bytesUploaded / data.bytesTotal * 100) : 0
      }
    });
    this.calculateTotalProgress();
  }

  calculateTotalProgress() {
    // calculate total progress, using the number of files currently uploading,
    // multiplied by 100 and the summ of individual progress of each file
    const files = this.getFiles();
    const inProgress = files.filter(file => {
      return file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess;
    });

    if (inProgress.length === 0) {
      this.emit('progress', 0);
      this.setState({
        totalProgress: 0
      });
      return;
    }

    const sizedFiles = inProgress.filter(file => file.progress.bytesTotal != null);
    const unsizedFiles = inProgress.filter(file => file.progress.bytesTotal == null);

    if (sizedFiles.length === 0) {
      const progressMax = inProgress.length * 100;
      const currentProgress = unsizedFiles.reduce((acc, file) => {
        return acc + file.progress.percentage;
      }, 0);
      const totalProgress = Math.round(currentProgress / progressMax * 100);
      this.setState({
        totalProgress
      });
      return;
    }

    let totalSize = sizedFiles.reduce((acc, file) => {
      return acc + file.progress.bytesTotal;
    }, 0);
    const averageSize = totalSize / sizedFiles.length;
    totalSize += averageSize * unsizedFiles.length;
    let uploadedSize = 0;
    sizedFiles.forEach(file => {
      uploadedSize += file.progress.bytesUploaded;
    });
    unsizedFiles.forEach(file => {
      uploadedSize += averageSize * (file.progress.percentage || 0) / 100;
    });
    let totalProgress = totalSize === 0 ? 0 : Math.round(uploadedSize / totalSize * 100); // hot fix, because:
    // uploadedSize ended up larger than totalSize, resulting in 1325% total

    if (totalProgress > 100) {
      totalProgress = 100;
    }

    this.setState({
      totalProgress
    });
    this.emit('progress', totalProgress);
  }
  /**
   * Registers listeners for all global actions, like:
   * `error`, `file-removed`, `upload-progress`
   */


  updateOnlineStatus() {
    const online = typeof window.navigator.onLine !== 'undefined' ? window.navigator.onLine : true;

    if (!online) {
      this.emit('is-offline');
      this.info(this.i18n('noInternetConnection'), 'error', 0);
      this.wasOffline = true;
    } else {
      this.emit('is-online');

      if (this.wasOffline) {
        this.emit('back-online');
        this.info(this.i18n('connectedToInternet'), 'success', 3000);
        this.wasOffline = false;
      }
    }
  }

  getID() {
    return this.opts.id;
  }
  /**
   * Registers a plugin with Core.
   *
   * @param {object} Plugin object
   * @param {object} [opts] object with options to be passed to Plugin
   * @returns {object} self for chaining
   */
  // eslint-disable-next-line no-shadow


  use(Plugin, opts) {
    if (typeof Plugin !== 'function') {
      const msg = `Expected a plugin class, but got ${Plugin === null ? 'null' : typeof Plugin}.` + ' Please verify that the plugin was imported and spelled correctly.';
      throw new TypeError(msg);
    } // Instantiate


    const plugin = new Plugin(this, opts);
    const pluginId = plugin.id;

    if (!pluginId) {
      throw new Error('Your plugin must have an id');
    }

    if (!plugin.type) {
      throw new Error('Your plugin must have a type');
    }

    const existsPluginAlready = this.getPlugin(pluginId);

    if (existsPluginAlready) {
      const msg = `Already found a plugin named '${existsPluginAlready.id}'. ` + `Tried to use: '${pluginId}'.\n` + 'Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.';
      throw new Error(msg);
    }

    if (Plugin.VERSION) {
      this.log(`Using ${pluginId} v${Plugin.VERSION}`);
    }

    if (plugin.type in _classPrivateFieldLooseBase(this, _plugins)[_plugins]) {
      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type].push(plugin);
    } else {
      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type] = [plugin];
    }

    plugin.install();
    return this;
  }
  /**
   * Find one Plugin by name.
   *
   * @param {string} id plugin id
   * @returns {BasePlugin|undefined}
   */


  getPlugin(id) {
    for (const plugins of Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins])) {
      const foundPlugin = plugins.find(plugin => plugin.id === id);
      if (foundPlugin != null) return foundPlugin;
    }

    return undefined;
  }

  [_Symbol$for](type) {
    return _classPrivateFieldLooseBase(this, _plugins)[_plugins][type];
  }
  /**
   * Iterate through all `use`d plugins.
   *
   * @param {Function} method that will be run on each plugin
   */


  iteratePlugins(method) {
    Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins]).flat(1).forEach(method);
  }
  /**
   * Uninstall and remove a plugin.
   *
   * @param {object} instance The plugin instance to remove.
   */


  removePlugin(instance) {
    this.log(`Removing plugin ${instance.id}`);
    this.emit('plugin-remove', instance);

    if (instance.uninstall) {
      instance.uninstall();
    }

    const list = _classPrivateFieldLooseBase(this, _plugins)[_plugins][instance.type]; // list.indexOf failed here, because Vue3 converted the plugin instance
    // to a Proxy object, which failed the strict comparison test:
    // obj !== objProxy


    const index = list.findIndex(item => item.id === instance.id);

    if (index !== -1) {
      list.splice(index, 1);
    }

    const state = this.getState();
    const updatedState = {
      plugins: { ...state.plugins,
        [instance.id]: undefined
      }
    };
    this.setState(updatedState);
  }
  /**
   * Uninstall all plugins and close down this Uppy instance.
   */


  close(_temp2) {
    let {
      reason
    } = _temp2 === void 0 ? {} : _temp2;
    this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`);
    this.cancelAll({
      reason
    });

    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe]();

    this.iteratePlugins(plugin => {
      this.removePlugin(plugin);
    });

    if (typeof window !== 'undefined' && window.removeEventListener) {
      window.removeEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);
      window.removeEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);
    }
  }

  hideInfo() {
    const {
      info
    } = this.getState();
    this.setState({
      info: info.slice(1)
    });
    this.emit('info-hidden');
  }
  /**
   * Set info message in `state.info`, so that UI plugins like `Informer`
   * can display the message.
   *
   * @param {string | object} message Message to be displayed by the informer
   * @param {string} [type]
   * @param {number} [duration]
   */


  info(message, type, duration) {
    if (type === void 0) {
      type = 'info';
    }

    if (duration === void 0) {
      duration = 3000;
    }

    const isComplexMessage = typeof message === 'object';
    this.setState({
      info: [...this.getState().info, {
        type,
        message: isComplexMessage ? message.message : message,
        details: isComplexMessage ? message.details : null
      }]
    });
    setTimeout(() => this.hideInfo(), duration);
    this.emit('info-visible');
  }
  /**
   * Passes messages to a function, provided in `opts.logger`.
   * If `opts.logger: Uppy.debugLogger` or `opts.debug: true`, logs to the browser console.
   *
   * @param {string|object} message to log
   * @param {string} [type] optional `error` or `warning`
   */


  log(message, type) {
    const {
      logger
    } = this.opts;

    switch (type) {
      case 'error':
        logger.error(message);
        break;

      case 'warning':
        logger.warn(message);
        break;

      default:
        logger.debug(message);
        break;
    }
  }
  /**
   * Restore an upload by its ID.
   */


  restore(uploadID) {
    this.log(`Core: attempting to restore upload "${uploadID}"`);

    if (!this.getState().currentUploads[uploadID]) {
      _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);

      return Promise.reject(new Error('Nonexistent upload'));
    }

    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);
  }
  /**
   * Create an upload for a bunch of files.
   *
   * @param {Array<string>} fileIDs File IDs to include in this upload.
   * @returns {string} ID of this upload.
   */


  [_Symbol$for2]() {
    return _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](...arguments);
  }

  /**
   * Add data to an upload's result object.
   *
   * @param {string} uploadID The ID of the upload.
   * @param {object} data Data properties to add to the result object.
   */
  addResultData(uploadID, data) {
    if (!_classPrivateFieldLooseBase(this, _getUpload)[_getUpload](uploadID)) {
      this.log(`Not setting result for an upload that has been removed: ${uploadID}`);
      return;
    }

    const {
      currentUploads
    } = this.getState();
    const currentUpload = { ...currentUploads[uploadID],
      result: { ...currentUploads[uploadID].result,
        ...data
      }
    };
    this.setState({
      currentUploads: { ...currentUploads,
        [uploadID]: currentUpload
      }
    });
  }
  /**
   * Remove an upload, eg. if it has been canceled or completed.
   *
   * @param {string} uploadID The ID of the upload.
   */


  /**
   * Start an upload for all the files that are not currently being uploaded.
   *
   * @returns {Promise}
   */
  upload() {
    var _classPrivateFieldLoo;

    if (!((_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _plugins)[_plugins].uploader) != null && _classPrivateFieldLoo.length)) {
      this.log('No uploader type plugins are used', 'warning');
    }

    let {
      files
    } = this.getState();
    const onBeforeUploadResult = this.opts.onBeforeUpload(files);

    if (onBeforeUploadResult === false) {
      return Promise.reject(new Error('Not starting the upload because onBeforeUpload returned false'));
    }

    if (onBeforeUploadResult && typeof onBeforeUploadResult === 'object') {
      files = onBeforeUploadResult; // Updating files in state, because uploader plugins receive file IDs,
      // and then fetch the actual file object from state

      this.setState({
        files
      });
    }

    return Promise.resolve().then(() => _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateMinNumberOfFiles(files)).catch(err => {
      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](err);

      throw err;
    }).then(() => {
      if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFields)[_checkRequiredMetaFields](files)) {
        throw new _Restricter_js__WEBPACK_IMPORTED_MODULE_10__.RestrictionError(this.i18n('missingRequiredMetaField'));
      }
    }).catch(err => {
      // Doing this in a separate catch because we already emited and logged
      // all the errors in `checkRequiredMetaFields` so we only throw a generic
      // missing fields error here.
      throw err;
    }).then(() => {
      const {
        currentUploads
      } = this.getState(); // get a list of files that are currently assigned to uploads

      const currentlyUploadingFiles = Object.values(currentUploads).flatMap(curr => curr.fileIDs);
      const waitingFileIDs = [];
      Object.keys(files).forEach(fileID => {
        const file = this.getFile(fileID); // if the file hasn't started uploading and hasn't already been assigned to an upload..

        if (!file.progress.uploadStarted && currentlyUploadingFiles.indexOf(fileID) === -1) {
          waitingFileIDs.push(file.id);
        }
      });

      const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](waitingFileIDs);

      return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);
    }).catch(err => {
      this.emit('error', err);
      this.log(err, 'error');
      throw err;
    });
  }

}

function _informAndEmit2(error, file) {
  const {
    message,
    details = ''
  } = error;

  if (error.isRestriction) {
    this.emit('restriction-failed', file, error);
  } else {
    this.emit('error', error);
  }

  this.info({
    message,
    details
  }, 'error', this.opts.infoTimeout);
  this.log(error, 'warning');
}

function _checkRequiredMetaFieldsOnFile2(file) {
  const {
    missingFields,
    error
  } = _classPrivateFieldLooseBase(this, _restricter)[_restricter].getMissingRequiredMetaFields(file);

  if (missingFields.length > 0) {
    this.setFileState(file.id, {
      missingRequiredMetaFields: missingFields
    });
    this.log(error.message);
    this.emit('restriction-failed', file, error);
    return false;
  }

  return true;
}

function _checkRequiredMetaFields2(files) {
  let success = true;

  for (const file of Object.values(files)) {
    if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file)) {
      success = false;
    }
  }

  return success;
}

function _assertNewUploadAllowed2(file) {
  const {
    allowNewUpload
  } = this.getState();

  if (allowNewUpload === false) {
    const error = new _Restricter_js__WEBPACK_IMPORTED_MODULE_10__.RestrictionError(this.i18n('noMoreFilesAllowed'));

    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error, file);

    throw error;
  }
}

function _checkAndCreateFileStateObject2(files, fileDescriptor) {
  // Uppy expects files in { name, type, size, data } format.
  // If the actual File object is passed from input[type=file] or drag-drop,
  // we normalize it to match Uppy file object
  if (fileDescriptor instanceof File) {
    // eslint-disable-next-line no-param-reassign
    fileDescriptor = {
      name: fileDescriptor.name,
      type: fileDescriptor.type,
      size: fileDescriptor.size,
      data: fileDescriptor
    };
  }

  const fileType = (0,_uppy_utils_lib_getFileType__WEBPACK_IMPORTED_MODULE_4__["default"])(fileDescriptor);
  const fileName = (0,_getFileName_js__WEBPACK_IMPORTED_MODULE_8__["default"])(fileType, fileDescriptor);
  const fileExtension = (0,_uppy_utils_lib_getFileNameAndExtension__WEBPACK_IMPORTED_MODULE_5__["default"])(fileName).extension;
  const isRemote = Boolean(fileDescriptor.isRemote);
  const id = (0,_uppy_utils_lib_generateFileID__WEBPACK_IMPORTED_MODULE_6__.getSafeFileId)(fileDescriptor);

  if (this.checkIfFileAlreadyExists(id)) {
    const error = new _Restricter_js__WEBPACK_IMPORTED_MODULE_10__.RestrictionError(this.i18n('noDuplicates', {
      fileName
    }));

    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error, fileDescriptor);

    throw error;
  }

  const meta = fileDescriptor.meta || {};
  meta.name = fileName;
  meta.type = fileType; // `null` means the size is unknown.

  const size = Number.isFinite(fileDescriptor.data.size) ? fileDescriptor.data.size : null;
  let newFile = {
    source: fileDescriptor.source || '',
    id,
    name: fileName,
    extension: fileExtension || '',
    meta: { ...this.getState().meta,
      ...meta
    },
    type: fileType,
    data: fileDescriptor.data,
    progress: {
      percentage: 0,
      bytesUploaded: 0,
      bytesTotal: size,
      uploadComplete: false,
      uploadStarted: null
    },
    size,
    isRemote,
    remote: fileDescriptor.remote || '',
    preview: fileDescriptor.preview
  };
  const onBeforeFileAddedResult = this.opts.onBeforeFileAdded(newFile, files);

  if (onBeforeFileAddedResult === false) {
    // Don’t show UI info for this error, as it should be done by the developer
    const error = new _Restricter_js__WEBPACK_IMPORTED_MODULE_10__.RestrictionError('Cannot add the file because onBeforeFileAdded returned false.');
    this.emit('restriction-failed', fileDescriptor, error);
    throw error;
  } else if (typeof onBeforeFileAddedResult === 'object' && onBeforeFileAddedResult !== null) {
    newFile = onBeforeFileAddedResult;
  }

  try {
    const filesArray = Object.keys(files).map(i => files[i]);

    _classPrivateFieldLooseBase(this, _restricter)[_restricter].validate(newFile, filesArray);
  } catch (err) {
    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](err, newFile);

    throw err;
  }

  return newFile;
}

function _startIfAutoProceed2() {
  if (this.opts.autoProceed && !this.scheduledAutoProceed) {
    this.scheduledAutoProceed = setTimeout(() => {
      this.scheduledAutoProceed = null;
      this.upload().catch(err => {
        if (!err.isRestriction) {
          this.log(err.stack || err.message || err);
        }
      });
    }, 4);
  }
}

function _addListeners2() {
  /**
   * @param {Error} error
   * @param {object} [file]
   * @param {object} [response]
   */
  const errorHandler = (error, file, response) => {
    let errorMsg = error.message || 'Unknown error';

    if (error.details) {
      errorMsg += ` ${error.details}`;
    }

    this.setState({
      error: errorMsg
    });

    if (file != null && file.id in this.getState().files) {
      this.setFileState(file.id, {
        error: errorMsg,
        response
      });
    }
  };

  this.on('error', errorHandler);
  this.on('upload-error', (file, error, response) => {
    errorHandler(error, file, response);

    if (typeof error === 'object' && error.message) {
      const newError = new Error(error.message);
      newError.details = error.message;

      if (error.details) {
        newError.details += ` ${error.details}`;
      }

      newError.message = this.i18n('failedToUpload', {
        file: file == null ? void 0 : file.name
      });

      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](newError);
    } else {
      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error);
    }
  });
  let uploadStalledWarningRecentlyEmitted;
  this.on('upload-stalled', (error, files) => {
    const {
      message
    } = error;
    const details = files.map(file => file.meta.name).join(', ');

    if (!uploadStalledWarningRecentlyEmitted) {
      this.info({
        message,
        details
      }, 'warning', this.opts.infoTimeout);
      uploadStalledWarningRecentlyEmitted = setTimeout(() => {
        uploadStalledWarningRecentlyEmitted = null;
      }, this.opts.infoTimeout);
    }

    this.log(`${message} ${details}`.trim(), 'warning');
  });
  this.on('upload', () => {
    this.setState({
      error: null
    });
  });
  this.on('upload-started', file => {
    if (file == null || !this.getFile(file.id)) {
      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);
      return;
    }

    this.setFileState(file.id, {
      progress: {
        uploadStarted: Date.now(),
        uploadComplete: false,
        percentage: 0,
        bytesUploaded: 0,
        bytesTotal: file.size
      }
    });
  });
  this.on('upload-progress', this.calculateProgress);
  this.on('upload-success', (file, uploadResp) => {
    if (file == null || !this.getFile(file.id)) {
      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);
      return;
    }

    const currentProgress = this.getFile(file.id).progress;
    this.setFileState(file.id, {
      progress: { ...currentProgress,
        postprocess: _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].size > 0 ? {
          mode: 'indeterminate'
        } : null,
        uploadComplete: true,
        percentage: 100,
        bytesUploaded: currentProgress.bytesTotal
      },
      response: uploadResp,
      uploadURL: uploadResp.uploadURL,
      isPaused: false
    }); // Remote providers sometimes don't tell us the file size,
    // but we can know how many bytes we uploaded once the upload is complete.

    if (file.size == null) {
      this.setFileState(file.id, {
        size: uploadResp.bytesUploaded || currentProgress.bytesTotal
      });
    }

    this.calculateTotalProgress();
  });
  this.on('preprocess-progress', (file, progress) => {
    if (file == null || !this.getFile(file.id)) {
      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);
      return;
    }

    this.setFileState(file.id, {
      progress: { ...this.getFile(file.id).progress,
        preprocess: progress
      }
    });
  });
  this.on('preprocess-complete', file => {
    if (file == null || !this.getFile(file.id)) {
      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);
      return;
    }

    const files = { ...this.getState().files
    };
    files[file.id] = { ...files[file.id],
      progress: { ...files[file.id].progress
      }
    };
    delete files[file.id].progress.preprocess;
    this.setState({
      files
    });
  });
  this.on('postprocess-progress', (file, progress) => {
    if (file == null || !this.getFile(file.id)) {
      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);
      return;
    }

    this.setFileState(file.id, {
      progress: { ...this.getState().files[file.id].progress,
        postprocess: progress
      }
    });
  });
  this.on('postprocess-complete', file => {
    if (file == null || !this.getFile(file.id)) {
      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);
      return;
    }

    const files = { ...this.getState().files
    };
    files[file.id] = { ...files[file.id],
      progress: { ...files[file.id].progress
      }
    };
    delete files[file.id].progress.postprocess;
    this.setState({
      files
    });
  });
  this.on('restored', () => {
    // Files may have changed--ensure progress is still accurate.
    this.calculateTotalProgress();
  });
  this.on('dashboard:file-edit-complete', file => {
    if (file) {
      _classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file);
    }
  }); // show informer if offline

  if (typeof window !== 'undefined' && window.addEventListener) {
    window.addEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);
    window.addEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);
    setTimeout(_classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus], 3000);
  }
}

function _createUpload2(fileIDs, opts) {
  if (opts === void 0) {
    opts = {};
  }

  // uppy.retryAll sets this to true — when retrying we want to ignore `allowNewUpload: false`
  const {
    forceAllowNewUpload = false
  } = opts;
  const {
    allowNewUpload,
    currentUploads
  } = this.getState();

  if (!allowNewUpload && !forceAllowNewUpload) {
    throw new Error('Cannot create a new upload: already uploading.');
  }

  const uploadID = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_12__.nanoid)();
  this.emit('upload', {
    id: uploadID,
    fileIDs
  });
  this.setState({
    allowNewUpload: this.opts.allowMultipleUploadBatches !== false && this.opts.allowMultipleUploads !== false,
    currentUploads: { ...currentUploads,
      [uploadID]: {
        fileIDs,
        step: 0,
        result: {}
      }
    }
  });
  return uploadID;
}

function _getUpload2(uploadID) {
  const {
    currentUploads
  } = this.getState();
  return currentUploads[uploadID];
}

function _removeUpload2(uploadID) {
  const currentUploads = { ...this.getState().currentUploads
  };
  delete currentUploads[uploadID];
  this.setState({
    currentUploads
  });
}

async function _runUpload2(uploadID) {
  let {
    currentUploads
  } = this.getState();
  let currentUpload = currentUploads[uploadID];
  const restoreStep = currentUpload.step || 0;
  const steps = [..._classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors], ..._classPrivateFieldLooseBase(this, _uploaders)[_uploaders], ..._classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors]];

  try {
    for (let step = restoreStep; step < steps.length; step++) {
      if (!currentUpload) {
        break;
      }

      const fn = steps[step];
      const updatedUpload = { ...currentUpload,
        step
      };
      this.setState({
        currentUploads: { ...currentUploads,
          [uploadID]: updatedUpload
        }
      }); // TODO give this the `updatedUpload` object as its only parameter maybe?
      // Otherwise when more metadata may be added to the upload this would keep getting more parameters

      await fn(updatedUpload.fileIDs, uploadID); // Update currentUpload value in case it was modified asynchronously.

      currentUploads = this.getState().currentUploads;
      currentUpload = currentUploads[uploadID];
    }
  } catch (err) {
    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);

    throw err;
  } // Set result data.


  if (currentUpload) {
    // Mark postprocessing step as complete if necessary; this addresses a case where we might get
    // stuck in the postprocessing UI while the upload is fully complete.
    // If the postprocessing steps do not do any work, they may not emit postprocessing events at
    // all, and never mark the postprocessing as complete. This is fine on its own but we
    // introduced code in the @uppy/core upload-success handler to prepare postprocessing progress
    // state if any postprocessors are registered. That is to avoid a "flash of completed state"
    // before the postprocessing plugins can emit events.
    //
    // So, just in case an upload with postprocessing plugins *has* completed *without* emitting
    // postprocessing completion, we do it instead.
    currentUpload.fileIDs.forEach(fileID => {
      const file = this.getFile(fileID);

      if (file && file.progress.postprocess) {
        this.emit('postprocess-complete', file);
      }
    });
    const files = currentUpload.fileIDs.map(fileID => this.getFile(fileID));
    const successful = files.filter(file => !file.error);
    const failed = files.filter(file => file.error);
    await this.addResultData(uploadID, {
      successful,
      failed,
      uploadID
    }); // Update currentUpload value in case it was modified asynchronously.

    currentUploads = this.getState().currentUploads;
    currentUpload = currentUploads[uploadID];
  } // Emit completion events.
  // This is in a separate function so that the `currentUploads` variable
  // always refers to the latest state. In the handler right above it refers
  // to an outdated object without the `.result` property.


  let result;

  if (currentUpload) {
    result = currentUpload.result;
    this.emit('complete', result);

    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);
  }

  if (result == null) {
    this.log(`Not setting result for an upload that has been removed: ${uploadID}`);
  }

  return result;
}

Uppy.VERSION = packageJson.version;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Uppy);

/***/ }),

/***/ "./node_modules/@uppy/core/lib/getFileName.js":
/*!****************************************************!*\
  !*** ./node_modules/@uppy/core/lib/getFileName.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getFileName)
/* harmony export */ });
function getFileName(fileType, fileDescriptor) {
  if (fileDescriptor.name) {
    return fileDescriptor.name;
  }

  if (fileType.split('/')[0] === 'image') {
    return `${fileType.split('/')[0]}.${fileType.split('/')[1]}`;
  }

  return 'noname';
}

/***/ }),

/***/ "./node_modules/@uppy/core/lib/index.js":
/*!**********************************************!*\
  !*** ./node_modules/@uppy/core/lib/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BasePlugin": () => (/* reexport safe */ _BasePlugin_js__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "UIPlugin": () => (/* reexport safe */ _UIPlugin_js__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "Uppy": () => (/* reexport safe */ _Uppy_js__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "debugLogger": () => (/* reexport safe */ _loggers_js__WEBPACK_IMPORTED_MODULE_3__.debugLogger),
/* harmony export */   "default": () => (/* reexport safe */ _Uppy_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _Uppy_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Uppy.js */ "./node_modules/@uppy/core/lib/Uppy.js");
/* harmony import */ var _UIPlugin_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UIPlugin.js */ "./node_modules/@uppy/core/lib/UIPlugin.js");
/* harmony import */ var _BasePlugin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BasePlugin.js */ "./node_modules/@uppy/core/lib/BasePlugin.js");
/* harmony import */ var _loggers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./loggers.js */ "./node_modules/@uppy/core/lib/loggers.js");






/***/ }),

/***/ "./node_modules/@uppy/core/lib/locale.js":
/*!***********************************************!*\
  !*** ./node_modules/@uppy/core/lib/locale.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  strings: {
    addBulkFilesFailed: {
      0: 'Failed to add %{smart_count} file due to an internal error',
      1: 'Failed to add %{smart_count} files due to internal errors'
    },
    youCanOnlyUploadX: {
      0: 'You can only upload %{smart_count} file',
      1: 'You can only upload %{smart_count} files'
    },
    youHaveToAtLeastSelectX: {
      0: 'You have to select at least %{smart_count} file',
      1: 'You have to select at least %{smart_count} files'
    },
    exceedsSize: '%{file} exceeds maximum allowed size of %{size}',
    missingRequiredMetaField: 'Missing required meta fields',
    missingRequiredMetaFieldOnFile: 'Missing required meta fields in %{fileName}',
    inferiorSize: 'This file is smaller than the allowed size of %{size}',
    youCanOnlyUploadFileTypes: 'You can only upload: %{types}',
    noMoreFilesAllowed: 'Cannot add more files',
    noDuplicates: "Cannot add the duplicate file '%{fileName}', it already exists",
    companionError: 'Connection with Companion failed',
    authAborted: 'Authentication aborted',
    companionUnauthorizeHint: 'To unauthorize to your %{provider} account, please go to %{url}',
    failedToUpload: 'Failed to upload %{file}',
    noInternetConnection: 'No Internet connection',
    connectedToInternet: 'Connected to the Internet',
    // Strings for remote providers
    noFilesFound: 'You have no files or folders here',
    noSearchResults: 'Unfortunately, there are no results for this search',
    selectX: {
      0: 'Select %{smart_count}',
      1: 'Select %{smart_count}'
    },
    allFilesFromFolderNamed: 'All files from folder %{name}',
    openFolderNamed: 'Open folder %{name}',
    cancel: 'Cancel',
    logOut: 'Log out',
    filter: 'Filter',
    resetFilter: 'Reset filter',
    loading: 'Loading...',
    authenticateWithTitle: 'Please authenticate with %{pluginName} to select files',
    authenticateWith: 'Connect to %{pluginName}',
    signInWithGoogle: 'Sign in with Google',
    searchImages: 'Search for images',
    enterTextToSearch: 'Enter text to search for images',
    search: 'Search',
    resetSearch: 'Reset search',
    emptyFolderAdded: 'No files were added from empty folder',
    folderAlreadyAdded: 'The folder "%{folder}" was already added',
    folderAdded: {
      0: 'Added %{smart_count} file from %{folder}',
      1: 'Added %{smart_count} files from %{folder}'
    }
  }
});

/***/ }),

/***/ "./node_modules/@uppy/core/lib/loggers.js":
/*!************************************************!*\
  !*** ./node_modules/@uppy/core/lib/loggers.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "debugLogger": () => (/* binding */ debugLogger),
/* harmony export */   "justErrorsLogger": () => (/* binding */ justErrorsLogger)
/* harmony export */ });
/* harmony import */ var _uppy_utils_lib_getTimeStamp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/utils/lib/getTimeStamp */ "./node_modules/@uppy/utils/lib/getTimeStamp.js");
/* eslint-disable no-console */
 // Swallow all logs, except errors.
// default if logger is not set or debug: false

const justErrorsLogger = {
  debug: () => {},
  warn: () => {},
  error: function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return console.error(`[Uppy] [${(0,_uppy_utils_lib_getTimeStamp__WEBPACK_IMPORTED_MODULE_0__["default"])()}]`, ...args);
  }
}; // Print logs to console with namespace + timestamp,
// set by logger: Uppy.debugLogger or debug: true

const debugLogger = {
  debug: function () {
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return console.debug(`[Uppy] [${(0,_uppy_utils_lib_getTimeStamp__WEBPACK_IMPORTED_MODULE_0__["default"])()}]`, ...args);
  },
  warn: function () {
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return console.warn(`[Uppy] [${(0,_uppy_utils_lib_getTimeStamp__WEBPACK_IMPORTED_MODULE_0__["default"])()}]`, ...args);
  },
  error: function () {
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return console.error(`[Uppy] [${(0,_uppy_utils_lib_getTimeStamp__WEBPACK_IMPORTED_MODULE_0__["default"])()}]`, ...args);
  }
};


/***/ }),

/***/ "./node_modules/@uppy/core/lib/supportsUploadProgress.js":
/*!***************************************************************!*\
  !*** ./node_modules/@uppy/core/lib/supportsUploadProgress.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ supportsUploadProgress)
/* harmony export */ });
// Edge 15.x does not fire 'progress' events on uploads.
// See https://github.com/transloadit/uppy/issues/945
// And https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/
function supportsUploadProgress(userAgent) {
  // Allow passing in userAgent for tests
  if (userAgent == null && typeof navigator !== 'undefined') {
    // eslint-disable-next-line no-param-reassign
    userAgent = navigator.userAgent;
  } // Assume it works because basically everything supports progress events.


  if (!userAgent) return true;
  const m = /Edge\/(\d+\.\d+)/.exec(userAgent);
  if (!m) return true;
  const edgeVersion = m[1];
  let [major, minor] = edgeVersion.split('.');
  major = parseInt(major, 10);
  minor = parseInt(minor, 10); // Worked before:
  // Edge 40.15063.0.0
  // Microsoft EdgeHTML 15.15063

  if (major < 15 || major === 15 && minor < 15063) {
    return true;
  } // Fixed in:
  // Microsoft EdgeHTML 18.18218


  if (major > 18 || major === 18 && minor >= 18218) {
    return true;
  } // other versions don't work.


  return false;
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/Dashboard.js":
/*!*******************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/Dashboard.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Dashboard)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _uppy_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/core */ "./node_modules/@uppy/core/lib/index.js");
/* harmony import */ var _uppy_status_bar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/status-bar */ "./node_modules/@uppy/status-bar/lib/index.js");
/* harmony import */ var _uppy_informer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uppy/informer */ "./node_modules/@uppy/informer/lib/index.js");
/* harmony import */ var _uppy_thumbnail_generator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @uppy/thumbnail-generator */ "./node_modules/@uppy/thumbnail-generator/lib/index.js");
/* harmony import */ var _uppy_utils_lib_findAllDOMElements__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @uppy/utils/lib/findAllDOMElements */ "./node_modules/@uppy/utils/lib/findAllDOMElements.js");
/* harmony import */ var _uppy_utils_lib_toArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @uppy/utils/lib/toArray */ "./node_modules/@uppy/utils/lib/toArray.js");
/* harmony import */ var _uppy_utils_lib_getDroppedFiles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @uppy/utils/lib/getDroppedFiles */ "./node_modules/@uppy/utils/lib/getDroppedFiles/index.js");
/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! nanoid/non-secure */ "./node_modules/nanoid/non-secure/index.js");
/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! memoize-one */ "./node_modules/memoize-one/dist/memoize-one.esm.js");
/* harmony import */ var _utils_trapFocus_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/trapFocus.js */ "./node_modules/@uppy/dashboard/lib/utils/trapFocus.js");
/* harmony import */ var _utils_createSuperFocus_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/createSuperFocus.js */ "./node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js");
/* harmony import */ var _components_Dashboard_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/Dashboard.js */ "./node_modules/@uppy/dashboard/lib/components/Dashboard.js");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@uppy/dashboard/lib/locale.js");
function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }














const packageJson = {
  "version": "3.3.2"
};

const memoize = memoize_one__WEBPACK_IMPORTED_MODULE_12__["default"]["default"] || memoize_one__WEBPACK_IMPORTED_MODULE_12__["default"];
const TAB_KEY = 9;
const ESC_KEY = 27;

function createPromise() {
  const o = {};
  o.promise = new Promise((resolve, reject) => {
    o.resolve = resolve;
    o.reject = reject;
  });
  return o;
}

function defaultPickerIcon() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    width: "30",
    height: "30",
    viewBox: "0 0 30 30"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"
  }));
}
/**
 * Dashboard UI with previews, metadata editing, tabs for various services and more
 */


var _disabledNodes = /*#__PURE__*/_classPrivateFieldLooseKey("disabledNodes");

var _generateLargeThumbnailIfSingleFile = /*#__PURE__*/_classPrivateFieldLooseKey("generateLargeThumbnailIfSingleFile");

var _openFileEditorWhenFilesAdded = /*#__PURE__*/_classPrivateFieldLooseKey("openFileEditorWhenFilesAdded");

var _attachRenderFunctionToTarget = /*#__PURE__*/_classPrivateFieldLooseKey("attachRenderFunctionToTarget");

var _isTargetSupported = /*#__PURE__*/_classPrivateFieldLooseKey("isTargetSupported");

var _getAcquirers = /*#__PURE__*/_classPrivateFieldLooseKey("getAcquirers");

var _getProgressIndicators = /*#__PURE__*/_classPrivateFieldLooseKey("getProgressIndicators");

var _getEditors = /*#__PURE__*/_classPrivateFieldLooseKey("getEditors");

class Dashboard extends _uppy_core__WEBPACK_IMPORTED_MODULE_1__.UIPlugin {
  constructor(uppy, _opts) {
    var _this;

    super(uppy, _opts);
    _this = this;
    Object.defineProperty(this, _disabledNodes, {
      writable: true,
      value: null
    });

    this.removeTarget = plugin => {
      const pluginState = this.getPluginState(); // filter out the one we want to remove

      const newTargets = pluginState.targets.filter(target => target.id !== plugin.id);
      this.setPluginState({
        targets: newTargets
      });
    };

    this.addTarget = plugin => {
      const callerPluginId = plugin.id || plugin.constructor.name;
      const callerPluginName = plugin.title || callerPluginId;
      const callerPluginType = plugin.type;

      if (callerPluginType !== 'acquirer' && callerPluginType !== 'progressindicator' && callerPluginType !== 'editor') {
        const msg = 'Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor';
        this.uppy.log(msg, 'error');
        return undefined;
      }

      const target = {
        id: callerPluginId,
        name: callerPluginName,
        type: callerPluginType
      };
      const state = this.getPluginState();
      const newTargets = state.targets.slice();
      newTargets.push(target);
      this.setPluginState({
        targets: newTargets
      });
      return this.el;
    };

    this.hideAllPanels = () => {
      const state = this.getPluginState();
      const update = {
        activePickerPanel: false,
        showAddFilesPanel: false,
        activeOverlayType: null,
        fileCardFor: null,
        showFileEditor: false
      };

      if (state.activePickerPanel === update.activePickerPanel && state.showAddFilesPanel === update.showAddFilesPanel && state.showFileEditor === update.showFileEditor && state.activeOverlayType === update.activeOverlayType) {
        // avoid doing a state update if nothing changed
        return;
      }

      this.setPluginState(update);
    };

    this.showPanel = id => {
      const {
        targets
      } = this.getPluginState();
      const activePickerPanel = targets.filter(target => {
        return target.type === 'acquirer' && target.id === id;
      })[0];
      this.setPluginState({
        activePickerPanel,
        activeOverlayType: 'PickerPanel'
      });
      this.uppy.emit('dashboard:show-panel', id);
    };

    this.canEditFile = file => {
      const {
        targets
      } = this.getPluginState();

      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);

      return editors.some(target => this.uppy.getPlugin(target.id).canEditFile(file));
    };

    this.openFileEditor = file => {
      const {
        targets
      } = this.getPluginState();

      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);

      this.setPluginState({
        showFileEditor: true,
        fileCardFor: file.id || null,
        activeOverlayType: 'FileEditor'
      });
      editors.forEach(editor => {
        this.uppy.getPlugin(editor.id).selectFile(file);
      });
    };

    this.saveFileEditor = () => {
      const {
        targets
      } = this.getPluginState();

      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);

      editors.forEach(editor => {
        this.uppy.getPlugin(editor.id).save();
      });
      this.hideAllPanels();
    };

    this.openModal = () => {
      const {
        promise,
        resolve
      } = createPromise(); // save scroll position

      this.savedScrollPosition = window.pageYOffset; // save active element, so we can restore focus when modal is closed

      this.savedActiveElement = document.activeElement;

      if (this.opts.disablePageScrollWhenModalOpen) {
        document.body.classList.add('uppy-Dashboard-isFixed');
      }

      if (this.opts.animateOpenClose && this.getPluginState().isClosing) {
        const handler = () => {
          this.setPluginState({
            isHidden: false
          });
          this.el.removeEventListener('animationend', handler, false);
          resolve();
        };

        this.el.addEventListener('animationend', handler, false);
      } else {
        this.setPluginState({
          isHidden: false
        });
        resolve();
      }

      if (this.opts.browserBackButtonClose) {
        this.updateBrowserHistory();
      } // handle ESC and TAB keys in modal dialog


      document.addEventListener('keydown', this.handleKeyDownInModal);
      this.uppy.emit('dashboard:modal-open');
      return promise;
    };

    this.closeModal = function (opts) {
      if (opts === void 0) {
        opts = {};
      }

      const {
        // Whether the modal is being closed by the user (`true`) or by other means (e.g. browser back button)
        manualClose = true
      } = opts;

      const {
        isHidden,
        isClosing
      } = _this.getPluginState();

      if (isHidden || isClosing) {
        // short-circuit if animation is ongoing
        return undefined;
      }

      const {
        promise,
        resolve
      } = createPromise();

      if (_this.opts.disablePageScrollWhenModalOpen) {
        document.body.classList.remove('uppy-Dashboard-isFixed');
      }

      if (_this.opts.animateOpenClose) {
        _this.setPluginState({
          isClosing: true
        });

        const handler = () => {
          _this.setPluginState({
            isHidden: true,
            isClosing: false
          });

          _this.superFocus.cancel();

          _this.savedActiveElement.focus();

          _this.el.removeEventListener('animationend', handler, false);

          resolve();
        };

        _this.el.addEventListener('animationend', handler, false);
      } else {
        _this.setPluginState({
          isHidden: true
        });

        _this.superFocus.cancel();

        _this.savedActiveElement.focus();

        resolve();
      } // handle ESC and TAB keys in modal dialog


      document.removeEventListener('keydown', _this.handleKeyDownInModal);

      if (manualClose) {
        if (_this.opts.browserBackButtonClose) {
          var _history$state;

          // Make sure that the latest entry in the history state is our modal name
          // eslint-disable-next-line no-restricted-globals
          if ((_history$state = history.state) != null && _history$state[_this.modalName]) {
            // Go back in history to clear out the entry we created (ultimately closing the modal)
            // eslint-disable-next-line no-restricted-globals
            history.back();
          }
        }
      }

      _this.uppy.emit('dashboard:modal-closed');

      return promise;
    };

    this.isModalOpen = () => {
      return !this.getPluginState().isHidden || false;
    };

    this.requestCloseModal = () => {
      if (this.opts.onRequestCloseModal) {
        return this.opts.onRequestCloseModal();
      }

      return this.closeModal();
    };

    this.setDarkModeCapability = isDarkModeOn => {
      const {
        capabilities
      } = this.uppy.getState();
      this.uppy.setState({
        capabilities: { ...capabilities,
          darkMode: isDarkModeOn
        }
      });
    };

    this.handleSystemDarkModeChange = event => {
      const isDarkModeOnNow = event.matches;
      this.uppy.log(`[Dashboard] Dark mode is ${isDarkModeOnNow ? 'on' : 'off'}`);
      this.setDarkModeCapability(isDarkModeOnNow);
    };

    this.toggleFileCard = (show, fileID) => {
      const file = this.uppy.getFile(fileID);

      if (show) {
        this.uppy.emit('dashboard:file-edit-start', file);
      } else {
        this.uppy.emit('dashboard:file-edit-complete', file);
      }

      this.setPluginState({
        fileCardFor: show ? fileID : null,
        activeOverlayType: show ? 'FileCard' : null
      });
    };

    this.toggleAddFilesPanel = show => {
      this.setPluginState({
        showAddFilesPanel: show,
        activeOverlayType: show ? 'AddFiles' : null
      });
    };

    this.addFiles = files => {
      const descriptors = files.map(file => ({
        source: this.id,
        name: file.name,
        type: file.type,
        data: file,
        meta: {
          // path of the file relative to the ancestor directory the user selected.
          // e.g. 'docs/Old Prague/airbnb.pdf'
          relativePath: file.relativePath || file.webkitRelativePath || null
        }
      }));

      try {
        this.uppy.addFiles(descriptors);
      } catch (err) {
        this.uppy.log(err);
      }
    };

    this.startListeningToResize = () => {
      // Watch for Dashboard container (`.uppy-Dashboard-inner`) resize
      // and update containerWidth/containerHeight in plugin state accordingly.
      // Emits first event on initialization.
      this.resizeObserver = new ResizeObserver(entries => {
        const uppyDashboardInnerEl = entries[0];
        const {
          width,
          height
        } = uppyDashboardInnerEl.contentRect;
        this.setPluginState({
          containerWidth: width,
          containerHeight: height,
          areInsidesReadyToBeVisible: true
        });
      });
      this.resizeObserver.observe(this.el.querySelector('.uppy-Dashboard-inner')); // If ResizeObserver fails to emit an event telling us what size to use - default to the mobile view

      this.makeDashboardInsidesVisibleAnywayTimeout = setTimeout(() => {
        const pluginState = this.getPluginState();
        const isModalAndClosed = !this.opts.inline && pluginState.isHidden;

        if ( // if ResizeObserver hasn't yet fired,
        !pluginState.areInsidesReadyToBeVisible // and it's not due to the modal being closed
        && !isModalAndClosed) {
          this.uppy.log('[Dashboard] resize event didn’t fire on time: defaulted to mobile layout', 'warning');
          this.setPluginState({
            areInsidesReadyToBeVisible: true
          });
        }
      }, 1000);
    };

    this.stopListeningToResize = () => {
      this.resizeObserver.disconnect();
      clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout);
    };

    this.recordIfFocusedOnUppyRecently = event => {
      if (this.el.contains(event.target)) {
        this.ifFocusedOnUppyRecently = true;
      } else {
        this.ifFocusedOnUppyRecently = false; // ___Why run this.superFocus.cancel here when it already runs in superFocusOnEachUpdate?
        //    Because superFocus is debounced, when we move from Uppy to some other element on the page,
        //    previously run superFocus sometimes hits and moves focus back to Uppy.

        this.superFocus.cancel();
      }
    };

    this.disableInteractiveElements = disable => {
      var _classPrivateFieldLoo;

      const NODES_TO_DISABLE = ['a[href]', 'input:not([disabled])', 'select:not([disabled])', 'textarea:not([disabled])', 'button:not([disabled])', '[role="button"]:not([disabled])'];
      const nodesToDisable = (_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _disabledNodes)[_disabledNodes]) != null ? _classPrivateFieldLoo : (0,_uppy_utils_lib_toArray__WEBPACK_IMPORTED_MODULE_6__["default"])(this.el.querySelectorAll(NODES_TO_DISABLE)).filter(node => !node.classList.contains('uppy-Dashboard-close'));

      for (const node of nodesToDisable) {
        // Links can’t have `disabled` attr, so we use `aria-disabled` for a11y
        if (node.tagName === 'A') {
          node.setAttribute('aria-disabled', disable);
        } else {
          node.disabled = disable;
        }
      }

      if (disable) {
        _classPrivateFieldLooseBase(this, _disabledNodes)[_disabledNodes] = nodesToDisable;
      } else {
        _classPrivateFieldLooseBase(this, _disabledNodes)[_disabledNodes] = null;
      }

      this.dashboardIsDisabled = disable;
    };

    this.updateBrowserHistory = () => {
      var _history$state2;

      // Ensure history state does not already contain our modal name to avoid double-pushing
      // eslint-disable-next-line no-restricted-globals
      if (!((_history$state2 = history.state) != null && _history$state2[this.modalName])) {
        // Push to history so that the page is not lost on browser back button press
        // eslint-disable-next-line no-restricted-globals
        history.pushState({ // eslint-disable-next-line no-restricted-globals
          ...history.state,
          [this.modalName]: true
        }, '');
      } // Listen for back button presses


      window.addEventListener('popstate', this.handlePopState, false);
    };

    this.handlePopState = event => {
      var _event$state;

      // Close the modal if the history state no longer contains our modal name
      if (this.isModalOpen() && (!event.state || !event.state[this.modalName])) {
        this.closeModal({
          manualClose: false
        });
      } // When the browser back button is pressed and uppy is now the latest entry
      // in the history but the modal is closed, fix the history by removing the
      // uppy history entry.
      // This occurs when another entry is added into the history state while the
      // modal is open, and then the modal gets manually closed.
      // Solves PR #575 (https://github.com/transloadit/uppy/pull/575)


      if (!this.isModalOpen() && (_event$state = event.state) != null && _event$state[this.modalName]) {
        // eslint-disable-next-line no-restricted-globals
        history.back();
      }
    };

    this.handleKeyDownInModal = event => {
      // close modal on esc key press
      if (event.keyCode === ESC_KEY) this.requestCloseModal(event); // trap focus on tab key press

      if (event.keyCode === TAB_KEY) _utils_trapFocus_js__WEBPACK_IMPORTED_MODULE_8__.forModal(event, this.getPluginState().activeOverlayType, this.el);
    };

    this.handleClickOutside = () => {
      if (this.opts.closeModalOnClickOutside) this.requestCloseModal();
    };

    this.handlePaste = event => {
      // Let any acquirer plugin (Url/Webcam/etc.) handle pastes to the root
      this.uppy.iteratePlugins(plugin => {
        if (plugin.type === 'acquirer') {
          // Every Plugin with .type acquirer can define handleRootPaste(event)
          plugin.handleRootPaste == null ? void 0 : plugin.handleRootPaste(event);
        }
      }); // Add all dropped files

      const files = (0,_uppy_utils_lib_toArray__WEBPACK_IMPORTED_MODULE_6__["default"])(event.clipboardData.files);

      if (files.length > 0) {
        this.uppy.log('[Dashboard] Files pasted');
        this.addFiles(files);
      }
    };

    this.handleInputChange = event => {
      event.preventDefault();
      const files = (0,_uppy_utils_lib_toArray__WEBPACK_IMPORTED_MODULE_6__["default"])(event.target.files);

      if (files.length > 0) {
        this.uppy.log('[Dashboard] Files selected through input');
        this.addFiles(files);
      }
    };

    this.handleDragOver = event => {
      var _this$opts$onDragOver, _this$opts;

      event.preventDefault();
      event.stopPropagation(); // Check if some plugin can handle the datatransfer without files —
      // for instance, the Url plugin can import a url

      const canSomePluginHandleRootDrop = () => {
        let somePluginCanHandleRootDrop = true;
        this.uppy.iteratePlugins(plugin => {
          if (plugin.canHandleRootDrop != null && plugin.canHandleRootDrop(event)) {
            somePluginCanHandleRootDrop = true;
          }
        });
        return somePluginCanHandleRootDrop;
      }; // Check if the "type" of the datatransfer object includes files


      const doesEventHaveFiles = () => {
        const {
          types
        } = event.dataTransfer;
        return types.some(type => type === 'Files');
      }; // Deny drop, if no plugins can handle datatransfer, there are no files,
      // or when opts.disabled is set, or new uploads are not allowed


      const somePluginCanHandleRootDrop = canSomePluginHandleRootDrop(event);
      const hasFiles = doesEventHaveFiles(event);

      if (!somePluginCanHandleRootDrop && !hasFiles || this.opts.disabled // opts.disableLocalFiles should only be taken into account if no plugins
      // can handle the datatransfer
      || this.opts.disableLocalFiles && (hasFiles || !somePluginCanHandleRootDrop) || !this.uppy.getState().allowNewUpload) {
        event.dataTransfer.dropEffect = 'none'; // eslint-disable-line no-param-reassign

        clearTimeout(this.removeDragOverClassTimeout);
        return;
      } // Add a small (+) icon on drop
      // (and prevent browsers from interpreting this as files being _moved_ into the
      // browser, https://github.com/transloadit/uppy/issues/1978).


      event.dataTransfer.dropEffect = 'copy'; // eslint-disable-line no-param-reassign

      clearTimeout(this.removeDragOverClassTimeout);
      this.setPluginState({
        isDraggingOver: true
      });
      (_this$opts$onDragOver = (_this$opts = this.opts).onDragOver) == null ? void 0 : _this$opts$onDragOver.call(_this$opts, event);
    };

    this.handleDragLeave = event => {
      var _this$opts$onDragLeav, _this$opts2;

      event.preventDefault();
      event.stopPropagation();
      clearTimeout(this.removeDragOverClassTimeout); // Timeout against flickering, this solution is taken from drag-drop library.
      // Solution with 'pointer-events: none' didn't work across browsers.

      this.removeDragOverClassTimeout = setTimeout(() => {
        this.setPluginState({
          isDraggingOver: false
        });
      }, 50);
      (_this$opts$onDragLeav = (_this$opts2 = this.opts).onDragLeave) == null ? void 0 : _this$opts$onDragLeav.call(_this$opts2, event);
    };

    this.handleDrop = async event => {
      var _this$opts$onDrop, _this$opts3;

      event.preventDefault();
      event.stopPropagation();
      clearTimeout(this.removeDragOverClassTimeout);
      this.setPluginState({
        isDraggingOver: false
      }); // Let any acquirer plugin (Url/Webcam/etc.) handle drops to the root

      this.uppy.iteratePlugins(plugin => {
        if (plugin.type === 'acquirer') {
          // Every Plugin with .type acquirer can define handleRootDrop(event)
          plugin.handleRootDrop == null ? void 0 : plugin.handleRootDrop(event);
        }
      }); // Add all dropped files

      let executedDropErrorOnce = false;

      const logDropError = error => {
        this.uppy.log(error, 'error'); // In practice all drop errors are most likely the same,
        // so let's just show one to avoid overwhelming the user

        if (!executedDropErrorOnce) {
          this.uppy.info(error.message, 'error');
          executedDropErrorOnce = true;
        }
      }; // Add all dropped files


      const files = await (0,_uppy_utils_lib_getDroppedFiles__WEBPACK_IMPORTED_MODULE_7__["default"])(event.dataTransfer, {
        logDropError
      });

      if (files.length > 0) {
        this.uppy.log('[Dashboard] Files dropped');
        this.addFiles(files);
      }

      (_this$opts$onDrop = (_this$opts3 = this.opts).onDrop) == null ? void 0 : _this$opts$onDrop.call(_this$opts3, event);
    };

    this.handleRequestThumbnail = file => {
      if (!this.opts.waitForThumbnailsBeforeUpload) {
        this.uppy.emit('thumbnail:request', file);
      }
    };

    this.handleCancelThumbnail = file => {
      if (!this.opts.waitForThumbnailsBeforeUpload) {
        this.uppy.emit('thumbnail:cancel', file);
      }
    };

    this.handleKeyDownInInline = event => {
      // Trap focus on tab key press.
      if (event.keyCode === TAB_KEY) _utils_trapFocus_js__WEBPACK_IMPORTED_MODULE_8__.forInline(event, this.getPluginState().activeOverlayType, this.el);
    };

    this.handlePasteOnBody = event => {
      const isFocusInOverlay = this.el.contains(document.activeElement);

      if (isFocusInOverlay) {
        this.handlePaste(event);
      }
    };

    this.handleComplete = _ref => {
      let {
        failed
      } = _ref;

      if (this.opts.closeAfterFinish && failed.length === 0) {
        // All uploads are done
        this.requestCloseModal();
      }
    };

    this.handleCancelRestore = () => {
      this.uppy.emit('restore-canceled');
    };

    Object.defineProperty(this, _generateLargeThumbnailIfSingleFile, {
      writable: true,
      value: () => {
        if (this.opts.disableThumbnailGenerator) {
          return;
        }

        const LARGE_THUMBNAIL = 600;
        const files = this.uppy.getFiles();

        if (files.length === 1) {
          const thumbnailGenerator = this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);
          thumbnailGenerator == null ? void 0 : thumbnailGenerator.setOptions({
            thumbnailWidth: LARGE_THUMBNAIL
          });
          const fileForThumbnail = { ...files[0],
            preview: undefined
          };
          thumbnailGenerator.requestThumbnail(fileForThumbnail).then(() => {
            thumbnailGenerator == null ? void 0 : thumbnailGenerator.setOptions({
              thumbnailWidth: this.opts.thumbnailWidth
            });
          });
        }
      }
    });
    Object.defineProperty(this, _openFileEditorWhenFilesAdded, {
      writable: true,
      value: files => {
        const firstFile = files[0];

        if (this.canEditFile(firstFile)) {
          this.openFileEditor(firstFile);
        }
      }
    });

    this.initEvents = () => {
      // Modal open button
      if (this.opts.trigger && !this.opts.inline) {
        const showModalTrigger = (0,_uppy_utils_lib_findAllDOMElements__WEBPACK_IMPORTED_MODULE_5__["default"])(this.opts.trigger);

        if (showModalTrigger) {
          showModalTrigger.forEach(trigger => trigger.addEventListener('click', this.openModal));
        } else {
          this.uppy.log('Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself', 'warning');
        }
      }

      this.startListeningToResize();
      document.addEventListener('paste', this.handlePasteOnBody);
      this.uppy.on('plugin-remove', this.removeTarget);
      this.uppy.on('file-added', this.hideAllPanels);
      this.uppy.on('dashboard:modal-closed', this.hideAllPanels);
      this.uppy.on('file-editor:complete', this.hideAllPanels);
      this.uppy.on('complete', this.handleComplete);
      this.uppy.on('files-added', _classPrivateFieldLooseBase(this, _generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]);
      this.uppy.on('file-removed', _classPrivateFieldLooseBase(this, _generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]); // ___Why fire on capture?
      //    Because this.ifFocusedOnUppyRecently needs to change before onUpdate() fires.

      document.addEventListener('focus', this.recordIfFocusedOnUppyRecently, true);
      document.addEventListener('click', this.recordIfFocusedOnUppyRecently, true);

      if (this.opts.inline) {
        this.el.addEventListener('keydown', this.handleKeyDownInInline);
      }

      if (this.opts.autoOpenFileEditor) {
        this.uppy.on('files-added', _classPrivateFieldLooseBase(this, _openFileEditorWhenFilesAdded)[_openFileEditorWhenFilesAdded]);
      }
    };

    this.removeEvents = () => {
      const showModalTrigger = (0,_uppy_utils_lib_findAllDOMElements__WEBPACK_IMPORTED_MODULE_5__["default"])(this.opts.trigger);

      if (!this.opts.inline && showModalTrigger) {
        showModalTrigger.forEach(trigger => trigger.removeEventListener('click', this.openModal));
      }

      this.stopListeningToResize();
      document.removeEventListener('paste', this.handlePasteOnBody);
      window.removeEventListener('popstate', this.handlePopState, false);
      this.uppy.off('plugin-remove', this.removeTarget);
      this.uppy.off('file-added', this.hideAllPanels);
      this.uppy.off('dashboard:modal-closed', this.hideAllPanels);
      this.uppy.off('file-editor:complete', this.hideAllPanels);
      this.uppy.off('complete', this.handleComplete);
      this.uppy.off('files-added', _classPrivateFieldLooseBase(this, _generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]);
      this.uppy.off('file-removed', _classPrivateFieldLooseBase(this, _generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]);
      document.removeEventListener('focus', this.recordIfFocusedOnUppyRecently);
      document.removeEventListener('click', this.recordIfFocusedOnUppyRecently);

      if (this.opts.inline) {
        this.el.removeEventListener('keydown', this.handleKeyDownInInline);
      }

      if (this.opts.autoOpenFileEditor) {
        this.uppy.off('files-added', _classPrivateFieldLooseBase(this, _openFileEditorWhenFilesAdded)[_openFileEditorWhenFilesAdded]);
      }
    };

    this.superFocusOnEachUpdate = () => {
      const isFocusInUppy = this.el.contains(document.activeElement); // When focus is lost on the page (== focus is on body for most browsers, or focus is null for IE11)

      const isFocusNowhere = document.activeElement === document.body || document.activeElement === null;
      const isInformerHidden = this.uppy.getState().info.length === 0;
      const isModal = !this.opts.inline;

      if ( // If update is connected to showing the Informer - let the screen reader calmly read it.
      isInformerHidden && ( // If we are in a modal - always superfocus without concern for other elements
      // on the page (user is unlikely to want to interact with the rest of the page)
      isModal // If we are already inside of Uppy, or
      || isFocusInUppy // If we are not focused on anything BUT we have already, at least once, focused on uppy
      //   1. We focus when isFocusNowhere, because when the element we were focused
      //      on disappears (e.g. an overlay), - focus gets lost. If user is typing
      //      something somewhere else on the page, - focus won't be 'nowhere'.
      //   2. We only focus when focus is nowhere AND this.ifFocusedOnUppyRecently,
      //      to avoid focus jumps if we do something else on the page.
      //   [Practical check] Without '&& this.ifFocusedOnUppyRecently', in Safari, in inline mode,
      //                     when file is uploading, - navigate via tab to the checkbox,
      //                     try to press space multiple times. Focus will jump to Uppy.
      || isFocusNowhere && this.ifFocusedOnUppyRecently)) {
        this.superFocus(this.el, this.getPluginState().activeOverlayType);
      } else {
        this.superFocus.cancel();
      }
    };

    this.afterUpdate = () => {
      if (this.opts.disabled && !this.dashboardIsDisabled) {
        this.disableInteractiveElements(true);
        return;
      }

      if (!this.opts.disabled && this.dashboardIsDisabled) {
        this.disableInteractiveElements(false);
      }

      this.superFocusOnEachUpdate();
    };

    this.saveFileCard = (meta, fileID) => {
      this.uppy.setFileMeta(fileID, meta);
      this.toggleFileCard(false, fileID);
    };

    Object.defineProperty(this, _attachRenderFunctionToTarget, {
      writable: true,
      value: target => {
        const plugin = this.uppy.getPlugin(target.id);
        return { ...target,
          icon: plugin.icon || this.opts.defaultPickerIcon,
          render: plugin.render
        };
      }
    });
    Object.defineProperty(this, _isTargetSupported, {
      writable: true,
      value: target => {
        const plugin = this.uppy.getPlugin(target.id); // If the plugin does not provide a `supported` check, assume the plugin works everywhere.

        if (typeof plugin.isSupported !== 'function') {
          return true;
        }

        return plugin.isSupported();
      }
    });
    Object.defineProperty(this, _getAcquirers, {
      writable: true,
      value: memoize(targets => {
        return targets.filter(target => target.type === 'acquirer' && _classPrivateFieldLooseBase(this, _isTargetSupported)[_isTargetSupported](target)).map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);
      })
    });
    Object.defineProperty(this, _getProgressIndicators, {
      writable: true,
      value: memoize(targets => {
        return targets.filter(target => target.type === 'progressindicator').map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);
      })
    });
    Object.defineProperty(this, _getEditors, {
      writable: true,
      value: memoize(targets => {
        return targets.filter(target => target.type === 'editor').map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);
      })
    });

    this.render = state => {
      const pluginState = this.getPluginState();
      const {
        files,
        capabilities,
        allowNewUpload
      } = state;
      const {
        newFiles,
        uploadStartedFiles,
        completeFiles,
        erroredFiles,
        inProgressFiles,
        inProgressNotPausedFiles,
        processingFiles,
        isUploadStarted,
        isAllComplete,
        isAllErrored,
        isAllPaused
      } = this.uppy.getObjectOfFilesPerState();

      const acquirers = _classPrivateFieldLooseBase(this, _getAcquirers)[_getAcquirers](pluginState.targets);

      const progressindicators = _classPrivateFieldLooseBase(this, _getProgressIndicators)[_getProgressIndicators](pluginState.targets);

      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](pluginState.targets);

      let theme;

      if (this.opts.theme === 'auto') {
        theme = capabilities.darkMode ? 'dark' : 'light';
      } else {
        theme = this.opts.theme;
      }

      if (['files', 'folders', 'both'].indexOf(this.opts.fileManagerSelectionType) < 0) {
        this.opts.fileManagerSelectionType = 'files'; // eslint-disable-next-line no-console

        console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`);
      }

      return (0,_components_Dashboard_js__WEBPACK_IMPORTED_MODULE_10__["default"])({
        state,
        isHidden: pluginState.isHidden,
        files,
        newFiles,
        uploadStartedFiles,
        completeFiles,
        erroredFiles,
        inProgressFiles,
        inProgressNotPausedFiles,
        processingFiles,
        isUploadStarted,
        isAllComplete,
        isAllErrored,
        isAllPaused,
        totalFileCount: Object.keys(files).length,
        totalProgress: state.totalProgress,
        allowNewUpload,
        acquirers,
        theme,
        disabled: this.opts.disabled,
        disableLocalFiles: this.opts.disableLocalFiles,
        direction: this.opts.direction,
        activePickerPanel: pluginState.activePickerPanel,
        showFileEditor: pluginState.showFileEditor,
        saveFileEditor: this.saveFileEditor,
        disableInteractiveElements: this.disableInteractiveElements,
        animateOpenClose: this.opts.animateOpenClose,
        isClosing: pluginState.isClosing,
        progressindicators,
        editors,
        autoProceed: this.uppy.opts.autoProceed,
        id: this.id,
        closeModal: this.requestCloseModal,
        handleClickOutside: this.handleClickOutside,
        handleInputChange: this.handleInputChange,
        handlePaste: this.handlePaste,
        inline: this.opts.inline,
        showPanel: this.showPanel,
        hideAllPanels: this.hideAllPanels,
        i18n: this.i18n,
        i18nArray: this.i18nArray,
        uppy: this.uppy,
        note: this.opts.note,
        recoveredState: state.recoveredState,
        metaFields: pluginState.metaFields,
        resumableUploads: capabilities.resumableUploads || false,
        individualCancellation: capabilities.individualCancellation,
        isMobileDevice: capabilities.isMobileDevice,
        fileCardFor: pluginState.fileCardFor,
        toggleFileCard: this.toggleFileCard,
        toggleAddFilesPanel: this.toggleAddFilesPanel,
        showAddFilesPanel: pluginState.showAddFilesPanel,
        saveFileCard: this.saveFileCard,
        openFileEditor: this.openFileEditor,
        canEditFile: this.canEditFile,
        width: this.opts.width,
        height: this.opts.height,
        showLinkToFileUploadResult: this.opts.showLinkToFileUploadResult,
        fileManagerSelectionType: this.opts.fileManagerSelectionType,
        proudlyDisplayPoweredByUppy: this.opts.proudlyDisplayPoweredByUppy,
        hideCancelButton: this.opts.hideCancelButton,
        hideRetryButton: this.opts.hideRetryButton,
        hidePauseResumeButton: this.opts.hidePauseResumeButton,
        showRemoveButtonAfterComplete: this.opts.showRemoveButtonAfterComplete,
        containerWidth: pluginState.containerWidth,
        containerHeight: pluginState.containerHeight,
        areInsidesReadyToBeVisible: pluginState.areInsidesReadyToBeVisible,
        isTargetDOMEl: this.isTargetDOMEl,
        parentElement: this.el,
        allowedFileTypes: this.uppy.opts.restrictions.allowedFileTypes,
        maxNumberOfFiles: this.uppy.opts.restrictions.maxNumberOfFiles,
        requiredMetaFields: this.uppy.opts.restrictions.requiredMetaFields,
        showSelectedFiles: this.opts.showSelectedFiles,
        showNativePhotoCameraButton: this.opts.showNativePhotoCameraButton,
        showNativeVideoCameraButton: this.opts.showNativeVideoCameraButton,
        nativeCameraFacingMode: this.opts.nativeCameraFacingMode,
        handleCancelRestore: this.handleCancelRestore,
        handleRequestThumbnail: this.handleRequestThumbnail,
        handleCancelThumbnail: this.handleCancelThumbnail,
        // drag props
        isDraggingOver: pluginState.isDraggingOver,
        handleDragOver: this.handleDragOver,
        handleDragLeave: this.handleDragLeave,
        handleDrop: this.handleDrop
      });
    };

    this.discoverProviderPlugins = () => {
      this.uppy.iteratePlugins(plugin => {
        if (plugin && !plugin.target && plugin.opts && plugin.opts.target === this.constructor) {
          this.addTarget(plugin);
        }
      });
    };

    this.install = () => {
      // Set default state for Dashboard
      this.setPluginState({
        isHidden: true,
        fileCardFor: null,
        activeOverlayType: null,
        showAddFilesPanel: false,
        activePickerPanel: false,
        showFileEditor: false,
        metaFields: this.opts.metaFields,
        targets: [],
        // We'll make them visible once .containerWidth is determined
        areInsidesReadyToBeVisible: false,
        isDraggingOver: false
      });
      const {
        inline,
        closeAfterFinish
      } = this.opts;

      if (inline && closeAfterFinish) {
        throw new Error('[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.');
      }

      const {
        allowMultipleUploads,
        allowMultipleUploadBatches
      } = this.uppy.opts;

      if ((allowMultipleUploads || allowMultipleUploadBatches) && closeAfterFinish) {
        this.uppy.log('[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true', 'warning');
      }

      const {
        target
      } = this.opts;

      if (target) {
        this.mount(target, this);
      }

      const plugins = this.opts.plugins || [];
      plugins.forEach(pluginID => {
        const plugin = this.uppy.getPlugin(pluginID);

        if (plugin) {
          plugin.mount(this, plugin);
        }
      });

      if (!this.opts.disableStatusBar) {
        this.uppy.use(_uppy_status_bar__WEBPACK_IMPORTED_MODULE_2__["default"], {
          id: `${this.id}:StatusBar`,
          target: this,
          hideUploadButton: this.opts.hideUploadButton,
          hideRetryButton: this.opts.hideRetryButton,
          hidePauseResumeButton: this.opts.hidePauseResumeButton,
          hideCancelButton: this.opts.hideCancelButton,
          showProgressDetails: this.opts.showProgressDetails,
          hideAfterFinish: this.opts.hideProgressAfterFinish,
          locale: this.opts.locale,
          doneButtonHandler: this.opts.doneButtonHandler
        });
      }

      if (!this.opts.disableInformer) {
        this.uppy.use(_uppy_informer__WEBPACK_IMPORTED_MODULE_3__["default"], {
          id: `${this.id}:Informer`,
          target: this
        });
      }

      if (!this.opts.disableThumbnailGenerator) {
        this.uppy.use(_uppy_thumbnail_generator__WEBPACK_IMPORTED_MODULE_4__["default"], {
          id: `${this.id}:ThumbnailGenerator`,
          thumbnailWidth: this.opts.thumbnailWidth,
          thumbnailHeight: this.opts.thumbnailHeight,
          thumbnailType: this.opts.thumbnailType,
          waitForThumbnailsBeforeUpload: this.opts.waitForThumbnailsBeforeUpload,
          // If we don't block on thumbnails, we can lazily generate them
          lazy: !this.opts.waitForThumbnailsBeforeUpload
        });
      } // Dark Mode / theme


      this.darkModeMediaQuery = typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;
      const isDarkModeOnFromTheStart = this.darkModeMediaQuery ? this.darkModeMediaQuery.matches : false;
      this.uppy.log(`[Dashboard] Dark mode is ${isDarkModeOnFromTheStart ? 'on' : 'off'}`);
      this.setDarkModeCapability(isDarkModeOnFromTheStart);

      if (this.opts.theme === 'auto') {
        this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange);
      }

      this.discoverProviderPlugins();
      this.initEvents();
    };

    this.uninstall = () => {
      if (!this.opts.disableInformer) {
        const informer = this.uppy.getPlugin(`${this.id}:Informer`); // Checking if this plugin exists, in case it was removed by uppy-core
        // before the Dashboard was.

        if (informer) this.uppy.removePlugin(informer);
      }

      if (!this.opts.disableStatusBar) {
        const statusBar = this.uppy.getPlugin(`${this.id}:StatusBar`);
        if (statusBar) this.uppy.removePlugin(statusBar);
      }

      if (!this.opts.disableThumbnailGenerator) {
        const thumbnail = this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);
        if (thumbnail) this.uppy.removePlugin(thumbnail);
      }

      const plugins = this.opts.plugins || [];
      plugins.forEach(pluginID => {
        const plugin = this.uppy.getPlugin(pluginID);
        if (plugin) plugin.unmount();
      });

      if (this.opts.theme === 'auto') {
        this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange);
      }

      this.unmount();
      this.removeEvents();
    };

    this.id = this.opts.id || 'Dashboard';
    this.title = 'Dashboard';
    this.type = 'orchestrator';
    this.modalName = `uppy-Dashboard-${(0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_13__.nanoid)()}`;
    this.defaultLocale = _locale_js__WEBPACK_IMPORTED_MODULE_11__["default"]; // set default options, must be kept in sync with packages/@uppy/react/src/DashboardModal.js

    const defaultOptions = {
      target: 'body',
      metaFields: [],
      trigger: null,
      inline: false,
      width: 750,
      height: 550,
      thumbnailWidth: 280,
      thumbnailType: 'image/jpeg',
      waitForThumbnailsBeforeUpload: false,
      defaultPickerIcon,
      showLinkToFileUploadResult: false,
      showProgressDetails: false,
      hideUploadButton: false,
      hideCancelButton: false,
      hideRetryButton: false,
      hidePauseResumeButton: false,
      hideProgressAfterFinish: false,
      doneButtonHandler: () => {
        this.uppy.cancelAll();
        this.requestCloseModal();
      },
      note: null,
      closeModalOnClickOutside: false,
      closeAfterFinish: false,
      disableStatusBar: false,
      disableInformer: false,
      disableThumbnailGenerator: false,
      disablePageScrollWhenModalOpen: true,
      animateOpenClose: true,
      fileManagerSelectionType: 'files',
      proudlyDisplayPoweredByUppy: true,
      onRequestCloseModal: () => this.closeModal(),
      showSelectedFiles: true,
      showRemoveButtonAfterComplete: false,
      browserBackButtonClose: false,
      showNativePhotoCameraButton: false,
      showNativeVideoCameraButton: false,
      theme: 'light',
      autoOpenFileEditor: false,
      disabled: false,
      disableLocalFiles: false
    }; // merge default options with the ones set by user

    this.opts = { ...defaultOptions,
      ..._opts
    };
    this.i18nInit();
    this.superFocus = (0,_utils_createSuperFocus_js__WEBPACK_IMPORTED_MODULE_9__["default"])();
    this.ifFocusedOnUppyRecently = false; // Timeouts

    this.makeDashboardInsidesVisibleAnywayTimeout = null;
    this.removeDragOverClassTimeout = null;
  }

}
Dashboard.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/AddFiles.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/AddFiles.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
let _Symbol$for;


_Symbol$for = Symbol.for('uppy test: disable unused locale key warning');

class AddFiles extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {
  constructor() {
    super(...arguments);

    this.triggerFileInputClick = () => {
      this.fileInput.click();
    };

    this.triggerFolderInputClick = () => {
      this.folderInput.click();
    };

    this.triggerVideoCameraInputClick = () => {
      this.mobileVideoFileInput.click();
    };

    this.triggerPhotoCameraInputClick = () => {
      this.mobilePhotoFileInput.click();
    };

    this.onFileInputChange = event => {
      this.props.handleInputChange(event); // We clear the input after a file is selected, because otherwise
      // change event is not fired in Chrome and Safari when a file
      // with the same name is selected.
      // ___Why not use value="" on <input/> instead?
      //    Because if we use that method of clearing the input,
      //    Chrome will not trigger change if we drop the same file twice (Issue #768).

      event.target.value = null; // eslint-disable-line no-param-reassign
    };

    this.renderHiddenInput = (isFolder, refCallback) => {
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("input", {
        className: "uppy-Dashboard-input",
        hidden: true,
        "aria-hidden": "true",
        tabIndex: -1,
        webkitdirectory: isFolder,
        type: "file",
        name: "files[]",
        multiple: this.props.maxNumberOfFiles !== 1,
        onChange: this.onFileInputChange,
        accept: this.props.allowedFileTypes,
        ref: refCallback
      });
    };

    this.renderHiddenCameraInput = (type, nativeCameraFacingMode, refCallback) => {
      const typeToAccept = {
        photo: 'image/*',
        video: 'video/*'
      };
      const accept = typeToAccept[type];
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("input", {
        className: "uppy-Dashboard-input",
        hidden: true,
        "aria-hidden": "true",
        tabIndex: -1,
        type: "file",
        name: `camera-${type}`,
        onChange: this.onFileInputChange,
        capture: nativeCameraFacingMode,
        accept: accept,
        ref: refCallback
      });
    };

    this.renderMyDeviceAcquirer = () => {
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-DashboardTab",
        role: "presentation",
        "data-uppy-acquirer-id": "MyDevice"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
        type: "button",
        className: "uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",
        role: "tab",
        tabIndex: 0,
        "data-uppy-super-focusable": true,
        onClick: this.triggerFileInputClick
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-DashboardTab-inner"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
        className: "uppy-DashboardTab-iconMyDevice",
        "aria-hidden": "true",
        focusable: "false",
        width: "32",
        height: "32",
        viewBox: "0 0 32 32"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
        d: "M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",
        fill: "currentcolor",
        "fill-rule": "evenodd"
      }))), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-DashboardTab-name"
      }, this.props.i18n('myDevice'))));
    };

    this.renderPhotoCamera = () => {
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-DashboardTab",
        role: "presentation",
        "data-uppy-acquirer-id": "MobilePhotoCamera"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
        type: "button",
        className: "uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",
        role: "tab",
        tabIndex: 0,
        "data-uppy-super-focusable": true,
        onClick: this.triggerPhotoCameraInputClick
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-DashboardTab-inner"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
        "aria-hidden": "true",
        focusable: "false",
        width: "32",
        height: "32",
        viewBox: "0 0 32 32"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
        d: "M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",
        fill: "#02B383",
        "fill-rule": "nonzero"
      }))), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-DashboardTab-name"
      }, this.props.i18n('takePictureBtn'))));
    };

    this.renderVideoCamera = () => {
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-DashboardTab",
        role: "presentation",
        "data-uppy-acquirer-id": "MobileVideoCamera"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
        type: "button",
        className: "uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",
        role: "tab",
        tabIndex: 0,
        "data-uppy-super-focusable": true,
        onClick: this.triggerVideoCameraInputClick
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-DashboardTab-inner"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
        "aria-hidden": "true",
        width: "32",
        height: "32",
        viewBox: "0 0 32 32"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
        fill: "#FF675E",
        fillRule: "nonzero",
        d: "m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "
      }))), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-DashboardTab-name"
      }, this.props.i18n('recordVideoBtn'))));
    };

    this.renderBrowseButton = (text, onClickFn) => {
      const numberOfAcquirers = this.props.acquirers.length;
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
        type: "button",
        className: "uppy-u-reset uppy-c-btn uppy-Dashboard-browse",
        onClick: onClickFn,
        "data-uppy-super-focusable": numberOfAcquirers === 0
      }, text);
    };

    this.renderDropPasteBrowseTagline = numberOfAcquirers => {
      const browseFiles = this.renderBrowseButton(this.props.i18n('browseFiles'), this.triggerFileInputClick);
      const browseFolders = this.renderBrowseButton(this.props.i18n('browseFolders'), this.triggerFolderInputClick); // in order to keep the i18n CamelCase and options lower (as are defaults) we will want to transform a lower
      // to Camel

      const lowerFMSelectionType = this.props.fileManagerSelectionType;
      const camelFMSelectionType = lowerFMSelectionType.charAt(0).toUpperCase() + lowerFMSelectionType.slice(1);
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        class: "uppy-Dashboard-AddFiles-title"
      }, // eslint-disable-next-line no-nested-ternary
      this.props.disableLocalFiles ? this.props.i18n('importFiles') : numberOfAcquirers > 0 ? this.props.i18nArray(`dropPasteImport${camelFMSelectionType}`, {
        browseFiles,
        browseFolders,
        browse: browseFiles
      }) : this.props.i18nArray(`dropPaste${camelFMSelectionType}`, {
        browseFiles,
        browseFolders,
        browse: browseFiles
      }));
    };

    this.renderAcquirer = acquirer => {
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-DashboardTab",
        role: "presentation",
        "data-uppy-acquirer-id": acquirer.id
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
        type: "button",
        className: "uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",
        role: "tab",
        tabIndex: 0,
        "data-cy": acquirer.id,
        "aria-controls": `uppy-DashboardContent-panel--${acquirer.id}`,
        "aria-selected": this.props.activePickerPanel.id === acquirer.id,
        "data-uppy-super-focusable": true,
        onClick: () => this.props.showPanel(acquirer.id)
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-DashboardTab-inner"
      }, acquirer.icon()), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-DashboardTab-name"
      }, acquirer.name)));
    };

    this.renderAcquirers = acquirers => {
      // Group last two buttons, so we don’t end up with
      // just one button on a new line
      const acquirersWithoutLastTwo = [...acquirers];
      const lastTwoAcquirers = acquirersWithoutLastTwo.splice(acquirers.length - 2, acquirers.length);
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, acquirersWithoutLastTwo.map(acquirer => this.renderAcquirer(acquirer)), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
        role: "presentation",
        style: {
          'white-space': 'nowrap'
        }
      }, lastTwoAcquirers.map(acquirer => this.renderAcquirer(acquirer))));
    };

    this.renderSourcesList = (acquirers, disableLocalFiles) => {
      const {
        showNativePhotoCameraButton,
        showNativeVideoCameraButton
      } = this.props;
      let list = [];
      const myDeviceKey = 'myDevice';

      if (!disableLocalFiles) {
        list.push({
          key: myDeviceKey,
          elements: this.renderMyDeviceAcquirer()
        });
        if (showNativePhotoCameraButton) list.push({
          key: 'nativePhotoCameraButton',
          elements: this.renderPhotoCamera()
        });
        if (showNativeVideoCameraButton) list.push({
          key: 'nativePhotoCameraButton',
          elements: this.renderVideoCamera()
        });
      }

      list.push(...acquirers.map(acquirer => ({
        key: acquirer.id,
        elements: this.renderAcquirer(acquirer)
      }))); // doesn't make sense to show only a lonely "My Device"

      const hasOnlyMyDevice = list.length === 1 && list[0].key === myDeviceKey;
      if (hasOnlyMyDevice) list = []; // Group last two buttons, so we don’t end up with
      // just one button on a new line

      const listWithoutLastTwo = [...list];
      const lastTwo = listWithoutLastTwo.splice(list.length - 2, list.length);

      const renderList = l => l.map(_ref => {
        let {
          key,
          elements
        } = _ref;
        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
          key: key
        }, elements);
      });

      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, this.renderDropPasteBrowseTagline(list.length), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-Dashboard-AddFiles-list",
        role: "tablist"
      }, renderList(listWithoutLastTwo), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
        role: "presentation",
        style: {
          'white-space': 'nowrap'
        }
      }, renderList(lastTwo))));
    };
  }

  [_Symbol$for]() {
    // Those are actually used in `renderDropPasteBrowseTagline` method.
    this.props.i18nArray('dropPasteBoth');
    this.props.i18nArray('dropPasteFiles');
    this.props.i18nArray('dropPasteFolders');
    this.props.i18nArray('dropPasteImportBoth');
    this.props.i18nArray('dropPasteImportFiles');
    this.props.i18nArray('dropPasteImportFolders');
  }

  renderPoweredByUppy() {
    const {
      i18nArray
    } = this.props;
    const uppyBranding = (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
      "aria-hidden": "true",
      focusable: "false",
      className: "uppy-c-icon uppy-Dashboard-poweredByIcon",
      width: "11",
      height: "11",
      viewBox: "0 0 11 11"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
      d: "M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",
      fillRule: "evenodd"
    })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
      className: "uppy-Dashboard-poweredByUppy"
    }, "Uppy"));
    const linkText = i18nArray('poweredBy', {
      uppy: uppyBranding
    });
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("a", {
      tabIndex: "-1",
      href: "https://uppy.io",
      rel: "noreferrer noopener",
      target: "_blank",
      className: "uppy-Dashboard-poweredBy"
    }, linkText);
  }

  render() {
    const {
      showNativePhotoCameraButton,
      showNativeVideoCameraButton,
      nativeCameraFacingMode
    } = this.props;
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Dashboard-AddFiles"
    }, this.renderHiddenInput(false, ref => {
      this.fileInput = ref;
    }), this.renderHiddenInput(true, ref => {
      this.folderInput = ref;
    }), showNativePhotoCameraButton && this.renderHiddenCameraInput('photo', nativeCameraFacingMode, ref => {
      this.mobilePhotoFileInput = ref;
    }), showNativeVideoCameraButton && this.renderHiddenCameraInput('video', nativeCameraFacingMode, ref => {
      this.mobileVideoFileInput = ref;
    }), this.renderSourcesList(this.props.acquirers, this.props.disableLocalFiles), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Dashboard-AddFiles-info"
    }, this.props.note && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Dashboard-note"
    }, this.props.note), this.props.proudlyDisplayPoweredByUppy && this.renderPoweredByUppy(this.props)));
  }

}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddFiles);

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/AddFilesPanel.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/AddFilesPanel.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var _AddFiles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AddFiles.js */ "./node_modules/@uppy/dashboard/lib/components/AddFiles.js");




const AddFilesPanel = props => {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1__('uppy-Dashboard-AddFilesPanel', props.className),
    "data-uppy-panelType": "AddFiles",
    "aria-hidden": props.showAddFilesPanel
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-DashboardContent-bar"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-DashboardContent-title",
    role: "heading",
    "aria-level": "1"
  }, props.i18n('addingMoreFiles')), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-DashboardContent-back",
    type: "button",
    onClick: () => props.toggleAddFilesPanel(false)
  }, props.i18n('back'))), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_AddFiles_js__WEBPACK_IMPORTED_MODULE_2__["default"], props));
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddFilesPanel);

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/Dashboard.js":
/*!******************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/Dashboard.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Dashboard)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var _uppy_utils_lib_isDragDropSupported__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/utils/lib/isDragDropSupported */ "./node_modules/@uppy/utils/lib/isDragDropSupported.js");
/* harmony import */ var _FileList_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FileList.js */ "./node_modules/@uppy/dashboard/lib/components/FileList.js");
/* harmony import */ var _AddFiles_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AddFiles.js */ "./node_modules/@uppy/dashboard/lib/components/AddFiles.js");
/* harmony import */ var _AddFilesPanel_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AddFilesPanel.js */ "./node_modules/@uppy/dashboard/lib/components/AddFilesPanel.js");
/* harmony import */ var _PickerPanelContent_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PickerPanelContent.js */ "./node_modules/@uppy/dashboard/lib/components/PickerPanelContent.js");
/* harmony import */ var _EditorPanel_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./EditorPanel.js */ "./node_modules/@uppy/dashboard/lib/components/EditorPanel.js");
/* harmony import */ var _PickerPanelTopBar_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./PickerPanelTopBar.js */ "./node_modules/@uppy/dashboard/lib/components/PickerPanelTopBar.js");
/* harmony import */ var _FileCard_index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FileCard/index.js */ "./node_modules/@uppy/dashboard/lib/components/FileCard/index.js");
/* harmony import */ var _Slide_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Slide.js */ "./node_modules/@uppy/dashboard/lib/components/Slide.js");
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }











 // http://dev.edenspiekermann.com/2016/02/11/introducing-accessible-modal-dialog
// https://github.com/ghosh/micromodal

const WIDTH_XL = 900;
const WIDTH_LG = 700;
const WIDTH_MD = 576;
const HEIGHT_MD = 400;
function Dashboard(props) {
  const noFiles = props.totalFileCount === 0;
  const singleFile = props.totalFileCount === 1;
  const isSizeMD = props.containerWidth > WIDTH_MD;
  const dashboardClassName = classnames__WEBPACK_IMPORTED_MODULE_1__({
    'uppy-Dashboard': true,
    'uppy-Dashboard--isDisabled': props.disabled,
    'uppy-Dashboard--animateOpenClose': props.animateOpenClose,
    'uppy-Dashboard--isClosing': props.isClosing,
    'uppy-Dashboard--isDraggingOver': props.isDraggingOver,
    'uppy-Dashboard--modal': !props.inline,
    'uppy-size--md': props.containerWidth > WIDTH_MD,
    'uppy-size--lg': props.containerWidth > WIDTH_LG,
    'uppy-size--xl': props.containerWidth > WIDTH_XL,
    'uppy-size--height-md': props.containerHeight > HEIGHT_MD,
    'uppy-Dashboard--isAddFilesPanelVisible': props.showAddFilesPanel,
    'uppy-Dashboard--isInnerWrapVisible': props.areInsidesReadyToBeVisible,
    'uppy-Dashboard--singleFile': singleFile
  }); // Important: keep these in sync with the percent width values in `src/components/FileItem/index.scss`.

  let itemsPerRow = 1; // mobile

  if (props.containerWidth > WIDTH_XL) {
    itemsPerRow = 5;
  } else if (props.containerWidth > WIDTH_LG) {
    itemsPerRow = 4;
  } else if (props.containerWidth > WIDTH_MD) {
    itemsPerRow = 3;
  }

  const showFileList = props.showSelectedFiles && !noFiles;
  const numberOfFilesForRecovery = props.recoveredState ? Object.keys(props.recoveredState.files).length : null;
  const numberOfGhosts = props.files ? Object.keys(props.files).filter(fileID => props.files[fileID].isGhost).length : null;

  const renderRestoredText = () => {
    if (numberOfGhosts > 0) {
      return props.i18n('recoveredXFiles', {
        smart_count: numberOfGhosts
      });
    }

    return props.i18n('recoveredAllFiles');
  };

  const dashboard = (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: dashboardClassName,
    "data-uppy-theme": props.theme,
    "data-uppy-num-acquirers": props.acquirers.length,
    "data-uppy-drag-drop-supported": !props.disableLocalFiles && (0,_uppy_utils_lib_isDragDropSupported__WEBPACK_IMPORTED_MODULE_2__["default"])(),
    "aria-hidden": props.inline ? 'false' : props.isHidden,
    "aria-disabled": props.disabled,
    "aria-label": !props.inline ? props.i18n('dashboardWindowTitle') : props.i18n('dashboardTitle'),
    onPaste: props.handlePaste,
    onDragOver: props.handleDragOver,
    onDragLeave: props.handleDragLeave,
    onDrop: props.handleDrop
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    "aria-hidden": "true",
    className: "uppy-Dashboard-overlay",
    tabIndex: -1,
    onClick: props.handleClickOutside
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-inner",
    "aria-modal": !props.inline && 'true',
    role: !props.inline && 'dialog',
    style: {
      width: props.inline && props.width ? props.width : '',
      height: props.inline && props.height ? props.height : ''
    }
  }, !props.inline ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-Dashboard-close",
    type: "button",
    "aria-label": props.i18n('closeModal'),
    title: props.i18n('closeModal'),
    onClick: props.closeModal
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
    "aria-hidden": "true"
  }, "\xD7")) : null, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-innerWrap"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-dropFilesHereHint"
  }, props.i18n('dropHint')), showFileList && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_PickerPanelTopBar_js__WEBPACK_IMPORTED_MODULE_8__["default"], props), numberOfFilesForRecovery && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-serviceMsg"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    className: "uppy-Dashboard-serviceMsg-icon",
    "aria-hidden": "true",
    focusable: "false",
    width: "21",
    height: "16",
    viewBox: "0 0 24 19"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
    transform: "translate(0 -1)",
    fill: "none",
    fillRule: "evenodd"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",
    fill: "#FFD300"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    fill: "#000",
    d: "M11 6h2l-.3 8h-1.4z"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("circle", {
    fill: "#000",
    cx: "12",
    cy: "17",
    r: "1"
  }))), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("strong", {
    className: "uppy-Dashboard-serviceMsg-title"
  }, props.i18n('sessionRestored')), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-serviceMsg-text"
  }, renderRestoredText())), showFileList ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_FileList_js__WEBPACK_IMPORTED_MODULE_3__["default"] // eslint-disable-next-line react/jsx-props-no-spreading
  , _extends({}, props, {
    singleFile: singleFile,
    itemsPerRow: itemsPerRow
  })) : // eslint-disable-next-line react/jsx-props-no-spreading
  (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_AddFiles_js__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({}, props, {
    isSizeMD: isSizeMD
  })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Slide_js__WEBPACK_IMPORTED_MODULE_10__["default"], null, props.showAddFilesPanel ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_AddFilesPanel_js__WEBPACK_IMPORTED_MODULE_5__["default"], _extends({
    key: "AddFiles"
  }, props, {
    isSizeMD: isSizeMD
  })) : null), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Slide_js__WEBPACK_IMPORTED_MODULE_10__["default"], null, props.fileCardFor ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_FileCard_index_js__WEBPACK_IMPORTED_MODULE_9__["default"], _extends({
    key: "FileCard"
  }, props)) : null), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Slide_js__WEBPACK_IMPORTED_MODULE_10__["default"], null, props.activePickerPanel ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_PickerPanelContent_js__WEBPACK_IMPORTED_MODULE_6__["default"], _extends({
    key: "Picker"
  }, props)) : null), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Slide_js__WEBPACK_IMPORTED_MODULE_10__["default"], null, props.showFileEditor ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_EditorPanel_js__WEBPACK_IMPORTED_MODULE_7__["default"], _extends({
    key: "Editor"
  }, props)) : null), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-progressindicators"
  }, props.progressindicators.map(target => {
    return props.uppy.getPlugin(target.id).render(props.state);
  })))));
  return dashboard;
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/EditorPanel.js":
/*!********************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/EditorPanel.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");



function EditorPanel(props) {
  const file = props.files[props.fileCardFor];
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1__('uppy-DashboardContent-panel', props.className),
    role: "tabpanel",
    "data-uppy-panelType": "FileEditor",
    id: "uppy-DashboardContent-panel--editor"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-DashboardContent-bar"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-DashboardContent-title",
    role: "heading",
    "aria-level": "1"
  }, props.i18nArray('editing', {
    file: (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
      className: "uppy-DashboardContent-titleFile"
    }, file.meta ? file.meta.name : file.name)
  })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-DashboardContent-back",
    type: "button",
    onClick: props.hideAllPanels
  }, props.i18n('cancel')), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-DashboardContent-save",
    type: "button",
    onClick: props.saveFileEditor
  }, props.i18n('save'))), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-DashboardContent-panelBody"
  }, props.editors.map(target => {
    return props.uppy.getPlugin(target.id).render(props.state);
  })));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditorPanel);

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/FileCard/RenderMetaFields.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/FileCard/RenderMetaFields.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ RenderMetaFields)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");

function RenderMetaFields(props) {
  const {
    computedMetaFields,
    requiredMetaFields,
    updateMeta,
    form,
    formState
  } = props;
  const fieldCSSClasses = {
    text: 'uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input'
  };
  return computedMetaFields.map(field => {
    const id = `uppy-Dashboard-FileCard-input-${field.id}`;
    const required = requiredMetaFields.includes(field.id);
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("fieldset", {
      key: field.id,
      className: "uppy-Dashboard-FileCard-fieldset"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("label", {
      className: "uppy-Dashboard-FileCard-label",
      htmlFor: id
    }, field.name), field.render !== undefined ? field.render({
      value: formState[field.id],
      onChange: newVal => updateMeta(newVal, field.id),
      fieldCSSClasses,
      required,
      form: form.id
    }, preact__WEBPACK_IMPORTED_MODULE_0__.h) : (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("input", {
      className: fieldCSSClasses.text,
      id: id,
      form: form.id,
      type: field.type || 'text',
      required: required,
      value: formState[field.id],
      placeholder: field.placeholder,
      onInput: ev => updateMeta(ev.target.value, field.id),
      "data-uppy-super-focusable": true
    }));
  });
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/FileCard/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/FileCard/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FileCard)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var preact_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact/hooks */ "./node_modules/preact/hooks/dist/hooks.module.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! nanoid/non-secure */ "./node_modules/nanoid/non-secure/index.js");
/* harmony import */ var _utils_getFileTypeIcon_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/getFileTypeIcon.js */ "./node_modules/@uppy/dashboard/lib/utils/getFileTypeIcon.js");
/* harmony import */ var _utils_ignoreEvent_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/ignoreEvent.js */ "./node_modules/@uppy/dashboard/lib/utils/ignoreEvent.js");
/* harmony import */ var _FilePreview_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../FilePreview.js */ "./node_modules/@uppy/dashboard/lib/components/FilePreview.js");
/* harmony import */ var _RenderMetaFields_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RenderMetaFields.js */ "./node_modules/@uppy/dashboard/lib/components/FileCard/RenderMetaFields.js");








function FileCard(props) {
  var _getMetaFields;

  const {
    uppy,
    files,
    fileCardFor,
    toggleFileCard,
    saveFileCard,
    metaFields,
    requiredMetaFields,
    openFileEditor,
    i18n,
    i18nArray,
    className,
    canEditFile
  } = props;

  const getMetaFields = () => {
    return typeof metaFields === 'function' ? metaFields(files[fileCardFor]) : metaFields;
  };

  const file = files[fileCardFor];
  const computedMetaFields = (_getMetaFields = getMetaFields()) != null ? _getMetaFields : [];
  const showEditButton = canEditFile(file);
  const storedMetaData = {};
  computedMetaFields.forEach(field => {
    var _file$meta$field$id;

    storedMetaData[field.id] = (_file$meta$field$id = file.meta[field.id]) != null ? _file$meta$field$id : '';
  });
  const [formState, setFormState] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useState)(storedMetaData);
  const handleSave = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallback)(ev => {
    ev.preventDefault();
    saveFileCard(formState, fileCardFor);
  }, [saveFileCard, formState, fileCardFor]);

  const updateMeta = (newVal, name) => {
    setFormState({
      [name]: newVal
    });
  };

  const handleCancel = () => {
    uppy.emit('file-editor:cancel', file);
    toggleFileCard(false);
  };

  const [form] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useState)(() => {
    const formEl = document.createElement('form');
    formEl.setAttribute('tabindex', '-1');
    formEl.id = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_7__.nanoid)();
    return formEl;
  });
  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    document.body.appendChild(form);
    form.addEventListener('submit', handleSave);
    return () => {
      form.removeEventListener('submit', handleSave);
      document.body.removeChild(form);
    };
  }, [form, handleSave]);
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2__('uppy-Dashboard-FileCard', className),
    "data-uppy-panelType": "FileCard",
    onDragOver: _utils_ignoreEvent_js__WEBPACK_IMPORTED_MODULE_4__["default"],
    onDragLeave: _utils_ignoreEvent_js__WEBPACK_IMPORTED_MODULE_4__["default"],
    onDrop: _utils_ignoreEvent_js__WEBPACK_IMPORTED_MODULE_4__["default"],
    onPaste: _utils_ignoreEvent_js__WEBPACK_IMPORTED_MODULE_4__["default"]
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-DashboardContent-bar"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-DashboardContent-title",
    role: "heading",
    "aria-level": "1"
  }, i18nArray('editing', {
    file: (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
      className: "uppy-DashboardContent-titleFile"
    }, file.meta ? file.meta.name : file.name)
  })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-DashboardContent-back",
    type: "button",
    form: form.id,
    title: i18n('finishEditingFile'),
    onClick: handleCancel
  }, i18n('cancel'))), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-FileCard-inner"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-FileCard-preview",
    style: {
      backgroundColor: (0,_utils_getFileTypeIcon_js__WEBPACK_IMPORTED_MODULE_3__["default"])(file.type).color
    }
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_FilePreview_js__WEBPACK_IMPORTED_MODULE_5__["default"], {
    file: file
  }), showEditButton && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    type: "button",
    className: "uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",
    onClick: event => {
      // When opening the image editor we want to save any meta fields changes.
      // Otherwise it's confusing for the user to click save in the editor,
      // but the changes here are discarded. This bypasses validation,
      // but we are okay with that.
      handleSave(event);
      openFileEditor(file);
    }
  }, i18n('editFile'))), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-FileCard-info"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_RenderMetaFields_js__WEBPACK_IMPORTED_MODULE_6__["default"], {
    computedMetaFields: computedMetaFields,
    requiredMetaFields: requiredMetaFields,
    updateMeta: updateMeta,
    form: form,
    formState: formState
  })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-FileCard-actions"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn" // If `form` attribute is supported, we want a submit button to trigger the form validation.
    // Otherwise, fallback to a classic button with a onClick event handler.
    ,
    type: "submit",
    form: form.id
  }, i18n('saveChanges')), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",
    type: "button",
    onClick: handleCancel,
    form: form.id
  }, i18n('cancel')))));
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/FileItem/Buttons/index.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/FileItem/Buttons/index.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Buttons)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _utils_copyToClipboard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/copyToClipboard.js */ "./node_modules/@uppy/dashboard/lib/utils/copyToClipboard.js");



function EditButton(_ref) {
  let {
    file,
    uploadInProgressOrComplete,
    metaFields,
    canEditFile,
    i18n,
    onClick
  } = _ref;

  if (!uploadInProgressOrComplete && metaFields && metaFields.length > 0 || !uploadInProgressOrComplete && canEditFile(file)) {
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
      className: "uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",
      type: "button",
      "aria-label": i18n('editFileWithFilename', {
        file: file.meta.name
      }),
      title: i18n('editFileWithFilename', {
        file: file.meta.name
      }),
      onClick: () => onClick()
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
      "aria-hidden": "true",
      focusable: "false",
      className: "uppy-c-icon",
      width: "14",
      height: "14",
      viewBox: "0 0 14 14"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
      fillRule: "evenodd"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
      d: "M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",
      fillRule: "nonzero"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("rect", {
      x: "1",
      y: "12.293",
      width: "11",
      height: "1",
      rx: ".5"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
      fillRule: "nonzero",
      d: "M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"
    }))));
  }

  return null;
}

function RemoveButton(_ref2) {
  let {
    i18n,
    onClick,
    file
  } = _ref2;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",
    type: "button",
    "aria-label": i18n('removeFile', {
      file: file.meta.name
    }),
    title: i18n('removeFile', {
      file: file.meta.name
    }),
    onClick: () => onClick()
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    width: "18",
    height: "18",
    viewBox: "0 0 18 18"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    fill: "#FFF",
    d: "M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"
  })));
}

const copyLinkToClipboard = (event, props) => {
  (0,_utils_copyToClipboard_js__WEBPACK_IMPORTED_MODULE_1__["default"])(props.file.uploadURL, props.i18n('copyLinkToClipboardFallback')).then(() => {
    props.uppy.log('Link copied to clipboard.');
    props.uppy.info(props.i18n('copyLinkToClipboardSuccess'), 'info', 3000);
  }).catch(props.uppy.log) // avoid losing focus
  .then(() => event.target.focus({
    preventScroll: true
  }));
};

function CopyLinkButton(props) {
  const {
    i18n
  } = props;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",
    type: "button",
    "aria-label": i18n('copyLink'),
    title: i18n('copyLink'),
    onClick: event => copyLinkToClipboard(event, props)
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    width: "14",
    height: "14",
    viewBox: "0 0 14 12"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"
  })));
}

function Buttons(props) {
  const {
    uppy,
    file,
    uploadInProgressOrComplete,
    canEditFile,
    metaFields,
    showLinkToFileUploadResult,
    showRemoveButton,
    i18n,
    toggleFileCard,
    openFileEditor
  } = props;

  const editAction = () => {
    if (metaFields && metaFields.length > 0) {
      toggleFileCard(true, file.id);
    } else {
      openFileEditor(file);
    }
  };

  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-Item-actionWrapper"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(EditButton, {
    i18n: i18n,
    file: file,
    uploadInProgressOrComplete: uploadInProgressOrComplete,
    canEditFile: canEditFile,
    metaFields: metaFields,
    onClick: editAction
  }), showLinkToFileUploadResult && file.uploadURL ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(CopyLinkButton, {
    file: file,
    uppy: uppy,
    i18n: i18n
  }) : null, showRemoveButton ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(RemoveButton, {
    i18n: i18n,
    file: file,
    uppy: uppy,
    onClick: () => props.uppy.removeFile(file.id, 'removed-by-user')
  }) : null);
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/FileItem/FileInfo/index.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/FileItem/FileInfo/index.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FileInfo)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _transloadit_prettier_bytes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @transloadit/prettier-bytes */ "./node_modules/@uppy/dashboard/node_modules/@transloadit/prettier-bytes/prettierBytes.js");
/* harmony import */ var _uppy_utils_lib_truncateString__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/utils/lib/truncateString */ "./node_modules/@uppy/utils/lib/truncateString.js");
/* harmony import */ var _MetaErrorMessage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../MetaErrorMessage.js */ "./node_modules/@uppy/dashboard/lib/components/FileItem/MetaErrorMessage.js");





const renderFileName = props => {
  const {
    author,
    name
  } = props.file.meta;

  function getMaxNameLength() {
    if (props.singleFile) {
      return 200;
    }

    if (props.containerWidth <= 352) {
      return 35;
    }

    if (props.containerWidth <= 576) {
      return 60;
    } // When `author` is present, we want to make sure
    // the file name fits on one line so we can place
    // the author on the second line.


    return author ? 20 : 30;
  }

  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-Item-name",
    title: name
  }, (0,_uppy_utils_lib_truncateString__WEBPACK_IMPORTED_MODULE_2__["default"])(name, getMaxNameLength()));
};

const renderAuthor = props => {
  const {
    author
  } = props.file.meta;
  const {
    providerName
  } = props.file.remote;
  const dot = `\u00B7`;

  if (!author) {
    return null;
  }

  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-Item-author"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("a", {
    href: `${author.url}?utm_source=Companion&utm_medium=referral`,
    target: "_blank",
    rel: "noopener noreferrer"
  }, (0,_uppy_utils_lib_truncateString__WEBPACK_IMPORTED_MODULE_2__["default"])(author.name, 13)), providerName ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, ` ${dot} `, providerName, ` ${dot} `) : null);
};

const renderFileSize = props => props.file.size && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
  className: "uppy-Dashboard-Item-statusSize"
}, _transloadit_prettier_bytes__WEBPACK_IMPORTED_MODULE_1__(props.file.size));

const ReSelectButton = props => props.file.isGhost && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, ' \u2022 ', (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
  className: "uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",
  type: "button",
  onClick: props.toggleAddFilesPanel
}, props.i18n('reSelect')));

const ErrorButton = _ref => {
  let {
    file,
    onClick
  } = _ref;

  if (file.error) {
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
      className: "uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails",
      "aria-label": file.error,
      "data-microtip-position": "bottom",
      "data-microtip-size": "medium",
      onClick: onClick,
      type: "button"
    }, "?");
  }

  return null;
};

function FileInfo(props) {
  const {
    file
  } = props;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-Item-fileInfo",
    "data-uppy-file-source": file.source
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-Item-fileName"
  }, renderFileName(props), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(ErrorButton, {
    file: props.file // eslint-disable-next-line no-alert
    ,
    onClick: () => alert(props.file.error) // TODO: move to a custom alert implementation

  })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-Item-status"
  }, renderAuthor(props), renderFileSize(props), ReSelectButton(props)), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_MetaErrorMessage_js__WEBPACK_IMPORTED_MODULE_3__["default"], {
    file: props.file,
    i18n: props.i18n,
    toggleFileCard: props.toggleFileCard,
    metaFields: props.metaFields
  }));
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/FileItem/FilePreviewAndLink/index.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/FileItem/FilePreviewAndLink/index.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FilePreviewAndLink)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _FilePreview_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../FilePreview.js */ "./node_modules/@uppy/dashboard/lib/components/FilePreview.js");
/* harmony import */ var _MetaErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MetaErrorMessage.js */ "./node_modules/@uppy/dashboard/lib/components/FileItem/MetaErrorMessage.js");
/* harmony import */ var _utils_getFileTypeIcon_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/getFileTypeIcon.js */ "./node_modules/@uppy/dashboard/lib/utils/getFileTypeIcon.js");




function FilePreviewAndLink(props) {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-Item-previewInnerWrap",
    style: {
      backgroundColor: (0,_utils_getFileTypeIcon_js__WEBPACK_IMPORTED_MODULE_3__["default"])(props.file.type).color
    }
  }, props.showLinkToFileUploadResult && props.file.uploadURL && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("a", {
    className: "uppy-Dashboard-Item-previewLink",
    href: props.file.uploadURL,
    rel: "noreferrer noopener",
    target: "_blank",
    "aria-label": props.file.meta.name
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
    hidden: true
  }, props.file.meta.name)), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_FilePreview_js__WEBPACK_IMPORTED_MODULE_1__["default"], {
    file: props.file
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_MetaErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__["default"], {
    file: props.file,
    i18n: props.i18n,
    toggleFileCard: props.toggleFileCard,
    metaFields: props.metaFields
  }));
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/FileItem/FileProgress/index.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/FileItem/FileProgress/index.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FileProgress)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");


function onPauseResumeCancelRetry(props) {
  if (props.isUploaded) return;

  if (props.error && !props.hideRetryButton) {
    props.uppy.retryUpload(props.file.id);
    return;
  }

  if (props.resumableUploads && !props.hidePauseResumeButton) {
    props.uppy.pauseResume(props.file.id);
  } else if (props.individualCancellation && !props.hideCancelButton) {
    props.uppy.removeFile(props.file.id);
  }
}

function progressIndicatorTitle(props) {
  if (props.isUploaded) {
    return props.i18n('uploadComplete');
  }

  if (props.error) {
    return props.i18n('retryUpload');
  }

  if (props.resumableUploads) {
    if (props.file.isPaused) {
      return props.i18n('resumeUpload');
    }

    return props.i18n('pauseUpload');
  }

  if (props.individualCancellation) {
    return props.i18n('cancelUpload');
  }

  return '';
}

function ProgressIndicatorButton(props) {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-Item-progress"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",
    type: "button",
    "aria-label": progressIndicatorTitle(props),
    title: progressIndicatorTitle(props),
    onClick: () => onPauseResumeCancelRetry(props)
  }, props.children));
}

function ProgressCircleContainer(_ref) {
  let {
    children
  } = _ref;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    width: "70",
    height: "70",
    viewBox: "0 0 36 36",
    className: "uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"
  }, children);
}

function ProgressCircle(_ref2) {
  let {
    progress
  } = _ref2;
  // circle length equals 2 * PI * R
  const circleLength = 2 * Math.PI * 15;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("g", null, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("circle", {
    className: "uppy-Dashboard-Item-progressIcon--bg",
    r: "15",
    cx: "18",
    cy: "18",
    "stroke-width": "2",
    fill: "none"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("circle", {
    className: "uppy-Dashboard-Item-progressIcon--progress",
    r: "15",
    cx: "18",
    cy: "18",
    transform: "rotate(-90, 18, 18)",
    fill: "none",
    "stroke-width": "2",
    "stroke-dasharray": circleLength,
    "stroke-dashoffset": circleLength - circleLength / 100 * progress
  }));
}

function FileProgress(props) {
  // Nothing if upload has not started
  if (!props.file.progress.uploadStarted) {
    return null;
  } // Green checkmark when complete


  if (props.isUploaded) {
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Dashboard-Item-progress"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Dashboard-Item-progressIndicator"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(ProgressCircleContainer, null, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("circle", {
      r: "15",
      cx: "18",
      cy: "18",
      fill: "#1bb240"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("polygon", {
      className: "uppy-Dashboard-Item-progressIcon--check",
      transform: "translate(2, 3)",
      points: "14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"
    }))));
  }

  if (props.recoveredState) {
    return undefined;
  } // Retry button for error


  if (props.error && !props.hideRetryButton) {
    return (// eslint-disable-next-line react/jsx-props-no-spreading
      (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(ProgressIndicatorButton, props, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
        "aria-hidden": "true",
        focusable: "false",
        className: "uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",
        width: "28",
        height: "31",
        viewBox: "0 0 16 19"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
        d: "M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"
      }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
        d: "M7.9 3H10v2H7.9z"
      }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
        d: "M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"
      }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
        d: "M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"
      })))
    );
  } // Pause/resume button for resumable uploads


  if (props.resumableUploads && !props.hidePauseResumeButton) {
    return (// eslint-disable-next-line react/jsx-props-no-spreading
      (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(ProgressIndicatorButton, props, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(ProgressCircleContainer, null, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(ProgressCircle, {
        progress: props.file.progress.percentage
      }), props.file.isPaused ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("polygon", {
        className: "uppy-Dashboard-Item-progressIcon--play",
        transform: "translate(3, 3)",
        points: "12 20 12 10 20 15"
      }) : (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
        className: "uppy-Dashboard-Item-progressIcon--pause",
        transform: "translate(14.5, 13)"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("rect", {
        x: "0",
        y: "0",
        width: "2",
        height: "10",
        rx: "0"
      }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("rect", {
        x: "5",
        y: "0",
        width: "2",
        height: "10",
        rx: "0"
      }))))
    );
  } // Cancel button for non-resumable uploads if individualCancellation is supported (not bundled)


  if (!props.resumableUploads && props.individualCancellation && !props.hideCancelButton) {
    return (// eslint-disable-next-line react/jsx-props-no-spreading
      (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(ProgressIndicatorButton, props, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(ProgressCircleContainer, null, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(ProgressCircle, {
        progress: props.file.progress.percentage
      }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("polygon", {
        className: "cancel",
        transform: "translate(2, 2)",
        points: "19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"
      })))
    );
  } // Just progress when buttons are disabled


  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-Item-progress"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-Item-progressIndicator"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(ProgressCircleContainer, null, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(ProgressCircle, {
    progress: props.file.progress.percentage
  }))));
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/FileItem/MetaErrorMessage.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/FileItem/MetaErrorMessage.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ renderMissingMetaFieldsError)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");


const metaFieldIdToName = (metaFieldId, metaFields) => {
  const fields = typeof metaFields === 'function' ? metaFields() : metaFields;
  const field = fields.filter(f => f.id === metaFieldId);
  return field[0].name;
};

function renderMissingMetaFieldsError(props) {
  const {
    file,
    toggleFileCard,
    i18n,
    metaFields
  } = props;
  const {
    missingRequiredMetaFields
  } = file;

  if (!(missingRequiredMetaFields != null && missingRequiredMetaFields.length)) {
    return null;
  }

  const metaFieldsString = missingRequiredMetaFields.map(missingMetaField => metaFieldIdToName(missingMetaField, metaFields)).join(', ');
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-Item-errorMessage"
  }, i18n('missingRequiredMetaFields', {
    smart_count: missingRequiredMetaFields.length,
    fields: metaFieldsString
  }), ' ', (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    type: "button",
    class: "uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",
    onClick: () => toggleFileCard(true, file.id)
  }, i18n('editFile')));
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/FileItem/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/FileItem/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FileItem)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var is_shallow_equal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! is-shallow-equal */ "./node_modules/is-shallow-equal/index.js");
/* harmony import */ var _FilePreviewAndLink_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FilePreviewAndLink/index.js */ "./node_modules/@uppy/dashboard/lib/components/FileItem/FilePreviewAndLink/index.js");
/* harmony import */ var _FileProgress_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FileProgress/index.js */ "./node_modules/@uppy/dashboard/lib/components/FileItem/FileProgress/index.js");
/* harmony import */ var _FileInfo_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FileInfo/index.js */ "./node_modules/@uppy/dashboard/lib/components/FileItem/FileInfo/index.js");
/* harmony import */ var _Buttons_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Buttons/index.js */ "./node_modules/@uppy/dashboard/lib/components/FileItem/Buttons/index.js");







class FileItem extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {
  componentDidMount() {
    const {
      file
    } = this.props;

    if (!file.preview) {
      this.props.handleRequestThumbnail(file);
    }
  }

  shouldComponentUpdate(nextProps) {
    return !is_shallow_equal__WEBPACK_IMPORTED_MODULE_2__(this.props, nextProps);
  } // VirtualList mounts FileItems again and they emit `thumbnail:request`
  // Otherwise thumbnails are broken or missing after Golden Retriever restores files


  componentDidUpdate() {
    const {
      file
    } = this.props;

    if (!file.preview) {
      this.props.handleRequestThumbnail(file);
    }
  }

  componentWillUnmount() {
    const {
      file
    } = this.props;

    if (!file.preview) {
      this.props.handleCancelThumbnail(file);
    }
  }

  render() {
    const {
      file
    } = this.props;
    const isProcessing = file.progress.preprocess || file.progress.postprocess;
    const isUploaded = file.progress.uploadComplete && !isProcessing && !file.error;
    const uploadInProgressOrComplete = file.progress.uploadStarted || isProcessing;
    const uploadInProgress = file.progress.uploadStarted && !file.progress.uploadComplete || isProcessing;
    const error = file.error || false; // File that Golden Retriever was able to partly restore (only meta, not blob),
    // users still need to re-add it, so it’s a ghost

    const {
      isGhost
    } = file;
    let showRemoveButton = this.props.individualCancellation ? !isUploaded : !uploadInProgress && !isUploaded;

    if (isUploaded && this.props.showRemoveButtonAfterComplete) {
      showRemoveButton = true;
    }

    const dashboardItemClass = classnames__WEBPACK_IMPORTED_MODULE_1__({
      'uppy-Dashboard-Item': true,
      'is-inprogress': uploadInProgress && !this.props.recoveredState,
      'is-processing': isProcessing,
      'is-complete': isUploaded,
      'is-error': !!error,
      'is-resumable': this.props.resumableUploads,
      'is-noIndividualCancellation': !this.props.individualCancellation,
      'is-ghost': isGhost
    });
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: dashboardItemClass,
      id: `uppy_${file.id}`,
      role: this.props.role
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Dashboard-Item-preview"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_FilePreviewAndLink_index_js__WEBPACK_IMPORTED_MODULE_3__["default"], {
      file: file,
      showLinkToFileUploadResult: this.props.showLinkToFileUploadResult,
      i18n: this.props.i18n,
      toggleFileCard: this.props.toggleFileCard,
      metaFields: this.props.metaFields
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_FileProgress_index_js__WEBPACK_IMPORTED_MODULE_4__["default"], {
      uppy: this.props.uppy,
      file: file,
      error: error,
      isUploaded: isUploaded,
      hideRetryButton: this.props.hideRetryButton,
      hideCancelButton: this.props.hideCancelButton,
      hidePauseResumeButton: this.props.hidePauseResumeButton,
      recoveredState: this.props.recoveredState,
      showRemoveButtonAfterComplete: this.props.showRemoveButtonAfterComplete,
      resumableUploads: this.props.resumableUploads,
      individualCancellation: this.props.individualCancellation,
      i18n: this.props.i18n
    })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Dashboard-Item-fileInfoAndButtons"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_FileInfo_index_js__WEBPACK_IMPORTED_MODULE_5__["default"], {
      file: file,
      id: this.props.id,
      acquirers: this.props.acquirers,
      containerWidth: this.props.containerWidth,
      i18n: this.props.i18n,
      toggleAddFilesPanel: this.props.toggleAddFilesPanel,
      toggleFileCard: this.props.toggleFileCard,
      metaFields: this.props.metaFields,
      singleFile: this.props.singleFile
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Buttons_index_js__WEBPACK_IMPORTED_MODULE_6__["default"], {
      file: file,
      metaFields: this.props.metaFields,
      showLinkToFileUploadResult: this.props.showLinkToFileUploadResult,
      showRemoveButton: showRemoveButton,
      canEditFile: this.props.canEditFile,
      uploadInProgressOrComplete: uploadInProgressOrComplete,
      toggleFileCard: this.props.toggleFileCard,
      openFileEditor: this.props.openFileEditor,
      uppy: this.props.uppy,
      i18n: this.props.i18n
    })));
  }

}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/FileList.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/FileList.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _FileItem_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FileItem/index.js */ "./node_modules/@uppy/dashboard/lib/components/FileItem/index.js");
/* harmony import */ var _VirtualList_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./VirtualList.js */ "./node_modules/@uppy/dashboard/lib/components/VirtualList.js");
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }





function chunks(list, size) {
  const chunked = [];
  let currentChunk = [];
  list.forEach(item => {
    if (currentChunk.length < size) {
      currentChunk.push(item);
    } else {
      chunked.push(currentChunk);
      currentChunk = [item];
    }
  });
  if (currentChunk.length) chunked.push(currentChunk);
  return chunked;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (props => {
  // It's not great that this is hardcoded!
  // It's ESPECIALLY not great that this is checking against `itemsPerRow`!
  const rowHeight = props.itemsPerRow === 1 // Mobile
  ? 71 // 190px height + 2 * 5px margin
  : 200;
  const fileProps = {
    // FIXME This is confusing, it's actually the Dashboard's plugin ID
    id: props.id,
    error: props.error,
    // TODO move this to context
    i18n: props.i18n,
    uppy: props.uppy,
    // features
    acquirers: props.acquirers,
    resumableUploads: props.resumableUploads,
    individualCancellation: props.individualCancellation,
    // visual options
    hideRetryButton: props.hideRetryButton,
    hidePauseResumeButton: props.hidePauseResumeButton,
    hideCancelButton: props.hideCancelButton,
    showLinkToFileUploadResult: props.showLinkToFileUploadResult,
    showRemoveButtonAfterComplete: props.showRemoveButtonAfterComplete,
    isWide: props.isWide,
    metaFields: props.metaFields,
    recoveredState: props.recoveredState,
    singleFile: props.singleFile,
    // callbacks
    toggleFileCard: props.toggleFileCard,
    handleRequestThumbnail: props.handleRequestThumbnail,
    handleCancelThumbnail: props.handleCancelThumbnail
  };

  const sortByGhostComesFirst = (file1, file2) => {
    return props.files[file2].isGhost - props.files[file1].isGhost;
  }; // Sort files by file.isGhost, ghost files first, only if recoveredState is present


  const files = Object.keys(props.files);
  if (props.recoveredState) files.sort(sortByGhostComesFirst);
  const rows = chunks(files, props.itemsPerRow);

  const renderRow = row => // The `role="presentation` attribute ensures that the list items are properly
  // associated with the `VirtualList` element.
  // We use the first file ID as the key—this should not change across scroll rerenders
  (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    class: "uppy-Dashboard-filesInner",
    role: "presentation",
    key: row[0]
  }, row.map(fileID => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_FileItem_index_js__WEBPACK_IMPORTED_MODULE_1__["default"], _extends({
    key: fileID,
    uppy: props.uppy
  }, fileProps, {
    // eslint-disable-line react/jsx-props-no-spreading
    role: "listitem",
    openFileEditor: props.openFileEditor,
    canEditFile: props.canEditFile,
    toggleAddFilesPanel: props.toggleAddFilesPanel,
    file: props.files[fileID]
  }))));

  if (props.singleFile) {
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: "uppy-Dashboard-files"
    }, renderRow(rows[0]));
  }

  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_VirtualList_js__WEBPACK_IMPORTED_MODULE_2__["default"], {
    class: "uppy-Dashboard-files",
    role: "list",
    data: rows,
    renderRow: renderRow,
    rowHeight: rowHeight
  });
});

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/FilePreview.js":
/*!********************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/FilePreview.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FilePreview)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _utils_getFileTypeIcon_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/getFileTypeIcon.js */ "./node_modules/@uppy/dashboard/lib/utils/getFileTypeIcon.js");


function FilePreview(props) {
  const {
    file
  } = props;

  if (file.preview) {
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("img", {
      className: "uppy-Dashboard-Item-previewImg",
      alt: file.name,
      src: file.preview
    });
  }

  const {
    color,
    icon
  } = (0,_utils_getFileTypeIcon_js__WEBPACK_IMPORTED_MODULE_1__["default"])(file.type);
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Dashboard-Item-previewIconWrap"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
    className: "uppy-Dashboard-Item-previewIcon",
    style: {
      color
    }
  }, icon), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-Dashboard-Item-previewIconBg",
    width: "58",
    height: "76",
    viewBox: "0 0 58 76"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("rect", {
    fill: "#FFF",
    width: "58",
    height: "76",
    rx: "3",
    fillRule: "evenodd"
  })));
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/PickerPanelContent.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/PickerPanelContent.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var _utils_ignoreEvent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ignoreEvent.js */ "./node_modules/@uppy/dashboard/lib/utils/ignoreEvent.js");




function PickerPanelContent(_ref) {
  let {
    activePickerPanel,
    className,
    hideAllPanels,
    i18n,
    state,
    uppy
  } = _ref;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1__('uppy-DashboardContent-panel', className),
    role: "tabpanel",
    "data-uppy-panelType": "PickerPanel",
    id: `uppy-DashboardContent-panel--${activePickerPanel.id}`,
    onDragOver: _utils_ignoreEvent_js__WEBPACK_IMPORTED_MODULE_2__["default"],
    onDragLeave: _utils_ignoreEvent_js__WEBPACK_IMPORTED_MODULE_2__["default"],
    onDrop: _utils_ignoreEvent_js__WEBPACK_IMPORTED_MODULE_2__["default"],
    onPaste: _utils_ignoreEvent_js__WEBPACK_IMPORTED_MODULE_2__["default"]
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-DashboardContent-bar"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-DashboardContent-title",
    role: "heading",
    "aria-level": "1"
  }, i18n('importFrom', {
    name: activePickerPanel.name
  })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-DashboardContent-back",
    type: "button",
    onClick: hideAllPanels
  }, i18n('cancel'))), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-DashboardContent-panelBody"
  }, uppy.getPlugin(activePickerPanel.id).render(state)));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PickerPanelContent);

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/PickerPanelTopBar.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/PickerPanelTopBar.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");

const uploadStates = {
  STATE_ERROR: 'error',
  STATE_WAITING: 'waiting',
  STATE_PREPROCESSING: 'preprocessing',
  STATE_UPLOADING: 'uploading',
  STATE_POSTPROCESSING: 'postprocessing',
  STATE_COMPLETE: 'complete',
  STATE_PAUSED: 'paused'
};

function getUploadingState(isAllErrored, isAllComplete, isAllPaused, files) {
  if (files === void 0) {
    files = {};
  }

  if (isAllErrored) {
    return uploadStates.STATE_ERROR;
  }

  if (isAllComplete) {
    return uploadStates.STATE_COMPLETE;
  }

  if (isAllPaused) {
    return uploadStates.STATE_PAUSED;
  }

  let state = uploadStates.STATE_WAITING;
  const fileIDs = Object.keys(files);

  for (let i = 0; i < fileIDs.length; i++) {
    const {
      progress
    } = files[fileIDs[i]]; // If ANY files are being uploaded right now, show the uploading state.

    if (progress.uploadStarted && !progress.uploadComplete) {
      return uploadStates.STATE_UPLOADING;
    } // If files are being preprocessed AND postprocessed at this time, we show the
    // preprocess state. If any files are being uploaded we show uploading.


    if (progress.preprocess && state !== uploadStates.STATE_UPLOADING) {
      state = uploadStates.STATE_PREPROCESSING;
    } // If NO files are being preprocessed or uploaded right now, but some files are
    // being postprocessed, show the postprocess state.


    if (progress.postprocess && state !== uploadStates.STATE_UPLOADING && state !== uploadStates.STATE_PREPROCESSING) {
      state = uploadStates.STATE_POSTPROCESSING;
    }
  }

  return state;
}

function UploadStatus(_ref) {
  let {
    files,
    i18n,
    isAllComplete,
    isAllErrored,
    isAllPaused,
    inProgressNotPausedFiles,
    newFiles,
    processingFiles
  } = _ref;
  const uploadingState = getUploadingState(isAllErrored, isAllComplete, isAllPaused, files);

  switch (uploadingState) {
    case 'uploading':
      return i18n('uploadingXFiles', {
        smart_count: inProgressNotPausedFiles.length
      });

    case 'preprocessing':
    case 'postprocessing':
      return i18n('processingXFiles', {
        smart_count: processingFiles.length
      });

    case 'paused':
      return i18n('uploadPaused');

    case 'waiting':
      return i18n('xFilesSelected', {
        smart_count: newFiles.length
      });

    case 'complete':
      return i18n('uploadComplete');

    case 'error':
      return i18n('error');

    default:
  }
}

function PanelTopBar(props) {
  const {
    i18n,
    isAllComplete,
    hideCancelButton,
    maxNumberOfFiles,
    toggleAddFilesPanel,
    uppy
  } = props;
  let {
    allowNewUpload
  } = props; // TODO maybe this should be done in ../Dashboard.jsx, then just pass that down as `allowNewUpload`

  if (allowNewUpload && maxNumberOfFiles) {
    // eslint-disable-next-line react/destructuring-assignment
    allowNewUpload = props.totalFileCount < props.maxNumberOfFiles;
  }

  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-DashboardContent-bar"
  }, !isAllComplete && !hideCancelButton ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-DashboardContent-back",
    type: "button",
    onClick: () => uppy.cancelAll()
  }, i18n('cancel')) : (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", null), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-DashboardContent-title",
    role: "heading",
    "aria-level": "1"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(UploadStatus, props)), allowNewUpload ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-DashboardContent-addMore",
    type: "button",
    "aria-label": i18n('addMoreFiles'),
    title: i18n('addMoreFiles'),
    onClick: () => toggleAddFilesPanel(true)
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    width: "15",
    height: "15",
    viewBox: "0 0 15 15"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"
  })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
    className: "uppy-DashboardContent-addMoreCaption"
  }, i18n('addMore'))) : (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", null));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PanelTopBar);

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/Slide.js":
/*!**************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/Slide.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");


const transitionName = 'uppy-transition-slideDownUp';
const duration = 250;
/**
 * Vertical slide transition.
 *
 * This can take a _single_ child component, which _must_ accept a `className` prop.
 *
 * Currently this is specific to the `uppy-transition-slideDownUp` transition,
 * but it should be simple to extend this for any type of single-element
 * transition by setting the CSS name and duration as props.
 */

class Slide extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {
  constructor(props) {
    super(props);
    this.state = {
      cachedChildren: null,
      className: ''
    };
  } // TODO: refactor to stable lifecycle method
  // eslint-disable-next-line


  componentWillUpdate(nextProps) {
    const {
      cachedChildren
    } = this.state;
    const child = (0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)(nextProps.children)[0];
    if (cachedChildren === child) return null;
    const patch = {
      cachedChildren: child
    }; // Enter transition

    if (child && !cachedChildren) {
      patch.className = `${transitionName}-enter`;
      cancelAnimationFrame(this.animationFrame);
      clearTimeout(this.leaveTimeout);
      this.leaveTimeout = undefined;
      this.animationFrame = requestAnimationFrame(() => {
        // Force it to render before we add the active class
        // this.base.getBoundingClientRect()
        this.setState({
          className: `${transitionName}-enter ${transitionName}-enter-active`
        });
        this.enterTimeout = setTimeout(() => {
          this.setState({
            className: ''
          });
        }, duration);
      });
    } // Leave transition


    if (cachedChildren && !child && this.leaveTimeout === undefined) {
      patch.cachedChildren = cachedChildren;
      patch.className = `${transitionName}-leave`;
      cancelAnimationFrame(this.animationFrame);
      clearTimeout(this.enterTimeout);
      this.enterTimeout = undefined;
      this.animationFrame = requestAnimationFrame(() => {
        this.setState({
          className: `${transitionName}-leave ${transitionName}-leave-active`
        });
        this.leaveTimeout = setTimeout(() => {
          this.setState({
            cachedChildren: null,
            className: ''
          });
        }, duration);
      });
    } // eslint-disable-next-line


    this.setState(patch);
  }

  render() {
    const {
      cachedChildren,
      className
    } = this.state;

    if (!cachedChildren) {
      return null;
    }

    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(cachedChildren, {
      className: classnames__WEBPACK_IMPORTED_MODULE_1__(className, cachedChildren.props.className)
    });
  }

}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Slide);

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/components/VirtualList.js":
/*!********************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/components/VirtualList.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/**
 * Adapted from preact-virtual-list: https://github.com/developit/preact-virtual-list
 *
 * © 2016 Jason Miller
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * Adaptations:
 * - Added role=presentation to helper elements
 * - Tweaked styles for Uppy's Dashboard use case
 */

const STYLE_INNER = {
  position: 'relative',
  // Disabled for our use case: the wrapper elements around FileList already deal with overflow,
  // and this additional property would hide things that we want to show.
  //
  // overflow: 'hidden',
  width: '100%',
  minHeight: '100%'
};
const STYLE_CONTENT = {
  position: 'absolute',
  top: 0,
  left: 0,
  // Because the `top` value gets set to some offset, this `height` being 100% would make the scrollbar
  // stretch far beyond the content. For our use case, the content div actually can get its height from
  // the elements inside it, so we don't need to specify a `height` property at all.
  //
  // height: '100%',
  width: '100%',
  overflow: 'visible'
};

class VirtualList extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {
  constructor(props) {
    super(props); // The currently focused node, used to retain focus when the visible rows change.
    // To avoid update loops, this should not cause state updates, so it's kept as a plain property.

    this.handleScroll = () => {
      this.setState({
        offset: this.base.scrollTop
      });
    };

    this.handleResize = () => {
      this.resize();
    };

    this.focusElement = null;
    this.state = {
      offset: 0,
      height: 0
    };
  }

  componentDidMount() {
    this.resize();
    window.addEventListener('resize', this.handleResize);
  } // TODO: refactor to stable lifecycle method
  // eslint-disable-next-line


  componentWillUpdate() {
    if (this.base.contains(document.activeElement)) {
      this.focusElement = document.activeElement;
    }
  }

  componentDidUpdate() {
    // Maintain focus when rows are added and removed.
    if (this.focusElement && this.focusElement.parentNode && document.activeElement !== this.focusElement) {
      this.focusElement.focus();
    }

    this.focusElement = null;
    this.resize();
  }

  componentWillUnmount() {
    window.removeEventListener('resize', this.handleResize);
  }

  resize() {
    const {
      height
    } = this.state;

    if (height !== this.base.offsetHeight) {
      this.setState({
        height: this.base.offsetHeight
      });
    }
  }

  render(_ref) {
    let {
      data,
      rowHeight,
      renderRow,
      overscanCount = 10,
      ...props
    } = _ref;
    const {
      offset,
      height
    } = this.state; // first visible row index

    let start = Math.floor(offset / rowHeight); // actual number of visible rows (without overscan)

    let visibleRowCount = Math.floor(height / rowHeight); // Overscan: render blocks of rows modulo an overscan row count
    // This dramatically reduces DOM writes during scrolling

    if (overscanCount) {
      start = Math.max(0, start - start % overscanCount);
      visibleRowCount += overscanCount;
    } // last visible + overscan row index + padding to allow keyboard focus to travel past the visible area


    const end = start + visibleRowCount + 4; // data slice currently in viewport plus overscan items

    const selection = data.slice(start, end);
    const styleInner = { ...STYLE_INNER,
      height: data.length * rowHeight
    };
    const styleContent = { ...STYLE_CONTENT,
      top: start * rowHeight
    }; // The `role="presentation"` attributes ensure that these wrapper elements are not treated as list
    // items by accessibility and outline tools.

    return (// eslint-disable-next-line react/jsx-props-no-spreading
      (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", _extends({
        onScroll: this.handleScroll
      }, props), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        role: "presentation",
        style: styleInner
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        role: "presentation",
        style: styleContent
      }, selection.map(renderRow))))
    );
  }

}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (VirtualList);

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/index.js":
/*!***************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _Dashboard_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _Dashboard_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dashboard.js */ "./node_modules/@uppy/dashboard/lib/Dashboard.js");


/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/locale.js":
/*!****************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/locale.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  strings: {
    // When `inline: false`, used as the screen reader label for the button that closes the modal.
    closeModal: 'Close Modal',
    // Used as the screen reader label for the plus (+) button that shows the “Add more files” screen
    addMoreFiles: 'Add more files',
    addingMoreFiles: 'Adding more files',
    // Used as the header for import panels, e.g., “Import from Google Drive”.
    importFrom: 'Import from %{name}',
    // When `inline: false`, used as the screen reader label for the dashboard modal.
    dashboardWindowTitle: 'Uppy Dashboard Window (Press escape to close)',
    // When `inline: true`, used as the screen reader label for the dashboard area.
    dashboardTitle: 'Uppy Dashboard',
    // Shown in the Informer when a link to a file was copied to the clipboard.
    copyLinkToClipboardSuccess: 'Link copied to clipboard.',
    // Used when a link cannot be copied automatically — the user has to select the text from the
    // input element below this string.
    copyLinkToClipboardFallback: 'Copy the URL below',
    // Used as the hover title and screen reader label for buttons that copy a file link.
    copyLink: 'Copy link',
    back: 'Back',
    // Used as the screen reader label for buttons that remove a file.
    removeFile: 'Remove file',
    // Used as the screen reader label for buttons that open the metadata editor panel for a file.
    editFile: 'Edit file',
    // Shown in the panel header for the metadata editor. Rendered as “Editing image.png”.
    editing: 'Editing %{file}',
    // Shown on the main upload screen when an upload error occurs
    error: 'Error',
    // Used as the screen reader label for the button that saves metadata edits and returns to the
    // file list view.
    finishEditingFile: 'Finish editing file',
    saveChanges: 'Save changes',
    // Used as the label for the tab button that opens the system file selection dialog.
    myDevice: 'My Device',
    dropHint: 'Drop your files here',
    // Used as the hover text and screen reader label for file progress indicators when
    // they have been fully uploaded.
    uploadComplete: 'Upload complete',
    uploadPaused: 'Upload paused',
    // Used as the hover text and screen reader label for the buttons to resume paused uploads.
    resumeUpload: 'Resume upload',
    // Used as the hover text and screen reader label for the buttons to pause uploads.
    pauseUpload: 'Pause upload',
    // Used as the hover text and screen reader label for the buttons to retry failed uploads.
    retryUpload: 'Retry upload',
    // Used as the hover text and screen reader label for the buttons to cancel uploads.
    cancelUpload: 'Cancel upload',
    // Used in a title, how many files are currently selected
    xFilesSelected: {
      0: '%{smart_count} file selected',
      1: '%{smart_count} files selected'
    },
    uploadingXFiles: {
      0: 'Uploading %{smart_count} file',
      1: 'Uploading %{smart_count} files'
    },
    processingXFiles: {
      0: 'Processing %{smart_count} file',
      1: 'Processing %{smart_count} files'
    },
    // The "powered by Uppy" link at the bottom of the Dashboard.
    poweredBy: 'Powered by %{uppy}',
    addMore: 'Add more',
    editFileWithFilename: 'Edit file %{file}',
    save: 'Save',
    cancel: 'Cancel',
    dropPasteFiles: 'Drop files here or %{browseFiles}',
    dropPasteFolders: 'Drop files here or %{browseFolders}',
    dropPasteBoth: 'Drop files here, %{browseFiles} or %{browseFolders}',
    dropPasteImportFiles: 'Drop files here, %{browseFiles} or import from:',
    dropPasteImportFolders: 'Drop files here, %{browseFolders} or import from:',
    dropPasteImportBoth: 'Drop files here, %{browseFiles}, %{browseFolders} or import from:',
    importFiles: 'Import files from:',
    browseFiles: 'browse files',
    browseFolders: 'browse folders',
    recoveredXFiles: {
      0: 'We could not fully recover 1 file. Please re-select it and resume the upload.',
      1: 'We could not fully recover %{smart_count} files. Please re-select them and resume the upload.'
    },
    recoveredAllFiles: 'We restored all files. You can now resume the upload.',
    sessionRestored: 'Session restored',
    reSelect: 'Re-select',
    missingRequiredMetaFields: {
      0: 'Missing required meta field: %{fields}.',
      1: 'Missing required meta fields: %{fields}.'
    },
    // Used for native device camera buttons on mobile
    takePictureBtn: 'Take Picture',
    recordVideoBtn: 'Record Video'
  }
});

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/utils/copyToClipboard.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/utils/copyToClipboard.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ copyToClipboard)
/* harmony export */ });
/**
 * Copies text to clipboard by creating an almost invisible textarea,
 * adding text there, then running execCommand('copy').
 * Falls back to prompt() when the easy way fails (hello, Safari!)
 * From http://stackoverflow.com/a/30810322
 *
 * @param {string} textToCopy
 * @param {string} fallbackString
 * @returns {Promise}
 */
function copyToClipboard(textToCopy, fallbackString) {
  if (fallbackString === void 0) {
    fallbackString = 'Copy the URL below';
  }

  return new Promise(resolve => {
    const textArea = document.createElement('textarea');
    textArea.setAttribute('style', {
      position: 'fixed',
      top: 0,
      left: 0,
      width: '2em',
      height: '2em',
      padding: 0,
      border: 'none',
      outline: 'none',
      boxShadow: 'none',
      background: 'transparent'
    });
    textArea.value = textToCopy;
    document.body.appendChild(textArea);
    textArea.select();

    const magicCopyFailed = () => {
      document.body.removeChild(textArea); // eslint-disable-next-line no-alert

      window.prompt(fallbackString, textToCopy);
      resolve();
    };

    try {
      const successful = document.execCommand('copy');

      if (!successful) {
        return magicCopyFailed('copy command unavailable');
      }

      document.body.removeChild(textArea);
      return resolve();
    } catch (err) {
      document.body.removeChild(textArea);
      return magicCopyFailed(err);
    }
  });
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js":
/*!********************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ createSuperFocus)
/* harmony export */ });
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash.debounce */ "./node_modules/lodash.debounce/index.js");
/* harmony import */ var _uppy_utils_lib_FOCUSABLE_ELEMENTS__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/utils/lib/FOCUSABLE_ELEMENTS */ "./node_modules/@uppy/utils/lib/FOCUSABLE_ELEMENTS.js");
/* harmony import */ var _getActiveOverlayEl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getActiveOverlayEl.js */ "./node_modules/@uppy/dashboard/lib/utils/getActiveOverlayEl.js");



/*
  Focuses on some element in the currently topmost overlay.

  1. If there are some [data-uppy-super-focusable] elements rendered already - focuses
     on the first superfocusable element, and leaves focus up to the control of
     a user (until currently focused element disappears from the screen [which
     can happen when overlay changes, or, e.g., when we click on a folder in googledrive]).
  2. If there are no [data-uppy-super-focusable] elements yet (or ever) - focuses
     on the first focusable element, but switches focus if superfocusable elements appear on next render.
*/

function createSuperFocus() {
  let lastFocusWasOnSuperFocusableEl = false;

  const superFocus = (dashboardEl, activeOverlayType) => {
    const overlayEl = (0,_getActiveOverlayEl_js__WEBPACK_IMPORTED_MODULE_2__["default"])(dashboardEl, activeOverlayType);
    const isFocusInOverlay = overlayEl.contains(document.activeElement); // If focus is already in the topmost overlay, AND on last update we focused on the superfocusable
    // element - then leave focus up to the user.
    // [Practical check] without this line, typing in the search input in googledrive overlay won't work.

    if (isFocusInOverlay && lastFocusWasOnSuperFocusableEl) return;
    const superFocusableEl = overlayEl.querySelector('[data-uppy-super-focusable]'); // If we are already in the topmost overlay, AND there are no super focusable elements yet, - leave focus up to the user.
    // [Practical check] without this line, if you are in an empty folder in google drive, and something's uploading in the
    // bg, - focus will be jumping to Done all the time.

    if (isFocusInOverlay && !superFocusableEl) return;

    if (superFocusableEl) {
      superFocusableEl.focus({
        preventScroll: true
      });
      lastFocusWasOnSuperFocusableEl = true;
    } else {
      const firstEl = overlayEl.querySelector(_uppy_utils_lib_FOCUSABLE_ELEMENTS__WEBPACK_IMPORTED_MODULE_1__["default"]);
      firstEl == null ? void 0 : firstEl.focus({
        preventScroll: true
      });
      lastFocusWasOnSuperFocusableEl = false;
    }
  }; // ___Why do we need to debounce?
  //    1. To deal with animations: overlay changes via animations, which results in the DOM updating AFTER plugin.update()
  //       already executed.
  //    [Practical check] without debounce, if we open the Url overlay, and click 'Done', Dashboard won't get focused again.
  //    [Practical check] if we delay 250ms instead of 260ms - IE11 won't get focused in same situation.
  //    2. Performance: there can be many state update()s in a second, and this function is called every time.


  return lodash_debounce__WEBPACK_IMPORTED_MODULE_0__(superFocus, 260);
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/utils/getActiveOverlayEl.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/utils/getActiveOverlayEl.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getActiveOverlayEl)
/* harmony export */ });
/**
 * @returns {HTMLElement} - either dashboard element, or the overlay that's most on top
 */
function getActiveOverlayEl(dashboardEl, activeOverlayType) {
  if (activeOverlayType) {
    const overlayEl = dashboardEl.querySelector(`[data-uppy-paneltype="${activeOverlayType}"]`); // if an overlay is already mounted

    if (overlayEl) return overlayEl;
  }

  return dashboardEl;
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/utils/getFileTypeIcon.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/utils/getFileTypeIcon.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getIconByMime)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");


function iconImage() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    width: "25",
    height: "25",
    viewBox: "0 0 25 25"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
    fill: "#686DE0",
    fillRule: "evenodd"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",
    fillRule: "nonzero"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",
    fillRule: "nonzero"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("circle", {
    cx: "7.5",
    cy: "9.5",
    r: "1.5"
  })));
}

function iconAudio() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    width: "25",
    height: "25",
    viewBox: "0 0 25 25"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",
    fill: "#049BCF",
    fillRule: "nonzero"
  }));
}

function iconVideo() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    width: "25",
    height: "25",
    viewBox: "0 0 25 25"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",
    fill: "#19AF67",
    fillRule: "nonzero"
  }));
}

function iconPDF() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    width: "25",
    height: "25",
    viewBox: "0 0 25 25"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",
    fill: "#E2514A",
    fillRule: "nonzero"
  }));
}

function iconArchive() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    width: "25",
    height: "25",
    viewBox: "0 0 25 25"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",
    fill: "#00C469",
    fillRule: "nonzero"
  }));
}

function iconFile() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    width: "25",
    height: "25",
    viewBox: "0 0 25 25"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
    fill: "#A7AFB7",
    fillRule: "nonzero"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"
  })));
}

function iconText() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    width: "25",
    height: "25",
    viewBox: "0 0 25 25"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",
    fill: "#5A5E69",
    fillRule: "nonzero"
  }));
}

function getIconByMime(fileType) {
  const defaultChoice = {
    color: '#838999',
    icon: iconFile()
  };
  if (!fileType) return defaultChoice;
  const fileTypeGeneral = fileType.split('/')[0];
  const fileTypeSpecific = fileType.split('/')[1]; // Text

  if (fileTypeGeneral === 'text') {
    return {
      color: '#5a5e69',
      icon: iconText()
    };
  } // Image


  if (fileTypeGeneral === 'image') {
    return {
      color: '#686de0',
      icon: iconImage()
    };
  } // Audio


  if (fileTypeGeneral === 'audio') {
    return {
      color: '#068dbb',
      icon: iconAudio()
    };
  } // Video


  if (fileTypeGeneral === 'video') {
    return {
      color: '#19af67',
      icon: iconVideo()
    };
  } // PDF


  if (fileTypeGeneral === 'application' && fileTypeSpecific === 'pdf') {
    return {
      color: '#e25149',
      icon: iconPDF()
    };
  } // Archive


  const archiveTypes = ['zip', 'x-7z-compressed', 'x-rar-compressed', 'x-tar', 'x-gzip', 'x-apple-diskimage'];

  if (fileTypeGeneral === 'application' && archiveTypes.indexOf(fileTypeSpecific) !== -1) {
    return {
      color: '#00C469',
      icon: iconArchive()
    };
  }

  return defaultChoice;
}

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/utils/ignoreEvent.js":
/*!***************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/utils/ignoreEvent.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// ignore drop/paste events if they are not in input or textarea —
// otherwise when Url plugin adds drop/paste listeners to this.el,
// draging UI elements or pasting anything into any field triggers those events —
// Url treats them as URLs that need to be imported
function ignoreEvent(ev) {
  const {
    tagName
  } = ev.target;

  if (tagName === 'INPUT' || tagName === 'TEXTAREA') {
    ev.stopPropagation();
    return;
  }

  ev.preventDefault();
  ev.stopPropagation();
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ignoreEvent);

/***/ }),

/***/ "./node_modules/@uppy/dashboard/lib/utils/trapFocus.js":
/*!*************************************************************!*\
  !*** ./node_modules/@uppy/dashboard/lib/utils/trapFocus.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "forInline": () => (/* binding */ forInline),
/* harmony export */   "forModal": () => (/* binding */ trapFocus)
/* harmony export */ });
/* harmony import */ var _uppy_utils_lib_toArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/utils/lib/toArray */ "./node_modules/@uppy/utils/lib/toArray.js");
/* harmony import */ var _uppy_utils_lib_FOCUSABLE_ELEMENTS__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/utils/lib/FOCUSABLE_ELEMENTS */ "./node_modules/@uppy/utils/lib/FOCUSABLE_ELEMENTS.js");
/* harmony import */ var _getActiveOverlayEl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getActiveOverlayEl.js */ "./node_modules/@uppy/dashboard/lib/utils/getActiveOverlayEl.js");




function focusOnFirstNode(event, nodes) {
  const node = nodes[0];

  if (node) {
    node.focus();
    event.preventDefault();
  }
}

function focusOnLastNode(event, nodes) {
  const node = nodes[nodes.length - 1];

  if (node) {
    node.focus();
    event.preventDefault();
  }
} // ___Why not just use (focusedItemIndex === -1)?
//    Firefox thinks <ul> is focusable, but we don't have <ul>s in our FOCUSABLE_ELEMENTS. Which means that if we tab into
//    the <ul>, code will think that we are not in the active overlay, and we should focusOnFirstNode() of the currently
//    active overlay!
//    [Practical check] if we use (focusedItemIndex === -1), instagram provider in firefox will never get focus on its pics
//    in the <ul>.


function isFocusInOverlay(activeOverlayEl) {
  return activeOverlayEl.contains(document.activeElement);
}

function trapFocus(event, activeOverlayType, dashboardEl) {
  const activeOverlayEl = (0,_getActiveOverlayEl_js__WEBPACK_IMPORTED_MODULE_2__["default"])(dashboardEl, activeOverlayType);
  const focusableNodes = (0,_uppy_utils_lib_toArray__WEBPACK_IMPORTED_MODULE_0__["default"])(activeOverlayEl.querySelectorAll(_uppy_utils_lib_FOCUSABLE_ELEMENTS__WEBPACK_IMPORTED_MODULE_1__["default"]));
  const focusedItemIndex = focusableNodes.indexOf(document.activeElement); // If we pressed tab, and focus is not yet within the current overlay - focus on
  // the first element within the current overlay.
  // This is a safety measure (for when user returns from another tab e.g.), most
  // plugins will try to focus on some important element as it loads.

  if (!isFocusInOverlay(activeOverlayEl)) {
    focusOnFirstNode(event, focusableNodes); // If we pressed shift + tab, and we're on the first element of a modal
  } else if (event.shiftKey && focusedItemIndex === 0) {
    focusOnLastNode(event, focusableNodes); // If we pressed tab, and we're on the last element of the modal
  } else if (!event.shiftKey && focusedItemIndex === focusableNodes.length - 1) {
    focusOnFirstNode(event, focusableNodes);
  }
} // Traps focus inside of the currently open overlay (e.g. Dashboard, or e.g. Instagram),
// never lets focus disappear from the modal.


 // Traps focus inside of the currently open overlay, unless overlay is null - then let the user tab away.

function forInline(event, activeOverlayType, dashboardEl) {
  // ___When we're in the bare 'Drop files here, paste, browse or import from' screen
  if (activeOverlayType === null) {// Do nothing and let the browser handle it, user can tab away from Uppy to other elements on the page
    // ___When there is some overlay with 'Done' button
  } else {
    // Trap the focus inside this overlay!
    // User can close the overlay (click 'Done') if they want to travel away from Uppy.
    trapFocus(event, activeOverlayType, dashboardEl);
  }
}

/***/ }),

/***/ "./node_modules/@uppy/dropbox/lib/Dropbox.js":
/*!***************************************************!*\
  !*** ./node_modules/@uppy/dropbox/lib/Dropbox.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Dropbox)
/* harmony export */ });
/* harmony import */ var _uppy_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/core */ "./node_modules/@uppy/core/lib/index.js");
/* harmony import */ var _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/companion-client */ "./node_modules/@uppy/companion-client/lib/index.js");
/* harmony import */ var _uppy_provider_views__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/provider-views */ "./node_modules/@uppy/provider-views/lib/index.js");
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@uppy/dropbox/lib/locale.js");




const packageJson = {
  "version": "3.1.0"
};

class Dropbox extends _uppy_core__WEBPACK_IMPORTED_MODULE_0__.UIPlugin {
  constructor(uppy, opts) {
    super(uppy, opts);
    this.id = this.opts.id || 'Dropbox';
    _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__.Provider.initPlugin(this, opts);
    this.title = this.opts.title || 'Dropbox';

    this.icon = () => (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)("svg", {
      className: "uppy-DashboardTab-iconDropbox",
      "aria-hidden": "true",
      focusable: "false",
      width: "32",
      height: "32",
      viewBox: "0 0 32 32"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)("path", {
      d: "M10.5 7.5L5 10.955l5.5 3.454 5.5-3.454 5.5 3.454 5.5-3.454L21.5 7.5 16 10.955zM10.5 21.319L5 17.864l5.5-3.455 5.5 3.455zM16 17.864l5.5-3.455 5.5 3.455-5.5 3.455zM16 25.925l-5.5-3.455 5.5-3.454 5.5 3.454z",
      fill: "currentcolor",
      fillRule: "nonzero"
    }));

    this.provider = new _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__.Provider(uppy, {
      companionUrl: this.opts.companionUrl,
      companionHeaders: this.opts.companionHeaders,
      companionKeysParams: this.opts.companionKeysParams,
      companionCookiesRule: this.opts.companionCookiesRule,
      provider: 'dropbox',
      pluginId: this.id
    });
    this.defaultLocale = _locale_js__WEBPACK_IMPORTED_MODULE_4__["default"];
    this.i18nInit();
    this.title = this.i18n('pluginNameDropbox');
    this.onFirstRender = this.onFirstRender.bind(this);
    this.render = this.render.bind(this);
  }

  install() {
    this.view = new _uppy_provider_views__WEBPACK_IMPORTED_MODULE_2__.ProviderViews(this, {
      provider: this.provider
    });
    const {
      target
    } = this.opts;

    if (target) {
      this.mount(target, this);
    }
  }

  uninstall() {
    this.view.tearDown();
    this.unmount();
  }

  onFirstRender() {
    return Promise.all([this.provider.fetchPreAuthToken(), this.view.getFolder()]);
  }

  render(state) {
    return this.view.render(state);
  }

}
Dropbox.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/dropbox/lib/index.js":
/*!*************************************************!*\
  !*** ./node_modules/@uppy/dropbox/lib/index.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _Dropbox_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _Dropbox_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dropbox.js */ "./node_modules/@uppy/dropbox/lib/Dropbox.js");


/***/ }),

/***/ "./node_modules/@uppy/dropbox/lib/locale.js":
/*!**************************************************!*\
  !*** ./node_modules/@uppy/dropbox/lib/locale.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  strings: {
    pluginNameDropbox: 'Dropbox'
  }
});

/***/ }),

/***/ "./node_modules/@uppy/facebook/lib/Facebook.js":
/*!*****************************************************!*\
  !*** ./node_modules/@uppy/facebook/lib/Facebook.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Facebook)
/* harmony export */ });
/* harmony import */ var _uppy_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/core */ "./node_modules/@uppy/core/lib/index.js");
/* harmony import */ var _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/companion-client */ "./node_modules/@uppy/companion-client/lib/index.js");
/* harmony import */ var _uppy_provider_views__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/provider-views */ "./node_modules/@uppy/provider-views/lib/index.js");
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@uppy/facebook/lib/locale.js");




const packageJson = {
  "version": "3.1.0"
};

class Facebook extends _uppy_core__WEBPACK_IMPORTED_MODULE_0__.UIPlugin {
  constructor(uppy, opts) {
    super(uppy, opts);
    this.id = this.opts.id || 'Facebook';
    _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__.Provider.initPlugin(this, opts);
    this.title = this.opts.title || 'Facebook';

    this.icon = () => (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)("svg", {
      "aria-hidden": "true",
      focusable: "false",
      width: "32",
      height: "32",
      viewBox: "0 0 32 32"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)("g", {
      fill: "none",
      fillRule: "evenodd"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)("path", {
      d: "M27 16c0-6.075-4.925-11-11-11S5 9.925 5 16c0 5.49 4.023 10.041 9.281 10.866V19.18h-2.793V16h2.793v-2.423c0-2.757 1.642-4.28 4.155-4.28 1.204 0 2.462.215 2.462.215v2.707h-1.387c-1.366 0-1.792.848-1.792 1.718V16h3.05l-.487 3.18h-2.563v7.686C22.977 26.041 27 21.49 27 16",
      fill: "#1777F2"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)("path", {
      d: "M20.282 19.18L20.77 16h-3.051v-2.063c0-.87.426-1.718 1.792-1.718h1.387V9.512s-1.258-.215-2.462-.215c-2.513 0-4.155 1.523-4.155 4.28V16h-2.793v3.18h2.793v7.686a11.082 11.082 0 003.438 0V19.18h2.563",
      fill: "#FFFFFE"
    })));

    this.provider = new _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__.Provider(uppy, {
      companionUrl: this.opts.companionUrl,
      companionHeaders: this.opts.companionHeaders,
      companionKeysParams: this.opts.companionKeysParams,
      companionCookiesRule: this.opts.companionCookiesRule,
      provider: 'facebook',
      pluginId: this.id
    });
    this.defaultLocale = _locale_js__WEBPACK_IMPORTED_MODULE_4__["default"];
    this.i18nInit();
    this.title = this.i18n('pluginNameFacebook');
    this.onFirstRender = this.onFirstRender.bind(this);
    this.render = this.render.bind(this);
  }

  install() {
    this.view = new _uppy_provider_views__WEBPACK_IMPORTED_MODULE_2__.ProviderViews(this, {
      provider: this.provider
    });
    const {
      target
    } = this.opts;

    if (target) {
      this.mount(target, this);
    }
  }

  uninstall() {
    this.view.tearDown();
    this.unmount();
  }

  onFirstRender() {
    return Promise.all([this.provider.fetchPreAuthToken(), this.view.getFolder()]);
  }

  render(state) {
    const viewOptions = {};

    if (this.getPluginState().files.length && !this.getPluginState().folders.length) {
      viewOptions.viewType = 'grid';
      viewOptions.showFilter = false;
      viewOptions.showTitles = false;
    }

    return this.view.render(state, viewOptions);
  }

}
Facebook.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/facebook/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@uppy/facebook/lib/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _Facebook_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _Facebook_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Facebook.js */ "./node_modules/@uppy/facebook/lib/Facebook.js");


/***/ }),

/***/ "./node_modules/@uppy/facebook/lib/locale.js":
/*!***************************************************!*\
  !*** ./node_modules/@uppy/facebook/lib/locale.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  strings: {
    pluginNameFacebook: 'Facebook'
  }
});

/***/ }),

/***/ "./node_modules/@uppy/golden-retriever/lib/IndexedDBStore.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@uppy/golden-retriever/lib/IndexedDBStore.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const indexedDB = typeof window !== 'undefined' && (window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.OIndexedDB || window.msIndexedDB);
const isSupported = !!indexedDB;
const DB_NAME = 'uppy-blobs';
const STORE_NAME = 'files'; // maybe have a thumbnail store in the future

const DEFAULT_EXPIRY = 24 * 60 * 60 * 1000; // 24 hours

const DB_VERSION = 3; // Set default `expires` dates on existing stored blobs.

function migrateExpiration(store) {
  const request = store.openCursor();

  request.onsuccess = event => {
    const cursor = event.target.result;

    if (!cursor) {
      return;
    }

    const entry = cursor.value;
    entry.expires = Date.now() + DEFAULT_EXPIRY;
    cursor.update(entry);
  };
}

function connect(dbName) {
  const request = indexedDB.open(dbName, DB_VERSION);
  return new Promise((resolve, reject) => {
    request.onupgradeneeded = event => {
      const db = event.target.result;
      const {
        transaction
      } = event.currentTarget;

      if (event.oldVersion < 2) {
        // Added in v2: DB structure changed to a single shared object store
        const store = db.createObjectStore(STORE_NAME, {
          keyPath: 'id'
        });
        store.createIndex('store', 'store', {
          unique: false
        });
      }

      if (event.oldVersion < 3) {
        // Added in v3
        const store = transaction.objectStore(STORE_NAME);
        store.createIndex('expires', 'expires', {
          unique: false
        });
        migrateExpiration(store);
      }

      transaction.oncomplete = () => {
        resolve(db);
      };
    };

    request.onsuccess = event => {
      resolve(event.target.result);
    };

    request.onerror = reject;
  });
}

function waitForRequest(request) {
  return new Promise((resolve, reject) => {
    request.onsuccess = event => {
      resolve(event.target.result);
    };

    request.onerror = reject;
  });
}

let cleanedUp = false;

class IndexedDBStore {
  constructor(opts) {
    this.opts = {
      dbName: DB_NAME,
      storeName: 'default',
      expires: DEFAULT_EXPIRY,
      // 24 hours
      maxFileSize: 10 * 1024 * 1024,
      // 10 MB
      maxTotalSize: 300 * 1024 * 1024,
      // 300 MB
      ...opts
    };
    this.name = this.opts.storeName;

    const createConnection = () => {
      return connect(this.opts.dbName);
    };

    if (!cleanedUp) {
      cleanedUp = true;
      this.ready = IndexedDBStore.cleanup().then(createConnection, createConnection);
    } else {
      this.ready = createConnection();
    }
  }

  key(fileID) {
    return `${this.name}!${fileID}`;
  }
  /**
   * List all file blobs currently in the store.
   */


  list() {
    return this.ready.then(db => {
      const transaction = db.transaction([STORE_NAME], 'readonly');
      const store = transaction.objectStore(STORE_NAME);
      const request = store.index('store').getAll(IDBKeyRange.only(this.name));
      return waitForRequest(request);
    }).then(files => {
      const result = {};
      files.forEach(file => {
        result[file.fileID] = file.data;
      });
      return result;
    });
  }
  /**
   * Get one file blob from the store.
   */


  get(fileID) {
    return this.ready.then(db => {
      const transaction = db.transaction([STORE_NAME], 'readonly');
      const request = transaction.objectStore(STORE_NAME).get(this.key(fileID));
      return waitForRequest(request);
    }).then(result => ({
      id: result.data.fileID,
      data: result.data.data
    }));
  }
  /**
   * Get the total size of all stored files.
   *
   * @private
   */


  getSize() {
    return this.ready.then(db => {
      const transaction = db.transaction([STORE_NAME], 'readonly');
      const store = transaction.objectStore(STORE_NAME);
      const request = store.index('store').openCursor(IDBKeyRange.only(this.name));
      return new Promise((resolve, reject) => {
        let size = 0;

        request.onsuccess = event => {
          const cursor = event.target.result;

          if (cursor) {
            size += cursor.value.data.size;
            cursor.continue();
          } else {
            resolve(size);
          }
        };

        request.onerror = () => {
          reject(new Error('Could not retrieve stored blobs size'));
        };
      });
    });
  }
  /**
   * Save a file in the store.
   */


  put(file) {
    if (file.data.size > this.opts.maxFileSize) {
      return Promise.reject(new Error('File is too big to store.'));
    }

    return this.getSize().then(size => {
      if (size > this.opts.maxTotalSize) {
        return Promise.reject(new Error('No space left'));
      }

      return this.ready;
    }).then(db => {
      const transaction = db.transaction([STORE_NAME], 'readwrite');
      const request = transaction.objectStore(STORE_NAME).add({
        id: this.key(file.id),
        fileID: file.id,
        store: this.name,
        expires: Date.now() + this.opts.expires,
        data: file.data
      });
      return waitForRequest(request);
    });
  }
  /**
   * Delete a file blob from the store.
   */


  delete(fileID) {
    return this.ready.then(db => {
      const transaction = db.transaction([STORE_NAME], 'readwrite');
      const request = transaction.objectStore(STORE_NAME).delete(this.key(fileID));
      return waitForRequest(request);
    });
  }
  /**
   * Delete all stored blobs that have an expiry date that is before Date.now().
   * This is a static method because it deletes expired blobs from _all_ Uppy instances.
   */


  static cleanup() {
    return connect(DB_NAME).then(db => {
      const transaction = db.transaction([STORE_NAME], 'readwrite');
      const store = transaction.objectStore(STORE_NAME);
      const request = store.index('expires').openCursor(IDBKeyRange.upperBound(Date.now()));
      return new Promise((resolve, reject) => {
        request.onsuccess = event => {
          const cursor = event.target.result;

          if (cursor) {
            cursor.delete(); // Ignoring return value … it's not terrible if this goes wrong.

            cursor.continue();
          } else {
            resolve(db);
          }
        };

        request.onerror = reject;
      });
    }).then(db => {
      db.close();
    });
  }

}

IndexedDBStore.isSupported = isSupported;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (IndexedDBStore);

/***/ }),

/***/ "./node_modules/@uppy/golden-retriever/lib/MetaDataStore.js":
/*!******************************************************************!*\
  !*** ./node_modules/@uppy/golden-retriever/lib/MetaDataStore.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MetaDataStore)
/* harmony export */ });
/**
 * Get uppy instance IDs for which state is stored.
 */
function findUppyInstances() {
  const instances = [];

  for (let i = 0; i < localStorage.length; i++) {
    const key = localStorage.key(i);

    if (/^uppyState:/.test(key)) {
      instances.push(key.slice('uppyState:'.length));
    }
  }

  return instances;
}
/**
 * Try to JSON-parse a string, return null on failure.
 */


function maybeParse(str) {
  try {
    return JSON.parse(str);
  } catch (err) {
    return null;
  }
}

let cleanedUp = false;
class MetaDataStore {
  constructor(opts) {
    this.opts = {
      expires: 24 * 60 * 60 * 1000,
      // 24 hours
      ...opts
    };
    this.name = `uppyState:${opts.storeName}`;

    if (!cleanedUp) {
      cleanedUp = true;
      MetaDataStore.cleanup();
    }
  }
  /**
   *
   */


  load() {
    const savedState = localStorage.getItem(this.name);
    if (!savedState) return null;
    const data = maybeParse(savedState);
    if (!data) return null; // Upgrade pre-0.20.0 uppyState: it used to be just a flat object,
    // without `expires`.

    if (!data.metadata) {
      this.save(data);
      return data;
    }

    return data.metadata;
  }

  save(metadata) {
    const expires = Date.now() + this.opts.expires;
    const state = JSON.stringify({
      metadata,
      expires
    });
    localStorage.setItem(this.name, state);
  }
  /**
   * Remove all expired state.
   */


  static cleanup(instanceID) {
    if (instanceID) {
      localStorage.removeItem(`uppyState:${instanceID}`);
      return;
    }

    const instanceIDs = findUppyInstances();
    const now = Date.now();
    instanceIDs.forEach(id => {
      const data = localStorage.getItem(`uppyState:${id}`);
      if (!data) return;
      const obj = maybeParse(data);
      if (!obj) return;

      if (obj.expires && obj.expires < now) {
        localStorage.removeItem(`uppyState:${id}`);
      }
    });
  }

}

/***/ }),

/***/ "./node_modules/@uppy/golden-retriever/lib/ServiceWorker.js":
/*!******************************************************************!*\
  !*** ./node_modules/@uppy/golden-retriever/lib/ServiceWorker.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* globals clients */
const fileCache = Object.create(null);

function getCache(name) {
  if (!fileCache[name]) {
    fileCache[name] = Object.create(null);
  }

  return fileCache[name];
}

self.addEventListener('install', event => {
  event.waitUntil(Promise.resolve().then(() => self.skipWaiting()));
});
self.addEventListener('activate', event => {
  event.waitUntil(self.clients.claim());
});

function sendMessageToAllClients(msg) {
  clients.matchAll().then(clients => {
    clients.forEach(client => {
      client.postMessage(msg);
    });
  });
}

function addFile(store, file) {
  getCache(store)[file.id] = file.data;
}

function removeFile(store, fileID) {
  delete getCache(store)[fileID];
}

function getFiles(store) {
  sendMessageToAllClients({
    type: 'uppy/ALL_FILES',
    store,
    files: getCache(store)
  });
}

self.addEventListener('message', event => {
  var _event$data;

  switch (event.data.type) {
    case 'uppy/ADD_FILE':
      addFile(event.data.store, event.data.file);
      break;

    case 'uppy/REMOVE_FILE':
      removeFile(event.data.store, event.data.fileID);
      break;

    case 'uppy/GET_FILES':
      getFiles(event.data.store);
      break;

    default:
      throw new Error(`[ServiceWorker] Unsupported event.data.type. Got: ${event == null ? void 0 : (_event$data = event.data) == null ? void 0 : _event$data.type}`);
  }
});

/***/ }),

/***/ "./node_modules/@uppy/golden-retriever/lib/ServiceWorkerStore.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@uppy/golden-retriever/lib/ServiceWorkerStore.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const isSupported = typeof navigator !== 'undefined' && 'serviceWorker' in navigator;

function waitForServiceWorker() {
  return new Promise((resolve, reject) => {
    if (!isSupported) {
      reject(new Error('Unsupported'));
    } else if (navigator.serviceWorker.controller) {
      // A serviceWorker is already registered and active.
      resolve();
    } else {
      navigator.serviceWorker.addEventListener('controllerchange', () => {
        resolve();
      });
    }
  });
}

class ServiceWorkerStore {
  constructor(opts) {
    this.ready = waitForServiceWorker();
    this.name = opts.storeName;
  }

  list() {
    const defer = {};
    const promise = new Promise((resolve, reject) => {
      defer.resolve = resolve;
      defer.reject = reject;
    });

    const onMessage = event => {
      if (event.data.store !== this.name) {
        return;
      }

      switch (event.data.type) {
        case 'uppy/ALL_FILES':
          defer.resolve(event.data.files);
          navigator.serviceWorker.removeEventListener('message', onMessage);
          break;

        default:
          defer.reject();
      }
    };

    this.ready.then(() => {
      navigator.serviceWorker.addEventListener('message', onMessage);
      navigator.serviceWorker.controller.postMessage({
        type: 'uppy/GET_FILES',
        store: this.name
      });
    });
    return promise;
  }

  put(file) {
    return this.ready.then(() => {
      navigator.serviceWorker.controller.postMessage({
        type: 'uppy/ADD_FILE',
        store: this.name,
        file
      });
    });
  }

  delete(fileID) {
    return this.ready.then(() => {
      navigator.serviceWorker.controller.postMessage({
        type: 'uppy/REMOVE_FILE',
        store: this.name,
        fileID
      });
    });
  }

}

ServiceWorkerStore.isSupported = isSupported;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ServiceWorkerStore);

/***/ }),

/***/ "./node_modules/@uppy/golden-retriever/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@uppy/golden-retriever/lib/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ GoldenRetriever)
/* harmony export */ });
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash.throttle */ "./node_modules/lodash.throttle/index.js");
/* harmony import */ var _uppy_core_lib_BasePlugin_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/core/lib/BasePlugin.js */ "./node_modules/@uppy/core/lib/BasePlugin.js");
/* harmony import */ var _ServiceWorkerStore_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ServiceWorkerStore.js */ "./node_modules/@uppy/golden-retriever/lib/ServiceWorkerStore.js");
/* harmony import */ var _IndexedDBStore_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./IndexedDBStore.js */ "./node_modules/@uppy/golden-retriever/lib/IndexedDBStore.js");
/* harmony import */ var _MetaDataStore_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MetaDataStore.js */ "./node_modules/@uppy/golden-retriever/lib/MetaDataStore.js");





const packageJson = {
  "version": "3.0.2"
};
/**
 * The GoldenRetriever plugin — restores selected files and resumes uploads
 * after a closed tab or a browser crash!
 *
 * Uses localStorage, IndexedDB and ServiceWorker to do its magic, read more:
 * https://uppy.io/blog/2017/07/golden-retriever/
 */

class GoldenRetriever extends _uppy_core_lib_BasePlugin_js__WEBPACK_IMPORTED_MODULE_1__["default"] {
  constructor(uppy, opts) {
    super(uppy, opts);

    this.addBlobToStores = file => {
      if (file.isRemote) return;

      if (this.ServiceWorkerStore) {
        this.ServiceWorkerStore.put(file).catch(err => {
          this.uppy.log('[GoldenRetriever] Could not store file', 'warning');
          this.uppy.log(err);
        });
      }

      this.IndexedDBStore.put(file).catch(err => {
        this.uppy.log('[GoldenRetriever] Could not store file', 'warning');
        this.uppy.log(err);
      });
    };

    this.removeBlobFromStores = file => {
      if (this.ServiceWorkerStore) {
        this.ServiceWorkerStore.delete(file.id).catch(err => {
          this.uppy.log('[GoldenRetriever] Failed to remove file', 'warning');
          this.uppy.log(err);
        });
      }

      this.IndexedDBStore.delete(file.id).catch(err => {
        this.uppy.log('[GoldenRetriever] Failed to remove file', 'warning');
        this.uppy.log(err);
      });
    };

    this.replaceBlobInStores = file => {
      this.removeBlobFromStores(file);
      this.addBlobToStores(file);
    };

    this.handleRestoreConfirmed = () => {
      this.uppy.log('[GoldenRetriever] Restore confirmed, proceeding...'); // start all uploads again when file blobs are restored

      const {
        currentUploads
      } = this.uppy.getState();

      if (currentUploads) {
        this.uppy.resumeAll();
        Object.keys(currentUploads).forEach(uploadId => {
          this.uppy.restore(uploadId, currentUploads[uploadId]);
        });
      }

      this.uppy.setState({
        recoveredState: null
      });
    };

    this.abortRestore = () => {
      this.uppy.log('[GoldenRetriever] Aborting restore...');
      const fileIDs = Object.keys(this.uppy.getState().files);
      this.deleteBlobs(fileIDs).then(() => {
        this.uppy.log(`[GoldenRetriever] Removed ${fileIDs.length} files`);
      }).catch(err => {
        this.uppy.log(`[GoldenRetriever] Could not remove ${fileIDs.length} files`, 'warning');
        this.uppy.log(err);
      });
      this.uppy.cancelAll();
      this.uppy.setState({
        recoveredState: null
      });
      _MetaDataStore_js__WEBPACK_IMPORTED_MODULE_4__["default"].cleanup(this.uppy.opts.id);
    };

    this.handleComplete = _ref => {
      let {
        successful
      } = _ref;
      const fileIDs = successful.map(file => file.id);
      this.deleteBlobs(fileIDs).then(() => {
        this.uppy.log(`[GoldenRetriever] Removed ${successful.length} files that finished uploading`);
      }).catch(err => {
        this.uppy.log(`[GoldenRetriever] Could not remove ${successful.length} files that finished uploading`, 'warning');
        this.uppy.log(err);
      });
      this.uppy.setState({
        recoveredState: null
      });
      _MetaDataStore_js__WEBPACK_IMPORTED_MODULE_4__["default"].cleanup(this.uppy.opts.id);
    };

    this.restoreBlobs = () => {
      if (this.uppy.getFiles().length > 0) {
        Promise.all([this.loadFileBlobsFromServiceWorker(), this.loadFileBlobsFromIndexedDB()]).then(resultingArrayOfObjects => {
          const blobs = { ...resultingArrayOfObjects[0],
            ...resultingArrayOfObjects[1]
          };
          this.onBlobsLoaded(blobs);
        });
      } else {
        this.uppy.log('[GoldenRetriever] No files need to be loaded, only restoring processing state...');
      }
    };

    this.type = 'debugger';
    this.id = this.opts.id || 'GoldenRetriever';
    this.title = 'Golden Retriever';
    const defaultOptions = {
      expires: 24 * 60 * 60 * 1000,
      // 24 hours
      serviceWorker: false
    };
    this.opts = { ...defaultOptions,
      ...opts
    };
    this.MetaDataStore = new _MetaDataStore_js__WEBPACK_IMPORTED_MODULE_4__["default"]({
      expires: this.opts.expires,
      storeName: uppy.getID()
    });
    this.ServiceWorkerStore = null;

    if (this.opts.serviceWorker) {
      this.ServiceWorkerStore = new _ServiceWorkerStore_js__WEBPACK_IMPORTED_MODULE_2__["default"]({
        storeName: uppy.getID()
      });
    }

    this.IndexedDBStore = new _IndexedDBStore_js__WEBPACK_IMPORTED_MODULE_3__["default"]({
      expires: this.opts.expires,
      ...(this.opts.indexedDB || {}),
      storeName: uppy.getID()
    });
    this.saveFilesStateToLocalStorage = lodash_throttle__WEBPACK_IMPORTED_MODULE_0__(this.saveFilesStateToLocalStorage.bind(this), 500, {
      leading: true,
      trailing: true
    });
    this.restoreState = this.restoreState.bind(this);
    this.loadFileBlobsFromServiceWorker = this.loadFileBlobsFromServiceWorker.bind(this);
    this.loadFileBlobsFromIndexedDB = this.loadFileBlobsFromIndexedDB.bind(this);
    this.onBlobsLoaded = this.onBlobsLoaded.bind(this);
  }

  restoreState() {
    const savedState = this.MetaDataStore.load();

    if (savedState) {
      this.uppy.log('[GoldenRetriever] Recovered some state from Local Storage');
      this.uppy.setState({
        currentUploads: savedState.currentUploads || {},
        files: savedState.files || {},
        recoveredState: savedState
      });
      this.savedPluginData = savedState.pluginData;
    }
  }
  /**
   * Get file objects that are currently waiting: they've been selected,
   * but aren't yet being uploaded.
   */


  getWaitingFiles() {
    const waitingFiles = {};
    this.uppy.getFiles().forEach(file => {
      if (!file.progress || !file.progress.uploadStarted) {
        waitingFiles[file.id] = file;
      }
    });
    return waitingFiles;
  }
  /**
   * Get file objects that are currently being uploaded. If a file has finished
   * uploading, but the other files in the same batch have not, the finished
   * file is also returned.
   */


  getUploadingFiles() {
    const uploadingFiles = {};
    const {
      currentUploads
    } = this.uppy.getState();

    if (currentUploads) {
      const uploadIDs = Object.keys(currentUploads);
      uploadIDs.forEach(uploadID => {
        const filesInUpload = currentUploads[uploadID].fileIDs;
        filesInUpload.forEach(fileID => {
          uploadingFiles[fileID] = this.uppy.getFile(fileID);
        });
      });
    }

    return uploadingFiles;
  }

  saveFilesStateToLocalStorage() {
    const filesToSave = { ...this.getWaitingFiles(),
      ...this.getUploadingFiles()
    }; // If all files have been removed by the user, clear recovery state

    if (Object.keys(filesToSave).length === 0) {
      if (this.uppy.getState().recoveredState !== null) {
        this.uppy.setState({
          recoveredState: null
        });
      }

      _MetaDataStore_js__WEBPACK_IMPORTED_MODULE_4__["default"].cleanup(this.uppy.opts.id);
      return;
    } // We dont’t need to store file.data on local files, because the actual blob will be restored later,
    // and we want to avoid having weird properties in the serialized object.
    // Also adding file.isRestored to all files, since they will be restored from local storage


    const filesToSaveWithoutData = {};
    Object.keys(filesToSave).forEach(file => {
      if (filesToSave[file].isRemote) {
        filesToSaveWithoutData[file] = { ...filesToSave[file],
          isRestored: true
        };
      } else {
        filesToSaveWithoutData[file] = { ...filesToSave[file],
          isRestored: true,
          data: null,
          preview: null
        };
      }
    });
    const pluginData = {}; // TODO Find a better way to do this?
    // Other plugins can attach a restore:get-data listener that receives this callback.
    // Plugins can then use this callback (sync) to provide data to be stored.

    this.uppy.emit('restore:get-data', data => {
      Object.assign(pluginData, data);
    });
    const {
      currentUploads
    } = this.uppy.getState();
    this.MetaDataStore.save({
      currentUploads,
      files: filesToSaveWithoutData,
      pluginData
    });
  }

  loadFileBlobsFromServiceWorker() {
    if (!this.ServiceWorkerStore) {
      return Promise.resolve({});
    }

    return this.ServiceWorkerStore.list().then(blobs => {
      const numberOfFilesRecovered = Object.keys(blobs).length;

      if (numberOfFilesRecovered > 0) {
        this.uppy.log(`[GoldenRetriever] Successfully recovered ${numberOfFilesRecovered} blobs from Service Worker!`);
        return blobs;
      }

      this.uppy.log('[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now...');
      return {};
    }).catch(err => {
      this.uppy.log('[GoldenRetriever] Failed to recover blobs from Service Worker', 'warning');
      this.uppy.log(err);
      return {};
    });
  }

  loadFileBlobsFromIndexedDB() {
    return this.IndexedDBStore.list().then(blobs => {
      const numberOfFilesRecovered = Object.keys(blobs).length;

      if (numberOfFilesRecovered > 0) {
        this.uppy.log(`[GoldenRetriever] Successfully recovered ${numberOfFilesRecovered} blobs from IndexedDB!`);
        return blobs;
      }

      this.uppy.log('[GoldenRetriever] No blobs found in IndexedDB');
      return {};
    }).catch(err => {
      this.uppy.log('[GoldenRetriever] Failed to recover blobs from IndexedDB', 'warning');
      this.uppy.log(err);
      return {};
    });
  }

  onBlobsLoaded(blobs) {
    const obsoleteBlobs = [];
    const updatedFiles = { ...this.uppy.getState().files
    }; // Loop through blobs that we can restore, add blobs to file objects

    Object.keys(blobs).forEach(fileID => {
      const originalFile = this.uppy.getFile(fileID);

      if (!originalFile) {
        obsoleteBlobs.push(fileID);
        return;
      }

      const cachedData = blobs[fileID];
      const updatedFileData = {
        data: cachedData,
        isRestored: true,
        isGhost: false
      };
      updatedFiles[fileID] = { ...originalFile,
        ...updatedFileData
      };
    }); // Loop through files that we can’t restore fully — we only have meta, not blobs,
    // set .isGhost on them, also set isRestored to all files

    Object.keys(updatedFiles).forEach(fileID => {
      if (updatedFiles[fileID].data === null) {
        updatedFiles[fileID] = { ...updatedFiles[fileID],
          isGhost: true
        };
      }
    });
    this.uppy.setState({
      files: updatedFiles
    });
    this.uppy.emit('restored', this.savedPluginData);

    if (obsoleteBlobs.length) {
      this.deleteBlobs(obsoleteBlobs).then(() => {
        this.uppy.log(`[GoldenRetriever] Cleaned up ${obsoleteBlobs.length} old files`);
      }).catch(err => {
        this.uppy.log(`[GoldenRetriever] Could not clean up ${obsoleteBlobs.length} old files`, 'warning');
        this.uppy.log(err);
      });
    }
  }

  deleteBlobs(fileIDs) {
    const promises = [];
    fileIDs.forEach(id => {
      if (this.ServiceWorkerStore) {
        promises.push(this.ServiceWorkerStore.delete(id));
      }

      if (this.IndexedDBStore) {
        promises.push(this.IndexedDBStore.delete(id));
      }
    });
    return Promise.all(promises);
  }

  install() {
    this.restoreState();
    this.restoreBlobs();
    this.uppy.on('file-added', this.addBlobToStores);
    this.uppy.on('file-editor:complete', this.replaceBlobInStores);
    this.uppy.on('file-removed', this.removeBlobFromStores); // TODO: the `state-update` is bad practise. It fires on any state change in Uppy
    // or any state change in any of the plugins. We should to able to only listen
    // for the state changes we need, somehow.

    this.uppy.on('state-update', this.saveFilesStateToLocalStorage);
    this.uppy.on('restore-confirmed', this.handleRestoreConfirmed);
    this.uppy.on('restore-canceled', this.abortRestore);
    this.uppy.on('complete', this.handleComplete);
  }

  uninstall() {
    this.uppy.off('file-added', this.addBlobToStores);
    this.uppy.off('file-editor:complete', this.replaceBlobInStores);
    this.uppy.off('file-removed', this.removeBlobFromStores);
    this.uppy.off('state-update', this.saveFilesStateToLocalStorage);
    this.uppy.off('restore-confirmed', this.handleRestoreConfirmed);
    this.uppy.off('restore-canceled', this.abortRestore);
    this.uppy.off('complete', this.handleComplete);
  }

}
GoldenRetriever.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/google-drive/lib/DriveProviderViews.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@uppy/google-drive/lib/DriveProviderViews.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DriveProviderViews)
/* harmony export */ });
/* harmony import */ var _uppy_provider_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/provider-views */ "./node_modules/@uppy/provider-views/lib/index.js");

class DriveProviderViews extends _uppy_provider_views__WEBPACK_IMPORTED_MODULE_0__.ProviderViews {
  toggleCheckbox(e, file) {
    e.stopPropagation();
    e.preventDefault(); // Shared Drives aren't selectable; for all else, defer to the base ProviderView.

    if (!file.custom.isSharedDrive) {
      super.toggleCheckbox(e, file);
    }
  }

}

/***/ }),

/***/ "./node_modules/@uppy/google-drive/lib/GoogleDrive.js":
/*!************************************************************!*\
  !*** ./node_modules/@uppy/google-drive/lib/GoogleDrive.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ GoogleDrive)
/* harmony export */ });
/* harmony import */ var _uppy_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/core */ "./node_modules/@uppy/core/lib/index.js");
/* harmony import */ var _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/companion-client */ "./node_modules/@uppy/companion-client/lib/index.js");
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _DriveProviderViews_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DriveProviderViews.js */ "./node_modules/@uppy/google-drive/lib/DriveProviderViews.js");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@uppy/google-drive/lib/locale.js");



const packageJson = {
  "version": "3.1.0"
};


class GoogleDrive extends _uppy_core__WEBPACK_IMPORTED_MODULE_0__.UIPlugin {
  constructor(uppy, opts) {
    super(uppy, opts);
    this.id = this.opts.id || 'GoogleDrive';
    this.title = this.opts.title || 'Google Drive';
    _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__.Provider.initPlugin(this, opts);
    this.title = this.opts.title || 'Google Drive';

    this.icon = () => (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("svg", {
      "aria-hidden": "true",
      focusable: "false",
      width: "32",
      height: "32",
      viewBox: "0 0 32 32"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("g", {
      fillRule: "nonzero",
      fill: "none"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("path", {
      d: "M6.663 22.284l.97 1.62c.202.34.492.609.832.804l3.465-5.798H5c0 .378.1.755.302 1.096l1.361 2.278z",
      fill: "#0066DA"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("path", {
      d: "M16 12.09l-3.465-5.798c-.34.195-.63.463-.832.804l-6.4 10.718A2.15 2.15 0 005 18.91h6.93L16 12.09z",
      fill: "#00AC47"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("path", {
      d: "M23.535 24.708c.34-.195.63-.463.832-.804l.403-.67 1.928-3.228c.201-.34.302-.718.302-1.096h-6.93l1.474 2.802 1.991 2.996z",
      fill: "#EA4335"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("path", {
      d: "M16 12.09l3.465-5.798A2.274 2.274 0 0018.331 6h-4.662c-.403 0-.794.11-1.134.292L16 12.09z",
      fill: "#00832D"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("path", {
      d: "M20.07 18.91h-8.14l-3.465 5.798c.34.195.73.292 1.134.292h12.802c.403 0 .794-.11 1.134-.292L20.07 18.91z",
      fill: "#2684FC"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)("path", {
      d: "M23.497 12.455l-3.2-5.359a2.252 2.252 0 00-.832-.804L16 12.09l4.07 6.82h6.917c0-.377-.1-.755-.302-1.096l-3.188-5.359z",
      fill: "#FFBA00"
    })));

    this.provider = new _uppy_companion_client__WEBPACK_IMPORTED_MODULE_1__.Provider(uppy, {
      companionUrl: this.opts.companionUrl,
      companionHeaders: this.opts.companionHeaders,
      companionKeysParams: this.opts.companionKeysParams,
      companionCookiesRule: this.opts.companionCookiesRule,
      provider: 'drive',
      pluginId: this.id
    });
    this.defaultLocale = _locale_js__WEBPACK_IMPORTED_MODULE_4__["default"];
    this.i18nInit();
    this.title = this.i18n('pluginNameGoogleDrive');
    this.onFirstRender = this.onFirstRender.bind(this);
    this.render = this.render.bind(this);
  }

  install() {
    this.view = new _DriveProviderViews_js__WEBPACK_IMPORTED_MODULE_3__["default"](this, {
      provider: this.provider
    });
    const {
      target
    } = this.opts;

    if (target) {
      this.mount(target, this);
    }
  }

  uninstall() {
    this.view.tearDown();
    this.unmount();
  }

  onFirstRender() {
    return Promise.all([this.provider.fetchPreAuthToken(), this.view.getFolder('root', '/')]);
  }

  render(state) {
    return this.view.render(state);
  }

}
GoogleDrive.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/google-drive/lib/index.js":
/*!******************************************************!*\
  !*** ./node_modules/@uppy/google-drive/lib/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _GoogleDrive_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _GoogleDrive_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GoogleDrive.js */ "./node_modules/@uppy/google-drive/lib/GoogleDrive.js");


/***/ }),

/***/ "./node_modules/@uppy/google-drive/lib/locale.js":
/*!*******************************************************!*\
  !*** ./node_modules/@uppy/google-drive/lib/locale.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  strings: {
    pluginNameGoogleDrive: 'Google Drive'
  }
});

/***/ }),

/***/ "./node_modules/@uppy/image-editor/lib/Editor.js":
/*!*******************************************************!*\
  !*** ./node_modules/@uppy/image-editor/lib/Editor.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Editor)
/* harmony export */ });
/* harmony import */ var cropperjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cropperjs */ "./node_modules/cropperjs/dist/cropper.js");
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");


class Editor extends preact__WEBPACK_IMPORTED_MODULE_1__.Component {
  constructor(props) {
    super(props);

    this.granularRotateOnChange = ev => {
      const {
        rotationAngle,
        rotationDelta
      } = this.state;
      const pendingRotationDelta = Number(ev.target.value) - rotationDelta;
      cancelAnimationFrame(this.granularRotateOnInputNextFrame);

      if (pendingRotationDelta !== 0) {
        const pendingRotationAngle = rotationAngle + pendingRotationDelta;
        this.granularRotateOnInputNextFrame = requestAnimationFrame(() => {
          this.cropper.rotateTo(pendingRotationAngle);
        });
      }
    };

    this.state = {
      rotationAngle: 0,
      rotationDelta: 0
    };
  }

  componentDidMount() {
    const {
      opts,
      storeCropperInstance
    } = this.props;
    this.cropper = new cropperjs__WEBPACK_IMPORTED_MODULE_0__(this.imgElement, opts.cropperOptions);
    storeCropperInstance(this.cropper);

    if (opts.actions.granularRotate) {
      this.imgElement.addEventListener('crop', ev => {
        const rotationAngle = ev.detail.rotate;
        this.setState({
          rotationAngle,
          // 405 == 360 + 45
          rotationDelta: (rotationAngle + 405) % 90 - 45
        });
      });
    }
  }

  componentWillUnmount() {
    this.cropper.destroy();
  }

  renderGranularRotate() {
    const {
      i18n
    } = this.props;
    const {
      rotationDelta,
      rotationAngle
    } = this.state;
    return (// eslint-disable-next-line jsx-a11y/label-has-associated-control
      (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("label", {
        "data-microtip-position": "top",
        role: "tooltip",
        "aria-label": `${rotationAngle}º`,
        className: "uppy-ImageCropper-rangeWrapper uppy-u-reset"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("input", {
        className: "uppy-ImageCropper-range uppy-u-reset",
        type: "range",
        onInput: this.granularRotateOnChange,
        onChange: this.granularRotateOnChange,
        value: rotationDelta,
        min: "-45",
        max: "44",
        "aria-label": i18n('rotate')
      }))
    );
  }

  renderRevert() {
    const {
      i18n
    } = this.props;
    return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      type: "button",
      className: "uppy-u-reset uppy-c-btn",
      "aria-label": i18n('revert'),
      "data-microtip-position": "top",
      onClick: () => {
        this.cropper.reset();
        this.cropper.setAspectRatio(0);
      }
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("svg", {
      "aria-hidden": "true",
      className: "uppy-c-icon",
      width: "24",
      height: "24",
      viewBox: "0 0 24 24"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M0 0h24v24H0z",
      fill: "none"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"
    })));
  }

  renderRotate() {
    const {
      i18n
    } = this.props;
    return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      type: "button",
      className: "uppy-u-reset uppy-c-btn",
      onClick: () => this.cropper.rotate(-90),
      "aria-label": i18n('rotate'),
      "data-microtip-position": "top"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("svg", {
      "aria-hidden": "true",
      className: "uppy-c-icon",
      width: "24",
      height: "24",
      viewBox: "0 0 24 24"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M0 0h24v24H0V0zm0 0h24v24H0V0z",
      fill: "none"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"
    })));
  }

  renderFlip() {
    const {
      i18n
    } = this.props;
    return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      type: "button",
      className: "uppy-u-reset uppy-c-btn",
      "aria-label": i18n('flipHorizontal'),
      "data-microtip-position": "top",
      onClick: () => this.cropper.scaleX(-this.cropper.getData().scaleX || -1)
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("svg", {
      "aria-hidden": "true",
      className: "uppy-c-icon",
      width: "24",
      height: "24",
      viewBox: "0 0 24 24"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M0 0h24v24H0z",
      fill: "none"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"
    })));
  }

  renderZoomIn() {
    const {
      i18n
    } = this.props;
    return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      type: "button",
      className: "uppy-u-reset uppy-c-btn",
      "aria-label": i18n('zoomIn'),
      "data-microtip-position": "top",
      onClick: () => this.cropper.zoom(0.1)
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("svg", {
      "aria-hidden": "true",
      className: "uppy-c-icon",
      height: "24",
      viewBox: "0 0 24 24",
      width: "24"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M0 0h24v24H0V0z",
      fill: "none"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"
    })));
  }

  renderZoomOut() {
    const {
      i18n
    } = this.props;
    return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      type: "button",
      className: "uppy-u-reset uppy-c-btn",
      "aria-label": i18n('zoomOut'),
      "data-microtip-position": "top",
      onClick: () => this.cropper.zoom(-0.1)
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("svg", {
      "aria-hidden": "true",
      className: "uppy-c-icon",
      width: "24",
      height: "24",
      viewBox: "0 0 24 24"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M0 0h24v24H0V0z",
      fill: "none"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"
    })));
  }

  renderCropSquare() {
    const {
      i18n
    } = this.props;
    return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      type: "button",
      className: "uppy-u-reset uppy-c-btn",
      "aria-label": i18n('aspectRatioSquare'),
      "data-microtip-position": "top",
      onClick: () => this.cropper.setAspectRatio(1)
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("svg", {
      "aria-hidden": "true",
      className: "uppy-c-icon",
      width: "24",
      height: "24",
      viewBox: "0 0 24 24"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M0 0h24v24H0z",
      fill: "none"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"
    })));
  }

  renderCropWidescreen() {
    const {
      i18n
    } = this.props;
    return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      type: "button",
      className: "uppy-u-reset uppy-c-btn",
      "aria-label": i18n('aspectRatioLandscape'),
      "data-microtip-position": "top",
      onClick: () => this.cropper.setAspectRatio(16 / 9)
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("svg", {
      "aria-hidden": "true",
      className: "uppy-c-icon",
      width: "24",
      height: "24",
      viewBox: "0 0 24 24"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      fill: "none",
      d: "M0 0h24v24H0z"
    })));
  }

  renderCropWidescreenVertical() {
    const {
      i18n
    } = this.props;
    return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      type: "button",
      className: "uppy-u-reset uppy-c-btn",
      "aria-label": i18n('aspectRatioPortrait'),
      "data-microtip-position": "top",
      onClick: () => this.cropper.setAspectRatio(9 / 16)
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("svg", {
      "aria-hidden": "true",
      className: "uppy-c-icon",
      width: "24",
      height: "24",
      viewBox: "0 0 24 24"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
      d: "M0 0h24v24H0z",
      fill: "none"
    })));
  }

  render() {
    const {
      currentImage,
      opts
    } = this.props;
    const {
      actions
    } = opts;
    const imageURL = URL.createObjectURL(currentImage.data);
    return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      className: "uppy-ImageCropper"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      className: "uppy-ImageCropper-container"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("img", {
      className: "uppy-ImageCropper-image",
      alt: currentImage.name,
      src: imageURL,
      ref: ref => {
        this.imgElement = ref;
      }
    })), (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      className: "uppy-ImageCropper-controls"
    }, actions.revert && this.renderRevert(), actions.rotate && this.renderRotate(), actions.granularRotate && this.renderGranularRotate(), actions.flip && this.renderFlip(), actions.zoomIn && this.renderZoomIn(), actions.zoomOut && this.renderZoomOut(), actions.cropSquare && this.renderCropSquare(), actions.cropWidescreen && this.renderCropWidescreen(), actions.cropWidescreenVertical && this.renderCropWidescreenVertical()));
  }

}

/***/ }),

/***/ "./node_modules/@uppy/image-editor/lib/ImageEditor.js":
/*!************************************************************!*\
  !*** ./node_modules/@uppy/image-editor/lib/ImageEditor.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ImageEditor)
/* harmony export */ });
/* harmony import */ var _uppy_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/core */ "./node_modules/@uppy/core/lib/index.js");
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _Editor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Editor.js */ "./node_modules/@uppy/image-editor/lib/Editor.js");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@uppy/image-editor/lib/locale.js");



const packageJson = {
  "version": "2.1.1"
};

class ImageEditor extends _uppy_core__WEBPACK_IMPORTED_MODULE_0__.UIPlugin {
  constructor(uppy, opts) {
    super(uppy, opts);

    this.save = () => {
      const saveBlobCallback = blob => {
        const {
          currentImage
        } = this.getPluginState();
        this.uppy.setFileState(currentImage.id, {
          data: blob,
          size: blob.size,
          preview: null
        });
        const updatedFile = this.uppy.getFile(currentImage.id);
        this.uppy.emit('thumbnail:request', updatedFile);
        this.setPluginState({
          currentImage: updatedFile
        });
        this.uppy.emit('file-editor:complete', updatedFile);
      };

      const {
        currentImage
      } = this.getPluginState();
      this.cropper.getCroppedCanvas(this.opts.cropperOptions.croppedCanvasOptions).toBlob(saveBlobCallback, currentImage.type, this.opts.quality);
    };

    this.storeCropperInstance = cropper => {
      this.cropper = cropper;
    };

    this.selectFile = file => {
      this.uppy.emit('file-editor:start', file);
      this.setPluginState({
        currentImage: file
      });
    };

    this.id = this.opts.id || 'ImageEditor';
    this.title = 'Image Editor';
    this.type = 'editor';
    this.defaultLocale = _locale_js__WEBPACK_IMPORTED_MODULE_3__["default"];
    const defaultCropperOptions = {
      viewMode: 1,
      background: false,
      autoCropArea: 1,
      responsive: true,
      croppedCanvasOptions: {}
    };
    const defaultActions = {
      revert: true,
      rotate: true,
      granularRotate: true,
      flip: true,
      zoomIn: true,
      zoomOut: true,
      cropSquare: true,
      cropWidescreen: true,
      cropWidescreenVertical: true
    };
    const defaultOptions = {
      quality: 0.8
    };
    this.opts = { ...defaultOptions,
      ...opts,
      actions: { ...defaultActions,
        ...opts.actions
      },
      cropperOptions: { ...defaultCropperOptions,
        ...opts.cropperOptions
      }
    };
    this.i18nInit();
  } // eslint-disable-next-line class-methods-use-this


  canEditFile(file) {
    if (!file.type || file.isRemote) {
      return false;
    }

    const fileTypeSpecific = file.type.split('/')[1];

    if (/^(jpe?g|gif|png|bmp|webp)$/.test(fileTypeSpecific)) {
      return true;
    }

    return false;
  }

  install() {
    this.setPluginState({
      currentImage: null
    });
    const {
      target
    } = this.opts;

    if (target) {
      this.mount(target, this);
    }
  }

  uninstall() {
    const {
      currentImage
    } = this.getPluginState();

    if (currentImage) {
      const file = this.uppy.getFile(currentImage.id);
      this.uppy.emit('file-editor:cancel', file);
    }

    this.unmount();
  }

  render() {
    const {
      currentImage
    } = this.getPluginState();

    if (currentImage === null || currentImage.isRemote) {
      return null;
    }

    return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_Editor_js__WEBPACK_IMPORTED_MODULE_2__["default"], {
      currentImage: currentImage,
      storeCropperInstance: this.storeCropperInstance,
      save: this.save,
      opts: this.opts,
      i18n: this.i18n
    });
  }

}
ImageEditor.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/image-editor/lib/index.js":
/*!******************************************************!*\
  !*** ./node_modules/@uppy/image-editor/lib/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _ImageEditor_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _ImageEditor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ImageEditor.js */ "./node_modules/@uppy/image-editor/lib/ImageEditor.js");


/***/ }),

/***/ "./node_modules/@uppy/image-editor/lib/locale.js":
/*!*******************************************************!*\
  !*** ./node_modules/@uppy/image-editor/lib/locale.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  strings: {
    revert: 'Revert',
    rotate: 'Rotate',
    zoomIn: 'Zoom in',
    zoomOut: 'Zoom out',
    flipHorizontal: 'Flip horizontal',
    aspectRatioSquare: 'Crop square',
    aspectRatioLandscape: 'Crop landscape (16:9)',
    aspectRatioPortrait: 'Crop portrait (9:16)'
  }
});

/***/ }),

/***/ "./node_modules/@uppy/informer/lib/FadeIn.js":
/*!***************************************************!*\
  !*** ./node_modules/@uppy/informer/lib/FadeIn.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FadeIn)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");

const TRANSITION_MS = 300;
class FadeIn extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {
  constructor() {
    super(...arguments);
    this.ref = (0,preact__WEBPACK_IMPORTED_MODULE_0__.createRef)();
  }

  componentWillEnter(callback) {
    this.ref.current.style.opacity = '1';
    this.ref.current.style.transform = 'none';
    setTimeout(callback, TRANSITION_MS);
  }

  componentWillLeave(callback) {
    this.ref.current.style.opacity = '0';
    this.ref.current.style.transform = 'translateY(350%)';
    setTimeout(callback, TRANSITION_MS);
  }

  render() {
    const {
      children
    } = this.props;
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Informer-animated",
      ref: this.ref
    }, children);
  }

}

/***/ }),

/***/ "./node_modules/@uppy/informer/lib/Informer.js":
/*!*****************************************************!*\
  !*** ./node_modules/@uppy/informer/lib/Informer.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Informer)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _uppy_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/core */ "./node_modules/@uppy/core/lib/index.js");
/* harmony import */ var _FadeIn_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FadeIn.js */ "./node_modules/@uppy/informer/lib/FadeIn.js");
/* harmony import */ var _TransitionGroup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TransitionGroup.js */ "./node_modules/@uppy/informer/lib/TransitionGroup.js");
/* eslint-disable jsx-a11y/no-noninteractive-element-interactions  */

/* eslint-disable jsx-a11y/click-events-have-key-events */




const packageJson = {
  "version": "3.0.1"
};
/**
 * Informer
 * Shows rad message bubbles
 * used like this: `uppy.info('hello world', 'info', 5000)`
 * or for errors: `uppy.info('Error uploading img.jpg', 'error', 5000)`
 *
 */

class Informer extends _uppy_core__WEBPACK_IMPORTED_MODULE_1__.UIPlugin {
  constructor(uppy, opts) {
    super(uppy, opts);

    this.render = state => {
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy uppy-Informer"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_TransitionGroup_js__WEBPACK_IMPORTED_MODULE_3__["default"], null, state.info.map(info => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_FadeIn_js__WEBPACK_IMPORTED_MODULE_2__["default"], {
        key: info.message
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("p", {
        role: "alert"
      }, info.message, ' ', info.details && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
        "aria-label": info.details,
        "data-microtip-position": "top-left",
        "data-microtip-size": "medium",
        role: "tooltip" // eslint-disable-next-line no-alert
        ,
        onClick: () => alert(`${info.message} \n\n ${info.details}`)
      }, "?"))))));
    };

    this.type = 'progressindicator';
    this.id = this.opts.id || 'Informer';
    this.title = 'Informer'; // set default options

    const defaultOptions = {}; // merge default options with the ones set by user

    this.opts = { ...defaultOptions,
      ...opts
    };
  }

  install() {
    const {
      target
    } = this.opts;

    if (target) {
      this.mount(target, this);
    }
  }

}
Informer.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/informer/lib/TransitionGroup.js":
/*!************************************************************!*\
  !*** ./node_modules/@uppy/informer/lib/TransitionGroup.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* eslint-disable */

/**
 * @source https://github.com/developit/preact-transition-group
 */


function assign(obj, props) {
  return Object.assign(obj, props);
}

function getKey(vnode, fallback) {
  var _vnode$key;

  return (_vnode$key = vnode == null ? void 0 : vnode.key) != null ? _vnode$key : fallback;
}

function linkRef(component, name) {
  const cache = component._ptgLinkedRefs || (component._ptgLinkedRefs = {});
  return cache[name] || (cache[name] = c => {
    component.refs[name] = c;
  });
}

function getChildMapping(children) {
  const out = {};

  for (let i = 0; i < children.length; i++) {
    if (children[i] != null) {
      const key = getKey(children[i], i.toString(36));
      out[key] = children[i];
    }
  }

  return out;
}

function mergeChildMappings(prev, next) {
  prev = prev || {};
  next = next || {};

  const getValueForKey = key => next.hasOwnProperty(key) ? next[key] : prev[key]; // For each key of `next`, the list of keys to insert before that key in
  // the combined list


  const nextKeysPending = {};
  let pendingKeys = [];

  for (const prevKey in prev) {
    if (next.hasOwnProperty(prevKey)) {
      if (pendingKeys.length) {
        nextKeysPending[prevKey] = pendingKeys;
        pendingKeys = [];
      }
    } else {
      pendingKeys.push(prevKey);
    }
  }

  const childMapping = {};

  for (const nextKey in next) {
    if (nextKeysPending.hasOwnProperty(nextKey)) {
      for (let i = 0; i < nextKeysPending[nextKey].length; i++) {
        const pendingNextKey = nextKeysPending[nextKey][i];
        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);
      }
    }

    childMapping[nextKey] = getValueForKey(nextKey);
  } // Finally, add the keys which didn't appear before any key in `next`


  for (let i = 0; i < pendingKeys.length; i++) {
    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);
  }

  return childMapping;
}

const identity = i => i;

class TransitionGroup extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {
  constructor(props, context) {
    super(props, context);
    this.refs = {};
    this.state = {
      children: getChildMapping((0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)((0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)(this.props.children)) || [])
    };
    this.performAppear = this.performAppear.bind(this);
    this.performEnter = this.performEnter.bind(this);
    this.performLeave = this.performLeave.bind(this);
  }

  componentWillMount() {
    this.currentlyTransitioningKeys = {};
    this.keysToAbortLeave = [];
    this.keysToEnter = [];
    this.keysToLeave = [];
  }

  componentDidMount() {
    const initialChildMapping = this.state.children;

    for (const key in initialChildMapping) {
      if (initialChildMapping[key]) {
        // this.performAppear(getKey(initialChildMapping[key], key));
        this.performAppear(key);
      }
    }
  }

  componentWillReceiveProps(nextProps) {
    const nextChildMapping = getChildMapping((0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)(nextProps.children) || []);
    const prevChildMapping = this.state.children;
    this.setState(prevState => ({
      children: mergeChildMappings(prevState.children, nextChildMapping)
    }));
    let key;

    for (key in nextChildMapping) {
      if (nextChildMapping.hasOwnProperty(key)) {
        const hasPrev = prevChildMapping && prevChildMapping.hasOwnProperty(key); // We should re-enter the component and abort its leave function

        if (nextChildMapping[key] && hasPrev && this.currentlyTransitioningKeys[key]) {
          this.keysToEnter.push(key);
          this.keysToAbortLeave.push(key);
        } else if (nextChildMapping[key] && !hasPrev && !this.currentlyTransitioningKeys[key]) {
          this.keysToEnter.push(key);
        }
      }
    }

    for (key in prevChildMapping) {
      if (prevChildMapping.hasOwnProperty(key)) {
        const hasNext = nextChildMapping && nextChildMapping.hasOwnProperty(key);

        if (prevChildMapping[key] && !hasNext && !this.currentlyTransitioningKeys[key]) {
          this.keysToLeave.push(key);
        }
      }
    }
  }

  componentDidUpdate() {
    const {
      keysToEnter
    } = this;
    this.keysToEnter = [];
    keysToEnter.forEach(this.performEnter);
    const {
      keysToLeave
    } = this;
    this.keysToLeave = [];
    keysToLeave.forEach(this.performLeave);
  }

  _finishAbort(key) {
    const idx = this.keysToAbortLeave.indexOf(key);

    if (idx !== -1) {
      this.keysToAbortLeave.splice(idx, 1);
    }
  }

  performAppear(key) {
    this.currentlyTransitioningKeys[key] = true;
    const component = this.refs[key];

    if (component.componentWillAppear) {
      component.componentWillAppear(this._handleDoneAppearing.bind(this, key));
    } else {
      this._handleDoneAppearing(key);
    }
  }

  _handleDoneAppearing(key) {
    const component = this.refs[key];

    if (component.componentDidAppear) {
      component.componentDidAppear();
    }

    delete this.currentlyTransitioningKeys[key];

    this._finishAbort(key);

    const currentChildMapping = getChildMapping((0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)(this.props.children) || []);

    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {
      // This was removed before it had fully appeared. Remove it.
      this.performLeave(key);
    }
  }

  performEnter(key) {
    this.currentlyTransitioningKeys[key] = true;
    const component = this.refs[key];

    if (component.componentWillEnter) {
      component.componentWillEnter(this._handleDoneEntering.bind(this, key));
    } else {
      this._handleDoneEntering(key);
    }
  }

  _handleDoneEntering(key) {
    const component = this.refs[key];

    if (component.componentDidEnter) {
      component.componentDidEnter();
    }

    delete this.currentlyTransitioningKeys[key];

    this._finishAbort(key);

    const currentChildMapping = getChildMapping((0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)(this.props.children) || []);

    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {
      // This was removed before it had fully entered. Remove it.
      this.performLeave(key);
    }
  }

  performLeave(key) {
    // If we should immediately abort this leave function,
    // don't run the leave transition at all.
    const idx = this.keysToAbortLeave.indexOf(key);

    if (idx !== -1) {
      return;
    }

    this.currentlyTransitioningKeys[key] = true;
    const component = this.refs[key];

    if (component.componentWillLeave) {
      component.componentWillLeave(this._handleDoneLeaving.bind(this, key));
    } else {
      // Note that this is somewhat dangerous b/c it calls setState()
      // again, effectively mutating the component before all the work
      // is done.
      this._handleDoneLeaving(key);
    }
  }

  _handleDoneLeaving(key) {
    // If we should immediately abort the leave,
    // then skip this altogether
    const idx = this.keysToAbortLeave.indexOf(key);

    if (idx !== -1) {
      return;
    }

    const component = this.refs[key];

    if (component.componentDidLeave) {
      component.componentDidLeave();
    }

    delete this.currentlyTransitioningKeys[key];
    const currentChildMapping = getChildMapping((0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)(this.props.children) || []);

    if (currentChildMapping && currentChildMapping.hasOwnProperty(key)) {
      // This entered again before it fully left. Add it again.
      this.performEnter(key);
    } else {
      const children = assign({}, this.state.children);
      delete children[key];
      this.setState({
        children
      });
    }
  }

  render(_ref, _ref2) {
    let {
      childFactory,
      transitionLeave,
      transitionName,
      transitionAppear,
      transitionEnter,
      transitionLeaveTimeout,
      transitionEnterTimeout,
      transitionAppearTimeout,
      component,
      ...props
    } = _ref;
    let {
      children
    } = _ref2;
    // TODO: we could get rid of the need for the wrapper node
    // by cloning a single child
    const childrenToRender = Object.entries(children).map(_ref3 => {
      let [key, child] = _ref3;
      if (!child) return undefined;
      const ref = linkRef(this, key);
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(childFactory(child), {
        ref,
        key
      });
    }).filter(Boolean);
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(component, props, childrenToRender);
  }

}

TransitionGroup.defaultProps = {
  component: 'span',
  childFactory: identity
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TransitionGroup);

/***/ }),

/***/ "./node_modules/@uppy/informer/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@uppy/informer/lib/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _Informer_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _Informer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Informer.js */ "./node_modules/@uppy/informer/lib/Informer.js");


/***/ }),

/***/ "./node_modules/@uppy/instagram/lib/Instagram.js":
/*!*******************************************************!*\
  !*** ./node_modules/@uppy/instagram/lib/Instagram.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Instagram)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _uppy_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/core */ "./node_modules/@uppy/core/lib/index.js");
/* harmony import */ var _uppy_companion_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/companion-client */ "./node_modules/@uppy/companion-client/lib/index.js");
/* harmony import */ var _uppy_provider_views__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uppy/provider-views */ "./node_modules/@uppy/provider-views/lib/index.js");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@uppy/instagram/lib/locale.js");




const packageJson = {
  "version": "3.1.0"
};

class Instagram extends _uppy_core__WEBPACK_IMPORTED_MODULE_1__.UIPlugin {
  constructor(uppy, opts) {
    super(uppy, opts);
    this.id = this.opts.id || 'Instagram';
    _uppy_companion_client__WEBPACK_IMPORTED_MODULE_2__.Provider.initPlugin(this, opts);

    this.icon = () => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
      "aria-hidden": "true",
      focusable: "false",
      width: "32",
      height: "32",
      viewBox: "0 0 32 32"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("defs", null, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
      d: "M16.825 5l.483-.001.799.002c1.168.005 1.598.021 2.407.057 1.17.05 1.97.235 2.67.506.725.28 1.34.655 1.951 1.265.613.61.99 1.223 1.273 1.946.273.7.46 1.498.516 2.67l.025.552.008.205c.029.748.037 1.51.042 3.777l.001.846v.703l-.001.398a50.82 50.82 0 01-.058 2.588c-.05 1.17-.235 1.97-.506 2.67a5.394 5.394 0 01-1.265 1.951c-.61.613-1.222.99-1.946 1.273-.699.273-1.498.46-2.668.516-.243.012-.451.022-.656.03l-.204.007c-.719.026-1.512.034-3.676.038l-.847.001h-1.1a50.279 50.279 0 01-2.587-.059c-1.171-.05-1.971-.235-2.671-.506a5.394 5.394 0 01-1.951-1.265 5.385 5.385 0 01-1.272-1.946c-.274-.699-.46-1.498-.517-2.668a88.15 88.15 0 01-.03-.656l-.007-.205c-.026-.718-.034-1.512-.038-3.674v-2.129c.006-1.168.022-1.597.058-2.406.051-1.171.235-1.971.506-2.672a5.39 5.39 0 011.265-1.95 5.381 5.381 0 011.946-1.272c.699-.274 1.498-.462 2.669-.517l.656-.03.204-.007c.718-.026 1.511-.034 3.674-.038zm.678 1.981h-1.226l-.295.001c-2.307.005-3.016.013-3.777.043l-.21.009-.457.02c-1.072.052-1.654.232-2.042.383-.513.2-.879.44-1.263.825a3.413 3.413 0 00-.82 1.267c-.15.388-.33.97-.375 2.043a48.89 48.89 0 00-.056 2.482v.398 1.565c.006 2.937.018 3.285.073 4.444.05 1.073.231 1.654.382 2.043.2.512.44.878.825 1.263.386.383.753.621 1.267.82.388.15.97.328 2.043.374.207.01.388.017.563.024l.208.007a63.28 63.28 0 002.109.026h1.564c2.938-.006 3.286-.019 4.446-.073 1.071-.051 1.654-.232 2.04-.383.514-.2.88-.44 1.264-.825.384-.386.622-.753.82-1.266.15-.389.328-.971.375-2.044.039-.88.054-1.292.057-2.723v-1.15-.572c-.006-2.936-.019-3.284-.074-4.445-.05-1.071-.23-1.654-.382-2.04-.2-.515-.44-.88-.825-1.264a3.405 3.405 0 00-1.267-.82c-.388-.15-.97-.328-2.042-.375a48.987 48.987 0 00-2.535-.056zm-1.515 3.37a5.65 5.65 0 11.021 11.299 5.65 5.65 0 01-.02-11.3zm.004 1.982a3.667 3.667 0 10.015 7.334 3.667 3.667 0 00-.015-7.334zm5.865-3.536a1.32 1.32 0 11.005 2.64 1.32 1.32 0 01-.005-2.64z",
      id: "a"
    })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
      fill: "none",
      "fill-rule": "evenodd"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("mask", {
      id: "b",
      fill: "#fff"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("use", {
      xlinkHref: "#a"
    })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("image", {
      mask: "url(#b)",
      x: "4",
      y: "4",
      width: "24",
      height: "24",
      xlinkHref: "data:image/png;base64,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"
    })));

    this.defaultLocale = _locale_js__WEBPACK_IMPORTED_MODULE_4__["default"];
    this.i18nInit();
    this.title = this.i18n('pluginNameInstagram');
    this.provider = new _uppy_companion_client__WEBPACK_IMPORTED_MODULE_2__.Provider(uppy, {
      companionUrl: this.opts.companionUrl,
      companionHeaders: this.opts.companionHeaders,
      companionKeysParams: this.opts.companionKeysParams,
      companionCookiesRule: this.opts.companionCookiesRule,
      provider: 'instagram',
      pluginId: this.id
    });
    this.onFirstRender = this.onFirstRender.bind(this);
    this.render = this.render.bind(this);
  }

  install() {
    this.view = new _uppy_provider_views__WEBPACK_IMPORTED_MODULE_3__.ProviderViews(this, {
      provider: this.provider,
      viewType: 'grid',
      showTitles: false,
      showFilter: false,
      showBreadcrumbs: false
    });
    const {
      target
    } = this.opts;

    if (target) {
      this.mount(target, this);
    }
  }

  uninstall() {
    this.view.tearDown();
    this.unmount();
  }

  onFirstRender() {
    return Promise.all([this.provider.fetchPreAuthToken(), this.view.getFolder('recent')]);
  }

  render(state) {
    return this.view.render(state);
  }

}
Instagram.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/instagram/lib/index.js":
/*!***************************************************!*\
  !*** ./node_modules/@uppy/instagram/lib/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _Instagram_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _Instagram_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Instagram.js */ "./node_modules/@uppy/instagram/lib/Instagram.js");


/***/ }),

/***/ "./node_modules/@uppy/instagram/lib/locale.js":
/*!****************************************************!*\
  !*** ./node_modules/@uppy/instagram/lib/locale.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  strings: {
    pluginNameInstagram: 'Instagram'
  }
});

/***/ }),

/***/ "./node_modules/@uppy/locales/lib/es_ES.js":
/*!*************************************************!*\
  !*** ./node_modules/@uppy/locales/lib/es_ES.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const es_ES = {
  pluralize(n) {
    if (n === 1) {
      return 0;
    }

    return 1;
  }

};
es_ES.strings = {
  addMoreFiles: 'Agregar más archivos',
  addingMoreFiles: 'Agregando más archivos',
  allowAccessDescription: 'Para tomar fotos o grabar video con tu cámara, por favor permite a este sitio el acceso a la cámara.',
  allowAccessTitle: 'Por favor permite el acceso a tu cámara',
  authenticateWith: 'Conectar a %{pluginName}',
  authenticateWithTitle: 'Por favor autentícate con %{pluginName} para seleccionar archivos',
  back: 'Atrás',
  addMore: 'Agregar más',
  browse: 'navegar',
  browseFiles: 'navegar',
  cancel: 'Cancelar',
  cancelUpload: 'Cancelar subida',
  chooseFiles: 'Seleccionar archivos',
  closeModal: 'Cerrar ventana flotante',
  companionError: 'Conexión con Companion falló',
  complete: 'Completado',
  connectedToInternet: 'Conectado a Internet',
  copyLink: 'Copiar enlace',
  copyLinkToClipboardFallback: 'Copia la siguiente URL',
  copyLinkToClipboardSuccess: 'Enlace copiado al portapapeles',
  creatingAssembly: 'Preparando subida...',
  creatingAssemblyFailed: 'Transloadit: No se pudo crear un Assembly',
  dashboardTitle: 'Cargador de archivos',
  dashboardWindowTitle: 'Ventana para cargar archivos (Presiona escape para cerrar)',
  dataUploadedOfTotal: '%{complete} de %{total}',
  done: 'Hecho',
  dropHereOr: 'Soltar archivos aquí o %{browse}',
  dropHint: 'Suelta tus archivos aquí',
  dropPasteBoth: 'Soltar archivos aquí, pegar o %{browse}',
  dropPasteFiles: 'Soltar archivos aquí, pegar o %{browse}',
  dropPasteFolders: 'Soltar archivos aquí, pegar o %{browse}',
  dropPasteImportBoth: 'Soltar archivos aquí, pegar, %{browse} o importar desde',
  dropPasteImportFiles: 'Soltar archivos aquí, pegar, %{browse} o importar desde',
  dropPasteImportFolders: 'Soltar archivos aquí, pegar, %{browse} o importar desde',
  editFile: 'Editar archivo',
  editing: 'Editando %{file}',
  emptyFolderAdded: 'Ningún archivo fue agregado desde la carpeta vacía',
  encoding: 'Codificando...',
  enterCorrectUrl: 'URL incorrecta: Por favor asegúrate que estás ingresando un enlace a un archivo',
  enterUrlToImport: 'Ingresa una URL para importar un archivo',
  exceedsSize: 'Este archivo excede el tamaño máximo de %{size}',
  failedToFetch: 'Companion no ha podido recuperar esta URL, por favor asegúrate que sea correcta',
  failedToUpload: 'Error al subir %{file}',
  fileSource: 'Fuente de archivo: %{name}',
  filesUploadedOfTotal: {
    '0': '%{complete} de %{smart_count} archivo subido',
    '1': '%{complete} de %{smart_count} archivos subidos',
    '2': '%{complete} de %{smart_count} archivos subidos'
  },
  filter: 'Filtrar',
  finishEditingFile: 'Terminar edición de archivo',
  folderAdded: {
    '0': 'Agregado %{smart_count} archivo desde %{folder}',
    '1': 'Agregados %{smart_count} archivos desde %{folder}',
    '2': 'Agregados %{smart_count} archivos desde %{folder}'
  },
  import: 'Importar',
  importFrom: 'Importar desde %{name}',
  loading: 'Cargando...',
  logOut: 'Cerrar sesión',
  missingRequiredMetaField: 'Faltan metacampos obligatorios',
  missingRequiredMetaFieldOnFile: 'Faltan metacampos obligatorios en %{fileName}',
  myDevice: 'Mi Dispositivo',
  noFilesFound: 'No existen archivos o carpetas aquí',
  noInternetConnection: 'Sin conexión a Internet',
  pause: 'Pausar',
  pauseUpload: 'Pausar subida',
  paused: 'En pausa',
  poweredBy: 'Soportado por %{uppy}',
  processingXFiles: {
    '0': 'Procesando %{smart_count} archivo',
    '1': 'Procesando %{smart_count} archivos',
    '2': 'Procesando %{smart_count} archivos'
  },
  recordingLength: 'Duración de grabación %{recording_length}',
  removeFile: 'Eliminar archivo',
  resetFilter: 'Limpiar filtro',
  resume: 'Reanudar',
  resumeUpload: 'Reanudar subida',
  retry: 'Intentar nuevamente',
  retryUpload: 'Intentar subida nuevamente',
  save: 'Guardar',
  saveChanges: 'Guardar cambios',
  selectX: {
    '0': 'Seleccionar %{smart_count}',
    '1': 'Seleccionar %{smart_count}',
    '2': 'Seleccionar %{smart_count}'
  },
  smile: 'Sonríe!',
  startRecording: 'Comenzar la grabación de video',
  stopRecording: 'Detener la grabación de video',
  takePicture: 'Tomar una foto',
  timedOut: 'Subida estancada por %{seconds} segundos, anulando.',
  upload: 'Subir',
  uploadComplete: 'Subida terminada',
  uploadFailed: 'Subida falló',
  uploadPaused: 'Subida pausada',
  uploadXFiles: {
    '0': 'Subir %{smart_count} archivo',
    '1': 'Subir %{smart_count} archivos',
    '2': 'Subir %{smart_count} archivos'
  },
  uploadXNewFiles: {
    '0': 'Subir +%{smart_count} archivo',
    '1': 'Subir +%{smart_count} archivos',
    '2': 'Subir +%{smart_count} archivos'
  },
  uploading: 'Subiendo',
  uploadingXFiles: {
    '0': 'Subiendo %{smart_count} archivo',
    '1': 'Subiendo %{smart_count} archivos',
    '2': 'Subiendo %{smart_count} archivos'
  },
  xFilesSelected: {
    '0': '%{smart_count} archivo seleccionado',
    '1': '%{smart_count} archivos seleccionados',
    '2': '%{smart_count} archivos seleccionados'
  },
  xMoreFilesAdded: {
    '0': '%{smart_count} archivo más agregado',
    '1': '%{smart_count} archivos más agregados',
    '2': '%{smart_count} archivos más agregados'
  },
  xTimeLeft: '%{time} restantes',
  youCanOnlyUploadFileTypes: 'Solo puedes subir: %{types}',
  youCanOnlyUploadX: {
    '0': 'Solo puedes subir %{smart_count} archivo',
    '1': 'Solo puedes subir %{smart_count} archivos',
    '2': 'Solo puedes subir %{smart_count} archivos'
  },
  youHaveToAtLeastSelectX: {
    '0': 'Tienes que seleccionar al menos %{smart_count} archivo',
    '1': 'Tienes que seleccionar al menos %{smart_count} archivos',
    '2': 'Tienes que seleccionar al menos %{smart_count} archivos'
  },
  selectFileNamed: 'Seleccione archivo %{name}',
  unselectFileNamed: 'Deseleccionar archivo %{name}',
  openFolderNamed: 'Carpeta abierta %{name}'
};

if (typeof Uppy !== 'undefined') {
  globalThis.Uppy.locales.es_ES = es_ES;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (es_ES);

/***/ }),

/***/ "./node_modules/@uppy/locales/lib/fr_FR.js":
/*!*************************************************!*\
  !*** ./node_modules/@uppy/locales/lib/fr_FR.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const fr_FR = {
  pluralize(n) {
    if (n === 1) {
      return 0;
    }

    return 1;
  }

};
fr_FR.strings = {
  addBulkFilesFailed: {
    '0': 'L\'ajout de %{smart_count} fichier a échoué',
    '1': 'L\'ajout de %{smart_count} fichiers a échoué'
  },
  addMore: 'Ajouter d\'autres',
  addMoreFiles: 'Ajouter d\'autres fichiers',
  addingMoreFiles: 'En train d\'ajouter des fichiers',
  allFilesFromFolderNamed: 'Tous les fichiers du dossier %{name}',
  allowAccessDescription: 'Pour prendre des photos ou enregistrer une vidéo avec votre caméra, veuillez autoriser l\'accès à votre caméra pour ce site.',
  allowAccessTitle: 'Veuillez autoriser l\'accès à votre caméra',
  authAborted: 'Authentification interrompue',
  authenticateWith: 'Se connecter à %{pluginName}',
  authenticateWithTitle: 'Veuillez vous authentifier avec %{pluginName} pour sélectionner les fichiers',
  back: 'Retour',
  browse: 'naviguer',
  browseFiles: 'naviguer',
  cancel: 'Annuler',
  cancelUpload: 'Annuler téléchargement',
  chooseFiles: 'Choisir des fichiers',
  closeModal: 'Fermer Fenêtre',
  companionError: 'Connexion à Companion a échoué',
  companionUnauthorizeHint: 'Pour vous déconnecter de votre compte %{provider}, veuillez aller à %{url}',
  complete: 'Terminé',
  compressedX: '%{size} économisé(s) par la compression',
  compressingImages: 'Compression des images...',
  connectedToInternet: 'Connecté à Internet',
  copyLink: 'Copier lien',
  copyLinkToClipboardFallback: 'Copier le lien ci-dessous',
  copyLinkToClipboardSuccess: 'Lien copié',
  creatingAssembly: 'Préparation du téléchargement...',
  creatingAssemblyFailed: 'Transloadit: Impossible de créer Assembly',
  dashboardTitle: 'Téléchargeur de fichier',
  dashboardWindowTitle: 'Fenêtre de téléchargeur de fichier (Appuyez sur echap pour fermer)',
  dataUploadedOfTotal: '%{complete} sur %{total}',
  done: 'Terminé',
  dropHereOr: 'Déposer les fichiers ici ou %{browse}',
  dropHint: 'Déposez vos fichiers ici',
  dropPasteBoth: 'Déposer les fichiers ici, coller ou %{browse}',
  dropPasteFiles: 'Déposer les fichiers ici, coller ou %{browse}',
  dropPasteFolders: 'Déposer les fichiers ici, coller ou %{browse}',
  dropPasteImportBoth: 'Déposer les fichiers ici, coller, %{browse} ou importer de',
  dropPasteImportFiles: 'Déposer les fichiers ici, coller, %{browse} ou importer de',
  dropPasteImportFolders: 'Déposer les fichiers ici, coller, %{browse} ou importer de',
  editFile: 'Modifier le fichier',
  editFileWithFilename: 'Modifier le fichier %{file}',
  editing: 'Modification en cours de %{file}',
  emptyFolderAdded: 'Aucun fichier n\'a été ajouté depuis un dossier vide',
  encoding: 'Traitement...',
  enterCorrectUrl: 'Lien incorrect: Assurez-vous que vous entrez un lien direct vers le fichier',
  enterUrlToImport: 'Entrez le lien pour importer un fichier',
  exceedsSize: 'Ce fichier dépasse la taille maximale autorisée de %{size}',
  failedToFetch: 'Companion a échoué à récupérer ce lien, assurez-vous qu\'il est correct',
  failedToUpload: 'Le téléchargement de %{file} a échoué',
  fileSource: 'Fichier source: %{name}',
  filesUploadedOfTotal: {
    '0': '%{complete} sur %{smart_count} fichier téléchargé',
    '1': '%{complete} sur %{smart_count} fichiers téléchargés',
    '2': '%{complete} sur %{smart_count} fichiers téléchargés'
  },
  filter: 'Filtrer',
  finishEditingFile: 'Terminer l\'édition du fichier',
  folderAdded: {
    '0': '%{smart_count} fichier ajouté de %{folder}',
    '1': '%{smart_count} fichiers ajoutés de %{folder}',
    '2': '%{smart_count} fichiers ajoutés de %{folder}'
  },
  generatingThumbnails: 'Generating thumbnails...',
  import: 'Importer',
  importFrom: 'Importer de %{name}',
  loading: 'Chargement...',
  logOut: 'Déconnexion',
  micDisabled: 'Accès au micro refusé par l\'utilisateur',
  myDevice: 'Mon Appareil',
  noDuplicates: 'Impossible d\'ajouter le fichier "%{fileName}", il existe déjà',
  noFilesFound: 'Vous n\'avez aucun fichier ou dossier ici',
  noInternetConnection: 'Pas de connexion à Internet',
  noMoreFilesAllowed: 'Impossible d\'ajouter de nouveaux fichiers: en cours de chargement ',
  openFolderNamed: 'Ouvrir %{name}',
  pause: 'Pause',
  pauseUpload: 'Mettre en pause le téléchargement',
  paused: 'En pause',
  poweredBy: 'Propulsé par %{uppy}',
  processingXFiles: {
    '0': 'Traitement de %{smart_count} fichier',
    '1': 'Traitement de %{smart_count} fichiers',
    '2': 'Traitement de %{smart_count} fichiers'
  },
  recording: 'Enregistrement',
  recordingLength: 'Durée d\'enregistrement %{recording_length}',
  recordingStoppedMaxSize: 'L\'enregistrement s\'est arrété car la taille du fichier dépasse la limite',
  removeFile: 'Effacer le fichier %{file}',
  resetFilter: 'Réinitialiser filtre',
  resume: 'Reprendre',
  resumeUpload: 'Reprendre le téléchargement',
  retry: 'Réessayer',
  retryUpload: 'Réessayer le téléchargement',
  save: 'Sauvegarder',
  saveChanges: 'Sauvegarder les modifications',
  selectFileNamed: 'Sélectionner le fichier %{name}',
  selectX: {
    '0': 'Sélectionner %{smart_count}',
    '1': 'Sélectionner %{smart_count}',
    '2': 'Sélectionner %{smart_count}'
  },
  smile: 'Souriez !',
  startRecording: 'Commencer l\'enregistrement vidéo',
  stopRecording: 'Arrêter l\'enregistrement vidéo',
  streamActive: 'Stream actif',
  streamPassive: 'Stream passif',
  submitRecordedFile: 'Envoyer la vidéo enregistrée',
  takePicture: 'Prendre une photo',
  timedOut: 'Téléchargement bloqué durant %{seconds} secondes, annulation.',
  unselectFileNamed: 'Désélectionner le fichier %{name}',
  upload: 'Télécharger',
  uploadComplete: 'Téléchargement terminé',
  uploadFailed: 'Le téléchargement a échoué',
  uploadPaused: 'Téléchargement mis en pause',
  uploadStalled: 'Téléchargement bloqué depuis %{seconds} secondes. Il est peut-être nécessaire de recommencer l\'opération.',
  uploadXFiles: {
    '0': 'Télécharger %{smart_count} fichier',
    '1': 'Télécharger %{smart_count} fichiers',
    '2': 'Télécharger %{smart_count} fichiers'
  },
  uploadXNewFiles: {
    '0': 'Télécharger +%{smart_count} fichier',
    '1': 'Télécharger +%{smart_count} fichiers',
    '2': 'Télécharger +%{smart_count} fichiers'
  },
  uploading: 'Téléchargement en cours',
  uploadingXFiles: {
    '0': 'Téléchargement de %{smart_count} fichier',
    '1': 'Téléchargement de %{smart_count} fichiers',
    '2': 'Téléchargement de %{smart_count} fichiers'
  },
  xFilesSelected: {
    '0': '%{smart_count} fichier sélectionné',
    '1': '%{smart_count} fichiers sélectionnés',
    '2': '%{smart_count} fichiers sélectionnés'
  },
  xMoreFilesAdded: {
    '0': '%{smart_count} autre fichier ajouté',
    '1': '%{smart_count} autres fichiers ajoutés',
    '2': '%{smart_count} autres fichiers ajoutés'
  },
  xTimeLeft: '%{time} restantes',
  youCanOnlyUploadFileTypes: 'Vous pouvez seulement télécharger: %{types}',
  youCanOnlyUploadX: {
    '0': 'Vous pouvez seulement télécharger %{smart_count} fichier',
    '1': 'Vous pouvez seulement télécharger %{smart_count} fichiers',
    '2': 'Vous pouvez seulement télécharger %{smart_count} fichiers'
  },
  youHaveToAtLeastSelectX: {
    '0': 'Vous devez sélectionner au moins %{smart_count} fichier',
    '1': 'Vous devez sélectionner au moins %{smart_count} fichiers',
    '2': 'Vous devez sélectionner au moins %{smart_count} fichiers'
  }
};

if (typeof Uppy !== 'undefined') {
  globalThis.Uppy.locales.fr_FR = fr_FR;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (fr_FR);

/***/ }),

/***/ "./node_modules/@uppy/onedrive/lib/OneDrive.js":
/*!*****************************************************!*\
  !*** ./node_modules/@uppy/onedrive/lib/OneDrive.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ OneDrive)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _uppy_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/core */ "./node_modules/@uppy/core/lib/index.js");
/* harmony import */ var _uppy_companion_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/companion-client */ "./node_modules/@uppy/companion-client/lib/index.js");
/* harmony import */ var _uppy_provider_views__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uppy/provider-views */ "./node_modules/@uppy/provider-views/lib/index.js");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@uppy/onedrive/lib/locale.js");




const packageJson = {
  "version": "3.1.0"
};

class OneDrive extends _uppy_core__WEBPACK_IMPORTED_MODULE_1__.UIPlugin {
  constructor(uppy, opts) {
    super(uppy, opts);
    this.id = this.opts.id || 'OneDrive';
    _uppy_companion_client__WEBPACK_IMPORTED_MODULE_2__.Provider.initPlugin(this, opts);
    this.title = this.opts.title || 'OneDrive';

    this.icon = () => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
      "aria-hidden": "true",
      focusable: "false",
      width: "32",
      height: "32",
      viewBox: "0 0 32 32"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
      fill: "none",
      fillRule: "nonzero"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
      d: "M13.39 12.888l4.618 2.747 2.752-1.15a4.478 4.478 0 012.073-.352 6.858 6.858 0 00-5.527-5.04 6.895 6.895 0 00-6.876 2.982l.07-.002a5.5 5.5 0 012.89.815z",
      fill: "#0364B8"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
      d: "M13.39 12.887v.001a5.5 5.5 0 00-2.89-.815l-.07.002a5.502 5.502 0 00-4.822 2.964 5.43 5.43 0 00.38 5.62l4.073-1.702 1.81-.757 4.032-1.685 2.105-.88-4.619-2.748z",
      fill: "#0078D4"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
      d: "M22.833 14.133a4.479 4.479 0 00-2.073.352l-2.752 1.15.798.475 2.616 1.556 1.141.68 3.902 2.321a4.413 4.413 0 00-.022-4.25 4.471 4.471 0 00-3.61-2.284z",
      fill: "#1490DF"
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
      d: "M22.563 18.346l-1.141-.68-2.616-1.556-.798-.475-2.105.88L11.87 18.2l-1.81.757-4.073 1.702A5.503 5.503 0 0010.5 23h12.031a4.472 4.472 0 003.934-2.333l-3.902-2.321z",
      fill: "#28A8EA"
    })));

    this.provider = new _uppy_companion_client__WEBPACK_IMPORTED_MODULE_2__.Provider(uppy, {
      companionUrl: this.opts.companionUrl,
      companionHeaders: this.opts.companionHeaders,
      companionCookiesRule: this.opts.companionCookiesRule,
      provider: 'onedrive',
      pluginId: this.id
    });
    this.defaultLocale = _locale_js__WEBPACK_IMPORTED_MODULE_4__["default"];
    this.i18nInit();
    this.title = this.i18n('pluginNameOneDrive');
    this.onFirstRender = this.onFirstRender.bind(this);
    this.render = this.render.bind(this);
  }

  install() {
    this.view = new _uppy_provider_views__WEBPACK_IMPORTED_MODULE_3__.ProviderViews(this, {
      provider: this.provider
    });
    const {
      target
    } = this.opts;

    if (target) {
      this.mount(target, this);
    }
  }

  uninstall() {
    this.view.tearDown();
    this.unmount();
  }

  onFirstRender() {
    return Promise.all([this.provider.fetchPreAuthToken(), this.view.getFolder()]);
  }

  render(state) {
    return this.view.render(state);
  }

}
OneDrive.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/onedrive/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@uppy/onedrive/lib/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _OneDrive_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _OneDrive_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./OneDrive.js */ "./node_modules/@uppy/onedrive/lib/OneDrive.js");


/***/ }),

/***/ "./node_modules/@uppy/onedrive/lib/locale.js":
/*!***************************************************!*\
  !*** ./node_modules/@uppy/onedrive/lib/locale.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  strings: {
    pluginNameOneDrive: 'OneDrive'
  }
});

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/Breadcrumbs.js":
/*!**************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/Breadcrumbs.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");


const Breadcrumb = props => {
  const {
    getFolder,
    title,
    isLast
  } = props;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    type: "button",
    className: "uppy-u-reset uppy-c-btn",
    onClick: getFolder
  }, title), !isLast ? ' / ' : '');
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (props => {
  const {
    getFolder,
    title,
    breadcrumbsIcon,
    directories
  } = props;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Provider-breadcrumbs"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Provider-breadcrumbsIcon"
  }, breadcrumbsIcon), directories.map((directory, i) => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(Breadcrumb, {
    key: directory.id,
    getFolder: () => getFolder(directory.id),
    title: i === 0 ? title : directory.title,
    isLast: i + 1 === directories.length
  })));
});

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/Browser.js":
/*!**********************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/Browser.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var _uppy_utils_lib_remoteFileObjToLocal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/utils/lib/remoteFileObjToLocal */ "./node_modules/@uppy/utils/lib/remoteFileObjToLocal.js");
/* harmony import */ var _SearchFilterInput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SearchFilterInput.js */ "./node_modules/@uppy/provider-views/lib/SearchFilterInput.js");
/* harmony import */ var _FooterActions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FooterActions.js */ "./node_modules/@uppy/provider-views/lib/FooterActions.js");
/* harmony import */ var _Item_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Item/index.js */ "./node_modules/@uppy/provider-views/lib/Item/index.js");






const VIRTUAL_SHARED_DIR = 'shared-with-me';

function Browser(props) {
  const {
    currentSelection,
    folders,
    files,
    uppyFiles,
    viewType,
    headerComponent,
    showBreadcrumbs,
    isChecked,
    toggleCheckbox,
    recordShiftKeyPress,
    handleScroll,
    showTitles,
    i18n,
    validateRestrictions,
    isLoading,
    showSearchFilter,
    search,
    searchTerm,
    clearSearch,
    searchOnInput,
    searchInputLabel,
    clearSearchLabel,
    getNextFolder,
    cancel,
    done,
    columns,
    noResultsLabel
  } = props;
  const selected = currentSelection.length;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1__('uppy-ProviderBrowser', `uppy-ProviderBrowser-viewType--${viewType}`)
  }, headerComponent && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-ProviderBrowser-header"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1__('uppy-ProviderBrowser-headerBar', !showBreadcrumbs && 'uppy-ProviderBrowser-headerBar--simple')
  }, headerComponent)), showSearchFilter && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    class: "uppy-ProviderBrowser-searchFilter"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_SearchFilterInput_js__WEBPACK_IMPORTED_MODULE_3__["default"], {
    search: search,
    searchTerm: searchTerm,
    clearSearch: clearSearch,
    inputLabel: searchInputLabel,
    clearSearchLabel: clearSearchLabel,
    inputClassName: "uppy-ProviderBrowser-searchFilterInput",
    searchOnInput: searchOnInput
  })), (() => {
    if (isLoading) {
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-Provider-loading"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, i18n('loading')));
    }

    if (!folders.length && !files.length) {
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-Provider-empty"
      }, noResultsLabel);
    }

    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-ProviderBrowser-body"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("ul", {
      className: "uppy-ProviderBrowser-list",
      onScroll: handleScroll,
      role: "listbox" // making <ul> not focusable for firefox
      ,
      tabIndex: "-1"
    }, folders.map(folder => {
      var _isChecked;

      return (0,_Item_index_js__WEBPACK_IMPORTED_MODULE_5__["default"])({
        columns,
        showTitles,
        viewType,
        i18n,
        id: folder.id,
        title: folder.name,
        getItemIcon: () => folder.icon,
        isChecked: isChecked(folder),
        toggleCheckbox: event => toggleCheckbox(event, folder),
        recordShiftKeyPress,
        type: 'folder',
        isDisabled: (_isChecked = isChecked(folder)) == null ? void 0 : _isChecked.loading,
        isCheckboxDisabled: folder.id === VIRTUAL_SHARED_DIR,
        handleFolderClick: () => getNextFolder(folder)
      });
    }), files.map(file => {
      const restrictionError = validateRestrictions((0,_uppy_utils_lib_remoteFileObjToLocal__WEBPACK_IMPORTED_MODULE_2__["default"])(file), [...uppyFiles, ...currentSelection]);
      return (0,_Item_index_js__WEBPACK_IMPORTED_MODULE_5__["default"])({
        id: file.id,
        title: file.name,
        author: file.author,
        getItemIcon: () => file.icon,
        isChecked: isChecked(file),
        toggleCheckbox: event => toggleCheckbox(event, file),
        recordShiftKeyPress,
        columns,
        showTitles,
        viewType,
        i18n,
        type: 'file',
        isDisabled: restrictionError && !isChecked(file),
        restrictionError
      });
    })));
  })(), selected > 0 && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_FooterActions_js__WEBPACK_IMPORTED_MODULE_4__["default"], {
    selected: selected,
    done: done,
    cancel: cancel,
    i18n: i18n
  }));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Browser);

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/CloseWrapper.js":
/*!***************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/CloseWrapper.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CloseWrapper)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");

class CloseWrapper extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {
  componentWillUnmount() {
    const {
      onUnmount
    } = this.props;
    onUnmount();
  }

  render() {
    const {
      children
    } = this.props;
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)(children)[0];
  }

}

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/FooterActions.js":
/*!****************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/FooterActions.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_ref => {
  let {
    cancel,
    done,
    i18n,
    selected
  } = _ref;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-ProviderBrowser-footer"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-c-btn uppy-c-btn-primary",
    onClick: done,
    type: "button"
  }, i18n('selectX', {
    smart_count: selected
  })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-c-btn uppy-c-btn-link",
    onClick: cancel,
    type: "button"
  }, i18n('cancel')));
});

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/Item/components/GridLi.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/Item/components/GridLi.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");



function GridListItem(props) {
  const {
    className,
    isDisabled,
    restrictionError,
    isChecked,
    title,
    itemIconEl,
    showTitles,
    toggleCheckbox,
    recordShiftKeyPress,
    id,
    children
  } = props;
  const checkBoxClassName = classnames__WEBPACK_IMPORTED_MODULE_1__('uppy-u-reset', 'uppy-ProviderBrowserItem-checkbox', 'uppy-ProviderBrowserItem-checkbox--grid', {
    'uppy-ProviderBrowserItem-checkbox--is-checked': isChecked
  });
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("li", {
    className: className,
    title: isDisabled ? restrictionError == null ? void 0 : restrictionError.message : null
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("input", {
    type: "checkbox",
    className: checkBoxClassName,
    onChange: toggleCheckbox,
    onKeyDown: recordShiftKeyPress,
    name: "listitem",
    id: id,
    checked: isChecked,
    disabled: isDisabled,
    "data-uppy-super-focusable": true
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("label", {
    htmlFor: id,
    "aria-label": title,
    className: "uppy-u-reset uppy-ProviderBrowserItem-inner"
  }, itemIconEl, showTitles && title, children));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GridListItem);

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/Item/components/ItemIcon.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/Item/components/ItemIcon.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");


function FileIcon() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    width: 11,
    height: 14.5,
    viewBox: "0 0 44 58"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"
  }));
}

function FolderIcon() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    style: {
      minWidth: 16,
      marginRight: 3
    },
    viewBox: "0 0 276.157 276.157"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"
  }));
}

function VideoIcon() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    style: {
      width: 16,
      marginRight: 4
    },
    viewBox: "0 0 58 58"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"
  }));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (props => {
  const {
    itemIconString
  } = props;
  if (itemIconString === null) return undefined;

  switch (itemIconString) {
    case 'file':
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(FileIcon, null);

    case 'folder':
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(FolderIcon, null);

    case 'video':
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(VideoIcon, null);

    default:
      {
        const {
          alt
        } = props;
        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("img", {
          src: itemIconString,
          alt: alt
        });
      }
  }
});

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/Item/components/ListLi.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/Item/components/ListLi.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
 // if folder:
//   + checkbox (selects all files from folder)
//   + folder name (opens folder)
// if file:
//   + checkbox (selects file)
//   + file name (selects file)

function ListItem(props) {
  const {
    className,
    isDisabled,
    restrictionError,
    isCheckboxDisabled,
    isChecked,
    toggleCheckbox,
    recordShiftKeyPress,
    type,
    id,
    itemIconEl,
    title,
    handleFolderClick,
    showTitles,
    i18n
  } = props;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("li", {
    className: className,
    title: isDisabled ? restrictionError == null ? void 0 : restrictionError.message : null
  }, !isCheckboxDisabled ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("input", {
    type: "checkbox",
    className: `uppy-u-reset uppy-ProviderBrowserItem-checkbox ${isChecked ? 'uppy-ProviderBrowserItem-checkbox--is-checked' : ''}`,
    onChange: toggleCheckbox,
    onKeyDown: recordShiftKeyPress // for the <label/>
    ,
    name: "listitem",
    id: id,
    checked: isChecked,
    "aria-label": type === 'file' ? null : i18n('allFilesFromFolderNamed', {
      name: title
    }),
    disabled: isDisabled,
    "data-uppy-super-focusable": true
  }) : null, type === 'file' ? // label for a checkbox
  (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("label", {
    htmlFor: id,
    className: "uppy-u-reset uppy-ProviderBrowserItem-inner"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-ProviderBrowserItem-iconWrap"
  }, itemIconEl), showTitles && title) : // button to open a folder
  (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    type: "button",
    className: "uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",
    onClick: handleFolderClick,
    "aria-label": i18n('openFolderNamed', {
      name: title
    })
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-ProviderBrowserItem-iconWrap"
  }, itemIconEl), showTitles && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, title)));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ListItem);

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/Item/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/Item/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var _components_ItemIcon_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/ItemIcon.js */ "./node_modules/@uppy/provider-views/lib/Item/components/ItemIcon.js");
/* harmony import */ var _components_GridLi_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/GridLi.js */ "./node_modules/@uppy/provider-views/lib/Item/components/GridLi.js");
/* harmony import */ var _components_ListLi_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/ListLi.js */ "./node_modules/@uppy/provider-views/lib/Item/components/ListLi.js");
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }






/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (props => {
  const {
    author,
    getItemIcon,
    isChecked,
    isDisabled,
    viewType
  } = props;
  const itemIconString = getItemIcon();
  const className = classnames__WEBPACK_IMPORTED_MODULE_1__('uppy-ProviderBrowserItem', {
    'uppy-ProviderBrowserItem--selected': isChecked
  }, {
    'uppy-ProviderBrowserItem--disabled': isDisabled
  }, {
    'uppy-ProviderBrowserItem--noPreview': itemIconString === 'video'
  });
  const itemIconEl = (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_components_ItemIcon_js__WEBPACK_IMPORTED_MODULE_2__["default"], {
    itemIconString: itemIconString
  });

  switch (viewType) {
    case 'grid':
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_components_GridLi_js__WEBPACK_IMPORTED_MODULE_3__["default"] // eslint-disable-next-line react/jsx-props-no-spreading
      , _extends({}, props, {
        className: className,
        itemIconEl: itemIconEl
      }));

    case 'list':
      return (// eslint-disable-next-line react/jsx-props-no-spreading
        (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_components_ListLi_js__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({}, props, {
          className: className,
          itemIconEl: itemIconEl
        }))
      );

    case 'unsplash':
      return (// eslint-disable-next-line react/jsx-props-no-spreading
        (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_components_GridLi_js__WEBPACK_IMPORTED_MODULE_3__["default"], _extends({}, props, {
          className: className,
          itemIconEl: itemIconEl
        }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("a", {
          href: `${author.url}?utm_source=Companion&utm_medium=referral`,
          target: "_blank",
          rel: "noopener noreferrer",
          className: "uppy-ProviderBrowserItem-author",
          tabIndex: "-1"
        }, author.name))
      );

    default:
      throw new Error(`There is no such type ${viewType}`);
  }
});

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/Loader.js":
/*!*********************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/Loader.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_ref => {
  let {
    i18n
  } = _ref;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Provider-loading"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, i18n('loading')));
});

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/ProviderView/AuthView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/ProviderView/AuthView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");


function GoogleIcon() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    width: "26",
    height: "26",
    viewBox: "0 0 26 26",
    xmlns: "http://www.w3.org/2000/svg"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
    fill: "none",
    "fill-rule": "evenodd"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("circle", {
    fill: "#FFF",
    cx: "13",
    cy: "13",
    r: "13"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",
    fill: "#4285F4",
    "fill-rule": "nonzero"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",
    fill: "#34A853",
    "fill-rule": "nonzero"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",
    fill: "#FBBC05",
    "fill-rule": "nonzero"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",
    fill: "#EA4335",
    "fill-rule": "nonzero"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M4 4h18v18H4z"
  })));
}

function AuthView(props) {
  const {
    pluginName,
    pluginIcon,
    i18nArray,
    handleAuth
  } = props; // In order to comply with Google's brand we need to create a different button
  // for the Google Drive plugin

  const isGoogleDrive = pluginName === 'Google Drive';
  const pluginNameComponent = (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
    className: "uppy-Provider-authTitleName"
  }, pluginName, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("br", null));
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Provider-auth"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Provider-authIcon"
  }, pluginIcon()), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Provider-authTitle"
  }, i18nArray('authenticateWithTitle', {
    pluginName: pluginNameComponent
  })), isGoogleDrive ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    type: "button",
    className: "uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",
    onClick: handleAuth,
    "data-uppy-super-focusable": true
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(GoogleIcon, null), i18nArray('signInWithGoogle')) : (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    type: "button",
    className: "uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",
    onClick: handleAuth,
    "data-uppy-super-focusable": true
  }, i18nArray('authenticateWith', {
    pluginName
  })));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AuthView);

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/ProviderView/Header.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/ProviderView/Header.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _User_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./User.js */ "./node_modules/@uppy/provider-views/lib/ProviderView/User.js");
/* harmony import */ var _Breadcrumbs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Breadcrumbs.js */ "./node_modules/@uppy/provider-views/lib/Breadcrumbs.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (props => {
  const components = [];

  if (props.showBreadcrumbs) {
    components.push((0,_Breadcrumbs_js__WEBPACK_IMPORTED_MODULE_1__["default"])({
      getFolder: props.getFolder,
      directories: props.directories,
      breadcrumbsIcon: props.pluginIcon && props.pluginIcon(),
      title: props.title
    }));
  }

  components.push((0,_User_js__WEBPACK_IMPORTED_MODULE_0__["default"])({
    logout: props.logout,
    username: props.username,
    i18n: props.i18n
  }));
  return components;
});

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/ProviderView/ProviderView.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/ProviderView/ProviderView.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ProviderView)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _uppy_utils_lib_generateFileID__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/utils/lib/generateFileID */ "./node_modules/@uppy/utils/lib/generateFileID.js");
/* harmony import */ var _AuthView_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AuthView.js */ "./node_modules/@uppy/provider-views/lib/ProviderView/AuthView.js");
/* harmony import */ var _Header_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Header.js */ "./node_modules/@uppy/provider-views/lib/ProviderView/Header.js");
/* harmony import */ var _Browser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Browser.js */ "./node_modules/@uppy/provider-views/lib/Browser.js");
/* harmony import */ var _Loader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Loader.js */ "./node_modules/@uppy/provider-views/lib/Loader.js");
/* harmony import */ var _CloseWrapper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../CloseWrapper.js */ "./node_modules/@uppy/provider-views/lib/CloseWrapper.js");
/* harmony import */ var _View_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../View.js */ "./node_modules/@uppy/provider-views/lib/View.js");
function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }









const packageJson = {
  "version": "3.2.0"
};

function getOrigin() {
  // eslint-disable-next-line no-restricted-globals
  return location.origin;
}

function getRegex(value) {
  if (typeof value === 'string') {
    return new RegExp(`^${value}$`);
  }

  if (value instanceof RegExp) {
    return value;
  }

  return undefined;
}

function isOriginAllowed(origin, allowedOrigin) {
  const patterns = Array.isArray(allowedOrigin) ? allowedOrigin.map(getRegex) : [getRegex(allowedOrigin)];
  return patterns.some(pattern => (pattern == null ? void 0 : pattern.test(origin)) || (pattern == null ? void 0 : pattern.test(`${origin}/`))); // allowing for trailing '/'
}
/**
 * Class to easily generate generic views for Provider plugins
 */


var _updateFilesAndFolders = /*#__PURE__*/_classPrivateFieldLooseKey("updateFilesAndFolders");

class ProviderView extends _View_js__WEBPACK_IMPORTED_MODULE_7__["default"] {
  /**
   * @param {object} plugin instance of the plugin
   * @param {object} opts
   */
  constructor(plugin, opts) {
    super(plugin, opts); // set default options

    Object.defineProperty(this, _updateFilesAndFolders, {
      value: _updateFilesAndFolders2
    });
    const defaultOptions = {
      viewType: 'list',
      showTitles: true,
      showFilter: true,
      showBreadcrumbs: true
    }; // merge default options with the ones set by user

    this.opts = { ...defaultOptions,
      ...opts
    }; // Logic

    this.filterQuery = this.filterQuery.bind(this);
    this.clearFilter = this.clearFilter.bind(this);
    this.getFolder = this.getFolder.bind(this);
    this.getNextFolder = this.getNextFolder.bind(this);
    this.logout = this.logout.bind(this);
    this.handleAuth = this.handleAuth.bind(this);
    this.handleScroll = this.handleScroll.bind(this);
    this.donePicking = this.donePicking.bind(this); // Visual

    this.render = this.render.bind(this); // Set default state for the plugin

    this.plugin.setPluginState({
      authenticated: false,
      files: [],
      folders: [],
      directories: [],
      filterInput: '',
      isSearchVisible: false,
      currentSelection: []
    });
  } // eslint-disable-next-line class-methods-use-this


  tearDown() {// Nothing.
  }

  /**
   * Based on folder ID, fetch a new folder and update it to state
   *
   * @param  {string} id Folder id
   * @returns {Promise}   Folders/files in folder
   */
  async getFolder(id, name) {
    this.setLoading(true);

    try {
      const res = await this.provider.list(id);
      const folders = [];
      const files = [];
      let updatedDirectories;
      const state = this.plugin.getPluginState();
      const index = state.directories.findIndex(dir => id === dir.id);

      if (index !== -1) {
        updatedDirectories = state.directories.slice(0, index + 1);
      } else {
        updatedDirectories = state.directories.concat([{
          id,
          title: name
        }]);
      }

      this.username = res.username || this.username;

      _classPrivateFieldLooseBase(this, _updateFilesAndFolders)[_updateFilesAndFolders](res, files, folders);

      this.plugin.setPluginState({
        directories: updatedDirectories,
        filterInput: ''
      });
    } catch (err) {
      this.handleError(err);
    } finally {
      this.setLoading(false);
    }
  }
  /**
   * Fetches new folder
   *
   * @param  {object} folder
   */


  getNextFolder(folder) {
    this.getFolder(folder.requestPath, folder.name);
    this.lastCheckbox = undefined;
  }
  /**
   * Removes session token on client side.
   */


  logout() {
    this.provider.logout().then(res => {
      if (res.ok) {
        if (!res.revoked) {
          const message = this.plugin.uppy.i18n('companionUnauthorizeHint', {
            provider: this.plugin.title,
            url: res.manual_revoke_url
          });
          this.plugin.uppy.info(message, 'info', 7000);
        }

        const newState = {
          authenticated: false,
          files: [],
          folders: [],
          directories: [],
          filterInput: ''
        };
        this.plugin.setPluginState(newState);
      }
    }).catch(this.handleError);
  }

  filterQuery(input) {
    this.plugin.setPluginState({
      filterInput: input
    });
  }

  clearFilter() {
    this.plugin.setPluginState({
      filterInput: ''
    });
  }

  async handleAuth() {
    await this.provider.ensurePreAuth();
    const authState = btoa(JSON.stringify({
      origin: getOrigin()
    }));
    const clientVersion = `@uppy/provider-views=${ProviderView.VERSION}`;
    const link = this.provider.authUrl({
      state: authState,
      uppyVersions: clientVersion
    });
    const authWindow = window.open(link, '_blank');

    const handleToken = e => {
      if (e.source !== authWindow) {
        this.plugin.uppy.log('rejecting event from unknown source');
        return;
      }

      if (!isOriginAllowed(e.origin, this.plugin.opts.companionAllowedHosts) || e.source !== authWindow) {
        this.plugin.uppy.log(`rejecting event from ${e.origin} vs allowed pattern ${this.plugin.opts.companionAllowedHosts}`);
      } // Check if it's a string before doing the JSON.parse to maintain support
      // for older Companion versions that used object references


      const data = typeof e.data === 'string' ? JSON.parse(e.data) : e.data;

      if (data.error) {
        this.plugin.uppy.log('auth aborted', 'warning');
        const {
          uppy
        } = this.plugin;
        const message = uppy.i18n('authAborted');
        uppy.info({
          message
        }, 'warning', 5000);
        return;
      }

      if (!data.token) {
        this.plugin.uppy.log('did not receive token from auth window', 'error');
        return;
      }

      authWindow.close();
      window.removeEventListener('message', handleToken);
      this.provider.setAuthToken(data.token);
      this.preFirstRender();
    };

    window.addEventListener('message', handleToken);
  }

  async handleScroll(event) {
    const path = this.nextPagePath || null;

    if (this.shouldHandleScroll(event) && path) {
      this.isHandlingScroll = true;

      try {
        const response = await this.provider.list(path);
        const {
          files,
          folders
        } = this.plugin.getPluginState();

        _classPrivateFieldLooseBase(this, _updateFilesAndFolders)[_updateFilesAndFolders](response, files, folders);
      } catch (error) {
        this.handleError(error);
      } finally {
        this.isHandlingScroll = false;
      }
    }
  }

  async *recursivelyListAllFiles(path) {
    let curPath = path; // need to repeat the list call until there are no more pages

    while (curPath) {
      const res = await this.provider.list(curPath);

      for (const item of res.items) {
        if (item.isFolder) {
          // recursively call self for folder
          yield* this.recursivelyListAllFiles(item.requestPath);
        } else {
          yield item;
        }
      }

      curPath = res.nextPagePath;
    }
  }

  async donePicking() {
    this.setLoading(true);

    try {
      const {
        currentSelection
      } = this.plugin.getPluginState();
      const messages = [];
      const newFiles = []; // eslint-disable-next-line no-unreachable-loop

      for (const file of currentSelection) {
        if (file.isFolder) {
          const {
            requestPath,
            name
          } = file;
          let isEmpty = true;
          let numNewFiles = 0;

          for await (const fileInFolder of this.recursivelyListAllFiles(requestPath)) {
            const tagFile = this.getTagFile(fileInFolder);
            const id = (0,_uppy_utils_lib_generateFileID__WEBPACK_IMPORTED_MODULE_1__.getSafeFileId)(tagFile); // If the same folder is added again, we don't want to send
            // X amount of duplicate file notifications, we want to say
            // the folder was already added. This checks if all files are duplicate,
            // if that's the case, we don't add the files.

            if (!this.plugin.uppy.checkIfFileAlreadyExists(id)) {
              newFiles.push(fileInFolder);
              numNewFiles++;
            }

            isEmpty = false;
          }

          let message;

          if (isEmpty) {
            message = this.plugin.uppy.i18n('emptyFolderAdded');
          } else if (numNewFiles === 0) {
            message = this.plugin.uppy.i18n('folderAlreadyAdded', {
              folder: name
            });
          } else {
            message = this.plugin.uppy.i18n('folderAdded', {
              smart_count: numNewFiles,
              folder: name
            });
          }

          messages.push(message);
        } else {
          newFiles.push(file);
        }
      } // Note: this.plugin.uppy.addFiles must be only run once we are done fetching all files,
      // because it will cause the loading screen to disappear,
      // and that will allow the user to start the upload, so we need to make sure we have
      // finished all async operations before we add any file
      // see https://github.com/transloadit/uppy/pull/4384


      this.plugin.uppy.log('Adding remote provider files');
      this.plugin.uppy.addFiles(newFiles.map(file => this.getTagFile(file)));
      this.plugin.setPluginState({
        filterInput: ''
      });
      messages.forEach(message => this.plugin.uppy.info(message));
      this.clearSelection();
    } catch (err) {
      this.handleError(err);
    } finally {
      this.setLoading(false);
    }
  }

  render(state, viewOptions) {
    var _this = this;

    if (viewOptions === void 0) {
      viewOptions = {};
    }

    const {
      authenticated,
      didFirstRender
    } = this.plugin.getPluginState();
    const {
      i18n
    } = this.plugin.uppy;

    if (!didFirstRender) {
      this.preFirstRender();
    }

    const targetViewOptions = { ...this.opts,
      ...viewOptions
    };
    const {
      files,
      folders,
      filterInput,
      loading,
      currentSelection
    } = this.plugin.getPluginState();
    const {
      isChecked,
      toggleCheckbox,
      recordShiftKeyPress,
      filterItems
    } = this;
    const hasInput = filterInput !== '';
    const headerProps = {
      showBreadcrumbs: targetViewOptions.showBreadcrumbs,
      getFolder: this.getFolder,
      directories: this.plugin.getPluginState().directories,
      pluginIcon: this.plugin.icon,
      title: this.plugin.title,
      logout: this.logout,
      username: this.username,
      i18n
    };
    const browserProps = {
      isChecked,
      toggleCheckbox,
      recordShiftKeyPress,
      currentSelection,
      files: hasInput ? filterItems(files) : files,
      folders: hasInput ? filterItems(folders) : folders,
      username: this.username,
      getNextFolder: this.getNextFolder,
      getFolder: this.getFolder,
      // For SearchFilterInput component
      showSearchFilter: targetViewOptions.showFilter,
      search: this.filterQuery,
      clearSearch: this.clearFilter,
      searchTerm: filterInput,
      searchOnInput: true,
      searchInputLabel: i18n('filter'),
      clearSearchLabel: i18n('resetFilter'),
      noResultsLabel: i18n('noFilesFound'),
      logout: this.logout,
      handleScroll: this.handleScroll,
      done: this.donePicking,
      cancel: this.cancelPicking,
      headerComponent: (0,_Header_js__WEBPACK_IMPORTED_MODULE_3__["default"])(headerProps),
      title: this.plugin.title,
      viewType: targetViewOptions.viewType,
      showTitles: targetViewOptions.showTitles,
      showBreadcrumbs: targetViewOptions.showBreadcrumbs,
      pluginIcon: this.plugin.icon,
      i18n: this.plugin.uppy.i18n,
      uppyFiles: this.plugin.uppy.getFiles(),
      validateRestrictions: function () {
        return _this.plugin.uppy.validateRestrictions(...arguments);
      }
    };

    if (loading) {
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_CloseWrapper_js__WEBPACK_IMPORTED_MODULE_6__["default"], {
        onUnmount: this.clearSelection
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Loader_js__WEBPACK_IMPORTED_MODULE_5__["default"], {
        i18n: this.plugin.uppy.i18n
      }));
    }

    if (!authenticated) {
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_CloseWrapper_js__WEBPACK_IMPORTED_MODULE_6__["default"], {
        onUnmount: this.clearSelection
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_AuthView_js__WEBPACK_IMPORTED_MODULE_2__["default"], {
        pluginName: this.plugin.title,
        pluginIcon: this.plugin.icon,
        handleAuth: this.handleAuth,
        i18n: this.plugin.uppy.i18n,
        i18nArray: this.plugin.uppy.i18nArray
      }));
    }

    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_CloseWrapper_js__WEBPACK_IMPORTED_MODULE_6__["default"], {
      onUnmount: this.clearSelection
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Browser_js__WEBPACK_IMPORTED_MODULE_4__["default"], browserProps));
  }

}

function _updateFilesAndFolders2(res, files, folders) {
  this.nextPagePath = res.nextPagePath;
  res.items.forEach(item => {
    if (item.isFolder) {
      folders.push(item);
    } else {
      files.push(item);
    }
  });
  this.plugin.setPluginState({
    folders,
    files
  });
}

ProviderView.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/ProviderView/User.js":
/*!********************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/ProviderView/User.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_ref => {
  let {
    i18n,
    logout,
    username
  } = _ref;
  return [(0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
    className: "uppy-ProviderBrowser-user",
    key: "username"
  }, username), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    type: "button",
    onClick: logout,
    className: "uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",
    key: "logout"
  }, i18n('logOut'))];
});

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/ProviderView/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/ProviderView/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _ProviderView_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _ProviderView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ProviderView.js */ "./node_modules/@uppy/provider-views/lib/ProviderView/ProviderView.js");


/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/SearchFilterInput.js":
/*!********************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/SearchFilterInput.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchFilterInput)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var preact_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact/hooks */ "./node_modules/preact/hooks/dist/hooks.module.js");
/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! nanoid/non-secure */ "./node_modules/nanoid/non-secure/index.js");


 // import debounce from 'lodash.debounce'

function SearchFilterInput(props) {
  const {
    search,
    searchOnInput,
    searchTerm,
    showButton,
    inputLabel,
    clearSearchLabel,
    buttonLabel,
    clearSearch,
    inputClassName,
    buttonCSSClassName
  } = props;
  const [searchText, setSearchText] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useState)(searchTerm != null ? searchTerm : ''); // const debouncedSearch = debounce((q) => search(q), 1000)

  const validateAndSearch = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallback)(ev => {
    ev.preventDefault();
    search(searchText);
  }, [search, searchText]);
  const handleInput = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallback)(ev => {
    const inputValue = ev.target.value;
    setSearchText(inputValue);
    if (searchOnInput) search(inputValue);
  }, [setSearchText, searchOnInput, search]);

  const handleReset = () => {
    setSearchText('');
    if (clearSearch) clearSearch();
  };

  const [form] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useState)(() => {
    const formEl = document.createElement('form');
    formEl.setAttribute('tabindex', '-1');
    formEl.id = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_2__.nanoid)();
    return formEl;
  });
  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    document.body.appendChild(form);
    form.addEventListener('submit', validateAndSearch);
    return () => {
      form.removeEventListener('submit', validateAndSearch);
      document.body.removeChild(form);
    };
  }, [form, validateAndSearch]);
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("input", {
    className: `uppy-u-reset ${inputClassName}`,
    type: "search",
    "aria-label": inputLabel,
    placeholder: inputLabel,
    value: searchText,
    onInput: handleInput,
    form: form.id,
    "data-uppy-super-focusable": true
  }), !showButton && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    class: "uppy-c-icon uppy-ProviderBrowser-searchFilterIcon",
    width: "12",
    height: "12",
    viewBox: "0 0 12 12"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"
  })), !showButton && searchText && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-ProviderBrowser-searchFilterReset",
    type: "button",
    "aria-label": clearSearchLabel,
    title: clearSearchLabel,
    onClick: handleReset
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    viewBox: "0 0 19 19"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"
  }))), showButton && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: `uppy-u-reset uppy-c-btn uppy-c-btn-primary ${buttonCSSClassName}`,
    type: "submit",
    form: form.id
  }, buttonLabel));
}

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/SearchProviderView/SearchProviderView.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/SearchProviderView/SearchProviderView.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchProviderView)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _SearchFilterInput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../SearchFilterInput.js */ "./node_modules/@uppy/provider-views/lib/SearchFilterInput.js");
/* harmony import */ var _Browser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Browser.js */ "./node_modules/@uppy/provider-views/lib/Browser.js");
/* harmony import */ var _CloseWrapper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CloseWrapper.js */ "./node_modules/@uppy/provider-views/lib/CloseWrapper.js");
/* harmony import */ var _View_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../View.js */ "./node_modules/@uppy/provider-views/lib/View.js");
function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }






const packageJson = {
  "version": "3.2.0"
};
/**
 * SearchProviderView, used for Unsplash and future image search providers.
 * Extends generic View, shared with regular providers like Google Drive and Instagram.
 */

var _updateFilesAndInputMode = /*#__PURE__*/_classPrivateFieldLooseKey("updateFilesAndInputMode");

class SearchProviderView extends _View_js__WEBPACK_IMPORTED_MODULE_4__["default"] {
  /**
   * @param {object} plugin instance of the plugin
   * @param {object} opts
   */
  constructor(plugin, opts) {
    super(plugin, opts); // set default options

    Object.defineProperty(this, _updateFilesAndInputMode, {
      value: _updateFilesAndInputMode2
    });
    const defaultOptions = {
      viewType: 'grid',
      showTitles: false,
      showFilter: false,
      showBreadcrumbs: false
    }; // merge default options with the ones set by user

    this.opts = { ...defaultOptions,
      ...opts
    }; // Logic

    this.search = this.search.bind(this);
    this.clearSearch = this.clearSearch.bind(this);
    this.resetPluginState = this.resetPluginState.bind(this);
    this.handleScroll = this.handleScroll.bind(this);
    this.donePicking = this.donePicking.bind(this); // Visual

    this.render = this.render.bind(this);
    this.defaultState = {
      isInputMode: true,
      files: [],
      folders: [],
      directories: [],
      filterInput: '',
      currentSelection: [],
      searchTerm: null
    }; // Set default state for the plugin

    this.plugin.setPluginState(this.defaultState);
  } // eslint-disable-next-line class-methods-use-this


  tearDown() {// Nothing.
  }

  resetPluginState() {
    this.plugin.setPluginState(this.defaultState);
  }

  async search(query) {
    const {
      searchTerm
    } = this.plugin.getPluginState();

    if (query && query === searchTerm) {
      // no need to search again as this is the same as the previous search
      return;
    }

    this.setLoading(true);

    try {
      const res = await this.provider.search(query);

      _classPrivateFieldLooseBase(this, _updateFilesAndInputMode)[_updateFilesAndInputMode](res, []);
    } catch (err) {
      this.handleError(err);
    } finally {
      this.setLoading(false);
    }
  }

  clearSearch() {
    this.plugin.setPluginState({
      currentSelection: [],
      files: [],
      searchTerm: null
    });
  }

  async handleScroll(event) {
    const query = this.nextPageQuery || null;

    if (this.shouldHandleScroll(event) && query) {
      this.isHandlingScroll = true;

      try {
        const {
          files,
          searchTerm
        } = this.plugin.getPluginState();
        const response = await this.provider.search(searchTerm, query);

        _classPrivateFieldLooseBase(this, _updateFilesAndInputMode)[_updateFilesAndInputMode](response, files);
      } catch (error) {
        this.handleError(error);
      } finally {
        this.isHandlingScroll = false;
      }
    }
  }

  donePicking() {
    const {
      currentSelection
    } = this.plugin.getPluginState();
    this.plugin.uppy.log('Adding remote search provider files');
    this.plugin.uppy.addFiles(currentSelection.map(file => this.getTagFile(file)));
    this.resetPluginState();
  }

  render(state, viewOptions) {
    var _this = this;

    if (viewOptions === void 0) {
      viewOptions = {};
    }

    const {
      didFirstRender,
      isInputMode,
      searchTerm
    } = this.plugin.getPluginState();
    const {
      i18n
    } = this.plugin.uppy;

    if (!didFirstRender) {
      this.preFirstRender();
    }

    const targetViewOptions = { ...this.opts,
      ...viewOptions
    };
    const {
      files,
      folders,
      filterInput,
      loading,
      currentSelection
    } = this.plugin.getPluginState();
    const {
      isChecked,
      toggleCheckbox,
      filterItems
    } = this;
    const hasInput = filterInput !== '';
    const browserProps = {
      isChecked,
      toggleCheckbox,
      currentSelection,
      files: hasInput ? filterItems(files) : files,
      folders: hasInput ? filterItems(folders) : folders,
      handleScroll: this.handleScroll,
      done: this.donePicking,
      cancel: this.cancelPicking,
      // For SearchFilterInput component
      showSearchFilter: targetViewOptions.showFilter,
      search: this.search,
      clearSearch: this.clearSearch,
      searchTerm,
      searchOnInput: false,
      searchInputLabel: i18n('search'),
      clearSearchLabel: i18n('resetSearch'),
      noResultsLabel: i18n('noSearchResults'),
      title: this.plugin.title,
      viewType: targetViewOptions.viewType,
      showTitles: targetViewOptions.showTitles,
      showFilter: targetViewOptions.showFilter,
      isLoading: loading,
      showBreadcrumbs: targetViewOptions.showBreadcrumbs,
      pluginIcon: this.plugin.icon,
      i18n,
      uppyFiles: this.plugin.uppy.getFiles(),
      validateRestrictions: function () {
        return _this.plugin.uppy.validateRestrictions(...arguments);
      }
    };

    if (isInputMode) {
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_CloseWrapper_js__WEBPACK_IMPORTED_MODULE_3__["default"], {
        onUnmount: this.resetPluginState
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        className: "uppy-SearchProvider"
      }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_SearchFilterInput_js__WEBPACK_IMPORTED_MODULE_1__["default"], {
        search: this.search,
        clearSelection: this.clearSelection,
        inputLabel: i18n('enterTextToSearch'),
        buttonLabel: i18n('searchImages'),
        inputClassName: "uppy-c-textInput uppy-SearchProvider-input",
        buttonCSSClassName: "uppy-SearchProvider-searchButton",
        showButton: true
      })));
    }

    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_CloseWrapper_js__WEBPACK_IMPORTED_MODULE_3__["default"], {
      onUnmount: this.resetPluginState
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Browser_js__WEBPACK_IMPORTED_MODULE_2__["default"], browserProps));
  }

}

function _updateFilesAndInputMode2(res, files) {
  this.nextPageQuery = res.nextPageQuery;
  res.items.forEach(item => {
    files.push(item);
  });
  this.plugin.setPluginState({
    currentSelection: [],
    isInputMode: false,
    files,
    searchTerm: res.searchedFor
  });
}

SearchProviderView.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/SearchProviderView/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/SearchProviderView/index.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _SearchProviderView_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _SearchProviderView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SearchProviderView.js */ "./node_modules/@uppy/provider-views/lib/SearchProviderView/SearchProviderView.js");


/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/View.js":
/*!*******************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/View.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ View)
/* harmony export */ });
/* harmony import */ var _uppy_utils_lib_getFileType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/utils/lib/getFileType */ "./node_modules/@uppy/utils/lib/getFileType.js");
/* harmony import */ var _uppy_utils_lib_isPreviewSupported__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/utils/lib/isPreviewSupported */ "./node_modules/@uppy/utils/lib/isPreviewSupported.js");
/* harmony import */ var _uppy_utils_lib_remoteFileObjToLocal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/utils/lib/remoteFileObjToLocal */ "./node_modules/@uppy/utils/lib/remoteFileObjToLocal.js");



class View {
  constructor(plugin, opts) {
    this.filterItems = items => {
      const state = this.plugin.getPluginState();

      if (!state.filterInput || state.filterInput === '') {
        return items;
      }

      return items.filter(folder => {
        return folder.name.toLowerCase().indexOf(state.filterInput.toLowerCase()) !== -1;
      });
    };

    this.recordShiftKeyPress = e => {
      this.isShiftKeyPressed = e.shiftKey;
    };

    this.toggleCheckbox = (e, file) => {
      e.stopPropagation();
      e.preventDefault();
      e.currentTarget.focus();
      const {
        folders,
        files
      } = this.plugin.getPluginState();
      const items = this.filterItems(folders.concat(files)); // Shift-clicking selects a single consecutive list of items
      // starting at the previous click and deselects everything else.

      if (this.lastCheckbox && this.isShiftKeyPressed) {
        const prevIndex = items.indexOf(this.lastCheckbox);
        const currentIndex = items.indexOf(file);
        const currentSelection = prevIndex < currentIndex ? items.slice(prevIndex, currentIndex + 1) : items.slice(currentIndex, prevIndex + 1);
        const reducedCurrentSelection = []; // Check restrictions on each file in currentSelection,
        // reduce it to only contain files that pass restrictions

        for (const item of currentSelection) {
          const {
            uppy
          } = this.plugin;
          const restrictionError = uppy.validateRestrictions((0,_uppy_utils_lib_remoteFileObjToLocal__WEBPACK_IMPORTED_MODULE_2__["default"])(item), [...uppy.getFiles(), ...reducedCurrentSelection]);

          if (!restrictionError) {
            reducedCurrentSelection.push(item);
          } else {
            uppy.info({
              message: restrictionError.message
            }, 'error', uppy.opts.infoTimeout);
          }
        }

        this.plugin.setPluginState({
          currentSelection: reducedCurrentSelection
        });
        return;
      }

      this.lastCheckbox = file;
      const {
        currentSelection
      } = this.plugin.getPluginState();

      if (this.isChecked(file)) {
        this.plugin.setPluginState({
          currentSelection: currentSelection.filter(item => item.id !== file.id)
        });
      } else {
        this.plugin.setPluginState({
          currentSelection: currentSelection.concat([file])
        });
      }
    };

    this.isChecked = file => {
      const {
        currentSelection
      } = this.plugin.getPluginState(); // comparing id instead of the file object, because the reference to the object
      // changes when we switch folders, and the file list is updated

      return currentSelection.some(item => item.id === file.id);
    };

    this.plugin = plugin;
    this.provider = opts.provider;
    this.isHandlingScroll = false;
    this.preFirstRender = this.preFirstRender.bind(this);
    this.handleError = this.handleError.bind(this);
    this.clearSelection = this.clearSelection.bind(this);
    this.cancelPicking = this.cancelPicking.bind(this);
  }

  preFirstRender() {
    this.plugin.setPluginState({
      didFirstRender: true
    });
    this.plugin.onFirstRender();
  } // eslint-disable-next-line class-methods-use-this


  shouldHandleScroll(event) {
    const {
      scrollHeight,
      scrollTop,
      offsetHeight
    } = event.target;
    const scrollPosition = scrollHeight - (scrollTop + offsetHeight);
    return scrollPosition < 50 && !this.isHandlingScroll;
  }

  clearSelection() {
    this.plugin.setPluginState({
      currentSelection: [],
      filterInput: ''
    });
  }

  cancelPicking() {
    this.clearSelection();
    const dashboard = this.plugin.uppy.getPlugin('Dashboard');

    if (dashboard) {
      dashboard.hideAllPanels();
    }
  }

  handleError(error) {
    const {
      uppy
    } = this.plugin;
    const message = uppy.i18n('companionError');
    uppy.log(error.toString());

    if (error.isAuthError) {
      return;
    }

    uppy.info({
      message,
      details: error.toString()
    }, 'error', 5000);
  } // todo document what is a "tagFile" or get rid of this concept


  getTagFile(file) {
    const tagFile = {
      id: file.id,
      source: this.plugin.id,
      data: file,
      name: file.name || file.id,
      type: file.mimeType,
      isRemote: true,
      meta: {},
      body: {
        fileId: file.id
      },
      remote: {
        companionUrl: this.plugin.opts.companionUrl,
        url: `${this.provider.fileUrl(file.requestPath)}`,
        body: {
          fileId: file.id
        },
        providerOptions: this.provider.opts,
        providerName: this.provider.name,
        provider: this.provider.provider
      }
    };
    const fileType = (0,_uppy_utils_lib_getFileType__WEBPACK_IMPORTED_MODULE_0__["default"])(tagFile); // TODO Should we just always use the thumbnail URL if it exists?

    if (fileType && (0,_uppy_utils_lib_isPreviewSupported__WEBPACK_IMPORTED_MODULE_1__["default"])(fileType)) {
      tagFile.preview = file.thumbnail;
    }

    if (file.author) {
      if (file.author.name != null) tagFile.meta.authorName = String(file.author.name);
      if (file.author.url) tagFile.meta.authorUrl = file.author.url;
    }

    return tagFile;
  }

  setLoading(loading) {
    this.plugin.setPluginState({
      loading
    });
  }

}

/***/ }),

/***/ "./node_modules/@uppy/provider-views/lib/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@uppy/provider-views/lib/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProviderViews": () => (/* reexport safe */ _ProviderView_index_js__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "SearchProviderViews": () => (/* reexport safe */ _SearchProviderView_index_js__WEBPACK_IMPORTED_MODULE_1__["default"])
/* harmony export */ });
/* harmony import */ var _ProviderView_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ProviderView/index.js */ "./node_modules/@uppy/provider-views/lib/ProviderView/index.js");
/* harmony import */ var _SearchProviderView_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SearchProviderView/index.js */ "./node_modules/@uppy/provider-views/lib/SearchProviderView/index.js");



/***/ }),

/***/ "./node_modules/@uppy/status-bar/lib/Components.js":
/*!*********************************************************!*\
  !*** ./node_modules/@uppy/status-bar/lib/Components.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CancelBtn": () => (/* binding */ CancelBtn),
/* harmony export */   "DoneBtn": () => (/* binding */ DoneBtn),
/* harmony export */   "LoadingSpinner": () => (/* binding */ LoadingSpinner),
/* harmony export */   "PauseResumeButton": () => (/* binding */ PauseResumeButton),
/* harmony export */   "ProgressBarComplete": () => (/* binding */ ProgressBarComplete),
/* harmony export */   "ProgressBarError": () => (/* binding */ ProgressBarError),
/* harmony export */   "ProgressBarProcessing": () => (/* binding */ ProgressBarProcessing),
/* harmony export */   "ProgressBarUploading": () => (/* binding */ ProgressBarUploading),
/* harmony export */   "ProgressDetails": () => (/* binding */ ProgressDetails),
/* harmony export */   "RetryBtn": () => (/* binding */ RetryBtn),
/* harmony export */   "UploadBtn": () => (/* binding */ UploadBtn)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash.throttle */ "./node_modules/lodash.throttle/index.js");
/* harmony import */ var _transloadit_prettier_bytes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @transloadit/prettier-bytes */ "./node_modules/@transloadit/prettier-bytes/prettierBytes.js");
/* harmony import */ var _uppy_utils_lib_prettyETA__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @uppy/utils/lib/prettyETA */ "./node_modules/@uppy/utils/lib/prettyETA.js");
/* harmony import */ var _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StatusBarStates.js */ "./node_modules/@uppy/status-bar/lib/StatusBarStates.js");






const DOT = `\u00B7`;

const renderDot = () => ` ${DOT} `;

function UploadBtn(props) {
  const {
    newFiles,
    isUploadStarted,
    recoveredState,
    i18n,
    uploadState,
    isSomeGhost,
    startUpload
  } = props;
  const uploadBtnClassNames = classnames__WEBPACK_IMPORTED_MODULE_1__('uppy-u-reset', 'uppy-c-btn', 'uppy-StatusBar-actionBtn', 'uppy-StatusBar-actionBtn--upload', {
    'uppy-c-btn-primary': uploadState === _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_5__["default"].STATE_WAITING
  }, {
    'uppy-StatusBar-actionBtn--disabled': isSomeGhost
  });
  const uploadBtnText = newFiles && isUploadStarted && !recoveredState ? i18n('uploadXNewFiles', {
    smart_count: newFiles
  }) : i18n('uploadXFiles', {
    smart_count: newFiles
  });
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    type: "button",
    className: uploadBtnClassNames,
    "aria-label": i18n('uploadXFiles', {
      smart_count: newFiles
    }),
    onClick: startUpload,
    disabled: isSomeGhost,
    "data-uppy-super-focusable": true
  }, uploadBtnText);
}

function RetryBtn(props) {
  const {
    i18n,
    uppy
  } = props;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    type: "button",
    className: "uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry",
    "aria-label": i18n('retryUpload'),
    onClick: () => uppy.retryAll(),
    "data-uppy-super-focusable": true
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    width: "8",
    height: "10",
    viewBox: "0 0 8 10"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"
  })), i18n('retry'));
}

function CancelBtn(props) {
  const {
    i18n,
    uppy
  } = props;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    type: "button",
    className: "uppy-u-reset uppy-StatusBar-actionCircleBtn",
    title: i18n('cancel'),
    "aria-label": i18n('cancel'),
    onClick: () => uppy.cancelAll(),
    "data-cy": "cancel",
    "data-uppy-super-focusable": true
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    width: "16",
    height: "16",
    viewBox: "0 0 16 16"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
    fill: "none",
    fillRule: "evenodd"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("circle", {
    fill: "#888",
    cx: "8",
    cy: "8",
    r: "8"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    fill: "#FFF",
    d: "M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"
  }))));
}

function PauseResumeButton(props) {
  const {
    isAllPaused,
    i18n,
    isAllComplete,
    resumableUploads,
    uppy
  } = props;
  const title = isAllPaused ? i18n('resume') : i18n('pause');

  function togglePauseResume() {
    if (isAllComplete) return null;

    if (!resumableUploads) {
      return uppy.cancelAll();
    }

    if (isAllPaused) {
      return uppy.resumeAll();
    }

    return uppy.pauseAll();
  }

  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    title: title,
    "aria-label": title,
    className: "uppy-u-reset uppy-StatusBar-actionCircleBtn",
    type: "button",
    onClick: togglePauseResume,
    "data-uppy-super-focusable": true
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    width: "16",
    height: "16",
    viewBox: "0 0 16 16"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
    fill: "none",
    fillRule: "evenodd"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("circle", {
    fill: "#888",
    cx: "8",
    cy: "8",
    r: "8"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    fill: "#FFF",
    d: isAllPaused ? 'M6 4.25L11.5 8 6 11.75z' : 'M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z'
  }))));
}

function DoneBtn(props) {
  const {
    i18n,
    doneButtonHandler
  } = props;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    type: "button",
    className: "uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",
    onClick: doneButtonHandler,
    "data-uppy-super-focusable": true
  }, i18n('done'));
}

function LoadingSpinner() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    className: "uppy-StatusBar-spinner",
    "aria-hidden": "true",
    focusable: "false",
    width: "14",
    height: "14"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",
    fillRule: "evenodd"
  }));
}

function ProgressBarProcessing(props) {
  const {
    progress
  } = props;
  const {
    value,
    mode,
    message
  } = progress;
  const roundedValue = Math.round(value * 100);
  const dot = `\u00B7`;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-content"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(LoadingSpinner, null), mode === 'determinate' ? `${roundedValue}% ${dot} ` : '', message);
}

function ProgressDetails(props) {
  const {
    numUploads,
    complete,
    totalUploadedSize,
    totalSize,
    totalETA,
    i18n
  } = props;
  const ifShowFilesUploadedOfTotal = numUploads > 1;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-statusSecondary"
  }, ifShowFilesUploadedOfTotal && i18n('filesUploadedOfTotal', {
    complete,
    smart_count: numUploads
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
    className: "uppy-StatusBar-additionalInfo"
  }, ifShowFilesUploadedOfTotal && renderDot(), i18n('dataUploadedOfTotal', {
    complete: _transloadit_prettier_bytes__WEBPACK_IMPORTED_MODULE_3__(totalUploadedSize),
    total: _transloadit_prettier_bytes__WEBPACK_IMPORTED_MODULE_3__(totalSize)
  }), renderDot(), i18n('xTimeLeft', {
    time: (0,_uppy_utils_lib_prettyETA__WEBPACK_IMPORTED_MODULE_4__["default"])(totalETA)
  })));
}

function FileUploadCount(props) {
  const {
    i18n,
    complete,
    numUploads
  } = props;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-statusSecondary"
  }, i18n('filesUploadedOfTotal', {
    complete,
    smart_count: numUploads
  }));
}

function UploadNewlyAddedFiles(props) {
  const {
    i18n,
    newFiles,
    startUpload
  } = props;
  const uploadBtnClassNames = classnames__WEBPACK_IMPORTED_MODULE_1__('uppy-u-reset', 'uppy-c-btn', 'uppy-StatusBar-actionBtn', 'uppy-StatusBar-actionBtn--uploadNewlyAdded');
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-statusSecondary"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-statusSecondaryHint"
  }, i18n('xMoreFilesAdded', {
    smart_count: newFiles
  })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    type: "button",
    className: uploadBtnClassNames,
    "aria-label": i18n('uploadXFiles', {
      smart_count: newFiles
    }),
    onClick: startUpload
  }, i18n('upload')));
}

const ThrottledProgressDetails = lodash_throttle__WEBPACK_IMPORTED_MODULE_2__(ProgressDetails, 500, {
  leading: true,
  trailing: true
});

function ProgressBarUploading(props) {
  const {
    i18n,
    supportsUploadProgress,
    totalProgress,
    showProgressDetails,
    isUploadStarted,
    isAllComplete,
    isAllPaused,
    newFiles,
    numUploads,
    complete,
    totalUploadedSize,
    totalSize,
    totalETA,
    startUpload
  } = props;
  const showUploadNewlyAddedFiles = newFiles && isUploadStarted;

  if (!isUploadStarted || isAllComplete) {
    return null;
  }

  const title = isAllPaused ? i18n('paused') : i18n('uploading');

  function renderProgressDetails() {
    if (!isAllPaused && !showUploadNewlyAddedFiles && showProgressDetails) {
      if (supportsUploadProgress) {
        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(ThrottledProgressDetails, {
          numUploads: numUploads,
          complete: complete,
          totalUploadedSize: totalUploadedSize,
          totalSize: totalSize,
          totalETA: totalETA,
          i18n: i18n
        });
      }

      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(FileUploadCount, {
        i18n: i18n,
        complete: complete,
        numUploads: numUploads
      });
    }

    return null;
  }

  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-content",
    "aria-label": title,
    title: title
  }, !isAllPaused ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(LoadingSpinner, null) : null, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-status"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-statusPrimary"
  }, supportsUploadProgress ? `${title}: ${totalProgress}%` : title), renderProgressDetails(), showUploadNewlyAddedFiles ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(UploadNewlyAddedFiles, {
    i18n: i18n,
    newFiles: newFiles,
    startUpload: startUpload
  }) : null));
}

function ProgressBarComplete(props) {
  const {
    i18n
  } = props;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-content",
    role: "status",
    title: i18n('complete')
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-status"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-statusPrimary"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-StatusBar-statusIndicator uppy-c-icon",
    width: "15",
    height: "11",
    viewBox: "0 0 15 11"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"
  })), i18n('complete'))));
}

function ProgressBarError(props) {
  const {
    error,
    i18n,
    complete,
    numUploads
  } = props;

  function displayErrorAlert() {
    const errorMessage = `${i18n('uploadFailed')} \n\n ${error}`; // eslint-disable-next-line no-alert

    alert(errorMessage); // TODO: move to custom alert implementation
  }

  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-content",
    title: i18n('uploadFailed')
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-StatusBar-statusIndicator uppy-c-icon",
    width: "11",
    height: "11",
    viewBox: "0 0 11 11"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"
  })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-status"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-statusPrimary"
  }, i18n('uploadFailed'), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-StatusBar-details",
    "aria-label": i18n('showErrorDetails'),
    "data-microtip-position": "top-right",
    "data-microtip-size": "medium",
    onClick: displayErrorAlert,
    type: "button"
  }, "?")), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(FileUploadCount, {
    i18n: i18n,
    complete: complete,
    numUploads: numUploads
  })));
}



/***/ }),

/***/ "./node_modules/@uppy/status-bar/lib/StatusBar.js":
/*!********************************************************!*\
  !*** ./node_modules/@uppy/status-bar/lib/StatusBar.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ StatusBar)
/* harmony export */ });
/* harmony import */ var _uppy_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/core */ "./node_modules/@uppy/core/lib/index.js");
/* harmony import */ var _uppy_utils_lib_getSpeed__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/utils/lib/getSpeed */ "./node_modules/@uppy/utils/lib/getSpeed.js");
/* harmony import */ var _uppy_utils_lib_getBytesRemaining__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/utils/lib/getBytesRemaining */ "./node_modules/@uppy/utils/lib/getBytesRemaining.js");
/* harmony import */ var _uppy_utils_lib_getTextDirection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uppy/utils/lib/getTextDirection */ "./node_modules/@uppy/utils/lib/getTextDirection.js");
/* harmony import */ var _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StatusBarStates.js */ "./node_modules/@uppy/status-bar/lib/StatusBarStates.js");
/* harmony import */ var _StatusBarUI_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StatusBarUI.js */ "./node_modules/@uppy/status-bar/lib/StatusBarUI.js");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@uppy/status-bar/lib/locale.js");






const packageJson = {
  "version": "3.1.0"
};


function getTotalSpeed(files) {
  let totalSpeed = 0;
  files.forEach(file => {
    totalSpeed += (0,_uppy_utils_lib_getSpeed__WEBPACK_IMPORTED_MODULE_1__["default"])(file.progress);
  });
  return totalSpeed;
}

function getTotalETA(files) {
  const totalSpeed = getTotalSpeed(files);

  if (totalSpeed === 0) {
    return 0;
  }

  const totalBytesRemaining = files.reduce((total, file) => {
    return total + (0,_uppy_utils_lib_getBytesRemaining__WEBPACK_IMPORTED_MODULE_2__["default"])(file.progress);
  }, 0);
  return Math.round(totalBytesRemaining / totalSpeed * 10) / 10;
}

function getUploadingState(error, isAllComplete, recoveredState, files) {
  if (error) {
    return _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_4__["default"].STATE_ERROR;
  }

  if (isAllComplete) {
    return _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_4__["default"].STATE_COMPLETE;
  }

  if (recoveredState) {
    return _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_4__["default"].STATE_WAITING;
  }

  let state = _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_4__["default"].STATE_WAITING;
  const fileIDs = Object.keys(files);

  for (let i = 0; i < fileIDs.length; i++) {
    const {
      progress
    } = files[fileIDs[i]]; // If ANY files are being uploaded right now, show the uploading state.

    if (progress.uploadStarted && !progress.uploadComplete) {
      return _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_4__["default"].STATE_UPLOADING;
    } // If files are being preprocessed AND postprocessed at this time, we show the
    // preprocess state. If any files are being uploaded we show uploading.


    if (progress.preprocess && state !== _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_4__["default"].STATE_UPLOADING) {
      state = _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_4__["default"].STATE_PREPROCESSING;
    } // If NO files are being preprocessed or uploaded right now, but some files are
    // being postprocessed, show the postprocess state.


    if (progress.postprocess && state !== _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_4__["default"].STATE_UPLOADING && state !== _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_4__["default"].STATE_PREPROCESSING) {
      state = _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_4__["default"].STATE_POSTPROCESSING;
    }
  }

  return state;
}
/**
 * StatusBar: renders a status bar with upload/pause/resume/cancel/retry buttons,
 * progress percentage and time remaining.
 */


class StatusBar extends _uppy_core__WEBPACK_IMPORTED_MODULE_0__.UIPlugin {
  constructor(uppy, opts) {
    super(uppy, opts);

    this.startUpload = () => {
      const {
        recoveredState
      } = this.uppy.getState();

      if (recoveredState) {
        this.uppy.emit('restore-confirmed');
        return undefined;
      }

      return this.uppy.upload().catch(() => {// Error logged in Core
      });
    };

    this.id = this.opts.id || 'StatusBar';
    this.title = 'StatusBar';
    this.type = 'progressindicator';
    this.defaultLocale = _locale_js__WEBPACK_IMPORTED_MODULE_6__["default"]; // set default options, must be kept in sync with @uppy/react/src/StatusBar.js

    const defaultOptions = {
      target: 'body',
      hideUploadButton: false,
      hideRetryButton: false,
      hidePauseResumeButton: false,
      hideCancelButton: false,
      showProgressDetails: false,
      hideAfterFinish: true,
      doneButtonHandler: null
    };
    this.opts = { ...defaultOptions,
      ...opts
    };
    this.i18nInit();
    this.render = this.render.bind(this);
    this.install = this.install.bind(this);
  }

  render(state) {
    const {
      capabilities,
      files,
      allowNewUpload,
      totalProgress,
      error,
      recoveredState
    } = state;
    const {
      newFiles,
      startedFiles,
      completeFiles,
      inProgressNotPausedFiles,
      isUploadStarted,
      isAllComplete,
      isAllErrored,
      isAllPaused,
      isUploadInProgress,
      isSomeGhost
    } = this.uppy.getObjectOfFilesPerState(); // If some state was recovered, we want to show Upload button/counter
    // for all the files, because in this case it’s not an Upload button,
    // but “Confirm Restore Button”

    const newFilesOrRecovered = recoveredState ? Object.values(files) : newFiles;
    const totalETA = getTotalETA(inProgressNotPausedFiles);
    const resumableUploads = !!capabilities.resumableUploads;
    const supportsUploadProgress = capabilities.uploadProgress !== false;
    let totalSize = 0;
    let totalUploadedSize = 0;
    startedFiles.forEach(file => {
      totalSize += file.progress.bytesTotal || 0;
      totalUploadedSize += file.progress.bytesUploaded || 0;
    });
    return (0,_StatusBarUI_js__WEBPACK_IMPORTED_MODULE_5__["default"])({
      error,
      uploadState: getUploadingState(error, isAllComplete, recoveredState, state.files || {}),
      allowNewUpload,
      totalProgress,
      totalSize,
      totalUploadedSize,
      isAllComplete: false,
      isAllPaused,
      isAllErrored,
      isUploadStarted,
      isUploadInProgress,
      isSomeGhost,
      recoveredState,
      complete: completeFiles.length,
      newFiles: newFilesOrRecovered.length,
      numUploads: startedFiles.length,
      totalETA,
      files,
      i18n: this.i18n,
      uppy: this.uppy,
      startUpload: this.startUpload,
      doneButtonHandler: this.opts.doneButtonHandler,
      resumableUploads,
      supportsUploadProgress,
      showProgressDetails: this.opts.showProgressDetails,
      hideUploadButton: this.opts.hideUploadButton,
      hideRetryButton: this.opts.hideRetryButton,
      hidePauseResumeButton: this.opts.hidePauseResumeButton,
      hideCancelButton: this.opts.hideCancelButton,
      hideAfterFinish: this.opts.hideAfterFinish,
      isTargetDOMEl: this.isTargetDOMEl
    });
  }

  onMount() {
    // Set the text direction if the page has not defined one.
    const element = this.el;
    const direction = (0,_uppy_utils_lib_getTextDirection__WEBPACK_IMPORTED_MODULE_3__["default"])(element);

    if (!direction) {
      element.dir = 'ltr';
    }
  }

  install() {
    const {
      target
    } = this.opts;

    if (target) {
      this.mount(target, this);
    }
  }

  uninstall() {
    this.unmount();
  }

}
StatusBar.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/status-bar/lib/StatusBarStates.js":
/*!**************************************************************!*\
  !*** ./node_modules/@uppy/status-bar/lib/StatusBarStates.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  STATE_ERROR: 'error',
  STATE_WAITING: 'waiting',
  STATE_PREPROCESSING: 'preprocessing',
  STATE_UPLOADING: 'uploading',
  STATE_POSTPROCESSING: 'postprocessing',
  STATE_COMPLETE: 'complete'
});

/***/ }),

/***/ "./node_modules/@uppy/status-bar/lib/StatusBarUI.js":
/*!**********************************************************!*\
  !*** ./node_modules/@uppy/status-bar/lib/StatusBarUI.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ StatusBar)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StatusBarStates.js */ "./node_modules/@uppy/status-bar/lib/StatusBarStates.js");
/* harmony import */ var _calculateProcessingProgress_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./calculateProcessingProgress.js */ "./node_modules/@uppy/status-bar/lib/calculateProcessingProgress.js");
/* harmony import */ var _Components_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Components.js */ "./node_modules/@uppy/status-bar/lib/Components.js");





const {
  STATE_ERROR,
  STATE_WAITING,
  STATE_PREPROCESSING,
  STATE_UPLOADING,
  STATE_POSTPROCESSING,
  STATE_COMPLETE
} = _StatusBarStates_js__WEBPACK_IMPORTED_MODULE_2__["default"]; // TODO: rename the function to StatusBarUI on the next major.

function StatusBar(props) {
  const {
    newFiles,
    allowNewUpload,
    isUploadInProgress,
    isAllPaused,
    resumableUploads,
    error,
    hideUploadButton,
    hidePauseResumeButton,
    hideCancelButton,
    hideRetryButton,
    recoveredState,
    uploadState,
    totalProgress,
    files,
    supportsUploadProgress,
    hideAfterFinish,
    isSomeGhost,
    doneButtonHandler,
    isUploadStarted,
    i18n,
    startUpload,
    uppy,
    isAllComplete,
    showProgressDetails,
    numUploads,
    complete,
    totalSize,
    totalETA,
    totalUploadedSize
  } = props;

  function getProgressValue() {
    switch (uploadState) {
      case STATE_POSTPROCESSING:
      case STATE_PREPROCESSING:
        {
          const progress = (0,_calculateProcessingProgress_js__WEBPACK_IMPORTED_MODULE_3__["default"])(files);

          if (progress.mode === 'determinate') {
            return progress.value * 100;
          }

          return totalProgress;
        }

      case STATE_ERROR:
        {
          return null;
        }

      case STATE_UPLOADING:
        {
          if (!supportsUploadProgress) {
            return null;
          }

          return totalProgress;
        }

      default:
        return totalProgress;
    }
  }

  function getIsIndeterminate() {
    switch (uploadState) {
      case STATE_POSTPROCESSING:
      case STATE_PREPROCESSING:
        {
          const {
            mode
          } = (0,_calculateProcessingProgress_js__WEBPACK_IMPORTED_MODULE_3__["default"])(files);
          return mode === 'indeterminate';
        }

      case STATE_UPLOADING:
        {
          if (!supportsUploadProgress) {
            return true;
          }

          return false;
        }

      default:
        return false;
    }
  }

  function getIsHidden() {
    if (recoveredState) {
      return false;
    }

    switch (uploadState) {
      case STATE_WAITING:
        return hideUploadButton || newFiles === 0;

      case STATE_COMPLETE:
        return hideAfterFinish;

      default:
        return false;
    }
  }

  const progressValue = getProgressValue();
  const isHidden = getIsHidden();
  const width = progressValue != null ? progressValue : 100;
  const showUploadBtn = !error && newFiles && !isUploadInProgress && !isAllPaused && allowNewUpload && !hideUploadButton;
  const showCancelBtn = !hideCancelButton && uploadState !== STATE_WAITING && uploadState !== STATE_COMPLETE;
  const showPauseResumeBtn = resumableUploads && !hidePauseResumeButton && uploadState === STATE_UPLOADING;
  const showRetryBtn = error && !isAllComplete && !hideRetryButton;
  const showDoneBtn = doneButtonHandler && uploadState === STATE_COMPLETE;
  const progressClassNames = classnames__WEBPACK_IMPORTED_MODULE_1__('uppy-StatusBar-progress', {
    'is-indeterminate': getIsIndeterminate()
  });
  const statusBarClassNames = classnames__WEBPACK_IMPORTED_MODULE_1__('uppy-StatusBar', `is-${uploadState}`, {
    'has-ghosts': isSomeGhost
  });
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: statusBarClassNames,
    "aria-hidden": isHidden
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: progressClassNames,
    style: {
      width: `${width}%`
    },
    role: "progressbar",
    "aria-label": `${width}%`,
    "aria-valuetext": `${width}%`,
    "aria-valuemin": "0",
    "aria-valuemax": "100",
    "aria-valuenow": progressValue
  }), (() => {
    switch (uploadState) {
      case STATE_PREPROCESSING:
      case STATE_POSTPROCESSING:
        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Components_js__WEBPACK_IMPORTED_MODULE_4__.ProgressBarProcessing, {
          progress: (0,_calculateProcessingProgress_js__WEBPACK_IMPORTED_MODULE_3__["default"])(files)
        });

      case STATE_COMPLETE:
        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Components_js__WEBPACK_IMPORTED_MODULE_4__.ProgressBarComplete, {
          i18n: i18n
        });

      case STATE_ERROR:
        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Components_js__WEBPACK_IMPORTED_MODULE_4__.ProgressBarError, {
          error: error,
          i18n: i18n,
          numUploads: numUploads,
          complete: complete
        });

      case STATE_UPLOADING:
        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Components_js__WEBPACK_IMPORTED_MODULE_4__.ProgressBarUploading, {
          i18n: i18n,
          supportsUploadProgress: supportsUploadProgress,
          totalProgress: totalProgress,
          showProgressDetails: showProgressDetails,
          isUploadStarted: isUploadStarted,
          isAllComplete: isAllComplete,
          isAllPaused: isAllPaused,
          newFiles: newFiles,
          numUploads: numUploads,
          complete: complete,
          totalUploadedSize: totalUploadedSize,
          totalSize: totalSize,
          totalETA: totalETA,
          startUpload: startUpload
        });

      default:
        return null;
    }
  })(), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-StatusBar-actions"
  }, recoveredState || showUploadBtn ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Components_js__WEBPACK_IMPORTED_MODULE_4__.UploadBtn, {
    newFiles: newFiles,
    isUploadStarted: isUploadStarted,
    recoveredState: recoveredState,
    i18n: i18n,
    isSomeGhost: isSomeGhost,
    startUpload: startUpload,
    uploadState: uploadState
  }) : null, showRetryBtn ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Components_js__WEBPACK_IMPORTED_MODULE_4__.RetryBtn, {
    i18n: i18n,
    uppy: uppy
  }) : null, showPauseResumeBtn ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Components_js__WEBPACK_IMPORTED_MODULE_4__.PauseResumeButton, {
    isAllPaused: isAllPaused,
    i18n: i18n,
    isAllComplete: isAllComplete,
    resumableUploads: resumableUploads,
    uppy: uppy
  }) : null, showCancelBtn ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Components_js__WEBPACK_IMPORTED_MODULE_4__.CancelBtn, {
    i18n: i18n,
    uppy: uppy
  }) : null, showDoneBtn ? (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Components_js__WEBPACK_IMPORTED_MODULE_4__.DoneBtn, {
    i18n: i18n,
    doneButtonHandler: doneButtonHandler
  }) : null));
}

/***/ }),

/***/ "./node_modules/@uppy/status-bar/lib/calculateProcessingProgress.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@uppy/status-bar/lib/calculateProcessingProgress.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ calculateProcessingProgress)
/* harmony export */ });
function calculateProcessingProgress(files) {
  const values = [];
  let mode;
  let message;

  for (const {
    progress
  } of Object.values(files)) {
    const {
      preprocess,
      postprocess
    } = progress; // In the future we should probably do this differently. For now we'll take the
    // mode and message from the first file…

    if (message == null && (preprocess || postprocess)) {
      ({
        mode,
        message
      } = preprocess || postprocess);
    }

    if ((preprocess == null ? void 0 : preprocess.mode) === 'determinate') values.push(preprocess.value);
    if ((postprocess == null ? void 0 : postprocess.mode) === 'determinate') values.push(postprocess.value);
  }

  const value = values.reduce((total, progressValue) => {
    return total + progressValue / values.length;
  }, 0);
  return {
    mode,
    message,
    value
  };
}

/***/ }),

/***/ "./node_modules/@uppy/status-bar/lib/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@uppy/status-bar/lib/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _StatusBar_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _StatusBar_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StatusBar.js */ "./node_modules/@uppy/status-bar/lib/StatusBar.js");


/***/ }),

/***/ "./node_modules/@uppy/status-bar/lib/locale.js":
/*!*****************************************************!*\
  !*** ./node_modules/@uppy/status-bar/lib/locale.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  strings: {
    // Shown in the status bar while files are being uploaded.
    uploading: 'Uploading',
    // Shown in the status bar once all files have been uploaded.
    complete: 'Complete',
    // Shown in the status bar if an upload failed.
    uploadFailed: 'Upload failed',
    // Shown in the status bar while the upload is paused.
    paused: 'Paused',
    // Used as the label for the button that retries an upload.
    retry: 'Retry',
    // Used as the label for the button that cancels an upload.
    cancel: 'Cancel',
    // Used as the label for the button that pauses an upload.
    pause: 'Pause',
    // Used as the label for the button that resumes an upload.
    resume: 'Resume',
    // Used as the label for the button that resets the upload state after an upload
    done: 'Done',
    // When `showProgressDetails` is set, shows the number of files that have been fully uploaded so far.
    filesUploadedOfTotal: {
      0: '%{complete} of %{smart_count} file uploaded',
      1: '%{complete} of %{smart_count} files uploaded'
    },
    // When `showProgressDetails` is set, shows the amount of bytes that have been uploaded so far.
    dataUploadedOfTotal: '%{complete} of %{total}',
    // When `showProgressDetails` is set, shows an estimation of how long the upload will take to complete.
    xTimeLeft: '%{time} left',
    // Used as the label for the button that starts an upload.
    uploadXFiles: {
      0: 'Upload %{smart_count} file',
      1: 'Upload %{smart_count} files'
    },
    // Used as the label for the button that starts an upload, if another upload has been started in the past
    // and new files were added later.
    uploadXNewFiles: {
      0: 'Upload +%{smart_count} file',
      1: 'Upload +%{smart_count} files'
    },
    upload: 'Upload',
    retryUpload: 'Retry upload',
    xMoreFilesAdded: {
      0: '%{smart_count} more file added',
      1: '%{smart_count} more files added'
    },
    showErrorDetails: 'Show error details'
  }
});

/***/ }),

/***/ "./node_modules/@uppy/store-default/lib/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@uppy/store-default/lib/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }

const packageJson = {
  "version": "3.0.2"
};
/**
 * Default store that keeps state in a simple object.
 */

var _callbacks = /*#__PURE__*/_classPrivateFieldLooseKey("callbacks");

var _publish = /*#__PURE__*/_classPrivateFieldLooseKey("publish");

class DefaultStore {
  constructor() {
    Object.defineProperty(this, _publish, {
      value: _publish2
    });
    Object.defineProperty(this, _callbacks, {
      writable: true,
      value: new Set()
    });
    this.state = {};
  }

  getState() {
    return this.state;
  }

  setState(patch) {
    const prevState = { ...this.state
    };
    const nextState = { ...this.state,
      ...patch
    };
    this.state = nextState;

    _classPrivateFieldLooseBase(this, _publish)[_publish](prevState, nextState, patch);
  }

  subscribe(listener) {
    _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].add(listener);

    return () => {
      _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].delete(listener);
    };
  }

}

function _publish2() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].forEach(listener => {
    listener(...args);
  });
}

DefaultStore.VERSION = packageJson.version;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DefaultStore);

/***/ }),

/***/ "./node_modules/@uppy/thumbnail-generator/lib/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@uppy/thumbnail-generator/lib/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ThumbnailGenerator)
/* harmony export */ });
/* harmony import */ var _uppy_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/core */ "./node_modules/@uppy/core/lib/index.js");
/* harmony import */ var _uppy_utils_lib_dataURItoBlob__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/utils/lib/dataURItoBlob */ "./node_modules/@uppy/utils/lib/dataURItoBlob.js");
/* harmony import */ var _uppy_utils_lib_isObjectURL__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/utils/lib/isObjectURL */ "./node_modules/@uppy/utils/lib/isObjectURL.js");
/* harmony import */ var _uppy_utils_lib_isPreviewSupported__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uppy/utils/lib/isPreviewSupported */ "./node_modules/@uppy/utils/lib/isPreviewSupported.js");
/* harmony import */ var exifr_dist_mini_esm_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! exifr/dist/mini.esm.mjs */ "./node_modules/exifr/dist/mini.esm.mjs");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@uppy/thumbnail-generator/lib/locale.js");






const packageJson = {
  "version": "3.0.2"
};
/**
 * Save a <canvas> element's content to a Blob object.
 *
 * @param {HTMLCanvasElement} canvas
 * @returns {Promise}
 */

function canvasToBlob(canvas, type, quality) {
  try {
    canvas.getContext('2d').getImageData(0, 0, 1, 1);
  } catch (err) {
    if (err.code === 18) {
      return Promise.reject(new Error('cannot read image, probably an svg with external resources'));
    }
  }

  if (canvas.toBlob) {
    return new Promise(resolve => {
      canvas.toBlob(resolve, type, quality);
    }).then(blob => {
      if (blob === null) {
        throw new Error('cannot read image, probably an svg with external resources');
      }

      return blob;
    });
  }

  return Promise.resolve().then(() => {
    return (0,_uppy_utils_lib_dataURItoBlob__WEBPACK_IMPORTED_MODULE_1__["default"])(canvas.toDataURL(type, quality), {});
  }).then(blob => {
    if (blob === null) {
      throw new Error('could not extract blob, probably an old browser');
    }

    return blob;
  });
}

function rotateImage(image, translate) {
  let w = image.width;
  let h = image.height;

  if (translate.deg === 90 || translate.deg === 270) {
    w = image.height;
    h = image.width;
  }

  const canvas = document.createElement('canvas');
  canvas.width = w;
  canvas.height = h;
  const context = canvas.getContext('2d');
  context.translate(w / 2, h / 2);

  if (translate.canvas) {
    context.rotate(translate.rad);
    context.scale(translate.scaleX, translate.scaleY);
  }

  context.drawImage(image, -image.width / 2, -image.height / 2, image.width, image.height);
  return canvas;
}
/**
 * Make sure the image doesn’t exceed browser/device canvas limits.
 * For ios with 256 RAM and ie
 */


function protect(image) {
  // https://stackoverflow.com/questions/6081483/maximum-size-of-a-canvas-element
  const ratio = image.width / image.height;
  const maxSquare = 5000000; // ios max canvas square

  const maxSize = 4096; // ie max canvas dimensions

  let maxW = Math.floor(Math.sqrt(maxSquare * ratio));
  let maxH = Math.floor(maxSquare / Math.sqrt(maxSquare * ratio));

  if (maxW > maxSize) {
    maxW = maxSize;
    maxH = Math.round(maxW / ratio);
  }

  if (maxH > maxSize) {
    maxH = maxSize;
    maxW = Math.round(ratio * maxH);
  }

  if (image.width > maxW) {
    const canvas = document.createElement('canvas');
    canvas.width = maxW;
    canvas.height = maxH;
    canvas.getContext('2d').drawImage(image, 0, 0, maxW, maxH);
    return canvas;
  }

  return image;
}
/**
 * The Thumbnail Generator plugin
 */


class ThumbnailGenerator extends _uppy_core__WEBPACK_IMPORTED_MODULE_0__.UIPlugin {
  constructor(uppy, opts) {
    super(uppy, opts);

    this.onFileAdded = file => {
      if (!file.preview && file.data && (0,_uppy_utils_lib_isPreviewSupported__WEBPACK_IMPORTED_MODULE_3__["default"])(file.type) && !file.isRemote) {
        this.addToQueue(file.id);
      }
    };

    this.onCancelRequest = file => {
      const index = this.queue.indexOf(file.id);

      if (index !== -1) {
        this.queue.splice(index, 1);
      }
    };

    this.onFileRemoved = file => {
      const index = this.queue.indexOf(file.id);

      if (index !== -1) {
        this.queue.splice(index, 1);
      } // Clean up object URLs.


      if (file.preview && (0,_uppy_utils_lib_isObjectURL__WEBPACK_IMPORTED_MODULE_2__["default"])(file.preview)) {
        URL.revokeObjectURL(file.preview);
      }
    };

    this.onRestored = () => {
      const restoredFiles = this.uppy.getFiles().filter(file => file.isRestored);
      restoredFiles.forEach(file => {
        // Only add blob URLs; they are likely invalid after being restored.
        if (!file.preview || (0,_uppy_utils_lib_isObjectURL__WEBPACK_IMPORTED_MODULE_2__["default"])(file.preview)) {
          this.addToQueue(file.id);
        }
      });
    };

    this.onAllFilesRemoved = () => {
      this.queue = [];
    };

    this.waitUntilAllProcessed = fileIDs => {
      fileIDs.forEach(fileID => {
        const file = this.uppy.getFile(fileID);
        this.uppy.emit('preprocess-progress', file, {
          mode: 'indeterminate',
          message: this.i18n('generatingThumbnails')
        });
      });

      const emitPreprocessCompleteForAll = () => {
        fileIDs.forEach(fileID => {
          const file = this.uppy.getFile(fileID);
          this.uppy.emit('preprocess-complete', file);
        });
      };

      return new Promise(resolve => {
        if (this.queueProcessing) {
          this.uppy.once('thumbnail:all-generated', () => {
            emitPreprocessCompleteForAll();
            resolve();
          });
        } else {
          emitPreprocessCompleteForAll();
          resolve();
        }
      });
    };

    this.type = 'modifier';
    this.id = this.opts.id || 'ThumbnailGenerator';
    this.title = 'Thumbnail Generator';
    this.queue = [];
    this.queueProcessing = false;
    this.defaultThumbnailDimension = 200;
    this.thumbnailType = this.opts.thumbnailType || 'image/jpeg';
    this.defaultLocale = _locale_js__WEBPACK_IMPORTED_MODULE_5__["default"];
    const defaultOptions = {
      thumbnailWidth: null,
      thumbnailHeight: null,
      waitForThumbnailsBeforeUpload: false,
      lazy: false
    };
    this.opts = { ...defaultOptions,
      ...opts
    };
    this.i18nInit();

    if (this.opts.lazy && this.opts.waitForThumbnailsBeforeUpload) {
      throw new Error('ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.');
    }
  }
  /**
   * Create a thumbnail for the given Uppy file object.
   *
   * @param {{data: Blob}} file
   * @param {number} targetWidth
   * @param {number} targetHeight
   * @returns {Promise}
   */


  createThumbnail(file, targetWidth, targetHeight) {
    const originalUrl = URL.createObjectURL(file.data);
    const onload = new Promise((resolve, reject) => {
      const image = new Image();
      image.src = originalUrl;
      image.addEventListener('load', () => {
        URL.revokeObjectURL(originalUrl);
        resolve(image);
      });
      image.addEventListener('error', event => {
        URL.revokeObjectURL(originalUrl);
        reject(event.error || new Error('Could not create thumbnail'));
      });
    });
    const orientationPromise = (0,exifr_dist_mini_esm_mjs__WEBPACK_IMPORTED_MODULE_4__.rotation)(file.data).catch(() => 1);
    return Promise.all([onload, orientationPromise]).then(_ref => {
      let [image, orientation] = _ref;
      const dimensions = this.getProportionalDimensions(image, targetWidth, targetHeight, orientation.deg);
      const rotatedImage = rotateImage(image, orientation);
      const resizedImage = this.resizeImage(rotatedImage, dimensions.width, dimensions.height);
      return canvasToBlob(resizedImage, this.thumbnailType, 80);
    }).then(blob => {
      return URL.createObjectURL(blob);
    });
  }
  /**
   * Get the new calculated dimensions for the given image and a target width
   * or height. If both width and height are given, only width is taken into
   * account. If neither width nor height are given, the default dimension
   * is used.
   */


  getProportionalDimensions(img, width, height, rotation) {
    // eslint-disable-line no-shadow
    let aspect = img.width / img.height;

    if (rotation === 90 || rotation === 270) {
      aspect = img.height / img.width;
    }

    if (width != null) {
      return {
        width,
        height: Math.round(width / aspect)
      };
    }

    if (height != null) {
      return {
        width: Math.round(height * aspect),
        height
      };
    }

    return {
      width: this.defaultThumbnailDimension,
      height: Math.round(this.defaultThumbnailDimension / aspect)
    };
  }
  /**
   * Resize an image to the target `width` and `height`.
   *
   * Returns a Canvas with the resized image on it.
   */
  // eslint-disable-next-line class-methods-use-this


  resizeImage(image, targetWidth, targetHeight) {
    // Resizing in steps refactored to use a solution from
    // https://blog.uploadcare.com/image-resize-in-browsers-is-broken-e38eed08df01
    let img = protect(image);
    let steps = Math.ceil(Math.log2(img.width / targetWidth));

    if (steps < 1) {
      steps = 1;
    }

    let sW = targetWidth * 2 ** (steps - 1);
    let sH = targetHeight * 2 ** (steps - 1);
    const x = 2;

    while (steps--) {
      const canvas = document.createElement('canvas');
      canvas.width = sW;
      canvas.height = sH;
      canvas.getContext('2d').drawImage(img, 0, 0, sW, sH);
      img = canvas;
      sW = Math.round(sW / x);
      sH = Math.round(sH / x);
    }

    return img;
  }
  /**
   * Set the preview URL for a file.
   */


  setPreviewURL(fileID, preview) {
    this.uppy.setFileState(fileID, {
      preview
    });
  }

  addToQueue(item) {
    this.queue.push(item);

    if (this.queueProcessing === false) {
      this.processQueue();
    }
  }

  processQueue() {
    this.queueProcessing = true;

    if (this.queue.length > 0) {
      const current = this.uppy.getFile(this.queue.shift());

      if (!current) {
        this.uppy.log('[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug', 'error');
        return Promise.resolve();
      }

      return this.requestThumbnail(current).catch(() => {}) // eslint-disable-line node/handle-callback-err
      .then(() => this.processQueue());
    }

    this.queueProcessing = false;
    this.uppy.log('[ThumbnailGenerator] Emptied thumbnail queue');
    this.uppy.emit('thumbnail:all-generated');
    return Promise.resolve();
  }

  requestThumbnail(file) {
    if ((0,_uppy_utils_lib_isPreviewSupported__WEBPACK_IMPORTED_MODULE_3__["default"])(file.type) && !file.isRemote) {
      return this.createThumbnail(file, this.opts.thumbnailWidth, this.opts.thumbnailHeight).then(preview => {
        this.setPreviewURL(file.id, preview);
        this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${file.id}`);
        this.uppy.emit('thumbnail:generated', this.uppy.getFile(file.id), preview);
      }).catch(err => {
        this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${file.id}:`, 'warning');
        this.uppy.log(err, 'warning');
        this.uppy.emit('thumbnail:error', this.uppy.getFile(file.id), err);
      });
    }

    return Promise.resolve();
  }

  install() {
    this.uppy.on('file-removed', this.onFileRemoved);
    this.uppy.on('cancel-all', this.onAllFilesRemoved);

    if (this.opts.lazy) {
      this.uppy.on('thumbnail:request', this.onFileAdded);
      this.uppy.on('thumbnail:cancel', this.onCancelRequest);
    } else {
      this.uppy.on('file-added', this.onFileAdded);
      this.uppy.on('restored', this.onRestored);
    }

    if (this.opts.waitForThumbnailsBeforeUpload) {
      this.uppy.addPreProcessor(this.waitUntilAllProcessed);
    }
  }

  uninstall() {
    this.uppy.off('file-removed', this.onFileRemoved);
    this.uppy.off('cancel-all', this.onAllFilesRemoved);

    if (this.opts.lazy) {
      this.uppy.off('thumbnail:request', this.onFileAdded);
      this.uppy.off('thumbnail:cancel', this.onCancelRequest);
    } else {
      this.uppy.off('file-added', this.onFileAdded);
      this.uppy.off('restored', this.onRestored);
    }

    if (this.opts.waitForThumbnailsBeforeUpload) {
      this.uppy.removePreProcessor(this.waitUntilAllProcessed);
    }
  }

}
ThumbnailGenerator.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/thumbnail-generator/lib/locale.js":
/*!**************************************************************!*\
  !*** ./node_modules/@uppy/thumbnail-generator/lib/locale.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  strings: {
    generatingThumbnails: 'Generating thumbnails...'
  }
});

/***/ }),

/***/ "./node_modules/@uppy/tus/lib/getFingerprint.js":
/*!******************************************************!*\
  !*** ./node_modules/@uppy/tus/lib/getFingerprint.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getFingerprint)
/* harmony export */ });
/* harmony import */ var tus_js_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tus-js-client */ "./node_modules/tus-js-client/lib.esm/browser/index.js");


function isCordova() {
  return typeof window !== 'undefined' && (typeof window.PhoneGap !== 'undefined' || typeof window.Cordova !== 'undefined' || typeof window.cordova !== 'undefined');
}

function isReactNative() {
  return typeof navigator !== 'undefined' && typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative';
} // We override tus fingerprint to uppy’s `file.id`, since the `file.id`
// now also includes `relativePath` for files added from folders.
// This means you can add 2 identical files, if one is in folder a,
// the other in folder b — `a/file.jpg` and `b/file.jpg`, when added
// together with a folder, will be treated as 2 separate files.
//
// For React Native and Cordova, we let tus-js-client’s default
// fingerprint handling take charge.


function getFingerprint(uppyFileObj) {
  return (file, options) => {
    if (isCordova() || isReactNative()) {
      return tus_js_client__WEBPACK_IMPORTED_MODULE_0__.defaultOptions.fingerprint(file, options);
    }

    const uppyFingerprint = ['tus', uppyFileObj.id, options.endpoint].join('-');
    return Promise.resolve(uppyFingerprint);
  };
}

/***/ }),

/***/ "./node_modules/@uppy/tus/lib/index.js":
/*!*********************************************!*\
  !*** ./node_modules/@uppy/tus/lib/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Tus)
/* harmony export */ });
/* harmony import */ var _uppy_core_lib_BasePlugin_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/core/lib/BasePlugin.js */ "./node_modules/@uppy/core/lib/BasePlugin.js");
/* harmony import */ var tus_js_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tus-js-client */ "./node_modules/tus-js-client/lib.esm/browser/index.js");
/* harmony import */ var _uppy_companion_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/companion-client */ "./node_modules/@uppy/companion-client/lib/index.js");
/* harmony import */ var _uppy_utils_lib_emitSocketProgress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uppy/utils/lib/emitSocketProgress */ "./node_modules/@uppy/utils/lib/emitSocketProgress.js");
/* harmony import */ var _uppy_utils_lib_getSocketHost__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @uppy/utils/lib/getSocketHost */ "./node_modules/@uppy/utils/lib/getSocketHost.js");
/* harmony import */ var _uppy_utils_lib_settle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @uppy/utils/lib/settle */ "./node_modules/@uppy/utils/lib/settle.js");
/* harmony import */ var _uppy_utils_lib_EventTracker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @uppy/utils/lib/EventTracker */ "./node_modules/@uppy/utils/lib/EventTracker.js");
/* harmony import */ var _uppy_utils_lib_NetworkError__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @uppy/utils/lib/NetworkError */ "./node_modules/@uppy/utils/lib/NetworkError.js");
/* harmony import */ var _uppy_utils_lib_isNetworkError__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @uppy/utils/lib/isNetworkError */ "./node_modules/@uppy/utils/lib/isNetworkError.js");
/* harmony import */ var _uppy_utils_lib_RateLimitedQueue__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @uppy/utils/lib/RateLimitedQueue */ "./node_modules/@uppy/utils/lib/RateLimitedQueue.js");
/* harmony import */ var _uppy_utils_lib_hasProperty__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @uppy/utils/lib/hasProperty */ "./node_modules/@uppy/utils/lib/hasProperty.js");
/* harmony import */ var _getFingerprint_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./getFingerprint.js */ "./node_modules/@uppy/tus/lib/getFingerprint.js");
function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }













const packageJson = {
  "version": "3.0.6"
};
/** @typedef {import('..').TusOptions} TusOptions */

/** @typedef {import('tus-js-client').UploadOptions} RawTusOptions */

/** @typedef {import('@uppy/core').Uppy} Uppy */

/** @typedef {import('@uppy/core').UppyFile} UppyFile */

/** @typedef {import('@uppy/core').FailedUppyFile<{}>} FailedUppyFile */

/**
 * Extracted from https://github.com/tus/tus-js-client/blob/master/lib/upload.js#L13
 * excepted we removed 'fingerprint' key to avoid adding more dependencies
 *
 * @type {RawTusOptions}
 */

const tusDefaultOptions = {
  endpoint: '',
  uploadUrl: null,
  metadata: {},
  uploadSize: null,
  onProgress: null,
  onChunkComplete: null,
  onSuccess: null,
  onError: null,
  overridePatchMethod: false,
  headers: {},
  addRequestId: false,
  chunkSize: Infinity,
  retryDelays: [100, 1000, 3000, 5000],
  parallelUploads: 1,
  removeFingerprintOnSuccess: false,
  uploadLengthDeferred: false,
  uploadDataDuringCreation: false
};
/**
 * Tus resumable file uploader
 */

var _retryDelayIterator = /*#__PURE__*/_classPrivateFieldLooseKey("retryDelayIterator");

var _queueRequestSocketToken = /*#__PURE__*/_classPrivateFieldLooseKey("queueRequestSocketToken");

var _requestSocketToken = /*#__PURE__*/_classPrivateFieldLooseKey("requestSocketToken");

class Tus extends _uppy_core_lib_BasePlugin_js__WEBPACK_IMPORTED_MODULE_0__["default"] {
  /**
   * @param {Uppy} uppy
   * @param {TusOptions} opts
   */
  constructor(uppy, _opts) {
    var _this$opts$rateLimite, _this$opts$retryDelay;

    super(uppy, _opts);
    Object.defineProperty(this, _retryDelayIterator, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _queueRequestSocketToken, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _requestSocketToken, {
      writable: true,
      value: async file => {
        const Client = file.remote.providerOptions.provider ? _uppy_companion_client__WEBPACK_IMPORTED_MODULE_2__.Provider : _uppy_companion_client__WEBPACK_IMPORTED_MODULE_2__.RequestClient;
        const client = new Client(this.uppy, file.remote.providerOptions);
        const opts = { ...this.opts
        };

        if (file.tus) {
          // Install file-specific upload overrides.
          Object.assign(opts, file.tus);
        }

        const res = await client.post(file.remote.url, { ...file.remote.body,
          endpoint: opts.endpoint,
          uploadUrl: opts.uploadUrl,
          protocol: 'tus',
          size: file.data.size,
          headers: opts.headers,
          metadata: file.meta
        });
        return res.token;
      }
    });
    this.type = 'uploader';
    this.id = this.opts.id || 'Tus';
    this.title = 'Tus'; // set default options

    const defaultOptions = {
      useFastRemoteRetry: true,
      limit: 20,
      retryDelays: tusDefaultOptions.retryDelays,
      withCredentials: false
    }; // merge default options with the ones set by user

    /** @type {import("..").TusOptions} */

    this.opts = { ...defaultOptions,
      ..._opts
    };

    if ((_opts == null ? void 0 : _opts.allowedMetaFields) === undefined && 'metaFields' in this.opts) {
      throw new Error('The `metaFields` option has been renamed to `allowedMetaFields`.');
    }

    if ('autoRetry' in _opts) {
      throw new Error('The `autoRetry` option was deprecated and has been removed.');
    }
    /**
     * Simultaneous upload limiting is shared across all uploads with this plugin.
     *
     * @type {RateLimitedQueue}
     */


    this.requests = (_this$opts$rateLimite = this.opts.rateLimitedQueue) != null ? _this$opts$rateLimite : new _uppy_utils_lib_RateLimitedQueue__WEBPACK_IMPORTED_MODULE_9__.RateLimitedQueue(this.opts.limit);
    _classPrivateFieldLooseBase(this, _retryDelayIterator)[_retryDelayIterator] = (_this$opts$retryDelay = this.opts.retryDelays) == null ? void 0 : _this$opts$retryDelay.values();
    this.uploaders = Object.create(null);
    this.uploaderEvents = Object.create(null);
    this.uploaderSockets = Object.create(null);
    this.handleResetProgress = this.handleResetProgress.bind(this);
    this.handleUpload = this.handleUpload.bind(this);
    _classPrivateFieldLooseBase(this, _queueRequestSocketToken)[_queueRequestSocketToken] = this.requests.wrapPromiseFunction(_classPrivateFieldLooseBase(this, _requestSocketToken)[_requestSocketToken], {
      priority: -1
    });
  }

  handleResetProgress() {
    const files = { ...this.uppy.getState().files
    };
    Object.keys(files).forEach(fileID => {
      // Only clone the file object if it has a Tus `uploadUrl` attached.
      if (files[fileID].tus && files[fileID].tus.uploadUrl) {
        const tusState = { ...files[fileID].tus
        };
        delete tusState.uploadUrl;
        files[fileID] = { ...files[fileID],
          tus: tusState
        };
      }
    });
    this.uppy.setState({
      files
    });
  }
  /**
   * Clean up all references for a file's upload: the tus.Upload instance,
   * any events related to the file, and the Companion WebSocket connection.
   *
   * @param {string} fileID
   */


  resetUploaderReferences(fileID, opts) {
    if (opts === void 0) {
      opts = {};
    }

    if (this.uploaders[fileID]) {
      const uploader = this.uploaders[fileID];
      uploader.abort();

      if (opts.abort) {
        uploader.abort(true);
      }

      this.uploaders[fileID] = null;
    }

    if (this.uploaderEvents[fileID]) {
      this.uploaderEvents[fileID].remove();
      this.uploaderEvents[fileID] = null;
    }

    if (this.uploaderSockets[fileID]) {
      this.uploaderSockets[fileID].close();
      this.uploaderSockets[fileID] = null;
    }
  }
  /**
   * Create a new Tus upload.
   *
   * A lot can happen during an upload, so this is quite hard to follow!
   * - First, the upload is started. If the file was already paused by the time the upload starts, nothing should happen.
   *   If the `limit` option is used, the upload must be queued onto the `this.requests` queue.
   *   When an upload starts, we store the tus.Upload instance, and an EventTracker instance that manages the event listeners
   *   for pausing, cancellation, removal, etc.
   * - While the upload is in progress, it may be paused or cancelled.
   *   Pausing aborts the underlying tus.Upload, and removes the upload from the `this.requests` queue. All other state is
   *   maintained.
   *   Cancelling removes the upload from the `this.requests` queue, and completely aborts the upload-- the `tus.Upload`
   *   instance is aborted and discarded, the EventTracker instance is destroyed (removing all listeners).
   *   Resuming the upload uses the `this.requests` queue as well, to prevent selectively pausing and resuming uploads from
   *   bypassing the limit.
   * - After completing an upload, the tus.Upload and EventTracker instances are cleaned up, and the upload is marked as done
   *   in the `this.requests` queue.
   * - When an upload completed with an error, the same happens as on successful completion, but the `upload()` promise is
   *   rejected.
   *
   * When working on this function, keep in mind:
   *  - When an upload is completed or cancelled for any reason, the tus.Upload and EventTracker instances need to be cleaned
   *    up using this.resetUploaderReferences().
   *  - When an upload is cancelled or paused, for any reason, it needs to be removed from the `this.requests` queue using
   *    `queuedRequest.abort()`.
   *  - When an upload is completed for any reason, including errors, it needs to be marked as such using
   *    `queuedRequest.done()`.
   *  - When an upload is started or resumed, it needs to go through the `this.requests` queue. The `queuedRequest` variable
   *    must be updated so the other uses of it are valid.
   *  - Before replacing the `queuedRequest` variable, the previous `queuedRequest` must be aborted, else it will keep taking
   *    up a spot in the queue.
   *
   * @param {UppyFile} file for use with upload
   * @returns {Promise<void>}
   */


  upload(file) {
    var _this = this;

    this.resetUploaderReferences(file.id); // Create a new tus upload

    return new Promise((resolve, reject) => {
      let queuedRequest;
      let qRequest;
      let upload;
      this.uppy.emit('upload-started', file);
      const opts = { ...this.opts,
        ...(file.tus || {})
      };

      if (typeof opts.headers === 'function') {
        opts.headers = opts.headers(file);
      }
      /** @type {RawTusOptions} */


      const uploadOptions = { ...tusDefaultOptions,
        ...opts
      }; // We override tus fingerprint to uppy’s `file.id`, since the `file.id`
      // now also includes `relativePath` for files added from folders.
      // This means you can add 2 identical files, if one is in folder a,
      // the other in folder b.

      uploadOptions.fingerprint = (0,_getFingerprint_js__WEBPACK_IMPORTED_MODULE_11__["default"])(file);

      uploadOptions.onBeforeRequest = req => {
        const xhr = req.getUnderlyingObject();
        xhr.withCredentials = !!opts.withCredentials;
        let userProvidedPromise;

        if (typeof opts.onBeforeRequest === 'function') {
          userProvidedPromise = opts.onBeforeRequest(req, file);
        }

        if ((0,_uppy_utils_lib_hasProperty__WEBPACK_IMPORTED_MODULE_10__["default"])(queuedRequest, 'shouldBeRequeued')) {
          if (!queuedRequest.shouldBeRequeued) return Promise.reject();
          let done;
          const p = new Promise(res => {
            // eslint-disable-line promise/param-names
            done = res;
          });
          queuedRequest = this.requests.run(() => {
            if (file.isPaused) {
              queuedRequest.abort();
            }

            done();
            return () => {};
          }); // If the request has been requeued because it was rate limited by the
          // remote server, we want to wait for `RateLimitedQueue` to dispatch
          // the re-try request.
          // Therefore we create a promise that the queue will resolve when
          // enough time has elapsed to expect not to be rate-limited again.
          // This means we can hold the Tus retry here with a `Promise.all`,
          // together with the returned value of the user provided
          // `onBeforeRequest` option callback (in case it returns a promise).

          return Promise.all([p, userProvidedPromise]);
        }

        return userProvidedPromise;
      };

      uploadOptions.onError = err => {
        var _queuedRequest;

        this.uppy.log(err);
        const xhr = err.originalRequest ? err.originalRequest.getUnderlyingObject() : null;

        if ((0,_uppy_utils_lib_isNetworkError__WEBPACK_IMPORTED_MODULE_8__["default"])(xhr)) {
          // eslint-disable-next-line no-param-reassign
          err = new _uppy_utils_lib_NetworkError__WEBPACK_IMPORTED_MODULE_7__["default"](err, xhr);
        }

        this.resetUploaderReferences(file.id);
        (_queuedRequest = queuedRequest) == null ? void 0 : _queuedRequest.abort();
        this.uppy.emit('upload-error', file, err);
        reject(err);
      };

      uploadOptions.onProgress = (bytesUploaded, bytesTotal) => {
        this.onReceiveUploadUrl(file, upload.url);
        this.uppy.emit('upload-progress', file, {
          uploader: this,
          bytesUploaded,
          bytesTotal
        });
      };

      uploadOptions.onSuccess = () => {
        const uploadResp = {
          uploadURL: upload.url
        };
        this.resetUploaderReferences(file.id);
        queuedRequest.done();
        this.uppy.emit('upload-success', file, uploadResp);

        if (upload.url) {
          this.uppy.log(`Download ${upload.file.name} from ${upload.url}`);
        }

        resolve(upload);
      };

      const defaultOnShouldRetry = err => {
        var _err$originalResponse;

        const status = err == null ? void 0 : (_err$originalResponse = err.originalResponse) == null ? void 0 : _err$originalResponse.getStatus();

        if (status === 429) {
          // HTTP 429 Too Many Requests => to avoid the whole download to fail, pause all requests.
          if (!this.requests.isPaused) {
            var _classPrivateFieldLoo;

            const next = (_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _retryDelayIterator)[_retryDelayIterator]) == null ? void 0 : _classPrivateFieldLoo.next();

            if (next == null || next.done) {
              return false;
            }

            this.requests.rateLimit(next.value);
          }
        } else if (status > 400 && status < 500 && status !== 409) {
          // HTTP 4xx, the server won't send anything, it's doesn't make sense to retry
          return false;
        } else if (typeof navigator !== 'undefined' && navigator.onLine === false) {
          // The navigator is offline, let's wait for it to come back online.
          if (!this.requests.isPaused) {
            this.requests.pause();
            window.addEventListener('online', () => {
              this.requests.resume();
            }, {
              once: true
            });
          }
        }

        queuedRequest.abort();
        queuedRequest = {
          shouldBeRequeued: true,

          abort() {
            this.shouldBeRequeued = false;
          },

          done() {
            throw new Error('Cannot mark a queued request as done: this indicates a bug');
          },

          fn() {
            throw new Error('Cannot run a queued request: this indicates a bug');
          }

        };
        return true;
      };

      if (opts.onShouldRetry != null) {
        uploadOptions.onShouldRetry = function () {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          return opts.onShouldRetry(...args, defaultOnShouldRetry);
        };
      } else {
        uploadOptions.onShouldRetry = defaultOnShouldRetry;
      }

      const copyProp = (obj, srcProp, destProp) => {
        if ((0,_uppy_utils_lib_hasProperty__WEBPACK_IMPORTED_MODULE_10__["default"])(obj, srcProp) && !(0,_uppy_utils_lib_hasProperty__WEBPACK_IMPORTED_MODULE_10__["default"])(obj, destProp)) {
          // eslint-disable-next-line no-param-reassign
          obj[destProp] = obj[srcProp];
        }
      };
      /** @type {Record<string, string>} */


      const meta = {};
      const allowedMetaFields = Array.isArray(opts.allowedMetaFields) ? opts.allowedMetaFields // Send along all fields by default.
      : Object.keys(file.meta);
      allowedMetaFields.forEach(item => {
        meta[item] = file.meta[item];
      }); // tusd uses metadata fields 'filetype' and 'filename'

      copyProp(meta, 'type', 'filetype');
      copyProp(meta, 'name', 'filename');
      uploadOptions.metadata = meta;
      upload = new tus_js_client__WEBPACK_IMPORTED_MODULE_1__.Upload(file.data, uploadOptions);
      this.uploaders[file.id] = upload;
      this.uploaderEvents[file.id] = new _uppy_utils_lib_EventTracker__WEBPACK_IMPORTED_MODULE_6__["default"](this.uppy); // eslint-disable-next-line prefer-const

      qRequest = () => {
        if (!file.isPaused) {
          upload.start();
        } // Don't do anything here, the caller will take care of cancelling the upload itself
        // using resetUploaderReferences(). This is because resetUploaderReferences() has to be
        // called when this request is still in the queue, and has not been started yet, too. At
        // that point this cancellation function is not going to be called.
        // Also, we need to remove the request from the queue _without_ destroying everything
        // related to this upload to handle pauses.


        return () => {};
      };

      upload.findPreviousUploads().then(previousUploads => {
        const previousUpload = previousUploads[0];

        if (previousUpload) {
          this.uppy.log(`[Tus] Resuming upload of ${file.id} started at ${previousUpload.creationTime}`);
          upload.resumeFromPreviousUpload(previousUpload);
        }
      });
      queuedRequest = this.requests.run(qRequest);
      this.onFileRemove(file.id, targetFileID => {
        queuedRequest.abort();
        this.resetUploaderReferences(file.id, {
          abort: !!upload.url
        });
        resolve(`upload ${targetFileID} was removed`);
      });
      this.onPause(file.id, isPaused => {
        queuedRequest.abort();

        if (isPaused) {
          // Remove this file from the queue so another file can start in its place.
          upload.abort();
        } else {
          // Resuming an upload should be queued, else you could pause and then
          // resume a queued upload to make it skip the queue.
          queuedRequest = this.requests.run(qRequest);
        }
      });
      this.onPauseAll(file.id, () => {
        queuedRequest.abort();
        upload.abort();
      });
      this.onCancelAll(file.id, function (_temp) {
        let {
          reason
        } = _temp === void 0 ? {} : _temp;

        if (reason === 'user') {
          queuedRequest.abort();

          _this.resetUploaderReferences(file.id, {
            abort: !!upload.url
          });
        }

        resolve(`upload ${file.id} was canceled`);
      });
      this.onResumeAll(file.id, () => {
        queuedRequest.abort();

        if (file.error) {
          upload.abort();
        }

        queuedRequest = this.requests.run(qRequest);
      });
    }).catch(err => {
      this.uppy.emit('upload-error', file, err);
      throw err;
    });
  }

  // NOTE! Keep this duplicated code in sync with other plugins
  // TODO we should probably abstract this into a common function

  /**
   * @param {UppyFile} file for use with upload
   * @returns {Promise<void>}
   */
  async uploadRemote(file) {
    this.resetUploaderReferences(file.id); // Don't double-emit upload-started for Golden Retriever-restored files that were already started

    if (!file.progress.uploadStarted || !file.isRestored) {
      this.uppy.emit('upload-started', file);
    }

    try {
      if (file.serverToken) {
        return await this.connectToServerSocket(file);
      }

      const serverToken = await _classPrivateFieldLooseBase(this, _queueRequestSocketToken)[_queueRequestSocketToken](file);
      if (!this.uppy.getState().files[file.id]) return undefined;
      this.uppy.setFileState(file.id, {
        serverToken
      });
      return await this.connectToServerSocket(this.uppy.getFile(file.id));
    } catch (err) {
      this.uppy.setFileState(file.id, {
        serverToken: undefined
      });
      this.uppy.emit('upload-error', file, err);
      throw err;
    }
  }
  /**
   * See the comment on the upload() method.
   *
   * Additionally, when an upload is removed, completed, or cancelled, we need to close the WebSocket connection. This is
   * handled by the resetUploaderReferences() function, so the same guidelines apply as in upload().
   *
   * @param {UppyFile} file
   */


  async connectToServerSocket(file) {
    var _this2 = this;

    return new Promise((resolve, reject) => {
      const token = file.serverToken;
      const host = (0,_uppy_utils_lib_getSocketHost__WEBPACK_IMPORTED_MODULE_4__["default"])(file.remote.companionUrl);
      const socket = new _uppy_companion_client__WEBPACK_IMPORTED_MODULE_2__.Socket({
        target: `${host}/api/${token}`,
        autoOpen: false
      });
      this.uploaderSockets[file.id] = socket;
      this.uploaderEvents[file.id] = new _uppy_utils_lib_EventTracker__WEBPACK_IMPORTED_MODULE_6__["default"](this.uppy);
      let queuedRequest;
      this.onFileRemove(file.id, () => {
        queuedRequest.abort();
        socket.send('cancel', {});
        this.resetUploaderReferences(file.id);
        resolve(`upload ${file.id} was removed`);
      });
      this.onPause(file.id, isPaused => {
        if (isPaused) {
          // Remove this file from the queue so another file can start in its place.
          queuedRequest.abort();
          socket.send('pause', {});
        } else {
          // Resuming an upload should be queued, else you could pause and then
          // resume a queued upload to make it skip the queue.
          queuedRequest.abort();
          queuedRequest = this.requests.run(() => {
            socket.open();
            socket.send('resume', {});
            return () => socket.close();
          });
        }
      });
      this.onPauseAll(file.id, () => {
        queuedRequest.abort();
        socket.send('pause', {});
      });
      this.onCancelAll(file.id, function (_temp2) {
        let {
          reason
        } = _temp2 === void 0 ? {} : _temp2;

        if (reason === 'user') {
          queuedRequest.abort();
          socket.send('cancel', {});

          _this2.resetUploaderReferences(file.id);
        }

        resolve(`upload ${file.id} was canceled`);
      });
      this.onResumeAll(file.id, () => {
        queuedRequest.abort();

        if (file.error) {
          socket.send('pause', {});
        }

        queuedRequest = this.requests.run(() => {
          socket.open();
          socket.send('resume', {});
          return () => socket.close();
        });
      });
      this.onRetry(file.id, () => {
        // Only do the retry if the upload is actually in progress;
        // else we could try to send these messages when the upload is still queued.
        // We may need a better check for this since the socket may also be closed
        // for other reasons, like network failures.
        if (socket.isOpen) {
          socket.send('pause', {});
          socket.send('resume', {});
        }
      });
      this.onRetryAll(file.id, () => {
        // See the comment in the onRetry() call
        if (socket.isOpen) {
          socket.send('pause', {});
          socket.send('resume', {});
        }
      });
      socket.on('progress', progressData => (0,_uppy_utils_lib_emitSocketProgress__WEBPACK_IMPORTED_MODULE_3__["default"])(this, progressData, file));
      socket.on('error', errData => {
        const {
          message
        } = errData.error;
        const error = Object.assign(new Error(message), {
          cause: errData.error
        }); // If the remote retry optimisation should not be used,
        // close the socket—this will tell companion to clear state and delete the file.

        if (!this.opts.useFastRemoteRetry) {
          this.resetUploaderReferences(file.id); // Remove the serverToken so that a new one will be created for the retry.

          this.uppy.setFileState(file.id, {
            serverToken: null
          });
        } else {
          socket.close();
        }

        this.uppy.emit('upload-error', file, error);
        queuedRequest.done();
        reject(error);
      });
      socket.on('success', data => {
        const uploadResp = {
          uploadURL: data.url
        };
        this.uppy.emit('upload-success', file, uploadResp);
        this.resetUploaderReferences(file.id);
        queuedRequest.done();
        resolve();
      });
      queuedRequest = this.requests.run(() => {
        if (file.isPaused) {
          socket.send('pause', {});
        } else {
          socket.open();
        } // Just close the socket here, the caller will take care of cancelling the upload itself
        // using resetUploaderReferences(). This is because resetUploaderReferences() has to be
        // called when this request is still in the queue, and has not been started yet, too. At
        // that point this cancellation function is not going to be called.
        // Also, we need to remove the request from the queue _without_ destroying everything
        // related to this upload to handle pauses.


        return () => socket.close();
      });
    });
  }
  /**
   * Store the uploadUrl on the file options, so that when Golden Retriever
   * restores state, we will continue uploading to the correct URL.
   *
   * @param {UppyFile} file
   * @param {string} uploadURL
   */


  onReceiveUploadUrl(file, uploadURL) {
    const currentFile = this.uppy.getFile(file.id);
    if (!currentFile) return; // Only do the update if we didn't have an upload URL yet.

    if (!currentFile.tus || currentFile.tus.uploadUrl !== uploadURL) {
      this.uppy.log('[Tus] Storing upload url');
      this.uppy.setFileState(currentFile.id, {
        tus: { ...currentFile.tus,
          uploadUrl: uploadURL
        }
      });
    }
  }
  /**
   * @param {string} fileID
   * @param {function(string): void} cb
   */


  onFileRemove(fileID, cb) {
    this.uploaderEvents[fileID].on('file-removed', file => {
      if (fileID === file.id) cb(file.id);
    });
  }
  /**
   * @param {string} fileID
   * @param {function(boolean): void} cb
   */


  onPause(fileID, cb) {
    this.uploaderEvents[fileID].on('upload-pause', (targetFileID, isPaused) => {
      if (fileID === targetFileID) {
        // const isPaused = this.uppy.pauseResume(fileID)
        cb(isPaused);
      }
    });
  }
  /**
   * @param {string} fileID
   * @param {function(): void} cb
   */


  onRetry(fileID, cb) {
    this.uploaderEvents[fileID].on('upload-retry', targetFileID => {
      if (fileID === targetFileID) {
        cb();
      }
    });
  }
  /**
   * @param {string} fileID
   * @param {function(): void} cb
   */


  onRetryAll(fileID, cb) {
    this.uploaderEvents[fileID].on('retry-all', () => {
      if (!this.uppy.getFile(fileID)) return;
      cb();
    });
  }
  /**
   * @param {string} fileID
   * @param {function(): void} cb
   */


  onPauseAll(fileID, cb) {
    this.uploaderEvents[fileID].on('pause-all', () => {
      if (!this.uppy.getFile(fileID)) return;
      cb();
    });
  }
  /**
   * @param {string} fileID
   * @param {function(): void} eventHandler
   */


  onCancelAll(fileID, eventHandler) {
    var _this3 = this;

    this.uploaderEvents[fileID].on('cancel-all', function () {
      if (!_this3.uppy.getFile(fileID)) return;
      eventHandler(...arguments);
    });
  }
  /**
   * @param {string} fileID
   * @param {function(): void} cb
   */


  onResumeAll(fileID, cb) {
    this.uploaderEvents[fileID].on('resume-all', () => {
      if (!this.uppy.getFile(fileID)) return;
      cb();
    });
  }
  /**
   * @param {(UppyFile | FailedUppyFile)[]} files
   */


  uploadFiles(files) {
    const promises = files.map((file, i) => {
      const current = i + 1;
      const total = files.length;

      if ('error' in file && file.error) {
        return Promise.reject(new Error(file.error));
      }

      if (file.isRemote) {
        // We emit upload-started here, so that it's also emitted for files
        // that have to wait due to the `limit` option.
        // Don't double-emit upload-started for Golden Retriever-restored files that were already started
        if (!file.progress.uploadStarted || !file.isRestored) {
          this.uppy.emit('upload-started', file);
        }

        return this.uploadRemote(file, current, total);
      } // Don't double-emit upload-started for Golden Retriever-restored files that were already started


      if (!file.progress.uploadStarted || !file.isRestored) {
        this.uppy.emit('upload-started', file);
      }

      return this.upload(file, current, total);
    });
    return (0,_uppy_utils_lib_settle__WEBPACK_IMPORTED_MODULE_5__["default"])(promises);
  }
  /**
   * @param {string[]} fileIDs
   */


  handleUpload(fileIDs) {
    if (fileIDs.length === 0) {
      this.uppy.log('[Tus] No files to upload');
      return Promise.resolve();
    }

    if (this.opts.limit === 0) {
      this.uppy.log('[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0', 'warning');
    }

    this.uppy.log('[Tus] Uploading...');
    const filesToUpload = fileIDs.map(fileID => this.uppy.getFile(fileID));
    return this.uploadFiles(filesToUpload).then(() => null);
  }

  install() {
    this.uppy.setState({
      capabilities: { ...this.uppy.getState().capabilities,
        resumableUploads: true
      }
    });
    this.uppy.addUploader(this.handleUpload);
    this.uppy.on('reset-progress', this.handleResetProgress);
  }

  uninstall() {
    this.uppy.setState({
      capabilities: { ...this.uppy.getState().capabilities,
        resumableUploads: false
      }
    });
    this.uppy.removeUploader(this.handleUpload);
  }

}
Tus.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/url/lib/Url.js":
/*!*******************************************!*\
  !*** ./node_modules/@uppy/url/lib/Url.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Url)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _uppy_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/core */ "./node_modules/@uppy/core/lib/index.js");
/* harmony import */ var _uppy_companion_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/companion-client */ "./node_modules/@uppy/companion-client/lib/index.js");
/* harmony import */ var _uppy_utils_lib_toArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uppy/utils/lib/toArray */ "./node_modules/@uppy/utils/lib/toArray.js");
/* harmony import */ var _UrlUI_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UrlUI.js */ "./node_modules/@uppy/url/lib/UrlUI.js");
/* harmony import */ var _utils_forEachDroppedOrPastedUrl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/forEachDroppedOrPastedUrl.js */ "./node_modules/@uppy/url/lib/utils/forEachDroppedOrPastedUrl.js");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@uppy/url/lib/locale.js");






const packageJson = {
  "version": "3.3.0"
};


function UrlIcon() {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    width: "32",
    height: "32",
    viewBox: "0 0 32 32"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M23.637 15.312l-2.474 2.464a3.582 3.582 0 01-.577.491c-.907.657-1.897.986-2.968.986a4.925 4.925 0 01-3.959-1.971c-.248-.329-.164-.902.165-1.149.33-.247.907-.164 1.155.164 1.072 1.478 3.133 1.724 4.618.656a.642.642 0 00.33-.328l2.473-2.463c1.238-1.313 1.238-3.366-.082-4.597a3.348 3.348 0 00-4.618 0l-1.402 1.395a.799.799 0 01-1.154 0 .79.79 0 010-1.15l1.402-1.394a4.843 4.843 0 016.843 0c2.062 1.805 2.144 5.007.248 6.896zm-8.081 5.664l-1.402 1.395a3.348 3.348 0 01-4.618 0c-1.319-1.23-1.319-3.365-.082-4.596l2.475-2.464.328-.328c.743-.492 1.567-.739 2.475-.657.906.165 1.648.574 2.143 1.314.248.329.825.411 1.155.165.33-.248.412-.822.165-1.15-.825-1.068-1.98-1.724-3.216-1.888-1.238-.247-2.556.082-3.628.902l-.495.493-2.474 2.464c-1.897 1.969-1.814 5.09.083 6.977.99.904 2.226 1.396 3.463 1.396s2.473-.492 3.463-1.395l1.402-1.396a.79.79 0 000-1.15c-.33-.328-.908-.41-1.237-.082z",
    fill: "#FF753E",
    "fill-rule": "nonzero"
  }));
}

function addProtocolToURL(url) {
  const protocolRegex = /^[a-z0-9]+:\/\//;
  const defaultProtocol = 'http://';

  if (protocolRegex.test(url)) {
    return url;
  }

  return defaultProtocol + url;
}

function canHandleRootDrop(e) {
  const items = (0,_uppy_utils_lib_toArray__WEBPACK_IMPORTED_MODULE_3__["default"])(e.dataTransfer.items);
  const urls = items.filter(item => item.kind === 'string' && item.type === 'text/uri-list');
  return urls.length > 0;
}

function checkIfCorrectURL(url) {
  if (!url) return false;
  const protocol = url.match(/^([a-z0-9]+):\/\//)[1];

  if (protocol !== 'http' && protocol !== 'https') {
    return false;
  }

  return true;
}

function getFileNameFromUrl(url) {
  const {
    pathname
  } = new URL(url);
  return pathname.substring(pathname.lastIndexOf('/') + 1);
}
/**
 * Url
 *
 */


class Url extends _uppy_core__WEBPACK_IMPORTED_MODULE_1__.UIPlugin {
  constructor(uppy, opts) {
    super(uppy, opts);
    this.id = this.opts.id || 'Url';
    this.title = this.opts.title || 'Link';
    this.type = 'acquirer';

    this.icon = () => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(UrlIcon, null); // Set default options and locale


    this.defaultLocale = _locale_js__WEBPACK_IMPORTED_MODULE_6__["default"];
    const defaultOptions = {};
    this.opts = { ...defaultOptions,
      ...opts
    };
    this.i18nInit();
    this.hostname = this.opts.companionUrl;

    if (!this.hostname) {
      throw new Error('Companion hostname is required, please consult https://uppy.io/docs/companion');
    } // Bind all event handlers for referencability


    this.getMeta = this.getMeta.bind(this);
    this.addFile = this.addFile.bind(this);
    this.handleRootDrop = this.handleRootDrop.bind(this);
    this.handleRootPaste = this.handleRootPaste.bind(this);
    this.client = new _uppy_companion_client__WEBPACK_IMPORTED_MODULE_2__.RequestClient(uppy, {
      companionUrl: this.opts.companionUrl,
      companionHeaders: this.opts.companionHeaders,
      companionCookiesRule: this.opts.companionCookiesRule
    });
  }

  getMeta(url) {
    return this.client.post('url/meta', {
      url
    }).then(res => {
      if (res.error) {
        this.uppy.log('[URL] Error:');
        this.uppy.log(res.error);
        throw new Error('Failed to fetch the file');
      }

      return res;
    });
  }

  async addFile(protocollessUrl, optionalMeta) {
    if (optionalMeta === void 0) {
      optionalMeta = undefined;
    }

    const url = addProtocolToURL(protocollessUrl);

    if (!checkIfCorrectURL(url)) {
      this.uppy.log(`[URL] Incorrect URL entered: ${url}`);
      this.uppy.info(this.i18n('enterCorrectUrl'), 'error', 4000);
      return undefined;
    }

    try {
      const meta = await this.getMeta(url);
      const tagFile = {
        meta: optionalMeta,
        source: this.id,
        name: getFileNameFromUrl(url),
        type: meta.type,
        data: {
          size: meta.size
        },
        isRemote: true,
        body: {
          url
        },
        remote: {
          companionUrl: this.opts.companionUrl,
          url: `${this.hostname}/url/get`,
          body: {
            fileId: url,
            url
          },
          providerOptions: this.client.opts
        }
      };
      this.uppy.log('[Url] Adding remote file');

      try {
        return this.uppy.addFile(tagFile);
      } catch (err) {
        if (!err.isRestriction) {
          this.uppy.log(err);
        }

        return err;
      }
    } catch (err) {
      this.uppy.log(err);
      this.uppy.info({
        message: this.i18n('failedToFetch'),
        details: err
      }, 'error', 4000);
      return err;
    }
  }

  handleRootDrop(e) {
    (0,_utils_forEachDroppedOrPastedUrl_js__WEBPACK_IMPORTED_MODULE_5__["default"])(e.dataTransfer, 'drop', url => {
      this.uppy.log(`[URL] Adding file from dropped url: ${url}`);
      this.addFile(url);
    });
  }

  handleRootPaste(e) {
    (0,_utils_forEachDroppedOrPastedUrl_js__WEBPACK_IMPORTED_MODULE_5__["default"])(e.clipboardData, 'paste', url => {
      this.uppy.log(`[URL] Adding file from pasted url: ${url}`);
      this.addFile(url);
    });
  }

  render() {
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_UrlUI_js__WEBPACK_IMPORTED_MODULE_4__["default"], {
      i18n: this.i18n,
      addFile: this.addFile
    });
  }

  install() {
    const {
      target
    } = this.opts;

    if (target) {
      this.mount(target, this);
    }
  }

  uninstall() {
    this.unmount();
  }

} // This is defined outside of the class body because it's not using `this`, but
// we still want it available on the prototype so the Dashboard can access it.

Url.VERSION = packageJson.version;
Url.prototype.canHandleRootDrop = canHandleRootDrop;

/***/ }),

/***/ "./node_modules/@uppy/url/lib/UrlUI.js":
/*!*********************************************!*\
  !*** ./node_modules/@uppy/url/lib/UrlUI.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! nanoid/non-secure */ "./node_modules/nanoid/non-secure/index.js");
function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }




var _handleSubmit = /*#__PURE__*/_classPrivateFieldLooseKey("handleSubmit");

class UrlUI extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {
  constructor(props) {
    super(props);
    this.form = document.createElement('form');
    Object.defineProperty(this, _handleSubmit, {
      writable: true,
      value: ev => {
        ev.preventDefault();
        const {
          addFile
        } = this.props;
        const preparedValue = this.input.value.trim();
        addFile(preparedValue);
      }
    });
    this.form.id = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_1__.nanoid)();
  }

  componentDidMount() {
    this.input.value = '';
    this.form.addEventListener('submit', _classPrivateFieldLooseBase(this, _handleSubmit)[_handleSubmit]);
    document.body.appendChild(this.form);
  }

  componentWillUnmount() {
    this.form.removeEventListener('submit', _classPrivateFieldLooseBase(this, _handleSubmit)[_handleSubmit]);
    document.body.removeChild(this.form);
  }

  render() {
    const {
      i18n
    } = this.props;
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Url"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("input", {
      className: "uppy-u-reset uppy-c-textInput uppy-Url-input",
      type: "text",
      "aria-label": i18n('enterUrlToImport'),
      placeholder: i18n('enterUrlToImport'),
      ref: input => {
        this.input = input;
      },
      "data-uppy-super-focusable": true,
      form: this.form.id
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
      className: "uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",
      type: "submit",
      form: this.form.id
    }, i18n('import')));
  }

}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UrlUI);

/***/ }),

/***/ "./node_modules/@uppy/url/lib/index.js":
/*!*********************************************!*\
  !*** ./node_modules/@uppy/url/lib/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _Url_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _Url_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Url.js */ "./node_modules/@uppy/url/lib/Url.js");


/***/ }),

/***/ "./node_modules/@uppy/url/lib/locale.js":
/*!**********************************************!*\
  !*** ./node_modules/@uppy/url/lib/locale.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  strings: {
    // Label for the "Import" button.
    import: 'Import',
    // Placeholder text for the URL input.
    enterUrlToImport: 'Enter URL to import a file',
    // Error message shown if Companion could not load a URL.
    failedToFetch: 'Companion failed to fetch this URL, please make sure it’s correct',
    // Error message shown if the input does not look like a URL.
    enterCorrectUrl: 'Incorrect URL: Please make sure you are entering a direct link to a file'
  }
});

/***/ }),

/***/ "./node_modules/@uppy/url/lib/utils/forEachDroppedOrPastedUrl.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@uppy/url/lib/utils/forEachDroppedOrPastedUrl.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ forEachDroppedOrPastedUrl)
/* harmony export */ });
/* harmony import */ var _uppy_utils_lib_toArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/utils/lib/toArray */ "./node_modules/@uppy/utils/lib/toArray.js");

/*
  SITUATION

    1. Cross-browser dataTransfer.items

      paste in chrome [Copy Image]:
      0: {kind: "file", type: "image/png"}
      1: {kind: "string", type: "text/html"}
      paste in safari [Copy Image]:
      0: {kind: "file", type: "image/png"}
      1: {kind: "string", type: "text/html"}
      2: {kind: "string", type: "text/plain"}
      3: {kind: "string", type: "text/uri-list"}
      paste in firefox [Copy Image]:
      0: {kind: "file", type: "image/png"}
      1: {kind: "string", type: "text/html"}

      paste in chrome [Copy Image Address]:
      0: {kind: "string", type: "text/plain"}
      paste in safari [Copy Image Address]:
      0: {kind: "string", type: "text/plain"}
      1: {kind: "string", type: "text/uri-list"}
      paste in firefox [Copy Image Address]:
      0: {kind: "string", type: "text/plain"}

      drop in chrome [from browser]:
      0: {kind: "string", type: "text/uri-list"}
      1: {kind: "string", type: "text/html"}
      drop in safari [from browser]:
      0: {kind: "string", type: "text/uri-list"}
      1: {kind: "string", type: "text/html"}
      2: {kind: "file", type: "image/png"}
      drop in firefox [from browser]:
      0: {kind: "string", type: "text/uri-list"}
      1: {kind: "string", type: "text/x-moz-url"}
      2: {kind: "string", type: "text/plain"}

    2. We can determine if it's a 'copypaste' or a 'drop', but we can't discern between [Copy Image] and [Copy Image Address]

  CONCLUSION

    1. 'paste' ([Copy Image] or [Copy Image Address], we can't discern between these two)
      Don't do anything if there is 'file' item. .handlePaste in the DashboardPlugin will deal with all 'file' items.
      If there are no 'file' items - handle 'text/plain' items.

    2. 'drop'
      Take 'text/uri-list' items. Safari has an additional item of .kind === 'file', and you may worry about the item being
      duplicated (first by DashboardPlugin, and then by UrlPlugin, now), but don't. Directory handling code won't pay
      attention to this particular item of kind 'file'.
*/

/**
 * Finds all links dropped/pasted from one browser window to another.
 *
 * @param {object} dataTransfer - DataTransfer instance, e.g. e.clipboardData, or e.dataTransfer
 * @param {string} isDropOrPaste - either 'drop' or 'paste'
 * @param {Function} callback - (urlString) => {}
 */

function forEachDroppedOrPastedUrl(dataTransfer, isDropOrPaste, callback) {
  const items = (0,_uppy_utils_lib_toArray__WEBPACK_IMPORTED_MODULE_0__["default"])(dataTransfer.items);
  let urlItems;

  switch (isDropOrPaste) {
    case 'paste':
      {
        const atLeastOneFileIsDragged = items.some(item => item.kind === 'file');

        if (atLeastOneFileIsDragged) {
          return;
        }

        urlItems = items.filter(item => item.kind === 'string' && item.type === 'text/plain');
        break;
      }

    case 'drop':
      {
        urlItems = items.filter(item => item.kind === 'string' && item.type === 'text/uri-list');
        break;
      }

    default:
      {
        throw new Error(`isDropOrPaste must be either 'drop' or 'paste', but it's ${isDropOrPaste}`);
      }
  }

  urlItems.forEach(item => {
    item.getAsString(urlString => callback(urlString));
  });
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/AbortController.js":
/*!*********************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/AbortController.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AbortController": () => (/* binding */ AbortController),
/* harmony export */   "AbortSignal": () => (/* binding */ AbortSignal),
/* harmony export */   "createAbortError": () => (/* binding */ createAbortError)
/* harmony export */ });
/* harmony import */ var _hasProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hasProperty.js */ "./node_modules/@uppy/utils/lib/hasProperty.js");

/**
 * Little AbortController proxy module so we can swap out the implementation easily later.
 */

const {
  AbortController
} = globalThis;
const {
  AbortSignal
} = globalThis;
const createAbortError = function (message, options) {
  if (message === void 0) {
    message = 'Aborted';
  }

  const err = new DOMException(message, 'AbortError');

  if (options != null && (0,_hasProperty_js__WEBPACK_IMPORTED_MODULE_0__["default"])(options, 'cause')) {
    Object.defineProperty(err, 'cause', {
      __proto__: null,
      configurable: true,
      writable: true,
      value: options.cause
    });
  }

  return err;
};

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/ErrorWithCause.js":
/*!********************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/ErrorWithCause.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _hasProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hasProperty.js */ "./node_modules/@uppy/utils/lib/hasProperty.js");


class ErrorWithCause extends Error {
  constructor(message, options) {
    if (options === void 0) {
      options = {};
    }

    super(message);
    this.cause = options.cause;

    if (this.cause && (0,_hasProperty_js__WEBPACK_IMPORTED_MODULE_0__["default"])(this.cause, 'isNetworkError')) {
      this.isNetworkError = this.cause.isNetworkError;
    }
  }

}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ErrorWithCause);

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/EventTracker.js":
/*!******************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/EventTracker.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ EventTracker)
/* harmony export */ });
function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }

var _emitter = /*#__PURE__*/_classPrivateFieldLooseKey("emitter");

var _events = /*#__PURE__*/_classPrivateFieldLooseKey("events");

/**
 * Create a wrapper around an event emitter with a `remove` method to remove
 * all events that were added using the wrapped emitter.
 */
class EventTracker {
  constructor(emitter) {
    Object.defineProperty(this, _emitter, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _events, {
      writable: true,
      value: []
    });
    _classPrivateFieldLooseBase(this, _emitter)[_emitter] = emitter;
  }

  on(event, fn) {
    _classPrivateFieldLooseBase(this, _events)[_events].push([event, fn]);

    return _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(event, fn);
  }

  remove() {
    for (const [event, fn] of _classPrivateFieldLooseBase(this, _events)[_events].splice(0)) {
      _classPrivateFieldLooseBase(this, _emitter)[_emitter].off(event, fn);
    }
  }

}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/FOCUSABLE_ELEMENTS.js":
/*!************************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/FOCUSABLE_ELEMENTS.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])', 'area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])', 'input:not([disabled]):not([inert]):not([aria-hidden])', 'select:not([disabled]):not([inert]):not([aria-hidden])', 'textarea:not([disabled]):not([inert]):not([aria-hidden])', 'button:not([disabled]):not([inert]):not([aria-hidden])', 'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])', 'object:not([tabindex^="-"]):not([inert]):not([aria-hidden])', 'embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])', '[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])', '[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])']);

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/NetworkError.js":
/*!******************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/NetworkError.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
class NetworkError extends Error {
  constructor(error, xhr) {
    if (xhr === void 0) {
      xhr = null;
    }

    super(`This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.`);
    this.cause = error;
    this.isNetworkError = true;
    this.request = xhr;
  }

}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NetworkError);

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/RateLimitedQueue.js":
/*!**********************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/RateLimitedQueue.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RateLimitedQueue": () => (/* binding */ RateLimitedQueue),
/* harmony export */   "internalRateLimitedQueue": () => (/* binding */ internalRateLimitedQueue)
/* harmony export */ });
function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }

function createCancelError(cause) {
  return new Error('Cancelled', {
    cause
  });
}

function abortOn(signal) {
  if (signal != null) {
    const abortPromise = () => this.abort(signal.reason);

    signal.addEventListener('abort', abortPromise, {
      once: true
    });

    const removeAbortListener = () => {
      signal.removeEventListener('abort', abortPromise);
    };

    this.then(removeAbortListener, removeAbortListener);
  }

  return this;
}

var _activeRequests = /*#__PURE__*/_classPrivateFieldLooseKey("activeRequests");

var _queuedHandlers = /*#__PURE__*/_classPrivateFieldLooseKey("queuedHandlers");

var _paused = /*#__PURE__*/_classPrivateFieldLooseKey("paused");

var _pauseTimer = /*#__PURE__*/_classPrivateFieldLooseKey("pauseTimer");

var _downLimit = /*#__PURE__*/_classPrivateFieldLooseKey("downLimit");

var _upperLimit = /*#__PURE__*/_classPrivateFieldLooseKey("upperLimit");

var _rateLimitingTimer = /*#__PURE__*/_classPrivateFieldLooseKey("rateLimitingTimer");

var _call = /*#__PURE__*/_classPrivateFieldLooseKey("call");

var _queueNext = /*#__PURE__*/_classPrivateFieldLooseKey("queueNext");

var _next = /*#__PURE__*/_classPrivateFieldLooseKey("next");

var _queue = /*#__PURE__*/_classPrivateFieldLooseKey("queue");

var _dequeue = /*#__PURE__*/_classPrivateFieldLooseKey("dequeue");

var _resume = /*#__PURE__*/_classPrivateFieldLooseKey("resume");

var _increaseLimit = /*#__PURE__*/_classPrivateFieldLooseKey("increaseLimit");

class RateLimitedQueue {
  constructor(limit) {
    Object.defineProperty(this, _dequeue, {
      value: _dequeue2
    });
    Object.defineProperty(this, _queue, {
      value: _queue2
    });
    Object.defineProperty(this, _next, {
      value: _next2
    });
    Object.defineProperty(this, _queueNext, {
      value: _queueNext2
    });
    Object.defineProperty(this, _call, {
      value: _call2
    });
    Object.defineProperty(this, _activeRequests, {
      writable: true,
      value: 0
    });
    Object.defineProperty(this, _queuedHandlers, {
      writable: true,
      value: []
    });
    Object.defineProperty(this, _paused, {
      writable: true,
      value: false
    });
    Object.defineProperty(this, _pauseTimer, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _downLimit, {
      writable: true,
      value: 1
    });
    Object.defineProperty(this, _upperLimit, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _rateLimitingTimer, {
      writable: true,
      value: void 0
    });
    Object.defineProperty(this, _resume, {
      writable: true,
      value: () => this.resume()
    });
    Object.defineProperty(this, _increaseLimit, {
      writable: true,
      value: () => {
        if (_classPrivateFieldLooseBase(this, _paused)[_paused]) {
          _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], 0);
          return;
        }

        _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] = this.limit;
        this.limit = Math.ceil((_classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] + _classPrivateFieldLooseBase(this, _downLimit)[_downLimit]) / 2);

        for (let i = _classPrivateFieldLooseBase(this, _downLimit)[_downLimit]; i <= this.limit; i++) {
          _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();
        }

        if (_classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] - _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] > 3) {
          _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], 2000);
        } else {
          _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] = Math.floor(_classPrivateFieldLooseBase(this, _downLimit)[_downLimit] / 2);
        }
      }
    });

    if (typeof limit !== 'number' || limit === 0) {
      this.limit = Infinity;
    } else {
      this.limit = limit;
    }
  }

  run(fn, queueOptions) {
    if (!_classPrivateFieldLooseBase(this, _paused)[_paused] && _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] < this.limit) {
      return _classPrivateFieldLooseBase(this, _call)[_call](fn);
    }

    return _classPrivateFieldLooseBase(this, _queue)[_queue](fn, queueOptions);
  }

  wrapPromiseFunction(fn, queueOptions) {
    var _this = this;

    return function () {
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      let queuedRequest;
      const outerPromise = new Promise((resolve, reject) => {
        queuedRequest = _this.run(() => {
          let cancelError;
          let innerPromise;

          try {
            innerPromise = Promise.resolve(fn(...args));
          } catch (err) {
            innerPromise = Promise.reject(err);
          }

          innerPromise.then(result => {
            if (cancelError) {
              reject(cancelError);
            } else {
              queuedRequest.done();
              resolve(result);
            }
          }, err => {
            if (cancelError) {
              reject(cancelError);
            } else {
              queuedRequest.done();
              reject(err);
            }
          });
          return cause => {
            cancelError = createCancelError(cause);
          };
        }, queueOptions);
      });

      outerPromise.abort = cause => {
        queuedRequest.abort(cause);
      };

      outerPromise.abortOn = abortOn;
      return outerPromise;
    };
  }

  resume() {
    _classPrivateFieldLooseBase(this, _paused)[_paused] = false;
    clearTimeout(_classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer]);

    for (let i = 0; i < this.limit; i++) {
      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();
    }
  }

  /**
   * Freezes the queue for a while or indefinitely.
   *
   * @param {number | null } [duration] Duration for the pause to happen, in milliseconds.
   *                                    If omitted, the queue won't resume automatically.
   */
  pause(duration) {
    if (duration === void 0) {
      duration = null;
    }

    _classPrivateFieldLooseBase(this, _paused)[_paused] = true;
    clearTimeout(_classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer]);

    if (duration != null) {
      _classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer] = setTimeout(_classPrivateFieldLooseBase(this, _resume)[_resume], duration);
    }
  }
  /**
   * Pauses the queue for a duration, and lower the limit of concurrent requests
   * when the queue resumes. When the queue resumes, it tries to progressively
   * increase the limit in `this.#increaseLimit` until another call is made to
   * `this.rateLimit`.
   * Call this function when using the RateLimitedQueue for network requests and
   * the remote server responds with 429 HTTP code.
   *
   * @param {number} duration in milliseconds.
   */


  rateLimit(duration) {
    clearTimeout(_classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer]);
    this.pause(duration);

    if (this.limit > 1 && Number.isFinite(this.limit)) {
      _classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] = this.limit - 1;
      this.limit = _classPrivateFieldLooseBase(this, _downLimit)[_downLimit];
      _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], duration);
    }
  }

  get isPaused() {
    return _classPrivateFieldLooseBase(this, _paused)[_paused];
  }

}

function _call2(fn) {
  _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] += 1;
  let done = false;
  let cancelActive;

  try {
    cancelActive = fn();
  } catch (err) {
    _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;
    throw err;
  }

  return {
    abort: cause => {
      if (done) return;
      done = true;
      _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;
      cancelActive(cause);

      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();
    },
    done: () => {
      if (done) return;
      done = true;
      _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;

      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();
    }
  };
}

function _queueNext2() {
  // Do it soon but not immediately, this allows clearing out the entire queue synchronously
  // one by one without continuously _advancing_ it (and starting new tasks before immediately
  // aborting them)
  queueMicrotask(() => _classPrivateFieldLooseBase(this, _next)[_next]());
}

function _next2() {
  if (_classPrivateFieldLooseBase(this, _paused)[_paused] || _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] >= this.limit) {
    return;
  }

  if (_classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].length === 0) {
    return;
  } // Dispatch the next request, and update the abort/done handlers
  // so that cancelling it does the Right Thing (and doesn't just try
  // to dequeue an already-running request).


  const next = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].shift();

  const handler = _classPrivateFieldLooseBase(this, _call)[_call](next.fn);

  next.abort = handler.abort;
  next.done = handler.done;
}

function _queue2(fn, options) {
  if (options === void 0) {
    options = {};
  }

  const handler = {
    fn,
    priority: options.priority || 0,
    abort: () => {
      _classPrivateFieldLooseBase(this, _dequeue)[_dequeue](handler);
    },
    done: () => {
      throw new Error('Cannot mark a queued request as done: this indicates a bug');
    }
  };

  const index = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].findIndex(other => {
    return handler.priority > other.priority;
  });

  if (index === -1) {
    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].push(handler);
  } else {
    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].splice(index, 0, handler);
  }

  return handler;
}

function _dequeue2(handler) {
  const index = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].indexOf(handler);

  if (index !== -1) {
    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].splice(index, 1);
  }
}

const internalRateLimitedQueue = Symbol('__queue');

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/Translator.js":
/*!****************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/Translator.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Translator)
/* harmony export */ });
/* harmony import */ var _hasProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hasProperty.js */ "./node_modules/@uppy/utils/lib/hasProperty.js");
function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }



function insertReplacement(source, rx, replacement) {
  const newParts = [];
  source.forEach(chunk => {
    // When the source contains multiple placeholders for interpolation,
    // we should ignore chunks that are not strings, because those
    // can be JSX objects and will be otherwise incorrectly turned into strings.
    // Without this condition we’d get this: [object Object] hello [object Object] my <button>
    if (typeof chunk !== 'string') {
      return newParts.push(chunk);
    }

    return rx[Symbol.split](chunk).forEach((raw, i, list) => {
      if (raw !== '') {
        newParts.push(raw);
      } // Interlace with the `replacement` value


      if (i < list.length - 1) {
        newParts.push(replacement);
      }
    });
  });
  return newParts;
}
/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */


function interpolate(phrase, options) {
  const dollarRegex = /\$/g;
  const dollarBillsYall = '$$$$';
  let interpolated = [phrase];
  if (options == null) return interpolated;

  for (const arg of Object.keys(options)) {
    if (arg !== '_') {
      // Ensure replacement value is escaped to prevent special $-prefixed
      // regex replace tokens. the "$$$$" is needed because each "$" needs to
      // be escaped with "$" itself, and we need two in the resulting output.
      let replacement = options[arg];

      if (typeof replacement === 'string') {
        replacement = dollarRegex[Symbol.replace](replacement, dollarBillsYall);
      } // We create a new `RegExp` each time instead of using a more-efficient
      // string replace so that the same argument can be replaced multiple times
      // in the same phrase.


      interpolated = insertReplacement(interpolated, new RegExp(`%\\{${arg}\\}`, 'g'), replacement);
    }
  }

  return interpolated;
}
/**
 * Translates strings with interpolation & pluralization support.
 * Extensible with custom dictionaries and pluralization functions.
 *
 * Borrows heavily from and inspired by Polyglot https://github.com/airbnb/polyglot.js,
 * basically a stripped-down version of it. Differences: pluralization functions are not hardcoded
 * and can be easily added among with dictionaries, nested objects are used for pluralization
 * as opposed to `||||` delimeter
 *
 * Usage example: `translator.translate('files_chosen', {smart_count: 3})`
 */


var _apply = /*#__PURE__*/_classPrivateFieldLooseKey("apply");

class Translator {
  /**
   * @param {object|Array<object>} locales - locale or list of locales.
   */
  constructor(locales) {
    Object.defineProperty(this, _apply, {
      value: _apply2
    });
    this.locale = {
      strings: {},

      pluralize(n) {
        if (n === 1) {
          return 0;
        }

        return 1;
      }

    };

    if (Array.isArray(locales)) {
      locales.forEach(_classPrivateFieldLooseBase(this, _apply)[_apply], this);
    } else {
      _classPrivateFieldLooseBase(this, _apply)[_apply](locales);
    }
  }

  /**
   * Public translate method
   *
   * @param {string} key
   * @param {object} options with values that will be used later to replace placeholders in string
   * @returns {string} translated (and interpolated)
   */
  translate(key, options) {
    return this.translateArray(key, options).join('');
  }
  /**
   * Get a translation and return the translated and interpolated parts as an array.
   *
   * @param {string} key
   * @param {object} options with values that will be used to replace placeholders
   * @returns {Array} The translated and interpolated parts, in order.
   */


  translateArray(key, options) {
    if (!(0,_hasProperty_js__WEBPACK_IMPORTED_MODULE_0__["default"])(this.locale.strings, key)) {
      throw new Error(`missing string: ${key}`);
    }

    const string = this.locale.strings[key];
    const hasPluralForms = typeof string === 'object';

    if (hasPluralForms) {
      if (options && typeof options.smart_count !== 'undefined') {
        const plural = this.locale.pluralize(options.smart_count);
        return interpolate(string[plural], options);
      }

      throw new Error('Attempted to use a string with plural forms, but no value was given for %{smart_count}');
    }

    return interpolate(string, options);
  }

}

function _apply2(locale) {
  if (!(locale != null && locale.strings)) {
    return;
  }

  const prevLocale = this.locale;
  this.locale = { ...prevLocale,
    strings: { ...prevLocale.strings,
      ...locale.strings
    }
  };
  this.locale.pluralize = locale.pluralize || prevLocale.pluralize;
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/canvasToBlob.js":
/*!******************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/canvasToBlob.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ canvasToBlob)
/* harmony export */ });
/**
 * Save a <canvas> element's content to a Blob object.
 *
 * @param {HTMLCanvasElement} canvas
 * @returns {Promise}
 */
function canvasToBlob(canvas, type, quality) {
  return new Promise(resolve => {
    canvas.toBlob(resolve, type, quality);
  });
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/dataURItoBlob.js":
/*!*******************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/dataURItoBlob.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ dataURItoBlob)
/* harmony export */ });
const DATA_URL_PATTERN = /^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;
function dataURItoBlob(dataURI, opts, toFile) {
  var _ref, _opts$mimeType;

  // get the base64 data
  const dataURIData = DATA_URL_PATTERN.exec(dataURI); // user may provide mime type, if not get it from data URI

  const mimeType = (_ref = (_opts$mimeType = opts.mimeType) != null ? _opts$mimeType : dataURIData == null ? void 0 : dataURIData[1]) != null ? _ref : 'plain/text';
  let data;

  if (dataURIData[2] != null) {
    const binary = atob(decodeURIComponent(dataURIData[3]));
    const bytes = new Uint8Array(binary.length);

    for (let i = 0; i < binary.length; i++) {
      bytes[i] = binary.charCodeAt(i);
    }

    data = [bytes];
  } else {
    data = [decodeURIComponent(dataURIData[3])];
  } // Convert to a File?


  if (toFile) {
    return new File(data, opts.name || '', {
      type: mimeType
    });
  }

  return new Blob(data, {
    type: mimeType
  });
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/emitSocketProgress.js":
/*!************************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/emitSocketProgress.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash.throttle */ "./node_modules/lodash.throttle/index.js");


function emitSocketProgress(uploader, progressData, file) {
  const {
    progress,
    bytesUploaded,
    bytesTotal
  } = progressData;

  if (progress) {
    uploader.uppy.log(`Upload progress: ${progress}`);
    uploader.uppy.emit('upload-progress', file, {
      uploader,
      bytesUploaded,
      bytesTotal
    });
  }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (lodash_throttle__WEBPACK_IMPORTED_MODULE_0__(emitSocketProgress, 300, {
  leading: true,
  trailing: true
}));

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/fetchWithNetworkError.js":
/*!***************************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/fetchWithNetworkError.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fetchWithNetworkError)
/* harmony export */ });
/* harmony import */ var _NetworkError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NetworkError.js */ "./node_modules/@uppy/utils/lib/NetworkError.js");

/**
 * Wrapper around window.fetch that throws a NetworkError when appropriate
 */

function fetchWithNetworkError() {
  return fetch(...arguments).catch(err => {
    if (err.name === 'AbortError') {
      throw err;
    } else {
      throw new _NetworkError_js__WEBPACK_IMPORTED_MODULE_0__["default"](err);
    }
  });
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/findAllDOMElements.js":
/*!************************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/findAllDOMElements.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ findAllDOMElements)
/* harmony export */ });
/* harmony import */ var _isDOMElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isDOMElement.js */ "./node_modules/@uppy/utils/lib/isDOMElement.js");

/**
 * Find one or more DOM elements.
 *
 * @param {string|Node} element
 * @returns {Node[]|null}
 */

function findAllDOMElements(element) {
  if (typeof element === 'string') {
    const elements = document.querySelectorAll(element);
    return elements.length === 0 ? null : Array.from(elements);
  }

  if (typeof element === 'object' && (0,_isDOMElement_js__WEBPACK_IMPORTED_MODULE_0__["default"])(element)) {
    return [element];
  }

  return null;
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/findDOMElement.js":
/*!********************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/findDOMElement.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ findDOMElement)
/* harmony export */ });
/* harmony import */ var _isDOMElement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isDOMElement.js */ "./node_modules/@uppy/utils/lib/isDOMElement.js");

/**
 * Find a DOM element.
 *
 * @param {Node|string} element
 * @returns {Node|null}
 */

function findDOMElement(element, context) {
  if (context === void 0) {
    context = document;
  }

  if (typeof element === 'string') {
    return context.querySelector(element);
  }

  if ((0,_isDOMElement_js__WEBPACK_IMPORTED_MODULE_0__["default"])(element)) {
    return element;
  }

  return null;
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/generateFileID.js":
/*!********************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/generateFileID.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ generateFileID),
/* harmony export */   "getSafeFileId": () => (/* binding */ getSafeFileId)
/* harmony export */ });
/* harmony import */ var _getFileType_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getFileType.js */ "./node_modules/@uppy/utils/lib/getFileType.js");


function encodeCharacter(character) {
  return character.charCodeAt(0).toString(32);
}

function encodeFilename(name) {
  let suffix = '';
  return name.replace(/[^A-Z0-9]/ig, character => {
    suffix += `-${encodeCharacter(character)}`;
    return '/';
  }) + suffix;
}
/**
 * Takes a file object and turns it into fileID, by converting file.name to lowercase,
 * removing extra characters and adding type, size and lastModified
 *
 * @param {object} file
 * @returns {string} the fileID
 */


function generateFileID(file) {
  // It's tempting to do `[items].filter(Boolean).join('-')` here, but that
  // is slower! simple string concatenation is fast
  let id = 'uppy';

  if (typeof file.name === 'string') {
    id += `-${encodeFilename(file.name.toLowerCase())}`;
  }

  if (file.type !== undefined) {
    id += `-${file.type}`;
  }

  if (file.meta && typeof file.meta.relativePath === 'string') {
    id += `-${encodeFilename(file.meta.relativePath.toLowerCase())}`;
  }

  if (file.data.size !== undefined) {
    id += `-${file.data.size}`;
  }

  if (file.data.lastModified !== undefined) {
    id += `-${file.data.lastModified}`;
  }

  return id;
} // If the provider has a stable, unique ID, then we can use that to identify the file.
// Then we don't have to generate our own ID, and we can add the same file many times if needed (different path)

function hasFileStableId(file) {
  if (!file.isRemote || !file.remote) return false; // These are the providers that it seems like have stable IDs for their files. The other's I haven't checked yet.

  const stableIdProviders = new Set(['box', 'dropbox', 'drive', 'facebook', 'unsplash']);
  return stableIdProviders.has(file.remote.provider);
}

function getSafeFileId(file) {
  if (hasFileStableId(file)) return file.id;
  const fileType = (0,_getFileType_js__WEBPACK_IMPORTED_MODULE_0__["default"])(file);
  return generateFileID({ ...file,
    type: fileType
  });
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/getBytesRemaining.js":
/*!***********************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/getBytesRemaining.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getBytesRemaining)
/* harmony export */ });
function getBytesRemaining(fileProgress) {
  return fileProgress.bytesTotal - fileProgress.bytesUploaded;
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/getDroppedFiles/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/getDroppedFiles/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getDroppedFiles)
/* harmony export */ });
/* harmony import */ var _utils_webkitGetAsEntryApi_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/webkitGetAsEntryApi/index.js */ "./node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/index.js");
/* harmony import */ var _utils_fallbackApi_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/fallbackApi.js */ "./node_modules/@uppy/utils/lib/getDroppedFiles/utils/fallbackApi.js");


/**
 * Returns a promise that resolves to the array of dropped files (if a folder is
 * dropped, and browser supports folder parsing - promise resolves to the flat
 * array of all files in all directories).
 * Each file has .relativePath prop appended to it (e.g. "/docs/Prague/ticket_from_prague_to_ufa.pdf")
 * if browser supports it. Otherwise it's undefined.
 *
 * @param {DataTransfer} dataTransfer
 * @param {Function} logDropError - a function that's called every time some
 * folder or some file error out (e.g. because of the folder name being too long
 * on Windows). Notice that resulting promise will always be resolved anyway.
 *
 * @returns {Promise} - Array<File>
 */

async function getDroppedFiles(dataTransfer, _temp) {
  let {
    logDropError = () => {}
  } = _temp === void 0 ? {} : _temp;

  // Get all files from all subdirs. Works (at least) in Chrome, Mozilla, and Safari
  try {
    const accumulator = [];

    for await (const file of (0,_utils_webkitGetAsEntryApi_index_js__WEBPACK_IMPORTED_MODULE_0__["default"])(dataTransfer, logDropError)) {
      accumulator.push(file);
    }

    return accumulator; // Otherwise just return all first-order files
  } catch {
    return (0,_utils_fallbackApi_js__WEBPACK_IMPORTED_MODULE_1__["default"])(dataTransfer);
  }
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/getDroppedFiles/utils/fallbackApi.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/getDroppedFiles/utils/fallbackApi.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fallbackApi)
/* harmony export */ });
/* harmony import */ var _toArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../toArray.js */ "./node_modules/@uppy/utils/lib/toArray.js");
 // .files fallback, should be implemented in any browser

function fallbackApi(dataTransfer) {
  const files = (0,_toArray_js__WEBPACK_IMPORTED_MODULE_0__["default"])(dataTransfer.files);
  return Promise.resolve(files);
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/getFilesAndDirectoriesFromDirectory.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/getFilesAndDirectoriesFromDirectory.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getFilesAndDirectoriesFromDirectory)
/* harmony export */ });
/**
 * Recursive function, calls the original callback() when the directory is entirely parsed.
 *
 * @param {FileSystemDirectoryReader} directoryReader
 * @param {Array} oldEntries
 * @param {Function} logDropError
 * @param {Function} callback - called with ([ all files and directories in that directoryReader ])
 */
function getFilesAndDirectoriesFromDirectory(directoryReader, oldEntries, logDropError, _ref) {
  let {
    onSuccess
  } = _ref;
  directoryReader.readEntries(entries => {
    const newEntries = [...oldEntries, ...entries]; // According to the FileSystem API spec, getFilesAndDirectoriesFromDirectory()
    // must be called until it calls the onSuccess with an empty array.

    if (entries.length) {
      queueMicrotask(() => {
        getFilesAndDirectoriesFromDirectory(directoryReader, newEntries, logDropError, {
          onSuccess
        });
      }); // Done iterating this particular directory
    } else {
      onSuccess(newEntries);
    }
  }, // Make sure we resolve on error anyway, it's fine if only one directory couldn't be parsed!
  error => {
    logDropError(error);
    onSuccess(oldEntries);
  });
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/index.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/index.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getFilesFromDataTransfer)
/* harmony export */ });
/* harmony import */ var _getFilesAndDirectoriesFromDirectory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getFilesAndDirectoriesFromDirectory.js */ "./node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/getFilesAndDirectoriesFromDirectory.js");

/**
 * Polyfill for the new (experimental) getAsFileSystemHandle API (using the popular webkitGetAsEntry behind the scenes)
 * so that we can switch to the getAsFileSystemHandle API once it (hopefully) becomes standard
 */

function getAsFileSystemHandleFromEntry(entry, logDropError) {
  if (entry == null) return entry;
  return {
    // eslint-disable-next-line no-nested-ternary
    kind: entry.isFile ? 'file' : entry.isDirectory ? 'directory' : undefined,
    name: entry.name,

    getFile() {
      return new Promise((resolve, reject) => entry.file(resolve, reject));
    },

    async *values() {
      // If the file is a directory.
      const directoryReader = entry.createReader();
      const entries = await new Promise(resolve => {
        (0,_getFilesAndDirectoriesFromDirectory_js__WEBPACK_IMPORTED_MODULE_0__["default"])(directoryReader, [], logDropError, {
          onSuccess: dirEntries => resolve(dirEntries.map(file => getAsFileSystemHandleFromEntry(file, logDropError)))
        });
      });
      yield* entries;
    }

  };
}

async function* createPromiseToAddFileOrParseDirectory(entry, relativePath, lastResortFile) {
  if (lastResortFile === void 0) {
    lastResortFile = undefined;
  }

  // For each dropped item, - make sure it's a file/directory, and start deepening in!
  if (entry.kind === 'file') {
    const file = await entry.getFile();

    if (file != null) {
      file.relativePath = relativePath ? `${relativePath}/${entry.name}` : null;
      yield file;
    } else if (lastResortFile != null) yield lastResortFile;
  } else if (entry.kind === 'directory') {
    for await (const handle of entry.values()) {
      // Recurse on the directory, appending the dir name to the relative path
      yield* createPromiseToAddFileOrParseDirectory(handle, `${relativePath}/${entry.name}`);
    }
  } else if (lastResortFile != null) yield lastResortFile;
}
/**
 * Load all files from data transfer, and recursively read any directories.
 * Note that IE is not supported for drag-drop, because IE doesn't support Data Transfers
 *
 * @param {DataTransfer} dataTransfer
 * @param {*} logDropError on error
 */


async function* getFilesFromDataTransfer(dataTransfer, logDropError) {
  // Retrieving the dropped items must happen synchronously
  // otherwise only the first item gets treated and the other ones are garbage collected.
  // https://github.com/transloadit/uppy/pull/3998
  const fileSystemHandles = await Promise.all(Array.from(dataTransfer.items, async item => {
    var _fileSystemHandle;

    let fileSystemHandle; // TODO enable getAsFileSystemHandle API once we can get it working with subdirectories
    // IMPORTANT: Need to check isSecureContext *before* calling getAsFileSystemHandle
    // or else Chrome will crash when running in HTTP: https://github.com/transloadit/uppy/issues/4133
    // if (window.isSecureContext && item.getAsFileSystemHandle != null) entry = await item.getAsFileSystemHandle()
    // `webkitGetAsEntry` exists in all popular browsers (including non-WebKit browsers),
    // however it may be renamed to getAsEntry() in the future, so you should code defensively, looking for both.
    // from https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem/webkitGetAsEntry

    const getAsEntry = () => typeof item.getAsEntry === 'function' ? item.getAsEntry() : item.webkitGetAsEntry(); // eslint-disable-next-line prefer-const


    (_fileSystemHandle = fileSystemHandle) != null ? _fileSystemHandle : fileSystemHandle = getAsFileSystemHandleFromEntry(getAsEntry(), logDropError);
    return {
      fileSystemHandle,
      lastResortFile: item.getAsFile() // can be used as a fallback in case other methods fail

    };
  }));

  for (const {
    lastResortFile,
    fileSystemHandle
  } of fileSystemHandles) {
    // fileSystemHandle and lastResortFile can be null when we drop an url.
    if (fileSystemHandle != null) {
      try {
        yield* createPromiseToAddFileOrParseDirectory(fileSystemHandle, '', lastResortFile);
      } catch (err) {
        // Example: If dropping a symbolic link, Chromium will throw:
        // "DOMException: A requested file or directory could not be found at the time an operation was processed.",
        // So we will use lastResortFile instead. See https://github.com/transloadit/uppy/issues/3505.
        if (lastResortFile != null) {
          yield lastResortFile;
        } else {
          logDropError(err);
        }
      }
    } else if (lastResortFile != null) yield lastResortFile;
  }
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/getFileNameAndExtension.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/getFileNameAndExtension.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getFileNameAndExtension)
/* harmony export */ });
/**
 * Takes a full filename string and returns an object {name, extension}
 *
 * @param {string} fullFileName
 * @returns {object} {name, extension}
 */
function getFileNameAndExtension(fullFileName) {
  const lastDot = fullFileName.lastIndexOf('.'); // these count as no extension: "no-dot", "trailing-dot."

  if (lastDot === -1 || lastDot === fullFileName.length - 1) {
    return {
      name: fullFileName,
      extension: undefined
    };
  }

  return {
    name: fullFileName.slice(0, lastDot),
    extension: fullFileName.slice(lastDot + 1)
  };
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/getFileType.js":
/*!*****************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/getFileType.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getFileType)
/* harmony export */ });
/* harmony import */ var _getFileNameAndExtension_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getFileNameAndExtension.js */ "./node_modules/@uppy/utils/lib/getFileNameAndExtension.js");
/* harmony import */ var _mimeTypes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mimeTypes.js */ "./node_modules/@uppy/utils/lib/mimeTypes.js");


function getFileType(file) {
  var _getFileNameAndExtens;

  if (file.type) return file.type;
  const fileExtension = file.name ? (_getFileNameAndExtens = (0,_getFileNameAndExtension_js__WEBPACK_IMPORTED_MODULE_0__["default"])(file.name).extension) == null ? void 0 : _getFileNameAndExtens.toLowerCase() : null;

  if (fileExtension && fileExtension in _mimeTypes_js__WEBPACK_IMPORTED_MODULE_1__["default"]) {
    // else, see if we can map extension to a mime type
    return _mimeTypes_js__WEBPACK_IMPORTED_MODULE_1__["default"][fileExtension];
  } // if all fails, fall back to a generic byte stream type


  return 'application/octet-stream';
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/getFileTypeExtension.js":
/*!**************************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/getFileTypeExtension.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getFileTypeExtension)
/* harmony export */ });
const mimeToExtensions = {
  'audio/mp3': 'mp3',
  'audio/mp4': 'mp4',
  'audio/ogg': 'ogg',
  'audio/webm': 'webm',
  'image/gif': 'gif',
  'image/heic': 'heic',
  'image/heif': 'heif',
  'image/jpeg': 'jpg',
  'image/png': 'png',
  'image/svg+xml': 'svg',
  'video/mp4': 'mp4',
  'video/ogg': 'ogv',
  'video/quicktime': 'mov',
  'video/webm': 'webm',
  'video/x-matroska': 'mkv',
  'video/x-msvideo': 'avi'
};
function getFileTypeExtension(mimeType) {
  // Remove the ; bit in 'video/x-matroska;codecs=avc1'
  // eslint-disable-next-line no-param-reassign
  [mimeType] = mimeType.split(';', 1);
  return mimeToExtensions[mimeType] || null;
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/getSocketHost.js":
/*!*******************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/getSocketHost.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getSocketHost)
/* harmony export */ });
function getSocketHost(url) {
  // get the host domain
  const regex = /^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i;
  const host = regex.exec(url)[1];
  const socketProtocol = /^http:\/\//i.test(url) ? 'ws' : 'wss';
  return `${socketProtocol}://${host}`;
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/getSpeed.js":
/*!**************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/getSpeed.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getSpeed)
/* harmony export */ });
function getSpeed(fileProgress) {
  if (!fileProgress.bytesUploaded) return 0;
  const timeElapsed = Date.now() - fileProgress.uploadStarted;
  const uploadSpeed = fileProgress.bytesUploaded / (timeElapsed / 1000);
  return uploadSpeed;
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/getTextDirection.js":
/*!**********************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/getTextDirection.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * Get the declared text direction for an element.
 *
 * @param {Node} element
 * @returns {string|undefined}
 */
function getTextDirection(element) {
  var _element;

  // There is another way to determine text direction using getComputedStyle(), as done here:
  // https://github.com/pencil-js/text-direction/blob/2a235ce95089b3185acec3b51313cbba921b3811/text-direction.js
  //
  // We do not use that approach because we are interested specifically in the _declared_ text direction.
  // If no text direction is declared, we have to provide our own explicit text direction so our
  // bidirectional CSS style sheets work.
  while (element && !element.dir) {
    // eslint-disable-next-line no-param-reassign
    element = element.parentNode;
  }

  return (_element = element) == null ? void 0 : _element.dir;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getTextDirection);

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/getTimeStamp.js":
/*!******************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/getTimeStamp.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getTimeStamp)
/* harmony export */ });
/**
 * Adds zero to strings shorter than two characters.
 *
 * @param {number} number
 * @returns {string}
 */
function pad(number) {
  return number < 10 ? `0${number}` : number.toString();
}
/**
 * Returns a timestamp in the format of `hours:minutes:seconds`
 */


function getTimeStamp() {
  const date = new Date();
  const hours = pad(date.getHours());
  const minutes = pad(date.getMinutes());
  const seconds = pad(date.getSeconds());
  return `${hours}:${minutes}:${seconds}`;
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/hasProperty.js":
/*!*****************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/hasProperty.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ has)
/* harmony export */ });
function has(object, key) {
  return Object.prototype.hasOwnProperty.call(object, key);
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/isDOMElement.js":
/*!******************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/isDOMElement.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ isDOMElement)
/* harmony export */ });
/**
 * Check if an object is a DOM element. Duck-typing based on `nodeType`.
 *
 * @param {*} obj
 */
function isDOMElement(obj) {
  return (obj == null ? void 0 : obj.nodeType) === Node.ELEMENT_NODE;
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/isDragDropSupported.js":
/*!*************************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/isDragDropSupported.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ isDragDropSupported)
/* harmony export */ });
/**
 * Checks if the browser supports Drag & Drop (not supported on mobile devices, for example).
 *
 * @returns {boolean}
 */
function isDragDropSupported() {
  const div = document.body;

  if (!('draggable' in div) || !('ondragstart' in div && 'ondrop' in div)) {
    return false;
  }

  if (!('FormData' in window)) {
    return false;
  }

  if (!('FileReader' in window)) {
    return false;
  }

  return true;
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/isNetworkError.js":
/*!********************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/isNetworkError.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
function isNetworkError(xhr) {
  if (!xhr) {
    return false;
  }

  return xhr.readyState !== 0 && xhr.readyState !== 4 || xhr.status === 0;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isNetworkError);

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/isObjectURL.js":
/*!*****************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/isObjectURL.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ isObjectURL)
/* harmony export */ });
/**
 * Check if a URL string is an object URL from `URL.createObjectURL`.
 *
 * @param {string} url
 * @returns {boolean}
 */
function isObjectURL(url) {
  return url.startsWith('blob:');
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/isPreviewSupported.js":
/*!************************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/isPreviewSupported.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ isPreviewSupported)
/* harmony export */ });
function isPreviewSupported(fileType) {
  if (!fileType) return false; // list of images that browsers can preview

  return /^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(fileType);
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/mimeTypes.js":
/*!***************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/mimeTypes.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// ___Why not add the mime-types package?
//    It's 19.7kB gzipped, and we only need mime types for well-known extensions (for file previews).
// ___Where to take new extensions from?
//    https://github.com/jshttp/mime-db/blob/master/db.json
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  md: 'text/markdown',
  markdown: 'text/markdown',
  mp4: 'video/mp4',
  mp3: 'audio/mp3',
  svg: 'image/svg+xml',
  jpg: 'image/jpeg',
  png: 'image/png',
  webp: 'image/webp',
  gif: 'image/gif',
  heic: 'image/heic',
  heif: 'image/heif',
  yaml: 'text/yaml',
  yml: 'text/yaml',
  csv: 'text/csv',
  tsv: 'text/tab-separated-values',
  tab: 'text/tab-separated-values',
  avi: 'video/x-msvideo',
  mks: 'video/x-matroska',
  mkv: 'video/x-matroska',
  mov: 'video/quicktime',
  dicom: 'application/dicom',
  doc: 'application/msword',
  docm: 'application/vnd.ms-word.document.macroenabled.12',
  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
  dot: 'application/msword',
  dotm: 'application/vnd.ms-word.template.macroenabled.12',
  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',
  xla: 'application/vnd.ms-excel',
  xlam: 'application/vnd.ms-excel.addin.macroenabled.12',
  xlc: 'application/vnd.ms-excel',
  xlf: 'application/x-xliff+xml',
  xlm: 'application/vnd.ms-excel',
  xls: 'application/vnd.ms-excel',
  xlsb: 'application/vnd.ms-excel.sheet.binary.macroenabled.12',
  xlsm: 'application/vnd.ms-excel.sheet.macroenabled.12',
  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
  xlt: 'application/vnd.ms-excel',
  xltm: 'application/vnd.ms-excel.template.macroenabled.12',
  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',
  xlw: 'application/vnd.ms-excel',
  txt: 'text/plain',
  text: 'text/plain',
  conf: 'text/plain',
  log: 'text/plain',
  pdf: 'application/pdf',
  zip: 'application/zip',
  '7z': 'application/x-7z-compressed',
  rar: 'application/x-rar-compressed',
  tar: 'application/x-tar',
  gz: 'application/gzip',
  dmg: 'application/x-apple-diskimage'
});

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/prettyETA.js":
/*!***************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/prettyETA.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ prettyETA)
/* harmony export */ });
/* harmony import */ var _secondsToTime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./secondsToTime.js */ "./node_modules/@uppy/utils/lib/secondsToTime.js");

function prettyETA(seconds) {
  const time = (0,_secondsToTime_js__WEBPACK_IMPORTED_MODULE_0__["default"])(seconds); // Only display hours and minutes if they are greater than 0 but always
  // display minutes if hours is being displayed
  // Display a leading zero if the there is a preceding unit: 1m 05s, but 5s

  const hoursStr = time.hours === 0 ? '' : `${time.hours}h`;
  const minutesStr = time.minutes === 0 ? '' : `${time.hours === 0 ? time.minutes : ` ${time.minutes.toString(10).padStart(2, '0')}`}m`;
  const secondsStr = time.hours !== 0 ? '' : `${time.minutes === 0 ? time.seconds : ` ${time.seconds.toString(10).padStart(2, '0')}`}s`;
  return `${hoursStr}${minutesStr}${secondsStr}`;
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/remoteFileObjToLocal.js":
/*!**************************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/remoteFileObjToLocal.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ remoteFileObjToLocal)
/* harmony export */ });
/* harmony import */ var _getFileNameAndExtension_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getFileNameAndExtension.js */ "./node_modules/@uppy/utils/lib/getFileNameAndExtension.js");

function remoteFileObjToLocal(file) {
  return { ...file,
    type: file.mimeType,
    extension: file.name ? (0,_getFileNameAndExtension_js__WEBPACK_IMPORTED_MODULE_0__["default"])(file.name).extension : null
  };
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/secondsToTime.js":
/*!*******************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/secondsToTime.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ secondsToTime)
/* harmony export */ });
function secondsToTime(rawSeconds) {
  const hours = Math.floor(rawSeconds / 3600) % 24;
  const minutes = Math.floor(rawSeconds / 60) % 60;
  const seconds = Math.floor(rawSeconds % 60);
  return {
    hours,
    minutes,
    seconds
  };
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/settle.js":
/*!************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/settle.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ settle)
/* harmony export */ });
function settle(promises) {
  const resolutions = [];
  const rejections = [];

  function resolved(value) {
    resolutions.push(value);
  }

  function rejected(error) {
    rejections.push(error);
  }

  const wait = Promise.all(promises.map(promise => promise.then(resolved, rejected)));
  return wait.then(() => {
    return {
      successful: resolutions,
      failed: rejections
    };
  });
}

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/toArray.js":
/*!*************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/toArray.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * Converts list into array
 */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Array.from);

/***/ }),

/***/ "./node_modules/@uppy/utils/lib/truncateString.js":
/*!********************************************************!*\
  !*** ./node_modules/@uppy/utils/lib/truncateString.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ truncateString)
/* harmony export */ });
/**
 * Truncates a string to the given number of chars (maxLength) by inserting '...' in the middle of that string.
 * Partially taken from https://stackoverflow.com/a/5723274/3192470.
 *
 * @param {string} string - string to be truncated
 * @param {number} maxLength - maximum size of the resulting string
 * @returns {string}
 */
const separator = '...';
function truncateString(string, maxLength) {
  // Return the empty string if maxLength is zero
  if (maxLength === 0) return ''; // Return original string if it's already shorter than maxLength

  if (string.length <= maxLength) return string; // Return truncated substring appended of the ellipsis char if string can't be meaningfully truncated

  if (maxLength <= separator.length + 1) return `${string.slice(0, maxLength - 1)}…`;
  const charsToShow = maxLength - separator.length;
  const frontChars = Math.ceil(charsToShow / 2);
  const backChars = Math.floor(charsToShow / 2);
  return string.slice(0, frontChars) + separator + string.slice(-backChars);
}

/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/CameraIcon.js":
/*!*****************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/CameraIcon.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (() => {
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    fill: "#0097DC",
    width: "66",
    height: "55",
    viewBox: "0 0 66 55"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",
    fillRule: "evenodd"
  }));
});

/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/CameraScreen.js":
/*!*******************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/CameraScreen.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _SnapshotButton_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SnapshotButton.js */ "./node_modules/@uppy/webcam/lib/SnapshotButton.js");
/* harmony import */ var _RecordButton_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RecordButton.js */ "./node_modules/@uppy/webcam/lib/RecordButton.js");
/* harmony import */ var _RecordingLength_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RecordingLength.js */ "./node_modules/@uppy/webcam/lib/RecordingLength.js");
/* harmony import */ var _VideoSourceSelect_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./VideoSourceSelect.js */ "./node_modules/@uppy/webcam/lib/VideoSourceSelect.js");
/* harmony import */ var _SubmitButton_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SubmitButton.js */ "./node_modules/@uppy/webcam/lib/SubmitButton.js");
/* harmony import */ var _DiscardButton_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DiscardButton.js */ "./node_modules/@uppy/webcam/lib/DiscardButton.js");
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* eslint-disable jsx-a11y/media-has-caption */








function isModeAvailable(modes, mode) {
  return modes.includes(mode);
}

class CameraScreen extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {
  componentDidMount() {
    const {
      onFocus
    } = this.props;
    onFocus();
  }

  componentWillUnmount() {
    const {
      onStop
    } = this.props;
    onStop();
  }

  render() {
    const {
      src,
      recordedVideo,
      recording,
      modes,
      supportsRecording,
      videoSources,
      showVideoSourceDropdown,
      showRecordingLength,
      onSubmit,
      i18n,
      mirror,
      onSnapshot,
      onStartRecording,
      onStopRecording,
      onDiscardRecordedVideo,
      recordingLengthSeconds
    } = this.props;
    const hasRecordedVideo = !!recordedVideo;
    const shouldShowRecordButton = !hasRecordedVideo && supportsRecording && (isModeAvailable(modes, 'video-only') || isModeAvailable(modes, 'audio-only') || isModeAvailable(modes, 'video-audio'));
    const shouldShowSnapshotButton = !hasRecordedVideo && isModeAvailable(modes, 'picture');
    const shouldShowRecordingLength = supportsRecording && showRecordingLength && !hasRecordedVideo;
    const shouldShowVideoSourceDropdown = showVideoSourceDropdown && videoSources && videoSources.length > 1;
    const videoProps = {
      playsinline: true
    };

    if (recordedVideo) {
      videoProps.muted = false;
      videoProps.controls = true;
      videoProps.src = recordedVideo; // reset srcObject in dom. If not resetted, stream sticks in element

      if (this.videoElement) {
        this.videoElement.srcObject = undefined;
      }
    } else {
      videoProps.muted = true;
      videoProps.autoplay = true;
      videoProps.srcObject = src;
    }

    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy uppy-Webcam-container"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Webcam-videoContainer"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("video", _extends({
      /* eslint-disable-next-line no-return-assign */
      ref: videoElement => this.videoElement = videoElement,
      className: `uppy-Webcam-video  ${mirror ? 'uppy-Webcam-video--mirrored' : ''}`
      /* eslint-disable-next-line react/jsx-props-no-spreading */

    }, videoProps))), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Webcam-footer"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Webcam-videoSourceContainer"
    }, shouldShowVideoSourceDropdown ? (0,_VideoSourceSelect_js__WEBPACK_IMPORTED_MODULE_4__["default"])(this.props) : null), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Webcam-buttonContainer"
    }, shouldShowSnapshotButton && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_SnapshotButton_js__WEBPACK_IMPORTED_MODULE_1__["default"], {
      onSnapshot: onSnapshot,
      i18n: i18n
    }), shouldShowRecordButton && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_RecordButton_js__WEBPACK_IMPORTED_MODULE_2__["default"], {
      recording: recording,
      onStartRecording: onStartRecording,
      onStopRecording: onStopRecording,
      i18n: i18n
    }), hasRecordedVideo && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_SubmitButton_js__WEBPACK_IMPORTED_MODULE_5__["default"], {
      onSubmit: onSubmit,
      i18n: i18n
    }), hasRecordedVideo && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_DiscardButton_js__WEBPACK_IMPORTED_MODULE_6__["default"], {
      onDiscard: onDiscardRecordedVideo,
      i18n: i18n
    })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      className: "uppy-Webcam-recordingLength"
    }, shouldShowRecordingLength && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_RecordingLength_js__WEBPACK_IMPORTED_MODULE_3__["default"], {
      recordingLengthSeconds: recordingLengthSeconds,
      i18n: i18n
    }))));
  }

}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CameraScreen);

/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/DiscardButton.js":
/*!********************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/DiscardButton.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");


function DiscardButton(_ref) {
  let {
    onDiscard,
    i18n
  } = _ref;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",
    type: "button",
    title: i18n('discardRecordedFile'),
    "aria-label": i18n('discardRecordedFile'),
    onClick: onDiscard,
    "data-uppy-super-focusable": true
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    width: "13",
    height: "13",
    viewBox: "0 0 13 13",
    xmlns: "http://www.w3.org/2000/svg",
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
    fill: "#FFF",
    fillRule: "evenodd"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    d: "M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"
  }))));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DiscardButton);

/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/PermissionsScreen.js":
/*!************************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/PermissionsScreen.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_ref => {
  let {
    icon,
    i18n,
    hasCamera
  } = _ref;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Webcam-permissons"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Webcam-permissonsIcon"
  }, icon()), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("h1", {
    className: "uppy-Webcam-title"
  }, hasCamera ? i18n('allowAccessTitle') : i18n('noCameraTitle')), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("p", null, hasCamera ? i18n('allowAccessDescription') : i18n('noCameraDescription')));
});

/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/RecordButton.js":
/*!*******************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/RecordButton.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ RecordButton)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");

function RecordButton(_ref) {
  let {
    recording,
    onStartRecording,
    onStopRecording,
    i18n
  } = _ref;

  if (recording) {
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
      className: "uppy-u-reset uppy-c-btn uppy-Webcam-button",
      type: "button",
      title: i18n('stopRecording'),
      "aria-label": i18n('stopRecording'),
      onClick: onStopRecording,
      "data-uppy-super-focusable": true
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
      "aria-hidden": "true",
      focusable: "false",
      className: "uppy-c-icon",
      width: "100",
      height: "100",
      viewBox: "0 0 100 100"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("rect", {
      x: "15",
      y: "15",
      width: "70",
      height: "70"
    })));
  }

  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-c-btn uppy-Webcam-button",
    type: "button",
    title: i18n('startRecording'),
    "aria-label": i18n('startRecording'),
    onClick: onStartRecording,
    "data-uppy-super-focusable": true
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon",
    width: "100",
    height: "100",
    viewBox: "0 0 100 100"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("circle", {
    cx: "50",
    cy: "50",
    r: "40"
  })));
}

/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/RecordingLength.js":
/*!**********************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/RecordingLength.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ RecordingLength)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _formatSeconds_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./formatSeconds.js */ "./node_modules/@uppy/webcam/lib/formatSeconds.js");


function RecordingLength(_ref) {
  let {
    recordingLengthSeconds,
    i18n
  } = _ref;
  const formattedRecordingLengthSeconds = (0,_formatSeconds_js__WEBPACK_IMPORTED_MODULE_1__["default"])(recordingLengthSeconds);
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
    "aria-label": i18n('recordingLength', {
      recording_length: formattedRecordingLengthSeconds
    })
  }, formattedRecordingLengthSeconds);
}

/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/SnapshotButton.js":
/*!*********************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/SnapshotButton.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _CameraIcon_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CameraIcon.js */ "./node_modules/@uppy/webcam/lib/CameraIcon.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_ref => {
  let {
    onSnapshot,
    i18n
  } = _ref;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",
    type: "button",
    title: i18n('takePicture'),
    "aria-label": i18n('takePicture'),
    onClick: onSnapshot,
    "data-uppy-super-focusable": true
  }, (0,_CameraIcon_js__WEBPACK_IMPORTED_MODULE_1__["default"])());
});

/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/SubmitButton.js":
/*!*******************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/SubmitButton.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");


function SubmitButton(_ref) {
  let {
    onSubmit,
    i18n
  } = _ref;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
    className: "uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",
    type: "button",
    title: i18n('submitRecordedFile'),
    "aria-label": i18n('submitRecordedFile'),
    onClick: onSubmit,
    "data-uppy-super-focusable": true
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
    width: "12",
    height: "9",
    viewBox: "0 0 12 9",
    xmlns: "http://www.w3.org/2000/svg",
    "aria-hidden": "true",
    focusable: "false",
    className: "uppy-c-icon"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
    fill: "#fff",
    fillRule: "nonzero",
    d: "M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"
  })));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SubmitButton);

/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/VideoSourceSelect.js":
/*!************************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/VideoSourceSelect.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_ref => {
  let {
    currentDeviceId,
    videoSources,
    onChangeVideoSource
  } = _ref;
  return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
    className: "uppy-Webcam-videoSource"
  }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("select", {
    className: "uppy-u-reset uppy-Webcam-videoSource-select",
    onChange: event => {
      onChangeVideoSource(event.target.value);
    }
  }, videoSources.map(videoSource => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("option", {
    key: videoSource.deviceId,
    value: videoSource.deviceId,
    selected: videoSource.deviceId === currentDeviceId
  }, videoSource.label))));
});

/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/Webcam.js":
/*!*************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/Webcam.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Webcam)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.module.js");
/* harmony import */ var _uppy_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/core */ "./node_modules/@uppy/core/lib/index.js");
/* harmony import */ var _uppy_utils_lib_getFileTypeExtension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/utils/lib/getFileTypeExtension */ "./node_modules/@uppy/utils/lib/getFileTypeExtension.js");
/* harmony import */ var _uppy_utils_lib_mimeTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uppy/utils/lib/mimeTypes */ "./node_modules/@uppy/utils/lib/mimeTypes.js");
/* harmony import */ var is_mobile__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! is-mobile */ "./node_modules/is-mobile/index.js");
/* harmony import */ var _uppy_utils_lib_canvasToBlob__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @uppy/utils/lib/canvasToBlob */ "./node_modules/@uppy/utils/lib/canvasToBlob.js");
/* harmony import */ var _supportsMediaRecorder_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./supportsMediaRecorder.js */ "./node_modules/@uppy/webcam/lib/supportsMediaRecorder.js");
/* harmony import */ var _CameraIcon_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./CameraIcon.js */ "./node_modules/@uppy/webcam/lib/CameraIcon.js");
/* harmony import */ var _CameraScreen_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./CameraScreen.js */ "./node_modules/@uppy/webcam/lib/CameraScreen.js");
/* harmony import */ var _PermissionsScreen_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./PermissionsScreen.js */ "./node_modules/@uppy/webcam/lib/PermissionsScreen.js");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@uppy/webcam/lib/locale.js");
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError("attempted to use private field on non-instance"); } return receiver; }

var id = 0;

function _classPrivateFieldLooseKey(name) { return "__private_" + id++ + "_" + name; }











const packageJson = {
  "version": "3.3.0"
};

/**
 * Normalize a MIME type or file extension into a MIME type.
 *
 * @param {string} fileType - MIME type or a file extension prefixed with `.`.
 * @returns {string|undefined} The MIME type or `undefined` if the fileType is an extension and is not known.
 */

function toMimeType(fileType) {
  if (fileType[0] === '.') {
    return _uppy_utils_lib_mimeTypes__WEBPACK_IMPORTED_MODULE_3__["default"][fileType.slice(1)];
  }

  return fileType;
}
/**
 * Is this MIME type a video?
 *
 * @param {string} mimeType - MIME type.
 * @returns {boolean}
 */


function isVideoMimeType(mimeType) {
  return /^video\/[^*]+$/.test(mimeType);
}
/**
 * Is this MIME type an image?
 *
 * @param {string} mimeType - MIME type.
 * @returns {boolean}
 */


function isImageMimeType(mimeType) {
  return /^image\/[^*]+$/.test(mimeType);
}

function getMediaDevices() {
  // bug in the compatibility data
  // eslint-disable-next-line compat/compat
  return navigator.mediaDevices;
}

function isModeAvailable(modes, mode) {
  return modes.includes(mode);
}
/**
 * Webcam
 */


var _enableMirror = /*#__PURE__*/_classPrivateFieldLooseKey("enableMirror");

class Webcam extends _uppy_core__WEBPACK_IMPORTED_MODULE_1__.UIPlugin {
  // enableMirror is used to toggle mirroring, for instance when discarding the video,
  // while `opts.mirror` is used to remember the initial user setting
  constructor(uppy, opts) {
    super(uppy, opts);
    Object.defineProperty(this, _enableMirror, {
      writable: true,
      value: void 0
    });
    this.mediaDevices = getMediaDevices();
    this.supportsUserMedia = !!this.mediaDevices; // eslint-disable-next-line no-restricted-globals

    this.protocol = location.protocol.match(/https/i) ? 'https' : 'http';
    this.id = this.opts.id || 'Webcam';
    this.type = 'acquirer';
    this.capturedMediaFile = null;

    this.icon = () => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
      "aria-hidden": "true",
      focusable: "false",
      width: "32",
      height: "32",
      viewBox: "0 0 32 32"
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
      d: "M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",
      fill: "#02B383",
      fillRule: "nonzero"
    }));

    this.defaultLocale = _locale_js__WEBPACK_IMPORTED_MODULE_10__["default"]; // set default options

    const defaultOptions = {
      onBeforeSnapshot: () => Promise.resolve(),
      countdown: false,
      modes: ['video-audio', 'video-only', 'audio-only', 'picture'],
      mirror: true,
      showVideoSourceDropdown: false,
      facingMode: 'user',
      // @TODO: remove in the next major
      videoConstraints: undefined,
      preferredImageMimeType: null,
      preferredVideoMimeType: null,
      showRecordingLength: false,
      mobileNativeCamera: is_mobile__WEBPACK_IMPORTED_MODULE_4__({
        tablet: true
      })
    };
    this.opts = { ...defaultOptions,
      ...opts
    };
    this.i18nInit();
    this.title = this.i18n('pluginNameCamera');
    _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror] = this.opts.mirror;
    this.install = this.install.bind(this);
    this.setPluginState = this.setPluginState.bind(this);
    this.render = this.render.bind(this); // Camera controls

    this.start = this.start.bind(this);
    this.stop = this.stop.bind(this);
    this.takeSnapshot = this.takeSnapshot.bind(this);
    this.startRecording = this.startRecording.bind(this);
    this.stopRecording = this.stopRecording.bind(this);
    this.discardRecordedVideo = this.discardRecordedVideo.bind(this);
    this.submit = this.submit.bind(this);
    this.oneTwoThreeSmile = this.oneTwoThreeSmile.bind(this);
    this.focus = this.focus.bind(this);
    this.changeVideoSource = this.changeVideoSource.bind(this);
    this.webcamActive = false;

    if (this.opts.countdown) {
      this.opts.onBeforeSnapshot = this.oneTwoThreeSmile;
    }

    this.setPluginState({
      hasCamera: false,
      cameraReady: false,
      cameraError: null,
      recordingLengthSeconds: 0,
      videoSources: [],
      currentDeviceId: null
    });
  }

  setOptions(newOpts) {
    super.setOptions({ ...newOpts,
      videoConstraints: { // May be undefined but ... handles that
        ...this.opts.videoConstraints,
        ...(newOpts == null ? void 0 : newOpts.videoConstraints)
      }
    });
  }

  hasCameraCheck() {
    if (!this.mediaDevices) {
      return Promise.resolve(false);
    }

    return this.mediaDevices.enumerateDevices().then(devices => {
      return devices.some(device => device.kind === 'videoinput');
    });
  }

  isAudioOnly() {
    return this.opts.modes.length === 1 && this.opts.modes[0] === 'audio-only';
  }

  getConstraints(deviceId) {
    if (deviceId === void 0) {
      deviceId = null;
    }

    const acceptsAudio = this.opts.modes.indexOf('video-audio') !== -1 || this.opts.modes.indexOf('audio-only') !== -1;
    const acceptsVideo = !this.isAudioOnly() && (this.opts.modes.indexOf('video-audio') !== -1 || this.opts.modes.indexOf('video-only') !== -1 || this.opts.modes.indexOf('picture') !== -1);
    const videoConstraints = { ...(this.opts.videoConstraints || {
        facingMode: this.opts.facingMode
      }),
      // facingMode takes precedence over deviceId, and not needed
      // when specific device is selected
      ...(deviceId ? {
        deviceId,
        facingMode: null
      } : {})
    };
    return {
      audio: acceptsAudio,
      video: acceptsVideo ? videoConstraints : false
    };
  } // eslint-disable-next-line consistent-return


  start(options) {
    if (options === void 0) {
      options = null;
    }

    if (!this.supportsUserMedia) {
      return Promise.reject(new Error('Webcam access not supported'));
    }

    this.webcamActive = true;

    if (this.opts.mirror) {
      _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror] = true;
    }

    const constraints = this.getConstraints(options && options.deviceId ? options.deviceId : null);
    this.hasCameraCheck().then(hasCamera => {
      this.setPluginState({
        hasCamera
      }); // ask user for access to their camera

      return this.mediaDevices.getUserMedia(constraints).then(stream => {
        this.stream = stream;
        let currentDeviceId = null;
        const tracks = this.isAudioOnly() ? stream.getAudioTracks() : stream.getVideoTracks();

        if (!options || !options.deviceId) {
          currentDeviceId = tracks[0].getSettings().deviceId;
        } else {
          tracks.forEach(track => {
            if (track.getSettings().deviceId === options.deviceId) {
              currentDeviceId = track.getSettings().deviceId;
            }
          });
        } // Update the sources now, so we can access the names.


        this.updateVideoSources();
        this.setPluginState({
          currentDeviceId,
          cameraReady: true
        });
      }).catch(err => {
        this.setPluginState({
          cameraReady: false,
          cameraError: err
        });
        this.uppy.info(err.message, 'error');
      });
    });
  }
  /**
   * @returns {object}
   */


  getMediaRecorderOptions() {
    const options = {}; // Try to use the `opts.preferredVideoMimeType` or one of the `allowedFileTypes` for the recording.
    // If the browser doesn't support it, we'll fall back to the browser default instead.
    // Safari doesn't have the `isTypeSupported` API.

    if (MediaRecorder.isTypeSupported) {
      const {
        restrictions
      } = this.uppy.opts;
      let preferredVideoMimeTypes = [];

      if (this.opts.preferredVideoMimeType) {
        preferredVideoMimeTypes = [this.opts.preferredVideoMimeType];
      } else if (restrictions.allowedFileTypes) {
        preferredVideoMimeTypes = restrictions.allowedFileTypes.map(toMimeType).filter(isVideoMimeType);
      }

      const filterSupportedTypes = candidateType => MediaRecorder.isTypeSupported(candidateType) && (0,_uppy_utils_lib_getFileTypeExtension__WEBPACK_IMPORTED_MODULE_2__["default"])(candidateType);

      const acceptableMimeTypes = preferredVideoMimeTypes.filter(filterSupportedTypes);

      if (acceptableMimeTypes.length > 0) {
        // eslint-disable-next-line prefer-destructuring
        options.mimeType = acceptableMimeTypes[0];
      }
    }

    return options;
  }

  startRecording() {
    // only used if supportsMediaRecorder() returned true
    // eslint-disable-next-line compat/compat
    this.recorder = new MediaRecorder(this.stream, this.getMediaRecorderOptions());
    this.recordingChunks = [];
    let stoppingBecauseOfMaxSize = false;
    this.recorder.addEventListener('dataavailable', event => {
      this.recordingChunks.push(event.data);
      const {
        restrictions
      } = this.uppy.opts;

      if (this.recordingChunks.length > 1 && restrictions.maxFileSize != null && !stoppingBecauseOfMaxSize) {
        const totalSize = this.recordingChunks.reduce((acc, chunk) => acc + chunk.size, 0); // Exclude the initial chunk from the average size calculation because it is likely to be a very small outlier

        const averageChunkSize = (totalSize - this.recordingChunks[0].size) / (this.recordingChunks.length - 1);
        const expectedEndChunkSize = averageChunkSize * 3;
        const maxSize = Math.max(0, restrictions.maxFileSize - expectedEndChunkSize);

        if (totalSize > maxSize) {
          stoppingBecauseOfMaxSize = true;
          this.uppy.info(this.i18n('recordingStoppedMaxSize'), 'warning', 4000);
          this.stopRecording();
        }
      }
    }); // use a "time slice" of 500ms: ondataavailable will be called each 500ms
    // smaller time slices mean we can more accurately check the max file size restriction

    this.recorder.start(500);

    if (this.opts.showRecordingLength) {
      // Start the recordingLengthTimer if we are showing the recording length.
      this.recordingLengthTimer = setInterval(() => {
        const currentRecordingLength = this.getPluginState().recordingLengthSeconds;
        this.setPluginState({
          recordingLengthSeconds: currentRecordingLength + 1
        });
      }, 1000);
    }

    this.setPluginState({
      isRecording: true
    });
  }

  stopRecording() {
    const stopped = new Promise(resolve => {
      this.recorder.addEventListener('stop', () => {
        resolve();
      });
      this.recorder.stop();

      if (this.opts.showRecordingLength) {
        // Stop the recordingLengthTimer if we are showing the recording length.
        clearInterval(this.recordingLengthTimer);
        this.setPluginState({
          recordingLengthSeconds: 0
        });
      }
    });
    return stopped.then(() => {
      this.setPluginState({
        isRecording: false
      });
      return this.getVideo();
    }).then(file => {
      try {
        this.capturedMediaFile = file; // create object url for capture result preview

        this.setPluginState({
          // eslint-disable-next-line compat/compat
          recordedVideo: URL.createObjectURL(file.data)
        });
        _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror] = false;
      } catch (err) {
        // Logging the error, exept restrictions, which is handled in Core
        if (!err.isRestriction) {
          this.uppy.log(err);
        }
      }
    }).then(() => {
      this.recordingChunks = null;
      this.recorder = null;
    }, error => {
      this.recordingChunks = null;
      this.recorder = null;
      throw error;
    });
  }

  discardRecordedVideo() {
    this.setPluginState({
      recordedVideo: null
    });

    if (this.opts.mirror) {
      _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror] = true;
    }

    this.capturedMediaFile = null;
  }

  submit() {
    try {
      if (this.capturedMediaFile) {
        this.uppy.addFile(this.capturedMediaFile);
      }
    } catch (err) {
      // Logging the error, exept restrictions, which is handled in Core
      if (!err.isRestriction) {
        this.uppy.log(err, 'error');
      }
    }
  }

  async stop() {
    if (this.stream) {
      const audioTracks = this.stream.getAudioTracks();
      const videoTracks = this.stream.getVideoTracks();
      audioTracks.concat(videoTracks).forEach(track => track.stop());
    }

    if (this.recorder) {
      await new Promise(resolve => {
        this.recorder.addEventListener('stop', resolve, {
          once: true
        });
        this.recorder.stop();

        if (this.opts.showRecordingLength) {
          clearInterval(this.recordingLengthTimer);
        }
      });
    }

    this.recordingChunks = null;
    this.recorder = null;
    this.webcamActive = false;
    this.stream = null;
    this.setPluginState({
      recordedVideo: null,
      isRecording: false,
      recordingLengthSeconds: 0
    });
  }

  getVideoElement() {
    return this.el.querySelector('.uppy-Webcam-video');
  }

  oneTwoThreeSmile() {
    return new Promise((resolve, reject) => {
      let count = this.opts.countdown; // eslint-disable-next-line consistent-return

      const countDown = setInterval(() => {
        if (!this.webcamActive) {
          clearInterval(countDown);
          this.captureInProgress = false;
          return reject(new Error('Webcam is not active'));
        }

        if (count > 0) {
          this.uppy.info(`${count}...`, 'warning', 800);
          count--;
        } else {
          clearInterval(countDown);
          this.uppy.info(this.i18n('smile'), 'success', 1500);
          setTimeout(() => resolve(), 1500);
        }
      }, 1000);
    });
  }

  takeSnapshot() {
    if (this.captureInProgress) return;
    this.captureInProgress = true;
    this.opts.onBeforeSnapshot().catch(err => {
      const message = typeof err === 'object' ? err.message : err;
      this.uppy.info(message, 'error', 5000);
      return Promise.reject(new Error(`onBeforeSnapshot: ${message}`));
    }).then(() => {
      return this.getImage();
    }).then(tagFile => {
      this.captureInProgress = false;

      try {
        this.uppy.addFile(tagFile);
      } catch (err) {
        // Logging the error, except restrictions, which is handled in Core
        if (!err.isRestriction) {
          this.uppy.log(err);
        }
      }
    }, error => {
      this.captureInProgress = false;
      throw error;
    });
  }

  getImage() {
    const video = this.getVideoElement();

    if (!video) {
      return Promise.reject(new Error('No video element found, likely due to the Webcam tab being closed.'));
    }

    const width = video.videoWidth;
    const height = video.videoHeight;
    const canvas = document.createElement('canvas');
    canvas.width = width;
    canvas.height = height;
    const ctx = canvas.getContext('2d');
    ctx.drawImage(video, 0, 0);
    const {
      restrictions
    } = this.uppy.opts;
    let preferredImageMimeTypes = [];

    if (this.opts.preferredImageMimeType) {
      preferredImageMimeTypes = [this.opts.preferredImageMimeType];
    } else if (restrictions.allowedFileTypes) {
      preferredImageMimeTypes = restrictions.allowedFileTypes.map(toMimeType).filter(isImageMimeType);
    }

    const mimeType = preferredImageMimeTypes[0] || 'image/jpeg';
    const ext = (0,_uppy_utils_lib_getFileTypeExtension__WEBPACK_IMPORTED_MODULE_2__["default"])(mimeType) || 'jpg';
    const name = `cam-${Date.now()}.${ext}`;
    return (0,_uppy_utils_lib_canvasToBlob__WEBPACK_IMPORTED_MODULE_5__["default"])(canvas, mimeType).then(blob => {
      return {
        source: this.id,
        name,
        data: new Blob([blob], {
          type: mimeType
        }),
        type: mimeType
      };
    });
  }

  getVideo() {
    // Sometimes in iOS Safari, Blobs (especially the first Blob in the recordingChunks Array)
    // have empty 'type' attributes (e.g. '') so we need to find a Blob that has a defined 'type'
    // attribute in order to determine the correct MIME type.
    const mimeType = this.recordingChunks.find(blob => {
      var _blob$type;

      return ((_blob$type = blob.type) == null ? void 0 : _blob$type.length) > 0;
    }).type;
    const fileExtension = (0,_uppy_utils_lib_getFileTypeExtension__WEBPACK_IMPORTED_MODULE_2__["default"])(mimeType);

    if (!fileExtension) {
      return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${mimeType}"`));
    }

    const name = `webcam-${Date.now()}.${fileExtension}`;
    const blob = new Blob(this.recordingChunks, {
      type: mimeType
    });
    const file = {
      source: this.id,
      name,
      data: new Blob([blob], {
        type: mimeType
      }),
      type: mimeType
    };
    return Promise.resolve(file);
  }

  focus() {
    if (!this.opts.countdown) return;
    setTimeout(() => {
      this.uppy.info(this.i18n('smile'), 'success', 1500);
    }, 1000);
  }

  changeVideoSource(deviceId) {
    this.stop();
    this.start({
      deviceId
    });
  }

  updateVideoSources() {
    this.mediaDevices.enumerateDevices().then(devices => {
      this.setPluginState({
        videoSources: devices.filter(device => device.kind === 'videoinput')
      });
    });
  }

  render() {
    if (!this.webcamActive) {
      this.start();
    }

    const webcamState = this.getPluginState();

    if (!webcamState.cameraReady || !webcamState.hasCamera) {
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_PermissionsScreen_js__WEBPACK_IMPORTED_MODULE_9__["default"], {
        icon: _CameraIcon_js__WEBPACK_IMPORTED_MODULE_7__["default"],
        i18n: this.i18n,
        hasCamera: webcamState.hasCamera
      });
    }

    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_CameraScreen_js__WEBPACK_IMPORTED_MODULE_8__["default"] // eslint-disable-next-line react/jsx-props-no-spreading
    , _extends({}, webcamState, {
      onChangeVideoSource: this.changeVideoSource,
      onSnapshot: this.takeSnapshot,
      onStartRecording: this.startRecording,
      onStopRecording: this.stopRecording,
      onDiscardRecordedVideo: this.discardRecordedVideo,
      onSubmit: this.submit,
      onFocus: this.focus,
      onStop: this.stop,
      i18n: this.i18n,
      modes: this.opts.modes,
      showRecordingLength: this.opts.showRecordingLength,
      showVideoSourceDropdown: this.opts.showVideoSourceDropdown,
      supportsRecording: (0,_supportsMediaRecorder_js__WEBPACK_IMPORTED_MODULE_6__["default"])(),
      recording: webcamState.isRecording,
      mirror: _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror],
      src: this.stream
    }));
  }

  install() {
    const {
      mobileNativeCamera,
      modes,
      facingMode,
      videoConstraints
    } = this.opts;
    const {
      target
    } = this.opts;

    if (mobileNativeCamera && target) {
      var _this$getTargetPlugin;

      (_this$getTargetPlugin = this.getTargetPlugin(target)) == null ? void 0 : _this$getTargetPlugin.setOptions({
        showNativeVideoCameraButton: isModeAvailable(modes, 'video-only') || isModeAvailable(modes, 'video-audio'),
        showNativePhotoCameraButton: isModeAvailable(modes, 'picture'),
        nativeCameraFacingMode: (videoConstraints == null ? void 0 : videoConstraints.facingMode) || facingMode
      });
      return;
    }

    this.setPluginState({
      cameraReady: false,
      recordingLengthSeconds: 0
    });

    if (target) {
      this.mount(target, this);
    }

    if (this.mediaDevices) {
      this.updateVideoSources();

      this.mediaDevices.ondevicechange = () => {
        this.updateVideoSources();

        if (this.stream) {
          let restartStream = true;
          const {
            videoSources,
            currentDeviceId
          } = this.getPluginState();
          videoSources.forEach(videoSource => {
            if (currentDeviceId === videoSource.deviceId) {
              restartStream = false;
            }
          });

          if (restartStream) {
            this.stop();
            this.start();
          }
        }
      };
    }
  }

  uninstall() {
    this.stop();
    this.unmount();
  }

  onUnmount() {
    this.stop();
  }

}
Webcam.VERSION = packageJson.version;

/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/formatSeconds.js":
/*!********************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/formatSeconds.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ formatSeconds)
/* harmony export */ });
/**
 * Takes an Integer value of seconds (e.g. 83) and converts it into a human-readable formatted string (e.g. '1:23').
 *
 * @param {Integer} seconds
 * @returns {string} the formatted seconds (e.g. '1:23' for 1 minute and 23 seconds)
 *
 */
function formatSeconds(seconds) {
  return `${Math.floor(seconds / 60)}:${String(seconds % 60).padStart(2, 0)}`;
}

/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/index.js":
/*!************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/index.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _Webcam_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _Webcam_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Webcam.js */ "./node_modules/@uppy/webcam/lib/Webcam.js");


/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/locale.js":
/*!*************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/locale.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  strings: {
    pluginNameCamera: 'Camera',
    noCameraTitle: 'Camera Not Available',
    noCameraDescription: 'In order to take pictures or record video, please connect a camera device',
    recordingStoppedMaxSize: 'Recording stopped because the file size is about to exceed the limit',
    submitRecordedFile: 'Submit recorded file',
    discardRecordedFile: 'Discard recorded file',
    // Shown before a picture is taken when the `countdown` option is set.
    smile: 'Smile!',
    // Used as the label for the button that takes a picture.
    // This is not visibly rendered but is picked up by screen readers.
    takePicture: 'Take a picture',
    // Used as the label for the button that starts a video recording.
    // This is not visibly rendered but is picked up by screen readers.
    startRecording: 'Begin video recording',
    // Used as the label for the button that stops a video recording.
    // This is not visibly rendered but is picked up by screen readers.
    stopRecording: 'Stop video recording',
    // Used as the label for the recording length counter. See the showRecordingLength option.
    // This is not visibly rendered but is picked up by screen readers.
    recordingLength: 'Recording length %{recording_length}',
    // Title on the “allow access” screen
    allowAccessTitle: 'Please allow access to your camera',
    // Description on the “allow access” screen
    allowAccessDescription: 'In order to take pictures or record video with your camera, please allow camera access for this site.'
  }
});

/***/ }),

/***/ "./node_modules/@uppy/webcam/lib/supportsMediaRecorder.js":
/*!****************************************************************!*\
  !*** ./node_modules/@uppy/webcam/lib/supportsMediaRecorder.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ supportsMediaRecorder)
/* harmony export */ });
function supportsMediaRecorder() {
  /* eslint-disable compat/compat */
  return typeof MediaRecorder === 'function' && !!MediaRecorder.prototype && typeof MediaRecorder.prototype.start === 'function';
  /* eslint-enable compat/compat */
}

/***/ }),

/***/ "./node_modules/exifr/dist/mini.esm.mjs":
/*!**********************************************!*\
  !*** ./node_modules/exifr/dist/mini.esm.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Exifr": () => (/* binding */ H),
/* harmony export */   "Options": () => (/* binding */ R),
/* harmony export */   "allFormatters": () => (/* binding */ M),
/* harmony export */   "chunkedProps": () => (/* binding */ L),
/* harmony export */   "createDictionary": () => (/* binding */ x),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "extendDictionary": () => (/* binding */ C),
/* harmony export */   "fetchUrlAsArrayBuffer": () => (/* binding */ S),
/* harmony export */   "fileParsers": () => (/* binding */ m),
/* harmony export */   "fileReaders": () => (/* binding */ b),
/* harmony export */   "gps": () => (/* binding */ fe),
/* harmony export */   "gpsOnlyOptions": () => (/* binding */ he),
/* harmony export */   "inheritables": () => (/* binding */ E),
/* harmony export */   "orientation": () => (/* binding */ ce),
/* harmony export */   "orientationOnlyOptions": () => (/* binding */ de),
/* harmony export */   "otherSegments": () => (/* binding */ T),
/* harmony export */   "parse": () => (/* binding */ Y),
/* harmony export */   "readBlobAsArrayBuffer": () => (/* binding */ A),
/* harmony export */   "rotateCanvas": () => (/* binding */ ge),
/* harmony export */   "rotateCss": () => (/* binding */ me),
/* harmony export */   "rotation": () => (/* binding */ ye),
/* harmony export */   "rotations": () => (/* binding */ pe),
/* harmony export */   "segmentParsers": () => (/* binding */ y),
/* harmony export */   "segments": () => (/* binding */ z),
/* harmony export */   "segmentsAndBlocks": () => (/* binding */ F),
/* harmony export */   "tagKeys": () => (/* binding */ B),
/* harmony export */   "tagRevivers": () => (/* binding */ I),
/* harmony export */   "tagValues": () => (/* binding */ V),
/* harmony export */   "thumbnail": () => (/* binding */ oe),
/* harmony export */   "thumbnailOnlyOptions": () => (/* binding */ le),
/* harmony export */   "thumbnailUrl": () => (/* binding */ ue),
/* harmony export */   "tiffBlocks": () => (/* binding */ P),
/* harmony export */   "tiffExtractables": () => (/* binding */ j)
/* harmony export */ });
function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var t="undefined"!=typeof self?self:global;const s="undefined"!=typeof navigator,i=s&&"undefined"==typeof HTMLImageElement,n=!("undefined"==typeof global||"undefined"==typeof process||!process.versions||!process.versions.node),r=t.Buffer,a=!!r,h=e=>void 0!==e;function f(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(h).length)}function l(e){let t=new Error(e);throw delete t.stack,t}function o(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const u=e=>String.fromCharCode.apply(null,e),d="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;class c{static from(e,t){return e instanceof this&&e.le===t?e:new c(e,void 0,void 0,t)}constructor(e,t=0,s,i){if("boolean"==typeof i&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===s&&(s=e.byteLength-t);let i=new DataView(e,t,s);this._swapDataView(i)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof c){void 0===s&&(s=e.byteLength-t),(t+=e.byteOffset)+s>e.byteOffset+e.byteLength&&l("Creating view outside of available memory in ArrayBuffer");let i=new DataView(e.buffer,t,s);this._swapDataView(i)}else if("number"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else l("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,s=c){return e instanceof DataView||e instanceof c?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||l("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new s(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new c(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){let s=this.getUint8Array(e,t);return i=s,d?d.decode(i):a?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(u(i)));var i}getLatin1String(e=0,t=this.byteLength){let s=this.getUint8Array(e,t);return u(s)}getUnicodeString(e=0,t=this.byteLength){const s=[];for(let i=0;i<t&&e+i<this.byteLength;i+=2)s.push(this.getUint16(e+i));return u(s)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,s){switch(t){case 1:return this.getUint8(e,s);case 2:return this.getUint16(e,s);case 4:return this.getUint32(e,s);case 8:return this.getUint64&&this.getUint64(e,s)}}getUint(e,t,s){switch(t){case 8:return this.getUint8(e,s);case 16:return this.getUint16(e,s);case 32:return this.getUint32(e,s);case 64:return this.getUint64&&this.getUint64(e,s)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function p(e,t){l(`${e} '${t}' was not loaded, try using full build of exifr.`)}class g extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||p(this.kind,e),t&&(e in t||function(e,t){l(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||p(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var m=new g("file parser"),y=new g("segment parser"),b=new g("file reader");let w=t.fetch;function k(e,t){return(i=e).startsWith("data:")||i.length>1e4?v(e,t,"base64"):n&&e.includes("://")?O(e,t,"url",S):n?v(e,t,"fs"):s?O(e,t,"url",S):void l("Invalid input argument");var i}async function O(e,t,s,i){return b.has(s)?v(e,t,s):i?async function(e,t){let s=await t(e);return new c(s)}(e,i):void l(`Parser ${s} is not loaded`)}async function v(e,t,s){let i=new(b.get(s))(e,t);return await i.read(),i}const S=e=>w(e).then((e=>e.arrayBuffer())),A=e=>new Promise(((t,s)=>{let i=new FileReader;i.onloadend=()=>t(i.result||new ArrayBuffer),i.onerror=s,i.readAsArrayBuffer(e)}));class U extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function x(e,t,s){let i=new U;for(let[e,t]of s)i.set(e,t);if(Array.isArray(t))for(let s of t)e.set(s,i);else e.set(t,i);return i}function C(e,t,s){let i,n=e.get(t);for(i of s)n.set(i[0],i[1])}const B=new Map,V=new Map,I=new Map,L=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],T=["jfif","xmp","icc","iptc","ihdr"],z=["tiff",...T],P=["ifd0","ifd1","exif","gps","interop"],F=[...z,...P],j=["makerNote","userComment"],E=["translateKeys","translateValues","reviveValues","multiSegment"],M=[...E,"sanitize","mergeOutput","silentErrors"];class _{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class D extends _{get needed(){return this.enabled||this.deps.size>0}constructor(t,s,i,n){if(super(),e(this,"enabled",!1),e(this,"skip",new Set),e(this,"pick",new Set),e(this,"deps",new Set),e(this,"translateKeys",!1),e(this,"translateValues",!1),e(this,"reviveValues",!1),this.key=t,this.enabled=s,this.parse=this.enabled,this.applyInheritables(n),this.canBeFiltered=P.includes(t),this.canBeFiltered&&(this.dict=B.get(t)),void 0!==i)if(Array.isArray(i))this.parse=this.enabled=!0,this.canBeFiltered&&i.length>0&&this.translateTagSet(i,this.pick);else if("object"==typeof i){if(this.enabled=!0,this.parse=!1!==i.parse,this.canBeFiltered){let{pick:e,skip:t}=i;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(i)}else!0===i||!1===i?this.parse=this.enabled=i:l(`Invalid options argument: ${i}`)}applyInheritables(e){let t,s;for(t of E)s=e[t],void 0!==s&&(this[t]=s)}translateTagSet(e,t){if(this.dict){let s,i,{tagKeys:n,tagValues:r}=this.dict;for(s of e)"string"==typeof s?(i=r.indexOf(s),-1===i&&(i=n.indexOf(Number(s))),-1!==i&&t.add(Number(n[i]))):t.add(s)}else for(let s of e)t.add(s)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,X(this.pick,this.deps)):this.enabled&&this.pick.size>0&&X(this.pick,this.deps)}}var N={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},$=new Map;class R extends _{static useCached(e){let t=$.get(e);return void 0!==t||(t=new this(e),$.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):l(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=s?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of L)this[e]=N[e];for(e of M)this[e]=N[e];for(e of j)this[e]=N[e];for(e of F)this[e]=new D(e,N[e],void 0,this)}setupFromTrue(){let e;for(e of L)this[e]=N[e];for(e of M)this[e]=N[e];for(e of j)this[e]=!0;for(e of F)this[e]=new D(e,!0,void 0,this)}setupFromArray(e){let t;for(t of L)this[t]=N[t];for(t of M)this[t]=N[t];for(t of j)this[t]=N[t];for(t of F)this[t]=new D(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,P)}setupFromObject(e){let t;for(t of(P.ifd0=P.ifd0||P.image,P.ifd1=P.ifd1||P.thumbnail,Object.assign(this,e),L))this[t]=W(e[t],N[t]);for(t of M)this[t]=W(e[t],N[t]);for(t of j)this[t]=W(e[t],N[t]);for(t of z)this[t]=new D(t,N[t],e[t],this);for(t of P)this[t]=new D(t,N[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,P,F),!0===e.tiff?this.batchEnableWithBool(P,!0):!1===e.tiff?this.batchEnableWithUserValue(P,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,P):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,P)}batchEnableWithBool(e,t){for(let s of e)this[s].enabled=t}batchEnableWithUserValue(e,t){for(let s of e){let e=t[s];this[s].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,s,i=s){if(e&&e.length){for(let e of i)this[e].enabled=!1;let t=K(e,s);for(let[e,s]of t)X(this[e].pick,s),this[e].enabled=!0}else if(t&&t.length){let e=K(t,s);for(let[t,s]of e)X(this[t].skip,s)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:s,iptc:i,icc:n}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),s.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),n.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:s,interop:i}=this;i.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),s.needed&&e.deps.add(34853),this.tiff.enabled=P.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let e of P)this[e].finalizeFilters()}get onlyTiff(){return!T.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of z)this[e].enabled&&!y.has(e)&&p("segment parser",e)}}function K(e,t){let s,i,n,r,a=[];for(n of t){for(r of(s=B.get(n),i=[],s))(e.includes(r[0])||e.includes(r[1]))&&i.push(r[0]);i.length&&a.push([n,i])}return a}function W(e,t){return void 0!==e?e:void 0!==t?t:void 0}function X(e,t){for(let s of t)e.add(s)}e(R,"default",N);class H{constructor(t){e(this,"parsers",{}),e(this,"output",{}),e(this,"errors",[]),e(this,"pushToErrors",(e=>this.errors.push(e))),this.options=R.useCached(t)}async read(e){this.file=await function(e,t){return"string"==typeof e?k(e,t):s&&!i&&e instanceof HTMLImageElement?k(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new c(e):s&&e instanceof Blob?O(e,t,"blob",A):void l("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[s,i]of m)if(i.canHandle(e,t))return this.fileParser=new i(this.options,this.file,this.parsers),e[s]=!0;this.file.close&&this.file.close(),l("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),f(s=e)?void 0:s;var s}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let s=await t.parse();t.assignToOutput(e,s)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,s=y.get("tiff",e);var i;if(t.tiff?i={start:0,type:"tiff"}:t.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),void 0===i)return;let n=await this.fileParser.ensureSegmentChunk(i),r=this.parsers.tiff=new s(n,e,t),a=await r.extractThumbnail();return t.close&&t.close(),a}}async function Y(e,t){let s=new H(t);return await s.read(e),s.parse()}var G=Object.freeze({__proto__:null,parse:Y,Exifr:H,fileParsers:m,segmentParsers:y,fileReaders:b,tagKeys:B,tagValues:V,tagRevivers:I,createDictionary:x,extendDictionary:C,fetchUrlAsArrayBuffer:S,readBlobAsArrayBuffer:A,chunkedProps:L,otherSegments:T,segments:z,tiffBlocks:P,segmentsAndBlocks:F,tiffExtractables:j,inheritables:E,allFormatters:M,Options:R});class J{static findPosition(e,t){let s=e.getUint16(t+2)+2,i="function"==typeof this.headerLength?this.headerLength(e,t,s):this.headerLength,n=t+i,r=s-i;return{offset:t,length:s,headerLength:i,start:n,size:r,end:n+r}}static parse(e,t={}){return new this(e,new R({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof c?e:new c(e)}constructor(t,s={},i){e(this,"errors",[]),e(this,"raw",new Map),e(this,"handleError",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(t),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=s,this.localOptions=s[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let s=I.get(t),i=V.get(t),n=B.get(t),r=this.options[t],a=r.reviveValues&&!!s,h=r.translateValues&&!!i,f=r.translateKeys&&!!n,l={};for(let[t,r]of e)a&&s.has(t)?r=s.get(t)(r):h&&i.has(t)&&(r=this.translateValue(r,i.get(t))),f&&n.has(t)&&(t=n.get(t)||t),l[t]=r;return l}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,s){if(this.globalOptions.mergeOutput)return Object.assign(e,s);e[t]?Object.assign(e[t],s):e[t]=s}}e(J,"headerLength",4),e(J,"type",void 0),e(J,"multiSegment",!1),e(J,"canHandle",(()=>!1));function q(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function Q(e){return e>=224&&e<=239}function Z(e,t,s){for(let[i,n]of y)if(n.canHandle(e,t,s))return i}class ee extends class{constructor(t,s,i){e(this,"errors",[]),e(this,"ensureSegmentChunk",(async e=>{let t=e.start,s=e.size||65536;if(this.file.chunked)if(this.file.available(t,s))e.chunk=this.file.subarray(t,s);else try{e.chunk=await this.file.readChunk(t,s)}catch(t){l(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+s?e.chunk=this.file.subarray(t,s):void 0===e.size?e.chunk=this.file.subarray(t):l("Segment unreachable: "+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=s,this.parsers=i}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let s=new(y.get(e))(t,this.options,this.file);return this.parsers[e]=s}createParsers(e){for(let t of e){let{type:e,chunk:s}=t,i=this.options[e];if(i&&i.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,s)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...t){super(...t),e(this,"appSegments",[]),e(this,"jpegSegments",[]),e(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(y.keyList())):(e=void 0===e?y.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&y.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:s,findAll:i,wanted:n,remaining:r}=this;if(!i&&this.file.chunked&&(i=Array.from(n).some((e=>{let t=y.get(e),s=this.options[e];return t.multiSegment&&s.multiSegment})),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,s.byteLength),!this.options.onlyTiff&&s.chunked){let t=!1;for(;r.size>0&&!t&&(s.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:i}=s,n=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>i&&!n?!await s.readNextChunk(e):!await s.readNextChunk(i),void 0===(e=this.findAppSegmentsInRange(e,s.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let s,i,n,r,a,h,{file:f,findAll:l,wanted:o,remaining:u,options:d}=this;for(;e<t;e++)if(255===f.getUint8(e))if(s=f.getUint8(e+1),Q(s)){if(i=f.getUint16(e+2),n=Z(f,e,i),n&&o.has(n)&&(r=y.get(n),a=r.findPosition(f,e),h=d[n],a.type=n,this.appSegments.push(a),!l&&(r.multiSegment&&h.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||u.delete(n)):u.delete(n),0===u.size)))break;d.recordUnknownSegments&&(a=J.findPosition(f,e),a.marker=s,this.unknownSegments.push(a)),e+=i+1}else if(q(s)){if(i=f.getUint16(e+2),218===s&&!1!==d.stopAfterSos)return;d.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:s}),e+=i+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e,t){let s,i,n,r=new Map;for(let a=0;a<e.length;a++)s=e[a],i=s[t],r.has(i)?n=r.get(i):r.set(i,n=[]),n.push(s);return Array.from(r)}(this.appSegments,"type");this.mergedAppSegments=e.map((([e,t])=>{let s=y.get(e,this.options);if(s.handleMultiSegments){return{type:e,chunk:s.handleMultiSegments(t)}}return t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}e(ee,"type","jpeg"),m.set("jpeg",ee);const te=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class se extends J{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,s=new Map){let{pick:i,skip:n}=this.options[t];i=new Set(i);let r=i.size>0,a=0===n.size,h=this.chunk.getUint16(e);e+=2;for(let f=0;f<h;f++){let h=this.chunk.getUint16(e);if(r){if(i.has(h)&&(s.set(h,this.parseTag(e,h,t)),i.delete(h),0===i.size))break}else!a&&n.has(h)||s.set(h,this.parseTag(e,h,t));e+=12}return s}parseTag(e,t,s){let{chunk:i}=this,n=i.getUint16(e+2),r=i.getUint32(e+4),a=te[n];if(a*r<=4?e+=8:e=i.getUint32(e+8),(n<1||n>13)&&l(`Invalid TIFF value type. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e}`),e>i.byteLength&&l(`Invalid TIFF value offset. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e} is outside of chunk size ${i.byteLength}`),1===n)return i.getUint8Array(e,r);if(2===n)return""===(h=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(h=i.getString(e,r)).trim())?void 0:h;var h;if(7===n)return i.getUint8Array(e,r);if(1===r)return this.parseTagValue(n,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(n))(r),s=a;for(let i=0;i<r;i++)t[i]=this.parseTagValue(n,e),e+=s;return t}}parseTagValue(e,t){let{chunk:s}=this;switch(e){case 1:return s.getUint8(t);case 3:return s.getUint16(t);case 4:return s.getUint32(t);case 5:return s.getUint32(t)/s.getUint32(t+4);case 6:return s.getInt8(t);case 8:return s.getInt16(t);case 9:return s.getInt32(t);case 10:return s.getInt32(t)/s.getInt32(t+4);case 11:return s.getFloat(t);case 12:return s.getDouble(t);case 13:return s.getUint32(t);default:l(`Invalid tiff type ${e}`)}}}class ie extends se{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let s=new Map;return this[t]=s,this.parseTags(e,t,s),s}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&l("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&l(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,o(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,o(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let s=e.get(t);s&&1===s.length&&e.set(t,s[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",ne(...e.get(2),e.get(1))),e.set("longitude",ne(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,s,i={};for(t of P)if(e=this[t],!f(e))if(s=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(i,s)}else i[t]=s;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[s,i]of Object.entries(t))this.assignObjectToOutput(e,s,i)}}function ne(e,t,s,i){var n=e+t/60+s/3600;return"S"!==i&&"W"!==i||(n*=-1),n}e(ie,"type","tiff"),e(ie,"headerLength",10),y.set("tiff",ie);var re=Object.freeze({__proto__:null,default:G,Exifr:H,fileParsers:m,segmentParsers:y,fileReaders:b,tagKeys:B,tagValues:V,tagRevivers:I,createDictionary:x,extendDictionary:C,fetchUrlAsArrayBuffer:S,readBlobAsArrayBuffer:A,chunkedProps:L,otherSegments:T,segments:z,tiffBlocks:P,segmentsAndBlocks:F,tiffExtractables:j,inheritables:E,allFormatters:M,Options:R,parse:Y});const ae={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},he=Object.assign({},ae,{firstChunkSize:4e4,gps:[1,2,3,4]});async function fe(e){let t=new H(he);await t.read(e);let s=await t.parse();if(s&&s.gps){let{latitude:e,longitude:t}=s.gps;return{latitude:e,longitude:t}}}const le=Object.assign({},ae,{tiff:!1,ifd1:!0,mergeOutput:!1});async function oe(e){let t=new H(le);await t.read(e);let s=await t.extractThumbnail();return s&&a?r.from(s):s}async function ue(e){let t=await this.thumbnail(e);if(void 0!==t){let e=new Blob([t]);return URL.createObjectURL(e)}}const de=Object.assign({},ae,{firstChunkSize:4e4,ifd0:[274]});async function ce(e){let t=new H(de);await t.read(e);let s=await t.parse();if(s&&s.ifd0)return s.ifd0[274]}const pe=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ge=!0,me=!0;if("object"==typeof navigator){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,e,s]=t,i=Number(e)+.1*Number(s);ge=i<13.4,me=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);ge=me=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);ge=me=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);ge=me=Number(t)<77}}async function ye(e){let t=await ce(e);return Object.assign({canvas:ge,css:me},pe[t])}class be extends c{constructor(...t){super(...t),e(this,"ranges",new we),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,s){if(0===e&&0===this.byteLength&&s){let e=new DataView(s.buffer||s,s.byteOffset,s.byteLength);this._swapDataView(e)}else{let s=e+t;if(s>this.byteLength){let{dataView:e}=this._extend(s);this._swapDataView(e)}}}_extend(e){let t;t=a?r.allocUnsafe(e):new Uint8Array(e);let s=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:s}}subarray(e,t,s=!1){return t=t||this._lengthToEnd(e),s&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,s=!1){s&&this._tryExtend(t,e.byteLength,e);let i=super.set(e,t);return this.ranges.add(t,i.byteLength),i}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class we{constructor(){e(this,"list",[])}get length(){return this.list.length}add(e,t,s=0){let i=e+t,n=this.list.filter((t=>ke(e,t.offset,i)||ke(e,t.end,i)));if(n.length>0){e=Math.min(e,...n.map((e=>e.offset))),i=Math.max(i,...n.map((e=>e.end))),t=i-e;let s=n.shift();s.offset=e,s.length=t,s.end=i,this.list=this.list.filter((e=>!n.includes(e)))}else this.list.push({offset:e,length:t,end:i})}available(e,t){let s=e+t;return this.list.some((t=>t.offset<=e&&s<=t.end))}}function ke(e,t,s){return e<=t&&t<=s}class Oe extends be{constructor(t,s){super(0),e(this,"chunksRead",0),this.input=t,this.options=s}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,s=await this.readChunk(e,t);return!!s&&s.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}b.set("blob",class extends Oe{async readWhole(){this.chunked=!1;let e=await A(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let s=t?e+t:void 0,i=this.input.slice(e,s),n=await A(i);return this.set(n,e,!0)}});/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (re);


/***/ }),

/***/ "./node_modules/js-base64/base64.mjs":
/*!*******************************************!*\
  !*** ./node_modules/js-base64/base64.mjs ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Base64": () => (/* binding */ gBase64),
/* harmony export */   "VERSION": () => (/* binding */ VERSION),
/* harmony export */   "atob": () => (/* binding */ _atob),
/* harmony export */   "atobPolyfill": () => (/* binding */ atobPolyfill),
/* harmony export */   "btoa": () => (/* binding */ _btoa),
/* harmony export */   "btoaPolyfill": () => (/* binding */ btoaPolyfill),
/* harmony export */   "btou": () => (/* binding */ btou),
/* harmony export */   "decode": () => (/* binding */ decode),
/* harmony export */   "encode": () => (/* binding */ encode),
/* harmony export */   "encodeURI": () => (/* binding */ encodeURI),
/* harmony export */   "encodeURL": () => (/* binding */ encodeURI),
/* harmony export */   "extendBuiltins": () => (/* binding */ extendBuiltins),
/* harmony export */   "extendString": () => (/* binding */ extendString),
/* harmony export */   "extendUint8Array": () => (/* binding */ extendUint8Array),
/* harmony export */   "fromBase64": () => (/* binding */ decode),
/* harmony export */   "fromUint8Array": () => (/* binding */ fromUint8Array),
/* harmony export */   "isValid": () => (/* binding */ isValid),
/* harmony export */   "toBase64": () => (/* binding */ encode),
/* harmony export */   "toUint8Array": () => (/* binding */ toUint8Array),
/* harmony export */   "utob": () => (/* binding */ utob),
/* harmony export */   "version": () => (/* binding */ version)
/* harmony export */ });
/**
 *  base64.ts
 *
 *  Licensed under the BSD 3-Clause License.
 *    http://opensource.org/licenses/BSD-3-Clause
 *
 *  References:
 *    http://en.wikipedia.org/wiki/Base64
 *
 * @author Dan Kogai (https://github.com/dankogai)
 */
const version = '3.7.5';
/**
 * @deprecated use lowercase `version`.
 */
const VERSION = version;
const _hasatob = typeof atob === 'function';
const _hasbtoa = typeof btoa === 'function';
const _hasBuffer = typeof Buffer === 'function';
const _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;
const _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;
const b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
const b64chs = Array.prototype.slice.call(b64ch);
const b64tab = ((a) => {
    let tab = {};
    a.forEach((c, i) => tab[c] = i);
    return tab;
})(b64chs);
const b64re = /^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;
const _fromCC = String.fromCharCode.bind(String);
const _U8Afrom = typeof Uint8Array.from === 'function'
    ? Uint8Array.from.bind(Uint8Array)
    : (it) => new Uint8Array(Array.prototype.slice.call(it, 0));
const _mkUriSafe = (src) => src
    .replace(/=/g, '').replace(/[+\/]/g, (m0) => m0 == '+' ? '-' : '_');
const _tidyB64 = (s) => s.replace(/[^A-Za-z0-9\+\/]/g, '');
/**
 * polyfill version of `btoa`
 */
const btoaPolyfill = (bin) => {
    // console.log('polyfilled');
    let u32, c0, c1, c2, asc = '';
    const pad = bin.length % 3;
    for (let i = 0; i < bin.length;) {
        if ((c0 = bin.charCodeAt(i++)) > 255 ||
            (c1 = bin.charCodeAt(i++)) > 255 ||
            (c2 = bin.charCodeAt(i++)) > 255)
            throw new TypeError('invalid character found');
        u32 = (c0 << 16) | (c1 << 8) | c2;
        asc += b64chs[u32 >> 18 & 63]
            + b64chs[u32 >> 12 & 63]
            + b64chs[u32 >> 6 & 63]
            + b64chs[u32 & 63];
    }
    return pad ? asc.slice(0, pad - 3) + "===".substring(pad) : asc;
};
/**
 * does what `window.btoa` of web browsers do.
 * @param {String} bin binary string
 * @returns {string} Base64-encoded string
 */
const _btoa = _hasbtoa ? (bin) => btoa(bin)
    : _hasBuffer ? (bin) => Buffer.from(bin, 'binary').toString('base64')
        : btoaPolyfill;
const _fromUint8Array = _hasBuffer
    ? (u8a) => Buffer.from(u8a).toString('base64')
    : (u8a) => {
        // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326
        const maxargs = 0x1000;
        let strs = [];
        for (let i = 0, l = u8a.length; i < l; i += maxargs) {
            strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));
        }
        return _btoa(strs.join(''));
    };
/**
 * converts a Uint8Array to a Base64 string.
 * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 §5
 * @returns {string} Base64 string
 */
const fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);
// This trick is found broken https://github.com/dankogai/js-base64/issues/130
// const utob = (src: string) => unescape(encodeURIComponent(src));
// reverting good old fationed regexp
const cb_utob = (c) => {
    if (c.length < 2) {
        var cc = c.charCodeAt(0);
        return cc < 0x80 ? c
            : cc < 0x800 ? (_fromCC(0xc0 | (cc >>> 6))
                + _fromCC(0x80 | (cc & 0x3f)))
                : (_fromCC(0xe0 | ((cc >>> 12) & 0x0f))
                    + _fromCC(0x80 | ((cc >>> 6) & 0x3f))
                    + _fromCC(0x80 | (cc & 0x3f)));
    }
    else {
        var cc = 0x10000
            + (c.charCodeAt(0) - 0xD800) * 0x400
            + (c.charCodeAt(1) - 0xDC00);
        return (_fromCC(0xf0 | ((cc >>> 18) & 0x07))
            + _fromCC(0x80 | ((cc >>> 12) & 0x3f))
            + _fromCC(0x80 | ((cc >>> 6) & 0x3f))
            + _fromCC(0x80 | (cc & 0x3f)));
    }
};
const re_utob = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g;
/**
 * @deprecated should have been internal use only.
 * @param {string} src UTF-8 string
 * @returns {string} UTF-16 string
 */
const utob = (u) => u.replace(re_utob, cb_utob);
//
const _encode = _hasBuffer
    ? (s) => Buffer.from(s, 'utf8').toString('base64')
    : _TE
        ? (s) => _fromUint8Array(_TE.encode(s))
        : (s) => _btoa(utob(s));
/**
 * converts a UTF-8-encoded string to a Base64 string.
 * @param {boolean} [urlsafe] if `true` make the result URL-safe
 * @returns {string} Base64 string
 */
const encode = (src, urlsafe = false) => urlsafe
    ? _mkUriSafe(_encode(src))
    : _encode(src);
/**
 * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 §5.
 * @returns {string} Base64 string
 */
const encodeURI = (src) => encode(src, true);
// This trick is found broken https://github.com/dankogai/js-base64/issues/130
// const btou = (src: string) => decodeURIComponent(escape(src));
// reverting good old fationed regexp
const re_btou = /[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g;
const cb_btou = (cccc) => {
    switch (cccc.length) {
        case 4:
            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)
                | ((0x3f & cccc.charCodeAt(1)) << 12)
                | ((0x3f & cccc.charCodeAt(2)) << 6)
                | (0x3f & cccc.charCodeAt(3)), offset = cp - 0x10000;
            return (_fromCC((offset >>> 10) + 0xD800)
                + _fromCC((offset & 0x3FF) + 0xDC00));
        case 3:
            return _fromCC(((0x0f & cccc.charCodeAt(0)) << 12)
                | ((0x3f & cccc.charCodeAt(1)) << 6)
                | (0x3f & cccc.charCodeAt(2)));
        default:
            return _fromCC(((0x1f & cccc.charCodeAt(0)) << 6)
                | (0x3f & cccc.charCodeAt(1)));
    }
};
/**
 * @deprecated should have been internal use only.
 * @param {string} src UTF-16 string
 * @returns {string} UTF-8 string
 */
const btou = (b) => b.replace(re_btou, cb_btou);
/**
 * polyfill version of `atob`
 */
const atobPolyfill = (asc) => {
    // console.log('polyfilled');
    asc = asc.replace(/\s+/g, '');
    if (!b64re.test(asc))
        throw new TypeError('malformed base64.');
    asc += '=='.slice(2 - (asc.length & 3));
    let u24, bin = '', r1, r2;
    for (let i = 0; i < asc.length;) {
        u24 = b64tab[asc.charAt(i++)] << 18
            | b64tab[asc.charAt(i++)] << 12
            | (r1 = b64tab[asc.charAt(i++)]) << 6
            | (r2 = b64tab[asc.charAt(i++)]);
        bin += r1 === 64 ? _fromCC(u24 >> 16 & 255)
            : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255)
                : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);
    }
    return bin;
};
/**
 * does what `window.atob` of web browsers do.
 * @param {String} asc Base64-encoded string
 * @returns {string} binary string
 */
const _atob = _hasatob ? (asc) => atob(_tidyB64(asc))
    : _hasBuffer ? (asc) => Buffer.from(asc, 'base64').toString('binary')
        : atobPolyfill;
//
const _toUint8Array = _hasBuffer
    ? (a) => _U8Afrom(Buffer.from(a, 'base64'))
    : (a) => _U8Afrom(_atob(a).split('').map(c => c.charCodeAt(0)));
/**
 * converts a Base64 string to a Uint8Array.
 */
const toUint8Array = (a) => _toUint8Array(_unURI(a));
//
const _decode = _hasBuffer
    ? (a) => Buffer.from(a, 'base64').toString('utf8')
    : _TD
        ? (a) => _TD.decode(_toUint8Array(a))
        : (a) => btou(_atob(a));
const _unURI = (a) => _tidyB64(a.replace(/[-_]/g, (m0) => m0 == '-' ? '+' : '/'));
/**
 * converts a Base64 string to a UTF-8 string.
 * @param {String} src Base64 string.  Both normal and URL-safe are supported
 * @returns {string} UTF-8 string
 */
const decode = (src) => _decode(_unURI(src));
/**
 * check if a value is a valid Base64 string
 * @param {String} src a value to check
  */
const isValid = (src) => {
    if (typeof src !== 'string')
        return false;
    const s = src.replace(/\s+/g, '').replace(/={0,2}$/, '');
    return !/[^\s0-9a-zA-Z\+/]/.test(s) || !/[^\s0-9a-zA-Z\-_]/.test(s);
};
//
const _noEnum = (v) => {
    return {
        value: v, enumerable: false, writable: true, configurable: true
    };
};
/**
 * extend String.prototype with relevant methods
 */
const extendString = function () {
    const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));
    _add('fromBase64', function () { return decode(this); });
    _add('toBase64', function (urlsafe) { return encode(this, urlsafe); });
    _add('toBase64URI', function () { return encode(this, true); });
    _add('toBase64URL', function () { return encode(this, true); });
    _add('toUint8Array', function () { return toUint8Array(this); });
};
/**
 * extend Uint8Array.prototype with relevant methods
 */
const extendUint8Array = function () {
    const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));
    _add('toBase64', function (urlsafe) { return fromUint8Array(this, urlsafe); });
    _add('toBase64URI', function () { return fromUint8Array(this, true); });
    _add('toBase64URL', function () { return fromUint8Array(this, true); });
};
/**
 * extend Builtin prototypes with relevant methods
 */
const extendBuiltins = () => {
    extendString();
    extendUint8Array();
};
const gBase64 = {
    version: version,
    VERSION: VERSION,
    atob: _atob,
    atobPolyfill: atobPolyfill,
    btoa: _btoa,
    btoaPolyfill: btoaPolyfill,
    fromBase64: decode,
    toBase64: encode,
    encode: encode,
    encodeURI: encodeURI,
    encodeURL: encodeURI,
    utob: utob,
    btou: btou,
    decode: decode,
    isValid: isValid,
    fromUint8Array: fromUint8Array,
    toUint8Array: toUint8Array,
    extendString: extendString,
    extendUint8Array: extendUint8Array,
    extendBuiltins: extendBuiltins,
};
// makecjs:CUT //




















// and finally,



/***/ }),

/***/ "./node_modules/nanoid/non-secure/index.js":
/*!*************************************************!*\
  !*** ./node_modules/nanoid/non-secure/index.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "customAlphabet": () => (/* binding */ customAlphabet),
/* harmony export */   "nanoid": () => (/* binding */ nanoid)
/* harmony export */ });
let urlAlphabet =
  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'
let customAlphabet = (alphabet, defaultSize = 21) => {
  return (size = defaultSize) => {
    let id = ''
    let i = size
    while (i--) {
      id += alphabet[(Math.random() * alphabet.length) | 0]
    }
    return id
  }
}
let nanoid = (size = 21) => {
  let id = ''
  let i = size
  while (i--) {
    id += urlAlphabet[(Math.random() * 64) | 0]
  }
  return id
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// no jsonp function
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!********************************************************************!*\
  !*** ./src/main/webapp/VAADIN/addons/uppy-addon/uppy-component.js ***!
  \********************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _uppy_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uppy/core */ "./node_modules/@uppy/core/lib/index.js");
/* harmony import */ var _uppy_thumbnail_generator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uppy/thumbnail-generator */ "./node_modules/@uppy/thumbnail-generator/lib/index.js");
/* harmony import */ var _uppy_dashboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uppy/dashboard */ "./node_modules/@uppy/dashboard/lib/index.js");
/* harmony import */ var _uppy_google_drive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uppy/google-drive */ "./node_modules/@uppy/google-drive/lib/index.js");
/* harmony import */ var _uppy_dropbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @uppy/dropbox */ "./node_modules/@uppy/dropbox/lib/index.js");
/* harmony import */ var _uppy_instagram__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @uppy/instagram */ "./node_modules/@uppy/instagram/lib/index.js");
/* harmony import */ var _uppy_facebook__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @uppy/facebook */ "./node_modules/@uppy/facebook/lib/index.js");
/* harmony import */ var _uppy_onedrive__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @uppy/onedrive */ "./node_modules/@uppy/onedrive/lib/index.js");
/* harmony import */ var _uppy_webcam__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @uppy/webcam */ "./node_modules/@uppy/webcam/lib/index.js");
/* harmony import */ var _uppy_url__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @uppy/url */ "./node_modules/@uppy/url/lib/index.js");
/* harmony import */ var _uppy_image_editor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @uppy/image-editor */ "./node_modules/@uppy/image-editor/lib/index.js");
/* harmony import */ var _uppy_aws_s3_multipart__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @uppy/aws-s3-multipart */ "./node_modules/@uppy/aws-s3-multipart/lib/index.js");
/* harmony import */ var _uppy_tus__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @uppy/tus */ "./node_modules/@uppy/tus/lib/index.js");
/* harmony import */ var _uppy_locales_lib_fr_FR__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @uppy/locales/lib/fr_FR */ "./node_modules/@uppy/locales/lib/fr_FR.js");
/* harmony import */ var _uppy_locales_lib_es_ES__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @uppy/locales/lib/es_ES */ "./node_modules/@uppy/locales/lib/es_ES.js");
/* harmony import */ var _uppy_golden_retriever__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @uppy/golden-retriever */ "./node_modules/@uppy/golden-retriever/lib/index.js");
/* harmony import */ var _uppy_core_dist_style_css__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @uppy/core/dist/style.css */ "./node_modules/@uppy/core/dist/style.css");
/* harmony import */ var _uppy_dashboard_dist_style_css__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @uppy/dashboard/dist/style.css */ "./node_modules/@uppy/dashboard/dist/style.css");
/* harmony import */ var _uppy_webcam_dist_style_css__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @uppy/webcam/dist/style.css */ "./node_modules/@uppy/webcam/dist/style.css");
/* harmony import */ var _uppy_screen_capture_dist_style_css__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @uppy/screen-capture/dist/style.css */ "./node_modules/@uppy/screen-capture/dist/style.css");
/* harmony import */ var _uppy_image_editor_dist_style_css__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @uppy/image-editor/dist/style.css */ "./node_modules/@uppy/image-editor/dist/style.css");
/* harmony import */ var _uppy_url_dist_style_css__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @uppy/url/dist/style.css */ "./node_modules/@uppy/url/dist/style.css");
/* harmony import */ var _uppy_golden_retriever_lib_ServiceWorker__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @uppy/golden-retriever/lib/ServiceWorker */ "./node_modules/@uppy/golden-retriever/lib/ServiceWorker.js");

























window.com_asaoweb_vaadin_uppyfileupload_UppyUploaderComponent  = function() {

    /*
    * The RPC proxy to the server side implementation.
    */
    var rpcProxy = this.getRpcProxy();

    var uppy = null;

    var connectorId = this.getConnectorId();

    /**
     * The div that contains the buttons and inputs for upload.
     *
     * @type @exp;document@call;createElement
     */
    var container;

    var t = this;
    var e = t.getElement();
    var d = true; /* debugger */

    /**
     * The TUS client object.
     */
    var uploader;

    /**
     * Store current uploader status.
     */
    var isUploading = false;

    var autoHideThumbs = true;

    var lastTime = [];

    var lastPercentProgress = [];

    var containerId = "uppymultiupload_container_" + connectorId;

    /**
     * Builds the container divs and the buttons in the div.
     *
     * @param {type} state
     * @returns {undefined}
     */
    this._buildButtons = function(state) {
        container = document.createElement("div");
        container.setAttribute("id", containerId );
        container.className = "uppy-item-dashboard";
        e.appendChild(container);
        t.setSize(state.width, state.height)
    }

    /*
 * Called when the state on the server side changes. If the state
 * changes require a rebuild of the upload component, it will be
 * destroyed and recreated. All other state changes will be applied
 * to the existing upload instance.
 */
    this.onStateChange = function(e) {

        let s = this.getState();
        d = s.debug;

        if ( !container) {


            // Cleanup the current uploader if there is one.
            // uploader = null; // not needed: recreated for each file upload
            e.innerHTML = "";

            try {
                // Build the new uploader.
                this._buildButtons(s);
            } catch (ex) {
                console.log(ex);
            }
        } else {
            if (uppy) {
                applyState(s);
            }
        }
    };

    this.setSize = function(width, height) {
        if (width > 0) {
            container.width = width;
            e.width = width;
        }
        if (height > 0) {
            container.height = height;
            e.height = height;
        }
    };

    this.log = function (item, variables) {
        if (t.d) {
            console.dir("Uppy: ", item, variables);
        }
    }

    this.applyState = function(state){
        if (uppy) {
            uppy.setOptions(s.coreOptions);
            let dashboard = uppy.getPlugin('Dashboard')
            if (dashboard) {
                s.dashboardparameters.target = "#" + containerId;
                dashboard.setOptions(s.dashboardparameters);
            }
            let thumbnailGenerator = uppy.getPlugin('ThumbnailGenerator')
            if (thumbnailGenerator) {
                thumbnailGenerator.setOptions({
                    thumbnailWidth: s.dashboardparameters.thumbnailWidth
                });
            }
        }
    }

    this.registerRpc({
        init: function (state) {
            //let state = t.getState();
            let companionUrl = state.companionUrl;
            let dashboardparameters = state.dashboardparameters;
            dashboardparameters.target = "#" + containerId;
            let coreoptions = state.coreOptions;
            d = state.debug;
            if(e.offsetWidth > 0 && e.style.width == '100%' ) {
                dashboardparameters.width = e.offsetWidth;
            }
            if(e.offsetHeight > 0 &&  e.style.height == '100%' ) {
                dashboardparameters.height = e.offsetHeight - 12;
            }

            t.setSize(dashboardparameters.width, dashboardparameters.height);

            if (coreoptions.edomain == 'FR') {
                coreoptions.locale = _uppy_locales_lib_fr_FR__WEBPACK_IMPORTED_MODULE_13__["default"];
            } else if (coreoptions.edomain == 'ES') {
                coreoptions.locale = _uppy_locales_lib_es_ES__WEBPACK_IMPORTED_MODULE_14__["default"];
            }
            coreoptions.edomain = null;

            autoHideThumbs = coreoptions.autoHideThumbs;
            coreoptions.autoHideThumbs = null;

            t.log("Initializing uppy");
            uppy = new _uppy_core__WEBPACK_IMPORTED_MODULE_0__["default"](coreoptions)
                .use(_uppy_dashboard__WEBPACK_IMPORTED_MODULE_2__["default"], dashboardparameters)
                .use(_uppy_webcam__WEBPACK_IMPORTED_MODULE_8__["default"], {target: _uppy_dashboard__WEBPACK_IMPORTED_MODULE_2__["default"]})
                .use(_uppy_thumbnail_generator__WEBPACK_IMPORTED_MODULE_1__["default"], {
                    thumbnailWidth: dashboardparameters.thumbnailWidth
                });
            if (state.allowImageEditor) {
                //.use(ScreenCapture, { target: Dashboard })
                uppy.use(_uppy_image_editor__WEBPACK_IMPORTED_MODULE_10__["default"], {target: _uppy_dashboard__WEBPACK_IMPORTED_MODULE_2__["default"]});
            }

            if(state.uploadModule == 'S3') {
                uppy.use(_uppy_aws_s3_multipart__WEBPACK_IMPORTED_MODULE_11__["default"], {
                    limit: 1000, companionUrl: companionUrl,
                    createMultipartUpload(file) {
                        // Only stings are allowes in metadata, we're settings in the s3 metadata only the ui id and the user id
                        return fetch(`${companionUrl}/s3/multipart`, {
                            method: 'post',
                            credentials: 'same-origin',
                            headers: {
                                Accept: 'application/json',
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                filename: file.name,
                                type: file.type,
                                metadata: new UIUid(file.meta.id, file.meta.userId)
                            })
                        }).then((response) => response.json())
                    }
                });
            } else if(state.uploadModule == 'TUS') {
                uppy.use(_uppy_tus__WEBPACK_IMPORTED_MODULE_12__["default"], {
                    endpoint: `${companionUrl}/tus/files/`, // use your tus endpoint here
                    resume: true,
                    retryDelays: state.retryDelays
                });
            }

            if(dashboardparameters.plugins.includes("GoogleDrive")) uppy.use(_uppy_google_drive__WEBPACK_IMPORTED_MODULE_3__["default"], { target: _uppy_dashboard__WEBPACK_IMPORTED_MODULE_2__["default"], companionUrl: companionUrl });
            if(dashboardparameters.plugins.includes("Dropbox")) uppy.use(_uppy_dropbox__WEBPACK_IMPORTED_MODULE_4__["default"], { target: _uppy_dashboard__WEBPACK_IMPORTED_MODULE_2__["default"], companionUrl: companionUrl });
            if(dashboardparameters.plugins.includes("Instagram")) uppy.use(_uppy_instagram__WEBPACK_IMPORTED_MODULE_5__["default"], { target: _uppy_dashboard__WEBPACK_IMPORTED_MODULE_2__["default"], companionUrl: companionUrl });
            if(dashboardparameters.plugins.includes("Facebook")) uppy.use(_uppy_facebook__WEBPACK_IMPORTED_MODULE_6__["default"], { target: _uppy_dashboard__WEBPACK_IMPORTED_MODULE_2__["default"], companionUrl: companionUrl });
            if(dashboardparameters.plugins.includes("OneDrive")) uppy.use(_uppy_onedrive__WEBPACK_IMPORTED_MODULE_7__["default"], { target: _uppy_dashboard__WEBPACK_IMPORTED_MODULE_2__["default"], companionUrl: companionUrl });
            if(dashboardparameters.plugins.includes("Links")) uppy.use(_uppy_url__WEBPACK_IMPORTED_MODULE_9__["default"], {target: _uppy_dashboard__WEBPACK_IMPORTED_MODULE_2__["default"], companionUrl: companionUrl});

            uppy.use(_uppy_golden_retriever__WEBPACK_IMPORTED_MODULE_15__["default"], {serviceWorker: true})
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker
                    .register('/sw.js') // path to your bundled service worker with GoldenRetriever service worker
                    .then((registration) => {
                        t.log('ServiceWorker registration successful with scope: ', registration.scope)
                    })
                    .catch((error) => {
                        console.log('Registration failed with ' + error)
                    })
            }

            uppy.on('restriction-failed', (file, error) => {
                t.log('Restriction failed', file)
                rpcProxy.onRestrictionFailed(this.safeSerialize(file),
                    this.safeSerialize(error));
            });

            uppy.on( 'upload', (data) => {
                t.log('Upload started : ' + data);
                rpcProxy.onUploadStarted(this.safeSerialize(data));
            });

            if (state.transferProgress) {
                uppy.on('upload-progress', (file, progress) => {
                    let newTime = Date.now();
                    let fileLastTime = 0;
                    if (lastTime[file.id]) {
                        fileLastTime = lastTime[file.id];
                    }
                    let fileLastPercentProgress = -1;
                    if (lastPercentProgress[file.id]) {
                        fileLastPercentProgress = lastPercentProgress[file.id];
                    }
                    // We notify the rpc server every second and every percent change maximum
                    if ((newTime - fileLastTime) > 1000 && (!progress.bytesTotal ||
                        100 * progress.bytesUploaded / progress.bytesTotal >= fileLastPercentProgress + 1)
                        || progress.bytesUploaded == progress.bytesTotal) {
                        if (debug) console.log("Progress stringify : " + this.safeStringify(progress));
                        rpcProxy.onUploadProgressUpdated(this.safeSerialize(file), this.safeSerialize(progress));
                        lastTime[file.id] = newTime;
                        if (progress.bytesTotal) {
                            lastPercentProgress[file.id] = 100 * progress.bytesUploaded / progress.bytesTotal;
                        }
                    }
                });

                uppy.on('file-added', (file) => {
                    t.log('Added file', file)
                    rpcProxy.onFileAdded(this.safeSerialize(file));
                });

                uppy.on( 'upload-error', (file, error, response) => {
                    t.log('File failure id ' + file.id, ' ; error : ' + error);
                    let fileSer = null;
                    if (file) {
                        fileSer = this.safeSerialize(file);
                    }
                    let errorSer = null;
                    if (error) {
                        errorSer = this.safeSerialize(error);
                    }
                    let responseSer = null;
                    if (response) {
                        responseSer = this.safeSerialize(response);
                    }
                    rpcProxy.onUploadError(fileSer, errorSer, responseSer);
                });
            }

            uppy.on( 'upload-success', (file, response) => {
                t.log('File successfully uploaded ' + file.id);
                rpcProxy.onUploadSuccess(file, this.safeSerialize(response));
                // uppy.removeFile(file.id); // no complete fired
            });

            uppy.on('complete', (result) => {
                t.log("Upload complete! We’ve uploaded these files:", result.successful);
                t.log("Failures:", result.failed);
                rpcProxy.onUploadComplete(this.safeSerialize(result.successful), this.safeSerialize(result.failed));
            });

            uppy.on('thumbnail:generated', (file, preview) => {
                const img = document.createElement('img')
                img.src = preview
                img.width = t.getState().dashboardparameters.thumbnailWidth;
                document.body.appendChild(img)
            })

            uppy.getFiles().forEach(file => {
                uppy.setFileState(file.id, {
                    progress: { uploadComplete: true, uploadStarted: false }
                })
            })
        },
        removeFile: function (fileId) {
            uppy.removeFile(fileId);
        },
        cancelAll: function () {
            uppy.cancelAll();
        },
        initModal: function (opts) {
            this.init(opts);
        },
        initInline: function (opts) {
            this.init(opts);
        },
        setMeta: function (data) {
            if (uppy != undefined) {
                uppy.setMeta(data);
            }
        },
        resetDashboard: function () {
            if (uppy != undefined) {
                uppy.cancelAll();
            }
        },
        // safely handles circular references
        safeStringify: function(obj, indent = 2)  {
            if (obj) {
                let cache = [];
                const retVal = JSON.stringify(
                    obj,
                    (key, value) => {
                        if (key == 'uploader') {
                            return void (0);
                        }
                        var returnValue = typeof value === "object" && value !== null
                            ? cache.includes(value)
                                ? undefined // Duplicate reference found, discard key
                                : cache.push(value) && value // Store value in our collection
                            : value
                        return returnValue;
                    },
                    indent
                );
                cache = null;
                return retVal;
            } else {
                return "{}";
            }
        },
        safeSerialize: function (obj) {
            return JSON.parse(this.safeStringify(obj));
        }
    });


    class UIUid {

        constructor(id, userId) {
            this.id = id;
            this.userId = userId;
        }
    }
}


})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2Qyx3Q0FBd0M7QUFDeEMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRDs7QUFFL0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBOEI7O0FBRTlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsUUFBUTs7O0FBR1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pELFNBQVM7QUFDVCxRQUFRO0FBQ1IsbURBQW1EO0FBQ25EOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTs7O0FBR1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFROzs7QUFHUjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEMsbUNBQW1DO0FBQ25DLG9DQUFvQztBQUNwQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxzQ0FBc0M7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsU0FBUztBQUN4QixpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLE9BQU87QUFDdEIsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLE9BQU87QUFDdEIsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEIsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBLG1DQUFtQztBQUNuQyxLQUFLOztBQUVMO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGVBQWUsUUFBUSxXQUFXO0FBQ2xDLGlCQUFpQixtQkFBbUI7QUFDcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFGQUFxRjs7QUFFckY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFROzs7QUFHUjtBQUNBLHdDQUF3Qzs7QUFFeEM7QUFDQTtBQUNBO0FBQ0EscUJBQXFCOztBQUVyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0RBQXNEOztBQUV0RDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7OztBQUdBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEIsZUFBZSxRQUFRLFdBQVc7QUFDbEM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNkJBQTZCOztBQUU3QjtBQUNBLGtDQUFrQzs7QUFFbEM7QUFDQTtBQUNBLFlBQVk7OztBQUdaO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVOzs7QUFHVjtBQUNBO0FBQ0E7QUFDQSxVQUFVOzs7QUFHVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOzs7QUFHWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZOzs7QUFHWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBLFdBQVc7OztBQUdYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQztBQUNyQzs7QUFFQTtBQUNBLDhDQUE4QywrQkFBK0IsOEJBQThCLDRCQUE0QiwyQkFBMkIsZUFBZSx1QkFBdUIsV0FBVyxnQkFBZ0I7QUFDbk87QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0NBQWdDOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7O0FBRW5DLHlDQUF5Qzs7QUFFekMsOERBQThEOztBQUU5RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFNBQVM7QUFDNUI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvaEhEO0FBQ21HO0FBQ2pCO0FBQ2xGLDhCQUE4QixzRUFBMkIsQ0FBQywrRUFBcUM7QUFDL0Y7QUFDQSwrSUFBK0ksdUJBQXVCLDJCQUEyQixnQkFBZ0Isa0xBQWtMLG1CQUFtQixxQkFBcUIsd0NBQXdDLHVDQUF1QyxHQUFHLGdEQUFnRCxzQkFBc0IsR0FBRywrREFBK0Qsd0JBQXdCLEdBQUcseUJBQXlCLGtCQUFrQixHQUFHLG1CQUFtQixpQkFBaUIsMkJBQTJCLDZCQUE2Qiw2QkFBNkIsa0xBQWtMLG1CQUFtQixHQUFHLDZCQUE2QixzQkFBc0IsR0FBRyx1QkFBdUIscUJBQXFCLG9CQUFvQixxQkFBcUIsMkJBQTJCLDJCQUEyQix1QkFBdUIsR0FBRyxvQ0FBb0Msc0JBQXNCLEdBQUcsMkJBQTJCLDBDQUEwQyxrQkFBa0IsbURBQW1ELEdBQUcsNENBQTRDLG1CQUFtQiwyQkFBMkIsdUJBQXVCLEdBQUcsa0RBQWtELDBCQUEwQixxQkFBcUIsR0FBRyxrQkFBa0IsMEJBQTBCLG9CQUFvQixxQkFBcUIscUJBQXFCLHVCQUF1QixHQUFHLGlCQUFpQix5QkFBeUIsNEJBQTRCLHdCQUF3QixxQkFBcUIsdUJBQXVCLHlCQUF5QixtQkFBbUIsbUJBQW1CLHdCQUF3Qix1QkFBdUIsOEJBQThCLGlEQUFpRCw4QkFBOEIsOEJBQThCLEdBQUcseUJBQXlCLHVCQUF1QixHQUFHLCtDQUErQyxvQkFBb0IsR0FBRyxtQ0FBbUMsY0FBYyxHQUFHLHlCQUF5Qix1QkFBdUIsZ0JBQWdCLG9CQUFvQiw4QkFBOEIsdUJBQXVCLEdBQUcsNkJBQTZCLDhCQUE4QixHQUFHLDZCQUE2QixrQkFBa0Isa0RBQWtELEdBQUcsc0NBQXNDLHVCQUF1QixHQUFHLDhDQUE4QyxtQkFBbUIsR0FBRyxvREFBb0Qsa0JBQWtCLEdBQUcsZ0VBQWdFLGNBQWMsR0FBRyxvREFBb0Qsb0RBQW9ELEdBQUcsc0JBQXNCLHVCQUF1QixtQkFBbUIsb0JBQW9CLG1CQUFtQixrQ0FBa0MsdUJBQXVCLEdBQUcsMEJBQTBCLGdCQUFnQixHQUFHLDBCQUEwQixrQkFBa0IsbURBQW1ELEdBQUcsbUNBQW1DLHVCQUF1QixHQUFHLDJDQUEyQyxtQkFBbUIsR0FBRyxpREFBaUQsa0JBQWtCLEdBQUcsNkRBQTZELGNBQWMsR0FBRyxpREFBaUQsb0RBQW9ELEdBQUcsaURBQWlELG1CQUFtQixHQUFHLE9BQU8sMEdBQTBHLEtBQUssS0FBSyxZQUFZLGFBQWEsV0FBVyxZQUFZLFdBQVcsWUFBWSxhQUFhLGFBQWEsT0FBTyxNQUFNLFlBQVksT0FBTyxPQUFPLFlBQVksT0FBTyxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsWUFBWSxhQUFhLGFBQWEsYUFBYSxXQUFXLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsWUFBWSxhQUFhLGFBQWEsYUFBYSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxXQUFXLFlBQVksTUFBTSxLQUFLLFVBQVUsWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksV0FBVyxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsV0FBVyxVQUFVLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxZQUFZLGFBQWEsTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxZQUFZLGFBQWEsTUFBTSxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSwrSEFBK0gsdUJBQXVCLDJCQUEyQixnQkFBZ0Isa0xBQWtMLG1CQUFtQixxQkFBcUIsd0NBQXdDLHVDQUF1QyxHQUFHLGdEQUFnRCxzQkFBc0IsR0FBRywrREFBK0Qsd0JBQXdCLEdBQUcseUJBQXlCLGtCQUFrQixHQUFHLG1CQUFtQixpQkFBaUIsMkJBQTJCLDZCQUE2Qiw2QkFBNkIsa0xBQWtMLG1CQUFtQixHQUFHLDZCQUE2QixzQkFBc0IsR0FBRyx1QkFBdUIscUJBQXFCLG9CQUFvQixxQkFBcUIsMkJBQTJCLDJCQUEyQix1QkFBdUIsR0FBRyxvQ0FBb0Msc0JBQXNCLEdBQUcsMkJBQTJCLDBDQUEwQyxrQkFBa0IsbURBQW1ELEdBQUcsNENBQTRDLG1CQUFtQiwyQkFBMkIsdUJBQXVCLEdBQUcsa0RBQWtELDBCQUEwQixxQkFBcUIsR0FBRyxrQkFBa0IsMEJBQTBCLG9CQUFvQixxQkFBcUIscUJBQXFCLHVCQUF1QixHQUFHLGlCQUFpQix5QkFBeUIsNEJBQTRCLHdCQUF3QixxQkFBcUIsdUJBQXVCLHlCQUF5QixtQkFBbUIsbUJBQW1CLHdCQUF3Qix1QkFBdUIsOEJBQThCLGlEQUFpRCw4QkFBOEIsOEJBQThCLEdBQUcseUJBQXlCLHVCQUF1QixHQUFHLCtDQUErQyxvQkFBb0IsR0FBRyxtQ0FBbUMsY0FBYyxHQUFHLHlCQUF5Qix1QkFBdUIsZ0JBQWdCLG9CQUFvQiw4QkFBOEIsdUJBQXVCLEdBQUcsNkJBQTZCLDhCQUE4QixHQUFHLDZCQUE2QixrQkFBa0Isa0RBQWtELEdBQUcsc0NBQXNDLHVCQUF1QixHQUFHLDhDQUE4QyxtQkFBbUIsR0FBRyxvREFBb0Qsa0JBQWtCLEdBQUcsZ0VBQWdFLGNBQWMsR0FBRyxvREFBb0Qsb0RBQW9ELEdBQUcsc0JBQXNCLHVCQUF1QixtQkFBbUIsb0JBQW9CLG1CQUFtQixrQ0FBa0MsdUJBQXVCLEdBQUcsMEJBQTBCLGdCQUFnQixHQUFHLDBCQUEwQixrQkFBa0IsbURBQW1ELEdBQUcsbUNBQW1DLHVCQUF1QixHQUFHLDJDQUEyQyxtQkFBbUIsR0FBRyxpREFBaUQsa0JBQWtCLEdBQUcsNkRBQTZELGNBQWMsR0FBRyxpREFBaUQsb0RBQW9ELEdBQUcsaURBQWlELG1CQUFtQixHQUFHLG1CQUFtQjtBQUM5NFI7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1B2QztBQUNtRztBQUNqQjtBQUNPO0FBQ3pGLDRDQUE0QywyMkJBQW9hO0FBQ2hkLDRDQUE0QyxpNEJBQSthO0FBQzNkLDRDQUE0QyxtNEJBQWdiO0FBQzVkLDRDQUE0Qyw2M0JBQTZhO0FBQ3pkLDRDQUE0QyxxNkNBQWlzQjtBQUM3dUIsNENBQTRDLG0vQkFBd2U7QUFDcGhCLDRDQUE0QyxtL0JBQXdlO0FBQ3BoQiw4QkFBOEIsc0VBQTJCLENBQUMsK0VBQXFDO0FBQy9GLHlDQUF5Qyx5RUFBK0I7QUFDeEUseUNBQXlDLHlFQUErQjtBQUN4RSx5Q0FBeUMseUVBQStCO0FBQ3hFLHlDQUF5Qyx5RUFBK0I7QUFDeEUseUNBQXlDLHlFQUErQjtBQUN4RSx5Q0FBeUMseUVBQStCO0FBQ3hFLHlDQUF5Qyx5RUFBK0I7QUFDeEU7QUFDQSw2REFBNkQsa0JBQWtCLHVCQUF1QixhQUFhLGlCQUFpQixZQUFZLGtCQUFrQix1QkFBdUIsR0FBRyw2QkFBNkIsdUJBQXVCLEdBQUcsNkJBQTZCLG1CQUFtQixnQ0FBZ0MsZUFBZSxrQ0FBa0MsR0FBRyxzQkFBc0IsMEJBQTBCLG1CQUFtQixjQUFjLGVBQWUsc0JBQXNCLGdCQUFnQixxQkFBcUIsb0JBQW9CLHFCQUFxQiw4QkFBOEIsd0JBQXdCLEdBQUcsbUNBQW1DLHFCQUFxQix1QkFBdUIsb0JBQW9CLHFCQUFxQixHQUFHLDJDQUEyQywyQkFBMkIsR0FBRyx3Q0FBd0MsY0FBYyxHQUFHLHdDQUF3QyxlQUFlLEdBQUcsd0NBQXdDLHNCQUFzQixHQUFHLHdDQUF3Qyx1QkFBdUIsR0FBRywyQkFBMkIsdUJBQXVCLGNBQWMsMEJBQTBCLGdCQUFnQixpQkFBaUIsbUJBQW1CLG9CQUFvQixzQkFBc0IsMkJBQTJCLDJCQUEyQix1QkFBdUIsR0FBRyxpQ0FBaUMsaUJBQWlCLEdBQUcsa0NBQWtDLHFCQUFxQiwwQkFBMEIsR0FBRywwa0JBQTBrQix1QkFBdUIsR0FBRyxvR0FBb0csdUJBQXVCLGdCQUFnQiwyQkFBMkIsb0NBQW9DLDBCQUEwQix3Q0FBd0MsZ0NBQWdDLGVBQWUsbUpBQW1KLHlCQUF5QiwyQkFBMkIsR0FBRyxvREFBb0QsMENBQTBDLGtCQUFrQixHQUFHLG1EQUFtRCw0QkFBNEIsdUJBQXVCLGdCQUFnQixxREFBcUQsK0NBQStDLHdCQUF3Qix5REFBeUQsc0NBQXNDLHVCQUF1Qiw4QkFBOEIsR0FBRyw2TkFBNk4sZUFBZSx5QkFBeUIsR0FBRywwTUFBME0saUJBQWlCLGNBQWMsZ0JBQWdCLGdCQUFnQix1QkFBdUIsMEVBQTBFLHVDQUF1QyxHQUFHLG9FQUFvRSxpQkFBaUIsY0FBYyx3QkFBd0IsdUNBQXVDLEdBQUcsMkVBQTJFLDBDQUEwQyxHQUFHLHlFQUF5RSwwQ0FBMEMsR0FBRyxxTUFBcU0saUJBQWlCLHFEQUFxRCxHQUFHLDhFQUE4RSx3REFBd0QsR0FBRyx1TUFBdU0saUJBQWlCLGtEQUFrRCxHQUFHLCtFQUErRSxxREFBcUQsR0FBRyxtTUFBbU0sY0FBYyxpQkFBaUIsY0FBYyxnQkFBZ0IsZ0JBQWdCLG9CQUFvQixxQkFBcUIsMEVBQTBFLDJDQUEyQyxHQUFHLHVFQUF1RSxjQUFjLGNBQWMscUJBQXFCLDJDQUEyQyxHQUFHLDhFQUE4RSx1Q0FBdUMsR0FBRyw0RUFBNEUsdUNBQXVDLEdBQUcsMk1BQTJNLGNBQWMseURBQXlELEdBQUcsaUZBQWlGLHFEQUFxRCxHQUFHLDZNQUE2TSxjQUFjLHNEQUFzRCxHQUFHLGtGQUFrRixrREFBa0QsR0FBRywrUEFBK1AsYUFBYSxnQkFBZ0IsaUJBQWlCLGVBQWUsMENBQTBDLEdBQUcscUVBQXFFLGVBQWUsaUJBQWlCLHNCQUFzQixxQkFBcUIsMEVBQTBFLEdBQUcsb0VBQW9FLHVCQUF1QixHQUFHLGtKQUFrSix1Q0FBdUMsR0FBRyxrUUFBa1EsYUFBYSxpQkFBaUIsZUFBZSwyQ0FBMkMsR0FBRyxzRUFBc0UsZUFBZSxpQkFBaUIscUJBQXFCLHFCQUFxQiwwRUFBMEUsR0FBRyxxRUFBcUUsc0JBQXNCLEdBQUcsb0pBQW9KLHVDQUF1QyxHQUFHLHdMQUF3TCxnQkFBZ0IseUJBQXlCLEdBQUcsa0VBQWtFLGlCQUFpQix5QkFBeUIsR0FBRyxpRUFBaUUsaUJBQWlCLHlCQUF5QixHQUFHLHFCQUFxQix1QkFBdUIsa0JBQWtCLGtCQUFrQixpQkFBaUIsZ0JBQWdCLHFCQUFxQixvQkFBb0Isc0JBQXNCLDJCQUEyQiw0QkFBNEIsR0FBRywwQ0FBMEMsOEJBQThCLEdBQUcsNkJBQTZCLHVCQUF1QixXQUFXLGFBQWEsY0FBYyxZQUFZLGdCQUFnQixnQkFBZ0IsOEJBQThCLGtCQUFrQixHQUFHLGtEQUFrRCw4QkFBOEIsR0FBRyx1Q0FBdUMsY0FBYyx1QkFBdUIsR0FBRywwREFBMEQsOEJBQThCLEdBQUcsdURBQXVELDhCQUE4QixHQUFHLGlFQUFpRSxtQkFBbUIsR0FBRyw4REFBOEQsbUJBQW1CLEdBQUcsd0RBQXdELGlCQUFpQiwyQkFBMkIsa0NBQWtDLEdBQUcsNkVBQTZFLDhCQUE4QiwrQkFBK0IsR0FBRyw4QkFBOEIsdUJBQXVCLGtCQUFrQixnQkFBZ0IsOEJBQThCLHNEQUFzRCxHQUFHLDZDQUE2QyxxTEFBcUwsK0JBQStCLGlFQUFpRSxHQUFHLCtDQUErQyxVQUFVLCtCQUErQixLQUFLLFFBQVEsa0NBQWtDLEtBQUssR0FBRywwSEFBMEgsOEJBQThCLEdBQUcseURBQXlELGtCQUFrQixHQUFHLDBDQUEwQyx1QkFBdUIsR0FBRywwQ0FBMEMsd0JBQXdCLEdBQUcsNkJBQTZCLHVCQUF1QixrQkFBa0Isa0JBQWtCLHdCQUF3QixpQkFBaUIsZ0JBQWdCLHdCQUF3Qiw0QkFBNEIsR0FBRyx1REFBdUQsdUJBQXVCLEdBQUcsdURBQXVELHdCQUF3QixHQUFHLGtEQUFrRCxtQkFBbUIsR0FBRyx5Q0FBeUMseUJBQXlCLEdBQUcseUNBQXlDLHdCQUF3QixHQUFHLDRCQUE0QixrQkFBa0IsMkJBQTJCLDRCQUE0Qix3QkFBd0IscUJBQXFCLEdBQUcsbUNBQW1DLHFCQUFxQixtQkFBbUIsa0JBQWtCLEdBQUcsK0RBQStELHFCQUFxQixHQUFHLHdEQUF3RCxtQkFBbUIsR0FBRyxxQ0FBcUMsMEJBQTBCLG9CQUFvQixtQkFBbUIsb0JBQW9CLHFCQUFxQix3QkFBd0IsR0FBRywwREFBMEQsZ0JBQWdCLEdBQUcsc0RBQXNELHNCQUFzQixHQUFHLHNEQUFzRCxxQkFBcUIsR0FBRyx5Q0FBeUMsMEJBQTBCLG1CQUFtQiwyQkFBMkIsR0FBRyxtRUFBbUUsc0JBQXNCLEdBQUcsbUVBQW1FLHFCQUFxQixHQUFHLGtEQUFrRCxzQkFBc0IsR0FBRyxrREFBa0QscUJBQXFCLEdBQUcscUNBQXFDLHVCQUF1QixhQUFhLG1CQUFtQixHQUFHLHVDQUF1QyxnQ0FBZ0MsR0FBRywwQ0FBMEMsZ0JBQWdCLEdBQUcsMENBQTBDLGVBQWUsR0FBRyw2QkFBNkIsdUJBQXVCLFdBQVcsY0FBYyxrQkFBa0Isa0JBQWtCLHdCQUF3QixHQUFHLHdEQUF3RCxxQkFBcUIsZ0JBQWdCLGlCQUFpQixvQkFBb0IsOEJBQThCLEdBQUcsNkVBQTZFLDhCQUE4QixHQUFHLG1FQUFtRSwyQkFBMkIsaUJBQWlCLEdBQUcsZ0ZBQWdGLHdCQUF3QixpQkFBaUIsR0FBRyx5RkFBeUYsMkJBQTJCLDRCQUE0QixHQUFHLHdHQUF3Ryx3QkFBd0IsNkJBQTZCLEdBQUcscUNBQXFDLGdCQUFnQixtQkFBbUIsb0JBQW9CLGlCQUFpQixHQUFHLHlDQUF5QyxrQkFBa0IsR0FBRyxxREFBcUQsY0FBYyxHQUFHLHlDQUF5QyxrREFBa0QsR0FBRyxnRUFBZ0Usa0JBQWtCLEdBQUcsNEVBQTRFLGNBQWMsR0FBRyxnRUFBZ0Usb0RBQW9ELEdBQUcseUNBQXlDLGVBQWUsR0FBRyx5Q0FBeUMsdUJBQXVCLEdBQUcseUNBQXlDLDJCQUEyQixHQUFHLCtCQUErQiwwQkFBMEIsbUJBQW1CLG9CQUFvQix5QkFBeUIsMkJBQTJCLEdBQUcsNENBQTRDLG9CQUFvQixHQUFHLHlDQUF5QyxpQkFBaUIsR0FBRyw4REFBOEQsaUJBQWlCLEdBQUcsbURBQW1ELHNCQUFzQixHQUFHLG1EQUFtRCxxQkFBcUIsR0FBRyxzQ0FBc0MsdUJBQXVCLGlCQUFpQiw4QkFBOEIsZ0JBQWdCLG1CQUFtQiw4QkFBOEIsdUJBQXVCLEdBQUcsMENBQTBDLGtCQUFrQixHQUFHLHNEQUFzRCxjQUFjLEdBQUcsMENBQTBDLGtEQUFrRCxHQUFHLGlFQUFpRSxrQkFBa0IsR0FBRyw2RUFBNkUsY0FBYyxHQUFHLGlFQUFpRSxvREFBb0QsR0FBRywwQ0FBMEMsOEJBQThCLEdBQUcscURBQXFELGNBQWMsR0FBRyxxREFBcUQsZUFBZSxHQUFHLHdDQUF3Qyx1QkFBdUIsYUFBYSxHQUFHLGtFQUFrRSxnQkFBZ0IsdUJBQXVCLGdCQUFnQixvQkFBb0IsbUJBQW1CLDhCQUE4QixHQUFHLHNFQUFzRSw4QkFBOEIsR0FBRyx1RkFBdUYsOEJBQThCLEdBQUcsNkZBQTZGLDhCQUE4QixHQUFHLGlGQUFpRixnQkFBZ0IsdUJBQXVCLEdBQUcsMkdBQTJHLDhCQUE4Qix3QkFBd0IsR0FBRyxrSUFBa0ksOEJBQThCLEdBQUcsd0VBQXdFLG1CQUFtQixrQ0FBa0MsR0FBRyw4REFBOEQsdUJBQXVCLEdBQUcsOERBQThELHNCQUFzQixHQUFHLDhEQUE4RCxzQkFBc0IsR0FBRyw4REFBOEQsdUJBQXVCLEdBQUcsaURBQWlELHdCQUF3Qix1QkFBdUIsR0FBRyxxREFBcUQsa0JBQWtCLEdBQUcsaUVBQWlFLGNBQWMsR0FBRyxxREFBcUQsa0RBQWtELEdBQUcsNEVBQTRFLGtCQUFrQixHQUFHLHdGQUF3RixjQUFjLEdBQUcsNEVBQTRFLG9EQUFvRCxHQUFHLCtKQUErSixrQkFBa0IsR0FBRyxxQ0FBcUMscUJBQXFCLG1CQUFtQix1QkFBdUIsR0FBRyx5Q0FBeUMsa0JBQWtCLEdBQUcscURBQXFELGNBQWMsR0FBRyx5Q0FBeUMsbUJBQW1CLEdBQUcseUNBQXlDLDhCQUE4QixHQUFHLGdFQUFnRSwyQkFBMkIsR0FBRywwREFBMEQsbUJBQW1CLEdBQUcsb0RBQW9ELG9CQUFvQixHQUFHLGdDQUFnQyx1QkFBdUIsZ0JBQWdCLG9CQUFvQixxQkFBcUIsR0FBRyw2Q0FBNkMsdUJBQXVCLG9CQUFvQixHQUFHLHFEQUFxRCxtQkFBbUIsR0FBRywyQ0FBMkMsdUJBQXVCLGFBQWEsY0FBYyxnQkFBZ0IsZ0NBQWdDLGlCQUFpQixHQUFHLHdEQUF3RCxhQUFhLGVBQWUsZ0JBQWdCLEdBQUcsMENBQTBDLGNBQWMsR0FBRywwQ0FBMEMsZUFBZSxHQUFHLDZCQUE2Qix1QkFBdUIsV0FBVywwQkFBMEIsZ0JBQWdCLGlCQUFpQixnQkFBZ0IscUJBQXFCLG9CQUFvQixzQkFBc0IsdUJBQXVCLDJCQUEyQiw4QkFBOEIsdUJBQXVCLGlCQUFpQiw2QkFBNkIsNkJBQTZCLEdBQUcsb0NBQW9DLHFCQUFxQiwwQkFBMEIsR0FBRywwQ0FBMEMsdUJBQXVCLEdBQUcsMENBQTBDLHNCQUFzQixHQUFHLDZCQUE2QixvREFBb0QsMkJBQTJCLHNDQUFzQyx3Q0FBd0Msa0JBQWtCLEdBQUcsMEhBQTBILGtCQUFrQixHQUFHLGdEQUFnRCxRQUFRLDhCQUE4QixLQUFLLFVBQVUsZ0NBQWdDLEtBQUssR0FBRyw2SUFBNkksa0JBQWtCLHdCQUF3QixvQkFBb0IsNEJBQTRCLG1DQUFtQyxpQkFBaUIsR0FBRywySkFBMkosZUFBZSxrQkFBa0IsR0FBRywySUFBMkksdUJBQXVCLGVBQWUsY0FBYyxHQUFHLHlLQUF5SyxvQkFBb0IsR0FBRyx5S0FBeUssZUFBZSxHQUFHLDJKQUEySixtQkFBbUIsc0JBQXNCLGtCQUFrQixHQUFHLDZVQUE2VSxrQkFBa0IsR0FBRywrSkFBK0osaUJBQWlCLEdBQUcsaU9BQWlPLCtDQUErQyxHQUFHLCtRQUErUSwrQ0FBK0MsR0FBRyx5S0FBeUssZUFBZSxnQkFBZ0IsNkJBQTZCLEdBQUcsdU5BQXVOLG1DQUFtQyxHQUFHLG1KQUFtSix1QkFBdUIsYUFBYSxlQUFlLGdCQUFnQixjQUFjLDZCQUE2Qiw4QkFBOEIscUJBQXFCLHVCQUF1Qix1QkFBdUIsR0FBRyx3QkFBd0IsdU5BQXVOLHFCQUFxQixLQUFLLEdBQUcsaU1BQWlNLG1EQUFtRCxHQUFHLDJKQUEySixnQkFBZ0IsaUJBQWlCLHNCQUFzQix1QkFBdUIsR0FBRyxxSkFBcUosdUJBQXVCLGtCQUFrQixjQUFjLFlBQVksZ0JBQWdCLG1DQUFtQyxpQkFBaUIscUJBQXFCLG9CQUFvQixjQUFjLGlCQUFpQiwwQkFBMEIsR0FBRyxpS0FBaUssbUNBQW1DLCtCQUErQixHQUFHLHlKQUF5Six1QkFBdUIsY0FBYyxnQkFBZ0Isa0JBQWtCLGdCQUFnQixpQkFBaUIsOEJBQThCLHVCQUF1QixlQUFlLEdBQUcsa01BQWtNLGNBQWMsR0FBRyxrTUFBa00sZUFBZSxHQUFHLHVLQUF1SyxhQUFhLGdCQUFnQixnQkFBZ0IsR0FBRyxpTEFBaUwsZUFBZSxHQUFHLHFnQkFBcWdCLG1CQUFtQixHQUFHLGlNQUFpTSxrREFBa0QsR0FBRyw2TUFBNk0sa0JBQWtCLEdBQUcscU9BQXFPLGNBQWMsR0FBRywwQ0FBMEMsMkJBQTJCLEdBQUcsK0RBQStELDhCQUE4QixHQUFHLG9FQUFvRSxrQkFBa0Isd0JBQXdCLGNBQWMsc0JBQXNCLEdBQUcsMkZBQTJGLG1CQUFtQixHQUFHLDhFQUE4RSxpQkFBaUIsR0FBRyx3RkFBd0YsdUJBQXVCLEdBQUcsd0ZBQXdGLHNCQUFzQixHQUFHLDJFQUEyRSxnQkFBZ0IsaUJBQWlCLDJCQUEyQiw4QkFBOEIsdUJBQXVCLEdBQUcsaUZBQWlGLDhCQUE4QixrQkFBa0IsbURBQW1ELEdBQUcsK0ZBQStGLGNBQWMsR0FBRywrRkFBK0YsZUFBZSxHQUFHLGtGQUFrRixhQUFhLGVBQWUsZ0JBQWdCLGVBQWUsR0FBRyx3R0FBd0cseUNBQXlDLGlEQUFpRCxHQUFHLHVGQUF1Riw4QkFBOEIsMEJBQTBCLEdBQUcsOEZBQThGLGVBQWUsR0FBRyx3RUFBd0Usa0JBQWtCLHdCQUF3QixpQkFBaUIscUJBQXFCLHdCQUF3Qiw0QkFBNEIsR0FBRyw4RUFBOEUsK0JBQStCLGtCQUFrQixHQUFHLGtMQUFrTCxzQkFBc0IsR0FBRyxrTEFBa0wscUJBQXFCLEdBQUcsdUpBQXVKLG9CQUFvQixxQkFBcUIsR0FBRyw2RUFBNkUscUJBQXFCLHFCQUFxQix3QkFBd0IsNEJBQTRCLEdBQUcsNEdBQTRHLG9CQUFvQixHQUFHLHdGQUF3RixzQkFBc0IsR0FBRyx3RkFBd0YscUJBQXFCLEdBQUcsMkVBQTJFLGdCQUFnQixHQUFHLHdDQUF3Qyx1QkFBdUIsbUJBQW1CLG9CQUFvQixHQUFHLCtDQUErQyxvQkFBb0IsR0FBRyw2Q0FBNkMsdUJBQXVCLHFDQUFxQyxtQ0FBbUMsOEJBQThCLG9CQUFvQixrQkFBa0IsR0FBRyxzREFBc0Qsb0JBQW9CLEdBQUcsNkRBQTZELDhCQUE4QiwwQkFBMEIsR0FBRywyRUFBMkUsMkJBQTJCLEdBQUcsMEJBQTBCLGtCQUFrQixZQUFZLDJCQUEyQix3QkFBd0IsNEJBQTRCLGdCQUFnQixpQkFBaUIsR0FBRywrQ0FBK0MsOEJBQThCLEdBQUcsZ0NBQWdDLGVBQWUscUJBQXFCLHdCQUF3QixHQUFHLDZDQUE2Qyx3QkFBd0IsR0FBRyw0REFBNEQsa0JBQWtCLEdBQUcsdUNBQXVDLHVCQUF1QixHQUFHLG9EQUFvRCx1QkFBdUIsR0FBRyxzQ0FBc0Msa0JBQWtCLFlBQVksd0JBQXdCLDRCQUE0QixHQUFHLDJEQUEyRCw4QkFBOEIsR0FBRyxnR0FBZ0csa0JBQWtCLFlBQVksMkJBQTJCLHdCQUF3Qiw0QkFBNEIsbUJBQW1CLEdBQUcsMEJBQTBCLG1CQUFtQixHQUFHLGlDQUFpQyxpQkFBaUIsaUJBQWlCLEdBQUcsOEJBQThCLHFCQUFxQix3QkFBd0Isb0JBQW9CLG1CQUFtQixxQkFBcUIsb0JBQW9CLHFCQUFxQix1QkFBdUIsR0FBRywyQ0FBMkMsb0JBQW9CLEdBQUcsbURBQW1ELG1CQUFtQixHQUFHLCtCQUErQixrQkFBa0Isd0JBQXdCLGlDQUFpQyx3QkFBd0IsR0FBRyxtQ0FBbUMsOEJBQThCLEdBQUcsbUNBQW1DLGtCQUFrQixrREFBa0QsR0FBRyxpQ0FBaUMsc0JBQXNCLEdBQUcsNkNBQTZDLHFCQUFxQixHQUFHLDZDQUE2QyxzQkFBc0IsR0FBRyxnQ0FBZ0MsWUFBWSx3QkFBd0IsbUJBQW1CLG9CQUFvQixHQUFHLDZDQUE2QyxxQkFBcUIsR0FBRyxxREFBcUQsbUJBQW1CLEdBQUcsaURBQWlELHNCQUFzQixHQUFHLGlEQUFpRCxxQkFBcUIsR0FBRyxvQ0FBb0MsMEJBQTBCLG1CQUFtQixtQkFBbUIsMkJBQTJCLEdBQUcsd0NBQXdDLGdCQUFnQixpQkFBaUIsa0JBQWtCLEdBQUcsdUNBQXVDLDBCQUEwQixpQkFBaUIseUJBQXlCLHVCQUF1QixHQUFHLDJDQUEyQyxrQkFBa0IsR0FBRyx1REFBdUQsY0FBYyxHQUFHLDJDQUEyQyxtQkFBbUIsR0FBRywyQ0FBMkMsOEJBQThCLEdBQUcsa0VBQWtFLDJCQUEyQixHQUFHLHdEQUF3RCwrQkFBK0IsR0FBRyxrREFBa0QsZ0JBQWdCLHFCQUFxQixtQkFBbUIseUJBQXlCLEdBQUcsMkNBQTJDLG9CQUFvQixHQUFHLDREQUE0RCxtQkFBbUIsR0FBRywyQkFBMkIsa0JBQWtCLFlBQVksMkJBQTJCLGlCQUFpQixxQkFBcUIsb0JBQW9CLEdBQUcsZ0NBQWdDLHNCQUFzQixnQkFBZ0IscUJBQXFCLEdBQUcscURBQXFELG1CQUFtQixHQUFHLG9EQUFvRCxjQUFjLEdBQUcsb0RBQW9ELGVBQWUsR0FBRyx1Q0FBdUMsdUJBQXVCLG1CQUFtQix3QkFBd0IsbUJBQW1CLEdBQUcsa0NBQWtDLHVCQUF1QixrQkFBa0IscUNBQXFDLEdBQUcsdURBQXVELGtDQUFrQyxHQUFHLHFDQUFxQyxrQkFBa0Isc0JBQXNCLG1CQUFtQixvQkFBb0IscUJBQXFCLDhCQUE4QixHQUFHLGtEQUFrRCxrQkFBa0Isd0JBQXdCLEdBQUcsMERBQTBELDhCQUE4QixHQUFHLDZDQUE2QyxtQkFBbUIsNEJBQTRCLHVCQUF1QixHQUFHLDRFQUE0RSwwQkFBMEIsZUFBZSwyQkFBMkIsR0FBRyx3Q0FBd0MsdUJBQXVCLGtCQUFrQix3QkFBd0IsZ0JBQWdCLGlCQUFpQixzQkFBc0IsdUJBQXVCLHFCQUFxQix3QkFBd0IsR0FBRywwREFBMEQsdUJBQXVCLEdBQUcsMERBQTBELHdCQUF3QixHQUFHLDBEQUEwRCx3QkFBd0IsR0FBRywwREFBMEQsdUJBQXVCLEdBQUcsNkNBQTZDLGtCQUFrQixnQkFBZ0IsaUJBQWlCLG9CQUFvQixrTEFBa0wscUJBQXFCLDhCQUE4QixjQUFjLHVCQUF1QixlQUFlLGdCQUFnQixHQUFHLHlFQUF5RSxrQkFBa0IsR0FBRyxrRUFBa0UsbUJBQW1CLDhCQUE4QixHQUFHLG1EQUFtRCw4QkFBOEIsY0FBYyxHQUFHLHdFQUF3RSwyQkFBMkIsR0FBRyx5REFBeUQsZUFBZSxHQUFHLHlEQUF5RCxnQkFBZ0IsR0FBRyw0Q0FBNEMsdUJBQXVCLGtCQUFrQixnQkFBZ0IsaUJBQWlCLG1CQUFtQixHQUFHLDBEQUEwRCxtQkFBbUIsZUFBZSxHQUFHLDBEQUEwRCxnQkFBZ0IsR0FBRywwREFBMEQsZUFBZSxHQUFHLDZDQUE2Qyx1QkFBdUIsdUJBQXVCLGtCQUFrQixnQkFBZ0IsaUJBQWlCLGlCQUFpQixtQkFBbUIsb0JBQW9CLEdBQUcsaURBQWlELGtCQUFrQixHQUFHLDZEQUE2RCxjQUFjLEdBQUcsaURBQWlELGtEQUFrRCxHQUFHLGlEQUFpRCxtQkFBbUIsR0FBRywrQ0FBK0MsNkJBQTZCLEdBQUcsc0NBQXNDLGlCQUFpQixtQkFBbUIseUJBQXlCLHVCQUF1QixvQkFBb0IsR0FBRywwQ0FBMEMsa0JBQWtCLEdBQUcsc0RBQXNELGNBQWMsR0FBRywwQ0FBMEMsbUJBQW1CLEdBQUcsMENBQTBDLDhCQUE4QixHQUFHLGlFQUFpRSwyQkFBMkIsR0FBRywwQ0FBMEMsK0JBQStCLEdBQUcsMkRBQTJELG1CQUFtQixHQUFHLGdDQUFnQyx1QkFBdUIsWUFBWSxHQUFHLGdDQUFnQyx1QkFBdUIsV0FBVyxhQUFhLGNBQWMsWUFBWSxtQkFBbUIsWUFBWSxnQkFBZ0IsaUJBQWlCLGNBQWMsZUFBZSx1QkFBdUIscUJBQXFCLHFCQUFxQiwyQkFBMkIsc0JBQXNCLHNDQUFzQyxHQUFHLHFEQUFxRCw4QkFBOEIsR0FBRyxvQ0FBb0Msa0JBQWtCLEdBQUcscUNBQXFDLHFCQUFxQixvQkFBb0Isb0JBQW9CLEdBQUcsa0NBQWtDLGtCQUFrQix3QkFBd0IsaUJBQWlCLG9CQUFvQiwyQkFBMkIsa0NBQWtDLEdBQUcsb0RBQW9ELHNCQUFzQixHQUFHLG9EQUFvRCxxQkFBcUIsR0FBRyx1REFBdUQsOEJBQThCLCtCQUErQixHQUFHLDJDQUEyQyx1QkFBdUIsa0JBQWtCLDJCQUEyQix3QkFBd0IsNEJBQTRCLGdCQUFnQixpQkFBaUIscUJBQXFCLHVCQUF1Qiw2Q0FBNkMsR0FBRyx3REFBd0QsOENBQThDLEdBQUcsa0RBQWtELHVCQUF1QixXQUFXLGFBQWEsY0FBYyxZQUFZLGtCQUFrQixrQkFBa0IsMENBQTBDLGtCQUFrQixHQUFHLHNDQUFzQyx1QkFBdUIsV0FBVyxhQUFhLGNBQWMsWUFBWSxrQkFBa0IsR0FBRywwQ0FBMEMsd0NBQXdDLEdBQUcsaUVBQWlFLHdDQUF3QyxHQUFHLHFFQUFxRSxnQkFBZ0IsaUJBQWlCLHNCQUFzQix1QkFBdUIsNkJBQTZCLEdBQUcsbUNBQW1DLHVCQUF1QixhQUFhLGNBQWMsa0JBQWtCLGlCQUFpQixnQkFBZ0IsdUJBQXVCLHFDQUFxQyw4QkFBOEIsR0FBRyw0Q0FBNEMsMEJBQTBCLGdCQUFnQixpQkFBaUIsaUJBQWlCLGdCQUFnQixHQUFHLHlEQUF5RCxnQkFBZ0IsaUJBQWlCLEdBQUcsa0RBQWtELG9CQUFvQixHQUFHLHNEQUFzRCxrQkFBa0IsR0FBRyxrRUFBa0UsY0FBYyxHQUFHLDBMQUEwTCxrQkFBa0IsR0FBRywrQ0FBK0MsZ0JBQWdCLGlCQUFpQixHQUFHLDJDQUEyQyxxQ0FBcUMsR0FBRyxpREFBaUQsZ0RBQWdELGlCQUFpQixHQUFHLDZDQUE2Qyx5QkFBeUIsZUFBZSxpQkFBaUIsR0FBRywrQ0FBK0MseUJBQXlCLGVBQWUsR0FBRyw4Q0FBOEMseUJBQXlCLGVBQWUsaUJBQWlCLEdBQUcsOENBQThDLHlCQUF5QixlQUFlLEdBQUcsOENBQThDLGVBQWUsR0FBRyxpRkFBaUYsZ0JBQWdCLEdBQUcsaUZBQWlGLGVBQWUsR0FBRyxpRkFBaUYsa0JBQWtCLEdBQUcsaUZBQWlGLG1CQUFtQixHQUFHLG9FQUFvRSxjQUFjLGdCQUFnQix1QkFBdUIsR0FBRywwRUFBMEUsZ0JBQWdCLGlCQUFpQixHQUFHLHVGQUF1RixnQkFBZ0IsaUJBQWlCLEdBQUcsNkVBQTZFLGdCQUFnQixpQkFBaUIsZUFBZSxHQUFHLDBGQUEwRixnQkFBZ0IsaUJBQWlCLEdBQUcsc0VBQXNFLGVBQWUsR0FBRyxnREFBZ0QsdUJBQXVCLEdBQUcsZ0RBQWdELHNCQUFzQixHQUFHLDBFQUEwRSx3QkFBd0IsR0FBRywwRUFBMEUsdUJBQXVCLEdBQUcsd0ZBQXdGLHdCQUF3QixHQUFHLHdGQUF3Rix1QkFBdUIsR0FBRywrQkFBK0IsdUJBQXVCLHFCQUFxQixvQkFBb0IscUJBQXFCLHdCQUF3QiwwQkFBMEIsR0FBRyxvREFBb0QsbUJBQW1CLEdBQUcsdUVBQXVFLG9CQUFvQixxQkFBcUIsR0FBRyxtQ0FBbUMsa0JBQWtCLDBCQUEwQixHQUFHLHdDQUF3QyxxQkFBcUIsR0FBRyxpQ0FBaUMsbUJBQW1CLDJCQUEyQixvQkFBb0Isd0JBQXdCLDBCQUEwQixtQkFBbUIsdUJBQXVCLEdBQUcsaUNBQWlDLG1CQUFtQixHQUFHLGlDQUFpQyxtQkFBbUIsd0JBQXdCLG9CQUFvQixtQkFBbUIsR0FBRyxzREFBc0QsZ0JBQWdCLEdBQUcscUNBQXFDLDBCQUEwQiw4QkFBOEIsMkJBQTJCLHVCQUF1QixHQUFHLG1DQUFtQyxtQkFBbUIscUJBQXFCLHVCQUF1Qix5QkFBeUIsR0FBRyx1Q0FBdUMsb0JBQW9CLHFCQUFxQixxQkFBcUIsbUJBQW1CLDhCQUE4QixxQkFBcUIsR0FBRywwQ0FBMEMsb0JBQW9CLCtCQUErQixtQkFBbUIsb0JBQW9CLHFCQUFxQixHQUFHLG9FQUFvRSxrQkFBa0IsR0FBRyxpRkFBaUYsbUJBQW1CLGtDQUFrQyxxQkFBcUIscUJBQXFCLHVCQUF1QixjQUFjLFlBQVksYUFBYSxtQ0FBbUMsb0NBQW9DLEdBQUcscUVBQXFFLDBCQUEwQixxQkFBcUIsOEJBQThCLHVCQUF1QixHQUFHLGtGQUFrRixrQkFBa0IsR0FBRyxpQ0FBaUMsbUJBQW1CLG9CQUFvQixHQUFHLHFDQUFxQyxrQkFBa0IsR0FBRyxpREFBaUQsY0FBYyxHQUFHLHFDQUFxQyxrREFBa0QsR0FBRyxxQ0FBcUMsbUJBQW1CLGVBQWUsR0FBRyxzREFBc0QsbUJBQW1CLEdBQUcsNERBQTRELGtCQUFrQixHQUFHLHdFQUF3RSxjQUFjLEdBQUcsNERBQTRELG9EQUFvRCxHQUFHLDREQUE0RCxtQkFBbUIsR0FBRyx5Q0FBeUMsbUJBQW1CLGtCQUFrQixHQUFHLDZDQUE2QyxnQkFBZ0IsZUFBZSxHQUFHLGtKQUFrSixnQkFBZ0IsR0FBRyxrSkFBa0osZUFBZSxHQUFHLHVIQUF1SCx1QkFBdUIsY0FBYyxrQkFBa0IsZ0JBQWdCLGlCQUFpQixlQUFlLEdBQUcsbUlBQW1JLHVCQUF1QixHQUFHLDhEQUE4RCxtQkFBbUIsR0FBRyxvRUFBb0UsZ0JBQWdCLEdBQUcsNkdBQTZHLGtCQUFrQix3QkFBd0IsR0FBRyxvR0FBb0csZ0JBQWdCLGlCQUFpQixxQkFBcUIsaUJBQWlCLEdBQUcsMEdBQTBHLHVCQUF1QixHQUFHLDZHQUE2RyxnQkFBZ0IsaUJBQWlCLGVBQWUsR0FBRyx1SEFBdUgsdUJBQXVCLEdBQUcsMEJBQTBCLGtCQUFrQix3QkFBd0Isa0JBQWtCLHFDQUFxQyxHQUFHLHNGQUFzRixxQkFBcUIsR0FBRyxzRkFBc0Ysb0JBQW9CLEdBQUcsK0NBQStDLGtDQUFrQyxHQUFHLG9EQUFvRCxnQkFBZ0IsR0FBRyxvREFBb0QsaUJBQWlCLEdBQUcsdUNBQXVDLHVCQUF1QixtQkFBbUIsd0lBQXdJLGtCQUFrQixxQkFBcUIsZUFBZSxxQkFBcUIsR0FBRyx1Q0FBdUMsb0lBQW9JLGtCQUFrQixxQkFBcUIsZUFBZSxHQUFHLHVDQUF1QyxvSUFBb0ksa0JBQWtCLGVBQWUsR0FBRyxvREFBb0QsbUJBQW1CLGdCQUFnQixxQkFBcUIsaUJBQWlCLHFCQUFxQix1QkFBdUIsZUFBZSxpQkFBaUIsR0FBRyx5RUFBeUUsaUJBQWlCLEdBQUcsNkRBQTZELGlCQUFpQixHQUFHLHdFQUF3RSx1QkFBdUIsV0FBVyxhQUFhLGNBQWMsWUFBWSxrQkFBa0Isc0VBQXNFLGlDQUFpQyxrQ0FBa0MsMEJBQTBCLGlCQUFpQixrQkFBa0IsR0FBRyxxRkFBcUYsaUNBQWlDLDBCQUEwQixHQUFHLGtDQUFrQyx1QkFBdUIsR0FBRyxxR0FBcUcsaUJBQWlCLG1CQUFtQixnQkFBZ0IsaUJBQWlCLEdBQUcsK0NBQStDLGdCQUFnQixrQkFBa0IsR0FBRywrQ0FBK0Msa0JBQWtCLEdBQUcsK0NBQStDLGtCQUFrQixHQUFHLDREQUE0RCxnQkFBZ0Isa0JBQWtCLEdBQUcsMERBQTBELHVCQUF1QixHQUFHLDBEQUEwRCxzQkFBc0IsR0FBRywwREFBMEQsdUJBQXVCLEdBQUcsMERBQTBELHdCQUF3QixHQUFHLDZDQUE2QyxrQkFBa0IsaUJBQWlCLHdCQUF3QixtQ0FBbUMsR0FBRywrSEFBK0gsNEJBQTRCLGdCQUFnQixlQUFlLHFCQUFxQixHQUFHLG1DQUFtQyxpQkFBaUIsbUJBQW1CLEdBQUcsd0NBQXdDLGlCQUFpQixtQkFBbUIsR0FBRyxrS0FBa0ssbUJBQW1CLEdBQUcsK0ZBQStGLGtCQUFrQixHQUFHLG9EQUFvRCxjQUFjLEdBQUcsb0RBQW9ELGVBQWUsR0FBRyx1Q0FBdUMsdUJBQXVCLFdBQVcsbUJBQW1CLGdCQUFnQixpQkFBaUIsZ0JBQWdCLHFCQUFxQixvQkFBb0Isc0JBQXNCLHVCQUF1Qiw4QkFBOEIsdUJBQXVCLGlCQUFpQixpQkFBaUIsNkJBQTZCLDZCQUE2QixHQUFHLDhDQUE4QyxxQkFBcUIsMEJBQTBCLEdBQUcsOEJBQThCLHVCQUF1QixXQUFXLGFBQWEsY0FBYyxZQUFZLGtCQUFrQixrQkFBa0IsMkJBQTJCLGdCQUFnQixpQkFBaUIsMkJBQTJCLHVCQUF1QixnREFBZ0QsR0FBRyx1REFBdUQsZ0NBQWdDLGlDQUFpQyxHQUFHLDZEQUE2RCxvQ0FBb0MsbUNBQW1DLEdBQUcsb0NBQW9DLGtCQUFrQiwyQkFBMkIsaUJBQWlCLG1CQUFtQixpQkFBaUIsa0JBQWtCLEdBQUcsc0NBQXNDLHVCQUF1QixrQkFBa0IsaUJBQWlCLG1CQUFtQix3QkFBd0IsNEJBQTRCLGdCQUFnQixrQkFBa0IscUNBQXFDLEdBQUcsMkRBQTJELDJCQUEyQixxQkFBcUIsR0FBRyx5RUFBeUUsbUJBQW1CLG1CQUFtQixvQkFBb0Isc0JBQXNCLHVCQUF1QiwrQ0FBK0MsR0FBRyxnREFBZ0QsZ0JBQWdCLEdBQUcsZ0RBQWdELGVBQWUsR0FBRyxtQ0FBbUMsdUJBQXVCLGNBQWMsc0JBQXNCLGdCQUFnQixvQkFBb0IseUNBQXlDLHdCQUF3QixHQUFHLHVDQUF1QyxrQkFBa0IsR0FBRyxtREFBbUQsY0FBYyxHQUFHLHVDQUF1QyxrREFBa0QsR0FBRyx1Q0FBdUMseUNBQXlDLEdBQUcsbUNBQW1DLGlCQUFpQixtQkFBbUIsZ0JBQWdCLGlDQUFpQyxxQkFBcUIsc0NBQXNDLEdBQUcsd0RBQXdELDhCQUE4QixHQUFHLHVDQUF1QyxxQkFBcUIsaUJBQWlCLHdCQUF3QixlQUFlLGlCQUFpQixjQUFjLEdBQUcsb0NBQW9DLDBCQUEwQixlQUFlLG1CQUFtQixvQkFBb0IsMkJBQTJCLEdBQUcsaURBQWlELG9CQUFvQixHQUFHLHlEQUF5RCxtQkFBbUIsR0FBRyxvQ0FBb0MsMEJBQTBCLGVBQWUsMkJBQTJCLEdBQUcsc0NBQXNDLGtCQUFrQixpQkFBaUIsbUJBQW1CLHdCQUF3QixpQkFBaUIsb0JBQW9CLDhCQUE4QixrQ0FBa0MsR0FBRyxtREFBbUQsaUJBQWlCLEdBQUcsMkRBQTJELDhCQUE4QiwrQkFBK0IsR0FBRyxzREFBc0QsdUJBQXVCLEdBQUcsc0RBQXNELHNCQUFzQixHQUFHLHdDQUF3Qyx3Q0FBd0Msa0JBQWtCLHVFQUF1RSxHQUFHLGlGQUFpRixvQ0FBb0MsZUFBZSxHQUFHLHdDQUF3QyxvQ0FBb0MsZUFBZSx1RUFBdUUsR0FBRyxpRkFBaUYsd0NBQXdDLGtCQUFrQixHQUFHLHNDQUFzQyxVQUFVLGlCQUFpQixLQUFLLFFBQVEsaUJBQWlCLEtBQUssR0FBRyxxQ0FBcUMsVUFBVSxpQkFBaUIsS0FBSyxRQUFRLGlCQUFpQixLQUFLLEdBQUcsZ0RBQWdELFVBQVUsNENBQTRDLGlCQUFpQixLQUFLLFFBQVEsNENBQTRDLGlCQUFpQixLQUFLLEdBQUcsdURBQXVELFVBQVUseUNBQXlDLGlCQUFpQixLQUFLLFFBQVEsc0NBQXNDLGlCQUFpQixLQUFLLEdBQUcsNENBQTRDLFVBQVUsNENBQTRDLGlCQUFpQixLQUFLLFFBQVEsNENBQTRDLGlCQUFpQixLQUFLLEdBQUcsbURBQW1ELFVBQVUsc0NBQXNDLGlCQUFpQixLQUFLLFFBQVEseUNBQXlDLGlCQUFpQixLQUFLLEdBQUcsMEJBQTBCLGtCQUFrQixHQUFHLDhDQUE4QyxrQkFBa0IsR0FBRyxxRkFBcUYsd0ZBQXdGLEdBQUcsNkNBQTZDLHFGQUFxRixtRkFBbUYsS0FBSyxHQUFHLHVGQUF1RixxRUFBcUUsR0FBRywrR0FBK0csb0ZBQW9GLEdBQUcsNkNBQTZDLCtHQUErRywrRUFBK0UsS0FBSyxHQUFHLGlIQUFpSCxzRUFBc0UsR0FBRyw2QkFBNkIsa0JBQWtCLHFCQUFxQixHQUFHLG9EQUFvRCxvQkFBb0IsV0FBVyxhQUFhLGNBQWMsWUFBWSxrQkFBa0IseUNBQXlDLEdBQUcsMkJBQTJCLHVCQUF1QixvQkFBb0IscUJBQXFCLDhCQUE4Qiw4QkFBOEIsdUJBQXVCLGtCQUFrQixHQUFHLHdDQUF3QyxxQkFBcUIsR0FBRyw2Q0FBNkMsMkJBQTJCLG1CQUFtQixvQkFBb0IsS0FBSyxHQUFHLGdEQUFnRCxrQkFBa0IsR0FBRyxnREFBZ0QsOEJBQThCLEdBQUcscURBQXFELHdCQUF3QixHQUFHLCtCQUErQix1QkFBdUIsa0JBQWtCLDJCQUEyQixpQkFBaUIscUJBQXFCLHVCQUF1QixlQUFlLEdBQUcsaUVBQWlFLGVBQWUsR0FBRyx5REFBeUQsaUJBQWlCLDRCQUE0Qiw4QkFBOEIsOEJBQThCLHdCQUF3QixHQUFHLHNEQUFzRCxrQkFBa0IsR0FBRyx5RkFBeUYseUJBQXlCLHdCQUF3QixHQUFHLGtEQUFrRCxvQkFBb0IsY0FBYyxnQkFBZ0IsaUJBQWlCLGVBQWUsaUJBQWlCLEdBQUcsNkNBQTZDLGtEQUFrRCxlQUFlLGtCQUFrQixnQkFBZ0IscURBQXFELHVDQUF1QyxLQUFLLEdBQUcsd0NBQXdDLGdCQUFnQixHQUFHLHdDQUF3QyxlQUFlLEdBQUcsMkJBQTJCLHVCQUF1QixlQUFlLGtCQUFrQixtQkFBbUIsb0NBQW9DLG9CQUFvQixvQkFBb0IsR0FBRywrQkFBK0Isa0JBQWtCLEdBQUcsMkNBQTJDLGNBQWMsR0FBRywrQkFBK0IsbUJBQW1CLEdBQUcsNkNBQTZDLHdDQUF3QyxtQkFBbUIsS0FBSyx3Q0FBd0Msa0JBQWtCLEtBQUssMkJBQTJCLGlCQUFpQixzQkFBc0IsS0FBSyxHQUFHLGdDQUFnQyx1QkFBdUIsY0FBYyxrQkFBa0Isb0JBQW9CLHFCQUFxQixvQkFBb0IscUJBQXFCLDhCQUE4QixrQ0FBa0MscUNBQXFDLEdBQUcsNkNBQTZDLG9CQUFvQixxQkFBcUIsR0FBRyxxREFBcUQsbUJBQW1CLDhCQUE4QiwrQkFBK0Isa0NBQWtDLEdBQUcsc0NBQXNDLG1CQUFtQix1QkFBdUIsdUJBQXVCLG1CQUFtQixHQUFHLHFDQUFxQyxvQkFBb0IsR0FBRywwQ0FBMEMsbUJBQW1CLHlCQUF5Qix1QkFBdUIsNEJBQTRCLEdBQUcsK0RBQStELGtDQUFrQyxHQUFHLHFDQUFxQyx1QkFBdUIsY0FBYyxlQUFlLEdBQUcsOEJBQThCLHVCQUF1QixrQkFBa0IsMkJBQTJCLHdCQUF3Qiw0QkFBNEIsaUJBQWlCLHVCQUF1QixHQUFHLGlFQUFpRSw4QkFBOEIsZ0JBQWdCLCtCQUErQix1QkFBdUIsR0FBRywwREFBMEQscUNBQXFDLGlCQUFpQixHQUFHLG1EQUFtRCwwQkFBMEIsR0FBRyxtREFBbUQsMEJBQTBCLEdBQUcsbUNBQW1DLGtCQUFrQixxQkFBcUIsc0JBQXNCLHlCQUF5QixHQUFHLHVEQUF1RCxtQkFBbUIsR0FBRyxnREFBZ0QsdUJBQXVCLGFBQWEsaUJBQWlCLFlBQVksc0JBQXNCLHNCQUFzQixHQUFHLGlFQUFpRSxrQkFBa0IsR0FBRyw0QkFBNEIsbUNBQW1DLG9CQUFvQixHQUFHLGdDQUFnQyxrQkFBa0IsR0FBRyw0Q0FBNEMsY0FBYyxHQUFHLDhEQUE4RCxxQ0FBcUMsR0FBRyxpREFBaUQsa0NBQWtDLEdBQUcsNEdBQTRHLHFDQUFxQyxHQUFHLCtCQUErQixtQkFBbUIsZ0JBQWdCLG9CQUFvQix1QkFBdUIscUJBQXFCLG9CQUFvQixHQUFHLDRDQUE0QyxnQkFBZ0IsaUJBQWlCLHFCQUFxQix3QkFBd0IsdUJBQXVCLG9CQUFvQixHQUFHLG1DQUFtQyxrQkFBa0IsWUFBWSwyQkFBMkIsZ0JBQWdCLG9CQUFvQixtQkFBbUIscUJBQXFCLHNDQUFzQyxHQUFHLGdEQUFnRCxlQUFlLHdCQUF3QixvQkFBb0IsNEJBQTRCLHFCQUFxQixxQkFBcUIsbUJBQW1CLHdCQUF3QixHQUFHLHdCQUF3QixnQkFBZ0IsdUJBQXVCLHFDQUFxQyxHQUFHLDZDQUE2QyxrQ0FBa0MsR0FBRyxxQ0FBcUMsMEJBQTBCLG1CQUFtQix3QkFBd0Isd0JBQXdCLEdBQUcsNEJBQTRCLHdCQUF3Qix3QkFBd0IsMEJBQTBCLGdCQUFnQixpQkFBaUIsdUJBQXVCLG1CQUFtQixrQ0FBa0Msb0JBQW9CLDZCQUE2QixxQkFBcUIsR0FBRyxnQ0FBZ0Msa0JBQWtCLEdBQUcsNENBQTRDLGNBQWMsR0FBRyxzREFBc0Qsc0JBQXNCLEdBQUcsc0RBQXNELHFCQUFxQixHQUFHLHlDQUF5QywyQkFBMkIsZ0JBQWdCLHNCQUFzQix1QkFBdUIsR0FBRyxpREFBaUQsbUJBQW1CLEdBQUcsOENBQThDLGNBQWMsR0FBRyxrQ0FBa0MsOEJBQThCLEdBQUcsdURBQXVELDJCQUEyQixHQUFHLGtFQUFrRSw4QkFBOEIsR0FBRyw4R0FBOEcsOEJBQThCLEdBQUcsZ0NBQWdDLDBCQUEwQixvQkFBb0IscUJBQXFCLHFCQUFxQiw2QkFBNkIsNENBQTRDLEdBQUcsMkNBQTJDLHVCQUF1QixHQUFHLDJDQUEyQyxzQkFBc0IsR0FBRyw4QkFBOEIsa0JBQWtCLDRCQUE0Qix3QkFBd0IsZ0JBQWdCLGlCQUFpQix1QkFBdUIsMkJBQTJCLGdIQUFnSCxHQUFHLHdEQUF3RCxvQkFBb0IsR0FBRyx3REFBd0QsbUJBQW1CLEdBQUcsbURBQW1ELDhCQUE4QixnSEFBZ0gsR0FBRyw2QkFBNkIscUJBQXFCLG9CQUFvQixHQUFHLDBDQUEwQyxvQkFBb0IscUJBQXFCLG9CQUFvQixzQkFBc0IsR0FBRyxxQ0FBcUMsbUJBQW1CLEdBQUcsMERBQTBELG1CQUFtQixHQUFHLGdDQUFnQyxtQkFBbUIsR0FBRyxxREFBcUQsbUJBQW1CLEdBQUcsb0NBQW9DLG1CQUFtQixHQUFHLHlEQUF5RCxtQkFBbUIsR0FBRyxxQ0FBcUMsZ0JBQWdCLEdBQUcsMERBQTBELG1CQUFtQixHQUFHLHNDQUFzQyxtQkFBbUIsR0FBRywyREFBMkQsbUJBQW1CLEdBQUcsa0NBQWtDLG1CQUFtQixHQUFHLHVEQUF1RCxtQkFBbUIsR0FBRywyQkFBMkIsdUJBQXVCLGdCQUFnQixpQkFBaUIsa0JBQWtCLHFCQUFxQixlQUFlLEdBQUcsZ0NBQWdDLHVCQUF1QixrQkFBa0Isa0JBQWtCLG1CQUFtQix3QkFBd0IsbUNBQW1DLGdCQUFnQixpQkFBaUIsb0JBQW9CLDhCQUE4QixxQ0FBcUMsR0FBRyw2Q0FBNkMsaUJBQWlCLG9CQUFvQixHQUFHLHFEQUFxRCw4QkFBOEIsa0NBQWtDLEdBQUcsa0NBQWtDLHVCQUF1QixXQUFXLGFBQWEsWUFBWSxnQkFBZ0IscUJBQXFCLGlCQUFpQix1QkFBdUIscUJBQXFCLG9CQUFvQixzQkFBc0Isd0JBQXdCLHVCQUF1Qiw0QkFBNEIsR0FBRywrQ0FBK0MscUJBQXFCLG9CQUFvQixzQkFBc0IsR0FBRyx1REFBdUQsbUJBQW1CLEdBQUcsMEZBQTBGLHNCQUFzQixHQUFHLDBGQUEwRix1QkFBdUIsR0FBRywrREFBK0QsY0FBYyxlQUFlLG1CQUFtQix1QkFBdUIseUJBQXlCLG1CQUFtQixxQkFBcUIsY0FBYyw2QkFBNkIscUJBQXFCLG1CQUFtQixxQkFBcUIsb0JBQW9CLHVCQUF1QixvQkFBb0IsR0FBRyx5RUFBeUUsa0JBQWtCLEdBQUcsaUdBQWlHLGNBQWMsR0FBRyx5RUFBeUUsbUJBQW1CLEdBQUcseUVBQXlFLDhCQUE4QixHQUFHLHVIQUF1SCwyQkFBMkIsR0FBRywyRkFBMkYsb0JBQW9CLEdBQUcsMkdBQTJHLG1CQUFtQixHQUFHLGlEQUFpRCx1QkFBdUIsR0FBRyxpREFBaUQsc0JBQXNCLEdBQUcsb0NBQW9DLGNBQWMsZUFBZSxtQkFBbUIsdUJBQXVCLHlCQUF5QixtQkFBbUIscUJBQXFCLGNBQWMsNkJBQTZCLGdCQUFnQixpQkFBaUIscUJBQXFCLG1CQUFtQixxQkFBcUIsdUJBQXVCLG9CQUFvQixHQUFHLHdDQUF3QyxrQkFBa0IsR0FBRyxvREFBb0QsY0FBYyxHQUFHLHdDQUF3QyxtQkFBbUIsR0FBRyx3Q0FBd0MsOEJBQThCLEdBQUcsK0RBQStELDJCQUEyQixHQUFHLDhEQUE4RCx1QkFBdUIsR0FBRyw4REFBOEQsc0JBQXNCLEdBQUcsaURBQWlELGdCQUFnQixpQkFBaUIsb0JBQW9CLEdBQUcseURBQXlELG1CQUFtQixHQUFHLHFEQUFxRCxzQkFBc0IsR0FBRyxxREFBcUQscUJBQXFCLEdBQUcsd0NBQXdDLDZCQUE2QixHQUFHLHFEQUFxRCxnQkFBZ0IsaUJBQWlCLEdBQUcsMkNBQTJDLGtCQUFrQixHQUFHLHdEQUF3RCxvQkFBb0IsR0FBRyxrQ0FBa0MsdUJBQXVCLFdBQVcsYUFBYSxjQUFjLFlBQVksa0JBQWtCLGtCQUFrQixZQUFZLDJCQUEyQixxQkFBcUIsaUNBQWlDLHVCQUF1QixHQUFHLG1DQUFtQyx1QkFBdUIsV0FBVyxhQUFhLGNBQWMsWUFBWSxrQkFBa0Isa0JBQWtCLDJCQUEyQixxQkFBcUIsd0JBQXdCLG1GQUFtRix1QkFBdUIsaURBQWlELEdBQUcsd0RBQXdELDJCQUEyQixzRkFBc0YsR0FBRyxtRUFBbUUsc0JBQXNCLEdBQUcsOEJBQThCLHVCQUF1QixjQUFjLFlBQVksZ0JBQWdCLGdCQUFnQixHQUFHLG9EQUFvRCx1QkFBdUIsV0FBVyxZQUFZLGtCQUFrQixnQkFBZ0IsaUJBQWlCLEdBQUcsb0NBQW9DLHVCQUF1QixZQUFZLGNBQWMsdUJBQXVCLEdBQUcseUNBQXlDLG1CQUFtQixnQkFBZ0Isa0JBQWtCLEdBQUcsMkJBQTJCLFlBQVksY0FBYyx3QkFBd0IscUJBQXFCLHNDQUFzQyxHQUFHLHdDQUF3QyxzQkFBc0IsR0FBRyw0REFBNEQsa0JBQWtCLDRCQUE0Qix3QkFBd0IsaUJBQWlCLEdBQUcsdUNBQXVDLHVCQUF1QixhQUFhLGVBQWUsZ0JBQWdCLGNBQWMsa0JBQWtCLGtCQUFrQix3QkFBd0IsNEJBQTRCLHNCQUFzQixtQkFBbUIsb0JBQW9CLHVCQUF1QixzRUFBc0UsaUNBQWlDLGlDQUFpQywrQkFBK0IsdUJBQXVCLHVCQUF1QixHQUFHLDREQUE0RCxnQkFBZ0Isc0VBQXNFLDBCQUEwQixHQUFHLHNGQUFzRix3QkFBd0IsR0FBRyxvVEFBb1Qsa0JBQWtCLEdBQUcsMkVBQTJFLGtCQUFrQixHQUFHLG9DQUFvQyxnQkFBZ0IscUJBQXFCLHVCQUF1QixvQkFBb0IsZ0JBQWdCLHFCQUFxQixvQkFBb0Isc0JBQXNCLDZCQUE2QixHQUFHLGlEQUFpRCxxQkFBcUIsb0JBQW9CLG9CQUFvQixxQkFBcUIsb0JBQW9CLHVCQUF1QixHQUFHLGtFQUFrRSx1QkFBdUIsR0FBRyx5REFBeUQsbUJBQW1CLEdBQUcseUNBQXlDLHFCQUFxQixHQUFHLHdEQUF3RCxxQkFBcUIsR0FBRywwQkFBMEIscUJBQXFCLGlCQUFpQixvQkFBb0IsbUJBQW1CLG9CQUFvQixzQkFBc0IsdUJBQXVCLEdBQUcsdUNBQXVDLHFCQUFxQixzQkFBc0IsR0FBRywrQ0FBK0MsbUJBQW1CLEdBQUcsZ0NBQWdDLDBCQUEwQixvQkFBb0IsbUJBQW1CLG9CQUFvQix1QkFBdUIsMEJBQTBCLEdBQUcsbUNBQW1DLHVCQUF1QixhQUFhLHNCQUFzQixxQkFBcUIsNkJBQTZCLGlCQUFpQixlQUFlLG9CQUFvQixHQUFHLHNDQUFzQyx1QkFBdUIsYUFBYSxjQUFjLGlCQUFpQixnQkFBZ0IsaUJBQWlCLHFDQUFxQyxHQUFHLG1EQUFtRCxnQkFBZ0IsaUJBQWlCLEdBQUcsd0NBQXdDLGdCQUFnQixpQkFBaUIsR0FBRyxnRUFBZ0UsZ0JBQWdCLGlCQUFpQixHQUFHLDBDQUEwQyx1QkFBdUIsaUJBQWlCLG9CQUFvQixHQUFHLG9FQUFvRSxrQkFBa0IsR0FBRyx3Q0FBd0MsZ0JBQWdCLGlCQUFpQixzREFBc0QsR0FBRyw0QkFBNEIsdUJBQXVCLGdCQUFnQixpQkFBaUIsR0FBRyx5Q0FBeUMsZ0JBQWdCLGlCQUFpQixHQUFHLHlDQUF5Qyx1QkFBdUIsYUFBYSxlQUFlLEdBQUcsOENBQThDLGlCQUFpQixHQUFHLDhDQUE4QyxnQkFBZ0IsR0FBRyxpQ0FBaUMsdUJBQXVCLGVBQWUsZ0JBQWdCLGlCQUFpQixnQkFBZ0IsbUJBQW1CLHNCQUFzQiw4QkFBOEIsdUJBQXVCLEdBQUcsOENBQThDLGdCQUFnQixpQkFBaUIsbUJBQW1CLHNCQUFzQixHQUFHLE9BQU8scUhBQXFILE1BQU0sWUFBWSxXQUFXLFVBQVUsVUFBVSxVQUFVLFlBQVksTUFBTSxLQUFLLFlBQVksT0FBTyxLQUFLLFVBQVUsWUFBWSxXQUFXLFlBQVksT0FBTyxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsWUFBWSxXQUFXLFlBQVksV0FBVyxZQUFZLGFBQWEsYUFBYSxNQUFNLEtBQUssWUFBWSxhQUFhLFdBQVcsWUFBWSxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxhQUFhLE9BQU8sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLGFBQWEsT0FBTyxpQkFBaUIsT0FBTyxPQUFPLE9BQU8sTUFBTSxZQUFZLE9BQU8sTUFBTSxZQUFZLFdBQVcsWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLFdBQVcsWUFBWSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksV0FBVyxNQUFNLEtBQUssWUFBWSxhQUFhLFdBQVcsWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxPQUFPLFFBQVEsVUFBVSxZQUFZLE9BQU8sTUFBTSxPQUFPLE1BQU0sVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssVUFBVSxVQUFVLFlBQVksYUFBYSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLE1BQU0sT0FBTyxNQUFNLFVBQVUsWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLE1BQU0sT0FBTyxNQUFNLFVBQVUsWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLE1BQU0sT0FBTyxNQUFNLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sTUFBTSxPQUFPLE1BQU0sVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sTUFBTSxPQUFPLE1BQU0sVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sTUFBTSxPQUFPLE9BQU8sVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksT0FBTyxNQUFNLFlBQVksT0FBTyxNQUFNLE9BQU8sT0FBTyxVQUFVLFVBQVUsVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksT0FBTyxNQUFNLFlBQVksT0FBTyxNQUFNLE9BQU8sTUFBTSxVQUFVLFlBQVksT0FBTyxLQUFLLFVBQVUsWUFBWSxPQUFPLEtBQUssVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsWUFBWSxXQUFXLFlBQVksYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFlBQVksV0FBVyxLQUFLLEtBQUssWUFBWSxPQUFPLEtBQUssVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxNQUFNLEtBQUssWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLFdBQVcsVUFBVSxZQUFZLGFBQWEsTUFBTSxLQUFLLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLE1BQU0sWUFBWSxPQUFPLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLFVBQVUsWUFBWSxXQUFXLFVBQVUsWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxVQUFVLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksV0FBVyxVQUFVLEtBQUssS0FBSyxZQUFZLE1BQU0sS0FBSyxVQUFVLE9BQU8sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFlBQVksYUFBYSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksV0FBVyxVQUFVLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxZQUFZLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsS0FBSyxLQUFLLFlBQVksV0FBVyxLQUFLLEtBQUssWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFVBQVUsVUFBVSxVQUFVLFVBQVUsS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsS0FBSyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksV0FBVyxVQUFVLFlBQVksYUFBYSxNQUFNLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLFlBQVksV0FBVyxVQUFVLFlBQVksYUFBYSxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssWUFBWSxXQUFXLE1BQU0sS0FBSyxVQUFVLFlBQVksV0FBVyxVQUFVLFVBQVUsWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFVBQVUsWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxhQUFhLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxZQUFZLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxZQUFZLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLFdBQVcsWUFBWSxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUssWUFBWSxXQUFXLFVBQVUsWUFBWSxNQUFNLEtBQUssWUFBWSxXQUFXLE1BQU0sS0FBSyxVQUFVLE9BQU8sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFlBQVksV0FBVyxLQUFLLEtBQUssVUFBVSxVQUFVLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksV0FBVyxZQUFZLFdBQVcsVUFBVSxVQUFVLFlBQVksV0FBVyxZQUFZLGFBQWEsYUFBYSxhQUFhLGFBQWEsV0FBVyxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksYUFBYSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxXQUFXLE1BQU0sTUFBTSxVQUFVLE1BQU0sS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLE1BQU0sVUFBVSxZQUFZLFdBQVcsWUFBWSxhQUFhLFdBQVcsS0FBSyxNQUFNLFVBQVUsVUFBVSxLQUFLLE1BQU0sWUFBWSxXQUFXLFVBQVUsS0FBSyxNQUFNLFVBQVUsTUFBTSxNQUFNLFVBQVUsS0FBSyxNQUFNLFVBQVUsWUFBWSxXQUFXLEtBQUssUUFBUSxVQUFVLEtBQUssTUFBTSxVQUFVLEtBQUssTUFBTSxZQUFZLE1BQU0sTUFBTSxZQUFZLE1BQU0sTUFBTSxVQUFVLFVBQVUsWUFBWSxNQUFNLE1BQU0sWUFBWSxNQUFNLE1BQU0sWUFBWSxXQUFXLFVBQVUsVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxNQUFNLEtBQUssTUFBTSxVQUFVLE1BQU0sS0FBSyxNQUFNLFlBQVksTUFBTSxNQUFNLFVBQVUsVUFBVSxZQUFZLGFBQWEsTUFBTSxNQUFNLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxZQUFZLFdBQVcsWUFBWSxXQUFXLFVBQVUsVUFBVSxZQUFZLE1BQU0sTUFBTSxZQUFZLGFBQWEsTUFBTSxNQUFNLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxVQUFVLFlBQVksYUFBYSxXQUFXLEtBQUssTUFBTSxVQUFVLEtBQUssTUFBTSxVQUFVLEtBQUssTUFBTSxVQUFVLFVBQVUsVUFBVSxLQUFLLE1BQU0sVUFBVSxLQUFLLFFBQVEsVUFBVSxNQUFNLE1BQU0sWUFBWSxNQUFNLE1BQU0sVUFBVSxLQUFLLE1BQU0sVUFBVSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxZQUFZLFdBQVcsWUFBWSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLFdBQVcsWUFBWSxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxVQUFVLFVBQVUsVUFBVSxLQUFLLEtBQUssWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLGFBQWEsTUFBTSxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsWUFBWSxXQUFXLFlBQVksYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLFdBQVcsS0FBSyxNQUFNLFlBQVksTUFBTSxNQUFNLFlBQVksTUFBTSxNQUFNLFVBQVUsWUFBWSxNQUFNLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxXQUFXLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsV0FBVyxVQUFVLEtBQUssS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxXQUFXLFVBQVUsS0FBSyxLQUFLLFlBQVksT0FBTyxLQUFLLFVBQVUsWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLE9BQU8sUUFBUSxVQUFVLFVBQVUsWUFBWSxhQUFhLGFBQWEsV0FBVyxPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxVQUFVLE1BQU0sS0FBSyxZQUFZLGFBQWEsV0FBVyxVQUFVLFlBQVksV0FBVyxZQUFZLGFBQWEsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsT0FBTyxLQUFLLFVBQVUsWUFBWSxhQUFhLGFBQWEsTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsWUFBWSxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssVUFBVSxZQUFZLFdBQVcsVUFBVSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLFVBQVUsWUFBWSxPQUFPLEtBQUssVUFBVSxVQUFVLFVBQVUsTUFBTSxLQUFLLFlBQVksV0FBVyxZQUFZLGFBQWEsTUFBTSxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsWUFBWSxXQUFXLFlBQVksTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsT0FBTyxLQUFLLFVBQVUsVUFBVSxZQUFZLFdBQVcsWUFBWSxXQUFXLE9BQU8sS0FBSyxZQUFZLFdBQVcsWUFBWSxNQUFNLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxXQUFXLFlBQVksV0FBVyxNQUFNLEtBQUssWUFBWSxXQUFXLFlBQVksTUFBTSxLQUFLLFlBQVksT0FBTyxLQUFLLFVBQVUsWUFBWSxXQUFXLFVBQVUsWUFBWSxhQUFhLE1BQU0sS0FBSyxVQUFVLFlBQVksTUFBTSxLQUFLLFlBQVksT0FBTyxLQUFLLFVBQVUsWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLFdBQVcsWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLFlBQVksV0FBVyxVQUFVLFlBQVksYUFBYSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFVBQVUsVUFBVSxVQUFVLFVBQVUsWUFBWSxhQUFhLGFBQWEsV0FBVyxZQUFZLFdBQVcsVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsS0FBSyxLQUFLLFlBQVksT0FBTyxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxPQUFPLEtBQUssVUFBVSxVQUFVLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLGFBQWEsV0FBVyxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsTUFBTSxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksT0FBTyxLQUFLLFVBQVUsVUFBVSxZQUFZLGFBQWEsV0FBVyxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxPQUFPLEtBQUssWUFBWSxXQUFXLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLE9BQU8sS0FBSyxVQUFVLFlBQVksV0FBVyxVQUFVLFlBQVksYUFBYSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLFdBQVcsWUFBWSxhQUFhLGFBQWEsV0FBVyxVQUFVLFlBQVksYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFlBQVksV0FBVyxNQUFNLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxVQUFVLFVBQVUsS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksT0FBTyxLQUFLLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxVQUFVLFVBQVUsWUFBWSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxLQUFLLEtBQUssVUFBVSxVQUFVLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssTUFBTSxVQUFVLE1BQU0sS0FBSyxVQUFVLFVBQVUsTUFBTSxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksV0FBVyxNQUFNLEtBQUssWUFBWSxXQUFXLFVBQVUsTUFBTSxLQUFLLFlBQVksV0FBVyxNQUFNLEtBQUssWUFBWSxXQUFXLFVBQVUsTUFBTSxLQUFLLFlBQVksV0FBVyxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxVQUFVLFlBQVksT0FBTyxLQUFLLFVBQVUsVUFBVSxLQUFLLEtBQUssVUFBVSxVQUFVLE1BQU0sS0FBSyxVQUFVLFVBQVUsVUFBVSxLQUFLLEtBQUssVUFBVSxVQUFVLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsV0FBVyxZQUFZLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksTUFBTSxLQUFLLFlBQVksT0FBTyxLQUFLLFVBQVUsWUFBWSxXQUFXLFlBQVksYUFBYSxXQUFXLFlBQVksTUFBTSxLQUFLLFVBQVUsT0FBTyxLQUFLLFVBQVUsWUFBWSxXQUFXLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsT0FBTyxLQUFLLFVBQVUsWUFBWSxhQUFhLGFBQWEsT0FBTyxLQUFLLFVBQVUsWUFBWSxhQUFhLFdBQVcsWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLFlBQVksV0FBVyxVQUFVLFlBQVksT0FBTyxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsWUFBWSxhQUFhLGFBQWEsYUFBYSxXQUFXLFVBQVUsVUFBVSxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsVUFBVSxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxVQUFVLEtBQUssS0FBSyxVQUFVLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxZQUFZLE1BQU0sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLFVBQVUsS0FBSyxLQUFLLFVBQVUsVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxVQUFVLFVBQVUsS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsWUFBWSxNQUFNLEtBQUssVUFBVSxVQUFVLFlBQVksV0FBVyxLQUFLLEtBQUssWUFBWSxPQUFPLE1BQU0sVUFBVSxVQUFVLFVBQVUsS0FBSyxNQUFNLFlBQVksT0FBTyxLQUFLLFVBQVUsWUFBWSxXQUFXLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFlBQVksV0FBVyxZQUFZLGFBQWEsV0FBVyxZQUFZLFdBQVcsWUFBWSxNQUFNLEtBQUssWUFBWSxhQUFhLFdBQVcsWUFBWSxXQUFXLEtBQUssS0FBSyxZQUFZLGFBQWEsV0FBVyxVQUFVLEtBQUssS0FBSyxVQUFVLFVBQVUsWUFBWSxXQUFXLFlBQVksYUFBYSxXQUFXLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxVQUFVLGFBQWEsY0FBYyxhQUFhLGFBQWEsV0FBVyxVQUFVLEtBQUssS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsVUFBVSxVQUFVLFVBQVUsS0FBSyxLQUFLLFVBQVUsVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxVQUFVLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsT0FBTyxLQUFLLFVBQVUsVUFBVSxPQUFPLE1BQU0sVUFBVSxPQUFPLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxVQUFVLFVBQVUsWUFBWSxXQUFXLFlBQVksYUFBYSxhQUFhLGFBQWEsV0FBVyxVQUFVLFlBQVksYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFlBQVksV0FBVyxVQUFVLFlBQVksYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLGFBQWEsTUFBTSxLQUFLLFlBQVksYUFBYSxPQUFPLEtBQUssVUFBVSxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsWUFBWSxhQUFhLFdBQVcsVUFBVSxZQUFZLE1BQU0sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFVBQVUsVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxVQUFVLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLFdBQVcsWUFBWSxXQUFXLFVBQVUsWUFBWSxhQUFhLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLFlBQVksV0FBVyxVQUFVLFVBQVUsTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsWUFBWSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxPQUFPLEtBQUssWUFBWSxXQUFXLFlBQVksT0FBTyxLQUFLLFVBQVUsVUFBVSxVQUFVLFlBQVksV0FBVyxVQUFVLFlBQVksYUFBYSxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLE1BQU0sS0FBSyxZQUFZLFdBQVcsWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLE1BQU0sS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxLQUFLLEtBQUssWUFBWSxXQUFXLEtBQUssS0FBSyxZQUFZLFdBQVcsS0FBSyxLQUFLLEtBQUssS0FBSyxZQUFZLFdBQVcsS0FBSyxLQUFLLFlBQVksV0FBVyxLQUFLLEtBQUssS0FBSyxLQUFLLFlBQVksV0FBVyxLQUFLLEtBQUssWUFBWSxXQUFXLEtBQUssS0FBSyxLQUFLLEtBQUssWUFBWSxXQUFXLEtBQUssS0FBSyxZQUFZLFdBQVcsS0FBSyxLQUFLLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssS0FBSyxZQUFZLE1BQU0sTUFBTSxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksTUFBTSxLQUFLLEtBQUssWUFBWSxNQUFNLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksT0FBTyxLQUFLLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFlBQVksT0FBTyxLQUFLLFlBQVksV0FBVyxZQUFZLGFBQWEsYUFBYSxhQUFhLFdBQVcsS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLEtBQUssVUFBVSxVQUFVLEtBQUssS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksV0FBVyxZQUFZLFdBQVcsWUFBWSxhQUFhLFdBQVcsS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsWUFBWSxhQUFhLGFBQWEsYUFBYSxPQUFPLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxLQUFLLEtBQUssS0FBSyxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsTUFBTSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxZQUFZLFdBQVcsVUFBVSxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxNQUFNLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLFVBQVUsTUFBTSxNQUFNLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxZQUFZLFdBQVcsWUFBWSxhQUFhLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxZQUFZLE1BQU0sS0FBSyxVQUFVLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxXQUFXLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsVUFBVSxNQUFNLEtBQUssWUFBWSxXQUFXLFlBQVksYUFBYSxhQUFhLFdBQVcsWUFBWSxNQUFNLEtBQUssWUFBWSxXQUFXLFlBQVksYUFBYSxNQUFNLEtBQUssWUFBWSxXQUFXLEtBQUssS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxhQUFhLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFlBQVksYUFBYSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssWUFBWSxXQUFXLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsV0FBVyxNQUFNLEtBQUssVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLFdBQVcsT0FBTyxLQUFLLFVBQVUsVUFBVSxZQUFZLFdBQVcsVUFBVSxVQUFVLFlBQVksYUFBYSxNQUFNLEtBQUssVUFBVSxZQUFZLFdBQVcsWUFBWSxhQUFhLGFBQWEsV0FBVyxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxXQUFXLFlBQVksYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsV0FBVyxVQUFVLFlBQVksV0FBVyxZQUFZLFdBQVcsWUFBWSxhQUFhLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLFdBQVcsWUFBWSxhQUFhLE1BQU0sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE9BQU8sTUFBTSxZQUFZLE1BQU0sTUFBTSxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsWUFBWSxhQUFhLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssVUFBVSxZQUFZLGFBQWEsV0FBVyxVQUFVLFlBQVksYUFBYSxhQUFhLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksV0FBVyxNQUFNLEtBQUssVUFBVSxZQUFZLFdBQVcsWUFBWSxPQUFPLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxPQUFPLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxZQUFZLFdBQVcsTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsWUFBWSxhQUFhLFdBQVcsVUFBVSxVQUFVLFlBQVksYUFBYSxNQUFNLEtBQUssVUFBVSxVQUFVLE1BQU0sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxZQUFZLFdBQVcsWUFBWSxhQUFhLFdBQVcsWUFBWSxhQUFhLGFBQWEsYUFBYSxNQUFNLEtBQUssWUFBWSxXQUFXLFlBQVksTUFBTSxLQUFLLFVBQVUsT0FBTyxNQUFNLFlBQVksT0FBTyxNQUFNLFlBQVksT0FBTyxNQUFNLFVBQVUsVUFBVSxVQUFVLFlBQVksYUFBYSxXQUFXLFlBQVksV0FBVyxZQUFZLGFBQWEsV0FBVyxZQUFZLFdBQVcsWUFBWSxXQUFXLE1BQU0sTUFBTSxVQUFVLEtBQUssTUFBTSxVQUFVLEtBQUssTUFBTSxVQUFVLE1BQU0sTUFBTSxZQUFZLE1BQU0sTUFBTSxZQUFZLE1BQU0sTUFBTSxVQUFVLE1BQU0sTUFBTSxVQUFVLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsV0FBVyxZQUFZLFdBQVcsWUFBWSxXQUFXLFVBQVUsWUFBWSxXQUFXLFlBQVksYUFBYSxXQUFXLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxVQUFVLFVBQVUsVUFBVSxNQUFNLEtBQUssVUFBVSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxVQUFVLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLE9BQU8sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsWUFBWSxhQUFhLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxNQUFNLEtBQUssWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxVQUFVLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxZQUFZLE1BQU0sS0FBSyxVQUFVLFVBQVUsVUFBVSxNQUFNLEtBQUssVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxXQUFXLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLFdBQVcsVUFBVSxZQUFZLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sS0FBSyxVQUFVLFlBQVksYUFBYSxPQUFPLEtBQUssWUFBWSxNQUFNLFFBQVEsVUFBVSxLQUFLLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSxZQUFZLGFBQWEsV0FBVyxVQUFVLFlBQVksV0FBVyxZQUFZLGFBQWEsTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFlBQVksV0FBVyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLGFBQWEsTUFBTSxLQUFLLFVBQVUsT0FBTyxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLFdBQVcsWUFBWSxh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LFdBQVcsVUFBVSxZQUFZLGFBQWEsYUFBYSxXQUFXLFVBQVUsTUFBTSxLQUFLLFlBQVksT0FBTyxZQUFZLEtBQUssS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLFdBQVcsWUFBWSxhQUFhLGFBQWEsT0FBTyxTQUFTLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxNQUFNLE1BQU0sWUFBWSxPQUFPLEtBQUssWUFBWSxXQUFXLE1BQU0sS0FBSyxZQUFZLFdBQVcsTUFBTSxLQUFLLFVBQVUsVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksV0FBVyxZQUFZLFdBQVcsTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxXQUFXLFlBQVksYUFBYSxPQUFPLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxNQUFNLE1BQU0sWUFBWSxXQUFXLFlBQVksV0FBVyxNQUFNLEtBQUssVUFBVSxVQUFVLFVBQVUsVUFBVSxNQUFNLEtBQUssVUFBVSxVQUFVLFVBQVUsVUFBVSxNQUFNLE9BQU8sWUFBWSxXQUFXLFVBQVUsVUFBVSxVQUFVLE1BQU0sS0FBSyxVQUFVLFVBQVUsWUFBWSxXQUFXLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxXQUFXLE1BQU0sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFV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O0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSwrQ0FBRzs7QUFFWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFOztBQUU5RTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTs7O0FBR1o7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyx5QkFBeUI7QUFDbEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsS0FBSztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0Isa0JBQWtCO0FBQ3BDOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7O0FDNWtCQTtBQUNhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLG1CQUFtQiw0QkFBNEI7QUFDL0M7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDRCQUE0QixNQUFNO0FBQ2xDO0FBQ0E7QUFDQTtB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S0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FB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QU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtQkFBbUI7O0FBRTNCLHFEQUFxRDs7QUFFckQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7OztBQUdSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxTQUFTOztBQUVUOztBQUVBOztBQUVBO0FBQ0EsUUFBUTs7O0FBR1I7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxnREFBZ0QsK0JBQStCO0FBQy9FO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUM7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxFQUFFLHlDQUFDO0FBQ047QUFDQTtBQUNBLEdBQUcsRUFBRSx5Q0FBQztBQUNOO0FBQ0E7QUFDQSxHQUFHLEdBQUcseUNBQUM7QUFDUDtBQUNBO0FBQ0EsR0FBRyxHQUFHLHlDQUFDO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsU0FBUyx5Q0FBQztBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsRUFBRSx5Q0FBQztBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFNBQVMseUNBQUM7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEVBQUUseUNBQUM7QUFDTjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxTQUFTLHlDQUFDO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxFQUFFLHlDQUFDO0FBQ047QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsU0FBUyx5Q0FBQztBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEVBQUUseUNBQUM7QUFDTjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxTQUFTLHlDQUFDO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxFQUFFLHlDQUFDO0FBQ047QUFDQTtBQUNBLEdBQUcsRUFBRSx5Q0FBQztBQUNOO0FBQ0EsR0FBRyxHQUFHLHlDQUFDO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxTQUFTLHlDQUFDO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxFQUFFLHlDQUFDO0FBQ047QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EOztBQUVuRDtBQUNBO0FBQ0E7QUFD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OztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUVsRkEsaUVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNKRDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7O0FBRTVCLDRDQUE0Qzs7QUFFNUMsc0JBQXNCOztBQUV0QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLFVBQVUsR0FBRyxPQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7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QUNBO0FBQ0EsTUFBTTtBQUNOLFdBQVcseUNBQUM7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxFQUFFLHlDQUFDO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssRUFBRSx5Q0FBQztBQUNSO0FBQ0E7QUFDQSxLQUFLLEdBQUcseUNBQUM7QUFDVDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sV0FBVyx5Q0FBQztBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEVBQUUseUNBQUM7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxFQUFFLHlDQUFDO0FBQ1I7QUFDQTtBQUNBLEtBQUssR0FBRyx5Q0FBQztBQUNUO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixXQUFXLHlDQUFDO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssRUFBRSx5Q0FBQztBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEVBQUUseUNBQUM7QUFDUjtBQUNBO0FBQ0EsS0FBSyxHQUFHLHlDQUFDO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLFdBQVcseUNBQUM7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxFQUFFLHlDQUFDO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssRUFBRSx5Q0FBQztBQUNSO0FBQ0E7QUFDQSxLQUFLLEdBQUcseUNBQUM7QUFDVDtBQUNBLEtBQUssR0FBRyx5Q0FBQztBQUNUO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixXQUFXLHlDQUFDO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssRUFBRSx5Q0FBQztBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEVBQUUseUNB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QUNBO0FBQ0E7QUFDQSxHQUFHLEVBQUUseUNBQUM7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEVBQUUseUNBQUM7QUFDTjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixTQUFTLHlDQUFDO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEVBQUUseUNBQUM7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEVBQUUseUNBQUM7QUFDTjtBQUNBO0FBQ0EsR0FBRyxFQUFFLHlDQUFDO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEdBQUcseUNBQUM7QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFNBQVMseUNBQUM7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEVBQUUseUNBQUM7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEVBQUUseUNBQUM7QUFDTjtBQUNBO0FBQ0EsR0FBRyxFQUFFLHlDQUFDO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEdBQUcseUNBQUM7QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLFNBQVMseUNBQUM7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFNBQVMseUNBQUM7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxFQUFFLHlDQUFDO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJ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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLDBCQUEwQjtBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B0cmFuc2xvYWRpdC9wcmV0dGllci1ieXRlcy9wcmV0dGllckJ5dGVzLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZGFzaGJvYXJkL25vZGVfbW9kdWxlcy9AdHJhbnNsb2FkaXQvcHJldHRpZXItYnl0ZXMvcHJldHRpZXJCeXRlcy5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9jcm9wcGVyanMvZGlzdC9jcm9wcGVyLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvY29yZS9kaXN0L3N0eWxlLmNzcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Rhc2hib2FyZC9kaXN0L3N0eWxlLmNzcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2ltYWdlLWVkaXRvci9kaXN0L3N0eWxlLmNzcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3NjcmVlbi1jYXB0dXJlL2Rpc3Qvc3R5bGUuY3NzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdXJsL2Rpc3Qvc3R5bGUuY3NzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvd2ViY2FtL2Rpc3Qvc3R5bGUuY3NzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL2lzLW1vYmlsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL2lzLXNoYWxsb3ctZXF1YWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9sb2Rhc2guZGVib3VuY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9sb2Rhc2gudGhyb3R0bGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9tZW1vaXplLW9uZS9kaXN0L21lbW9pemUtb25lLmVzbS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL21pbWUtbWF0Y2gvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9uYW1lc3BhY2UtZW1pdHRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0L3ByZWFjdC5tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9wcmVhY3QvaG9va3MvZGlzdC9ob29rcy5tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZ2lmeS9pbmRleC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL3JlcXVpcmVzLXBvcnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9jb3JlL2Rpc3Qvc3R5bGUuY3NzPzM2N2EiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9kYXNoYm9hcmQvZGlzdC9zdHlsZS5jc3M/NzE1OCIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2ltYWdlLWVkaXRvci9kaXN0L3N0eWxlLmNzcz9kNTI5Iiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvc2NyZWVuLWNhcHR1cmUvZGlzdC9zdHlsZS5jc3M/ODkzNSIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3VybC9kaXN0L3N0eWxlLmNzcz80NzM0Iiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvd2ViY2FtL2Rpc3Qvc3R5bGUuY3NzPzdjYjUiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL3R1cy1qcy1jbGllbnQvbGliLmVzbS9icm93c2VyL2ZpbGVSZWFkZXIuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy90dXMtanMtY2xpZW50L2xpYi5lc20vYnJvd3Nlci9maWxlU2lnbmF0dXJlLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvdHVzLWpzLWNsaWVudC9saWIuZXNtL2Jyb3dzZXIvaHR0cFN0YWNrLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvdHVzLWpzLWNsaWVudC9saWIuZXNtL2Jyb3dzZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy90dXMtanMtY2xpZW50L2xpYi5lc20vYnJvd3Nlci9pc1JlYWN0TmF0aXZlLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvdHVzLWpzLWNsaWVudC9saWIuZXNtL2Jyb3dzZXIvc291cmNlcy9GaWxlU291cmNlLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvdHVzLWpzLWNsaWVudC9saWIuZXNtL2Jyb3dzZXIvc291cmNlcy9TdHJlYW1Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy90dXMtanMtY2xpZW50L2xpYi5lc20vYnJvd3Nlci9zb3VyY2VzL2lzQ29yZG92YS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL3R1cy1qcy1jbGllbnQvbGliLmVzbS9icm93c2VyL3NvdXJjZXMvcmVhZEFzQnl0ZUFycmF5LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvdHVzLWpzLWNsaWVudC9saWIuZXNtL2Jyb3dzZXIvdXJpVG9CbG9iLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvdHVzLWpzLWNsaWVudC9saWIuZXNtL2Jyb3dzZXIvdXJsU3RvcmFnZS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL3R1cy1qcy1jbGllbnQvbGliLmVzbS9lcnJvci5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL3R1cy1qcy1jbGllbnQvbGliLmVzbS9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy90dXMtanMtY2xpZW50L2xpYi5lc20vbm9vcFVybFN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy90dXMtanMtY2xpZW50L2xpYi5lc20vdXBsb2FkLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvdHVzLWpzLWNsaWVudC9saWIuZXNtL3V1aWQuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy91cmwtcGFyc2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy93aWxkY2FyZC9pbmRleC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2F3cy1zMy1tdWx0aXBhcnQvbGliL011bHRpcGFydFVwbG9hZGVyLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvYXdzLXMzLW11bHRpcGFydC9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9jb21wYW5pb24tY2xpZW50L2xpYi9BdXRoRXJyb3IuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9jb21wYW5pb24tY2xpZW50L2xpYi9Qcm92aWRlci5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2NvbXBhbmlvbi1jbGllbnQvbGliL1JlcXVlc3RDbGllbnQuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9jb21wYW5pb24tY2xpZW50L2xpYi9TZWFyY2hQcm92aWRlci5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2NvbXBhbmlvbi1jbGllbnQvbGliL1NvY2tldC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2NvbXBhbmlvbi1jbGllbnQvbGliL2luZGV4LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvY29tcGFuaW9uLWNsaWVudC9saWIvdG9rZW5TdG9yYWdlLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvY29yZS9saWIvQmFzZVBsdWdpbi5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2NvcmUvbGliL1Jlc3RyaWN0ZXIuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9jb3JlL2xpYi9VSVBsdWdpbi5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2NvcmUvbGliL1VwcHkuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9jb3JlL2xpYi9nZXRGaWxlTmFtZS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2NvcmUvbGliL2luZGV4LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvY29yZS9saWIvbG9jYWxlLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvY29yZS9saWIvbG9nZ2Vycy5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2NvcmUvbGliL3N1cHBvcnRzVXBsb2FkUHJvZ3Jlc3MuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9kYXNoYm9hcmQvbGliL0Rhc2hib2FyZC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Rhc2hib2FyZC9saWIvY29tcG9uZW50cy9BZGRGaWxlcy5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Rhc2hib2FyZC9saWIvY29tcG9uZW50cy9BZGRGaWxlc1BhbmVsLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZGFzaGJvYXJkL2xpYi9jb21wb25lbnRzL0Rhc2hib2FyZC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Rhc2hib2FyZC9saWIvY29tcG9uZW50cy9FZGl0b3JQYW5lbC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Rhc2hib2FyZC9saWIvY29tcG9uZW50cy9GaWxlQ2FyZC9SZW5kZXJNZXRhRmllbGRzLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZGFzaGJvYXJkL2xpYi9jb21wb25lbnRzL0ZpbGVDYXJkL2luZGV4LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZGFzaGJvYXJkL2xpYi9jb21wb25lbnRzL0ZpbGVJdGVtL0J1dHRvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9kYXNoYm9hcmQvbGliL2NvbXBvbmVudHMvRmlsZUl0ZW0vRmlsZUluZm8vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9kYXNoYm9hcmQvbGliL2NvbXBvbmVudHMvRmlsZUl0ZW0vRmlsZVByZXZpZXdBbmRMaW5rL2luZGV4LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZGFzaGJvYXJkL2xpYi9jb21wb25lbnRzL0ZpbGVJdGVtL0ZpbGVQcm9ncmVzcy9pbmRleC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Rhc2hib2FyZC9saWIvY29tcG9uZW50cy9GaWxlSXRlbS9NZXRhRXJyb3JNZXNzYWdlLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZGFzaGJvYXJkL2xpYi9jb21wb25lbnRzL0ZpbGVJdGVtL2luZGV4LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZGFzaGJvYXJkL2xpYi9jb21wb25lbnRzL0ZpbGVMaXN0LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZGFzaGJvYXJkL2xpYi9jb21wb25lbnRzL0ZpbGVQcmV2aWV3LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZGFzaGJvYXJkL2xpYi9jb21wb25lbnRzL1BpY2tlclBhbmVsQ29udGVudC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Rhc2hib2FyZC9saWIvY29tcG9uZW50cy9QaWNrZXJQYW5lbFRvcEJhci5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Rhc2hib2FyZC9saWIvY29tcG9uZW50cy9TbGlkZS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Rhc2hib2FyZC9saWIvY29tcG9uZW50cy9WaXJ0dWFsTGlzdC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Rhc2hib2FyZC9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9kYXNoYm9hcmQvbGliL2xvY2FsZS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Rhc2hib2FyZC9saWIvdXRpbHMvY29weVRvQ2xpcGJvYXJkLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZGFzaGJvYXJkL2xpYi91dGlscy9jcmVhdGVTdXBlckZvY3VzLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZGFzaGJvYXJkL2xpYi91dGlscy9nZXRBY3RpdmVPdmVybGF5RWwuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9kYXNoYm9hcmQvbGliL3V0aWxzL2dldEZpbGVUeXBlSWNvbi5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Rhc2hib2FyZC9saWIvdXRpbHMvaWdub3JlRXZlbnQuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9kYXNoYm9hcmQvbGliL3V0aWxzL3RyYXBGb2N1cy5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Ryb3Bib3gvbGliL0Ryb3Bib3guanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9kcm9wYm94L2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Ryb3Bib3gvbGliL2xvY2FsZS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2ZhY2Vib29rL2xpYi9GYWNlYm9vay5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2ZhY2Vib29rL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2ZhY2Vib29rL2xpYi9sb2NhbGUuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9nb2xkZW4tcmV0cmlldmVyL2xpYi9JbmRleGVkREJTdG9yZS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2dvbGRlbi1yZXRyaWV2ZXIvbGliL01ldGFEYXRhU3RvcmUuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9nb2xkZW4tcmV0cmlldmVyL2xpYi9TZXJ2aWNlV29ya2VyLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZ29sZGVuLXJldHJpZXZlci9saWIvU2VydmljZVdvcmtlclN0b3JlLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZ29sZGVuLXJldHJpZXZlci9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9nb29nbGUtZHJpdmUvbGliL0RyaXZlUHJvdmlkZXJWaWV3cy5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2dvb2dsZS1kcml2ZS9saWIvR29vZ2xlRHJpdmUuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9nb29nbGUtZHJpdmUvbGliL2luZGV4LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvZ29vZ2xlLWRyaXZlL2xpYi9sb2NhbGUuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9pbWFnZS1lZGl0b3IvbGliL0VkaXRvci5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2ltYWdlLWVkaXRvci9saWIvSW1hZ2VFZGl0b3IuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9pbWFnZS1lZGl0b3IvbGliL2luZGV4LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvaW1hZ2UtZWRpdG9yL2xpYi9sb2NhbGUuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9pbmZvcm1lci9saWIvRmFkZUluLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvaW5mb3JtZXIvbGliL0luZm9ybWVyLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvaW5mb3JtZXIvbGliL1RyYW5zaXRpb25Hcm91cC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2luZm9ybWVyL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2luc3RhZ3JhbS9saWIvSW5zdGFncmFtLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvaW5zdGFncmFtL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2luc3RhZ3JhbS9saWIvbG9jYWxlLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvbG9jYWxlcy9saWIvZXNfRVMuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9sb2NhbGVzL2xpYi9mcl9GUi5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L29uZWRyaXZlL2xpYi9PbmVEcml2ZS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L29uZWRyaXZlL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L29uZWRyaXZlL2xpYi9sb2NhbGUuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9wcm92aWRlci12aWV3cy9saWIvQnJlYWRjcnVtYnMuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9wcm92aWRlci12aWV3cy9saWIvQnJvd3Nlci5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3Byb3ZpZGVyLXZpZXdzL2xpYi9DbG9zZVdyYXBwZXIuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9wcm92aWRlci12aWV3cy9saWIvRm9vdGVyQWN0aW9ucy5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3Byb3ZpZGVyLXZpZXdzL2xpYi9JdGVtL2NvbXBvbmVudHMvR3JpZExpLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvcHJvdmlkZXItdmlld3MvbGliL0l0ZW0vY29tcG9uZW50cy9JdGVtSWNvbi5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3Byb3ZpZGVyLXZpZXdzL2xpYi9JdGVtL2NvbXBvbmVudHMvTGlzdExpLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvcHJvdmlkZXItdmlld3MvbGliL0l0ZW0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9wcm92aWRlci12aWV3cy9saWIvTG9hZGVyLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvcHJvdmlkZXItdmlld3MvbGliL1Byb3ZpZGVyVmlldy9BdXRoVmlldy5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3Byb3ZpZGVyLXZpZXdzL2xpYi9Qcm92aWRlclZpZXcvSGVhZGVyLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvcHJvdmlkZXItdmlld3MvbGliL1Byb3ZpZGVyVmlldy9Qcm92aWRlclZpZXcuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9wcm92aWRlci12aWV3cy9saWIvUHJvdmlkZXJWaWV3L1VzZXIuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9wcm92aWRlci12aWV3cy9saWIvUHJvdmlkZXJWaWV3L2luZGV4LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvcHJvdmlkZXItdmlld3MvbGliL1NlYXJjaEZpbHRlcklucHV0LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvcHJvdmlkZXItdmlld3MvbGliL1NlYXJjaFByb3ZpZGVyVmlldy9TZWFyY2hQcm92aWRlclZpZXcuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9wcm92aWRlci12aWV3cy9saWIvU2VhcmNoUHJvdmlkZXJWaWV3L2luZGV4LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvcHJvdmlkZXItdmlld3MvbGliL1ZpZXcuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9wcm92aWRlci12aWV3cy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9zdGF0dXMtYmFyL2xpYi9Db21wb25lbnRzLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvc3RhdHVzLWJhci9saWIvU3RhdHVzQmFyLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvc3RhdHVzLWJhci9saWIvU3RhdHVzQmFyU3RhdGVzLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvc3RhdHVzLWJhci9saWIvU3RhdHVzQmFyVUkuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9zdGF0dXMtYmFyL2xpYi9jYWxjdWxhdGVQcm9jZXNzaW5nUHJvZ3Jlc3MuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS9zdGF0dXMtYmFyL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3N0YXR1cy1iYXIvbGliL2xvY2FsZS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3N0b3JlLWRlZmF1bHQvbGliL2luZGV4LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdGh1bWJuYWlsLWdlbmVyYXRvci9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS90aHVtYm5haWwtZ2VuZXJhdG9yL2xpYi9sb2NhbGUuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS90dXMvbGliL2dldEZpbmdlcnByaW50LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdHVzL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3VybC9saWIvVXJsLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdXJsL2xpYi9VcmxVSS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3VybC9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS91cmwvbGliL2xvY2FsZS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3VybC9saWIvdXRpbHMvZm9yRWFjaERyb3BwZWRPclBhc3RlZFVybC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9BYm9ydENvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS91dGlscy9saWIvRXJyb3JXaXRoQ2F1c2UuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS91dGlscy9saWIvRXZlbnRUcmFja2VyLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdXRpbHMvbGliL0ZPQ1VTQUJMRV9FTEVNRU5UUy5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9OZXR3b3JrRXJyb3IuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS91dGlscy9saWIvUmF0ZUxpbWl0ZWRRdWV1ZS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9UcmFuc2xhdG9yLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdXRpbHMvbGliL2NhbnZhc1RvQmxvYi5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9kYXRhVVJJdG9CbG9iLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdXRpbHMvbGliL2VtaXRTb2NrZXRQcm9ncmVzcy5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9mZXRjaFdpdGhOZXR3b3JrRXJyb3IuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS91dGlscy9saWIvZmluZEFsbERPTUVsZW1lbnRzLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdXRpbHMvbGliL2ZpbmRET01FbGVtZW50LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdXRpbHMvbGliL2dlbmVyYXRlRmlsZUlELmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdXRpbHMvbGliL2dldEJ5dGVzUmVtYWluaW5nLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdXRpbHMvbGliL2dldERyb3BwZWRGaWxlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9nZXREcm9wcGVkRmlsZXMvdXRpbHMvZmFsbGJhY2tBcGkuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS91dGlscy9saWIvZ2V0RHJvcHBlZEZpbGVzL3V0aWxzL3dlYmtpdEdldEFzRW50cnlBcGkvZ2V0RmlsZXNBbmREaXJlY3Rvcmllc0Zyb21EaXJlY3RvcnkuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS91dGlscy9saWIvZ2V0RHJvcHBlZEZpbGVzL3V0aWxzL3dlYmtpdEdldEFzRW50cnlBcGkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS91dGlscy9saWIvZ2V0RmlsZU5hbWVBbmRFeHRlbnNpb24uanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS91dGlscy9saWIvZ2V0RmlsZVR5cGUuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS91dGlscy9saWIvZ2V0RmlsZVR5cGVFeHRlbnNpb24uanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS91dGlscy9saWIvZ2V0U29ja2V0SG9zdC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9nZXRTcGVlZC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9nZXRUZXh0RGlyZWN0aW9uLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdXRpbHMvbGliL2dldFRpbWVTdGFtcC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9oYXNQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9pc0RPTUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS91dGlscy9saWIvaXNEcmFnRHJvcFN1cHBvcnRlZC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9pc05ldHdvcmtFcnJvci5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9pc09iamVjdFVSTC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9pc1ByZXZpZXdTdXBwb3J0ZWQuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS91dGlscy9saWIvbWltZVR5cGVzLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdXRpbHMvbGliL3ByZXR0eUVUQS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9yZW1vdGVGaWxlT2JqVG9Mb2NhbC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi9zZWNvbmRzVG9UaW1lLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdXRpbHMvbGliL3NldHRsZS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3V0aWxzL2xpYi90b0FycmF5LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvdXRpbHMvbGliL3RydW5jYXRlU3RyaW5nLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvd2ViY2FtL2xpYi9DYW1lcmFJY29uLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvd2ViY2FtL2xpYi9DYW1lcmFTY3JlZW4uanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS93ZWJjYW0vbGliL0Rpc2NhcmRCdXR0b24uanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS93ZWJjYW0vbGliL1Blcm1pc3Npb25zU2NyZWVuLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvQHVwcHkvd2ViY2FtL2xpYi9SZWNvcmRCdXR0b24uanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS93ZWJjYW0vbGliL1JlY29yZGluZ0xlbmd0aC5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3dlYmNhbS9saWIvU25hcHNob3RCdXR0b24uanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS93ZWJjYW0vbGliL1N1Ym1pdEJ1dHRvbi5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3dlYmNhbS9saWIvVmlkZW9Tb3VyY2VTZWxlY3QuanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS93ZWJjYW0vbGliL1dlYmNhbS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3dlYmNhbS9saWIvZm9ybWF0U2Vjb25kcy5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3dlYmNhbS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9AdXBweS93ZWJjYW0vbGliL2xvY2FsZS5qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3dlYmNhbS9saWIvc3VwcG9ydHNNZWRpYVJlY29yZGVyLmpzIiwid2VicGFjazovL3VwcHktYWRkb24vLi9ub2RlX21vZHVsZXMvZXhpZnIvZGlzdC9taW5pLmVzbS5tanMiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi8uL25vZGVfbW9kdWxlcy9qcy1iYXNlNjQvYmFzZTY0Lm1qcyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uLy4vbm9kZV9tb2R1bGVzL25hbm9pZC9ub24tc2VjdXJlL2luZGV4LmpzIiwid2VicGFjazovL3VwcHktYWRkb24vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly91cHB5LWFkZG9uL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly91cHB5LWFkZG9uL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vdXBweS1hZGRvbi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3VwcHktYWRkb24vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly91cHB5LWFkZG9uL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL3VwcHktYWRkb24vd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL3VwcHktYWRkb24vLi9zcmMvbWFpbi93ZWJhcHAvVkFBRElOL2FkZG9ucy91cHB5LWFkZG9uL3VwcHktY29tcG9uZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vRmxldC9wcmV0dGllci1ieXRlcy9cbi8vIENoYW5naW5nIDEwMDAgYnl0ZXMgdG8gMTAyNCwgc28gd2UgY2FuIGtlZXAgdXBwZXJjYXNlIEtCIHZzIGtCXG4vLyBJU0MgTGljZW5zZSAoYykgRGFuIEZsZXR0cmUgaHR0cHM6Ly9naXRodWIuY29tL0ZsZXQvcHJldHRpZXItYnl0ZXMvYmxvYi9tYXN0ZXIvTElDRU5TRVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwcmV0dGllckJ5dGVzIChudW0pIHtcbiAgaWYgKHR5cGVvZiBudW0gIT09ICdudW1iZXInIHx8IGlzTmFOKG51bSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBhIG51bWJlciwgZ290ICR7dHlwZW9mIG51bX1gKVxuICB9XG5cbiAgY29uc3QgbmVnID0gbnVtIDwgMFxuICBjb25zdCB1bml0cyA9IFsnQicsICdLQicsICdNQicsICdHQicsICdUQicsICdQQicsICdFQicsICdaQicsICdZQiddXG5cbiAgaWYgKG5lZykge1xuICAgIG51bSA9IC1udW1cbiAgfVxuXG4gIGlmIChudW0gPCAxKSB7XG4gICAgcmV0dXJuIGAkeyhuZWcgPyAnLScgOiAnJykgKyBudW19IEJgXG4gIH1cblxuICBjb25zdCBleHBvbmVudCA9IE1hdGgubWluKE1hdGguZmxvb3IoTWF0aC5sb2cobnVtKSAvIE1hdGgubG9nKDEwMjQpKSwgdW5pdHMubGVuZ3RoIC0gMSlcbiAgbnVtID0gTnVtYmVyKG51bSAvIE1hdGgucG93KDEwMjQsIGV4cG9uZW50KSlcbiAgY29uc3QgdW5pdCA9IHVuaXRzW2V4cG9uZW50XVxuXG4gIGlmIChudW0gPj0gMTAgfHwgbnVtICUgMSA9PT0gMCkge1xuICAgIC8vIERvIG5vdCBzaG93IGRlY2ltYWxzIHdoZW4gdGhlIG51bWJlciBpcyB0d28tZGlnaXQsIG9yIGlmIHRoZSBudW1iZXIgaGFzIG5vXG4gICAgLy8gZGVjaW1hbCBjb21wb25lbnQuXG4gICAgcmV0dXJuIGAkeyhuZWcgPyAnLScgOiAnJykgKyBudW0udG9GaXhlZCgwKX0gJHt1bml0fWBcbiAgfVxuICByZXR1cm4gYCR7KG5lZyA/ICctJyA6ICcnKSArIG51bS50b0ZpeGVkKDEpfSAke3VuaXR9YFxufVxuIiwiLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9GbGV0L3ByZXR0aWVyLWJ5dGVzL1xuLy8gQ2hhbmdpbmcgMTAwMCBieXRlcyB0byAxMDI0LCBzbyB3ZSBjYW4ga2VlcCB1cHBlcmNhc2UgS0IgdnMga0Jcbi8vIElTQyBMaWNlbnNlIChjKSBEYW4gRmxldHRyZSBodHRwczovL2dpdGh1Yi5jb20vRmxldC9wcmV0dGllci1ieXRlcy9ibG9iL21hc3Rlci9MSUNFTlNFXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHByZXR0aWVyQnl0ZXMgKG51bSkge1xuICBpZiAodHlwZW9mIG51bSAhPT0gJ251bWJlcicgfHwgaXNOYU4obnVtKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGEgbnVtYmVyLCBnb3QgJyArIHR5cGVvZiBudW0pXG4gIH1cblxuICB2YXIgbmVnID0gbnVtIDwgMFxuICB2YXIgdW5pdHMgPSBbJ0InLCAnS0InLCAnTUInLCAnR0InLCAnVEInLCAnUEInLCAnRUInLCAnWkInLCAnWUInXVxuXG4gIGlmIChuZWcpIHtcbiAgICBudW0gPSAtbnVtXG4gIH1cblxuICBpZiAobnVtIDwgMSkge1xuICAgIHJldHVybiAobmVnID8gJy0nIDogJycpICsgbnVtICsgJyBCJ1xuICB9XG5cbiAgdmFyIGV4cG9uZW50ID0gTWF0aC5taW4oTWF0aC5mbG9vcihNYXRoLmxvZyhudW0pIC8gTWF0aC5sb2coMTAyNCkpLCB1bml0cy5sZW5ndGggLSAxKVxuICBudW0gPSBOdW1iZXIobnVtIC8gTWF0aC5wb3coMTAyNCwgZXhwb25lbnQpKVxuICB2YXIgdW5pdCA9IHVuaXRzW2V4cG9uZW50XVxuXG4gIGlmIChudW0gPj0gMTAgfHwgbnVtICUgMSA9PT0gMCkge1xuICAgIC8vIERvIG5vdCBzaG93IGRlY2ltYWxzIHdoZW4gdGhlIG51bWJlciBpcyB0d28tZGlnaXQsIG9yIGlmIHRoZSBudW1iZXIgaGFzIG5vXG4gICAgLy8gZGVjaW1hbCBjb21wb25lbnQuXG4gICAgcmV0dXJuIChuZWcgPyAnLScgOiAnJykgKyBudW0udG9GaXhlZCgwKSArICcgJyArIHVuaXRcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKG5lZyA/ICctJyA6ICcnKSArIG51bS50b0ZpeGVkKDEpICsgJyAnICsgdW5pdFxuICB9XG59XG4iLCIvKiFcblx0Q29weXJpZ2h0IChjKSAyMDE4IEplZCBXYXRzb24uXG5cdExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG5cdGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cdHZhciBuYXRpdmVDb2RlU3RyaW5nID0gJ1tuYXRpdmUgY29kZV0nO1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGlmIChhcmcubGVuZ3RoKSB7XG5cdFx0XHRcdFx0dmFyIGlubmVyID0gY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpO1xuXHRcdFx0XHRcdGlmIChpbm5lcikge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGlubmVyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0aWYgKGFyZy50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyAmJiAhYXJnLnRvU3RyaW5nLnRvU3RyaW5nKCkuaW5jbHVkZXMoJ1tuYXRpdmUgY29kZV0nKSkge1xuXHRcdFx0XHRcdGNsYXNzZXMucHVzaChhcmcudG9TdHJpbmcoKSk7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0Y2xhc3NOYW1lcy5kZWZhdWx0ID0gY2xhc3NOYW1lcztcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiLyohXG4gKiBDcm9wcGVyLmpzIHYxLjUuN1xuICogaHR0cHM6Ly9mZW5neXVhbmNoZW4uZ2l0aHViLmlvL2Nyb3BwZXJqc1xuICpcbiAqIENvcHlyaWdodCAyMDE1LXByZXNlbnQgQ2hlbiBGZW5neXVhblxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKlxuICogRGF0ZTogMjAyMC0wNS0yM1QwNToyMzowMC4wODFaXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5Dcm9wcGVyID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7XG4gICAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIF90eXBlb2YgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3R5cGVvZihvYmopO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcbiAgICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgICB9KTtcbiAgICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTtcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5cztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcblxuICAgICAgaWYgKGkgJSAyKSB7XG4gICAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICAgIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7XG4gIH1cblxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgICBpZiAoIW8pIHJldHVybjtcbiAgICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICAgIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICAgIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gICAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbiAgfVxuXG4gIHZhciBJU19CUk9XU0VSID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG4gIHZhciBXSU5ET1cgPSBJU19CUk9XU0VSID8gd2luZG93IDoge307XG4gIHZhciBJU19UT1VDSF9ERVZJQ0UgPSBJU19CUk9XU0VSICYmIFdJTkRPVy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPyAnb250b3VjaHN0YXJ0JyBpbiBXSU5ET1cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IDogZmFsc2U7XG4gIHZhciBIQVNfUE9JTlRFUl9FVkVOVCA9IElTX0JST1dTRVIgPyAnUG9pbnRlckV2ZW50JyBpbiBXSU5ET1cgOiBmYWxzZTtcbiAgdmFyIE5BTUVTUEFDRSA9ICdjcm9wcGVyJzsgLy8gQWN0aW9uc1xuXG4gIHZhciBBQ1RJT05fQUxMID0gJ2FsbCc7XG4gIHZhciBBQ1RJT05fQ1JPUCA9ICdjcm9wJztcbiAgdmFyIEFDVElPTl9NT1ZFID0gJ21vdmUnO1xuICB2YXIgQUNUSU9OX1pPT00gPSAnem9vbSc7XG4gIHZhciBBQ1RJT05fRUFTVCA9ICdlJztcbiAgdmFyIEFDVElPTl9XRVNUID0gJ3cnO1xuICB2YXIgQUNUSU9OX1NPVVRIID0gJ3MnO1xuICB2YXIgQUNUSU9OX05PUlRIID0gJ24nO1xuICB2YXIgQUNUSU9OX05PUlRIX0VBU1QgPSAnbmUnO1xuICB2YXIgQUNUSU9OX05PUlRIX1dFU1QgPSAnbncnO1xuICB2YXIgQUNUSU9OX1NPVVRIX0VBU1QgPSAnc2UnO1xuICB2YXIgQUNUSU9OX1NPVVRIX1dFU1QgPSAnc3cnOyAvLyBDbGFzc2VzXG5cbiAgdmFyIENMQVNTX0NST1AgPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWNyb3BcIik7XG4gIHZhciBDTEFTU19ESVNBQkxFRCA9IFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItZGlzYWJsZWRcIik7XG4gIHZhciBDTEFTU19ISURERU4gPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWhpZGRlblwiKTtcbiAgdmFyIENMQVNTX0hJREUgPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWhpZGVcIik7XG4gIHZhciBDTEFTU19JTlZJU0lCTEUgPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWludmlzaWJsZVwiKTtcbiAgdmFyIENMQVNTX01PREFMID0gXCJcIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1tb2RhbFwiKTtcbiAgdmFyIENMQVNTX01PVkUgPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLW1vdmVcIik7IC8vIERhdGEga2V5c1xuXG4gIHZhciBEQVRBX0FDVElPTiA9IFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCJBY3Rpb25cIik7XG4gIHZhciBEQVRBX1BSRVZJRVcgPSBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiUHJldmlld1wiKTsgLy8gRHJhZyBtb2Rlc1xuXG4gIHZhciBEUkFHX01PREVfQ1JPUCA9ICdjcm9wJztcbiAgdmFyIERSQUdfTU9ERV9NT1ZFID0gJ21vdmUnO1xuICB2YXIgRFJBR19NT0RFX05PTkUgPSAnbm9uZSc7IC8vIEV2ZW50c1xuXG4gIHZhciBFVkVOVF9DUk9QID0gJ2Nyb3AnO1xuICB2YXIgRVZFTlRfQ1JPUF9FTkQgPSAnY3JvcGVuZCc7XG4gIHZhciBFVkVOVF9DUk9QX01PVkUgPSAnY3JvcG1vdmUnO1xuICB2YXIgRVZFTlRfQ1JPUF9TVEFSVCA9ICdjcm9wc3RhcnQnO1xuICB2YXIgRVZFTlRfREJMQ0xJQ0sgPSAnZGJsY2xpY2snO1xuICB2YXIgRVZFTlRfVE9VQ0hfU1RBUlQgPSBJU19UT1VDSF9ERVZJQ0UgPyAndG91Y2hzdGFydCcgOiAnbW91c2Vkb3duJztcbiAgdmFyIEVWRU5UX1RPVUNIX01PVkUgPSBJU19UT1VDSF9ERVZJQ0UgPyAndG91Y2htb3ZlJyA6ICdtb3VzZW1vdmUnO1xuICB2YXIgRVZFTlRfVE9VQ0hfRU5EID0gSVNfVE9VQ0hfREVWSUNFID8gJ3RvdWNoZW5kIHRvdWNoY2FuY2VsJyA6ICdtb3VzZXVwJztcbiAgdmFyIEVWRU5UX1BPSU5URVJfRE9XTiA9IEhBU19QT0lOVEVSX0VWRU5UID8gJ3BvaW50ZXJkb3duJyA6IEVWRU5UX1RPVUNIX1NUQVJUO1xuICB2YXIgRVZFTlRfUE9JTlRFUl9NT1ZFID0gSEFTX1BPSU5URVJfRVZFTlQgPyAncG9pbnRlcm1vdmUnIDogRVZFTlRfVE9VQ0hfTU9WRTtcbiAgdmFyIEVWRU5UX1BPSU5URVJfVVAgPSBIQVNfUE9JTlRFUl9FVkVOVCA/ICdwb2ludGVydXAgcG9pbnRlcmNhbmNlbCcgOiBFVkVOVF9UT1VDSF9FTkQ7XG4gIHZhciBFVkVOVF9SRUFEWSA9ICdyZWFkeSc7XG4gIHZhciBFVkVOVF9SRVNJWkUgPSAncmVzaXplJztcbiAgdmFyIEVWRU5UX1dIRUVMID0gJ3doZWVsJztcbiAgdmFyIEVWRU5UX1pPT00gPSAnem9vbSc7IC8vIE1pbWUgdHlwZXNcblxuICB2YXIgTUlNRV9UWVBFX0pQRUcgPSAnaW1hZ2UvanBlZyc7IC8vIFJlZ0V4cHNcblxuICB2YXIgUkVHRVhQX0FDVElPTlMgPSAvXmV8d3xzfG58c2V8c3d8bmV8bnd8YWxsfGNyb3B8bW92ZXx6b29tJC87XG4gIHZhciBSRUdFWFBfREFUQV9VUkwgPSAvXmRhdGE6LztcbiAgdmFyIFJFR0VYUF9EQVRBX1VSTF9KUEVHID0gL15kYXRhOmltYWdlXFwvanBlZztiYXNlNjQsLztcbiAgdmFyIFJFR0VYUF9UQUdfTkFNRSA9IC9eaW1nfGNhbnZhcyQvaTsgLy8gTWlzY1xuXG4gIHZhciBERUZBVUxUUyA9IHtcbiAgICAvLyBEZWZpbmUgdGhlIHZpZXcgbW9kZSBvZiB0aGUgY3JvcHBlclxuICAgIHZpZXdNb2RlOiAwLFxuICAgIC8vIDAsIDEsIDIsIDNcbiAgICAvLyBEZWZpbmUgdGhlIGRyYWdnaW5nIG1vZGUgb2YgdGhlIGNyb3BwZXJcbiAgICBkcmFnTW9kZTogRFJBR19NT0RFX0NST1AsXG4gICAgLy8gJ2Nyb3AnLCAnbW92ZScgb3IgJ25vbmUnXG4gICAgLy8gRGVmaW5lIHRoZSBpbml0aWFsIGFzcGVjdCByYXRpbyBvZiB0aGUgY3JvcCBib3hcbiAgICBpbml0aWFsQXNwZWN0UmF0aW86IE5hTixcbiAgICAvLyBEZWZpbmUgdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgY3JvcCBib3hcbiAgICBhc3BlY3RSYXRpbzogTmFOLFxuICAgIC8vIEFuIG9iamVjdCB3aXRoIHRoZSBwcmV2aW91cyBjcm9wcGluZyByZXN1bHQgZGF0YVxuICAgIGRhdGE6IG51bGwsXG4gICAgLy8gQSBzZWxlY3RvciBmb3IgYWRkaW5nIGV4dHJhIGNvbnRhaW5lcnMgdG8gcHJldmlld1xuICAgIHByZXZpZXc6ICcnLFxuICAgIC8vIFJlLXJlbmRlciB0aGUgY3JvcHBlciB3aGVuIHJlc2l6ZSB0aGUgd2luZG93XG4gICAgcmVzcG9uc2l2ZTogdHJ1ZSxcbiAgICAvLyBSZXN0b3JlIHRoZSBjcm9wcGVkIGFyZWEgYWZ0ZXIgcmVzaXplIHRoZSB3aW5kb3dcbiAgICByZXN0b3JlOiB0cnVlLFxuICAgIC8vIENoZWNrIGlmIHRoZSBjdXJyZW50IGltYWdlIGlzIGEgY3Jvc3Mtb3JpZ2luIGltYWdlXG4gICAgY2hlY2tDcm9zc09yaWdpbjogdHJ1ZSxcbiAgICAvLyBDaGVjayB0aGUgY3VycmVudCBpbWFnZSdzIEV4aWYgT3JpZW50YXRpb24gaW5mb3JtYXRpb25cbiAgICBjaGVja09yaWVudGF0aW9uOiB0cnVlLFxuICAgIC8vIFNob3cgdGhlIGJsYWNrIG1vZGFsXG4gICAgbW9kYWw6IHRydWUsXG4gICAgLy8gU2hvdyB0aGUgZGFzaGVkIGxpbmVzIGZvciBndWlkaW5nXG4gICAgZ3VpZGVzOiB0cnVlLFxuICAgIC8vIFNob3cgdGhlIGNlbnRlciBpbmRpY2F0b3IgZm9yIGd1aWRpbmdcbiAgICBjZW50ZXI6IHRydWUsXG4gICAgLy8gU2hvdyB0aGUgd2hpdGUgbW9kYWwgdG8gaGlnaGxpZ2h0IHRoZSBjcm9wIGJveFxuICAgIGhpZ2hsaWdodDogdHJ1ZSxcbiAgICAvLyBTaG93IHRoZSBncmlkIGJhY2tncm91bmRcbiAgICBiYWNrZ3JvdW5kOiB0cnVlLFxuICAgIC8vIEVuYWJsZSB0byBjcm9wIHRoZSBpbWFnZSBhdXRvbWF0aWNhbGx5IHdoZW4gaW5pdGlhbGl6ZVxuICAgIGF1dG9Dcm9wOiB0cnVlLFxuICAgIC8vIERlZmluZSB0aGUgcGVyY2VudGFnZSBvZiBhdXRvbWF0aWMgY3JvcHBpbmcgYXJlYSB3aGVuIGluaXRpYWxpemVzXG4gICAgYXV0b0Nyb3BBcmVhOiAwLjgsXG4gICAgLy8gRW5hYmxlIHRvIG1vdmUgdGhlIGltYWdlXG4gICAgbW92YWJsZTogdHJ1ZSxcbiAgICAvLyBFbmFibGUgdG8gcm90YXRlIHRoZSBpbWFnZVxuICAgIHJvdGF0YWJsZTogdHJ1ZSxcbiAgICAvLyBFbmFibGUgdG8gc2NhbGUgdGhlIGltYWdlXG4gICAgc2NhbGFibGU6IHRydWUsXG4gICAgLy8gRW5hYmxlIHRvIHpvb20gdGhlIGltYWdlXG4gICAgem9vbWFibGU6IHRydWUsXG4gICAgLy8gRW5hYmxlIHRvIHpvb20gdGhlIGltYWdlIGJ5IGRyYWdnaW5nIHRvdWNoXG4gICAgem9vbU9uVG91Y2g6IHRydWUsXG4gICAgLy8gRW5hYmxlIHRvIHpvb20gdGhlIGltYWdlIGJ5IHdoZWVsaW5nIG1vdXNlXG4gICAgem9vbU9uV2hlZWw6IHRydWUsXG4gICAgLy8gRGVmaW5lIHpvb20gcmF0aW8gd2hlbiB6b29tIHRoZSBpbWFnZSBieSB3aGVlbGluZyBtb3VzZVxuICAgIHdoZWVsWm9vbVJhdGlvOiAwLjEsXG4gICAgLy8gRW5hYmxlIHRvIG1vdmUgdGhlIGNyb3AgYm94XG4gICAgY3JvcEJveE1vdmFibGU6IHRydWUsXG4gICAgLy8gRW5hYmxlIHRvIHJlc2l6ZSB0aGUgY3JvcCBib3hcbiAgICBjcm9wQm94UmVzaXphYmxlOiB0cnVlLFxuICAgIC8vIFRvZ2dsZSBkcmFnIG1vZGUgYmV0d2VlbiBcImNyb3BcIiBhbmQgXCJtb3ZlXCIgd2hlbiBjbGljayB0d2ljZSBvbiB0aGUgY3JvcHBlclxuICAgIHRvZ2dsZURyYWdNb2RlT25EYmxjbGljazogdHJ1ZSxcbiAgICAvLyBTaXplIGxpbWl0YXRpb25cbiAgICBtaW5DYW52YXNXaWR0aDogMCxcbiAgICBtaW5DYW52YXNIZWlnaHQ6IDAsXG4gICAgbWluQ3JvcEJveFdpZHRoOiAwLFxuICAgIG1pbkNyb3BCb3hIZWlnaHQ6IDAsXG4gICAgbWluQ29udGFpbmVyV2lkdGg6IDIwMCxcbiAgICBtaW5Db250YWluZXJIZWlnaHQ6IDEwMCxcbiAgICAvLyBTaG9ydGN1dHMgb2YgZXZlbnRzXG4gICAgcmVhZHk6IG51bGwsXG4gICAgY3JvcHN0YXJ0OiBudWxsLFxuICAgIGNyb3Btb3ZlOiBudWxsLFxuICAgIGNyb3BlbmQ6IG51bGwsXG4gICAgY3JvcDogbnVsbCxcbiAgICB6b29tOiBudWxsXG4gIH07XG5cbiAgdmFyIFRFTVBMQVRFID0gJzxkaXYgY2xhc3M9XCJjcm9wcGVyLWNvbnRhaW5lclwiIHRvdWNoLWFjdGlvbj1cIm5vbmVcIj4nICsgJzxkaXYgY2xhc3M9XCJjcm9wcGVyLXdyYXAtYm94XCI+JyArICc8ZGl2IGNsYXNzPVwiY3JvcHBlci1jYW52YXNcIj48L2Rpdj4nICsgJzwvZGl2PicgKyAnPGRpdiBjbGFzcz1cImNyb3BwZXItZHJhZy1ib3hcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJjcm9wcGVyLWNyb3AtYm94XCI+JyArICc8c3BhbiBjbGFzcz1cImNyb3BwZXItdmlldy1ib3hcIj48L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cImNyb3BwZXItZGFzaGVkIGRhc2hlZC1oXCI+PC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJjcm9wcGVyLWRhc2hlZCBkYXNoZWQtdlwiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1jZW50ZXJcIj48L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cImNyb3BwZXItZmFjZVwiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1saW5lIGxpbmUtZVwiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJlXCI+PC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJjcm9wcGVyLWxpbmUgbGluZS1uXCIgZGF0YS1jcm9wcGVyLWFjdGlvbj1cIm5cIj48L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cImNyb3BwZXItbGluZSBsaW5lLXdcIiBkYXRhLWNyb3BwZXItYWN0aW9uPVwid1wiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1saW5lIGxpbmUtc1wiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJzXCI+PC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJjcm9wcGVyLXBvaW50IHBvaW50LWVcIiBkYXRhLWNyb3BwZXItYWN0aW9uPVwiZVwiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1uXCIgZGF0YS1jcm9wcGVyLWFjdGlvbj1cIm5cIj48L3NwYW4+JyArICc8c3BhbiBjbGFzcz1cImNyb3BwZXItcG9pbnQgcG9pbnQtd1wiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJ3XCI+PC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJjcm9wcGVyLXBvaW50IHBvaW50LXNcIiBkYXRhLWNyb3BwZXItYWN0aW9uPVwic1wiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1uZVwiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJuZVwiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1ud1wiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJud1wiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1zd1wiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJzd1wiPjwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1zZVwiIGRhdGEtY3JvcHBlci1hY3Rpb249XCJzZVwiPjwvc3Bhbj4nICsgJzwvZGl2PicgKyAnPC9kaXY+JztcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIG5vdCBhIG51bWJlci5cbiAgICovXG5cbiAgdmFyIGlzTmFOID0gTnVtYmVyLmlzTmFOIHx8IFdJTkRPVy5pc05hTjtcbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIG51bWJlci5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgKi9cblxuICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmICFpc05hTih2YWx1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHBvc2l0aXZlIG51bWJlci5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHBvc2l0aXZlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgKi9cblxuICB2YXIgaXNQb3NpdGl2ZU51bWJlciA9IGZ1bmN0aW9uIGlzUG9zaXRpdmVOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPiAwICYmIHZhbHVlIDwgSW5maW5pdHk7XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgdW5kZWZpbmVkLlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIHVuZGVmaW5lZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cblxuICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gb2JqZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cblxuICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiBfdHlwZW9mKHZhbHVlKSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGw7XG4gIH1cbiAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHBsYWluIG9iamVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cblxuICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdmFyIF9jb25zdHJ1Y3RvciA9IHZhbHVlLmNvbnN0cnVjdG9yO1xuICAgICAgdmFyIHByb3RvdHlwZSA9IF9jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gICAgICByZXR1cm4gX2NvbnN0cnVjdG9yICYmIHByb3RvdHlwZSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvdHlwZSwgJ2lzUHJvdG90eXBlT2YnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgKi9cblxuICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgfVxuICB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG4gIC8qKlxuICAgKiBDb252ZXJ0IGFycmF5LWxpa2Ugb3IgaXRlcmFibGUgb2JqZWN0IHRvIGFuIGFycmF5LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICovXG5cbiAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tID8gQXJyYXkuZnJvbSh2YWx1ZSkgOiBzbGljZS5jYWxsKHZhbHVlKTtcbiAgfVxuICAvKipcbiAgICogSXRlcmF0ZSB0aGUgZ2l2ZW4gZGF0YS5cbiAgICogQHBhcmFtIHsqfSBkYXRhIC0gVGhlIGRhdGEgdG8gaXRlcmF0ZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBUaGUgcHJvY2VzcyBmdW5jdGlvbiBmb3IgZWFjaCBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7Kn0gVGhlIG9yaWdpbmFsIGRhdGEuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGZvckVhY2goZGF0YSwgY2FsbGJhY2spIHtcbiAgICBpZiAoZGF0YSAmJiBpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkgfHwgaXNOdW1iZXIoZGF0YS5sZW5ndGgpXG4gICAgICAvKiBhcnJheS1saWtlICovXG4gICAgICApIHtcbiAgICAgICAgICB0b0FycmF5KGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZGF0YSwgdmFsdWUsIGtleSwgZGF0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgY2FsbGJhY2suY2FsbChkYXRhLCBkYXRhW2tleV0sIGtleSwgZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XG4gIC8qKlxuICAgKiBFeHRlbmQgdGhlIGdpdmVuIG9iamVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9iamVjdCB0byBleHRlbmQuXG4gICAqIEBwYXJhbSB7Kn0gYXJncyAtIFRoZSByZXN0IG9iamVjdHMgZm9yIG1lcmdpbmcgdG8gdGhlIHRhcmdldCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBleHRlbmRlZCBvYmplY3QuXG4gICAqL1xuXG4gIHZhciBhc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBpZiAoaXNPYmplY3QodGFyZ2V0KSAmJiBhcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIGFyZ3MuZm9yRWFjaChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIGlmIChpc09iamVjdChhcmcpKSB7XG4gICAgICAgICAgT2JqZWN0LmtleXMoYXJnKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gYXJnW2tleV07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIHZhciBSRUdFWFBfREVDSU1BTFMgPSAvXFwuXFxkKig/OjB8OSl7MTJ9XFxkKiQvO1xuICAvKipcbiAgICogTm9ybWFsaXplIGRlY2ltYWwgbnVtYmVyLlxuICAgKiBDaGVjayBvdXQge0BsaW5rIGh0dHBzOi8vMC4zMDAwMDAwMDAwMDAwMDAwNC5jb20vfVxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gbm9ybWFsaXplLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3RpbWVzPTEwMDAwMDAwMDAwMF0gLSBUaGUgdGltZXMgZm9yIG5vcm1hbGl6aW5nLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBub3JtYWxpemVkIG51bWJlci5cbiAgICovXG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplRGVjaW1hbE51bWJlcih2YWx1ZSkge1xuICAgIHZhciB0aW1lcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTAwMDAwMDAwMDAwO1xuICAgIHJldHVybiBSRUdFWFBfREVDSU1BTFMudGVzdCh2YWx1ZSkgPyBNYXRoLnJvdW5kKHZhbHVlICogdGltZXMpIC8gdGltZXMgOiB2YWx1ZTtcbiAgfVxuICB2YXIgUkVHRVhQX1NVRkZJWCA9IC9ed2lkdGh8aGVpZ2h0fGxlZnR8dG9wfG1hcmdpbkxlZnR8bWFyZ2luVG9wJC87XG4gIC8qKlxuICAgKiBBcHBseSBzdHlsZXMgdG8gdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSB0YXJnZXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlcyAtIFRoZSBzdHlsZXMgZm9yIGFwcGx5aW5nLlxuICAgKi9cblxuICBmdW5jdGlvbiBzZXRTdHlsZShlbGVtZW50LCBzdHlsZXMpIHtcbiAgICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlO1xuICAgIGZvckVhY2goc3R5bGVzLCBmdW5jdGlvbiAodmFsdWUsIHByb3BlcnR5KSB7XG4gICAgICBpZiAoUkVHRVhQX1NVRkZJWC50ZXN0KHByb3BlcnR5KSAmJiBpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBcIlwiLmNvbmNhdCh2YWx1ZSwgXCJweFwiKTtcbiAgICAgIH1cblxuICAgICAgc3R5bGVbcHJvcGVydHldID0gdmFsdWU7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBnaXZlbiBlbGVtZW50IGhhcyBhIHNwZWNpYWwgY2xhc3MuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIGNoZWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgY2xhc3MgdG8gc2VhcmNoLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHNwZWNpYWwgY2xhc3Mgd2FzIGZvdW5kLlxuICAgKi9cblxuICBmdW5jdGlvbiBoYXNDbGFzcyhlbGVtZW50LCB2YWx1ZSkge1xuICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdCA/IGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKHZhbHVlKSA6IGVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YodmFsdWUpID4gLTE7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBjbGFzc2VzIHRvIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFRoZSBjbGFzc2VzIHRvIGJlIGFkZGVkLlxuICAgKi9cblxuICBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCB2YWx1ZSkge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNOdW1iZXIoZWxlbWVudC5sZW5ndGgpKSB7XG4gICAgICBmb3JFYWNoKGVsZW1lbnQsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgIGFkZENsYXNzKGVsZW0sIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKHZhbHVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUudHJpbSgpO1xuXG4gICAgaWYgKCFjbGFzc05hbWUpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmIChjbGFzc05hbWUuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiXCIuY29uY2F0KGNsYXNzTmFtZSwgXCIgXCIpLmNvbmNhdCh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgY2xhc3NlcyBmcm9tIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFRoZSBjbGFzc2VzIHRvIGJlIHJlbW92ZWQuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc051bWJlcihlbGVtZW50Lmxlbmd0aCkpIHtcbiAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWxlbSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodmFsdWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKHZhbHVlKSA+PSAwKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UodmFsdWUsICcnKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBvciByZW1vdmUgY2xhc3NlcyBmcm9tIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFRoZSBjbGFzc2VzIHRvIGJlIHRvZ2dsZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gYWRkZWQgLSBBZGQgb25seS5cbiAgICovXG5cbiAgZnVuY3Rpb24gdG9nZ2xlQ2xhc3MoZWxlbWVudCwgdmFsdWUsIGFkZGVkKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc051bWJlcihlbGVtZW50Lmxlbmd0aCkpIHtcbiAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgdG9nZ2xlQ2xhc3MoZWxlbSwgdmFsdWUsIGFkZGVkKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gSUUxMC0xMSBkb2Vzbid0IHN1cHBvcnQgdGhlIHNlY29uZCBwYXJhbWV0ZXIgb2YgYGNsYXNzTGlzdC50b2dnbGVgXG5cblxuICAgIGlmIChhZGRlZCkge1xuICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHZhciBSRUdFWFBfQ0FNRUxfQ0FTRSA9IC8oW2EtelxcZF0pKFtBLVpdKS9nO1xuICAvKipcbiAgICogVHJhbnNmb3JtIHRoZSBnaXZlbiBzdHJpbmcgZnJvbSBjYW1lbENhc2UgdG8ga2ViYWItY2FzZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgdmFsdWUgdG8gdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgdHJhbnNmb3JtZWQgdmFsdWUuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHRvUGFyYW1DYXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoUkVHRVhQX0NBTUVMX0NBU0UsICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBkYXRhIGZyb20gdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSB0YXJnZXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgZGF0YSBrZXkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZGF0YSB2YWx1ZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0RGF0YShlbGVtZW50LCBuYW1lKSB7XG4gICAgaWYgKGlzT2JqZWN0KGVsZW1lbnRbbmFtZV0pKSB7XG4gICAgICByZXR1cm4gZWxlbWVudFtuYW1lXTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5kYXRhc2V0KSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5kYXRhc2V0W25hbWVdO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtXCIuY29uY2F0KHRvUGFyYW1DYXNlKG5hbWUpKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBkYXRhIHRvIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIGRhdGEga2V5IHRvIHNldC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEgLSBUaGUgZGF0YSB2YWx1ZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gc2V0RGF0YShlbGVtZW50LCBuYW1lLCBkYXRhKSB7XG4gICAgaWYgKGlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICBlbGVtZW50W25hbWVdID0gZGF0YTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZGF0YXNldCkge1xuICAgICAgZWxlbWVudC5kYXRhc2V0W25hbWVdID0gZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLVwiLmNvbmNhdCh0b1BhcmFtQ2FzZShuYW1lKSksIGRhdGEpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGRhdGEgZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIHRhcmdldCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBkYXRhIGtleSB0byByZW1vdmUuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJlbW92ZURhdGEoZWxlbWVudCwgbmFtZSkge1xuICAgIGlmIChpc09iamVjdChlbGVtZW50W25hbWVdKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGVsZXRlIGVsZW1lbnRbbmFtZV07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlbGVtZW50W25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5kYXRhc2V0KSB7XG4gICAgICAvLyAjMTI4IFNhZmFyaSBub3QgYWxsb3dzIHRvIGRlbGV0ZSBkYXRhc2V0IHByb3BlcnR5XG4gICAgICB0cnkge1xuICAgICAgICBkZWxldGUgZWxlbWVudC5kYXRhc2V0W25hbWVdO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZWxlbWVudC5kYXRhc2V0W25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtXCIuY29uY2F0KHRvUGFyYW1DYXNlKG5hbWUpKSk7XG4gICAgfVxuICB9XG4gIHZhciBSRUdFWFBfU1BBQ0VTID0gL1xcc1xccyovO1xuXG4gIHZhciBvbmNlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdXBwb3J0ZWQgPSBmYWxzZTtcblxuICAgIGlmIChJU19CUk9XU0VSKSB7XG4gICAgICB2YXIgb25jZSA9IGZhbHNlO1xuXG4gICAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiBsaXN0ZW5lcigpIHt9O1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ29uY2UnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIG9uY2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgc2V0dGVyIGNhbiBmaXggYSBgVHlwZUVycm9yYCBpbiBzdHJpY3QgbW9kZVxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvRXJyb3JzL0dldHRlcl9vbmx5fVxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVGhlIHZhbHVlIHRvIHNldFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICBvbmNlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgV0lORE9XLmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgICBXSU5ET1cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3VwcG9ydGVkO1xuICB9KCk7XG4gIC8qKlxuICAgKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXIgZnJvbSB0aGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBldmVudCB0YXJnZXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIGV2ZW50IHR5cGUocykuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIC0gVGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBldmVudCBvcHRpb25zLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGVsZW1lbnQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgIHZhciBoYW5kbGVyID0gbGlzdGVuZXI7XG4gICAgdHlwZS50cmltKCkuc3BsaXQoUkVHRVhQX1NQQUNFUykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmICghb25jZVN1cHBvcnRlZCkge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gZWxlbWVudC5saXN0ZW5lcnM7XG5cbiAgICAgICAgaWYgKGxpc3RlbmVycyAmJiBsaXN0ZW5lcnNbZXZlbnRdICYmIGxpc3RlbmVyc1tldmVudF1bbGlzdGVuZXJdKSB7XG4gICAgICAgICAgaGFuZGxlciA9IGxpc3RlbmVyc1tldmVudF1bbGlzdGVuZXJdO1xuICAgICAgICAgIGRlbGV0ZSBsaXN0ZW5lcnNbZXZlbnRdW2xpc3RlbmVyXTtcblxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhsaXN0ZW5lcnNbZXZlbnRdKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGRlbGV0ZSBsaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhsaXN0ZW5lcnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGVsZXRlIGVsZW1lbnQubGlzdGVuZXJzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIHRhcmdldCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgZXZlbnQgdGFyZ2V0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBldmVudCB0eXBlKHMpLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciAtIFRoZSBldmVudCBsaXN0ZW5lci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBUaGUgZXZlbnQgb3B0aW9ucy5cbiAgICovXG5cbiAgZnVuY3Rpb24gYWRkTGlzdGVuZXIoZWxlbWVudCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgdmFyIF9oYW5kbGVyID0gbGlzdGVuZXI7XG4gICAgdHlwZS50cmltKCkuc3BsaXQoUkVHRVhQX1NQQUNFUykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChvcHRpb25zLm9uY2UgJiYgIW9uY2VTdXBwb3J0ZWQpIHtcbiAgICAgICAgdmFyIF9lbGVtZW50JGxpc3RlbmVycyA9IGVsZW1lbnQubGlzdGVuZXJzLFxuICAgICAgICAgICAgbGlzdGVuZXJzID0gX2VsZW1lbnQkbGlzdGVuZXJzID09PSB2b2lkIDAgPyB7fSA6IF9lbGVtZW50JGxpc3RlbmVycztcblxuICAgICAgICBfaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgICAgZGVsZXRlIGxpc3RlbmVyc1tldmVudF1bbGlzdGVuZXJdO1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgX2hhbmRsZXIsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXIuYXBwbHkoZWxlbWVudCwgYXJncyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCFsaXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAgICAgbGlzdGVuZXJzW2V2ZW50XSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3RlbmVyc1tldmVudF1bbGlzdGVuZXJdKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbZXZlbnRdW2xpc3RlbmVyXSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0ZW5lcnNbZXZlbnRdW2xpc3RlbmVyXSA9IF9oYW5kbGVyO1xuICAgICAgICBlbGVtZW50Lmxpc3RlbmVycyA9IGxpc3RlbmVycztcbiAgICAgIH1cblxuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBfaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIERpc3BhdGNoIGV2ZW50IG9uIHRoZSB0YXJnZXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIGV2ZW50IHRhcmdldC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgZXZlbnQgdHlwZShzKS5cbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgYWRkaXRpb25hbCBldmVudCBkYXRhLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSW5kaWNhdGUgaWYgdGhlIGV2ZW50IGlzIGRlZmF1bHQgcHJldmVudGVkIG9yIG5vdC5cbiAgICovXG5cbiAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChlbGVtZW50LCB0eXBlLCBkYXRhKSB7XG4gICAgdmFyIGV2ZW50OyAvLyBFdmVudCBhbmQgQ3VzdG9tRXZlbnQgb24gSUU5LTExIGFyZSBnbG9iYWwgb2JqZWN0cywgbm90IGNvbnN0cnVjdG9yc1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oRXZlbnQpICYmIGlzRnVuY3Rpb24oQ3VzdG9tRXZlbnQpKSB7XG4gICAgICBldmVudCA9IG5ldyBDdXN0b21FdmVudCh0eXBlLCB7XG4gICAgICAgIGRldGFpbDogZGF0YSxcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgICBldmVudC5pbml0Q3VzdG9tRXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSwgZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgb2Zmc2V0IGJhc2Ugb24gdGhlIGRvY3VtZW50LlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBvZmZzZXQgZGF0YS5cbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0T2Zmc2V0KGVsZW1lbnQpIHtcbiAgICB2YXIgYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogYm94LmxlZnQgKyAod2luZG93LnBhZ2VYT2Zmc2V0IC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQpLFxuICAgICAgdG9wOiBib3gudG9wICsgKHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3ApXG4gICAgfTtcbiAgfVxuICB2YXIgbG9jYXRpb24gPSBXSU5ET1cubG9jYXRpb247XG4gIHZhciBSRUdFWFBfT1JJR0lOUyA9IC9eKFxcdys6KVxcL1xcLyhbXjovPyNdKik6PyhcXGQqKS9pO1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIFVSTCBpcyBhIGNyb3NzIG9yaWdpbiBVUkwuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdGFyZ2V0IFVSTC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiBVUkwgaXMgYSBjcm9zcyBvcmlnaW4gVVJMLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGlzQ3Jvc3NPcmlnaW5VUkwodXJsKSB7XG4gICAgdmFyIHBhcnRzID0gdXJsLm1hdGNoKFJFR0VYUF9PUklHSU5TKTtcbiAgICByZXR1cm4gcGFydHMgIT09IG51bGwgJiYgKHBhcnRzWzFdICE9PSBsb2NhdGlvbi5wcm90b2NvbCB8fCBwYXJ0c1syXSAhPT0gbG9jYXRpb24uaG9zdG5hbWUgfHwgcGFydHNbM10gIT09IGxvY2F0aW9uLnBvcnQpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgdGltZXN0YW1wIHRvIHRoZSBnaXZlbiBVUkwuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdGFyZ2V0IFVSTC5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHJlc3VsdCBVUkwuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFkZFRpbWVzdGFtcCh1cmwpIHtcbiAgICB2YXIgdGltZXN0YW1wID0gXCJ0aW1lc3RhbXA9XCIuY29uY2F0KG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgICByZXR1cm4gdXJsICsgKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHRpbWVzdGFtcDtcbiAgfVxuICAvKipcbiAgICogR2V0IHRyYW5zZm9ybXMgYmFzZSBvbiB0aGUgZ2l2ZW4gb2JqZWN0LlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gVGhlIHRhcmdldCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEEgc3RyaW5nIGNvbnRhaW5zIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldFRyYW5zZm9ybXMoX3JlZikge1xuICAgIHZhciByb3RhdGUgPSBfcmVmLnJvdGF0ZSxcbiAgICAgICAgc2NhbGVYID0gX3JlZi5zY2FsZVgsXG4gICAgICAgIHNjYWxlWSA9IF9yZWYuc2NhbGVZLFxuICAgICAgICB0cmFuc2xhdGVYID0gX3JlZi50cmFuc2xhdGVYLFxuICAgICAgICB0cmFuc2xhdGVZID0gX3JlZi50cmFuc2xhdGVZO1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgIGlmIChpc051bWJlcih0cmFuc2xhdGVYKSAmJiB0cmFuc2xhdGVYICE9PSAwKSB7XG4gICAgICB2YWx1ZXMucHVzaChcInRyYW5zbGF0ZVgoXCIuY29uY2F0KHRyYW5zbGF0ZVgsIFwicHgpXCIpKTtcbiAgICB9XG5cbiAgICBpZiAoaXNOdW1iZXIodHJhbnNsYXRlWSkgJiYgdHJhbnNsYXRlWSAhPT0gMCkge1xuICAgICAgdmFsdWVzLnB1c2goXCJ0cmFuc2xhdGVZKFwiLmNvbmNhdCh0cmFuc2xhdGVZLCBcInB4KVwiKSk7XG4gICAgfSAvLyBSb3RhdGUgc2hvdWxkIGNvbWUgZmlyc3QgYmVmb3JlIHNjYWxlIHRvIG1hdGNoIG9yaWVudGF0aW9uIHRyYW5zZm9ybVxuXG5cbiAgICBpZiAoaXNOdW1iZXIocm90YXRlKSAmJiByb3RhdGUgIT09IDApIHtcbiAgICAgIHZhbHVlcy5wdXNoKFwicm90YXRlKFwiLmNvbmNhdChyb3RhdGUsIFwiZGVnKVwiKSk7XG4gICAgfVxuXG4gICAgaWYgKGlzTnVtYmVyKHNjYWxlWCkgJiYgc2NhbGVYICE9PSAxKSB7XG4gICAgICB2YWx1ZXMucHVzaChcInNjYWxlWChcIi5jb25jYXQoc2NhbGVYLCBcIilcIikpO1xuICAgIH1cblxuICAgIGlmIChpc051bWJlcihzY2FsZVkpICYmIHNjYWxlWSAhPT0gMSkge1xuICAgICAgdmFsdWVzLnB1c2goXCJzY2FsZVkoXCIuY29uY2F0KHNjYWxlWSwgXCIpXCIpKTtcbiAgICB9XG5cbiAgICB2YXIgdHJhbnNmb3JtID0gdmFsdWVzLmxlbmd0aCA/IHZhbHVlcy5qb2luKCcgJykgOiAnbm9uZSc7XG4gICAgcmV0dXJuIHtcbiAgICAgIFdlYmtpdFRyYW5zZm9ybTogdHJhbnNmb3JtLFxuICAgICAgbXNUcmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBtYXggcmF0aW8gb2YgYSBncm91cCBvZiBwb2ludGVycy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBvaW50ZXJzIC0gVGhlIHRhcmdldCBwb2ludGVycy5cbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIHJlc3VsdCByYXRpby5cbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0TWF4Wm9vbVJhdGlvKHBvaW50ZXJzKSB7XG4gICAgdmFyIHBvaW50ZXJzMiA9IF9vYmplY3RTcHJlYWQyKHt9LCBwb2ludGVycyk7XG5cbiAgICB2YXIgcmF0aW9zID0gW107XG4gICAgZm9yRWFjaChwb2ludGVycywgZnVuY3Rpb24gKHBvaW50ZXIsIHBvaW50ZXJJZCkge1xuICAgICAgZGVsZXRlIHBvaW50ZXJzMltwb2ludGVySWRdO1xuICAgICAgZm9yRWFjaChwb2ludGVyczIsIGZ1bmN0aW9uIChwb2ludGVyMikge1xuICAgICAgICB2YXIgeDEgPSBNYXRoLmFicyhwb2ludGVyLnN0YXJ0WCAtIHBvaW50ZXIyLnN0YXJ0WCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGguYWJzKHBvaW50ZXIuc3RhcnRZIC0gcG9pbnRlcjIuc3RhcnRZKTtcbiAgICAgICAgdmFyIHgyID0gTWF0aC5hYnMocG9pbnRlci5lbmRYIC0gcG9pbnRlcjIuZW5kWCk7XG4gICAgICAgIHZhciB5MiA9IE1hdGguYWJzKHBvaW50ZXIuZW5kWSAtIHBvaW50ZXIyLmVuZFkpO1xuICAgICAgICB2YXIgejEgPSBNYXRoLnNxcnQoeDEgKiB4MSArIHkxICogeTEpO1xuICAgICAgICB2YXIgejIgPSBNYXRoLnNxcnQoeDIgKiB4MiArIHkyICogeTIpO1xuICAgICAgICB2YXIgcmF0aW8gPSAoejIgLSB6MSkgLyB6MTtcbiAgICAgICAgcmF0aW9zLnB1c2gocmF0aW8pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmF0aW9zLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBNYXRoLmFicyhhKSA8IE1hdGguYWJzKGIpO1xuICAgIH0pO1xuICAgIHJldHVybiByYXRpb3NbMF07XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHBvaW50ZXIgZnJvbSBhbiBldmVudCBvYmplY3QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCAtIFRoZSB0YXJnZXQgZXZlbnQgb2JqZWN0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuZE9ubHkgLSBJbmRpY2F0ZXMgaWYgb25seSByZXR1cm5zIHRoZSBlbmQgcG9pbnQgY29vcmRpbmF0ZSBvciBub3QuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXN1bHQgcG9pbnRlciBjb250YWlucyBzdGFydCBhbmQvb3IgZW5kIHBvaW50IGNvb3JkaW5hdGVzLlxuICAgKi9cblxuICBmdW5jdGlvbiBnZXRQb2ludGVyKF9yZWYyLCBlbmRPbmx5KSB7XG4gICAgdmFyIHBhZ2VYID0gX3JlZjIucGFnZVgsXG4gICAgICAgIHBhZ2VZID0gX3JlZjIucGFnZVk7XG4gICAgdmFyIGVuZCA9IHtcbiAgICAgIGVuZFg6IHBhZ2VYLFxuICAgICAgZW5kWTogcGFnZVlcbiAgICB9O1xuICAgIHJldHVybiBlbmRPbmx5ID8gZW5kIDogX29iamVjdFNwcmVhZDIoe1xuICAgICAgc3RhcnRYOiBwYWdlWCxcbiAgICAgIHN0YXJ0WTogcGFnZVlcbiAgICB9LCBlbmQpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGNlbnRlciBwb2ludCBjb29yZGluYXRlIG9mIGEgZ3JvdXAgb2YgcG9pbnRlcnMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVycyAtIFRoZSB0YXJnZXQgcG9pbnRlcnMuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBjZW50ZXIgcG9pbnQgY29vcmRpbmF0ZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0UG9pbnRlcnNDZW50ZXIocG9pbnRlcnMpIHtcbiAgICB2YXIgcGFnZVggPSAwO1xuICAgIHZhciBwYWdlWSA9IDA7XG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICBmb3JFYWNoKHBvaW50ZXJzLCBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgIHZhciBzdGFydFggPSBfcmVmMy5zdGFydFgsXG4gICAgICAgICAgc3RhcnRZID0gX3JlZjMuc3RhcnRZO1xuICAgICAgcGFnZVggKz0gc3RhcnRYO1xuICAgICAgcGFnZVkgKz0gc3RhcnRZO1xuICAgICAgY291bnQgKz0gMTtcbiAgICB9KTtcbiAgICBwYWdlWCAvPSBjb3VudDtcbiAgICBwYWdlWSAvPSBjb3VudDtcbiAgICByZXR1cm4ge1xuICAgICAgcGFnZVg6IHBhZ2VYLFxuICAgICAgcGFnZVk6IHBhZ2VZXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBtYXggc2l6ZXMgaW4gYSByZWN0YW5nbGUgdW5kZXIgdGhlIGdpdmVuIGFzcGVjdCByYXRpby5cbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgb3JpZ2luYWwgc2l6ZXMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZT0nY29udGFpbiddIC0gVGhlIGFkanVzdCB0eXBlLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0IHNpemVzLlxuICAgKi9cblxuICBmdW5jdGlvbiBnZXRBZGp1c3RlZFNpemVzKF9yZWY0KSAvLyBvciAnY292ZXInXG4gIHtcbiAgICB2YXIgYXNwZWN0UmF0aW8gPSBfcmVmNC5hc3BlY3RSYXRpbyxcbiAgICAgICAgaGVpZ2h0ID0gX3JlZjQuaGVpZ2h0LFxuICAgICAgICB3aWR0aCA9IF9yZWY0LndpZHRoO1xuICAgIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnY29udGFpbic7XG4gICAgdmFyIGlzVmFsaWRXaWR0aCA9IGlzUG9zaXRpdmVOdW1iZXIod2lkdGgpO1xuICAgIHZhciBpc1ZhbGlkSGVpZ2h0ID0gaXNQb3NpdGl2ZU51bWJlcihoZWlnaHQpO1xuXG4gICAgaWYgKGlzVmFsaWRXaWR0aCAmJiBpc1ZhbGlkSGVpZ2h0KSB7XG4gICAgICB2YXIgYWRqdXN0ZWRXaWR0aCA9IGhlaWdodCAqIGFzcGVjdFJhdGlvO1xuXG4gICAgICBpZiAodHlwZSA9PT0gJ2NvbnRhaW4nICYmIGFkanVzdGVkV2lkdGggPiB3aWR0aCB8fCB0eXBlID09PSAnY292ZXInICYmIGFkanVzdGVkV2lkdGggPCB3aWR0aCkge1xuICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzVmFsaWRXaWR0aCkge1xuICAgICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICB9IGVsc2UgaWYgKGlzVmFsaWRIZWlnaHQpIHtcbiAgICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBuZXcgc2l6ZXMgb2YgYSByZWN0YW5nbGUgYWZ0ZXIgcm90YXRlZC5cbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgb3JpZ2luYWwgc2l6ZXMuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXN1bHQgc2l6ZXMuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldFJvdGF0ZWRTaXplcyhfcmVmNSkge1xuICAgIHZhciB3aWR0aCA9IF9yZWY1LndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBfcmVmNS5oZWlnaHQsXG4gICAgICAgIGRlZ3JlZSA9IF9yZWY1LmRlZ3JlZTtcbiAgICBkZWdyZWUgPSBNYXRoLmFicyhkZWdyZWUpICUgMTgwO1xuXG4gICAgaWYgKGRlZ3JlZSA9PT0gOTApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBoZWlnaHQsXG4gICAgICAgIGhlaWdodDogd2lkdGhcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGFyYyA9IGRlZ3JlZSAlIDkwICogTWF0aC5QSSAvIDE4MDtcbiAgICB2YXIgc2luQXJjID0gTWF0aC5zaW4oYXJjKTtcbiAgICB2YXIgY29zQXJjID0gTWF0aC5jb3MoYXJjKTtcbiAgICB2YXIgbmV3V2lkdGggPSB3aWR0aCAqIGNvc0FyYyArIGhlaWdodCAqIHNpbkFyYztcbiAgICB2YXIgbmV3SGVpZ2h0ID0gd2lkdGggKiBzaW5BcmMgKyBoZWlnaHQgKiBjb3NBcmM7XG4gICAgcmV0dXJuIGRlZ3JlZSA+IDkwID8ge1xuICAgICAgd2lkdGg6IG5ld0hlaWdodCxcbiAgICAgIGhlaWdodDogbmV3V2lkdGhcbiAgICB9IDoge1xuICAgICAgd2lkdGg6IG5ld1dpZHRoLFxuICAgICAgaGVpZ2h0OiBuZXdIZWlnaHRcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBjYW52YXMgd2hpY2ggZHJldyB0aGUgZ2l2ZW4gaW1hZ2UuXG4gICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudH0gaW1hZ2UgLSBUaGUgaW1hZ2UgZm9yIGRyYXdpbmcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbWFnZURhdGEgLSBUaGUgaW1hZ2UgZGF0YS5cbiAgICogQHBhcmFtIHtPYmplY3R9IGNhbnZhc0RhdGEgLSBUaGUgY2FudmFzIGRhdGEuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtIVE1MQ2FudmFzRWxlbWVudH0gVGhlIHJlc3VsdCBjYW52YXMuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldFNvdXJjZUNhbnZhcyhpbWFnZSwgX3JlZjYsIF9yZWY3LCBfcmVmOCkge1xuICAgIHZhciBpbWFnZUFzcGVjdFJhdGlvID0gX3JlZjYuYXNwZWN0UmF0aW8sXG4gICAgICAgIGltYWdlTmF0dXJhbFdpZHRoID0gX3JlZjYubmF0dXJhbFdpZHRoLFxuICAgICAgICBpbWFnZU5hdHVyYWxIZWlnaHQgPSBfcmVmNi5uYXR1cmFsSGVpZ2h0LFxuICAgICAgICBfcmVmNiRyb3RhdGUgPSBfcmVmNi5yb3RhdGUsXG4gICAgICAgIHJvdGF0ZSA9IF9yZWY2JHJvdGF0ZSA9PT0gdm9pZCAwID8gMCA6IF9yZWY2JHJvdGF0ZSxcbiAgICAgICAgX3JlZjYkc2NhbGVYID0gX3JlZjYuc2NhbGVYLFxuICAgICAgICBzY2FsZVggPSBfcmVmNiRzY2FsZVggPT09IHZvaWQgMCA/IDEgOiBfcmVmNiRzY2FsZVgsXG4gICAgICAgIF9yZWY2JHNjYWxlWSA9IF9yZWY2LnNjYWxlWSxcbiAgICAgICAgc2NhbGVZID0gX3JlZjYkc2NhbGVZID09PSB2b2lkIDAgPyAxIDogX3JlZjYkc2NhbGVZO1xuICAgIHZhciBhc3BlY3RSYXRpbyA9IF9yZWY3LmFzcGVjdFJhdGlvLFxuICAgICAgICBuYXR1cmFsV2lkdGggPSBfcmVmNy5uYXR1cmFsV2lkdGgsXG4gICAgICAgIG5hdHVyYWxIZWlnaHQgPSBfcmVmNy5uYXR1cmFsSGVpZ2h0O1xuICAgIHZhciBfcmVmOCRmaWxsQ29sb3IgPSBfcmVmOC5maWxsQ29sb3IsXG4gICAgICAgIGZpbGxDb2xvciA9IF9yZWY4JGZpbGxDb2xvciA9PT0gdm9pZCAwID8gJ3RyYW5zcGFyZW50JyA6IF9yZWY4JGZpbGxDb2xvcixcbiAgICAgICAgX3JlZjgkaW1hZ2VTbW9vdGhpbmdFID0gX3JlZjguaW1hZ2VTbW9vdGhpbmdFbmFibGVkLFxuICAgICAgICBpbWFnZVNtb290aGluZ0VuYWJsZWQgPSBfcmVmOCRpbWFnZVNtb290aGluZ0UgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmOCRpbWFnZVNtb290aGluZ0UsXG4gICAgICAgIF9yZWY4JGltYWdlU21vb3RoaW5nUSA9IF9yZWY4LmltYWdlU21vb3RoaW5nUXVhbGl0eSxcbiAgICAgICAgaW1hZ2VTbW9vdGhpbmdRdWFsaXR5ID0gX3JlZjgkaW1hZ2VTbW9vdGhpbmdRID09PSB2b2lkIDAgPyAnbG93JyA6IF9yZWY4JGltYWdlU21vb3RoaW5nUSxcbiAgICAgICAgX3JlZjgkbWF4V2lkdGggPSBfcmVmOC5tYXhXaWR0aCxcbiAgICAgICAgbWF4V2lkdGggPSBfcmVmOCRtYXhXaWR0aCA9PT0gdm9pZCAwID8gSW5maW5pdHkgOiBfcmVmOCRtYXhXaWR0aCxcbiAgICAgICAgX3JlZjgkbWF4SGVpZ2h0ID0gX3JlZjgubWF4SGVpZ2h0LFxuICAgICAgICBtYXhIZWlnaHQgPSBfcmVmOCRtYXhIZWlnaHQgPT09IHZvaWQgMCA/IEluZmluaXR5IDogX3JlZjgkbWF4SGVpZ2h0LFxuICAgICAgICBfcmVmOCRtaW5XaWR0aCA9IF9yZWY4Lm1pbldpZHRoLFxuICAgICAgICBtaW5XaWR0aCA9IF9yZWY4JG1pbldpZHRoID09PSB2b2lkIDAgPyAwIDogX3JlZjgkbWluV2lkdGgsXG4gICAgICAgIF9yZWY4JG1pbkhlaWdodCA9IF9yZWY4Lm1pbkhlaWdodCxcbiAgICAgICAgbWluSGVpZ2h0ID0gX3JlZjgkbWluSGVpZ2h0ID09PSB2b2lkIDAgPyAwIDogX3JlZjgkbWluSGVpZ2h0O1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHZhciBtYXhTaXplcyA9IGdldEFkanVzdGVkU2l6ZXMoe1xuICAgICAgYXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvLFxuICAgICAgd2lkdGg6IG1heFdpZHRoLFxuICAgICAgaGVpZ2h0OiBtYXhIZWlnaHRcbiAgICB9KTtcbiAgICB2YXIgbWluU2l6ZXMgPSBnZXRBZGp1c3RlZFNpemVzKHtcbiAgICAgIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpbyxcbiAgICAgIHdpZHRoOiBtaW5XaWR0aCxcbiAgICAgIGhlaWdodDogbWluSGVpZ2h0XG4gICAgfSwgJ2NvdmVyJyk7XG4gICAgdmFyIHdpZHRoID0gTWF0aC5taW4obWF4U2l6ZXMud2lkdGgsIE1hdGgubWF4KG1pblNpemVzLndpZHRoLCBuYXR1cmFsV2lkdGgpKTtcbiAgICB2YXIgaGVpZ2h0ID0gTWF0aC5taW4obWF4U2l6ZXMuaGVpZ2h0LCBNYXRoLm1heChtaW5TaXplcy5oZWlnaHQsIG5hdHVyYWxIZWlnaHQpKTsgLy8gTm90ZTogc2hvdWxkIGFsd2F5cyB1c2UgaW1hZ2UncyBuYXR1cmFsIHNpemVzIGZvciBkcmF3aW5nIGFzXG4gICAgLy8gaW1hZ2VEYXRhLm5hdHVyYWxXaWR0aCA9PT0gY2FudmFzRGF0YS5uYXR1cmFsSGVpZ2h0IHdoZW4gcm90YXRlICUgMTgwID09PSA5MFxuXG4gICAgdmFyIGRlc3RNYXhTaXplcyA9IGdldEFkanVzdGVkU2l6ZXMoe1xuICAgICAgYXNwZWN0UmF0aW86IGltYWdlQXNwZWN0UmF0aW8sXG4gICAgICB3aWR0aDogbWF4V2lkdGgsXG4gICAgICBoZWlnaHQ6IG1heEhlaWdodFxuICAgIH0pO1xuICAgIHZhciBkZXN0TWluU2l6ZXMgPSBnZXRBZGp1c3RlZFNpemVzKHtcbiAgICAgIGFzcGVjdFJhdGlvOiBpbWFnZUFzcGVjdFJhdGlvLFxuICAgICAgd2lkdGg6IG1pbldpZHRoLFxuICAgICAgaGVpZ2h0OiBtaW5IZWlnaHRcbiAgICB9LCAnY292ZXInKTtcbiAgICB2YXIgZGVzdFdpZHRoID0gTWF0aC5taW4oZGVzdE1heFNpemVzLndpZHRoLCBNYXRoLm1heChkZXN0TWluU2l6ZXMud2lkdGgsIGltYWdlTmF0dXJhbFdpZHRoKSk7XG4gICAgdmFyIGRlc3RIZWlnaHQgPSBNYXRoLm1pbihkZXN0TWF4U2l6ZXMuaGVpZ2h0LCBNYXRoLm1heChkZXN0TWluU2l6ZXMuaGVpZ2h0LCBpbWFnZU5hdHVyYWxIZWlnaHQpKTtcbiAgICB2YXIgcGFyYW1zID0gWy1kZXN0V2lkdGggLyAyLCAtZGVzdEhlaWdodCAvIDIsIGRlc3RXaWR0aCwgZGVzdEhlaWdodF07XG4gICAgY2FudmFzLndpZHRoID0gbm9ybWFsaXplRGVjaW1hbE51bWJlcih3aWR0aCk7XG4gICAgY2FudmFzLmhlaWdodCA9IG5vcm1hbGl6ZURlY2ltYWxOdW1iZXIoaGVpZ2h0KTtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxDb2xvcjtcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGNvbnRleHQudHJhbnNsYXRlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgY29udGV4dC5yb3RhdGUocm90YXRlICogTWF0aC5QSSAvIDE4MCk7XG4gICAgY29udGV4dC5zY2FsZShzY2FsZVgsIHNjYWxlWSk7XG4gICAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBpbWFnZVNtb290aGluZ0VuYWJsZWQ7XG4gICAgY29udGV4dC5pbWFnZVNtb290aGluZ1F1YWxpdHkgPSBpbWFnZVNtb290aGluZ1F1YWxpdHk7XG4gICAgY29udGV4dC5kcmF3SW1hZ2UuYXBwbHkoY29udGV4dCwgW2ltYWdlXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihub3JtYWxpemVEZWNpbWFsTnVtYmVyKHBhcmFtKSk7XG4gICAgfSkpKSk7XG4gICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgcmV0dXJuIGNhbnZhcztcbiAgfVxuICB2YXIgZnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgZnJvbSBjaGFyIGNvZGUgaW4gZGF0YSB2aWV3LlxuICAgKiBAcGFyYW0ge0RhdGFWaWV3fSBkYXRhVmlldyAtIFRoZSBkYXRhIHZpZXcgZm9yIHJlYWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIFRoZSBzdGFydCBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCAtIFRoZSByZWFkIGxlbmd0aC5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHJlYWQgcmVzdWx0LlxuICAgKi9cblxuICBmdW5jdGlvbiBnZXRTdHJpbmdGcm9tQ2hhckNvZGUoZGF0YVZpZXcsIHN0YXJ0LCBsZW5ndGgpIHtcbiAgICB2YXIgc3RyID0gJyc7XG4gICAgbGVuZ3RoICs9IHN0YXJ0O1xuXG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHN0ciArPSBmcm9tQ2hhckNvZGUoZGF0YVZpZXcuZ2V0VWludDgoaSkpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgdmFyIFJFR0VYUF9EQVRBX1VSTF9IRUFEID0gL15kYXRhOi4qLC87XG4gIC8qKlxuICAgKiBUcmFuc2Zvcm0gRGF0YSBVUkwgdG8gYXJyYXkgYnVmZmVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVSTCAtIFRoZSBEYXRhIFVSTCB0byB0cmFuc2Zvcm0uXG4gICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gVGhlIHJlc3VsdCBhcnJheSBidWZmZXIuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGRhdGFVUkxUb0FycmF5QnVmZmVyKGRhdGFVUkwpIHtcbiAgICB2YXIgYmFzZTY0ID0gZGF0YVVSTC5yZXBsYWNlKFJFR0VYUF9EQVRBX1VSTF9IRUFELCAnJyk7XG4gICAgdmFyIGJpbmFyeSA9IGF0b2IoYmFzZTY0KTtcbiAgICB2YXIgYXJyYXlCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYmluYXJ5Lmxlbmd0aCk7XG4gICAgdmFyIHVpbnQ4ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuICAgIGZvckVhY2godWludDgsIGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuICAgICAgdWludDhbaV0gPSBiaW5hcnkuY2hhckNvZGVBdChpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYXJyYXlCdWZmZXI7XG4gIH1cbiAgLyoqXG4gICAqIFRyYW5zZm9ybSBhcnJheSBidWZmZXIgdG8gRGF0YSBVUkwuXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIC0gVGhlIGFycmF5IGJ1ZmZlciB0byB0cmFuc2Zvcm0uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtaW1lVHlwZSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIERhdGEgVVJMLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcmVzdWx0IERhdGEgVVJMLlxuICAgKi9cblxuICBmdW5jdGlvbiBhcnJheUJ1ZmZlclRvRGF0YVVSTChhcnJheUJ1ZmZlciwgbWltZVR5cGUpIHtcbiAgICB2YXIgY2h1bmtzID0gW107IC8vIENodW5rIFR5cGVkIEFycmF5IGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UgKCM0MzUpXG5cbiAgICB2YXIgY2h1bmtTaXplID0gODE5MjtcbiAgICB2YXIgdWludDggPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XG5cbiAgICB3aGlsZSAodWludDgubGVuZ3RoID4gMCkge1xuICAgICAgLy8gWFhYOiBCYWJlbCdzIGB0b0NvbnN1bWFibGVBcnJheWAgaGVscGVyIHdpbGwgdGhyb3cgZXJyb3IgaW4gSUUgb3IgU2FmYXJpIDlcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgICBjaHVua3MucHVzaChmcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgdG9BcnJheSh1aW50OC5zdWJhcnJheSgwLCBjaHVua1NpemUpKSkpO1xuICAgICAgdWludDggPSB1aW50OC5zdWJhcnJheShjaHVua1NpemUpO1xuICAgIH1cblxuICAgIHJldHVybiBcImRhdGE6XCIuY29uY2F0KG1pbWVUeXBlLCBcIjtiYXNlNjQsXCIpLmNvbmNhdChidG9hKGNodW5rcy5qb2luKCcnKSkpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgb3JpZW50YXRpb24gdmFsdWUgZnJvbSBnaXZlbiBhcnJheSBidWZmZXIuXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIC0gVGhlIGFycmF5IGJ1ZmZlciB0byByZWFkLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgcmVhZCBvcmllbnRhdGlvbiB2YWx1ZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gcmVzZXRBbmRHZXRPcmllbnRhdGlvbihhcnJheUJ1ZmZlcikge1xuICAgIHZhciBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gICAgdmFyIG9yaWVudGF0aW9uOyAvLyBJZ25vcmVzIHJhbmdlIGVycm9yIHdoZW4gdGhlIGltYWdlIGRvZXMgbm90IGhhdmUgY29ycmVjdCBFeGlmIGluZm9ybWF0aW9uXG5cbiAgICB0cnkge1xuICAgICAgdmFyIGxpdHRsZUVuZGlhbjtcbiAgICAgIHZhciBhcHAxU3RhcnQ7XG4gICAgICB2YXIgaWZkU3RhcnQ7IC8vIE9ubHkgaGFuZGxlIEpQRUcgaW1hZ2UgKHN0YXJ0IGJ5IDB4RkZEOClcblxuICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQ4KDApID09PSAweEZGICYmIGRhdGFWaWV3LmdldFVpbnQ4KDEpID09PSAweEQ4KSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBkYXRhVmlldy5ieXRlTGVuZ3RoO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gMjtcblxuICAgICAgICB3aGlsZSAob2Zmc2V0ICsgMSA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50OChvZmZzZXQpID09PSAweEZGICYmIGRhdGFWaWV3LmdldFVpbnQ4KG9mZnNldCArIDEpID09PSAweEUxKSB7XG4gICAgICAgICAgICBhcHAxU3RhcnQgPSBvZmZzZXQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvZmZzZXQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYXBwMVN0YXJ0KSB7XG4gICAgICAgIHZhciBleGlmSURDb2RlID0gYXBwMVN0YXJ0ICsgNDtcbiAgICAgICAgdmFyIHRpZmZPZmZzZXQgPSBhcHAxU3RhcnQgKyAxMDtcblxuICAgICAgICBpZiAoZ2V0U3RyaW5nRnJvbUNoYXJDb2RlKGRhdGFWaWV3LCBleGlmSURDb2RlLCA0KSA9PT0gJ0V4aWYnKSB7XG4gICAgICAgICAgdmFyIGVuZGlhbm5lc3MgPSBkYXRhVmlldy5nZXRVaW50MTYodGlmZk9mZnNldCk7XG4gICAgICAgICAgbGl0dGxlRW5kaWFuID0gZW5kaWFubmVzcyA9PT0gMHg0OTQ5O1xuXG4gICAgICAgICAgaWYgKGxpdHRsZUVuZGlhbiB8fCBlbmRpYW5uZXNzID09PSAweDRENERcbiAgICAgICAgICAvKiBiaWdFbmRpYW4gKi9cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQxNih0aWZmT2Zmc2V0ICsgMiwgbGl0dGxlRW5kaWFuKSA9PT0gMHgwMDJBKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0SUZET2Zmc2V0ID0gZGF0YVZpZXcuZ2V0VWludDMyKHRpZmZPZmZzZXQgKyA0LCBsaXR0bGVFbmRpYW4pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0SUZET2Zmc2V0ID49IDB4MDAwMDAwMDgpIHtcbiAgICAgICAgICAgICAgICAgIGlmZFN0YXJ0ID0gdGlmZk9mZnNldCArIGZpcnN0SUZET2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpZmRTdGFydCkge1xuICAgICAgICB2YXIgX2xlbmd0aCA9IGRhdGFWaWV3LmdldFVpbnQxNihpZmRTdGFydCwgbGl0dGxlRW5kaWFuKTtcblxuICAgICAgICB2YXIgX29mZnNldDtcblxuICAgICAgICB2YXIgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX2xlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgX29mZnNldCA9IGlmZFN0YXJ0ICsgaSAqIDEyICsgMjtcblxuICAgICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50MTYoX29mZnNldCwgbGl0dGxlRW5kaWFuKSA9PT0gMHgwMTEyXG4gICAgICAgICAgLyogT3JpZW50YXRpb24gKi9cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gOCBpcyB0aGUgb2Zmc2V0IG9mIHRoZSBjdXJyZW50IHRhZydzIHZhbHVlXG4gICAgICAgICAgICAgIF9vZmZzZXQgKz0gODsgLy8gR2V0IHRoZSBvcmlnaW5hbCBvcmllbnRhdGlvbiB2YWx1ZVxuXG4gICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gZGF0YVZpZXcuZ2V0VWludDE2KF9vZmZzZXQsIGxpdHRsZUVuZGlhbik7IC8vIE92ZXJyaWRlIHRoZSBvcmllbnRhdGlvbiB3aXRoIGl0cyBkZWZhdWx0IHZhbHVlXG5cbiAgICAgICAgICAgICAgZGF0YVZpZXcuc2V0VWludDE2KF9vZmZzZXQsIDEsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG9yaWVudGF0aW9uID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3JpZW50YXRpb247XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIEV4aWYgT3JpZW50YXRpb24gdmFsdWUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvcmllbnRhdGlvbiAtIFRoZSBvcmllbnRhdGlvbiB0byBwYXJzZS5cbiAgICogQHJldHVybnMge09iamVjdH0gVGhlIHBhcnNlZCByZXN1bHQuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHBhcnNlT3JpZW50YXRpb24ob3JpZW50YXRpb24pIHtcbiAgICB2YXIgcm90YXRlID0gMDtcbiAgICB2YXIgc2NhbGVYID0gMTtcbiAgICB2YXIgc2NhbGVZID0gMTtcblxuICAgIHN3aXRjaCAob3JpZW50YXRpb24pIHtcbiAgICAgIC8vIEZsaXAgaG9yaXpvbnRhbFxuICAgICAgY2FzZSAyOlxuICAgICAgICBzY2FsZVggPSAtMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBSb3RhdGUgbGVmdCAxODDCsFxuXG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJvdGF0ZSA9IC0xODA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gRmxpcCB2ZXJ0aWNhbFxuXG4gICAgICBjYXNlIDQ6XG4gICAgICAgIHNjYWxlWSA9IC0xO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIEZsaXAgdmVydGljYWwgYW5kIHJvdGF0ZSByaWdodCA5MMKwXG5cbiAgICAgIGNhc2UgNTpcbiAgICAgICAgcm90YXRlID0gOTA7XG4gICAgICAgIHNjYWxlWSA9IC0xO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIFJvdGF0ZSByaWdodCA5MMKwXG5cbiAgICAgIGNhc2UgNjpcbiAgICAgICAgcm90YXRlID0gOTA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gRmxpcCBob3Jpem9udGFsIGFuZCByb3RhdGUgcmlnaHQgOTDCsFxuXG4gICAgICBjYXNlIDc6XG4gICAgICAgIHJvdGF0ZSA9IDkwO1xuICAgICAgICBzY2FsZVggPSAtMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBSb3RhdGUgbGVmdCA5MMKwXG5cbiAgICAgIGNhc2UgODpcbiAgICAgICAgcm90YXRlID0gLTkwO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcm90YXRlOiByb3RhdGUsXG4gICAgICBzY2FsZVg6IHNjYWxlWCxcbiAgICAgIHNjYWxlWTogc2NhbGVZXG4gICAgfTtcbiAgfVxuXG4gIHZhciByZW5kZXIgPSB7XG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB0aGlzLmluaXRDb250YWluZXIoKTtcbiAgICAgIHRoaXMuaW5pdENhbnZhcygpO1xuICAgICAgdGhpcy5pbml0Q3JvcEJveCgpO1xuICAgICAgdGhpcy5yZW5kZXJDYW52YXMoKTtcblxuICAgICAgaWYgKHRoaXMuY3JvcHBlZCkge1xuICAgICAgICB0aGlzLnJlbmRlckNyb3BCb3goKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGluaXRDb250YWluZXI6IGZ1bmN0aW9uIGluaXRDb250YWluZXIoKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgIGNyb3BwZXIgPSB0aGlzLmNyb3BwZXI7XG4gICAgICBhZGRDbGFzcyhjcm9wcGVyLCBDTEFTU19ISURERU4pO1xuICAgICAgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgQ0xBU1NfSElEREVOKTtcbiAgICAgIHZhciBjb250YWluZXJEYXRhID0ge1xuICAgICAgICB3aWR0aDogTWF0aC5tYXgoY29udGFpbmVyLm9mZnNldFdpZHRoLCBOdW1iZXIob3B0aW9ucy5taW5Db250YWluZXJXaWR0aCkgfHwgMjAwKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLm1heChjb250YWluZXIub2Zmc2V0SGVpZ2h0LCBOdW1iZXIob3B0aW9ucy5taW5Db250YWluZXJIZWlnaHQpIHx8IDEwMClcbiAgICAgIH07XG4gICAgICB0aGlzLmNvbnRhaW5lckRhdGEgPSBjb250YWluZXJEYXRhO1xuICAgICAgc2V0U3R5bGUoY3JvcHBlciwge1xuICAgICAgICB3aWR0aDogY29udGFpbmVyRGF0YS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjb250YWluZXJEYXRhLmhlaWdodFxuICAgICAgfSk7XG4gICAgICBhZGRDbGFzcyhlbGVtZW50LCBDTEFTU19ISURERU4pO1xuICAgICAgcmVtb3ZlQ2xhc3MoY3JvcHBlciwgQ0xBU1NfSElEREVOKTtcbiAgICB9LFxuICAgIC8vIENhbnZhcyAoaW1hZ2Ugd3JhcHBlcilcbiAgICBpbml0Q2FudmFzOiBmdW5jdGlvbiBpbml0Q2FudmFzKCkge1xuICAgICAgdmFyIGNvbnRhaW5lckRhdGEgPSB0aGlzLmNvbnRhaW5lckRhdGEsXG4gICAgICAgICAgaW1hZ2VEYXRhID0gdGhpcy5pbWFnZURhdGE7XG4gICAgICB2YXIgdmlld01vZGUgPSB0aGlzLm9wdGlvbnMudmlld01vZGU7XG4gICAgICB2YXIgcm90YXRlZCA9IE1hdGguYWJzKGltYWdlRGF0YS5yb3RhdGUpICUgMTgwID09PSA5MDtcbiAgICAgIHZhciBuYXR1cmFsV2lkdGggPSByb3RhdGVkID8gaW1hZ2VEYXRhLm5hdHVyYWxIZWlnaHQgOiBpbWFnZURhdGEubmF0dXJhbFdpZHRoO1xuICAgICAgdmFyIG5hdHVyYWxIZWlnaHQgPSByb3RhdGVkID8gaW1hZ2VEYXRhLm5hdHVyYWxXaWR0aCA6IGltYWdlRGF0YS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gbmF0dXJhbFdpZHRoIC8gbmF0dXJhbEhlaWdodDtcbiAgICAgIHZhciBjYW52YXNXaWR0aCA9IGNvbnRhaW5lckRhdGEud2lkdGg7XG4gICAgICB2YXIgY2FudmFzSGVpZ2h0ID0gY29udGFpbmVyRGF0YS5oZWlnaHQ7XG5cbiAgICAgIGlmIChjb250YWluZXJEYXRhLmhlaWdodCAqIGFzcGVjdFJhdGlvID4gY29udGFpbmVyRGF0YS53aWR0aCkge1xuICAgICAgICBpZiAodmlld01vZGUgPT09IDMpIHtcbiAgICAgICAgICBjYW52YXNXaWR0aCA9IGNvbnRhaW5lckRhdGEuaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FudmFzSGVpZ2h0ID0gY29udGFpbmVyRGF0YS53aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHZpZXdNb2RlID09PSAzKSB7XG4gICAgICAgIGNhbnZhc0hlaWdodCA9IGNvbnRhaW5lckRhdGEud2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbnZhc1dpZHRoID0gY29udGFpbmVyRGF0YS5oZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbnZhc0RhdGEgPSB7XG4gICAgICAgIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpbyxcbiAgICAgICAgbmF0dXJhbFdpZHRoOiBuYXR1cmFsV2lkdGgsXG4gICAgICAgIG5hdHVyYWxIZWlnaHQ6IG5hdHVyYWxIZWlnaHQsXG4gICAgICAgIHdpZHRoOiBjYW52YXNXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjYW52YXNIZWlnaHRcbiAgICAgIH07XG4gICAgICBjYW52YXNEYXRhLmxlZnQgPSAoY29udGFpbmVyRGF0YS53aWR0aCAtIGNhbnZhc1dpZHRoKSAvIDI7XG4gICAgICBjYW52YXNEYXRhLnRvcCA9IChjb250YWluZXJEYXRhLmhlaWdodCAtIGNhbnZhc0hlaWdodCkgLyAyO1xuICAgICAgY2FudmFzRGF0YS5vbGRMZWZ0ID0gY2FudmFzRGF0YS5sZWZ0O1xuICAgICAgY2FudmFzRGF0YS5vbGRUb3AgPSBjYW52YXNEYXRhLnRvcDtcbiAgICAgIHRoaXMuY2FudmFzRGF0YSA9IGNhbnZhc0RhdGE7XG4gICAgICB0aGlzLmxpbWl0ZWQgPSB2aWV3TW9kZSA9PT0gMSB8fCB2aWV3TW9kZSA9PT0gMjtcbiAgICAgIHRoaXMubGltaXRDYW52YXModHJ1ZSwgdHJ1ZSk7XG4gICAgICB0aGlzLmluaXRpYWxJbWFnZURhdGEgPSBhc3NpZ24oe30sIGltYWdlRGF0YSk7XG4gICAgICB0aGlzLmluaXRpYWxDYW52YXNEYXRhID0gYXNzaWduKHt9LCBjYW52YXNEYXRhKTtcbiAgICB9LFxuICAgIGxpbWl0Q2FudmFzOiBmdW5jdGlvbiBsaW1pdENhbnZhcyhzaXplTGltaXRlZCwgcG9zaXRpb25MaW1pdGVkKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBjb250YWluZXJEYXRhID0gdGhpcy5jb250YWluZXJEYXRhLFxuICAgICAgICAgIGNhbnZhc0RhdGEgPSB0aGlzLmNhbnZhc0RhdGEsXG4gICAgICAgICAgY3JvcEJveERhdGEgPSB0aGlzLmNyb3BCb3hEYXRhO1xuICAgICAgdmFyIHZpZXdNb2RlID0gb3B0aW9ucy52aWV3TW9kZTtcbiAgICAgIHZhciBhc3BlY3RSYXRpbyA9IGNhbnZhc0RhdGEuYXNwZWN0UmF0aW87XG4gICAgICB2YXIgY3JvcHBlZCA9IHRoaXMuY3JvcHBlZCAmJiBjcm9wQm94RGF0YTtcblxuICAgICAgaWYgKHNpemVMaW1pdGVkKSB7XG4gICAgICAgIHZhciBtaW5DYW52YXNXaWR0aCA9IE51bWJlcihvcHRpb25zLm1pbkNhbnZhc1dpZHRoKSB8fCAwO1xuICAgICAgICB2YXIgbWluQ2FudmFzSGVpZ2h0ID0gTnVtYmVyKG9wdGlvbnMubWluQ2FudmFzSGVpZ2h0KSB8fCAwO1xuXG4gICAgICAgIGlmICh2aWV3TW9kZSA+IDEpIHtcbiAgICAgICAgICBtaW5DYW52YXNXaWR0aCA9IE1hdGgubWF4KG1pbkNhbnZhc1dpZHRoLCBjb250YWluZXJEYXRhLndpZHRoKTtcbiAgICAgICAgICBtaW5DYW52YXNIZWlnaHQgPSBNYXRoLm1heChtaW5DYW52YXNIZWlnaHQsIGNvbnRhaW5lckRhdGEuaGVpZ2h0KTtcblxuICAgICAgICAgIGlmICh2aWV3TW9kZSA9PT0gMykge1xuICAgICAgICAgICAgaWYgKG1pbkNhbnZhc0hlaWdodCAqIGFzcGVjdFJhdGlvID4gbWluQ2FudmFzV2lkdGgpIHtcbiAgICAgICAgICAgICAgbWluQ2FudmFzV2lkdGggPSBtaW5DYW52YXNIZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1pbkNhbnZhc0hlaWdodCA9IG1pbkNhbnZhc1dpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHZpZXdNb2RlID4gMCkge1xuICAgICAgICAgIGlmIChtaW5DYW52YXNXaWR0aCkge1xuICAgICAgICAgICAgbWluQ2FudmFzV2lkdGggPSBNYXRoLm1heChtaW5DYW52YXNXaWR0aCwgY3JvcHBlZCA/IGNyb3BCb3hEYXRhLndpZHRoIDogMCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChtaW5DYW52YXNIZWlnaHQpIHtcbiAgICAgICAgICAgIG1pbkNhbnZhc0hlaWdodCA9IE1hdGgubWF4KG1pbkNhbnZhc0hlaWdodCwgY3JvcHBlZCA/IGNyb3BCb3hEYXRhLmhlaWdodCA6IDApO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY3JvcHBlZCkge1xuICAgICAgICAgICAgbWluQ2FudmFzV2lkdGggPSBjcm9wQm94RGF0YS53aWR0aDtcbiAgICAgICAgICAgIG1pbkNhbnZhc0hlaWdodCA9IGNyb3BCb3hEYXRhLmhlaWdodDtcblxuICAgICAgICAgICAgaWYgKG1pbkNhbnZhc0hlaWdodCAqIGFzcGVjdFJhdGlvID4gbWluQ2FudmFzV2lkdGgpIHtcbiAgICAgICAgICAgICAgbWluQ2FudmFzV2lkdGggPSBtaW5DYW52YXNIZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1pbkNhbnZhc0hlaWdodCA9IG1pbkNhbnZhc1dpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9nZXRBZGp1c3RlZFNpemVzID0gZ2V0QWRqdXN0ZWRTaXplcyh7XG4gICAgICAgICAgYXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvLFxuICAgICAgICAgIHdpZHRoOiBtaW5DYW52YXNXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IG1pbkNhbnZhc0hlaWdodFxuICAgICAgICB9KTtcblxuICAgICAgICBtaW5DYW52YXNXaWR0aCA9IF9nZXRBZGp1c3RlZFNpemVzLndpZHRoO1xuICAgICAgICBtaW5DYW52YXNIZWlnaHQgPSBfZ2V0QWRqdXN0ZWRTaXplcy5oZWlnaHQ7XG4gICAgICAgIGNhbnZhc0RhdGEubWluV2lkdGggPSBtaW5DYW52YXNXaWR0aDtcbiAgICAgICAgY2FudmFzRGF0YS5taW5IZWlnaHQgPSBtaW5DYW52YXNIZWlnaHQ7XG4gICAgICAgIGNhbnZhc0RhdGEubWF4V2lkdGggPSBJbmZpbml0eTtcbiAgICAgICAgY2FudmFzRGF0YS5tYXhIZWlnaHQgPSBJbmZpbml0eTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBvc2l0aW9uTGltaXRlZCkge1xuICAgICAgICBpZiAodmlld01vZGUgPiAoY3JvcHBlZCA/IDAgOiAxKSkge1xuICAgICAgICAgIHZhciBuZXdDYW52YXNMZWZ0ID0gY29udGFpbmVyRGF0YS53aWR0aCAtIGNhbnZhc0RhdGEud2lkdGg7XG4gICAgICAgICAgdmFyIG5ld0NhbnZhc1RvcCA9IGNvbnRhaW5lckRhdGEuaGVpZ2h0IC0gY2FudmFzRGF0YS5oZWlnaHQ7XG4gICAgICAgICAgY2FudmFzRGF0YS5taW5MZWZ0ID0gTWF0aC5taW4oMCwgbmV3Q2FudmFzTGVmdCk7XG4gICAgICAgICAgY2FudmFzRGF0YS5taW5Ub3AgPSBNYXRoLm1pbigwLCBuZXdDYW52YXNUb3ApO1xuICAgICAgICAgIGNhbnZhc0RhdGEubWF4TGVmdCA9IE1hdGgubWF4KDAsIG5ld0NhbnZhc0xlZnQpO1xuICAgICAgICAgIGNhbnZhc0RhdGEubWF4VG9wID0gTWF0aC5tYXgoMCwgbmV3Q2FudmFzVG9wKTtcblxuICAgICAgICAgIGlmIChjcm9wcGVkICYmIHRoaXMubGltaXRlZCkge1xuICAgICAgICAgICAgY2FudmFzRGF0YS5taW5MZWZ0ID0gTWF0aC5taW4oY3JvcEJveERhdGEubGVmdCwgY3JvcEJveERhdGEubGVmdCArIChjcm9wQm94RGF0YS53aWR0aCAtIGNhbnZhc0RhdGEud2lkdGgpKTtcbiAgICAgICAgICAgIGNhbnZhc0RhdGEubWluVG9wID0gTWF0aC5taW4oY3JvcEJveERhdGEudG9wLCBjcm9wQm94RGF0YS50b3AgKyAoY3JvcEJveERhdGEuaGVpZ2h0IC0gY2FudmFzRGF0YS5oZWlnaHQpKTtcbiAgICAgICAgICAgIGNhbnZhc0RhdGEubWF4TGVmdCA9IGNyb3BCb3hEYXRhLmxlZnQ7XG4gICAgICAgICAgICBjYW52YXNEYXRhLm1heFRvcCA9IGNyb3BCb3hEYXRhLnRvcDtcblxuICAgICAgICAgICAgaWYgKHZpZXdNb2RlID09PSAyKSB7XG4gICAgICAgICAgICAgIGlmIChjYW52YXNEYXRhLndpZHRoID49IGNvbnRhaW5lckRhdGEud2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjYW52YXNEYXRhLm1pbkxlZnQgPSBNYXRoLm1pbigwLCBuZXdDYW52YXNMZWZ0KTtcbiAgICAgICAgICAgICAgICBjYW52YXNEYXRhLm1heExlZnQgPSBNYXRoLm1heCgwLCBuZXdDYW52YXNMZWZ0KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChjYW52YXNEYXRhLmhlaWdodCA+PSBjb250YWluZXJEYXRhLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGNhbnZhc0RhdGEubWluVG9wID0gTWF0aC5taW4oMCwgbmV3Q2FudmFzVG9wKTtcbiAgICAgICAgICAgICAgICBjYW52YXNEYXRhLm1heFRvcCA9IE1hdGgubWF4KDAsIG5ld0NhbnZhc1RvcCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FudmFzRGF0YS5taW5MZWZ0ID0gLWNhbnZhc0RhdGEud2lkdGg7XG4gICAgICAgICAgY2FudmFzRGF0YS5taW5Ub3AgPSAtY2FudmFzRGF0YS5oZWlnaHQ7XG4gICAgICAgICAgY2FudmFzRGF0YS5tYXhMZWZ0ID0gY29udGFpbmVyRGF0YS53aWR0aDtcbiAgICAgICAgICBjYW52YXNEYXRhLm1heFRvcCA9IGNvbnRhaW5lckRhdGEuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICByZW5kZXJDYW52YXM6IGZ1bmN0aW9uIHJlbmRlckNhbnZhcyhjaGFuZ2VkLCB0cmFuc2Zvcm1lZCkge1xuICAgICAgdmFyIGNhbnZhc0RhdGEgPSB0aGlzLmNhbnZhc0RhdGEsXG4gICAgICAgICAgaW1hZ2VEYXRhID0gdGhpcy5pbWFnZURhdGE7XG5cbiAgICAgIGlmICh0cmFuc2Zvcm1lZCkge1xuICAgICAgICB2YXIgX2dldFJvdGF0ZWRTaXplcyA9IGdldFJvdGF0ZWRTaXplcyh7XG4gICAgICAgICAgd2lkdGg6IGltYWdlRGF0YS5uYXR1cmFsV2lkdGggKiBNYXRoLmFicyhpbWFnZURhdGEuc2NhbGVYIHx8IDEpLFxuICAgICAgICAgIGhlaWdodDogaW1hZ2VEYXRhLm5hdHVyYWxIZWlnaHQgKiBNYXRoLmFicyhpbWFnZURhdGEuc2NhbGVZIHx8IDEpLFxuICAgICAgICAgIGRlZ3JlZTogaW1hZ2VEYXRhLnJvdGF0ZSB8fCAwXG4gICAgICAgIH0pLFxuICAgICAgICAgICAgbmF0dXJhbFdpZHRoID0gX2dldFJvdGF0ZWRTaXplcy53aWR0aCxcbiAgICAgICAgICAgIG5hdHVyYWxIZWlnaHQgPSBfZ2V0Um90YXRlZFNpemVzLmhlaWdodDtcblxuICAgICAgICB2YXIgd2lkdGggPSBjYW52YXNEYXRhLndpZHRoICogKG5hdHVyYWxXaWR0aCAvIGNhbnZhc0RhdGEubmF0dXJhbFdpZHRoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IGNhbnZhc0RhdGEuaGVpZ2h0ICogKG5hdHVyYWxIZWlnaHQgLyBjYW52YXNEYXRhLm5hdHVyYWxIZWlnaHQpO1xuICAgICAgICBjYW52YXNEYXRhLmxlZnQgLT0gKHdpZHRoIC0gY2FudmFzRGF0YS53aWR0aCkgLyAyO1xuICAgICAgICBjYW52YXNEYXRhLnRvcCAtPSAoaGVpZ2h0IC0gY2FudmFzRGF0YS5oZWlnaHQpIC8gMjtcbiAgICAgICAgY2FudmFzRGF0YS53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXNEYXRhLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgY2FudmFzRGF0YS5hc3BlY3RSYXRpbyA9IG5hdHVyYWxXaWR0aCAvIG5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIGNhbnZhc0RhdGEubmF0dXJhbFdpZHRoID0gbmF0dXJhbFdpZHRoO1xuICAgICAgICBjYW52YXNEYXRhLm5hdHVyYWxIZWlnaHQgPSBuYXR1cmFsSGVpZ2h0O1xuICAgICAgICB0aGlzLmxpbWl0Q2FudmFzKHRydWUsIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbnZhc0RhdGEud2lkdGggPiBjYW52YXNEYXRhLm1heFdpZHRoIHx8IGNhbnZhc0RhdGEud2lkdGggPCBjYW52YXNEYXRhLm1pbldpZHRoKSB7XG4gICAgICAgIGNhbnZhc0RhdGEubGVmdCA9IGNhbnZhc0RhdGEub2xkTGVmdDtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbnZhc0RhdGEuaGVpZ2h0ID4gY2FudmFzRGF0YS5tYXhIZWlnaHQgfHwgY2FudmFzRGF0YS5oZWlnaHQgPCBjYW52YXNEYXRhLm1pbkhlaWdodCkge1xuICAgICAgICBjYW52YXNEYXRhLnRvcCA9IGNhbnZhc0RhdGEub2xkVG9wO1xuICAgICAgfVxuXG4gICAgICBjYW52YXNEYXRhLndpZHRoID0gTWF0aC5taW4oTWF0aC5tYXgoY2FudmFzRGF0YS53aWR0aCwgY2FudmFzRGF0YS5taW5XaWR0aCksIGNhbnZhc0RhdGEubWF4V2lkdGgpO1xuICAgICAgY2FudmFzRGF0YS5oZWlnaHQgPSBNYXRoLm1pbihNYXRoLm1heChjYW52YXNEYXRhLmhlaWdodCwgY2FudmFzRGF0YS5taW5IZWlnaHQpLCBjYW52YXNEYXRhLm1heEhlaWdodCk7XG4gICAgICB0aGlzLmxpbWl0Q2FudmFzKGZhbHNlLCB0cnVlKTtcbiAgICAgIGNhbnZhc0RhdGEubGVmdCA9IE1hdGgubWluKE1hdGgubWF4KGNhbnZhc0RhdGEubGVmdCwgY2FudmFzRGF0YS5taW5MZWZ0KSwgY2FudmFzRGF0YS5tYXhMZWZ0KTtcbiAgICAgIGNhbnZhc0RhdGEudG9wID0gTWF0aC5taW4oTWF0aC5tYXgoY2FudmFzRGF0YS50b3AsIGNhbnZhc0RhdGEubWluVG9wKSwgY2FudmFzRGF0YS5tYXhUb3ApO1xuICAgICAgY2FudmFzRGF0YS5vbGRMZWZ0ID0gY2FudmFzRGF0YS5sZWZ0O1xuICAgICAgY2FudmFzRGF0YS5vbGRUb3AgPSBjYW52YXNEYXRhLnRvcDtcbiAgICAgIHNldFN0eWxlKHRoaXMuY2FudmFzLCBhc3NpZ24oe1xuICAgICAgICB3aWR0aDogY2FudmFzRGF0YS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjYW52YXNEYXRhLmhlaWdodFxuICAgICAgfSwgZ2V0VHJhbnNmb3Jtcyh7XG4gICAgICAgIHRyYW5zbGF0ZVg6IGNhbnZhc0RhdGEubGVmdCxcbiAgICAgICAgdHJhbnNsYXRlWTogY2FudmFzRGF0YS50b3BcbiAgICAgIH0pKSk7XG4gICAgICB0aGlzLnJlbmRlckltYWdlKGNoYW5nZWQpO1xuXG4gICAgICBpZiAodGhpcy5jcm9wcGVkICYmIHRoaXMubGltaXRlZCkge1xuICAgICAgICB0aGlzLmxpbWl0Q3JvcEJveCh0cnVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbmRlckltYWdlOiBmdW5jdGlvbiByZW5kZXJJbWFnZShjaGFuZ2VkKSB7XG4gICAgICB2YXIgY2FudmFzRGF0YSA9IHRoaXMuY2FudmFzRGF0YSxcbiAgICAgICAgICBpbWFnZURhdGEgPSB0aGlzLmltYWdlRGF0YTtcbiAgICAgIHZhciB3aWR0aCA9IGltYWdlRGF0YS5uYXR1cmFsV2lkdGggKiAoY2FudmFzRGF0YS53aWR0aCAvIGNhbnZhc0RhdGEubmF0dXJhbFdpZHRoKTtcbiAgICAgIHZhciBoZWlnaHQgPSBpbWFnZURhdGEubmF0dXJhbEhlaWdodCAqIChjYW52YXNEYXRhLmhlaWdodCAvIGNhbnZhc0RhdGEubmF0dXJhbEhlaWdodCk7XG4gICAgICBhc3NpZ24oaW1hZ2VEYXRhLCB7XG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIGxlZnQ6IChjYW52YXNEYXRhLndpZHRoIC0gd2lkdGgpIC8gMixcbiAgICAgICAgdG9wOiAoY2FudmFzRGF0YS5oZWlnaHQgLSBoZWlnaHQpIC8gMlxuICAgICAgfSk7XG4gICAgICBzZXRTdHlsZSh0aGlzLmltYWdlLCBhc3NpZ24oe1xuICAgICAgICB3aWR0aDogaW1hZ2VEYXRhLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGltYWdlRGF0YS5oZWlnaHRcbiAgICAgIH0sIGdldFRyYW5zZm9ybXMoYXNzaWduKHtcbiAgICAgICAgdHJhbnNsYXRlWDogaW1hZ2VEYXRhLmxlZnQsXG4gICAgICAgIHRyYW5zbGF0ZVk6IGltYWdlRGF0YS50b3BcbiAgICAgIH0sIGltYWdlRGF0YSkpKSk7XG5cbiAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMub3V0cHV0KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpbml0Q3JvcEJveDogZnVuY3Rpb24gaW5pdENyb3BCb3goKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBjYW52YXNEYXRhID0gdGhpcy5jYW52YXNEYXRhO1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gb3B0aW9ucy5hc3BlY3RSYXRpbyB8fCBvcHRpb25zLmluaXRpYWxBc3BlY3RSYXRpbztcbiAgICAgIHZhciBhdXRvQ3JvcEFyZWEgPSBOdW1iZXIob3B0aW9ucy5hdXRvQ3JvcEFyZWEpIHx8IDAuODtcbiAgICAgIHZhciBjcm9wQm94RGF0YSA9IHtcbiAgICAgICAgd2lkdGg6IGNhbnZhc0RhdGEud2lkdGgsXG4gICAgICAgIGhlaWdodDogY2FudmFzRGF0YS5oZWlnaHRcbiAgICAgIH07XG5cbiAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICBpZiAoY2FudmFzRGF0YS5oZWlnaHQgKiBhc3BlY3RSYXRpbyA+IGNhbnZhc0RhdGEud2lkdGgpIHtcbiAgICAgICAgICBjcm9wQm94RGF0YS5oZWlnaHQgPSBjcm9wQm94RGF0YS53aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNyb3BCb3hEYXRhLndpZHRoID0gY3JvcEJveERhdGEuaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5jcm9wQm94RGF0YSA9IGNyb3BCb3hEYXRhO1xuICAgICAgdGhpcy5saW1pdENyb3BCb3godHJ1ZSwgdHJ1ZSk7IC8vIEluaXRpYWxpemUgYXV0byBjcm9wIGFyZWFcblxuICAgICAgY3JvcEJveERhdGEud2lkdGggPSBNYXRoLm1pbihNYXRoLm1heChjcm9wQm94RGF0YS53aWR0aCwgY3JvcEJveERhdGEubWluV2lkdGgpLCBjcm9wQm94RGF0YS5tYXhXaWR0aCk7XG4gICAgICBjcm9wQm94RGF0YS5oZWlnaHQgPSBNYXRoLm1pbihNYXRoLm1heChjcm9wQm94RGF0YS5oZWlnaHQsIGNyb3BCb3hEYXRhLm1pbkhlaWdodCksIGNyb3BCb3hEYXRhLm1heEhlaWdodCk7IC8vIFRoZSB3aWR0aC9oZWlnaHQgb2YgYXV0byBjcm9wIGFyZWEgbXVzdCBsYXJnZSB0aGFuIFwibWluV2lkdGgvSGVpZ2h0XCJcblxuICAgICAgY3JvcEJveERhdGEud2lkdGggPSBNYXRoLm1heChjcm9wQm94RGF0YS5taW5XaWR0aCwgY3JvcEJveERhdGEud2lkdGggKiBhdXRvQ3JvcEFyZWEpO1xuICAgICAgY3JvcEJveERhdGEuaGVpZ2h0ID0gTWF0aC5tYXgoY3JvcEJveERhdGEubWluSGVpZ2h0LCBjcm9wQm94RGF0YS5oZWlnaHQgKiBhdXRvQ3JvcEFyZWEpO1xuICAgICAgY3JvcEJveERhdGEubGVmdCA9IGNhbnZhc0RhdGEubGVmdCArIChjYW52YXNEYXRhLndpZHRoIC0gY3JvcEJveERhdGEud2lkdGgpIC8gMjtcbiAgICAgIGNyb3BCb3hEYXRhLnRvcCA9IGNhbnZhc0RhdGEudG9wICsgKGNhbnZhc0RhdGEuaGVpZ2h0IC0gY3JvcEJveERhdGEuaGVpZ2h0KSAvIDI7XG4gICAgICBjcm9wQm94RGF0YS5vbGRMZWZ0ID0gY3JvcEJveERhdGEubGVmdDtcbiAgICAgIGNyb3BCb3hEYXRhLm9sZFRvcCA9IGNyb3BCb3hEYXRhLnRvcDtcbiAgICAgIHRoaXMuaW5pdGlhbENyb3BCb3hEYXRhID0gYXNzaWduKHt9LCBjcm9wQm94RGF0YSk7XG4gICAgfSxcbiAgICBsaW1pdENyb3BCb3g6IGZ1bmN0aW9uIGxpbWl0Q3JvcEJveChzaXplTGltaXRlZCwgcG9zaXRpb25MaW1pdGVkKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBjb250YWluZXJEYXRhID0gdGhpcy5jb250YWluZXJEYXRhLFxuICAgICAgICAgIGNhbnZhc0RhdGEgPSB0aGlzLmNhbnZhc0RhdGEsXG4gICAgICAgICAgY3JvcEJveERhdGEgPSB0aGlzLmNyb3BCb3hEYXRhLFxuICAgICAgICAgIGxpbWl0ZWQgPSB0aGlzLmxpbWl0ZWQ7XG4gICAgICB2YXIgYXNwZWN0UmF0aW8gPSBvcHRpb25zLmFzcGVjdFJhdGlvO1xuXG4gICAgICBpZiAoc2l6ZUxpbWl0ZWQpIHtcbiAgICAgICAgdmFyIG1pbkNyb3BCb3hXaWR0aCA9IE51bWJlcihvcHRpb25zLm1pbkNyb3BCb3hXaWR0aCkgfHwgMDtcbiAgICAgICAgdmFyIG1pbkNyb3BCb3hIZWlnaHQgPSBOdW1iZXIob3B0aW9ucy5taW5Dcm9wQm94SGVpZ2h0KSB8fCAwO1xuICAgICAgICB2YXIgbWF4Q3JvcEJveFdpZHRoID0gbGltaXRlZCA/IE1hdGgubWluKGNvbnRhaW5lckRhdGEud2lkdGgsIGNhbnZhc0RhdGEud2lkdGgsIGNhbnZhc0RhdGEud2lkdGggKyBjYW52YXNEYXRhLmxlZnQsIGNvbnRhaW5lckRhdGEud2lkdGggLSBjYW52YXNEYXRhLmxlZnQpIDogY29udGFpbmVyRGF0YS53aWR0aDtcbiAgICAgICAgdmFyIG1heENyb3BCb3hIZWlnaHQgPSBsaW1pdGVkID8gTWF0aC5taW4oY29udGFpbmVyRGF0YS5oZWlnaHQsIGNhbnZhc0RhdGEuaGVpZ2h0LCBjYW52YXNEYXRhLmhlaWdodCArIGNhbnZhc0RhdGEudG9wLCBjb250YWluZXJEYXRhLmhlaWdodCAtIGNhbnZhc0RhdGEudG9wKSA6IGNvbnRhaW5lckRhdGEuaGVpZ2h0OyAvLyBUaGUgbWluL21heENyb3BCb3hXaWR0aC9IZWlnaHQgbXVzdCBiZSBsZXNzIHRoYW4gY29udGFpbmVyJ3Mgd2lkdGgvaGVpZ2h0XG5cbiAgICAgICAgbWluQ3JvcEJveFdpZHRoID0gTWF0aC5taW4obWluQ3JvcEJveFdpZHRoLCBjb250YWluZXJEYXRhLndpZHRoKTtcbiAgICAgICAgbWluQ3JvcEJveEhlaWdodCA9IE1hdGgubWluKG1pbkNyb3BCb3hIZWlnaHQsIGNvbnRhaW5lckRhdGEuaGVpZ2h0KTtcblxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICBpZiAobWluQ3JvcEJveFdpZHRoICYmIG1pbkNyb3BCb3hIZWlnaHQpIHtcbiAgICAgICAgICAgIGlmIChtaW5Dcm9wQm94SGVpZ2h0ICogYXNwZWN0UmF0aW8gPiBtaW5Dcm9wQm94V2lkdGgpIHtcbiAgICAgICAgICAgICAgbWluQ3JvcEJveEhlaWdodCA9IG1pbkNyb3BCb3hXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWluQ3JvcEJveFdpZHRoID0gbWluQ3JvcEJveEhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAobWluQ3JvcEJveFdpZHRoKSB7XG4gICAgICAgICAgICBtaW5Dcm9wQm94SGVpZ2h0ID0gbWluQ3JvcEJveFdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgICAgfSBlbHNlIGlmIChtaW5Dcm9wQm94SGVpZ2h0KSB7XG4gICAgICAgICAgICBtaW5Dcm9wQm94V2lkdGggPSBtaW5Dcm9wQm94SGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG1heENyb3BCb3hIZWlnaHQgKiBhc3BlY3RSYXRpbyA+IG1heENyb3BCb3hXaWR0aCkge1xuICAgICAgICAgICAgbWF4Q3JvcEJveEhlaWdodCA9IG1heENyb3BCb3hXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXhDcm9wQm94V2lkdGggPSBtYXhDcm9wQm94SGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIFRoZSBtaW5XaWR0aC9IZWlnaHQgbXVzdCBiZSBsZXNzIHRoYW4gbWF4V2lkdGgvSGVpZ2h0XG5cblxuICAgICAgICBjcm9wQm94RGF0YS5taW5XaWR0aCA9IE1hdGgubWluKG1pbkNyb3BCb3hXaWR0aCwgbWF4Q3JvcEJveFdpZHRoKTtcbiAgICAgICAgY3JvcEJveERhdGEubWluSGVpZ2h0ID0gTWF0aC5taW4obWluQ3JvcEJveEhlaWdodCwgbWF4Q3JvcEJveEhlaWdodCk7XG4gICAgICAgIGNyb3BCb3hEYXRhLm1heFdpZHRoID0gbWF4Q3JvcEJveFdpZHRoO1xuICAgICAgICBjcm9wQm94RGF0YS5tYXhIZWlnaHQgPSBtYXhDcm9wQm94SGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBpZiAocG9zaXRpb25MaW1pdGVkKSB7XG4gICAgICAgIGlmIChsaW1pdGVkKSB7XG4gICAgICAgICAgY3JvcEJveERhdGEubWluTGVmdCA9IE1hdGgubWF4KDAsIGNhbnZhc0RhdGEubGVmdCk7XG4gICAgICAgICAgY3JvcEJveERhdGEubWluVG9wID0gTWF0aC5tYXgoMCwgY2FudmFzRGF0YS50b3ApO1xuICAgICAgICAgIGNyb3BCb3hEYXRhLm1heExlZnQgPSBNYXRoLm1pbihjb250YWluZXJEYXRhLndpZHRoLCBjYW52YXNEYXRhLmxlZnQgKyBjYW52YXNEYXRhLndpZHRoKSAtIGNyb3BCb3hEYXRhLndpZHRoO1xuICAgICAgICAgIGNyb3BCb3hEYXRhLm1heFRvcCA9IE1hdGgubWluKGNvbnRhaW5lckRhdGEuaGVpZ2h0LCBjYW52YXNEYXRhLnRvcCArIGNhbnZhc0RhdGEuaGVpZ2h0KSAtIGNyb3BCb3hEYXRhLmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjcm9wQm94RGF0YS5taW5MZWZ0ID0gMDtcbiAgICAgICAgICBjcm9wQm94RGF0YS5taW5Ub3AgPSAwO1xuICAgICAgICAgIGNyb3BCb3hEYXRhLm1heExlZnQgPSBjb250YWluZXJEYXRhLndpZHRoIC0gY3JvcEJveERhdGEud2lkdGg7XG4gICAgICAgICAgY3JvcEJveERhdGEubWF4VG9wID0gY29udGFpbmVyRGF0YS5oZWlnaHQgLSBjcm9wQm94RGF0YS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbmRlckNyb3BCb3g6IGZ1bmN0aW9uIHJlbmRlckNyb3BCb3goKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBjb250YWluZXJEYXRhID0gdGhpcy5jb250YWluZXJEYXRhLFxuICAgICAgICAgIGNyb3BCb3hEYXRhID0gdGhpcy5jcm9wQm94RGF0YTtcblxuICAgICAgaWYgKGNyb3BCb3hEYXRhLndpZHRoID4gY3JvcEJveERhdGEubWF4V2lkdGggfHwgY3JvcEJveERhdGEud2lkdGggPCBjcm9wQm94RGF0YS5taW5XaWR0aCkge1xuICAgICAgICBjcm9wQm94RGF0YS5sZWZ0ID0gY3JvcEJveERhdGEub2xkTGVmdDtcbiAgICAgIH1cblxuICAgICAgaWYgKGNyb3BCb3hEYXRhLmhlaWdodCA+IGNyb3BCb3hEYXRhLm1heEhlaWdodCB8fCBjcm9wQm94RGF0YS5oZWlnaHQgPCBjcm9wQm94RGF0YS5taW5IZWlnaHQpIHtcbiAgICAgICAgY3JvcEJveERhdGEudG9wID0gY3JvcEJveERhdGEub2xkVG9wO1xuICAgICAgfVxuXG4gICAgICBjcm9wQm94RGF0YS53aWR0aCA9IE1hdGgubWluKE1hdGgubWF4KGNyb3BCb3hEYXRhLndpZHRoLCBjcm9wQm94RGF0YS5taW5XaWR0aCksIGNyb3BCb3hEYXRhLm1heFdpZHRoKTtcbiAgICAgIGNyb3BCb3hEYXRhLmhlaWdodCA9IE1hdGgubWluKE1hdGgubWF4KGNyb3BCb3hEYXRhLmhlaWdodCwgY3JvcEJveERhdGEubWluSGVpZ2h0KSwgY3JvcEJveERhdGEubWF4SGVpZ2h0KTtcbiAgICAgIHRoaXMubGltaXRDcm9wQm94KGZhbHNlLCB0cnVlKTtcbiAgICAgIGNyb3BCb3hEYXRhLmxlZnQgPSBNYXRoLm1pbihNYXRoLm1heChjcm9wQm94RGF0YS5sZWZ0LCBjcm9wQm94RGF0YS5taW5MZWZ0KSwgY3JvcEJveERhdGEubWF4TGVmdCk7XG4gICAgICBjcm9wQm94RGF0YS50b3AgPSBNYXRoLm1pbihNYXRoLm1heChjcm9wQm94RGF0YS50b3AsIGNyb3BCb3hEYXRhLm1pblRvcCksIGNyb3BCb3hEYXRhLm1heFRvcCk7XG4gICAgICBjcm9wQm94RGF0YS5vbGRMZWZ0ID0gY3JvcEJveERhdGEubGVmdDtcbiAgICAgIGNyb3BCb3hEYXRhLm9sZFRvcCA9IGNyb3BCb3hEYXRhLnRvcDtcblxuICAgICAgaWYgKG9wdGlvbnMubW92YWJsZSAmJiBvcHRpb25zLmNyb3BCb3hNb3ZhYmxlKSB7XG4gICAgICAgIC8vIFR1cm4gdG8gbW92ZSB0aGUgY2FudmFzIHdoZW4gdGhlIGNyb3AgYm94IGlzIGVxdWFsIHRvIHRoZSBjb250YWluZXJcbiAgICAgICAgc2V0RGF0YSh0aGlzLmZhY2UsIERBVEFfQUNUSU9OLCBjcm9wQm94RGF0YS53aWR0aCA+PSBjb250YWluZXJEYXRhLndpZHRoICYmIGNyb3BCb3hEYXRhLmhlaWdodCA+PSBjb250YWluZXJEYXRhLmhlaWdodCA/IEFDVElPTl9NT1ZFIDogQUNUSU9OX0FMTCk7XG4gICAgICB9XG5cbiAgICAgIHNldFN0eWxlKHRoaXMuY3JvcEJveCwgYXNzaWduKHtcbiAgICAgICAgd2lkdGg6IGNyb3BCb3hEYXRhLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGNyb3BCb3hEYXRhLmhlaWdodFxuICAgICAgfSwgZ2V0VHJhbnNmb3Jtcyh7XG4gICAgICAgIHRyYW5zbGF0ZVg6IGNyb3BCb3hEYXRhLmxlZnQsXG4gICAgICAgIHRyYW5zbGF0ZVk6IGNyb3BCb3hEYXRhLnRvcFxuICAgICAgfSkpKTtcblxuICAgICAgaWYgKHRoaXMuY3JvcHBlZCAmJiB0aGlzLmxpbWl0ZWQpIHtcbiAgICAgICAgdGhpcy5saW1pdENhbnZhcyh0cnVlLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIHRoaXMub3V0cHV0KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvdXRwdXQ6IGZ1bmN0aW9uIG91dHB1dCgpIHtcbiAgICAgIHRoaXMucHJldmlldygpO1xuICAgICAgZGlzcGF0Y2hFdmVudCh0aGlzLmVsZW1lbnQsIEVWRU5UX0NST1AsIHRoaXMuZ2V0RGF0YSgpKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHByZXZpZXcgPSB7XG4gICAgaW5pdFByZXZpZXc6IGZ1bmN0aW9uIGluaXRQcmV2aWV3KCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgdmFyIHByZXZpZXcgPSB0aGlzLm9wdGlvbnMucHJldmlldztcbiAgICAgIHZhciB1cmwgPSBjcm9zc09yaWdpbiA/IHRoaXMuY3Jvc3NPcmlnaW5VcmwgOiB0aGlzLnVybDtcbiAgICAgIHZhciBhbHQgPSBlbGVtZW50LmFsdCB8fCAnVGhlIGltYWdlIHRvIHByZXZpZXcnO1xuICAgICAgdmFyIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG5cbiAgICAgIGlmIChjcm9zc09yaWdpbikge1xuICAgICAgICBpbWFnZS5jcm9zc09yaWdpbiA9IGNyb3NzT3JpZ2luO1xuICAgICAgfVxuXG4gICAgICBpbWFnZS5zcmMgPSB1cmw7XG4gICAgICBpbWFnZS5hbHQgPSBhbHQ7XG4gICAgICB0aGlzLnZpZXdCb3guYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgICAgdGhpcy52aWV3Qm94SW1hZ2UgPSBpbWFnZTtcblxuICAgICAgaWYgKCFwcmV2aWV3KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHByZXZpZXdzID0gcHJldmlldztcblxuICAgICAgaWYgKHR5cGVvZiBwcmV2aWV3ID09PSAnc3RyaW5nJykge1xuICAgICAgICBwcmV2aWV3cyA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHByZXZpZXcpO1xuICAgICAgfSBlbHNlIGlmIChwcmV2aWV3LnF1ZXJ5U2VsZWN0b3IpIHtcbiAgICAgICAgcHJldmlld3MgPSBbcHJldmlld107XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJldmlld3MgPSBwcmV2aWV3cztcbiAgICAgIGZvckVhY2gocHJldmlld3MsIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7IC8vIFNhdmUgdGhlIG9yaWdpbmFsIHNpemUgZm9yIHJlY292ZXJcblxuICAgICAgICBzZXREYXRhKGVsLCBEQVRBX1BSRVZJRVcsIHtcbiAgICAgICAgICB3aWR0aDogZWwub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBlbC5vZmZzZXRIZWlnaHQsXG4gICAgICAgICAgaHRtbDogZWwuaW5uZXJIVE1MXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChjcm9zc09yaWdpbikge1xuICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9IGNyb3NzT3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICAgICAgaW1nLmFsdCA9IGFsdDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE92ZXJyaWRlIGltZyBlbGVtZW50IHN0eWxlc1xuICAgICAgICAgKiBBZGQgYGRpc3BsYXk6YmxvY2tgIHRvIGF2b2lkIG1hcmdpbiB0b3AgaXNzdWVcbiAgICAgICAgICogQWRkIGBoZWlnaHQ6YXV0b2AgdG8gb3ZlcnJpZGUgYGhlaWdodGAgYXR0cmlidXRlIG9uIElFOFxuICAgICAgICAgKiAoT2NjdXIgb25seSB3aGVuIG1hcmdpbi10b3AgPD0gLWhlaWdodClcbiAgICAgICAgICovXG5cbiAgICAgICAgaW1nLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTpibG9jazsnICsgJ3dpZHRoOjEwMCU7JyArICdoZWlnaHQ6YXV0bzsnICsgJ21pbi13aWR0aDowIWltcG9ydGFudDsnICsgJ21pbi1oZWlnaHQ6MCFpbXBvcnRhbnQ7JyArICdtYXgtd2lkdGg6bm9uZSFpbXBvcnRhbnQ7JyArICdtYXgtaGVpZ2h0Om5vbmUhaW1wb3J0YW50OycgKyAnaW1hZ2Utb3JpZW50YXRpb246MGRlZyFpbXBvcnRhbnQ7XCInO1xuICAgICAgICBlbC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVzZXRQcmV2aWV3OiBmdW5jdGlvbiByZXNldFByZXZpZXcoKSB7XG4gICAgICBmb3JFYWNoKHRoaXMucHJldmlld3MsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHZhciBkYXRhID0gZ2V0RGF0YShlbGVtZW50LCBEQVRBX1BSRVZJRVcpO1xuICAgICAgICBzZXRTdHlsZShlbGVtZW50LCB7XG4gICAgICAgICAgd2lkdGg6IGRhdGEud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBkYXRhLmhlaWdodFxuICAgICAgICB9KTtcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBkYXRhLmh0bWw7XG4gICAgICAgIHJlbW92ZURhdGEoZWxlbWVudCwgREFUQV9QUkVWSUVXKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgcHJldmlldzogZnVuY3Rpb24gcHJldmlldygpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSB0aGlzLmltYWdlRGF0YSxcbiAgICAgICAgICBjYW52YXNEYXRhID0gdGhpcy5jYW52YXNEYXRhLFxuICAgICAgICAgIGNyb3BCb3hEYXRhID0gdGhpcy5jcm9wQm94RGF0YTtcbiAgICAgIHZhciBjcm9wQm94V2lkdGggPSBjcm9wQm94RGF0YS53aWR0aCxcbiAgICAgICAgICBjcm9wQm94SGVpZ2h0ID0gY3JvcEJveERhdGEuaGVpZ2h0O1xuICAgICAgdmFyIHdpZHRoID0gaW1hZ2VEYXRhLndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IGltYWdlRGF0YS5oZWlnaHQ7XG4gICAgICB2YXIgbGVmdCA9IGNyb3BCb3hEYXRhLmxlZnQgLSBjYW52YXNEYXRhLmxlZnQgLSBpbWFnZURhdGEubGVmdDtcbiAgICAgIHZhciB0b3AgPSBjcm9wQm94RGF0YS50b3AgLSBjYW52YXNEYXRhLnRvcCAtIGltYWdlRGF0YS50b3A7XG5cbiAgICAgIGlmICghdGhpcy5jcm9wcGVkIHx8IHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZXRTdHlsZSh0aGlzLnZpZXdCb3hJbWFnZSwgYXNzaWduKHtcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgfSwgZ2V0VHJhbnNmb3Jtcyhhc3NpZ24oe1xuICAgICAgICB0cmFuc2xhdGVYOiAtbGVmdCxcbiAgICAgICAgdHJhbnNsYXRlWTogLXRvcFxuICAgICAgfSwgaW1hZ2VEYXRhKSkpKTtcbiAgICAgIGZvckVhY2godGhpcy5wcmV2aWV3cywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBnZXREYXRhKGVsZW1lbnQsIERBVEFfUFJFVklFVyk7XG4gICAgICAgIHZhciBvcmlnaW5hbFdpZHRoID0gZGF0YS53aWR0aDtcbiAgICAgICAgdmFyIG9yaWdpbmFsSGVpZ2h0ID0gZGF0YS5oZWlnaHQ7XG4gICAgICAgIHZhciBuZXdXaWR0aCA9IG9yaWdpbmFsV2lkdGg7XG4gICAgICAgIHZhciBuZXdIZWlnaHQgPSBvcmlnaW5hbEhlaWdodDtcbiAgICAgICAgdmFyIHJhdGlvID0gMTtcblxuICAgICAgICBpZiAoY3JvcEJveFdpZHRoKSB7XG4gICAgICAgICAgcmF0aW8gPSBvcmlnaW5hbFdpZHRoIC8gY3JvcEJveFdpZHRoO1xuICAgICAgICAgIG5ld0hlaWdodCA9IGNyb3BCb3hIZWlnaHQgKiByYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjcm9wQm94SGVpZ2h0ICYmIG5ld0hlaWdodCA+IG9yaWdpbmFsSGVpZ2h0KSB7XG4gICAgICAgICAgcmF0aW8gPSBvcmlnaW5hbEhlaWdodCAvIGNyb3BCb3hIZWlnaHQ7XG4gICAgICAgICAgbmV3V2lkdGggPSBjcm9wQm94V2lkdGggKiByYXRpbztcbiAgICAgICAgICBuZXdIZWlnaHQgPSBvcmlnaW5hbEhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFN0eWxlKGVsZW1lbnQsIHtcbiAgICAgICAgICB3aWR0aDogbmV3V2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBuZXdIZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFN0eWxlKGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpWzBdLCBhc3NpZ24oe1xuICAgICAgICAgIHdpZHRoOiB3aWR0aCAqIHJhdGlvLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0ICogcmF0aW9cbiAgICAgICAgfSwgZ2V0VHJhbnNmb3Jtcyhhc3NpZ24oe1xuICAgICAgICAgIHRyYW5zbGF0ZVg6IC1sZWZ0ICogcmF0aW8sXG4gICAgICAgICAgdHJhbnNsYXRlWTogLXRvcCAqIHJhdGlvXG4gICAgICAgIH0sIGltYWdlRGF0YSkpKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGV2ZW50cyA9IHtcbiAgICBiaW5kOiBmdW5jdGlvbiBiaW5kKCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBjcm9wcGVyID0gdGhpcy5jcm9wcGVyO1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLmNyb3BzdGFydCkpIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfQ1JPUF9TVEFSVCwgb3B0aW9ucy5jcm9wc3RhcnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLmNyb3Btb3ZlKSkge1xuICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9DUk9QX01PVkUsIG9wdGlvbnMuY3JvcG1vdmUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLmNyb3BlbmQpKSB7XG4gICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX0NST1BfRU5ELCBvcHRpb25zLmNyb3BlbmQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLmNyb3ApKSB7XG4gICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX0NST1AsIG9wdGlvbnMuY3JvcCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMuem9vbSkpIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfWk9PTSwgb3B0aW9ucy56b29tKTtcbiAgICAgIH1cblxuICAgICAgYWRkTGlzdGVuZXIoY3JvcHBlciwgRVZFTlRfUE9JTlRFUl9ET1dOLCB0aGlzLm9uQ3JvcFN0YXJ0ID0gdGhpcy5jcm9wU3RhcnQuYmluZCh0aGlzKSk7XG5cbiAgICAgIGlmIChvcHRpb25zLnpvb21hYmxlICYmIG9wdGlvbnMuem9vbU9uV2hlZWwpIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoY3JvcHBlciwgRVZFTlRfV0hFRUwsIHRoaXMub25XaGVlbCA9IHRoaXMud2hlZWwuYmluZCh0aGlzKSwge1xuICAgICAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnRvZ2dsZURyYWdNb2RlT25EYmxjbGljaykge1xuICAgICAgICBhZGRMaXN0ZW5lcihjcm9wcGVyLCBFVkVOVF9EQkxDTElDSywgdGhpcy5vbkRibGNsaWNrID0gdGhpcy5kYmxjbGljay5iaW5kKHRoaXMpKTtcbiAgICAgIH1cblxuICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudC5vd25lckRvY3VtZW50LCBFVkVOVF9QT0lOVEVSX01PVkUsIHRoaXMub25Dcm9wTW92ZSA9IHRoaXMuY3JvcE1vdmUuYmluZCh0aGlzKSk7XG4gICAgICBhZGRMaXN0ZW5lcihlbGVtZW50Lm93bmVyRG9jdW1lbnQsIEVWRU5UX1BPSU5URVJfVVAsIHRoaXMub25Dcm9wRW5kID0gdGhpcy5jcm9wRW5kLmJpbmQodGhpcykpO1xuXG4gICAgICBpZiAob3B0aW9ucy5yZXNwb25zaXZlKSB7XG4gICAgICAgIGFkZExpc3RlbmVyKHdpbmRvdywgRVZFTlRfUkVTSVpFLCB0aGlzLm9uUmVzaXplID0gdGhpcy5yZXNpemUuYmluZCh0aGlzKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZCgpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50LFxuICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgY3JvcHBlciA9IHRoaXMuY3JvcHBlcjtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5jcm9wc3RhcnQpKSB7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX0NST1BfU1RBUlQsIG9wdGlvbnMuY3JvcHN0YXJ0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5jcm9wbW92ZSkpIHtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfQ1JPUF9NT1ZFLCBvcHRpb25zLmNyb3Btb3ZlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5jcm9wZW5kKSkge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9DUk9QX0VORCwgb3B0aW9ucy5jcm9wZW5kKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5jcm9wKSkge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9DUk9QLCBvcHRpb25zLmNyb3ApO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLnpvb20pKSB7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX1pPT00sIG9wdGlvbnMuem9vbSk7XG4gICAgICB9XG5cbiAgICAgIHJlbW92ZUxpc3RlbmVyKGNyb3BwZXIsIEVWRU5UX1BPSU5URVJfRE9XTiwgdGhpcy5vbkNyb3BTdGFydCk7XG5cbiAgICAgIGlmIChvcHRpb25zLnpvb21hYmxlICYmIG9wdGlvbnMuem9vbU9uV2hlZWwpIHtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIoY3JvcHBlciwgRVZFTlRfV0hFRUwsIHRoaXMub25XaGVlbCwge1xuICAgICAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnRvZ2dsZURyYWdNb2RlT25EYmxjbGljaykge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcihjcm9wcGVyLCBFVkVOVF9EQkxDTElDSywgdGhpcy5vbkRibGNsaWNrKTtcbiAgICAgIH1cblxuICAgICAgcmVtb3ZlTGlzdGVuZXIoZWxlbWVudC5vd25lckRvY3VtZW50LCBFVkVOVF9QT0lOVEVSX01PVkUsIHRoaXMub25Dcm9wTW92ZSk7XG4gICAgICByZW1vdmVMaXN0ZW5lcihlbGVtZW50Lm93bmVyRG9jdW1lbnQsIEVWRU5UX1BPSU5URVJfVVAsIHRoaXMub25Dcm9wRW5kKTtcblxuICAgICAgaWYgKG9wdGlvbnMucmVzcG9uc2l2ZSkge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcih3aW5kb3csIEVWRU5UX1JFU0laRSwgdGhpcy5vblJlc2l6ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBoYW5kbGVycyA9IHtcbiAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgY29udGFpbmVyRGF0YSA9IHRoaXMuY29udGFpbmVyRGF0YTtcbiAgICAgIHZhciByYXRpbyA9IGNvbnRhaW5lci5vZmZzZXRXaWR0aCAvIGNvbnRhaW5lckRhdGEud2lkdGg7IC8vIFJlc2l6ZSB3aGVuIHdpZHRoIGNoYW5nZWQgb3IgaGVpZ2h0IGNoYW5nZWRcblxuICAgICAgaWYgKHJhdGlvICE9PSAxIHx8IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQgIT09IGNvbnRhaW5lckRhdGEuaGVpZ2h0KSB7XG4gICAgICAgIHZhciBjYW52YXNEYXRhO1xuICAgICAgICB2YXIgY3JvcEJveERhdGE7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucmVzdG9yZSkge1xuICAgICAgICAgIGNhbnZhc0RhdGEgPSB0aGlzLmdldENhbnZhc0RhdGEoKTtcbiAgICAgICAgICBjcm9wQm94RGF0YSA9IHRoaXMuZ2V0Q3JvcEJveERhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucmVzdG9yZSkge1xuICAgICAgICAgIHRoaXMuc2V0Q2FudmFzRGF0YShmb3JFYWNoKGNhbnZhc0RhdGEsIGZ1bmN0aW9uIChuLCBpKSB7XG4gICAgICAgICAgICBjYW52YXNEYXRhW2ldID0gbiAqIHJhdGlvO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgICB0aGlzLnNldENyb3BCb3hEYXRhKGZvckVhY2goY3JvcEJveERhdGEsIGZ1bmN0aW9uIChuLCBpKSB7XG4gICAgICAgICAgICBjcm9wQm94RGF0YVtpXSA9IG4gKiByYXRpbztcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGRibGNsaWNrOiBmdW5jdGlvbiBkYmxjbGljaygpIHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkIHx8IHRoaXMub3B0aW9ucy5kcmFnTW9kZSA9PT0gRFJBR19NT0RFX05PTkUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldERyYWdNb2RlKGhhc0NsYXNzKHRoaXMuZHJhZ0JveCwgQ0xBU1NfQ1JPUCkgPyBEUkFHX01PREVfTU9WRSA6IERSQUdfTU9ERV9DUk9QKTtcbiAgICB9LFxuICAgIHdoZWVsOiBmdW5jdGlvbiB3aGVlbChldmVudCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIHJhdGlvID0gTnVtYmVyKHRoaXMub3B0aW9ucy53aGVlbFpvb21SYXRpbykgfHwgMC4xO1xuICAgICAgdmFyIGRlbHRhID0gMTtcblxuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBMaW1pdCB3aGVlbCBzcGVlZCB0byBwcmV2ZW50IHpvb20gdG9vIGZhc3QgKCMyMSlcblxuICAgICAgaWYgKHRoaXMud2hlZWxpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLndoZWVsaW5nID0gdHJ1ZTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy53aGVlbGluZyA9IGZhbHNlO1xuICAgICAgfSwgNTApO1xuXG4gICAgICBpZiAoZXZlbnQuZGVsdGFZKSB7XG4gICAgICAgIGRlbHRhID0gZXZlbnQuZGVsdGFZID4gMCA/IDEgOiAtMTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQud2hlZWxEZWx0YSkge1xuICAgICAgICBkZWx0YSA9IC1ldmVudC53aGVlbERlbHRhIC8gMTIwO1xuICAgICAgfSBlbHNlIGlmIChldmVudC5kZXRhaWwpIHtcbiAgICAgICAgZGVsdGEgPSBldmVudC5kZXRhaWwgPiAwID8gMSA6IC0xO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnpvb20oLWRlbHRhICogcmF0aW8sIGV2ZW50KTtcbiAgICB9LFxuICAgIGNyb3BTdGFydDogZnVuY3Rpb24gY3JvcFN0YXJ0KGV2ZW50KSB7XG4gICAgICB2YXIgYnV0dG9ucyA9IGV2ZW50LmJ1dHRvbnMsXG4gICAgICAgICAgYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuXG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCAvLyBIYW5kbGUgbW91c2UgZXZlbnQgYW5kIHBvaW50ZXIgZXZlbnQgYW5kIGlnbm9yZSB0b3VjaCBldmVudFxuICAgICAgfHwgKGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nIHx8IGV2ZW50LnR5cGUgPT09ICdwb2ludGVyZG93bicgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpICYmICggLy8gTm8gcHJpbWFyeSBidXR0b24gKFVzdWFsbHkgdGhlIGxlZnQgYnV0dG9uKVxuICAgICAgaXNOdW1iZXIoYnV0dG9ucykgJiYgYnV0dG9ucyAhPT0gMSB8fCBpc051bWJlcihidXR0b24pICYmIGJ1dHRvbiAhPT0gMCAvLyBPcGVuIGNvbnRleHQgbWVudVxuICAgICAgfHwgZXZlbnQuY3RybEtleSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBwb2ludGVycyA9IHRoaXMucG9pbnRlcnM7XG4gICAgICB2YXIgYWN0aW9uO1xuXG4gICAgICBpZiAoZXZlbnQuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgLy8gSGFuZGxlIHRvdWNoIGV2ZW50XG4gICAgICAgIGZvckVhY2goZXZlbnQuY2hhbmdlZFRvdWNoZXMsIGZ1bmN0aW9uICh0b3VjaCkge1xuICAgICAgICAgIHBvaW50ZXJzW3RvdWNoLmlkZW50aWZpZXJdID0gZ2V0UG9pbnRlcih0b3VjaCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSGFuZGxlIG1vdXNlIGV2ZW50IGFuZCBwb2ludGVyIGV2ZW50XG4gICAgICAgIHBvaW50ZXJzW2V2ZW50LnBvaW50ZXJJZCB8fCAwXSA9IGdldFBvaW50ZXIoZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMocG9pbnRlcnMpLmxlbmd0aCA+IDEgJiYgb3B0aW9ucy56b29tYWJsZSAmJiBvcHRpb25zLnpvb21PblRvdWNoKSB7XG4gICAgICAgIGFjdGlvbiA9IEFDVElPTl9aT09NO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aW9uID0gZ2V0RGF0YShldmVudC50YXJnZXQsIERBVEFfQUNUSU9OKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFSRUdFWFBfQUNUSU9OUy50ZXN0KGFjdGlvbikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlzcGF0Y2hFdmVudCh0aGlzLmVsZW1lbnQsIEVWRU5UX0NST1BfU1RBUlQsIHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIGFjdGlvbjogYWN0aW9uXG4gICAgICB9KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBUaGlzIGxpbmUgaXMgcmVxdWlyZWQgZm9yIHByZXZlbnRpbmcgcGFnZSB6b29taW5nIGluIGlPUyBicm93c2Vyc1xuXG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjtcbiAgICAgIHRoaXMuY3JvcHBpbmcgPSBmYWxzZTtcblxuICAgICAgaWYgKGFjdGlvbiA9PT0gQUNUSU9OX0NST1ApIHtcbiAgICAgICAgdGhpcy5jcm9wcGluZyA9IHRydWU7XG4gICAgICAgIGFkZENsYXNzKHRoaXMuZHJhZ0JveCwgQ0xBU1NfTU9EQUwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY3JvcE1vdmU6IGZ1bmN0aW9uIGNyb3BNb3ZlKGV2ZW50KSB7XG4gICAgICB2YXIgYWN0aW9uID0gdGhpcy5hY3Rpb247XG5cbiAgICAgIGlmICh0aGlzLmRpc2FibGVkIHx8ICFhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcG9pbnRlcnMgPSB0aGlzLnBvaW50ZXJzO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaWYgKGRpc3BhdGNoRXZlbnQodGhpcy5lbGVtZW50LCBFVkVOVF9DUk9QX01PVkUsIHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIGFjdGlvbjogYWN0aW9uXG4gICAgICB9KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgZm9yRWFjaChldmVudC5jaGFuZ2VkVG91Y2hlcywgZnVuY3Rpb24gKHRvdWNoKSB7XG4gICAgICAgICAgLy8gVGhlIGZpcnN0IHBhcmFtZXRlciBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCAoIzQzMilcbiAgICAgICAgICBhc3NpZ24ocG9pbnRlcnNbdG91Y2guaWRlbnRpZmllcl0gfHwge30sIGdldFBvaW50ZXIodG91Y2gsIHRydWUpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc3NpZ24ocG9pbnRlcnNbZXZlbnQucG9pbnRlcklkIHx8IDBdIHx8IHt9LCBnZXRQb2ludGVyKGV2ZW50LCB0cnVlKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2hhbmdlKGV2ZW50KTtcbiAgICB9LFxuICAgIGNyb3BFbmQ6IGZ1bmN0aW9uIGNyb3BFbmQoZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGFjdGlvbiA9IHRoaXMuYWN0aW9uLFxuICAgICAgICAgIHBvaW50ZXJzID0gdGhpcy5wb2ludGVycztcblxuICAgICAgaWYgKGV2ZW50LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgIGZvckVhY2goZXZlbnQuY2hhbmdlZFRvdWNoZXMsIGZ1bmN0aW9uICh0b3VjaCkge1xuICAgICAgICAgIGRlbGV0ZSBwb2ludGVyc1t0b3VjaC5pZGVudGlmaWVyXTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgcG9pbnRlcnNbZXZlbnQucG9pbnRlcklkIHx8IDBdO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWFjdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGlmICghT2JqZWN0LmtleXMocG9pbnRlcnMpLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmFjdGlvbiA9ICcnO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jcm9wcGluZykge1xuICAgICAgICB0aGlzLmNyb3BwaW5nID0gZmFsc2U7XG4gICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuZHJhZ0JveCwgQ0xBU1NfTU9EQUwsIHRoaXMuY3JvcHBlZCAmJiB0aGlzLm9wdGlvbnMubW9kYWwpO1xuICAgICAgfVxuXG4gICAgICBkaXNwYXRjaEV2ZW50KHRoaXMuZWxlbWVudCwgRVZFTlRfQ1JPUF9FTkQsIHtcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgIGFjdGlvbjogYWN0aW9uXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNoYW5nZSA9IHtcbiAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShldmVudCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgY2FudmFzRGF0YSA9IHRoaXMuY2FudmFzRGF0YSxcbiAgICAgICAgICBjb250YWluZXJEYXRhID0gdGhpcy5jb250YWluZXJEYXRhLFxuICAgICAgICAgIGNyb3BCb3hEYXRhID0gdGhpcy5jcm9wQm94RGF0YSxcbiAgICAgICAgICBwb2ludGVycyA9IHRoaXMucG9pbnRlcnM7XG4gICAgICB2YXIgYWN0aW9uID0gdGhpcy5hY3Rpb247XG4gICAgICB2YXIgYXNwZWN0UmF0aW8gPSBvcHRpb25zLmFzcGVjdFJhdGlvO1xuICAgICAgdmFyIGxlZnQgPSBjcm9wQm94RGF0YS5sZWZ0LFxuICAgICAgICAgIHRvcCA9IGNyb3BCb3hEYXRhLnRvcCxcbiAgICAgICAgICB3aWR0aCA9IGNyb3BCb3hEYXRhLndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IGNyb3BCb3hEYXRhLmhlaWdodDtcbiAgICAgIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDtcbiAgICAgIHZhciBib3R0b20gPSB0b3AgKyBoZWlnaHQ7XG4gICAgICB2YXIgbWluTGVmdCA9IDA7XG4gICAgICB2YXIgbWluVG9wID0gMDtcbiAgICAgIHZhciBtYXhXaWR0aCA9IGNvbnRhaW5lckRhdGEud2lkdGg7XG4gICAgICB2YXIgbWF4SGVpZ2h0ID0gY29udGFpbmVyRGF0YS5oZWlnaHQ7XG4gICAgICB2YXIgcmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICB2YXIgb2Zmc2V0OyAvLyBMb2NraW5nIGFzcGVjdCByYXRpbyBpbiBcImZyZWUgbW9kZVwiIGJ5IGhvbGRpbmcgc2hpZnQga2V5XG5cbiAgICAgIGlmICghYXNwZWN0UmF0aW8gJiYgZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgYXNwZWN0UmF0aW8gPSB3aWR0aCAmJiBoZWlnaHQgPyB3aWR0aCAvIGhlaWdodCA6IDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmxpbWl0ZWQpIHtcbiAgICAgICAgbWluTGVmdCA9IGNyb3BCb3hEYXRhLm1pbkxlZnQ7XG4gICAgICAgIG1pblRvcCA9IGNyb3BCb3hEYXRhLm1pblRvcDtcbiAgICAgICAgbWF4V2lkdGggPSBtaW5MZWZ0ICsgTWF0aC5taW4oY29udGFpbmVyRGF0YS53aWR0aCwgY2FudmFzRGF0YS53aWR0aCwgY2FudmFzRGF0YS5sZWZ0ICsgY2FudmFzRGF0YS53aWR0aCk7XG4gICAgICAgIG1heEhlaWdodCA9IG1pblRvcCArIE1hdGgubWluKGNvbnRhaW5lckRhdGEuaGVpZ2h0LCBjYW52YXNEYXRhLmhlaWdodCwgY2FudmFzRGF0YS50b3AgKyBjYW52YXNEYXRhLmhlaWdodCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwb2ludGVyID0gcG9pbnRlcnNbT2JqZWN0LmtleXMocG9pbnRlcnMpWzBdXTtcbiAgICAgIHZhciByYW5nZSA9IHtcbiAgICAgICAgeDogcG9pbnRlci5lbmRYIC0gcG9pbnRlci5zdGFydFgsXG4gICAgICAgIHk6IHBvaW50ZXIuZW5kWSAtIHBvaW50ZXIuc3RhcnRZXG4gICAgICB9O1xuXG4gICAgICB2YXIgY2hlY2sgPSBmdW5jdGlvbiBjaGVjayhzaWRlKSB7XG4gICAgICAgIHN3aXRjaCAoc2lkZSkge1xuICAgICAgICAgIGNhc2UgQUNUSU9OX0VBU1Q6XG4gICAgICAgICAgICBpZiAocmlnaHQgKyByYW5nZS54ID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgcmFuZ2UueCA9IG1heFdpZHRoIC0gcmlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBBQ1RJT05fV0VTVDpcbiAgICAgICAgICAgIGlmIChsZWZ0ICsgcmFuZ2UueCA8IG1pbkxlZnQpIHtcbiAgICAgICAgICAgICAgcmFuZ2UueCA9IG1pbkxlZnQgLSBsZWZ0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgQUNUSU9OX05PUlRIOlxuICAgICAgICAgICAgaWYgKHRvcCArIHJhbmdlLnkgPCBtaW5Ub3ApIHtcbiAgICAgICAgICAgICAgcmFuZ2UueSA9IG1pblRvcCAtIHRvcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIEFDVElPTl9TT1VUSDpcbiAgICAgICAgICAgIGlmIChib3R0b20gKyByYW5nZS55ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgICAgIHJhbmdlLnkgPSBtYXhIZWlnaHQgLSBib3R0b207XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICAvLyBNb3ZlIGNyb3AgYm94XG4gICAgICAgIGNhc2UgQUNUSU9OX0FMTDpcbiAgICAgICAgICBsZWZ0ICs9IHJhbmdlLng7XG4gICAgICAgICAgdG9wICs9IHJhbmdlLnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIFJlc2l6ZSBjcm9wIGJveFxuXG4gICAgICAgIGNhc2UgQUNUSU9OX0VBU1Q6XG4gICAgICAgICAgaWYgKHJhbmdlLnggPj0gMCAmJiAocmlnaHQgPj0gbWF4V2lkdGggfHwgYXNwZWN0UmF0aW8gJiYgKHRvcCA8PSBtaW5Ub3AgfHwgYm90dG9tID49IG1heEhlaWdodCkpKSB7XG4gICAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjaGVjayhBQ1RJT05fRUFTVCk7XG4gICAgICAgICAgd2lkdGggKz0gcmFuZ2UueDtcblxuICAgICAgICAgIGlmICh3aWR0aCA8IDApIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9XRVNUO1xuICAgICAgICAgICAgd2lkdGggPSAtd2lkdGg7XG4gICAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgICAgIHRvcCArPSAoY3JvcEJveERhdGEuaGVpZ2h0IC0gaGVpZ2h0KSAvIDI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBBQ1RJT05fTk9SVEg6XG4gICAgICAgICAgaWYgKHJhbmdlLnkgPD0gMCAmJiAodG9wIDw9IG1pblRvcCB8fCBhc3BlY3RSYXRpbyAmJiAobGVmdCA8PSBtaW5MZWZ0IHx8IHJpZ2h0ID49IG1heFdpZHRoKSkpIHtcbiAgICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNoZWNrKEFDVElPTl9OT1JUSCk7XG4gICAgICAgICAgaGVpZ2h0IC09IHJhbmdlLnk7XG4gICAgICAgICAgdG9wICs9IHJhbmdlLnk7XG5cbiAgICAgICAgICBpZiAoaGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgYWN0aW9uID0gQUNUSU9OX1NPVVRIO1xuICAgICAgICAgICAgaGVpZ2h0ID0gLWhlaWdodDtcbiAgICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgICB3aWR0aCA9IGhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgbGVmdCArPSAoY3JvcEJveERhdGEud2lkdGggLSB3aWR0aCkgLyAyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgQUNUSU9OX1dFU1Q6XG4gICAgICAgICAgaWYgKHJhbmdlLnggPD0gMCAmJiAobGVmdCA8PSBtaW5MZWZ0IHx8IGFzcGVjdFJhdGlvICYmICh0b3AgPD0gbWluVG9wIHx8IGJvdHRvbSA+PSBtYXhIZWlnaHQpKSkge1xuICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hlY2soQUNUSU9OX1dFU1QpO1xuICAgICAgICAgIHdpZHRoIC09IHJhbmdlLng7XG4gICAgICAgICAgbGVmdCArPSByYW5nZS54O1xuXG4gICAgICAgICAgaWYgKHdpZHRoIDwgMCkge1xuICAgICAgICAgICAgYWN0aW9uID0gQUNUSU9OX0VBU1Q7XG4gICAgICAgICAgICB3aWR0aCA9IC13aWR0aDtcbiAgICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgdG9wICs9IChjcm9wQm94RGF0YS5oZWlnaHQgLSBoZWlnaHQpIC8gMjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEFDVElPTl9TT1VUSDpcbiAgICAgICAgICBpZiAocmFuZ2UueSA+PSAwICYmIChib3R0b20gPj0gbWF4SGVpZ2h0IHx8IGFzcGVjdFJhdGlvICYmIChsZWZ0IDw9IG1pbkxlZnQgfHwgcmlnaHQgPj0gbWF4V2lkdGgpKSkge1xuICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hlY2soQUNUSU9OX1NPVVRIKTtcbiAgICAgICAgICBoZWlnaHQgKz0gcmFuZ2UueTtcblxuICAgICAgICAgIGlmIChoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBBQ1RJT05fTk9SVEg7XG4gICAgICAgICAgICBoZWlnaHQgPSAtaGVpZ2h0O1xuICAgICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgICBsZWZ0ICs9IChjcm9wQm94RGF0YS53aWR0aCAtIHdpZHRoKSAvIDI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBBQ1RJT05fTk9SVEhfRUFTVDpcbiAgICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgIGlmIChyYW5nZS55IDw9IDAgJiYgKHRvcCA8PSBtaW5Ub3AgfHwgcmlnaHQgPj0gbWF4V2lkdGgpKSB7XG4gICAgICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoZWNrKEFDVElPTl9OT1JUSCk7XG4gICAgICAgICAgICBoZWlnaHQgLT0gcmFuZ2UueTtcbiAgICAgICAgICAgIHRvcCArPSByYW5nZS55O1xuICAgICAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2soQUNUSU9OX05PUlRIKTtcbiAgICAgICAgICAgIGNoZWNrKEFDVElPTl9FQVNUKTtcblxuICAgICAgICAgICAgaWYgKHJhbmdlLnggPj0gMCkge1xuICAgICAgICAgICAgICBpZiAocmlnaHQgPCBtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgIHdpZHRoICs9IHJhbmdlLng7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2UueSA8PSAwICYmIHRvcCA8PSBtaW5Ub3ApIHtcbiAgICAgICAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHdpZHRoICs9IHJhbmdlLng7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyYW5nZS55IDw9IDApIHtcbiAgICAgICAgICAgICAgaWYgKHRvcCA+IG1pblRvcCkge1xuICAgICAgICAgICAgICAgIGhlaWdodCAtPSByYW5nZS55O1xuICAgICAgICAgICAgICAgIHRvcCArPSByYW5nZS55O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBoZWlnaHQgLT0gcmFuZ2UueTtcbiAgICAgICAgICAgICAgdG9wICs9IHJhbmdlLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHdpZHRoIDwgMCAmJiBoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBBQ1RJT05fU09VVEhfV0VTVDtcbiAgICAgICAgICAgIGhlaWdodCA9IC1oZWlnaHQ7XG4gICAgICAgICAgICB3aWR0aCA9IC13aWR0aDtcbiAgICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICAgIH0gZWxzZSBpZiAod2lkdGggPCAwKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBBQ1RJT05fTk9SVEhfV0VTVDtcbiAgICAgICAgICAgIHdpZHRoID0gLXdpZHRoO1xuICAgICAgICAgICAgbGVmdCAtPSB3aWR0aDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGhlaWdodCA8IDApIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9TT1VUSF9FQVNUO1xuICAgICAgICAgICAgaGVpZ2h0ID0gLWhlaWdodDtcbiAgICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBBQ1RJT05fTk9SVEhfV0VTVDpcbiAgICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgIGlmIChyYW5nZS55IDw9IDAgJiYgKHRvcCA8PSBtaW5Ub3AgfHwgbGVmdCA8PSBtaW5MZWZ0KSkge1xuICAgICAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGVjayhBQ1RJT05fTk9SVEgpO1xuICAgICAgICAgICAgaGVpZ2h0IC09IHJhbmdlLnk7XG4gICAgICAgICAgICB0b3AgKz0gcmFuZ2UueTtcbiAgICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgICBsZWZ0ICs9IGNyb3BCb3hEYXRhLndpZHRoIC0gd2lkdGg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrKEFDVElPTl9OT1JUSCk7XG4gICAgICAgICAgICBjaGVjayhBQ1RJT05fV0VTVCk7XG5cbiAgICAgICAgICAgIGlmIChyYW5nZS54IDw9IDApIHtcbiAgICAgICAgICAgICAgaWYgKGxlZnQgPiBtaW5MZWZ0KSB7XG4gICAgICAgICAgICAgICAgd2lkdGggLT0gcmFuZ2UueDtcbiAgICAgICAgICAgICAgICBsZWZ0ICs9IHJhbmdlLng7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2UueSA8PSAwICYmIHRvcCA8PSBtaW5Ub3ApIHtcbiAgICAgICAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHdpZHRoIC09IHJhbmdlLng7XG4gICAgICAgICAgICAgIGxlZnQgKz0gcmFuZ2UueDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJhbmdlLnkgPD0gMCkge1xuICAgICAgICAgICAgICBpZiAodG9wID4gbWluVG9wKSB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0IC09IHJhbmdlLnk7XG4gICAgICAgICAgICAgICAgdG9wICs9IHJhbmdlLnk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGhlaWdodCAtPSByYW5nZS55O1xuICAgICAgICAgICAgICB0b3AgKz0gcmFuZ2UueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAod2lkdGggPCAwICYmIGhlaWdodCA8IDApIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9TT1VUSF9FQVNUO1xuICAgICAgICAgICAgaGVpZ2h0ID0gLWhlaWdodDtcbiAgICAgICAgICAgIHdpZHRoID0gLXdpZHRoO1xuICAgICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgICAgfSBlbHNlIGlmICh3aWR0aCA8IDApIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9OT1JUSF9FQVNUO1xuICAgICAgICAgICAgd2lkdGggPSAtd2lkdGg7XG4gICAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgYWN0aW9uID0gQUNUSU9OX1NPVVRIX1dFU1Q7XG4gICAgICAgICAgICBoZWlnaHQgPSAtaGVpZ2h0O1xuICAgICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEFDVElPTl9TT1VUSF9XRVNUOlxuICAgICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgaWYgKHJhbmdlLnggPD0gMCAmJiAobGVmdCA8PSBtaW5MZWZ0IHx8IGJvdHRvbSA+PSBtYXhIZWlnaHQpKSB7XG4gICAgICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoZWNrKEFDVElPTl9XRVNUKTtcbiAgICAgICAgICAgIHdpZHRoIC09IHJhbmdlLng7XG4gICAgICAgICAgICBsZWZ0ICs9IHJhbmdlLng7XG4gICAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGVjayhBQ1RJT05fU09VVEgpO1xuICAgICAgICAgICAgY2hlY2soQUNUSU9OX1dFU1QpO1xuXG4gICAgICAgICAgICBpZiAocmFuZ2UueCA8PSAwKSB7XG4gICAgICAgICAgICAgIGlmIChsZWZ0ID4gbWluTGVmdCkge1xuICAgICAgICAgICAgICAgIHdpZHRoIC09IHJhbmdlLng7XG4gICAgICAgICAgICAgICAgbGVmdCArPSByYW5nZS54O1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmdlLnkgPj0gMCAmJiBib3R0b20gPj0gbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB3aWR0aCAtPSByYW5nZS54O1xuICAgICAgICAgICAgICBsZWZ0ICs9IHJhbmdlLng7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyYW5nZS55ID49IDApIHtcbiAgICAgICAgICAgICAgaWYgKGJvdHRvbSA8IG1heEhlaWdodCkge1xuICAgICAgICAgICAgICAgIGhlaWdodCArPSByYW5nZS55O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBoZWlnaHQgKz0gcmFuZ2UueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAod2lkdGggPCAwICYmIGhlaWdodCA8IDApIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9OT1JUSF9FQVNUO1xuICAgICAgICAgICAgaGVpZ2h0ID0gLWhlaWdodDtcbiAgICAgICAgICAgIHdpZHRoID0gLXdpZHRoO1xuICAgICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgICAgfSBlbHNlIGlmICh3aWR0aCA8IDApIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9TT1VUSF9FQVNUO1xuICAgICAgICAgICAgd2lkdGggPSAtd2lkdGg7XG4gICAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgYWN0aW9uID0gQUNUSU9OX05PUlRIX1dFU1Q7XG4gICAgICAgICAgICBoZWlnaHQgPSAtaGVpZ2h0O1xuICAgICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEFDVElPTl9TT1VUSF9FQVNUOlxuICAgICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgaWYgKHJhbmdlLnggPj0gMCAmJiAocmlnaHQgPj0gbWF4V2lkdGggfHwgYm90dG9tID49IG1heEhlaWdodCkpIHtcbiAgICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hlY2soQUNUSU9OX0VBU1QpO1xuICAgICAgICAgICAgd2lkdGggKz0gcmFuZ2UueDtcbiAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrKEFDVElPTl9TT1VUSCk7XG4gICAgICAgICAgICBjaGVjayhBQ1RJT05fRUFTVCk7XG5cbiAgICAgICAgICAgIGlmIChyYW5nZS54ID49IDApIHtcbiAgICAgICAgICAgICAgaWYgKHJpZ2h0IDwgbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICB3aWR0aCArPSByYW5nZS54O1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmdlLnkgPj0gMCAmJiBib3R0b20gPj0gbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB3aWR0aCArPSByYW5nZS54O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmFuZ2UueSA+PSAwKSB7XG4gICAgICAgICAgICAgIGlmIChib3R0b20gPCBtYXhIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gcmFuZ2UueTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaGVpZ2h0ICs9IHJhbmdlLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHdpZHRoIDwgMCAmJiBoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBBQ1RJT05fTk9SVEhfV0VTVDtcbiAgICAgICAgICAgIGhlaWdodCA9IC1oZWlnaHQ7XG4gICAgICAgICAgICB3aWR0aCA9IC13aWR0aDtcbiAgICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICAgIH0gZWxzZSBpZiAod2lkdGggPCAwKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSBBQ1RJT05fU09VVEhfV0VTVDtcbiAgICAgICAgICAgIHdpZHRoID0gLXdpZHRoO1xuICAgICAgICAgICAgbGVmdCAtPSB3aWR0aDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGhlaWdodCA8IDApIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IEFDVElPTl9OT1JUSF9FQVNUO1xuICAgICAgICAgICAgaGVpZ2h0ID0gLWhlaWdodDtcbiAgICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIE1vdmUgY2FudmFzXG5cbiAgICAgICAgY2FzZSBBQ1RJT05fTU9WRTpcbiAgICAgICAgICB0aGlzLm1vdmUocmFuZ2UueCwgcmFuZ2UueSk7XG4gICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBab29tIGNhbnZhc1xuXG4gICAgICAgIGNhc2UgQUNUSU9OX1pPT006XG4gICAgICAgICAgdGhpcy56b29tKGdldE1heFpvb21SYXRpbyhwb2ludGVycyksIGV2ZW50KTtcbiAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIENyZWF0ZSBjcm9wIGJveFxuXG4gICAgICAgIGNhc2UgQUNUSU9OX0NST1A6XG4gICAgICAgICAgaWYgKCFyYW5nZS54IHx8ICFyYW5nZS55KSB7XG4gICAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvZmZzZXQgPSBnZXRPZmZzZXQodGhpcy5jcm9wcGVyKTtcbiAgICAgICAgICBsZWZ0ID0gcG9pbnRlci5zdGFydFggLSBvZmZzZXQubGVmdDtcbiAgICAgICAgICB0b3AgPSBwb2ludGVyLnN0YXJ0WSAtIG9mZnNldC50b3A7XG4gICAgICAgICAgd2lkdGggPSBjcm9wQm94RGF0YS5taW5XaWR0aDtcbiAgICAgICAgICBoZWlnaHQgPSBjcm9wQm94RGF0YS5taW5IZWlnaHQ7XG5cbiAgICAgICAgICBpZiAocmFuZ2UueCA+IDApIHtcbiAgICAgICAgICAgIGFjdGlvbiA9IHJhbmdlLnkgPiAwID8gQUNUSU9OX1NPVVRIX0VBU1QgOiBBQ1RJT05fTk9SVEhfRUFTVDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJhbmdlLnggPCAwKSB7XG4gICAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICAgICAgYWN0aW9uID0gcmFuZ2UueSA+IDAgPyBBQ1RJT05fU09VVEhfV0VTVCA6IEFDVElPTl9OT1JUSF9XRVNUO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyYW5nZS55IDwgMCkge1xuICAgICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgICB9IC8vIFNob3cgdGhlIGNyb3AgYm94IGlmIGlzIGhpZGRlblxuXG5cbiAgICAgICAgICBpZiAoIXRoaXMuY3JvcHBlZCkge1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5jcm9wQm94LCBDTEFTU19ISURERU4pO1xuICAgICAgICAgICAgdGhpcy5jcm9wcGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubGltaXRlZCkge1xuICAgICAgICAgICAgICB0aGlzLmxpbWl0Q3JvcEJveCh0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlbmRlcmFibGUpIHtcbiAgICAgICAgY3JvcEJveERhdGEud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY3JvcEJveERhdGEuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjcm9wQm94RGF0YS5sZWZ0ID0gbGVmdDtcbiAgICAgICAgY3JvcEJveERhdGEudG9wID0gdG9wO1xuICAgICAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjtcbiAgICAgICAgdGhpcy5yZW5kZXJDcm9wQm94KCk7XG4gICAgICB9IC8vIE92ZXJyaWRlXG5cblxuICAgICAgZm9yRWFjaChwb2ludGVycywgZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcC5zdGFydFggPSBwLmVuZFg7XG4gICAgICAgIHAuc3RhcnRZID0gcC5lbmRZO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBtZXRob2RzID0ge1xuICAgIC8vIFNob3cgdGhlIGNyb3AgYm94IG1hbnVhbGx5XG4gICAgY3JvcDogZnVuY3Rpb24gY3JvcCgpIHtcbiAgICAgIGlmICh0aGlzLnJlYWR5ICYmICF0aGlzLmNyb3BwZWQgJiYgIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5jcm9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saW1pdENyb3BCb3godHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tb2RhbCkge1xuICAgICAgICAgIGFkZENsYXNzKHRoaXMuZHJhZ0JveCwgQ0xBU1NfTU9EQUwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5jcm9wQm94LCBDTEFTU19ISURERU4pO1xuICAgICAgICB0aGlzLnNldENyb3BCb3hEYXRhKHRoaXMuaW5pdGlhbENyb3BCb3hEYXRhKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICAvLyBSZXNldCB0aGUgaW1hZ2UgYW5kIGNyb3AgYm94IHRvIHRoZWlyIGluaXRpYWwgc3RhdGVzXG4gICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgaWYgKHRoaXMucmVhZHkgJiYgIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5pbWFnZURhdGEgPSBhc3NpZ24oe30sIHRoaXMuaW5pdGlhbEltYWdlRGF0YSk7XG4gICAgICAgIHRoaXMuY2FudmFzRGF0YSA9IGFzc2lnbih7fSwgdGhpcy5pbml0aWFsQ2FudmFzRGF0YSk7XG4gICAgICAgIHRoaXMuY3JvcEJveERhdGEgPSBhc3NpZ24oe30sIHRoaXMuaW5pdGlhbENyb3BCb3hEYXRhKTtcbiAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMoKTtcblxuICAgICAgICBpZiAodGhpcy5jcm9wcGVkKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJDcm9wQm94KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICAvLyBDbGVhciB0aGUgY3JvcCBib3hcbiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICBpZiAodGhpcy5jcm9wcGVkICYmICF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIGFzc2lnbih0aGlzLmNyb3BCb3hEYXRhLCB7XG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgaGVpZ2h0OiAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNyb3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZW5kZXJDcm9wQm94KCk7XG4gICAgICAgIHRoaXMubGltaXRDYW52YXModHJ1ZSwgdHJ1ZSk7IC8vIFJlbmRlciBjYW52YXMgYWZ0ZXIgY3JvcCBib3ggcmVuZGVyZWRcblxuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcygpO1xuICAgICAgICByZW1vdmVDbGFzcyh0aGlzLmRyYWdCb3gsIENMQVNTX01PREFMKTtcbiAgICAgICAgYWRkQ2xhc3ModGhpcy5jcm9wQm94LCBDTEFTU19ISURERU4pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZSB0aGUgaW1hZ2UncyBzcmMgYW5kIHJlYnVpbGQgdGhlIGNyb3BwZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIG5ldyBVUkwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGFzU2FtZVNpemVdIC0gSW5kaWNhdGUgaWYgdGhlIG5ldyBpbWFnZSBoYXMgdGhlIHNhbWUgc2l6ZSBhcyB0aGUgb2xkIG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Q3JvcHBlcn0gdGhpc1xuICAgICAqL1xuICAgIHJlcGxhY2U6IGZ1bmN0aW9uIHJlcGxhY2UodXJsKSB7XG4gICAgICB2YXIgaGFzU2FtZVNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICBpZiAoIXRoaXMuZGlzYWJsZWQgJiYgdXJsKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSW1nKSB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50LnNyYyA9IHVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNTYW1lU2l6ZSkge1xuICAgICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gdXJsO1xuXG4gICAgICAgICAgaWYgKHRoaXMucmVhZHkpIHtcbiAgICAgICAgICAgIHRoaXMudmlld0JveEltYWdlLnNyYyA9IHVybDtcbiAgICAgICAgICAgIGZvckVhY2godGhpcy5wcmV2aWV3cywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJylbMF0uc3JjID0gdXJsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLmlzSW1nKSB7XG4gICAgICAgICAgICB0aGlzLnJlcGxhY2VkID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLm9wdGlvbnMuZGF0YSA9IG51bGw7XG4gICAgICAgICAgdGhpcy51bmNyZWF0ZSgpO1xuICAgICAgICAgIHRoaXMubG9hZCh1cmwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgLy8gRW5hYmxlICh1bmZyZWV6ZSkgdGhlIGNyb3BwZXJcbiAgICBlbmFibGU6IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIGlmICh0aGlzLnJlYWR5ICYmIHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICByZW1vdmVDbGFzcyh0aGlzLmNyb3BwZXIsIENMQVNTX0RJU0FCTEVEKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICAvLyBEaXNhYmxlIChmcmVlemUpIHRoZSBjcm9wcGVyXG4gICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIGlmICh0aGlzLnJlYWR5ICYmICF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBhZGRDbGFzcyh0aGlzLmNyb3BwZXIsIENMQVNTX0RJU0FCTEVEKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIGNyb3BwZXIgYW5kIHJlbW92ZSB0aGUgaW5zdGFuY2UgZnJvbSB0aGUgaW1hZ2VcbiAgICAgKiBAcmV0dXJucyB7Q3JvcHBlcn0gdGhpc1xuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcblxuICAgICAgaWYgKCFlbGVtZW50W05BTUVTUEFDRV0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnRbTkFNRVNQQUNFXSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHRoaXMuaXNJbWcgJiYgdGhpcy5yZXBsYWNlZCkge1xuICAgICAgICBlbGVtZW50LnNyYyA9IHRoaXMub3JpZ2luYWxVcmw7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudW5jcmVhdGUoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRoZSBjYW52YXMgd2l0aCByZWxhdGl2ZSBvZmZzZXRzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFggLSBUaGUgcmVsYXRpdmUgb2Zmc2V0IGRpc3RhbmNlIG9uIHRoZSB4LWF4aXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvZmZzZXRZPW9mZnNldFhdIC0gVGhlIHJlbGF0aXZlIG9mZnNldCBkaXN0YW5jZSBvbiB0aGUgeS1heGlzLlxuICAgICAqIEByZXR1cm5zIHtDcm9wcGVyfSB0aGlzXG4gICAgICovXG4gICAgbW92ZTogZnVuY3Rpb24gbW92ZShvZmZzZXRYKSB7XG4gICAgICB2YXIgb2Zmc2V0WSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogb2Zmc2V0WDtcbiAgICAgIHZhciBfdGhpcyRjYW52YXNEYXRhID0gdGhpcy5jYW52YXNEYXRhLFxuICAgICAgICAgIGxlZnQgPSBfdGhpcyRjYW52YXNEYXRhLmxlZnQsXG4gICAgICAgICAgdG9wID0gX3RoaXMkY2FudmFzRGF0YS50b3A7XG4gICAgICByZXR1cm4gdGhpcy5tb3ZlVG8oaXNVbmRlZmluZWQob2Zmc2V0WCkgPyBvZmZzZXRYIDogbGVmdCArIE51bWJlcihvZmZzZXRYKSwgaXNVbmRlZmluZWQob2Zmc2V0WSkgPyBvZmZzZXRZIDogdG9wICsgTnVtYmVyKG9mZnNldFkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTW92ZSB0aGUgY2FudmFzIHRvIGFuIGFic29sdXRlIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgeC1heGlzIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PXhdIC0gVGhlIHktYXhpcyBjb29yZGluYXRlLlxuICAgICAqIEByZXR1cm5zIHtDcm9wcGVyfSB0aGlzXG4gICAgICovXG4gICAgbW92ZVRvOiBmdW5jdGlvbiBtb3ZlVG8oeCkge1xuICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHg7XG4gICAgICB2YXIgY2FudmFzRGF0YSA9IHRoaXMuY2FudmFzRGF0YTtcbiAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICB4ID0gTnVtYmVyKHgpO1xuICAgICAgeSA9IE51bWJlcih5KTtcblxuICAgICAgaWYgKHRoaXMucmVhZHkgJiYgIXRoaXMuZGlzYWJsZWQgJiYgdGhpcy5vcHRpb25zLm1vdmFibGUpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKHgpKSB7XG4gICAgICAgICAgY2FudmFzRGF0YS5sZWZ0ID0geDtcbiAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcih5KSkge1xuICAgICAgICAgIGNhbnZhc0RhdGEudG9wID0geTtcbiAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXModHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFpvb20gdGhlIGNhbnZhcyB3aXRoIGEgcmVsYXRpdmUgcmF0aW9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gLSBUaGUgdGFyZ2V0IHJhdGlvLlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IF9vcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IGlmIGFueS5cbiAgICAgKiBAcmV0dXJucyB7Q3JvcHBlcn0gdGhpc1xuICAgICAqL1xuICAgIHpvb206IGZ1bmN0aW9uIHpvb20ocmF0aW8sIF9vcmlnaW5hbEV2ZW50KSB7XG4gICAgICB2YXIgY2FudmFzRGF0YSA9IHRoaXMuY2FudmFzRGF0YTtcbiAgICAgIHJhdGlvID0gTnVtYmVyKHJhdGlvKTtcblxuICAgICAgaWYgKHJhdGlvIDwgMCkge1xuICAgICAgICByYXRpbyA9IDEgLyAoMSAtIHJhdGlvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJhdGlvID0gMSArIHJhdGlvO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy56b29tVG8oY2FudmFzRGF0YS53aWR0aCAqIHJhdGlvIC8gY2FudmFzRGF0YS5uYXR1cmFsV2lkdGgsIG51bGwsIF9vcmlnaW5hbEV2ZW50KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogWm9vbSB0aGUgY2FudmFzIHRvIGFuIGFic29sdXRlIHJhdGlvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhdGlvIC0gVGhlIHRhcmdldCByYXRpby5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGl2b3QgLSBUaGUgem9vbSBwaXZvdCBwb2ludCBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IF9vcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IGlmIGFueS5cbiAgICAgKiBAcmV0dXJucyB7Q3JvcHBlcn0gdGhpc1xuICAgICAqL1xuICAgIHpvb21UbzogZnVuY3Rpb24gem9vbVRvKHJhdGlvLCBwaXZvdCwgX29yaWdpbmFsRXZlbnQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGNhbnZhc0RhdGEgPSB0aGlzLmNhbnZhc0RhdGE7XG4gICAgICB2YXIgd2lkdGggPSBjYW52YXNEYXRhLndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IGNhbnZhc0RhdGEuaGVpZ2h0LFxuICAgICAgICAgIG5hdHVyYWxXaWR0aCA9IGNhbnZhc0RhdGEubmF0dXJhbFdpZHRoLFxuICAgICAgICAgIG5hdHVyYWxIZWlnaHQgPSBjYW52YXNEYXRhLm5hdHVyYWxIZWlnaHQ7XG4gICAgICByYXRpbyA9IE51bWJlcihyYXRpbyk7XG5cbiAgICAgIGlmIChyYXRpbyA+PSAwICYmIHRoaXMucmVhZHkgJiYgIXRoaXMuZGlzYWJsZWQgJiYgb3B0aW9ucy56b29tYWJsZSkge1xuICAgICAgICB2YXIgbmV3V2lkdGggPSBuYXR1cmFsV2lkdGggKiByYXRpbztcbiAgICAgICAgdmFyIG5ld0hlaWdodCA9IG5hdHVyYWxIZWlnaHQgKiByYXRpbztcblxuICAgICAgICBpZiAoZGlzcGF0Y2hFdmVudCh0aGlzLmVsZW1lbnQsIEVWRU5UX1pPT00sIHtcbiAgICAgICAgICByYXRpbzogcmF0aW8sXG4gICAgICAgICAgb2xkUmF0aW86IHdpZHRoIC8gbmF0dXJhbFdpZHRoLFxuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IF9vcmlnaW5hbEV2ZW50XG4gICAgICAgIH0pID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgICAgdmFyIHBvaW50ZXJzID0gdGhpcy5wb2ludGVycztcbiAgICAgICAgICB2YXIgb2Zmc2V0ID0gZ2V0T2Zmc2V0KHRoaXMuY3JvcHBlcik7XG4gICAgICAgICAgdmFyIGNlbnRlciA9IHBvaW50ZXJzICYmIE9iamVjdC5rZXlzKHBvaW50ZXJzKS5sZW5ndGggPyBnZXRQb2ludGVyc0NlbnRlcihwb2ludGVycykgOiB7XG4gICAgICAgICAgICBwYWdlWDogX29yaWdpbmFsRXZlbnQucGFnZVgsXG4gICAgICAgICAgICBwYWdlWTogX29yaWdpbmFsRXZlbnQucGFnZVlcbiAgICAgICAgICB9OyAvLyBab29tIGZyb20gdGhlIHRyaWdnZXJpbmcgcG9pbnQgb2YgdGhlIGV2ZW50XG5cbiAgICAgICAgICBjYW52YXNEYXRhLmxlZnQgLT0gKG5ld1dpZHRoIC0gd2lkdGgpICogKChjZW50ZXIucGFnZVggLSBvZmZzZXQubGVmdCAtIGNhbnZhc0RhdGEubGVmdCkgLyB3aWR0aCk7XG4gICAgICAgICAgY2FudmFzRGF0YS50b3AgLT0gKG5ld0hlaWdodCAtIGhlaWdodCkgKiAoKGNlbnRlci5wYWdlWSAtIG9mZnNldC50b3AgLSBjYW52YXNEYXRhLnRvcCkgLyBoZWlnaHQpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QocGl2b3QpICYmIGlzTnVtYmVyKHBpdm90LngpICYmIGlzTnVtYmVyKHBpdm90LnkpKSB7XG4gICAgICAgICAgY2FudmFzRGF0YS5sZWZ0IC09IChuZXdXaWR0aCAtIHdpZHRoKSAqICgocGl2b3QueCAtIGNhbnZhc0RhdGEubGVmdCkgLyB3aWR0aCk7XG4gICAgICAgICAgY2FudmFzRGF0YS50b3AgLT0gKG5ld0hlaWdodCAtIGhlaWdodCkgKiAoKHBpdm90LnkgLSBjYW52YXNEYXRhLnRvcCkgLyBoZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFpvb20gZnJvbSB0aGUgY2VudGVyIG9mIHRoZSBjYW52YXNcbiAgICAgICAgICBjYW52YXNEYXRhLmxlZnQgLT0gKG5ld1dpZHRoIC0gd2lkdGgpIC8gMjtcbiAgICAgICAgICBjYW52YXNEYXRhLnRvcCAtPSAobmV3SGVpZ2h0IC0gaGVpZ2h0KSAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICBjYW52YXNEYXRhLndpZHRoID0gbmV3V2lkdGg7XG4gICAgICAgIGNhbnZhc0RhdGEuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSB0aGUgY2FudmFzIHdpdGggYSByZWxhdGl2ZSBkZWdyZWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVncmVlIC0gVGhlIHJvdGF0ZSBkZWdyZWUuXG4gICAgICogQHJldHVybnMge0Nyb3BwZXJ9IHRoaXNcbiAgICAgKi9cbiAgICByb3RhdGU6IGZ1bmN0aW9uIHJvdGF0ZShkZWdyZWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJvdGF0ZVRvKCh0aGlzLmltYWdlRGF0YS5yb3RhdGUgfHwgMCkgKyBOdW1iZXIoZGVncmVlKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSB0aGUgY2FudmFzIHRvIGFuIGFic29sdXRlIGRlZ3JlZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWdyZWUgLSBUaGUgcm90YXRlIGRlZ3JlZS5cbiAgICAgKiBAcmV0dXJucyB7Q3JvcHBlcn0gdGhpc1xuICAgICAqL1xuICAgIHJvdGF0ZVRvOiBmdW5jdGlvbiByb3RhdGVUbyhkZWdyZWUpIHtcbiAgICAgIGRlZ3JlZSA9IE51bWJlcihkZWdyZWUpO1xuXG4gICAgICBpZiAoaXNOdW1iZXIoZGVncmVlKSAmJiB0aGlzLnJlYWR5ICYmICF0aGlzLmRpc2FibGVkICYmIHRoaXMub3B0aW9ucy5yb3RhdGFibGUpIHtcbiAgICAgICAgdGhpcy5pbWFnZURhdGEucm90YXRlID0gZGVncmVlICUgMzYwO1xuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyh0cnVlLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBpbWFnZSBvbiB0aGUgeC1heGlzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVggLSBUaGUgc2NhbGUgcmF0aW8gb24gdGhlIHgtYXhpcy5cbiAgICAgKiBAcmV0dXJucyB7Q3JvcHBlcn0gdGhpc1xuICAgICAqL1xuICAgIHNjYWxlWDogZnVuY3Rpb24gc2NhbGVYKF9zY2FsZVgpIHtcbiAgICAgIHZhciBzY2FsZVkgPSB0aGlzLmltYWdlRGF0YS5zY2FsZVk7XG4gICAgICByZXR1cm4gdGhpcy5zY2FsZShfc2NhbGVYLCBpc051bWJlcihzY2FsZVkpID8gc2NhbGVZIDogMSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBpbWFnZSBvbiB0aGUgeS1heGlzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVkgLSBUaGUgc2NhbGUgcmF0aW8gb24gdGhlIHktYXhpcy5cbiAgICAgKiBAcmV0dXJucyB7Q3JvcHBlcn0gdGhpc1xuICAgICAqL1xuICAgIHNjYWxlWTogZnVuY3Rpb24gc2NhbGVZKF9zY2FsZVkpIHtcbiAgICAgIHZhciBzY2FsZVggPSB0aGlzLmltYWdlRGF0YS5zY2FsZVg7XG4gICAgICByZXR1cm4gdGhpcy5zY2FsZShpc051bWJlcihzY2FsZVgpID8gc2NhbGVYIDogMSwgX3NjYWxlWSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBpbWFnZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVggLSBUaGUgc2NhbGUgcmF0aW8gb24gdGhlIHgtYXhpcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWT1zY2FsZVhdIC0gVGhlIHNjYWxlIHJhdGlvIG9uIHRoZSB5LWF4aXMuXG4gICAgICogQHJldHVybnMge0Nyb3BwZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBzY2FsZTogZnVuY3Rpb24gc2NhbGUoc2NhbGVYKSB7XG4gICAgICB2YXIgc2NhbGVZID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBzY2FsZVg7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gdGhpcy5pbWFnZURhdGE7XG4gICAgICB2YXIgdHJhbnNmb3JtZWQgPSBmYWxzZTtcbiAgICAgIHNjYWxlWCA9IE51bWJlcihzY2FsZVgpO1xuICAgICAgc2NhbGVZID0gTnVtYmVyKHNjYWxlWSk7XG5cbiAgICAgIGlmICh0aGlzLnJlYWR5ICYmICF0aGlzLmRpc2FibGVkICYmIHRoaXMub3B0aW9ucy5zY2FsYWJsZSkge1xuICAgICAgICBpZiAoaXNOdW1iZXIoc2NhbGVYKSkge1xuICAgICAgICAgIGltYWdlRGF0YS5zY2FsZVggPSBzY2FsZVg7XG4gICAgICAgICAgdHJhbnNmb3JtZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKHNjYWxlWSkpIHtcbiAgICAgICAgICBpbWFnZURhdGEuc2NhbGVZID0gc2NhbGVZO1xuICAgICAgICAgIHRyYW5zZm9ybWVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFuc2Zvcm1lZCkge1xuICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzKHRydWUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNyb3BwZWQgYXJlYSBwb3NpdGlvbiBhbmQgc2l6ZSBkYXRhIChiYXNlIG9uIHRoZSBvcmlnaW5hbCBpbWFnZSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyb3VuZGVkPWZhbHNlXSAtIEluZGljYXRlIGlmIHJvdW5kIHRoZSBkYXRhIHZhbHVlcyBvciBub3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gVGhlIHJlc3VsdCBjcm9wcGVkIGRhdGEuXG4gICAgICovXG4gICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgICAgIHZhciByb3VuZGVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGltYWdlRGF0YSA9IHRoaXMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGNhbnZhc0RhdGEgPSB0aGlzLmNhbnZhc0RhdGEsXG4gICAgICAgICAgY3JvcEJveERhdGEgPSB0aGlzLmNyb3BCb3hEYXRhO1xuICAgICAgdmFyIGRhdGE7XG5cbiAgICAgIGlmICh0aGlzLnJlYWR5ICYmIHRoaXMuY3JvcHBlZCkge1xuICAgICAgICBkYXRhID0ge1xuICAgICAgICAgIHg6IGNyb3BCb3hEYXRhLmxlZnQgLSBjYW52YXNEYXRhLmxlZnQsXG4gICAgICAgICAgeTogY3JvcEJveERhdGEudG9wIC0gY2FudmFzRGF0YS50b3AsXG4gICAgICAgICAgd2lkdGg6IGNyb3BCb3hEYXRhLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogY3JvcEJveERhdGEuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgICAgIHZhciByYXRpbyA9IGltYWdlRGF0YS53aWR0aCAvIGltYWdlRGF0YS5uYXR1cmFsV2lkdGg7XG4gICAgICAgIGZvckVhY2goZGF0YSwgZnVuY3Rpb24gKG4sIGkpIHtcbiAgICAgICAgICBkYXRhW2ldID0gbiAvIHJhdGlvO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocm91bmRlZCkge1xuICAgICAgICAgIC8vIEluIGNhc2Ugcm91bmRpbmcgb2ZmIGxlYWRzIHRvIGV4dHJhIDFweCBpbiByaWdodCBvciBib3R0b20gYm9yZGVyXG4gICAgICAgICAgLy8gd2Ugc2hvdWxkIHJvdW5kIHRoZSB0b3AtbGVmdCBjb3JuZXIgYW5kIHRoZSBkaW1lbnNpb24gKCMzNDMpLlxuICAgICAgICAgIHZhciBib3R0b20gPSBNYXRoLnJvdW5kKGRhdGEueSArIGRhdGEuaGVpZ2h0KTtcbiAgICAgICAgICB2YXIgcmlnaHQgPSBNYXRoLnJvdW5kKGRhdGEueCArIGRhdGEud2lkdGgpO1xuICAgICAgICAgIGRhdGEueCA9IE1hdGgucm91bmQoZGF0YS54KTtcbiAgICAgICAgICBkYXRhLnkgPSBNYXRoLnJvdW5kKGRhdGEueSk7XG4gICAgICAgICAgZGF0YS53aWR0aCA9IHJpZ2h0IC0gZGF0YS54O1xuICAgICAgICAgIGRhdGEuaGVpZ2h0ID0gYm90dG9tIC0gZGF0YS55O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhID0ge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMCxcbiAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICBoZWlnaHQ6IDBcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMucm90YXRhYmxlKSB7XG4gICAgICAgIGRhdGEucm90YXRlID0gaW1hZ2VEYXRhLnJvdGF0ZSB8fCAwO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5zY2FsYWJsZSkge1xuICAgICAgICBkYXRhLnNjYWxlWCA9IGltYWdlRGF0YS5zY2FsZVggfHwgMTtcbiAgICAgICAgZGF0YS5zY2FsZVkgPSBpbWFnZURhdGEuc2NhbGVZIHx8IDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNyb3BwZWQgYXJlYSBwb3NpdGlvbiBhbmQgc2l6ZSB3aXRoIG5ldyBkYXRhXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgbmV3IGRhdGEuXG4gICAgICogQHJldHVybnMge0Nyb3BwZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBzZXREYXRhOiBmdW5jdGlvbiBzZXREYXRhKGRhdGEpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGltYWdlRGF0YSA9IHRoaXMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGNhbnZhc0RhdGEgPSB0aGlzLmNhbnZhc0RhdGE7XG4gICAgICB2YXIgY3JvcEJveERhdGEgPSB7fTtcblxuICAgICAgaWYgKHRoaXMucmVhZHkgJiYgIXRoaXMuZGlzYWJsZWQgJiYgaXNQbGFpbk9iamVjdChkYXRhKSkge1xuICAgICAgICB2YXIgdHJhbnNmb3JtZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAob3B0aW9ucy5yb3RhdGFibGUpIHtcbiAgICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS5yb3RhdGUpICYmIGRhdGEucm90YXRlICE9PSBpbWFnZURhdGEucm90YXRlKSB7XG4gICAgICAgICAgICBpbWFnZURhdGEucm90YXRlID0gZGF0YS5yb3RhdGU7XG4gICAgICAgICAgICB0cmFuc2Zvcm1lZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2NhbGFibGUpIHtcbiAgICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS5zY2FsZVgpICYmIGRhdGEuc2NhbGVYICE9PSBpbWFnZURhdGEuc2NhbGVYKSB7XG4gICAgICAgICAgICBpbWFnZURhdGEuc2NhbGVYID0gZGF0YS5zY2FsZVg7XG4gICAgICAgICAgICB0cmFuc2Zvcm1lZCA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEuc2NhbGVZKSAmJiBkYXRhLnNjYWxlWSAhPT0gaW1hZ2VEYXRhLnNjYWxlWSkge1xuICAgICAgICAgICAgaW1hZ2VEYXRhLnNjYWxlWSA9IGRhdGEuc2NhbGVZO1xuICAgICAgICAgICAgdHJhbnNmb3JtZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFuc2Zvcm1lZCkge1xuICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzKHRydWUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJhdGlvID0gaW1hZ2VEYXRhLndpZHRoIC8gaW1hZ2VEYXRhLm5hdHVyYWxXaWR0aDtcblxuICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS54KSkge1xuICAgICAgICAgIGNyb3BCb3hEYXRhLmxlZnQgPSBkYXRhLnggKiByYXRpbyArIGNhbnZhc0RhdGEubGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLnkpKSB7XG4gICAgICAgICAgY3JvcEJveERhdGEudG9wID0gZGF0YS55ICogcmF0aW8gKyBjYW52YXNEYXRhLnRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLndpZHRoKSkge1xuICAgICAgICAgIGNyb3BCb3hEYXRhLndpZHRoID0gZGF0YS53aWR0aCAqIHJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEuaGVpZ2h0KSkge1xuICAgICAgICAgIGNyb3BCb3hEYXRhLmhlaWdodCA9IGRhdGEuaGVpZ2h0ICogcmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldENyb3BCb3hEYXRhKGNyb3BCb3hEYXRhKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29udGFpbmVyIHNpemUgZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0IGNvbnRhaW5lciBkYXRhLlxuICAgICAqL1xuICAgIGdldENvbnRhaW5lckRhdGE6IGZ1bmN0aW9uIGdldENvbnRhaW5lckRhdGEoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWFkeSA/IGFzc2lnbih7fSwgdGhpcy5jb250YWluZXJEYXRhKSA6IHt9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGltYWdlIHBvc2l0aW9uIGFuZCBzaXplIGRhdGEuXG4gICAgICogQHJldHVybnMge09iamVjdH0gVGhlIHJlc3VsdCBpbWFnZSBkYXRhLlxuICAgICAqL1xuICAgIGdldEltYWdlRGF0YTogZnVuY3Rpb24gZ2V0SW1hZ2VEYXRhKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2l6ZWQgPyBhc3NpZ24oe30sIHRoaXMuaW1hZ2VEYXRhKSA6IHt9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNhbnZhcyBwb3NpdGlvbiBhbmQgc2l6ZSBkYXRhLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXN1bHQgY2FudmFzIGRhdGEuXG4gICAgICovXG4gICAgZ2V0Q2FudmFzRGF0YTogZnVuY3Rpb24gZ2V0Q2FudmFzRGF0YSgpIHtcbiAgICAgIHZhciBjYW52YXNEYXRhID0gdGhpcy5jYW52YXNEYXRhO1xuICAgICAgdmFyIGRhdGEgPSB7fTtcblxuICAgICAgaWYgKHRoaXMucmVhZHkpIHtcbiAgICAgICAgZm9yRWFjaChbJ2xlZnQnLCAndG9wJywgJ3dpZHRoJywgJ2hlaWdodCcsICduYXR1cmFsV2lkdGgnLCAnbmF0dXJhbEhlaWdodCddLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgIGRhdGFbbl0gPSBjYW52YXNEYXRhW25dO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY2FudmFzIHBvc2l0aW9uIGFuZCBzaXplIHdpdGggbmV3IGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgbmV3IGNhbnZhcyBkYXRhLlxuICAgICAqIEByZXR1cm5zIHtDcm9wcGVyfSB0aGlzXG4gICAgICovXG4gICAgc2V0Q2FudmFzRGF0YTogZnVuY3Rpb24gc2V0Q2FudmFzRGF0YShkYXRhKSB7XG4gICAgICB2YXIgY2FudmFzRGF0YSA9IHRoaXMuY2FudmFzRGF0YTtcbiAgICAgIHZhciBhc3BlY3RSYXRpbyA9IGNhbnZhc0RhdGEuYXNwZWN0UmF0aW87XG5cbiAgICAgIGlmICh0aGlzLnJlYWR5ICYmICF0aGlzLmRpc2FibGVkICYmIGlzUGxhaW5PYmplY3QoZGF0YSkpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEubGVmdCkpIHtcbiAgICAgICAgICBjYW52YXNEYXRhLmxlZnQgPSBkYXRhLmxlZnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS50b3ApKSB7XG4gICAgICAgICAgY2FudmFzRGF0YS50b3AgPSBkYXRhLnRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLndpZHRoKSkge1xuICAgICAgICAgIGNhbnZhc0RhdGEud2lkdGggPSBkYXRhLndpZHRoO1xuICAgICAgICAgIGNhbnZhc0RhdGEuaGVpZ2h0ID0gZGF0YS53aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRhdGEuaGVpZ2h0KSkge1xuICAgICAgICAgIGNhbnZhc0RhdGEuaGVpZ2h0ID0gZGF0YS5oZWlnaHQ7XG4gICAgICAgICAgY2FudmFzRGF0YS53aWR0aCA9IGRhdGEuaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3JvcCBib3ggcG9zaXRpb24gYW5kIHNpemUgZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0IGNyb3AgYm94IGRhdGEuXG4gICAgICovXG4gICAgZ2V0Q3JvcEJveERhdGE6IGZ1bmN0aW9uIGdldENyb3BCb3hEYXRhKCkge1xuICAgICAgdmFyIGNyb3BCb3hEYXRhID0gdGhpcy5jcm9wQm94RGF0YTtcbiAgICAgIHZhciBkYXRhO1xuXG4gICAgICBpZiAodGhpcy5yZWFkeSAmJiB0aGlzLmNyb3BwZWQpIHtcbiAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICBsZWZ0OiBjcm9wQm94RGF0YS5sZWZ0LFxuICAgICAgICAgIHRvcDogY3JvcEJveERhdGEudG9wLFxuICAgICAgICAgIHdpZHRoOiBjcm9wQm94RGF0YS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGNyb3BCb3hEYXRhLmhlaWdodFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YSB8fCB7fTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjcm9wIGJveCBwb3NpdGlvbiBhbmQgc2l6ZSB3aXRoIG5ldyBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gVGhlIG5ldyBjcm9wIGJveCBkYXRhLlxuICAgICAqIEByZXR1cm5zIHtDcm9wcGVyfSB0aGlzXG4gICAgICovXG4gICAgc2V0Q3JvcEJveERhdGE6IGZ1bmN0aW9uIHNldENyb3BCb3hEYXRhKGRhdGEpIHtcbiAgICAgIHZhciBjcm9wQm94RGF0YSA9IHRoaXMuY3JvcEJveERhdGE7XG4gICAgICB2YXIgYXNwZWN0UmF0aW8gPSB0aGlzLm9wdGlvbnMuYXNwZWN0UmF0aW87XG4gICAgICB2YXIgd2lkdGhDaGFuZ2VkO1xuICAgICAgdmFyIGhlaWdodENoYW5nZWQ7XG5cbiAgICAgIGlmICh0aGlzLnJlYWR5ICYmIHRoaXMuY3JvcHBlZCAmJiAhdGhpcy5kaXNhYmxlZCAmJiBpc1BsYWluT2JqZWN0KGRhdGEpKSB7XG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLmxlZnQpKSB7XG4gICAgICAgICAgY3JvcEJveERhdGEubGVmdCA9IGRhdGEubGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLnRvcCkpIHtcbiAgICAgICAgICBjcm9wQm94RGF0YS50b3AgPSBkYXRhLnRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLndpZHRoKSAmJiBkYXRhLndpZHRoICE9PSBjcm9wQm94RGF0YS53aWR0aCkge1xuICAgICAgICAgIHdpZHRoQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgY3JvcEJveERhdGEud2lkdGggPSBkYXRhLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEuaGVpZ2h0KSAmJiBkYXRhLmhlaWdodCAhPT0gY3JvcEJveERhdGEuaGVpZ2h0KSB7XG4gICAgICAgICAgaGVpZ2h0Q2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgY3JvcEJveERhdGEuaGVpZ2h0ID0gZGF0YS5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICBpZiAod2lkdGhDaGFuZ2VkKSB7XG4gICAgICAgICAgICBjcm9wQm94RGF0YS5oZWlnaHQgPSBjcm9wQm94RGF0YS53aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGVpZ2h0Q2hhbmdlZCkge1xuICAgICAgICAgICAgY3JvcEJveERhdGEud2lkdGggPSBjcm9wQm94RGF0YS5oZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlckNyb3BCb3goKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBhIGNhbnZhcyBkcmF3biB0aGUgY3JvcHBlZCBpbWFnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIC0gVGhlIGNvbmZpZyBvcHRpb25zLlxuICAgICAqIEByZXR1cm5zIHtIVE1MQ2FudmFzRWxlbWVudH0gLSBUaGUgcmVzdWx0IGNhbnZhcy5cbiAgICAgKi9cbiAgICBnZXRDcm9wcGVkQ2FudmFzOiBmdW5jdGlvbiBnZXRDcm9wcGVkQ2FudmFzKCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgICBpZiAoIXRoaXMucmVhZHkgfHwgIXdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbnZhc0RhdGEgPSB0aGlzLmNhbnZhc0RhdGE7XG4gICAgICB2YXIgc291cmNlID0gZ2V0U291cmNlQ2FudmFzKHRoaXMuaW1hZ2UsIHRoaXMuaW1hZ2VEYXRhLCBjYW52YXNEYXRhLCBvcHRpb25zKTsgLy8gUmV0dXJucyB0aGUgc291cmNlIGNhbnZhcyBpZiBpdCBpcyBub3QgY3JvcHBlZC5cblxuICAgICAgaWYgKCF0aGlzLmNyb3BwZWQpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH1cblxuICAgICAgdmFyIF90aGlzJGdldERhdGEgPSB0aGlzLmdldERhdGEoKSxcbiAgICAgICAgICBpbml0aWFsWCA9IF90aGlzJGdldERhdGEueCxcbiAgICAgICAgICBpbml0aWFsWSA9IF90aGlzJGdldERhdGEueSxcbiAgICAgICAgICBpbml0aWFsV2lkdGggPSBfdGhpcyRnZXREYXRhLndpZHRoLFxuICAgICAgICAgIGluaXRpYWxIZWlnaHQgPSBfdGhpcyRnZXREYXRhLmhlaWdodDtcblxuICAgICAgdmFyIHJhdGlvID0gc291cmNlLndpZHRoIC8gTWF0aC5mbG9vcihjYW52YXNEYXRhLm5hdHVyYWxXaWR0aCk7XG5cbiAgICAgIGlmIChyYXRpbyAhPT0gMSkge1xuICAgICAgICBpbml0aWFsWCAqPSByYXRpbztcbiAgICAgICAgaW5pdGlhbFkgKj0gcmF0aW87XG4gICAgICAgIGluaXRpYWxXaWR0aCAqPSByYXRpbztcbiAgICAgICAgaW5pdGlhbEhlaWdodCAqPSByYXRpbztcbiAgICAgIH1cblxuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gaW5pdGlhbFdpZHRoIC8gaW5pdGlhbEhlaWdodDtcbiAgICAgIHZhciBtYXhTaXplcyA9IGdldEFkanVzdGVkU2l6ZXMoe1xuICAgICAgICBhc3BlY3RSYXRpbzogYXNwZWN0UmF0aW8sXG4gICAgICAgIHdpZHRoOiBvcHRpb25zLm1heFdpZHRoIHx8IEluZmluaXR5LFxuICAgICAgICBoZWlnaHQ6IG9wdGlvbnMubWF4SGVpZ2h0IHx8IEluZmluaXR5XG4gICAgICB9KTtcbiAgICAgIHZhciBtaW5TaXplcyA9IGdldEFkanVzdGVkU2l6ZXMoe1xuICAgICAgICBhc3BlY3RSYXRpbzogYXNwZWN0UmF0aW8sXG4gICAgICAgIHdpZHRoOiBvcHRpb25zLm1pbldpZHRoIHx8IDAsXG4gICAgICAgIGhlaWdodDogb3B0aW9ucy5taW5IZWlnaHQgfHwgMFxuICAgICAgfSwgJ2NvdmVyJyk7XG5cbiAgICAgIHZhciBfZ2V0QWRqdXN0ZWRTaXplcyA9IGdldEFkanVzdGVkU2l6ZXMoe1xuICAgICAgICBhc3BlY3RSYXRpbzogYXNwZWN0UmF0aW8sXG4gICAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoIHx8IChyYXRpbyAhPT0gMSA/IHNvdXJjZS53aWR0aCA6IGluaXRpYWxXaWR0aCksXG4gICAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHQgfHwgKHJhdGlvICE9PSAxID8gc291cmNlLmhlaWdodCA6IGluaXRpYWxIZWlnaHQpXG4gICAgICB9KSxcbiAgICAgICAgICB3aWR0aCA9IF9nZXRBZGp1c3RlZFNpemVzLndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IF9nZXRBZGp1c3RlZFNpemVzLmhlaWdodDtcblxuICAgICAgd2lkdGggPSBNYXRoLm1pbihtYXhTaXplcy53aWR0aCwgTWF0aC5tYXgobWluU2l6ZXMud2lkdGgsIHdpZHRoKSk7XG4gICAgICBoZWlnaHQgPSBNYXRoLm1pbihtYXhTaXplcy5oZWlnaHQsIE1hdGgubWF4KG1pblNpemVzLmhlaWdodCwgaGVpZ2h0KSk7XG4gICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY2FudmFzLndpZHRoID0gbm9ybWFsaXplRGVjaW1hbE51bWJlcih3aWR0aCk7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gbm9ybWFsaXplRGVjaW1hbE51bWJlcihoZWlnaHQpO1xuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBvcHRpb25zLmZpbGxDb2xvciB8fCAndHJhbnNwYXJlbnQnO1xuICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIHZhciBfb3B0aW9ucyRpbWFnZVNtb290aGkgPSBvcHRpb25zLmltYWdlU21vb3RoaW5nRW5hYmxlZCxcbiAgICAgICAgICBpbWFnZVNtb290aGluZ0VuYWJsZWQgPSBfb3B0aW9ucyRpbWFnZVNtb290aGkgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRpbWFnZVNtb290aGksXG4gICAgICAgICAgaW1hZ2VTbW9vdGhpbmdRdWFsaXR5ID0gb3B0aW9ucy5pbWFnZVNtb290aGluZ1F1YWxpdHk7XG4gICAgICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGltYWdlU21vb3RoaW5nRW5hYmxlZDtcblxuICAgICAgaWYgKGltYWdlU21vb3RoaW5nUXVhbGl0eSkge1xuICAgICAgICBjb250ZXh0LmltYWdlU21vb3RoaW5nUXVhbGl0eSA9IGltYWdlU21vb3RoaW5nUXVhbGl0eTtcbiAgICAgIH0gLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5kcmF3SW1hZ2VcblxuXG4gICAgICB2YXIgc291cmNlV2lkdGggPSBzb3VyY2Uud2lkdGg7XG4gICAgICB2YXIgc291cmNlSGVpZ2h0ID0gc291cmNlLmhlaWdodDsgLy8gU291cmNlIGNhbnZhcyBwYXJhbWV0ZXJzXG5cbiAgICAgIHZhciBzcmNYID0gaW5pdGlhbFg7XG4gICAgICB2YXIgc3JjWSA9IGluaXRpYWxZO1xuICAgICAgdmFyIHNyY1dpZHRoO1xuICAgICAgdmFyIHNyY0hlaWdodDsgLy8gRGVzdGluYXRpb24gY2FudmFzIHBhcmFtZXRlcnNcblxuICAgICAgdmFyIGRzdFg7XG4gICAgICB2YXIgZHN0WTtcbiAgICAgIHZhciBkc3RXaWR0aDtcbiAgICAgIHZhciBkc3RIZWlnaHQ7XG5cbiAgICAgIGlmIChzcmNYIDw9IC1pbml0aWFsV2lkdGggfHwgc3JjWCA+IHNvdXJjZVdpZHRoKSB7XG4gICAgICAgIHNyY1ggPSAwO1xuICAgICAgICBzcmNXaWR0aCA9IDA7XG4gICAgICAgIGRzdFggPSAwO1xuICAgICAgICBkc3RXaWR0aCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHNyY1ggPD0gMCkge1xuICAgICAgICBkc3RYID0gLXNyY1g7XG4gICAgICAgIHNyY1ggPSAwO1xuICAgICAgICBzcmNXaWR0aCA9IE1hdGgubWluKHNvdXJjZVdpZHRoLCBpbml0aWFsV2lkdGggKyBzcmNYKTtcbiAgICAgICAgZHN0V2lkdGggPSBzcmNXaWR0aDtcbiAgICAgIH0gZWxzZSBpZiAoc3JjWCA8PSBzb3VyY2VXaWR0aCkge1xuICAgICAgICBkc3RYID0gMDtcbiAgICAgICAgc3JjV2lkdGggPSBNYXRoLm1pbihpbml0aWFsV2lkdGgsIHNvdXJjZVdpZHRoIC0gc3JjWCk7XG4gICAgICAgIGRzdFdpZHRoID0gc3JjV2lkdGg7XG4gICAgICB9XG5cbiAgICAgIGlmIChzcmNXaWR0aCA8PSAwIHx8IHNyY1kgPD0gLWluaXRpYWxIZWlnaHQgfHwgc3JjWSA+IHNvdXJjZUhlaWdodCkge1xuICAgICAgICBzcmNZID0gMDtcbiAgICAgICAgc3JjSGVpZ2h0ID0gMDtcbiAgICAgICAgZHN0WSA9IDA7XG4gICAgICAgIGRzdEhlaWdodCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHNyY1kgPD0gMCkge1xuICAgICAgICBkc3RZID0gLXNyY1k7XG4gICAgICAgIHNyY1kgPSAwO1xuICAgICAgICBzcmNIZWlnaHQgPSBNYXRoLm1pbihzb3VyY2VIZWlnaHQsIGluaXRpYWxIZWlnaHQgKyBzcmNZKTtcbiAgICAgICAgZHN0SGVpZ2h0ID0gc3JjSGVpZ2h0O1xuICAgICAgfSBlbHNlIGlmIChzcmNZIDw9IHNvdXJjZUhlaWdodCkge1xuICAgICAgICBkc3RZID0gMDtcbiAgICAgICAgc3JjSGVpZ2h0ID0gTWF0aC5taW4oaW5pdGlhbEhlaWdodCwgc291cmNlSGVpZ2h0IC0gc3JjWSk7XG4gICAgICAgIGRzdEhlaWdodCA9IHNyY0hlaWdodDtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmFtcyA9IFtzcmNYLCBzcmNZLCBzcmNXaWR0aCwgc3JjSGVpZ2h0XTsgLy8gQXZvaWQgXCJJbmRleFNpemVFcnJvclwiXG5cbiAgICAgIGlmIChkc3RXaWR0aCA+IDAgJiYgZHN0SGVpZ2h0ID4gMCkge1xuICAgICAgICB2YXIgc2NhbGUgPSB3aWR0aCAvIGluaXRpYWxXaWR0aDtcbiAgICAgICAgcGFyYW1zLnB1c2goZHN0WCAqIHNjYWxlLCBkc3RZICogc2NhbGUsIGRzdFdpZHRoICogc2NhbGUsIGRzdEhlaWdodCAqIHNjYWxlKTtcbiAgICAgIH0gLy8gQWxsIHRoZSBudW1lcmljYWwgcGFyYW1ldGVycyBzaG91bGQgYmUgaW50ZWdlciBmb3IgYGRyYXdJbWFnZWBcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mZW5neXVhbmNoZW4vY3JvcHBlci9pc3N1ZXMvNDc2XG5cblxuICAgICAgY29udGV4dC5kcmF3SW1hZ2UuYXBwbHkoY29udGV4dCwgW3NvdXJjZV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihub3JtYWxpemVEZWNpbWFsTnVtYmVyKHBhcmFtKSk7XG4gICAgICB9KSkpKTtcbiAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBjcm9wIGJveC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0UmF0aW8gLSBUaGUgbmV3IGFzcGVjdCByYXRpby5cbiAgICAgKiBAcmV0dXJucyB7Q3JvcHBlcn0gdGhpc1xuICAgICAqL1xuICAgIHNldEFzcGVjdFJhdGlvOiBmdW5jdGlvbiBzZXRBc3BlY3RSYXRpbyhhc3BlY3RSYXRpbykge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgIGlmICghdGhpcy5kaXNhYmxlZCAmJiAhaXNVbmRlZmluZWQoYXNwZWN0UmF0aW8pKSB7XG4gICAgICAgIC8vIDAgLT4gTmFOXG4gICAgICAgIG9wdGlvbnMuYXNwZWN0UmF0aW8gPSBNYXRoLm1heCgwLCBhc3BlY3RSYXRpbykgfHwgTmFOO1xuXG4gICAgICAgIGlmICh0aGlzLnJlYWR5KSB7XG4gICAgICAgICAgdGhpcy5pbml0Q3JvcEJveCgpO1xuXG4gICAgICAgICAgaWYgKHRoaXMuY3JvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJDcm9wQm94KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgdGhlIGRyYWcgbW9kZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIFRoZSBuZXcgZHJhZyBtb2RlLlxuICAgICAqIEByZXR1cm5zIHtDcm9wcGVyfSB0aGlzXG4gICAgICovXG4gICAgc2V0RHJhZ01vZGU6IGZ1bmN0aW9uIHNldERyYWdNb2RlKG1vZGUpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGRyYWdCb3ggPSB0aGlzLmRyYWdCb3gsXG4gICAgICAgICAgZmFjZSA9IHRoaXMuZmFjZTtcblxuICAgICAgaWYgKHRoaXMucmVhZHkgJiYgIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgdmFyIGNyb3BwYWJsZSA9IG1vZGUgPT09IERSQUdfTU9ERV9DUk9QO1xuICAgICAgICB2YXIgbW92YWJsZSA9IG9wdGlvbnMubW92YWJsZSAmJiBtb2RlID09PSBEUkFHX01PREVfTU9WRTtcbiAgICAgICAgbW9kZSA9IGNyb3BwYWJsZSB8fCBtb3ZhYmxlID8gbW9kZSA6IERSQUdfTU9ERV9OT05FO1xuICAgICAgICBvcHRpb25zLmRyYWdNb2RlID0gbW9kZTtcbiAgICAgICAgc2V0RGF0YShkcmFnQm94LCBEQVRBX0FDVElPTiwgbW9kZSk7XG4gICAgICAgIHRvZ2dsZUNsYXNzKGRyYWdCb3gsIENMQVNTX0NST1AsIGNyb3BwYWJsZSk7XG4gICAgICAgIHRvZ2dsZUNsYXNzKGRyYWdCb3gsIENMQVNTX01PVkUsIG1vdmFibGUpO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy5jcm9wQm94TW92YWJsZSkge1xuICAgICAgICAgIC8vIFN5bmMgZHJhZyBtb2RlIHRvIGNyb3AgYm94IHdoZW4gaXQgaXMgbm90IG1vdmFibGVcbiAgICAgICAgICBzZXREYXRhKGZhY2UsIERBVEFfQUNUSU9OLCBtb2RlKTtcbiAgICAgICAgICB0b2dnbGVDbGFzcyhmYWNlLCBDTEFTU19DUk9QLCBjcm9wcGFibGUpO1xuICAgICAgICAgIHRvZ2dsZUNsYXNzKGZhY2UsIENMQVNTX01PVkUsIG1vdmFibGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcblxuICB2YXIgQW5vdGhlckNyb3BwZXIgPSBXSU5ET1cuQ3JvcHBlcjtcblxuICB2YXIgQ3JvcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IENyb3BwZXIuXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIHRhcmdldCBlbGVtZW50IGZvciBjcm9wcGluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIC0gVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDcm9wcGVyKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENyb3BwZXIpO1xuXG4gICAgICBpZiAoIWVsZW1lbnQgfHwgIVJFR0VYUF9UQUdfTkFNRS50ZXN0KGVsZW1lbnQudGFnTmFtZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZmlyc3QgYXJndW1lbnQgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYW4gPGltZz4gb3IgPGNhbnZhcz4gZWxlbWVudC4nKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgREVGQVVMVFMsIGlzUGxhaW5PYmplY3Qob3B0aW9ucykgJiYgb3B0aW9ucyk7XG4gICAgICB0aGlzLmNyb3BwZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucG9pbnRlcnMgPSB7fTtcbiAgICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcbiAgICAgIHRoaXMucmVsb2FkaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnJlcGxhY2VkID0gZmFsc2U7XG4gICAgICB0aGlzLnNpemVkID0gZmFsc2U7XG4gICAgICB0aGlzLnNpemluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENyb3BwZXIsIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICB2YXIgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB2YXIgdXJsO1xuXG4gICAgICAgIGlmIChlbGVtZW50W05BTUVTUEFDRV0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50W05BTUVTUEFDRV0gPSB0aGlzO1xuXG4gICAgICAgIGlmICh0YWdOYW1lID09PSAnaW1nJykge1xuICAgICAgICAgIHRoaXMuaXNJbWcgPSB0cnVlOyAvLyBlLmcuOiBcImltZy9waWN0dXJlLmpwZ1wiXG5cbiAgICAgICAgICB1cmwgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3JjJykgfHwgJyc7XG4gICAgICAgICAgdGhpcy5vcmlnaW5hbFVybCA9IHVybDsgLy8gU3RvcCB3aGVuIGl0J3MgYSBibGFuayBpbWFnZVxuXG4gICAgICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IC8vIGUuZy46IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWcvcGljdHVyZS5qcGdcIlxuXG5cbiAgICAgICAgICB1cmwgPSBlbGVtZW50LnNyYztcbiAgICAgICAgfSBlbHNlIGlmICh0YWdOYW1lID09PSAnY2FudmFzJyAmJiB3aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICB1cmwgPSBlbGVtZW50LnRvRGF0YVVSTCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2FkKHVybCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImxvYWRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkKHVybCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGlmICghdXJsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuaW1hZ2VEYXRhID0ge307XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBpZiAoIW9wdGlvbnMucm90YXRhYmxlICYmICFvcHRpb25zLnNjYWxhYmxlKSB7XG4gICAgICAgICAgb3B0aW9ucy5jaGVja09yaWVudGF0aW9uID0gZmFsc2U7XG4gICAgICAgIH0gLy8gT25seSBJRTEwKyBzdXBwb3J0cyBUeXBlZCBBcnJheXNcblxuXG4gICAgICAgIGlmICghb3B0aW9ucy5jaGVja09yaWVudGF0aW9uIHx8ICF3aW5kb3cuQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICB0aGlzLmNsb25lKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIERldGVjdCB0aGUgbWltZSB0eXBlIG9mIHRoZSBpbWFnZSBkaXJlY3RseSBpZiBpdCBpcyBhIERhdGEgVVJMXG5cblxuICAgICAgICBpZiAoUkVHRVhQX0RBVEFfVVJMLnRlc3QodXJsKSkge1xuICAgICAgICAgIC8vIFJlYWQgQXJyYXlCdWZmZXIgZnJvbSBEYXRhIFVSTCBvZiBKUEVHIGltYWdlcyBkaXJlY3RseSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gICAgICAgICAgaWYgKFJFR0VYUF9EQVRBX1VSTF9KUEVHLnRlc3QodXJsKSkge1xuICAgICAgICAgICAgdGhpcy5yZWFkKGRhdGFVUkxUb0FycmF5QnVmZmVyKHVybCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBPbmx5IGEgSlBFRyBpbWFnZSBtYXkgY29udGFpbnMgRXhpZiBPcmllbnRhdGlvbiBpbmZvcm1hdGlvbixcbiAgICAgICAgICAgIC8vIHRoZSByZXN0IHR5cGVzIG9mIERhdGEgVVJMcyBhcmUgbm90IG5lY2Vzc2FyeSB0byBjaGVjayBvcmllbnRhdGlvbiBhdCBhbGwuXG4gICAgICAgICAgICB0aGlzLmNsb25lKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIDEuIERldGVjdCB0aGUgbWltZSB0eXBlIG9mIHRoZSBpbWFnZSBieSBhIFhNTEh0dHBSZXF1ZXN0LlxuICAgICAgICAvLyAyLiBMb2FkIHRoZSBpbWFnZSBhcyBBcnJheUJ1ZmZlciBmb3IgcmVhZGluZyBvcmllbnRhdGlvbiBpZiBpdHMgYSBKUEVHIGltYWdlLlxuXG5cbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVsb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy54aHIgPSB4aHI7IC8vIDEuIENyb3NzIG9yaWdpbiByZXF1ZXN0cyBhcmUgb25seSBzdXBwb3J0ZWQgZm9yIHByb3RvY29sIHNjaGVtZXM6XG4gICAgICAgIC8vIGh0dHAsIGh0dHBzLCBkYXRhLCBjaHJvbWUsIGNocm9tZS1leHRlbnNpb24uXG4gICAgICAgIC8vIDIuIEFjY2VzcyB0byBYTUxIdHRwUmVxdWVzdCBmcm9tIGEgRGF0YSBVUkwgd2lsbCBiZSBibG9ja2VkIGJ5IENPUlMgcG9saWN5XG4gICAgICAgIC8vIGluIHNvbWUgYnJvd3NlcnMgYXMgSUUxMSBhbmQgU2FmYXJpLlxuXG4gICAgICAgIHhoci5vbmFib3J0ID0gY2xvbmU7XG4gICAgICAgIHhoci5vbmVycm9yID0gY2xvbmU7XG4gICAgICAgIHhoci5vbnRpbWVvdXQgPSBjbG9uZTtcblxuICAgICAgICB4aHIub25wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBBYm9ydCB0aGUgcmVxdWVzdCBkaXJlY3RseSBpZiBpdCBub3QgYSBKUEVHIGltYWdlIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICAgICAgICBpZiAoeGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKSAhPT0gTUlNRV9UWVBFX0pQRUcpIHtcbiAgICAgICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnJlYWQoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB4aHIub25sb2FkZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnJlbG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgIF90aGlzLnhociA9IG51bGw7XG4gICAgICAgIH07IC8vIEJ1c3QgY2FjaGUgd2hlbiB0aGVyZSBpcyBhIFwiY3Jvc3NPcmlnaW5cIiBwcm9wZXJ0eSB0byBhdm9pZCBicm93c2VyIGNhY2hlIGVycm9yXG5cblxuICAgICAgICBpZiAob3B0aW9ucy5jaGVja0Nyb3NzT3JpZ2luICYmIGlzQ3Jvc3NPcmlnaW5VUkwodXJsKSAmJiBlbGVtZW50LmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgdXJsID0gYWRkVGltZXN0YW1wKHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBlbGVtZW50LmNyb3NzT3JpZ2luID09PSAndXNlLWNyZWRlbnRpYWxzJztcbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVhZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWQoYXJyYXlCdWZmZXIpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICBpbWFnZURhdGEgPSB0aGlzLmltYWdlRGF0YTsgLy8gUmVzZXQgdGhlIG9yaWVudGF0aW9uIHZhbHVlIHRvIGl0cyBkZWZhdWx0IHZhbHVlIDFcbiAgICAgICAgLy8gYXMgc29tZSBpT1MgYnJvd3NlcnMgd2lsbCByZW5kZXIgaW1hZ2Ugd2l0aCBpdHMgb3JpZW50YXRpb25cblxuICAgICAgICB2YXIgb3JpZW50YXRpb24gPSByZXNldEFuZEdldE9yaWVudGF0aW9uKGFycmF5QnVmZmVyKTtcbiAgICAgICAgdmFyIHJvdGF0ZSA9IDA7XG4gICAgICAgIHZhciBzY2FsZVggPSAxO1xuICAgICAgICB2YXIgc2NhbGVZID0gMTtcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPiAxKSB7XG4gICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgVVJMIHdoaWNoIGhhcyB0aGUgZGVmYXVsdCBvcmllbnRhdGlvbiB2YWx1ZVxuICAgICAgICAgIHRoaXMudXJsID0gYXJyYXlCdWZmZXJUb0RhdGFVUkwoYXJyYXlCdWZmZXIsIE1JTUVfVFlQRV9KUEVHKTtcblxuICAgICAgICAgIHZhciBfcGFyc2VPcmllbnRhdGlvbiA9IHBhcnNlT3JpZW50YXRpb24ob3JpZW50YXRpb24pO1xuXG4gICAgICAgICAgcm90YXRlID0gX3BhcnNlT3JpZW50YXRpb24ucm90YXRlO1xuICAgICAgICAgIHNjYWxlWCA9IF9wYXJzZU9yaWVudGF0aW9uLnNjYWxlWDtcbiAgICAgICAgICBzY2FsZVkgPSBfcGFyc2VPcmllbnRhdGlvbi5zY2FsZVk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5yb3RhdGFibGUpIHtcbiAgICAgICAgICBpbWFnZURhdGEucm90YXRlID0gcm90YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2NhbGFibGUpIHtcbiAgICAgICAgICBpbWFnZURhdGEuc2NhbGVYID0gc2NhbGVYO1xuICAgICAgICAgIGltYWdlRGF0YS5zY2FsZVkgPSBzY2FsZVk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsb25lKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImNsb25lXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgdXJsID0gdGhpcy51cmw7XG4gICAgICAgIHZhciBjcm9zc09yaWdpbiA9IGVsZW1lbnQuY3Jvc3NPcmlnaW47XG4gICAgICAgIHZhciBjcm9zc09yaWdpblVybCA9IHVybDtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNoZWNrQ3Jvc3NPcmlnaW4gJiYgaXNDcm9zc09yaWdpblVSTCh1cmwpKSB7XG4gICAgICAgICAgaWYgKCFjcm9zc09yaWdpbikge1xuICAgICAgICAgICAgY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcbiAgICAgICAgICB9IC8vIEJ1c3QgY2FjaGUgd2hlbiB0aGVyZSBpcyBub3QgYSBcImNyb3NzT3JpZ2luXCIgcHJvcGVydHkgKCM1MTkpXG5cblxuICAgICAgICAgIGNyb3NzT3JpZ2luVXJsID0gYWRkVGltZXN0YW1wKHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgICAgIHRoaXMuY3Jvc3NPcmlnaW5VcmwgPSBjcm9zc09yaWdpblVybDtcbiAgICAgICAgdmFyIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG5cbiAgICAgICAgaWYgKGNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGltYWdlLnNyYyA9IGNyb3NzT3JpZ2luVXJsIHx8IHVybDtcbiAgICAgICAgaW1hZ2UuYWx0ID0gZWxlbWVudC5hbHQgfHwgJ1RoZSBpbWFnZSB0byBjcm9wJztcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgICAgICBpbWFnZS5vbmxvYWQgPSB0aGlzLnN0YXJ0LmJpbmQodGhpcyk7XG4gICAgICAgIGltYWdlLm9uZXJyb3IgPSB0aGlzLnN0b3AuYmluZCh0aGlzKTtcbiAgICAgICAgYWRkQ2xhc3MoaW1hZ2UsIENMQVNTX0hJREUpO1xuICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGltYWdlLCBlbGVtZW50Lm5leHRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic3RhcnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTtcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgaW1hZ2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuc2l6aW5nID0gdHJ1ZTsgLy8gTWF0Y2ggYWxsIGJyb3dzZXJzIHRoYXQgdXNlIFdlYktpdCBhcyB0aGUgbGF5b3V0IGVuZ2luZSBpbiBpT1MgZGV2aWNlcyxcbiAgICAgICAgLy8gc3VjaCBhcyBTYWZhcmkgZm9yIGlPUywgQ2hyb21lIGZvciBpT1MsIGFuZCBpbi1hcHAgYnJvd3NlcnMuXG5cbiAgICAgICAgdmFyIGlzSU9TV2ViS2l0ID0gV0lORE9XLm5hdmlnYXRvciAmJiAvKD86aVBhZHxpUGhvbmV8aVBvZCkuKj9BcHBsZVdlYktpdC9pLnRlc3QoV0lORE9XLm5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4gICAgICAgIHZhciBkb25lID0gZnVuY3Rpb24gZG9uZShuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQpIHtcbiAgICAgICAgICBhc3NpZ24oX3RoaXMyLmltYWdlRGF0YSwge1xuICAgICAgICAgICAgbmF0dXJhbFdpZHRoOiBuYXR1cmFsV2lkdGgsXG4gICAgICAgICAgICBuYXR1cmFsSGVpZ2h0OiBuYXR1cmFsSGVpZ2h0LFxuICAgICAgICAgICAgYXNwZWN0UmF0aW86IG5hdHVyYWxXaWR0aCAvIG5hdHVyYWxIZWlnaHRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBfdGhpczIuc2l6aW5nID0gZmFsc2U7XG4gICAgICAgICAgX3RoaXMyLnNpemVkID0gdHJ1ZTtcblxuICAgICAgICAgIF90aGlzMi5idWlsZCgpO1xuICAgICAgICB9OyAvLyBNb3N0IG1vZGVybiBicm93c2VycyAoZXhjZXB0cyBpT1MgV2ViS2l0KVxuXG5cbiAgICAgICAgaWYgKGltYWdlLm5hdHVyYWxXaWR0aCAmJiAhaXNJT1NXZWJLaXQpIHtcbiAgICAgICAgICBkb25lKGltYWdlLm5hdHVyYWxXaWR0aCwgaW1hZ2UubmF0dXJhbEhlaWdodCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNpemluZ0ltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuc2l6aW5nSW1hZ2UgPSBzaXppbmdJbWFnZTtcblxuICAgICAgICBzaXppbmdJbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZG9uZShzaXppbmdJbWFnZS53aWR0aCwgc2l6aW5nSW1hZ2UuaGVpZ2h0KTtcblxuICAgICAgICAgIGlmICghaXNJT1NXZWJLaXQpIHtcbiAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoc2l6aW5nSW1hZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzaXppbmdJbWFnZS5zcmMgPSBpbWFnZS5zcmM7IC8vIGlPUyBXZWJLaXQgd2lsbCBjb252ZXJ0IHRoZSBpbWFnZSBhdXRvbWF0aWNhbGx5XG4gICAgICAgIC8vIHdpdGggaXRzIG9yaWVudGF0aW9uIG9uY2UgYXBwZW5kIGl0IGludG8gRE9NICgjMjc5KVxuXG4gICAgICAgIGlmICghaXNJT1NXZWJLaXQpIHtcbiAgICAgICAgICBzaXppbmdJbWFnZS5zdHlsZS5jc3NUZXh0ID0gJ2xlZnQ6MDsnICsgJ21heC1oZWlnaHQ6bm9uZSFpbXBvcnRhbnQ7JyArICdtYXgtd2lkdGg6bm9uZSFpbXBvcnRhbnQ7JyArICdtaW4taGVpZ2h0OjAhaW1wb3J0YW50OycgKyAnbWluLXdpZHRoOjAhaW1wb3J0YW50OycgKyAnb3BhY2l0eTowOycgKyAncG9zaXRpb246YWJzb2x1dGU7JyArICd0b3A6MDsnICsgJ3otaW5kZXg6LTE7JztcbiAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKHNpemluZ0ltYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzdG9wXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTtcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgaW1hZ2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgIGltYWdlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaW1hZ2UpO1xuICAgICAgICB0aGlzLmltYWdlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYnVpbGRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNpemVkIHx8IHRoaXMucmVhZHkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICBpbWFnZSA9IHRoaXMuaW1hZ2U7IC8vIENyZWF0ZSBjcm9wcGVyIGVsZW1lbnRzXG5cbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IFRFTVBMQVRFO1xuICAgICAgICB2YXIgY3JvcHBlciA9IHRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItY29udGFpbmVyXCIpKTtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGNyb3BwZXIucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1jYW52YXNcIikpO1xuICAgICAgICB2YXIgZHJhZ0JveCA9IGNyb3BwZXIucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoTkFNRVNQQUNFLCBcIi1kcmFnLWJveFwiKSk7XG4gICAgICAgIHZhciBjcm9wQm94ID0gY3JvcHBlci5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWNyb3AtYm94XCIpKTtcbiAgICAgICAgdmFyIGZhY2UgPSBjcm9wQm94LnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItZmFjZVwiKSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmNyb3BwZXIgPSBjcm9wcGVyO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgdGhpcy5kcmFnQm94ID0gZHJhZ0JveDtcbiAgICAgICAgdGhpcy5jcm9wQm94ID0gY3JvcEJveDtcbiAgICAgICAgdGhpcy52aWV3Qm94ID0gY3JvcHBlci5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLXZpZXctYm94XCIpKTtcbiAgICAgICAgdGhpcy5mYWNlID0gZmFjZTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKGltYWdlKTsgLy8gSGlkZSB0aGUgb3JpZ2luYWwgaW1hZ2VcblxuICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBDTEFTU19ISURERU4pOyAvLyBJbnNlcnRzIHRoZSBjcm9wcGVyIGFmdGVyIHRvIHRoZSBjdXJyZW50IGltYWdlXG5cbiAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShjcm9wcGVyLCBlbGVtZW50Lm5leHRTaWJsaW5nKTsgLy8gU2hvdyB0aGUgaW1hZ2UgaWYgaXMgaGlkZGVuXG5cbiAgICAgICAgaWYgKCF0aGlzLmlzSW1nKSB7XG4gICAgICAgICAgcmVtb3ZlQ2xhc3MoaW1hZ2UsIENMQVNTX0hJREUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbml0UHJldmlldygpO1xuICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgb3B0aW9ucy5pbml0aWFsQXNwZWN0UmF0aW8gPSBNYXRoLm1heCgwLCBvcHRpb25zLmluaXRpYWxBc3BlY3RSYXRpbykgfHwgTmFOO1xuICAgICAgICBvcHRpb25zLmFzcGVjdFJhdGlvID0gTWF0aC5tYXgoMCwgb3B0aW9ucy5hc3BlY3RSYXRpbykgfHwgTmFOO1xuICAgICAgICBvcHRpb25zLnZpZXdNb2RlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMywgTWF0aC5yb3VuZChvcHRpb25zLnZpZXdNb2RlKSkpIHx8IDA7XG4gICAgICAgIGFkZENsYXNzKGNyb3BCb3gsIENMQVNTX0hJRERFTik7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLmd1aWRlcykge1xuICAgICAgICAgIGFkZENsYXNzKGNyb3BCb3guZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWRhc2hlZFwiKSksIENMQVNTX0hJRERFTik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgICAgYWRkQ2xhc3MoY3JvcEJveC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItY2VudGVyXCIpKSwgQ0xBU1NfSElEREVOKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmJhY2tncm91bmQpIHtcbiAgICAgICAgICBhZGRDbGFzcyhjcm9wcGVyLCBcIlwiLmNvbmNhdChOQU1FU1BBQ0UsIFwiLWJnXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb3B0aW9ucy5oaWdobGlnaHQpIHtcbiAgICAgICAgICBhZGRDbGFzcyhmYWNlLCBDTEFTU19JTlZJU0lCTEUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuY3JvcEJveE1vdmFibGUpIHtcbiAgICAgICAgICBhZGRDbGFzcyhmYWNlLCBDTEFTU19NT1ZFKTtcbiAgICAgICAgICBzZXREYXRhKGZhY2UsIERBVEFfQUNUSU9OLCBBQ1RJT05fQUxMKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb3B0aW9ucy5jcm9wQm94UmVzaXphYmxlKSB7XG4gICAgICAgICAgYWRkQ2xhc3MoY3JvcEJveC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItbGluZVwiKSksIENMQVNTX0hJRERFTik7XG4gICAgICAgICAgYWRkQ2xhc3MoY3JvcEJveC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItcG9pbnRcIikpLCBDTEFTU19ISURERU4pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5yZWFkeSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2V0RHJhZ01vZGUob3B0aW9ucy5kcmFnTW9kZSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0Nyb3ApIHtcbiAgICAgICAgICB0aGlzLmNyb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0RGF0YShvcHRpb25zLmRhdGEpO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMucmVhZHkpKSB7XG4gICAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfUkVBRFksIG9wdGlvbnMucmVhZHksIHtcbiAgICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgRVZFTlRfUkVBRFkpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJ1bmJ1aWxkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdW5idWlsZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlYWR5KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWFkeSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICB0aGlzLnJlc2V0UHJldmlldygpO1xuICAgICAgICB0aGlzLmNyb3BwZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNyb3BwZXIpO1xuICAgICAgICByZW1vdmVDbGFzcyh0aGlzLmVsZW1lbnQsIENMQVNTX0hJRERFTik7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInVuY3JlYXRlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdW5jcmVhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlYWR5KSB7XG4gICAgICAgICAgdGhpcy51bmJ1aWxkKCk7XG4gICAgICAgICAgdGhpcy5yZWFkeSA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuY3JvcHBlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2l6aW5nKSB7XG4gICAgICAgICAgdGhpcy5zaXppbmdJbWFnZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgIHRoaXMuc2l6aW5nID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5zaXplZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVsb2FkaW5nKSB7XG4gICAgICAgICAgdGhpcy54aHIub25hYm9ydCA9IG51bGw7XG4gICAgICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmltYWdlKSB7XG4gICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogR2V0IHRoZSBubyBjb25mbGljdCBjcm9wcGVyIGNsYXNzLlxuICAgICAgICogQHJldHVybnMge0Nyb3BwZXJ9IFRoZSBjcm9wcGVyIGNsYXNzLlxuICAgICAgICovXG5cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJub0NvbmZsaWN0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgICAgd2luZG93LkNyb3BwZXIgPSBBbm90aGVyQ3JvcHBlcjtcbiAgICAgICAgcmV0dXJuIENyb3BwZXI7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIENoYW5nZSB0aGUgZGVmYXVsdCBvcHRpb25zLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBUaGUgbmV3IGRlZmF1bHQgb3B0aW9ucy5cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInNldERlZmF1bHRzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGVmYXVsdHMob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24oREVGQVVMVFMsIGlzUGxhaW5PYmplY3Qob3B0aW9ucykgJiYgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENyb3BwZXI7XG4gIH0oKTtcblxuICBhc3NpZ24oQ3JvcHBlci5wcm90b3R5cGUsIHJlbmRlciwgcHJldmlldywgZXZlbnRzLCBoYW5kbGVycywgY2hhbmdlLCBtZXRob2RzKTtcblxuICByZXR1cm4gQ3JvcHBlcjtcblxufSkpKTtcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi8qKlxcbiogR2VuZXJhbCBVcHB5IHN0eWxlcyB0aGF0IGFwcGx5IHRvIGV2ZXJ5dGhpbmcgaW5zaWRlIHRoZSAudXBweS1Sb290IGNvbnRhaW5lclxcbiovXFxuLnVwcHktUm9vdCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgY29sb3I6ICMzMzM7XFxuICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgc3lzdGVtLXVpLCBCbGlua01hY1N5c3RlbUZvbnQsIFxcXCJTZWdvZSBVSVxcXCIsIFxcXCJTZWdvZSBVSSBTeW1ib2xcXFwiLCBcXFwiU2Vnb2UgVUkgRW1vamlcXFwiLCBcXFwiQXBwbGUgQ29sb3IgRW1vamlcXFwiLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XFxuICBsaW5lLWhlaWdodDogMTtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcXG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XFxufVxcblxcbltkaXI9cnRsXSAudXBweS1Sb290LFxcbi51cHB5LVJvb3RbZGlyPXJ0bF0ge1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcblxcbi51cHB5LVJvb3QgKixcXG4udXBweS1Sb290ICo6OmJlZm9yZSxcXG4udXBweS1Sb290ICo6OmFmdGVyIHtcXG4gIGJveC1zaXppbmc6IGluaGVyaXQ7XFxufVxcblxcbi51cHB5LVJvb3QgW2hpZGRlbl0ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLnVwcHktdS1yZXNldCB7XFxuICBhbGw6IGluaXRpYWw7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgICAgICAgICBhcHBlYXJhbmNlOiBub25lO1xcbiAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIHN5c3RlbS11aSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcXFwiU2Vnb2UgVUlcXFwiLCBcXFwiU2Vnb2UgVUkgU3ltYm9sXFxcIiwgXFxcIlNlZ29lIFVJIEVtb2ppXFxcIiwgXFxcIkFwcGxlIENvbG9yIEVtb2ppXFxcIiwgUm9ib3RvLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxufVxcblxcbltkaXI9cnRsXSAudXBweS11LXJlc2V0IHtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbn1cXG5cXG4udXBweS1jLXRleHRJbnB1dCB7XFxuICBwYWRkaW5nOiA2cHggOHB4O1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuNTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1jLXRleHRJbnB1dCB7XFxuICBwYWRkaW5nOiA4cHggMTBweDtcXG59XFxuLnVwcHktYy10ZXh0SW5wdXQ6Zm9jdXMge1xcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDM0LCAxMTcsIDIxNSwgMC42KTtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgzNCwgMTE3LCAyMTUsIDAuMTUpO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LWMtdGV4dElucHV0IHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG4gIGJvcmRlci1jb2xvcjogIzMzMztcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1jLXRleHRJbnB1dDpmb2N1cyB7XFxuICBib3JkZXItY29sb3I6ICM1MjUyNTI7XFxuICBib3gtc2hhZG93OiBub25lO1xcbn1cXG5cXG4udXBweS1jLWljb24ge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgbWF4LWhlaWdodDogMTAwJTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBmaWxsOiBjdXJyZW50Q29sb3I7XFxufVxcblxcbi51cHB5LWMtYnRuIHtcXG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICBsaW5lLWhlaWdodDogMTtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjNzO1xcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogYmFja2dyb3VuZC1jb2xvciwgY29sb3I7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuW2Rpcj1ydGxdIC51cHB5LWMtYnRuIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLnVwcHktYy1idG46bm90KDpkaXNhYmxlZCk6bm90KC5kaXNhYmxlZCkge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4udXBweS1jLWJ0bjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcblxcbi51cHB5LWMtYnRuLXByaW1hcnkge1xcbiAgcGFkZGluZzogMTBweCAxOHB4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjI3NWQ3O1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbn1cXG4udXBweS1jLWJ0bi1wcmltYXJ5OmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxYjVkYWI7XFxufVxcbi51cHB5LWMtYnRuLXByaW1hcnk6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM0LCAxMTcsIDIxNSwgMC40KTtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktYy1idG4tcHJpbWFyeSB7XFxuICBwYWRkaW5nOiAxM3B4IDIycHg7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktYy1idG4tcHJpbWFyeSB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1jLWJ0bi1wcmltYXJ5OmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktYy1idG4tcHJpbWFyeTo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktYy1idG4tcHJpbWFyeTpmb2N1cyB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSgxNzAsIDIyNSwgMjU1LCAwLjg1KTtcXG59XFxuXFxuLnVwcHktYy1idG4tbGluayB7XFxuICBwYWRkaW5nOiAxMHB4IDE1cHg7XFxuICBjb2xvcjogIzUyNTI1MjtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxufVxcbi51cHB5LWMtYnRuLWxpbms6aG92ZXIge1xcbiAgY29sb3I6ICMzMzM7XFxufVxcbi51cHB5LWMtYnRuLWxpbms6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM0LCAxMTcsIDIxNSwgMC4yNSk7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LWMtYnRuLWxpbmsge1xcbiAgcGFkZGluZzogMTNweCAxOHB4O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LWMtYnRuLWxpbmsge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktYy1idG4tbGluazpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LWMtYnRuLWxpbms6Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LWMtYnRuLWxpbms6Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogMCAwIDAgMnB4IHJnYmEoMTcwLCAyMjUsIDI1NSwgMC44NSk7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktYy1idG4tbGluazpob3ZlciB7XFxuICBjb2xvcjogIzkzOTM5MztcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2NvcmUvZGlzdC9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7O0NBRUM7QUFDRDtFQUNFLGtCQUFrQjtFQUNsQixzQkFBc0I7RUFDdEIsV0FBVztFQUNYLHFLQUFxSztFQUNySyxjQUFjO0VBQ2QsZ0JBQWdCO0VBQ2hCLG1DQUFtQztFQUNuQyxrQ0FBa0M7QUFDcEM7O0FBRUE7O0VBRUUsaUJBQWlCO0FBQ25COztBQUVBOzs7RUFHRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLHdCQUF3QjtVQUNoQixnQkFBZ0I7RUFDeEIscUtBQXFLO0VBQ3JLLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixzQkFBc0I7RUFDdEIsc0JBQXNCO0VBQ3RCLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsaUJBQWlCO0FBQ25CO0FBQ0E7RUFDRSxxQ0FBcUM7RUFDckMsYUFBYTtFQUNiLDhDQUE4QztBQUNoRDtBQUNBO0VBQ0UsY0FBYztFQUNkLHNCQUFzQjtFQUN0QixrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLHFCQUFxQjtFQUNyQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0Usb0JBQW9CO0VBQ3BCLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixvQkFBb0I7RUFDcEIsY0FBYztFQUNkLGNBQWM7RUFDZCxtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6Qiw0Q0FBNEM7RUFDNUMseUJBQXlCO1VBQ2pCLGlCQUFpQjtBQUMzQjtBQUNBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLFNBQVM7QUFDWDs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsZUFBZTtFQUNmLHlCQUF5QjtFQUN6QixrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLHlCQUF5QjtBQUMzQjtBQUNBO0VBQ0UsYUFBYTtFQUNiLDZDQUE2QztBQUMvQztBQUNBO0VBQ0Usa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxhQUFhO0FBQ2Y7QUFDQTtFQUNFLFNBQVM7QUFDWDtBQUNBO0VBQ0UsK0NBQStDO0FBQ2pEOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGNBQWM7RUFDZCxlQUFlO0VBQ2YsY0FBYztFQUNkLDZCQUE2QjtFQUM3QixrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLFdBQVc7QUFDYjtBQUNBO0VBQ0UsYUFBYTtFQUNiLDhDQUE4QztBQUNoRDtBQUNBO0VBQ0Usa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxhQUFhO0FBQ2Y7QUFDQTtFQUNFLFNBQVM7QUFDWDtBQUNBO0VBQ0UsK0NBQStDO0FBQ2pEO0FBQ0E7RUFDRSxjQUFjO0FBQ2hCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi8qKlxcbiogR2VuZXJhbCBVcHB5IHN0eWxlcyB0aGF0IGFwcGx5IHRvIGV2ZXJ5dGhpbmcgaW5zaWRlIHRoZSAudXBweS1Sb290IGNvbnRhaW5lclxcbiovXFxuLnVwcHktUm9vdCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgY29sb3I6ICMzMzM7XFxuICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgc3lzdGVtLXVpLCBCbGlua01hY1N5c3RlbUZvbnQsIFxcXCJTZWdvZSBVSVxcXCIsIFxcXCJTZWdvZSBVSSBTeW1ib2xcXFwiLCBcXFwiU2Vnb2UgVUkgRW1vamlcXFwiLCBcXFwiQXBwbGUgQ29sb3IgRW1vamlcXFwiLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XFxuICBsaW5lLWhlaWdodDogMTtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcXG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XFxufVxcblxcbltkaXI9cnRsXSAudXBweS1Sb290LFxcbi51cHB5LVJvb3RbZGlyPXJ0bF0ge1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcblxcbi51cHB5LVJvb3QgKixcXG4udXBweS1Sb290ICo6OmJlZm9yZSxcXG4udXBweS1Sb290ICo6OmFmdGVyIHtcXG4gIGJveC1zaXppbmc6IGluaGVyaXQ7XFxufVxcblxcbi51cHB5LVJvb3QgW2hpZGRlbl0ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLnVwcHktdS1yZXNldCB7XFxuICBhbGw6IGluaXRpYWw7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgICAgICAgICBhcHBlYXJhbmNlOiBub25lO1xcbiAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIHN5c3RlbS11aSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcXFwiU2Vnb2UgVUlcXFwiLCBcXFwiU2Vnb2UgVUkgU3ltYm9sXFxcIiwgXFxcIlNlZ29lIFVJIEVtb2ppXFxcIiwgXFxcIkFwcGxlIENvbG9yIEVtb2ppXFxcIiwgUm9ib3RvLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxufVxcblxcbltkaXI9cnRsXSAudXBweS11LXJlc2V0IHtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbn1cXG5cXG4udXBweS1jLXRleHRJbnB1dCB7XFxuICBwYWRkaW5nOiA2cHggOHB4O1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuNTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1jLXRleHRJbnB1dCB7XFxuICBwYWRkaW5nOiA4cHggMTBweDtcXG59XFxuLnVwcHktYy10ZXh0SW5wdXQ6Zm9jdXMge1xcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDM0LCAxMTcsIDIxNSwgMC42KTtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgzNCwgMTE3LCAyMTUsIDAuMTUpO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LWMtdGV4dElucHV0IHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG4gIGJvcmRlci1jb2xvcjogIzMzMztcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1jLXRleHRJbnB1dDpmb2N1cyB7XFxuICBib3JkZXItY29sb3I6ICM1MjUyNTI7XFxuICBib3gtc2hhZG93OiBub25lO1xcbn1cXG5cXG4udXBweS1jLWljb24ge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgbWF4LWhlaWdodDogMTAwJTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBmaWxsOiBjdXJyZW50Q29sb3I7XFxufVxcblxcbi51cHB5LWMtYnRuIHtcXG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICBsaW5lLWhlaWdodDogMTtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjNzO1xcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogYmFja2dyb3VuZC1jb2xvciwgY29sb3I7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuW2Rpcj1ydGxdIC51cHB5LWMtYnRuIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLnVwcHktYy1idG46bm90KDpkaXNhYmxlZCk6bm90KC5kaXNhYmxlZCkge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4udXBweS1jLWJ0bjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcblxcbi51cHB5LWMtYnRuLXByaW1hcnkge1xcbiAgcGFkZGluZzogMTBweCAxOHB4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjI3NWQ3O1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbn1cXG4udXBweS1jLWJ0bi1wcmltYXJ5OmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxYjVkYWI7XFxufVxcbi51cHB5LWMtYnRuLXByaW1hcnk6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM0LCAxMTcsIDIxNSwgMC40KTtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktYy1idG4tcHJpbWFyeSB7XFxuICBwYWRkaW5nOiAxM3B4IDIycHg7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktYy1idG4tcHJpbWFyeSB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1jLWJ0bi1wcmltYXJ5OmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktYy1idG4tcHJpbWFyeTo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktYy1idG4tcHJpbWFyeTpmb2N1cyB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSgxNzAsIDIyNSwgMjU1LCAwLjg1KTtcXG59XFxuXFxuLnVwcHktYy1idG4tbGluayB7XFxuICBwYWRkaW5nOiAxMHB4IDE1cHg7XFxuICBjb2xvcjogIzUyNTI1MjtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxufVxcbi51cHB5LWMtYnRuLWxpbms6aG92ZXIge1xcbiAgY29sb3I6ICMzMzM7XFxufVxcbi51cHB5LWMtYnRuLWxpbms6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM0LCAxMTcsIDIxNSwgMC4yNSk7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LWMtYnRuLWxpbmsge1xcbiAgcGFkZGluZzogMTNweCAxOHB4O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LWMtYnRuLWxpbmsge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktYy1idG4tbGluazpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LWMtYnRuLWxpbms6Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LWMtYnRuLWxpbms6Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogMCAwIDAgMnB4IHJnYmEoMTcwLCAyMjUsIDI1NSwgMC44NSk7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktYy1idG4tbGluazpob3ZlciB7XFxuICBjb2xvcjogIzkzOTM5MztcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0EvL3d3dy53My5vcmcvMjAwMC9zdmclMjIlMjB3aWR0aCUzRCUyMjM2cHglMjIlMjBoZWlnaHQlM0QlMjIxMnB4JTIyJTNFJTNDcGF0aCUyMGZpbGwlM0QlMjJyZ2JhJTI4MTcsJTIwMTcsJTIwMTcsJTIwMC45JTI5JTIyJTIwdHJhbnNmb3JtJTNEJTIycm90YXRlJTI4MCUyOSUyMiUyMGQlM0QlMjJNMi42NTgsMC4wMDAlMjBDLTEzLjYxNSwwLjAwMCUyMDUwLjkzOCwwLjAwMCUyMDM0LjY2MiwwLjAwMCUyMEMyOC42NjIsMC4wMDAlMjAyMy4wMzUsMTIuMDAyJTIwMTguNjYwLDEyLjAwMiUyMEMxNC4yODUsMTIuMDAyJTIwOC41OTQsMC4wMDAlMjAyLjY1OCwwLjAwMCUyMFolMjIvJTNFJTNDL3N2ZyUzRVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xX19fID0gbmV3IFVSTChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQS8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyMiUyMHdpZHRoJTNEJTIyMzZweCUyMiUyMGhlaWdodCUzRCUyMjEycHglMjIlM0UlM0NwYXRoJTIwZmlsbCUzRCUyMnJnYmElMjgxNywlMjAxNywlMjAxNywlMjAwLjklMjklMjIlMjB0cmFuc2Zvcm0lM0QlMjJyb3RhdGUlMjgxODAlMjAxOCUyMDYlMjklMjIlMjBkJTNEJTIyTTIuNjU4LDAuMDAwJTIwQy0xMy42MTUsMC4wMDAlMjA1MC45MzgsMC4wMDAlMjAzNC42NjIsMC4wMDAlMjBDMjguNjYyLDAuMDAwJTIwMjMuMDM1LDEyLjAwMiUyMDE4LjY2MCwxMi4wMDIlMjBDMTQuMjg1LDEyLjAwMiUyMDguNTk0LDAuMDAwJTIwMi42NTgsMC4wMDAlMjBaJTIyLyUzRSUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMl9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0EvL3d3dy53My5vcmcvMjAwMC9zdmclMjIlMjB3aWR0aCUzRCUyMjEycHglMjIlMjBoZWlnaHQlM0QlMjIzNnB4JTIyJTNFJTNDcGF0aCUyMGZpbGwlM0QlMjJyZ2JhJTI4MTcsJTIwMTcsJTIwMTcsJTIwMC45JTI5JTIyJTIwdHJhbnNmb3JtJTNEJTIycm90YXRlJTI4LTkwJTIwMTglMjAxOCUyOSUyMiUyMGQlM0QlMjJNMi42NTgsMC4wMDAlMjBDLTEzLjYxNSwwLjAwMCUyMDUwLjkzOCwwLjAwMCUyMDM0LjY2MiwwLjAwMCUyMEMyOC42NjIsMC4wMDAlMjAyMy4wMzUsMTIuMDAyJTIwMTguNjYwLDEyLjAwMiUyMEMxNC4yODUsMTIuMDAyJTIwOC41OTQsMC4wMDAlMjAyLjY1OCwwLjAwMCUyMFolMjIvJTNFJTNDL3N2ZyUzRVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8zX19fID0gbmV3IFVSTChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQS8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyMiUyMHdpZHRoJTNEJTIyMTJweCUyMiUyMGhlaWdodCUzRCUyMjM2cHglMjIlM0UlM0NwYXRoJTIwZmlsbCUzRCUyMnJnYmElMjgxNywlMjAxNywlMjAxNywlMjAwLjklMjklMjIlMjB0cmFuc2Zvcm0lM0QlMjJyb3RhdGUlMjg5MCUyMDYlMjA2JTI5JTIyJTIwZCUzRCUyMk0yLjY1OCwwLjAwMCUyMEMtMTMuNjE1LDAuMDAwJTIwNTAuOTM4LDAuMDAwJTIwMzQuNjYyLDAuMDAwJTIwQzI4LjY2MiwwLjAwMCUyMDIzLjAzNSwxMi4wMDIlMjAxOC42NjAsMTIuMDAyJTIwQzE0LjI4NSwxMi4wMDIlMjA4LjU5NCwwLjAwMCUyMDIuNjU4LDAuMDAwJTIwWiUyMi8lM0UlM0Mvc3ZnJTNFXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzRfX18gPSBuZXcgVVJMKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0lMjdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyNyB3aWR0aD0lMjczNSUyNyBoZWlnaHQ9JTI3MzklMjcgdmlld0JveD0lMjcwIDAgMzUgMzklMjclM0UlM0NwYXRoIGQ9JTI3TTEuNzA4IDM4LjY2YzEuNzA5IDAgMy40MTctMy40MTcgNi44MzQtMy40MTcgMy40MTYgMCA1LjEyNSAzLjQxNyA4LjYxIDMuNDE3IDMuMzQ4IDAgNS4wNTYtMy40MTcgOC40NzMtMy40MTcgNC4zMDUgMCA1LjEyNSAzLjQxNyA2LjgzMyAzLjQxNy44ODkgMCAxLjcwOS0uODg5IDEuNzA5LTEuNzA5di0xOS42OEMzNC4xNjctNS43NTcgMC01Ljc1NyAwIDE3LjI3MXYxOS42OGMwIC44Mi44ODggMS43MDkgMS43MDggMS43MDl6bTguNTQyLTE3LjA4NGEzLjM4MyAzLjM4MyAwIDAxLTMuNDE3LTMuNDE2IDMuMzgzIDMuMzgzIDAgMDEzLjQxNy0zLjQxNyAzLjM4MyAzLjM4MyAwIDAxMy40MTcgMy40MTcgMy4zODMgMy4zODMgMCAwMS0zLjQxNyAzLjQxNnptMTMuNjY3IDBBMy4zODMgMy4zODMgMCAwMTIwLjUgMTguMTZhMy4zODMgMy4zODMgMCAwMTMuNDE3LTMuNDE3IDMuMzgzIDMuMzgzIDAgMDEzLjQxNiAzLjQxNyAzLjM4MyAzLjM4MyAwIDAxLTMuNDE2IDMuNDE2eiUyNyBmaWxsPSUyNyUyNTIzMDAwJTI3IGZpbGwtcnVsZT0lMjdub256ZXJvJTI3LyUzRSUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNV9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHdpZHRoPSUyNzQ4JTI3IGhlaWdodD0lMjc0OCUyNyB4bWxucz0lMjdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyNyUzRSUzQ3BhdGggZD0lMjdNMjQgMXYxQzExLjg1IDIgMiAxMS44NSAyIDI0czkuODUgMjIgMjIgMjIgMjItOS44NSAyMi0yMlMzNi4xNSAyIDI0IDJWMXptMCAwVjBjMTMuMjU0IDAgMjQgMTAuNzQ2IDI0IDI0UzM3LjI1NCA0OCAyNCA0OCAwIDM3LjI1NCAwIDI0IDEwLjc0NiAwIDI0IDB2MXptNy43MDcgMTkuMjkzYS45OTkuOTk5IDAgMSAxLTEuNDE0IDEuNDE0TDI1IDE2LjQxNFYzNGExIDEgMCAxIDEtMiAwVjE2LjQxNGwtNS4yOTMgNS4yOTNhLjk5OS45OTkgMCAxIDEtMS40MTQtMS40MTRsNy03YS45OTkuOTk5IDAgMCAxIDEuNDE0IDBsNyA3eiUyNyBmaWxsPSUyNyUyMzIyNzVENyUyNyBmaWxsLXJ1bGU9JTI3bm9uemVybyUyNy8lM0UlM0Mvc3ZnJTNFXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzZfX18gPSBuZXcgVVJMKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB3aWR0aD0lMjc0OCUyNyBoZWlnaHQ9JTI3NDglMjcgeG1sbnM9JTI3aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmclMjclM0UlM0NwYXRoIGQ9JTI3TTI0IDF2MUMxMS44NSAyIDIgMTEuODUgMiAyNHM5Ljg1IDIyIDIyIDIyIDIyLTkuODUgMjItMjJTMzYuMTUgMiAyNCAyVjF6bTAgMFYwYzEzLjI1NCAwIDI0IDEwLjc0NiAyNCAyNFMzNy4yNTQgNDggMjQgNDggMCAzNy4yNTQgMCAyNCAxMC43NDYgMCAyNCAwdjF6bTcuNzA3IDE5LjI5M2EuOTk5Ljk5OSAwIDEgMS0xLjQxNCAxLjQxNEwyNSAxNi40MTRWMzRhMSAxIDAgMSAxLTIgMFYxNi40MTRsLTUuMjkzIDUuMjkzYS45OTkuOTk5IDAgMSAxLTEuNDE0LTEuNDE0bDctN2EuOTk5Ljk5OSAwIDAgMSAxLjQxNCAwbDcgN3olMjcgZmlsbD0lMjclMjMwMkJBRjIlMjcgZmlsbC1ydWxlPSUyN25vbnplcm8lMjcvJTNFJTNDL3N2ZyUzRVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMl9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzJfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzNfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8zX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF80X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNV9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzVfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzZfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF82X19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIkBjaGFyc2V0IFxcXCJVVEYtOFxcXCI7XFxuLnVwcHktSW5mb3JtZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDYwcHg7XFxuICBsZWZ0OiAwO1xcbiAgei1pbmRleDogMTAwNTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLnVwcHktSW5mb3JtZXIgc3BhbiA+IGRpdiB7XFxuICBtYXJnaW4tYm90dG9tOiA2cHg7XFxufVxcblxcbi51cHB5LUluZm9ybWVyLWFuaW1hdGVkIHtcXG4gIHotaW5kZXg6IC0xMDAwO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDM1MCUpO1xcbiAgb3BhY2l0eTogMDtcXG4gIHRyYW5zaXRpb246IGFsbCAzMDBtcyBlYXNlLWluO1xcbn1cXG5cXG4udXBweS1JbmZvcm1lciBwIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIG1heC13aWR0aDogOTAlO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIHBhZGRpbmc6IDZweCAxNXB4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuNDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM3NTc1NzU7XFxuICBib3JkZXItcmFkaXVzOiAxOHB4O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1JbmZvcm1lciBwIHtcXG4gIG1heC13aWR0aDogNTAwcHg7XFxuICBwYWRkaW5nOiAxMHB4IDIwcHg7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBsaW5lLWhlaWdodDogMS4zO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LUluZm9ybWVyIHAge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktSW5mb3JtZXIgcCBzcGFue1xcbiAgbGVmdDogM3B4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1JbmZvcm1lciBwIHNwYW57XFxuICByaWdodDogM3B4O1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1JbmZvcm1lciBwIHNwYW57XFxuICBtYXJnaW4tbGVmdDogLTFweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktSW5mb3JtZXIgcCBzcGFue1xcbiAgbWFyZ2luLXJpZ2h0OiAtMXB4O1xcbn1cXG5cXG4udXBweS1JbmZvcm1lciBwIHNwYW4ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdG9wOiAtMXB4O1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDEzcHg7XFxuICBoZWlnaHQ6IDEzcHg7XFxuICBjb2xvcjogIzUyNTI1MjtcXG4gIGZvbnQtc2l6ZTogMTBweDtcXG4gIGxpbmUtaGVpZ2h0OiAxMnB4O1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxufVxcblxcbi51cHB5LUluZm9ybWVyIHAgc3Bhbjpob3ZlciB7XFxuICBjdXJzb3I6IGhlbHA7XFxufVxcblxcbi51cHB5LUluZm9ybWVyIHAgc3Bhbjo6YWZ0ZXIge1xcbiAgbGluZS1oZWlnaHQ6IDEuMztcXG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcXG59XFxuXFxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbiAgTWljcm90aXBcXG5cXG4gIE1vZGVybiwgbGlnaHR3ZWlnaHQgY3NzLW9ubHkgdG9vbHRpcHNcXG4gIEp1c3QgMWtiIG1pbmlmaWVkIGFuZCBnemlwcGVkXFxuXFxuICBAYXV0aG9yIEdob3NoXFxuICBAcGFja2FnZSBNaWNyb3RpcFxcblxcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIDEuIEJhc2UgU3R5bGVzXFxuICAyLiBEaXJlY3Rpb24gTW9kaWZpZXJzXFxuICAzLiBQb3NpdGlvbiBNb2RpZmllcnNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbiAgWzFdIEJhc2UgU3R5bGVzXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xcbi51cHB5LVJvb3QgW2FyaWEtbGFiZWxdW3JvbGV+PXRvb2x0aXBdIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLnVwcHktUm9vdCBbYXJpYS1sYWJlbF1bcm9sZX49dG9vbHRpcF06OmJlZm9yZSxcXG4udXBweS1Sb290IFthcmlhLWxhYmVsXVtyb2xlfj10b29sdGlwXTo6YWZ0ZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTA7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcXG4gIHRyYW5zZm9ybS1vcmlnaW46IHRvcDtcXG4gIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgb3BhY2l0eTogMDtcXG4gIHRyYW5zaXRpb246IGFsbCB2YXIoLS1taWNyb3RpcC10cmFuc2l0aW9uLWR1cmF0aW9uLCAwLjE4cykgdmFyKC0tbWljcm90aXAtdHJhbnNpdGlvbi1lYXNpbmcsIGVhc2UtaW4tb3V0KSB2YXIoLS1taWNyb3RpcC10cmFuc2l0aW9uLWRlbGF5LCAwcyk7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07XFxufVxcblxcbi51cHB5LVJvb3QgW2FyaWEtbGFiZWxdW3JvbGV+PXRvb2x0aXBdOjpiZWZvcmUge1xcbiAgYmFja2dyb3VuZC1zaXplOiAxMDAlIGF1dG8gIWltcG9ydGFudDtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbn1cXG5cXG4udXBweS1Sb290IFthcmlhLWxhYmVsXVtyb2xlfj10b29sdGlwXTo6YWZ0ZXIge1xcbiAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICBwYWRkaW5nOiAwLjVlbSAxZW07XFxuICBjb2xvcjogI2ZmZjtcXG4gIGZvbnQtd2VpZ2h0OiB2YXIoLS1taWNyb3RpcC1mb250LXdlaWdodCwgbm9ybWFsKTtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tbWljcm90aXAtZm9udC1zaXplLCAxM3B4KTtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LXRyYW5zZm9ybTogdmFyKC0tbWljcm90aXAtdGV4dC10cmFuc2Zvcm0sIG5vbmUpO1xcbiAgYmFja2dyb3VuZDogcmdiYSgxNywgMTcsIDE3LCAwLjkpO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgY29udGVudDogYXR0cihhcmlhLWxhYmVsKTtcXG59XFxuXFxuLnVwcHktUm9vdCBbYXJpYS1sYWJlbF1bcm9sZX49dG9vbHRpcF06aG92ZXI6OmJlZm9yZSxcXG4udXBweS1Sb290IFthcmlhLWxhYmVsXVtyb2xlfj10b29sdGlwXTpob3Zlcjo6YWZ0ZXIsXFxuLnVwcHktUm9vdCBbYXJpYS1sYWJlbF1bcm9sZX49dG9vbHRpcF06Zm9jdXM6OmJlZm9yZSxcXG4udXBweS1Sb290IFthcmlhLWxhYmVsXVtyb2xlfj10b29sdGlwXTpmb2N1czo6YWZ0ZXIge1xcbiAgb3BhY2l0eTogMTtcXG4gIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xcbn1cXG5cXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIFsyXSBQb3NpdGlvbiBNb2RpZmllcnNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbnw9dG9wXTo6YmVmb3JlIHtcXG4gIGJvdHRvbTogMTAwJTtcXG4gIGxlZnQ6IDUwJTtcXG4gIHdpZHRoOiAxOHB4O1xcbiAgaGVpZ2h0OiA2cHg7XFxuICBtYXJnaW4tYm90dG9tOiA1cHg7XFxuICBiYWNrZ3JvdW5kOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fICsgXCIpIG5vLXJlcGVhdDtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTUwJSwgMCwgMCk7XFxufVxcblxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb258PXRvcF06OmFmdGVyIHtcXG4gIGJvdHRvbTogMTAwJTtcXG4gIGxlZnQ6IDUwJTtcXG4gIG1hcmdpbi1ib3R0b206IDExcHg7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIDAsIDApO1xcbn1cXG5cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9ufD10b3BdOmhvdmVyOjpiZWZvcmUge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNTAlLCAtNXB4LCAwKTtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj10b3BdOmhvdmVyOjphZnRlciB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC01cHgsIDApO1xcbn1cXG5cXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIFsyLjFdIFRvcCBMZWZ0XFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249dG9wLWxlZnRdOjphZnRlciB7XFxuICBib3R0b206IDEwMCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKGNhbGMoLTEwMCUgKyAxNnB4KSwgMCwgMCk7XFxufVxcblxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249dG9wLWxlZnRdOmhvdmVyOjphZnRlciB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKGNhbGMoLTEwMCUgKyAxNnB4KSwgLTVweCwgMCk7XFxufVxcblxcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbiAgWzIuMl0gVG9wIFJpZ2h0XFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249dG9wLXJpZ2h0XTo6YWZ0ZXIge1xcbiAgYm90dG9tOiAxMDAlO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZChjYWxjKDAlIC0gMTZweCksIDAsIDApO1xcbn1cXG5cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9uPXRvcC1yaWdodF06aG92ZXI6OmFmdGVyIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoY2FsYygwJSAtIDE2cHgpLCAtNXB4LCAwKTtcXG59XFxuXFxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuICBbMi4zXSBCb3R0b21cXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbnw9Ym90dG9tXTo6YmVmb3JlIHtcXG4gIHRvcDogMTAwJTtcXG4gIGJvdHRvbTogYXV0bztcXG4gIGxlZnQ6IDUwJTtcXG4gIHdpZHRoOiAxOHB4O1xcbiAgaGVpZ2h0OiA2cHg7XFxuICBtYXJnaW4tdG9wOiA1cHg7XFxuICBtYXJnaW4tYm90dG9tOiAwO1xcbiAgYmFja2dyb3VuZDogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMV9fXyArIFwiKSBuby1yZXBlYXQ7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC0xMHB4LCAwKTtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbnw9Ym90dG9tXTo6YWZ0ZXIge1xcbiAgdG9wOiAxMDAlO1xcbiAgbGVmdDogNTAlO1xcbiAgbWFyZ2luLXRvcDogMTFweDtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTUwJSwgLTEwcHgsIDApO1xcbn1cXG5cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9ufD1ib3R0b21dOmhvdmVyOjpiZWZvcmUge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNTAlLCAwLCAwKTtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj1ib3R0b21dOmhvdmVyOjphZnRlciB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIDAsIDApO1xcbn1cXG5cXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIFsyLjRdIEJvdHRvbSBMZWZ0XFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249Ym90dG9tLWxlZnRdOjphZnRlciB7XFxuICB0b3A6IDEwMCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKGNhbGMoLTEwMCUgKyAxNnB4KSwgLTEwcHgsIDApO1xcbn1cXG5cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9uPWJvdHRvbS1sZWZ0XTpob3Zlcjo6YWZ0ZXIge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZChjYWxjKC0xMDAlICsgMTZweCksIDAsIDApO1xcbn1cXG5cXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIFsyLjVdIEJvdHRvbSBSaWdodFxcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9uPWJvdHRvbS1yaWdodF06OmFmdGVyIHtcXG4gIHRvcDogMTAwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoY2FsYygwJSAtIDE2cHgpLCAtMTBweCwgMCk7XFxufVxcblxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249Ym90dG9tLXJpZ2h0XTpob3Zlcjo6YWZ0ZXIge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZChjYWxjKDAlIC0gMTZweCksIDAsIDApO1xcbn1cXG5cXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIFsyLjZdIExlZnRcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj1sZWZ0XTo6YmVmb3JlLFxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249bGVmdF06OmFmdGVyIHtcXG4gIHRvcDogNTAlO1xcbiAgcmlnaHQ6IDEwMCU7XFxuICBib3R0b206IGF1dG87XFxuICBsZWZ0OiBhdXRvO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMHB4LCAtNTAlLCAwKTtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj1sZWZ0XTo6YmVmb3JlIHtcXG4gIHdpZHRoOiA2cHg7XFxuICBoZWlnaHQ6IDE4cHg7XFxuICBtYXJnaW4tcmlnaHQ6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDA7XFxuICBiYWNrZ3JvdW5kOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8yX19fICsgXCIpIG5vLXJlcGVhdDtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj1sZWZ0XTo6YWZ0ZXIge1xcbiAgbWFyZ2luLXJpZ2h0OiAxMXB4O1xcbn1cXG5cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9uPWxlZnRdOmhvdmVyOjpiZWZvcmUsXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj1sZWZ0XTpob3Zlcjo6YWZ0ZXIge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtNTAlLCAwKTtcXG59XFxuXFxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuICBbMi43XSBSaWdodFxcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9uPXJpZ2h0XTo6YmVmb3JlLFxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249cmlnaHRdOjphZnRlciB7XFxuICB0b3A6IDUwJTtcXG4gIGJvdHRvbTogYXV0bztcXG4gIGxlZnQ6IDEwMCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMHB4LCAtNTAlLCAwKTtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj1yaWdodF06OmJlZm9yZSB7XFxuICB3aWR0aDogNnB4O1xcbiAgaGVpZ2h0OiAxOHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMDtcXG4gIG1hcmdpbi1sZWZ0OiA1cHg7XFxuICBiYWNrZ3JvdW5kOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8zX19fICsgXCIpIG5vLXJlcGVhdDtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj1yaWdodF06OmFmdGVyIHtcXG4gIG1hcmdpbi1sZWZ0OiAxMXB4O1xcbn1cXG5cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9uPXJpZ2h0XTpob3Zlcjo6YmVmb3JlLFxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249cmlnaHRdOmhvdmVyOjphZnRlciB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC01MCUsIDApO1xcbn1cXG5cXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIFszXSBTaXplXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtc2l6ZT1zbWFsbF06OmFmdGVyIHtcXG4gIHdpZHRoOiA4MHB4O1xcbiAgd2hpdGUtc3BhY2U6IGluaXRpYWw7XFxufVxcblxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtc2l6ZT1tZWRpdW1dOjphZnRlciB7XFxuICB3aWR0aDogMTUwcHg7XFxuICB3aGl0ZS1zcGFjZTogaW5pdGlhbDtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1zaXplPWxhcmdlXTo6YWZ0ZXIge1xcbiAgd2lkdGg6IDI2MHB4O1xcbiAgd2hpdGUtc3BhY2U6IGluaXRpYWw7XFxufVxcblxcbi51cHB5LVN0YXR1c0JhciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB6LWluZGV4OiAxMDAxO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGhlaWdodDogNDZweDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIGxpbmUtaGVpZ2h0OiA0MHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIHRyYW5zaXRpb246IGhlaWdodCAwLjJzO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0JhciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWYxZjFmO1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXI6OmJlZm9yZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMnB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VhZWFlYTtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhcjo6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM3NTc1NzU7XFxufVxcblxcbi51cHB5LVN0YXR1c0JhclthcmlhLWhpZGRlbj10cnVlXSB7XFxuICBoZWlnaHQ6IDA7XFxuICBvdmVyZmxvdy15OiBoaWRkZW47XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci5pcy1jb21wbGV0ZSAudXBweS1TdGF0dXNCYXItcHJvZ3Jlc3Mge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFiYjI0MDtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLmlzLWVycm9yIC51cHB5LVN0YXR1c0Jhci1wcm9ncmVzcyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTMyNDM3O1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXIuaXMtY29tcGxldGUgLnVwcHktU3RhdHVzQmFyLXN0YXR1c0luZGljYXRvciB7XFxuICBjb2xvcjogIzFiYjI0MDtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLmlzLWVycm9yIC51cHB5LVN0YXR1c0Jhci1zdGF0dXNJbmRpY2F0b3Ige1xcbiAgY29sb3I6ICNlMzI0Mzc7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhcjpub3QoW2FyaWEtaGlkZGVuPXRydWVdKS5pcy13YWl0aW5nIHtcXG4gIGhlaWdodDogNjVweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2VhZWFlYTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXI6bm90KFthcmlhLWhpZGRlbj10cnVlXSkuaXMtd2FpdGluZyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWYxZjFmO1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMzMzM7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci1wcm9ncmVzcyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiAxMDAxO1xcbiAgaGVpZ2h0OiAycHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjI3NWQ3O1xcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciwgd2lkdGggMC4zcyBlYXNlLW91dDtcXG59XFxuLnVwcHktU3RhdHVzQmFyLXByb2dyZXNzLmlzLWluZGV0ZXJtaW5hdGUge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCByZ2JhKDAsIDAsIDAsIDAuMykgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgwLCAwLCAwLCAwLjMpIDUwJSwgcmdiYSgwLCAwLCAwLCAwLjMpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7XFxuICBiYWNrZ3JvdW5kLXNpemU6IDY0cHggNjRweDtcXG4gIGFuaW1hdGlvbjogdXBweS1TdGF0dXNCYXItUHJvZ3Jlc3NTdHJpcGVzIDFzIGxpbmVhciBpbmZpbml0ZTtcXG59XFxuXFxuQGtleWZyYW1lcyB1cHB5LVN0YXR1c0Jhci1Qcm9ncmVzc1N0cmlwZXMge1xcbiAgZnJvbSB7XFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDAgMDtcXG4gIH1cXG4gIHRvIHtcXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogNjRweCAwO1xcbiAgfVxcbn1cXG4udXBweS1TdGF0dXNCYXIuaXMtcHJlcHJvY2Vzc2luZyAudXBweS1TdGF0dXNCYXItcHJvZ3Jlc3MsXFxuLnVwcHktU3RhdHVzQmFyLmlzLXBvc3Rwcm9jZXNzaW5nIC51cHB5LVN0YXR1c0Jhci1wcm9ncmVzcyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZhNjIzO1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXIuaXMtd2FpdGluZyAudXBweS1TdGF0dXNCYXItcHJvZ3Jlc3Mge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktU3RhdHVzQmFyLWNvbnRlbnR7XFxuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVN0YXR1c0Jhci1jb250ZW50e1xcbiAgcGFkZGluZy1yaWdodDogMTBweDtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLWNvbnRlbnQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogMTAwMjtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgY29sb3I6ICMzMzM7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxufVxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LXNpemUtLW1kIC51cHB5LVN0YXR1c0Jhci1jb250ZW50e1xcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xcbn1cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1zaXplLS1tZCAudXBweS1TdGF0dXNCYXItY29udGVudHtcXG4gIHBhZGRpbmctcmlnaHQ6IDE1cHg7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU3RhdHVzQmFyLWNvbnRlbnQge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVN0YXR1c0Jhci1zdGF0dXN7XFxuICBwYWRkaW5nLXJpZ2h0OiAwLjNlbTtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktU3RhdHVzQmFyLXN0YXR1c3tcXG4gIHBhZGRpbmctbGVmdDogMC4zZW07XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci1zdGF0dXMge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICBsaW5lLWhlaWdodDogMS40O1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXItc3RhdHVzUHJpbWFyeSB7XFxuICBmb250LXdlaWdodDogNTAwO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG4udXBweS1TdGF0dXNCYXItc3RhdHVzUHJpbWFyeSBidXR0b24udXBweS1TdGF0dXNCYXItZGV0YWlscyB7XFxuICBtYXJnaW4tbGVmdDogNXB4O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci1zdGF0dXNQcmltYXJ5IHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXItc3RhdHVzU2Vjb25kYXJ5IHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIG1hcmdpbi10b3A6IDFweDtcXG4gIGNvbG9yOiAjNzU3NTc1O1xcbiAgZm9udC1zaXplOiAxMXB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuMjtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU3RhdHVzQmFyLXN0YXR1c1NlY29uZGFyeSB7XFxuICBjb2xvcjogI2JiYjtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktU3RhdHVzQmFyLXN0YXR1c1NlY29uZGFyeUhpbnR7XFxuICBtYXJnaW4tcmlnaHQ6IDVweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktU3RhdHVzQmFyLXN0YXR1c1NlY29uZGFyeUhpbnR7XFxuICBtYXJnaW4tbGVmdDogNXB4O1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXItc3RhdHVzU2Vjb25kYXJ5SGludCB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBsaW5lLWhlaWdodDogMTtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxufVxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LXNpemUtLW1kIC51cHB5LVN0YXR1c0Jhci1zdGF0dXNTZWNvbmRhcnlIaW50e1xcbiAgbWFyZ2luLXJpZ2h0OiA4cHg7XFxufVxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LXNpemUtLW1kIC51cHB5LVN0YXR1c0Jhci1zdGF0dXNTZWNvbmRhcnlIaW50e1xcbiAgbWFyZ2luLWxlZnQ6IDhweDtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktU3RhdHVzQmFyLXN0YXR1c0luZGljYXRvcntcXG4gIG1hcmdpbi1yaWdodDogN3B4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1TdGF0dXNCYXItc3RhdHVzSW5kaWNhdG9ye1xcbiAgbWFyZ2luLWxlZnQ6IDdweDtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLXN0YXR1c0luZGljYXRvciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0b3A6IDFweDtcXG4gIGNvbG9yOiAjNTI1MjUyO1xcbn1cXG4udXBweS1TdGF0dXNCYXItc3RhdHVzSW5kaWNhdG9yIHN2ZyB7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b207XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25ze1xcbiAgcmlnaHQ6IDEwcHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25ze1xcbiAgbGVmdDogMTBweDtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbnMge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgei1pbmRleDogMTAwNDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXIuaXMtd2FpdGluZyAudXBweS1TdGF0dXNCYXItYWN0aW9ucyB7XFxuICBwb3NpdGlvbjogc3RhdGljO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBwYWRkaW5nOiAwIDE1cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci5pcy13YWl0aW5nIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjFmMWY7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhcjpub3QoW2FyaWEtaGlkZGVuPXRydWVdKS5pcy13YWl0aW5nLmhhcy1naG9zdHMge1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGhlaWdodDogOTBweDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktU3RhdHVzQmFyOm5vdChbYXJpYS1oaWRkZW49dHJ1ZV0pLmlzLXdhaXRpbmcuaGFzLWdob3N0cyB7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgaGVpZ2h0OiA2NXB4O1xcbn1cXG4udXBweS1TdGF0dXNCYXI6bm90KFthcmlhLWhpZGRlbj10cnVlXSkuaXMtd2FpdGluZy5oYXMtZ2hvc3RzIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25zIHtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktU3RhdHVzQmFyOm5vdChbYXJpYS1oaWRkZW49dHJ1ZV0pLmlzLXdhaXRpbmcuaGFzLWdob3N0cyAudXBweS1TdGF0dXNCYXItYWN0aW9ucyB7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAganVzdGlmeS1jb250ZW50OiBpbml0aWFsO1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQ2lyY2xlQnRuIHtcXG4gIG1hcmdpbjogM3B4O1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBvcGFjaXR5OiAwLjk7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25DaXJjbGVCdG46Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkNpcmNsZUJ0bjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25DaXJjbGVCdG46Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMzQsIDExNywgMjE1LCAwLjUpO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25DaXJjbGVCdG46Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXItYWN0aW9uQ2lyY2xlQnRuOjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXItYWN0aW9uQ2lyY2xlQnRuOmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDE3MCwgMjI1LCAyNTUsIDAuODUpO1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQ2lyY2xlQnRuOmhvdmVyIHtcXG4gIG9wYWNpdHk6IDE7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25DaXJjbGVCdG46Zm9jdXMge1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQ2lyY2xlQnRuIHN2ZyB7XFxuICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQnRuIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGNvbG9yOiAjMjI3NWQ3O1xcbiAgZm9udC1zaXplOiAxMHB4O1xcbiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuIHtcXG4gIGZvbnQtc2l6ZTogMTFweDtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tZGlzYWJsZWQge1xcbiAgb3BhY2l0eTogMC40O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLWRpc2FibGVkIHtcXG4gIG9wYWNpdHk6IDAuNztcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tcmV0cnl7XFxuICBtYXJnaW4tcmlnaHQ6IDZweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tcmV0cnl7XFxuICBtYXJnaW4tbGVmdDogNnB4O1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1yZXRyeSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBoZWlnaHQ6IDE2cHg7XFxuICBwYWRkaW5nOiAxcHggNnB4IDNweCAxOHB4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBsaW5lLWhlaWdodDogMTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZjRiMjM7XFxuICBib3JkZXItcmFkaXVzOiA4cHg7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXJldHJ5OmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXJldHJ5OjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tcmV0cnk6Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMzQsIDExNywgMjE1LCAwLjUpO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXJldHJ5OmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tcmV0cnk6Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXJldHJ5OmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDE3MCwgMjI1LCAyNTUsIDAuODUpO1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1yZXRyeTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjkyZDAwO1xcbn1cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1yZXRyeSBzdmd7XFxuICBsZWZ0OiA2cHg7XFxufVxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXJldHJ5IHN2Z3tcXG4gIHJpZ2h0OiA2cHg7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXJldHJ5IHN2ZyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDNweDtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLmlzLXdhaXRpbmcgLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tdXBsb2FkIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgcGFkZGluZzogMTVweCAxMHB4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBsaW5lLWhlaWdodDogMTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxYmIyNDA7XFxufVxcbi51cHB5LVN0YXR1c0Jhci5pcy13YWl0aW5nIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTg5YzM4O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci5pcy13YWl0aW5nIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWM4YjM3O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci5pcy13YWl0aW5nIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTg3NjJmO1xcbn1cXG5cXG4udXBweS1zaXplLS1tZCAudXBweS1TdGF0dXNCYXIuaXMtd2FpdGluZyAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWQge1xcbiAgd2lkdGg6IGF1dG87XFxuICBwYWRkaW5nOiAxM3B4IDIycHg7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci5pcy13YWl0aW5nIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLWRpc2FibGVkOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxYmIyNDA7XFxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xcbn1cXG5cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci5pcy13YWl0aW5nIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLWRpc2FibGVkOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxYzhiMzc7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhcjpub3QoLmlzLXdhaXRpbmcpIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZCB7XFxuICBjb2xvcjogIzIyNzVkNztcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWROZXdseUFkZGVke1xcbiAgcGFkZGluZy1yaWdodDogM3B4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWROZXdseUFkZGVke1xcbiAgcGFkZGluZy1sZWZ0OiAzcHg7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZE5ld2x5QWRkZWR7XFxuICBwYWRkaW5nLWxlZnQ6IDNweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tdXBsb2FkTmV3bHlBZGRlZHtcXG4gIHBhZGRpbmctcmlnaHQ6IDNweDtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tdXBsb2FkTmV3bHlBZGRlZCB7XFxuICBwYWRkaW5nLWJvdHRvbTogMXB4O1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWROZXdseUFkZGVkOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZE5ld2x5QWRkZWQ6Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWROZXdseUFkZGVkOmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM0LCAxMTcsIDIxNSwgMC41KTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWROZXdseUFkZGVkOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tdXBsb2FkTmV3bHlBZGRlZDo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tdXBsb2FkTmV3bHlBZGRlZDpmb2N1cyB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSgxNzAsIDIyNSwgMjU1LCAwLjg1KTtcXG59XFxuLnVwcHktU3RhdHVzQmFyLmlzLXByZXByb2Nlc3NpbmcgLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tdXBsb2FkTmV3bHlBZGRlZCwgLnVwcHktU3RhdHVzQmFyLmlzLXBvc3Rwcm9jZXNzaW5nIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZE5ld2x5QWRkZWQge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tZG9uZSB7XFxuICBwYWRkaW5nOiA3cHggOHB4O1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLWRvbmU6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tZG9uZTo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLWRvbmU6aG92ZXIge1xcbiAgY29sb3I6ICMxYjVkYWI7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLWRvbmU6Zm9jdXMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RmZTZmMTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1kb25lOmZvY3VzIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tZG9uZSB7XFxuICBjb2xvcjogIzAyYmFmMjtcXG59XFxuXFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tZG9uZSB7XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci1zZXJ2aWNlTXNnIHtcXG4gIHBhZGRpbmctbGVmdDogMTBweDtcXG4gIGNvbG9yOiAjMDAwO1xcbiAgZm9udC1zaXplOiAxMXB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuMTtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktU3RhdHVzQmFyLXNlcnZpY2VNc2cge1xcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci1zZXJ2aWNlTXNnIHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXItc2VydmljZU1zZy1naG9zdHNJY29uIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHRvcDogMnB4O1xcbiAgbGVmdDogNnB4O1xcbiAgd2lkdGg6IDEwcHg7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b207XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LVN0YXR1c0Jhci1zZXJ2aWNlTXNnLWdob3N0c0ljb24ge1xcbiAgdG9wOiAxcHg7XFxuICBsZWZ0OiAxMHB4O1xcbiAgd2lkdGg6IDE1cHg7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVN0YXR1c0Jhci1kZXRhaWxze1xcbiAgbGVmdDogMnB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1TdGF0dXNCYXItZGV0YWlsc3tcXG4gIHJpZ2h0OiAycHg7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci1kZXRhaWxzIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHRvcDogMDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHdpZHRoOiAxM3B4O1xcbiAgaGVpZ2h0OiAxM3B4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBmb250LXdlaWdodDogNjAwO1xcbiAgZm9udC1zaXplOiAxMHB4O1xcbiAgbGluZS1oZWlnaHQ6IDEycHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzkzOTM5MztcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIGN1cnNvcjogaGVscDtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gICAgICAgICAgYXBwZWFyYW5jZTogbm9uZTtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLWRldGFpbHM6OmFmdGVyIHtcXG4gIGxpbmUtaGVpZ2h0OiAxLjM7XFxuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVN0YXR1c0Jhci1zcGlubmVye1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1TdGF0dXNCYXItc3Bpbm5lcntcXG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXItc3Bpbm5lciB7XFxuICBhbmltYXRpb24tbmFtZTogdXBweS1TdGF0dXNCYXItc3Bpbm5lckFuaW1hdGlvbjtcXG4gIGFuaW1hdGlvbi1kdXJhdGlvbjogMXM7XFxuICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBsaW5lYXI7XFxuICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiBpbmZpbml0ZTtcXG4gIGZpbGw6ICMyMjc1ZDc7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci5pcy1wcmVwcm9jZXNzaW5nIC51cHB5LVN0YXR1c0Jhci1zcGlubmVyLFxcbi51cHB5LVN0YXR1c0Jhci5pcy1wb3N0cHJvY2Vzc2luZyAudXBweS1TdGF0dXNCYXItc3Bpbm5lciB7XFxuICBmaWxsOiAjZjZhNjIzO1xcbn1cXG5cXG5Aa2V5ZnJhbWVzIHVwcHktU3RhdHVzQmFyLXNwaW5uZXJBbmltYXRpb24ge1xcbiAgMCUge1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcXG4gIH1cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xcbiAgfVxcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgdWwudXBweS1Qcm92aWRlckJyb3dzZXItbGlzdCxcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIHVsLnVwcHktUHJvdmlkZXJCcm93c2VyLWxpc3Qge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICBmbGV4LXdyYXA6IHdyYXA7XFxuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG4gIHBhZGRpbmc6IDZweDtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIHVsLnVwcHktUHJvdmlkZXJCcm93c2VyLWxpc3Q6OmFmdGVyLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggdWwudXBweS1Qcm92aWRlckJyb3dzZXItbGlzdDo6YWZ0ZXIge1xcbiAgZmxleDogYXV0bztcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHdpZHRoOiA1MCU7XFxuICBtYXJnaW46IDA7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0sXFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0ge1xcbiAgd2lkdGg6IDMzLjMzMzMlO1xcbn1cXG4udXBweS1zaXplLS1sZyAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLFxcbi51cHB5LXNpemUtLWxnIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtIHtcXG4gIHdpZHRoOiAyNSU7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW06OmJlZm9yZSxcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbTo6YmVmb3JlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgcGFkZGluZy10b3A6IDEwMCU7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS0tc2VsZWN0ZWQgaW1nLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tLXNlbGVjdGVkIHN2ZyxcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS0tc2VsZWN0ZWQgaW1nLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLS1zZWxlY3RlZCBzdmcge1xcbiAgb3BhY2l0eTogMC44NTtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS0tZGlzYWJsZWQsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tLWRpc2FibGVkIHtcXG4gIG9wYWNpdHk6IDAuNTtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS0tbm9QcmV2aWV3IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tLW5vUHJldmlldyAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTQ3LCAxNDcsIDE0NywgMC4yKTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLS1ub1ByZXZpZXcgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lcixcXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLS1ub1ByZXZpZXcgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIzNCwgMjM0LCAyMzQsIDAuMik7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tLW5vUHJldmlldyBzdmcsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tLW5vUHJldmlldyBzdmcge1xcbiAgd2lkdGg6IDMwJTtcXG4gIGhlaWdodDogMzAlO1xcbiAgZmlsbDogcmdiYSgwLCAwLCAwLCAwLjcpO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tLW5vUHJldmlldyBzdmcsXFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS0tbm9QcmV2aWV3IHN2ZyB7XFxuICBmaWxsOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDdweDtcXG4gIHJpZ2h0OiA3cHg7XFxuICBib3R0b206IDdweDtcXG4gIGxlZnQ6IDdweDtcXG4gIHdpZHRoOiBjYWxjKDEwMCUgLSAxNHB4KTtcXG4gIGhlaWdodDogY2FsYygxMDAlIC0gMTRweCk7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbn1cXG5AbWVkaWEgKGhvdmVyOiBub25lKSB7XFxuICAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lciAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWF1dGhvcixcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1hdXRob3Ige1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gIH1cXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lcixcXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lciB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgxNzAsIDIyNSwgMjU1LCAwLjcpO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lciBpbWcsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyIGltZyB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG9iamVjdC1maXQ6IGNvdmVyO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1hdXRob3IsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWF1dGhvciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjMpO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDVweDtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tYXV0aG9yOmhvdmVyLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1hdXRob3I6aG92ZXIge1xcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjQpO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94LFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDE2cHg7XFxuICByaWdodDogMTZweDtcXG4gIHotaW5kZXg6IDEwMDI7XFxuICB3aWR0aDogMjZweDtcXG4gIGhlaWdodDogMjZweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyMjc1ZDc7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBvcGFjaXR5OiAwO1xcbn1cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveDo6YWZ0ZXIsW2Rpcj1cXFwibHRyXFxcIl0gXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94OjphZnRlcntcXG4gIGxlZnQ6IDdweDtcXG59XFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3g6OmFmdGVyLFtkaXI9XFxcInJ0bFxcXCJdIFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveDo6YWZ0ZXJ7XFxuICByaWdodDogN3B4O1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveDo6YWZ0ZXIsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94OjphZnRlciB7XFxuICB0b3A6IDhweDtcXG4gIHdpZHRoOiAxMnB4O1xcbiAgaGVpZ2h0OiA3cHg7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94LS1pcy1jaGVja2VkLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0taXMtY2hlY2tlZCB7XFxuICBvcGFjaXR5OiAxO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0tZ3JpZDpob3ZlciArIGxhYmVsIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tYXV0aG9yLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94LS1ncmlkOmZvY3VzICsgbGFiZWwgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1hdXRob3IsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94LS1ncmlkOmhvdmVyICsgbGFiZWwgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1hdXRob3IsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94LS1ncmlkOmZvY3VzICsgbGFiZWwgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1hdXRob3Ige1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94LS1ncmlkOmZvY3VzICsgbGFiZWwsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94LS1ncmlkOmZvY3VzICsgbGFiZWwge1xcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMzQsIDExNywgMjE1LCAwLjUpO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0tZ3JpZDpmb2N1cyArIGxhYmVsOmZvY3VzLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0tZ3JpZDpmb2N1cyArIGxhYmVsOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94LS1ncmlkOmZvY3VzICsgbGFiZWw6Oi1tb3otZm9jdXMtaW5uZXIsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94LS1ncmlkOmZvY3VzICsgbGFiZWw6Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG5cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3Qge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3Qge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbSB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDdweCAxNXB4O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0ge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tLWRpc2FibGVkIHtcXG4gIG9wYWNpdHk6IDAuNjtcXG59XFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3h7XFxuICBtYXJnaW4tcmlnaHQ6IDE1cHg7XFxufVxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94e1xcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94IHtcXG4gIHdpZHRoOiAxN3B4O1xcbiAgaGVpZ2h0OiAxN3B4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjZmNmY2Y7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94OmZvY3VzIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMyMjc1ZDc7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMzQsIDExNywgMjE1LCAwLjI1KTtcXG59XFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3g6OmFmdGVye1xcbiAgbGVmdDogM3B4O1xcbn1cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveDo6YWZ0ZXJ7XFxuICByaWdodDogM3B4O1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveDo6YWZ0ZXIge1xcbiAgdG9wOiA0cHg7XFxuICB3aWR0aDogOXB4O1xcbiAgaGVpZ2h0OiA1cHg7XFxuICBvcGFjaXR5OiAwO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94OmZvY3VzIHtcXG4gIGJvcmRlci1jb2xvcjogcmdiYSgyLCAxODYsIDI0MiwgMC43KTtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDIsIDE4NiwgMjQyLCAwLjIpO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0taXMtY2hlY2tlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjI3NWQ3O1xcbiAgYm9yZGVyLWNvbG9yOiAjMjI3NWQ3O1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0taXMtY2hlY2tlZDo6YWZ0ZXIge1xcbiAgb3BhY2l0eTogMTtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBwYWRkaW5nOiAycHg7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lcjpmb2N1cyB7XFxuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyIGltZyxbZGlyPVxcXCJsdHJcXFwiXSBcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lciBzdmd7XFxuICBtYXJnaW4tcmlnaHQ6IDhweDtcXG59XFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIgaW1nLFtkaXI9XFxcInJ0bFxcXCJdIFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyIHN2Z3tcXG4gIG1hcmdpbi1sZWZ0OiA4cHg7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyIGltZyxcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lciBzdmcge1xcbiAgbWF4LXdpZHRoOiAyMHB4O1xcbiAgbWF4LWhlaWdodDogMjBweDtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIgc3BhbiB7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgbGluZS1oZWlnaHQ6IDEuMjtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tLWRpc2FibGVkIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIge1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pY29uV3JhcHtcXG4gIG1hcmdpbi1yaWdodDogN3B4O1xcbn1cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pY29uV3JhcHtcXG4gIG1hcmdpbi1sZWZ0OiA3cHg7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWljb25XcmFwIHtcXG4gIHdpZHRoOiAyMHB4O1xcbn1cXG5cXG4udXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94OmRpc2FibGVkIHtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveDo6YWZ0ZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNlYWVhZWE7XFxuICBib3JkZXItbGVmdDogMnB4IHNvbGlkICNlYWVhZWE7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3g6ZGlzYWJsZWQ6OmFmdGVyIHtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjFmMWY7XFxuICBib3JkZXItY29sb3I6ICM5MzkzOTM7XFxufVxcblxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0taXMtY2hlY2tlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcbn1cXG5cXG4udXBweS1TZWFyY2hQcm92aWRlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleDogMTtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TZWFyY2hQcm92aWRlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWYxZjFmO1xcbn1cXG5cXG4udXBweS1TZWFyY2hQcm92aWRlci1pbnB1dCB7XFxuICB3aWR0aDogOTAlO1xcbiAgbWF4LXdpZHRoOiA2NTBweDtcXG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LVNlYXJjaFByb3ZpZGVyLWlucHV0IHtcXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XFxufVxcbi51cHB5LVNlYXJjaFByb3ZpZGVyLWlucHV0Ojotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi51cHB5LVNlYXJjaFByb3ZpZGVyLXNlYXJjaEJ1dHRvbiB7XFxuICBwYWRkaW5nOiAxM3B4IDI1cHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LVNlYXJjaFByb3ZpZGVyLXNlYXJjaEJ1dHRvbiB7XFxuICBwYWRkaW5nOiAxM3B4IDMwcHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtcGFuZWxCb2R5IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4OiAxO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZENvbnRlbnQtcGFuZWxCb2R5IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjFmMWY7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyLWF1dGgsXFxuLnVwcHktUHJvdmlkZXItZXJyb3IsXFxuLnVwcHktUHJvdmlkZXItbG9hZGluZyxcXG4udXBweS1Qcm92aWRlci1lbXB0eSB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleDogMTtcXG4gIGZsZXgtZmxvdzogY29sdW1uIHdyYXA7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBjb2xvcjogIzkzOTM5MztcXG59XFxuXFxuLnVwcHktUHJvdmlkZXItZW1wdHkge1xcbiAgY29sb3I6ICM5MzkzOTM7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyLWF1dGhJY29uIHN2ZyB7XFxuICB3aWR0aDogMTAwcHg7XFxuICBoZWlnaHQ6IDc1cHg7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyLWF1dGhUaXRsZSB7XFxuICBtYXgtd2lkdGg6IDUwMHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMzBweDtcXG4gIHBhZGRpbmc6IDAgMTVweDtcXG4gIGNvbG9yOiAjNzU3NTc1O1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gIGZvbnQtc2l6ZTogMTdweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjQ7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LVByb3ZpZGVyLWF1dGhUaXRsZSB7XFxuICBmb250LXNpemU6IDIwcHg7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXItYXV0aFRpdGxlIHtcXG4gIGNvbG9yOiAjY2ZjZmNmO1xcbn1cXG5cXG4udXBweS1Qcm92aWRlci1idG4tZ29vZ2xlIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgcGFkZGluZzogOHB4IDEycHggIWltcG9ydGFudDtcXG4gIGJhY2tncm91bmQ6ICM0Mjg1RjQ7XFxufVxcbi51cHB5LVByb3ZpZGVyLWJ0bi1nb29nbGU6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzEyNjZmMTtcXG59XFxuLnVwcHktUHJvdmlkZXItYnRuLWdvb2dsZTpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoNjYsIDEzMywgMjQ0LCAwLjQpO1xcbn1cXG4udXBweS1Qcm92aWRlci1idG4tZ29vZ2xlIHN2ZyB7XFxuICBtYXJnaW4tcmlnaHQ6IDhweDtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnN7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1Qcm92aWRlci1icmVhZGNydW1ic3tcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbn1cXG5cXG4udXBweS1Qcm92aWRlci1icmVhZGNydW1icyB7XFxuICBmbGV4OiAxO1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG4gIGNvbG9yOiAjNTI1MjUyO1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1Qcm92aWRlci1icmVhZGNydW1icyB7XFxuICBtYXJnaW4tYm90dG9tOiAwO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyLWJyZWFkY3J1bWJzIHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1Qcm92aWRlci1icmVhZGNydW1ic0ljb257XFxuICBtYXJnaW4tcmlnaHQ6IDRweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnNJY29ue1xcbiAgbWFyZ2luLWxlZnQ6IDRweDtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnNJY29uIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGNvbG9yOiAjNTI1MjUyO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbn1cXG5cXG4udXBweS1Qcm92aWRlci1icmVhZGNydW1ic0ljb24gc3ZnIHtcXG4gIHdpZHRoOiAxM3B4O1xcbiAgaGVpZ2h0OiAxM3B4O1xcbiAgZmlsbDogIzUyNTI1MjtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnMgYnV0dG9uIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHBhZGRpbmc6IDRweDtcXG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbn1cXG4udXBweS1Qcm92aWRlci1icmVhZGNydW1icyBidXR0b246Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnMgYnV0dG9uOjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnMgYnV0dG9uOmhvdmVyIHtcXG4gIGNvbG9yOiAjMWI1ZGFiO1xcbn1cXG4udXBweS1Qcm92aWRlci1icmVhZGNydW1icyBidXR0b246Zm9jdXMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RmZTZmMTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlci1icmVhZGNydW1icyBidXR0b246Zm9jdXMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG59XFxuLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnMgYnV0dG9uOm5vdCg6bGFzdC1vZi10eXBlKSB7XFxuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXG59XFxuLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnMgYnV0dG9uOmxhc3Qtb2YtdHlwZSB7XFxuICBjb2xvcjogIzMzMztcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxuICBjdXJzb3I6IG5vcm1hbDtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG4udXBweS1Qcm92aWRlci1icmVhZGNydW1icyBidXR0b246aG92ZXIge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyLWJyZWFkY3J1bWJzIGJ1dHRvbiB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4OiAxO1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci11c2VyIHtcXG4gIG1hcmdpbjogMCA4cHggMCAwO1xcbiAgY29sb3I6ICMzMzM7XFxuICBmb250LXdlaWdodDogNTAwO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci11c2VyIHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItdXNlcjo6YWZ0ZXJ7XFxuICBsZWZ0OiA0cHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci11c2VyOjphZnRlcntcXG4gIHJpZ2h0OiA0cHg7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci11c2VyOjphZnRlciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBjb2xvcjogIzkzOTM5MztcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICBjb250ZW50OiBcXFwiwrdcXFwiO1xcbn1cXG5cXG4udXBweS1Qcm92aWRlckJyb3dzZXItaGVhZGVyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHotaW5kZXg6IDEwMDE7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VhZWFlYTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXItaGVhZGVyIHtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMzMzO1xcbn1cXG5cXG4udXBweS1Qcm92aWRlckJyb3dzZXItaGVhZGVyQmFyIHtcXG4gIHotaW5kZXg6IDEwMDE7XFxuICBwYWRkaW5nOiA3cHggMTVweDtcXG4gIGNvbG9yOiAjNzU3NTc1O1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuNDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LVByb3ZpZGVyQnJvd3Nlci1oZWFkZXJCYXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VyLWhlYWRlckJhciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWYxZjFmO1xcbn1cXG5cXG4udXBweS1Qcm92aWRlckJyb3dzZXItaGVhZGVyQmFyLS1zaW1wbGUge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLWhlYWRlckJhci0tc2ltcGxlIC51cHB5LVByb3ZpZGVyLWJyZWFkY3J1bWJzV3JhcCB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBmbGV4OiBub25lO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAzMHB4O1xcbiAgcGFkZGluZy1sZWZ0OiA4cHg7XFxuICBwYWRkaW5nLXJpZ2h0OiA4cHg7XFxuICBtYXJnaW4tdG9wOiAxNXB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlcklucHV0e1xcbiAgcGFkZGluZy1sZWZ0OiAzMHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItc2VhcmNoRmlsdGVySW5wdXR7XFxuICBwYWRkaW5nLXJpZ2h0OiAzMHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItc2VhcmNoRmlsdGVySW5wdXR7XFxuICBwYWRkaW5nLXJpZ2h0OiAzMHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItc2VhcmNoRmlsdGVySW5wdXR7XFxuICBwYWRkaW5nLWxlZnQ6IDMwcHg7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJJbnB1dCB7XFxuICB6LWluZGV4OiAxMDAxO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDMwcHg7XFxuICBmb250LXNpemU6IDEzcHg7XFxuICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgc3lzdGVtLXVpLCBCbGlua01hY1N5c3RlbUZvbnQsIFxcXCJTZWdvZSBVSVxcXCIsIFxcXCJTZWdvZSBVSSBTeW1ib2xcXFwiLCBcXFwiU2Vnb2UgVUkgRW1vamlcXFwiLCBcXFwiQXBwbGUgQ29sb3IgRW1vamlcXFwiLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XFxuICBsaW5lLWhlaWdodDogMS40O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VhZWFlYTtcXG4gIGJvcmRlcjogMDtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gIG91dGxpbmU6IDA7XFxuICBjb2xvcjogIzMzMztcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlcklucHV0Ojotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlcklucHV0IHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlcklucHV0OmZvY3VzIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNjZmNmY2Y7XFxuICBib3JkZXI6IDA7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlcklucHV0OmZvY3VzIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJJY29ue1xcbiAgbGVmdDogMTZweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlckljb257XFxuICByaWdodDogMTZweDtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlckljb24ge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTAwMjtcXG4gIHdpZHRoOiAxMnB4O1xcbiAgaGVpZ2h0OiAxMnB4O1xcbiAgY29sb3I6ICM3NTc1NzU7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJJbnB1dDo6cGxhY2Vob2xkZXIge1xcbiAgY29sb3I6ICM5MzkzOTM7XFxuICBvcGFjaXR5OiAxO1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItc2VhcmNoRmlsdGVyUmVzZXR7XFxuICByaWdodDogMTZweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlclJlc2V0e1xcbiAgbGVmdDogMTZweDtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlclJlc2V0IHtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDEwMDI7XFxuICB3aWR0aDogMjJweDtcXG4gIGhlaWdodDogMjJweDtcXG4gIHBhZGRpbmc6IDZweDtcXG4gIGNvbG9yOiAjOTM5MzkzO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItc2VhcmNoRmlsdGVyUmVzZXQ6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlclJlc2V0OjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlclJlc2V0OmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM0LCAxMTcsIDIxNSwgMC41KTtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlclJlc2V0OmhvdmVyIHtcXG4gIGNvbG9yOiAjNzU3NTc1O1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItc2VhcmNoRmlsdGVyUmVzZXQgc3ZnIHtcXG4gIHZlcnRpY2FsLWFsaWduOiB0ZXh0LXRvcDtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXVzZXJMb2dvdXQge1xcbiAgcGFkZGluZzogNHB4O1xcbiAgY29sb3I6ICMyMjc1ZDc7XFxuICBsaW5lLWhlaWdodDogaW5oZXJpdDtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXVzZXJMb2dvdXQ6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXVzZXJMb2dvdXQ6Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdXNlckxvZ291dDpob3ZlciB7XFxuICBjb2xvcjogIzFiNWRhYjtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXVzZXJMb2dvdXQ6Zm9jdXMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RmZTZmMTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXItdXNlckxvZ291dDpmb2N1cyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdXNlckxvZ291dDpob3ZlciB7XFxuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXItdXNlckxvZ291dCB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLWJvZHkge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZmxleDogMTtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLWxpc3Qge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBmbGV4OiAxO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xcbiAgb3ZlcmZsb3cteTogYXV0bztcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXNwYWNpbmc6IDA7XFxuICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VyLWxpc3Qge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLWxpc3Q6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lciB7XFxuICBmb250LXdlaWdodDogNTAwO1xcbiAgZm9udC1zaXplOiAxM3B4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4udXBweS1Qcm92aWRlckJyb3dzZXItZm9vdGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgaGVpZ2h0OiA2NXB4O1xcbiAgcGFkZGluZzogMCAxNXB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWFlYWVhO1xcbn1cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItZm9vdGVyIGJ1dHRvbntcXG4gIG1hcmdpbi1yaWdodDogOHB4O1xcbn1cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItZm9vdGVyIGJ1dHRvbntcXG4gIG1hcmdpbi1sZWZ0OiA4cHg7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VyLWZvb3RlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWYxZjFmO1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMzMzM7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdJbm5lcldyYXAge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICBib3gtc2hhZG93OiAwIDAgMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjQpO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3SW5uZXJXcmFwIHtcXG4gIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3SW5uZXJXcmFwOjphZnRlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICB6LWluZGV4OiAxMDAxO1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42NSk7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0xpbmsge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgei1pbmRleDogMTAwMjtcXG59XFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0xpbms6Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgM3B4ICM3NmFiZTk7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0xpbms6Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgM3B4ICMwMTZjOGQ7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXcgaW1nLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0ltZyB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG9iamVjdC1maXQ6IGNvdmVyO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzcyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDUwJTtcXG4gIGxlZnQ6IDUwJTtcXG4gIHotaW5kZXg6IDEwMDI7XFxuICB3aWR0aDogMTIwcHg7XFxuICBjb2xvcjogI2ZmZjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xcbiAgdHJhbnNpdGlvbjogYWxsIDAuMzUgZWFzZTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJbmRpY2F0b3Ige1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDM4cHg7XFxuICBoZWlnaHQ6IDM4cHg7XFxuICBvcGFjaXR5OiAwLjk7XFxuICBjb2xvcjogI2ZmZjtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJbmRpY2F0b3Ige1xcbiAgd2lkdGg6IDU1cHg7XFxuICBoZWlnaHQ6IDU1cHg7XFxufVxcblxcbmJ1dHRvbi51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSW5kaWNhdG9yIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuYnV0dG9uLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJbmRpY2F0b3I6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuYnV0dG9uLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJbmRpY2F0b3I6Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG5idXR0b24udXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0luZGljYXRvcjpmb2N1cyAudXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0ljb24tLWJnLFxcbmJ1dHRvbi51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSW5kaWNhdG9yOmZvY3VzIC51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSWNvbi0tcmV0cnkge1xcbiAgZmlsbDogIzc2YWJlOTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJY29uLS1jaXJjbGUge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSWNvbi0tYmcge1xcbiAgc3Ryb2tlOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNCk7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSWNvbi0tcHJvZ3Jlc3Mge1xcbiAgdHJhbnNpdGlvbjogc3Ryb2tlLWRhc2hvZmZzZXQgMC41cyBlYXNlLW91dDtcXG4gIHN0cm9rZTogI2ZmZjtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJY29uLS1wbGF5IHtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xcbiAgZmlsbDogI2ZmZjtcXG4gIHN0cm9rZTogI2ZmZjtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJY29uLS1jYW5jZWwge1xcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XFxuICBmaWxsOiAjZmZmO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0ljb24tLXBhdXNlIHtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xcbiAgZmlsbDogI2ZmZjtcXG4gIHN0cm9rZTogI2ZmZjtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJY29uLS1jaGVjayB7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcXG4gIGZpbGw6ICNmZmY7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSWNvbi0tcmV0cnkge1xcbiAgZmlsbDogI2ZmZjtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktRGFzaGJvYXJkLUl0ZW0uaXMtY29tcGxldGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3N7XFxuICByaWdodDogLThweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktRGFzaGJvYXJkLUl0ZW0uaXMtY29tcGxldGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3N7XFxuICBsZWZ0OiAtOHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1EYXNoYm9hcmQtSXRlbS5pcy1jb21wbGV0ZSAudXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc3tcXG4gIGxlZnQ6IGluaXRpYWw7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZC1JdGVtLmlzLWNvbXBsZXRlIC51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNze1xcbiAgcmlnaHQ6IGluaXRpYWw7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLmlzLWNvbXBsZXRlIC51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzIHtcXG4gIHRvcDogLTlweDtcXG4gIHdpZHRoOiBhdXRvO1xcbiAgdHJhbnNmb3JtOiBpbml0aWFsO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS5pcy1lcnJvciAudXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0luZGljYXRvciB7XFxuICB3aWR0aDogMThweDtcXG4gIGhlaWdodDogMThweDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW0uaXMtZXJyb3IgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJbmRpY2F0b3Ige1xcbiAgd2lkdGg6IDI4cHg7XFxuICBoZWlnaHQ6IDI4cHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLmlzLWNvbXBsZXRlIC51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSW5kaWNhdG9yIHtcXG4gIHdpZHRoOiAxOHB4O1xcbiAgaGVpZ2h0OiAxOHB4O1xcbiAgb3BhY2l0eTogMTtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW0uaXMtY29tcGxldGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJbmRpY2F0b3Ige1xcbiAgd2lkdGg6IDIycHg7XFxuICBoZWlnaHQ6IDIycHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLmlzLXByb2Nlc3NpbmcgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3Mge1xcbiAgb3BhY2l0eTogMDtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZUluZm97XFxuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZC1JdGVtLWZpbGVJbmZve1xcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XFxufVxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LURhc2hib2FyZC0tc2luZ2xlRmlsZSAudXBweS1EYXNoYm9hcmQtSXRlbS1maWxlSW5mb3tcXG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XFxufVxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZC0tc2luZ2xlRmlsZSAudXBweS1EYXNoYm9hcmQtSXRlbS1maWxlSW5mb3tcXG4gIHBhZGRpbmctbGVmdDogMTBweDtcXG59XFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktc2l6ZS0tbWQudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZUluZm97XFxuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xcbn1cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1zaXplLS1tZC51cHB5LURhc2hib2FyZC0tc2luZ2xlRmlsZSAudXBweS1EYXNoYm9hcmQtSXRlbS1maWxlSW5mb3tcXG4gIHBhZGRpbmctbGVmdDogMTVweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tbmFtZSB7XFxuICBtYXJnaW4tYm90dG9tOiA1cHg7XFxuICBmb250LXdlaWdodDogNTAwO1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuMztcXG4gIHdvcmQtd3JhcDogYW55d2hlcmU7XFxuICB3b3JkLWJyZWFrOiBicmVhay1hbGw7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLUl0ZW0tbmFtZSB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG59XFxuLnVwcHktc2l6ZS0tbWQudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tbmFtZSB7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBsaW5lLWhlaWdodDogMS40O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1maWxlTmFtZSB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1maWxlTmFtZSBidXR0b24ge1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tYXV0aG9yIHtcXG4gIGNvbG9yOiAjNzU3NTc1O1xcbiAgdmVydGljYWwtYWxpZ246IGJvdHRvbTtcXG4gIGZvbnQtc2l6ZTogMTFweDtcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBsaW5lLWhlaWdodDogMTtcXG4gIG1hcmdpbi1ib3R0b206IDVweDtcXG59XFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tYXV0aG9yIGEge1xcbiAgY29sb3I6ICM3NTc1NzU7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXN0YXR1cyB7XFxuICBjb2xvcjogIzc1NzU3NTtcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICBmb250LXNpemU6IDExcHg7XFxuICBsaW5lLWhlaWdodDogMTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtSXRlbS1zdGF0dXMge1xcbiAgY29sb3I6ICNiYmI7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXN0YXR1c1NpemUge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG4gIHZlcnRpY2FsLWFsaWduOiBib3R0b207XFxuICBtYXJnaW4tYm90dG9tOiA1cHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXJlU2VsZWN0IHtcXG4gIGNvbG9yOiAjMjI3NWQ3O1xcbiAgZm9udC13ZWlnaHQ6IDYwMDtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1lcnJvck1lc3NhZ2Uge1xcbiAgZm9udC1zaXplOiAxMXB4O1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjM7XFxuICBjb2xvcjogI2E1MTUyMztcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZGVmZjE7XFxuICBwYWRkaW5nOiA1cHggNnB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1lcnJvck1lc3NhZ2VCdG4ge1xcbiAgZm9udC1zaXplOiAxMXB4O1xcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxuICBjb2xvcjogI2E1MTUyMztcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXcgLnVwcHktRGFzaGJvYXJkLUl0ZW0tZXJyb3JNZXNzYWdlIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXcgLnVwcHktRGFzaGJvYXJkLUl0ZW0tZXJyb3JNZXNzYWdlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNmN2MyYzg7XFxuICBwYWRkaW5nOiA2cHggOHB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuNDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDNweDtcXG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAzcHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLWZpbGVJbmZvIC51cHB5LURhc2hib2FyZC1JdGVtLWVycm9yTWVzc2FnZSB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBwb3NpdGlvbjogc3RhdGljO1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2Y3YzJjODtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZUluZm8gLnVwcHktRGFzaGJvYXJkLUl0ZW0tZXJyb3JNZXNzYWdlIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbiB7XFxuICBjb2xvcjogIzkzOTM5MztcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbi51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbjpmb2N1cyB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgzNCwgMTE3LCAyMTUsIDAuNSk7XFxufVxcbi51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbjpob3ZlciB7XFxuICBjb2xvcjogIzFmMWYxZjtcXG4gIG9wYWNpdHk6IDE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uIHtcXG4gIGNvbG9yOiAjY2ZjZmNmO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbjpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uOmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDE3MCwgMjI1LCAyNTUsIDAuODUpO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbjpob3ZlciB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1yZW1vdmUge1xcbiAgY29sb3I6ICMxZjFmMWY7XFxuICBvcGFjaXR5OiAwLjk1O1xcbn1cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb24tLXJlbW92ZTpob3ZlciB7XFxuICBjb2xvcjogIzAwMDtcXG4gIG9wYWNpdHk6IDE7XFxufVxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tcmVtb3ZlLFtkaXI9XFxcImx0clxcXCJdICAudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1yZW1vdmV7XFxuICByaWdodDogLThweDtcXG59XFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1yZW1vdmUsW2Rpcj1cXFwicnRsXFxcIl0gIC51cHB5LURhc2hib2FyZC0tc2luZ2xlRmlsZSAudXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb24tLXJlbW92ZXtcXG4gIGxlZnQ6IC04cHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tcmVtb3ZlLCAudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1yZW1vdmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAtOHB4O1xcbiAgei1pbmRleDogMTAwMjtcXG4gIHdpZHRoOiAxOHB4O1xcbiAgaGVpZ2h0OiAxOHB4O1xcbiAgcGFkZGluZzogMDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1yZW1vdmU6Zm9jdXMsIC51cHB5LURhc2hib2FyZC0tc2luZ2xlRmlsZSAudXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb24tLXJlbW92ZTpmb2N1cyB7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1yZW1vdmUge1xcbiAgY29sb3I6ICM1MjUyNTI7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1yZW1vdmU6aG92ZXIge1xcbiAgY29sb3I6ICMzMzM7XFxufVxcblxcbi51cHB5LURhc2hib2FyZDpub3QoLnVwcHktc2l6ZS0tbWQpOm5vdCgudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUpIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbldyYXBwZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi51cHB5LURhc2hib2FyZDpub3QoLnVwcHktc2l6ZS0tbWQpOm5vdCgudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUpIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbiB7XFxuICB3aWR0aDogMjJweDtcXG4gIGhlaWdodDogMjJweDtcXG4gIG1hcmdpbi1sZWZ0OiAzcHg7XFxuICBwYWRkaW5nOiAzcHg7XFxufVxcbi51cHB5LURhc2hib2FyZDpub3QoLnVwcHktc2l6ZS0tbWQpOm5vdCgudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUpIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbjpmb2N1cyB7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxufVxcblxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tY29weUxpbmssXFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1lZGl0IHtcXG4gIHdpZHRoOiAxNnB4O1xcbiAgaGVpZ2h0OiAxNnB4O1xcbiAgcGFkZGluZzogMDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1jb3B5TGluazpmb2N1cyxcXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb24tLWVkaXQ6Zm9jdXMge1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbSB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VhZWFlYTtcXG59XFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktRGFzaGJvYXJkOm5vdCgudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUpIC51cHB5LURhc2hib2FyZC1JdGVte1xcbiAgcGFkZGluZy1yaWdodDogMDtcXG59XFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktRGFzaGJvYXJkOm5vdCgudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUpIC51cHB5LURhc2hib2FyZC1JdGVte1xcbiAgcGFkZGluZy1sZWZ0OiAwO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1JdGVtIHtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMzMzO1xcbn1cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtSXRlbXtcXG4gIGZsb2F0OiBsZWZ0O1xcbn1cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtSXRlbXtcXG4gIGZsb2F0OiByaWdodDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW0ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICAvKiBXaGVuIGNoYW5naW5nIHdpZHRoOiBhbHNvIHVwZGF0ZSBgaXRlbXNQZXJSb3dgIHZhbHVlcyBpbiBgc3JjL2NvbXBvbmVudHMvRGFzaGJvYXJkLmpzYC4gKi9cXG4gIHdpZHRoOiBjYWxjKDMzLjMzMyUgLSAxNXB4IC0gMTVweCk7XFxuICBoZWlnaHQ6IDIxNXB4O1xcbiAgbWFyZ2luOiA1cHggMTVweDtcXG4gIHBhZGRpbmc6IDA7XFxuICBib3JkZXItYm90dG9tOiAwO1xcbn1cXG4udXBweS1zaXplLS1sZyAudXBweS1EYXNoYm9hcmQtSXRlbSB7XFxuICAvKiBXaGVuIGNoYW5naW5nIHdpZHRoOiBhbHNvIHVwZGF0ZSBgaXRlbXNQZXJSb3dgIHZhbHVlcyBpbiBgc3JjL2NvbXBvbmVudHMvRGFzaGJvYXJkLmpzYC4gKi9cXG4gIHdpZHRoOiBjYWxjKDI1JSAtIDE1cHggLSAxNXB4KTtcXG4gIGhlaWdodDogMTkwcHg7XFxuICBtYXJnaW46IDVweCAxNXB4O1xcbiAgcGFkZGluZzogMDtcXG59XFxuLnVwcHktc2l6ZS0teGwgLnVwcHktRGFzaGJvYXJkLUl0ZW0ge1xcbiAgLyogV2hlbiBjaGFuZ2luZyB3aWR0aDogYWxzbyB1cGRhdGUgYGl0ZW1zUGVyUm93YCB2YWx1ZXMgaW4gYHNyYy9jb21wb25lbnRzL0Rhc2hib2FyZC5qc2AuICovXFxuICB3aWR0aDogY2FsYygyMCUgLSAxNXB4IC0gMTVweCk7XFxuICBoZWlnaHQ6IDIxMHB4O1xcbiAgcGFkZGluZzogMDtcXG59XFxuLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlIC51cHB5LURhc2hib2FyZC1JdGVtIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtYXgtd2lkdGg6IDQwMHB4O1xcbiAgaGVpZ2h0OiBhdXRvO1xcbiAgYm9yZGVyLWJvdHRvbTogMDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHBhZGRpbmc6IDA7XFxuICBtYXJnaW46IDEwcHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLmlzLWdob3N0IC51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdJbm5lcldyYXAge1xcbiAgb3BhY2l0eTogMC4yO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS5pcy1naG9zdCAudXBweS1EYXNoYm9hcmQtSXRlbS1uYW1lIHtcXG4gIG9wYWNpdHk6IDAuNztcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0uaXMtZ2hvc3QgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlldzo6YmVmb3JlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIHotaW5kZXg6IDEwMDU7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF80X19fICsgXCIpO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDUwJSAxMHB4O1xcbiAgYmFja2dyb3VuZC1zaXplOiAyNXB4O1xcbiAgb3BhY2l0eTogMC41O1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLmlzLWdob3N0IC51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXc6OmJlZm9yZSB7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlO1xcbiAgYmFja2dyb3VuZC1zaXplOiA0MHB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuLnVwcHktRGFzaGJvYXJkOm5vdCgudXBweS1zaXplLS1tZCk6bm90KC51cHB5LURhc2hib2FyZC0tc2luZ2xlRmlsZSkgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlldyB7XFxuICBmbGV4LWdyb3c6IDA7XFxuICBmbGV4LXNocmluazogMDtcXG4gIHdpZHRoOiA1MHB4O1xcbiAgaGVpZ2h0OiA1MHB4O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3IHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxNDBweDtcXG59XFxuLnVwcHktc2l6ZS0tbGcgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlldyB7XFxuICBoZWlnaHQ6IDEyMHB4O1xcbn1cXG4udXBweS1zaXplLS14bCAudXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3IHtcXG4gIGhlaWdodDogMTQwcHg7XFxufVxcbi51cHB5LURhc2hib2FyZC0tc2luZ2xlRmlsZSAudXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3IHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAyNzBweDtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZUluZm9BbmRCdXR0b25ze1xcbiAgcGFkZGluZy1yaWdodDogOHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1EYXNoYm9hcmQtSXRlbS1maWxlSW5mb0FuZEJ1dHRvbnN7XFxuICBwYWRkaW5nLWxlZnQ6IDhweDtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZUluZm9BbmRCdXR0b25ze1xcbiAgcGFkZGluZy1sZWZ0OiAxMnB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1EYXNoYm9hcmQtSXRlbS1maWxlSW5mb0FuZEJ1dHRvbnN7XFxuICBwYWRkaW5nLXJpZ2h0OiAxMnB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1maWxlSW5mb0FuZEJ1dHRvbnMge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZ3JvdzogMTtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLWZpbGVJbmZvQW5kQnV0dG9ucywgLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlIC51cHB5LURhc2hib2FyZC1JdGVtLWZpbGVJbmZvQW5kQnV0dG9ucyB7XFxuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgcGFkZGluZzogMDtcXG4gIHBhZGRpbmctdG9wOiA5cHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLWZpbGVJbmZvIHtcXG4gIGZsZXgtZ3JvdzogMTtcXG4gIGZsZXgtc2hyaW5rOiAxO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb25XcmFwcGVyIHtcXG4gIGZsZXgtZ3JvdzogMDtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS5pcy1pbnByb2dyZXNzIC51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdJbm5lcldyYXA6OmFmdGVyLFxcbi51cHB5LURhc2hib2FyZC1JdGVtLmlzLWVycm9yIC51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdJbm5lcldyYXA6OmFmdGVyIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS5pcy1pbnByb2dyZXNzOm5vdCguaXMtcmVzdW1hYmxlKSAudXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb24tLXJlbW92ZSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1EYXNoYm9hcmQtSXRlbS1lcnJvckRldGFpbHN7XFxuICBsZWZ0OiAycHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZC1JdGVtLWVycm9yRGV0YWlsc3tcXG4gIHJpZ2h0OiAycHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLWVycm9yRGV0YWlscyB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0b3A6IDA7XFxuICBmbGV4LXNocmluazogMDtcXG4gIHdpZHRoOiAxM3B4O1xcbiAgaGVpZ2h0OiAxM3B4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBmb250LXdlaWdodDogNjAwO1xcbiAgZm9udC1zaXplOiAxMHB4O1xcbiAgbGluZS1oZWlnaHQ6IDEycHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTM5MzkzO1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgY3Vyc29yOiBoZWxwO1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgICAgICAgICBhcHBlYXJhbmNlOiBub25lO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1lcnJvckRldGFpbHM6OmFmdGVyIHtcXG4gIGxpbmUtaGVpZ2h0OiAxLjM7XFxuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1GaWxlQ2FyZCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICB6LWluZGV4OiAxMDA1O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICBib3gtc2hhZG93OiAwIDAgMTBweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtRmlsZUNhcmQgLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYXIge1xcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNXB4O1xcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDVweDtcXG59XFxuLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkIC51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1hY3Rpb25zIHtcXG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA1cHg7XFxuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA1cHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1pbm5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGZsZXgtZ3JvdzogMTtcXG4gIGZsZXgtc2hyaW5rOiAxO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgbWluLWhlaWdodDogMDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLXByZXZpZXcge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZ3JvdzogMDtcXG4gIGZsZXgtc2hyaW5rOiAxO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgaGVpZ2h0OiA2MCU7XFxuICBtaW4taGVpZ2h0OiAwO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlYWVhZWE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLXByZXZpZXcge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG4gIGJvcmRlci1ib3R0b206IDA7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1wcmV2aWV3IGltZy51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdJbWcge1xcbiAgZmxleDogMCAwIGF1dG87XFxuICBtYXgtd2lkdGg6IDkwJTtcXG4gIG1heC1oZWlnaHQ6IDkwJTtcXG4gIG9iamVjdC1maXQ6IGNvdmVyO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgYm94LXNoYWRvdzogMCAzcHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtZWRpdHtcXG4gIHJpZ2h0OiAxMHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtZWRpdHtcXG4gIGxlZnQ6IDEwcHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1lZGl0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMTBweDtcXG4gIHBhZGRpbmc6IDdweCAxNXB4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBmb250LXNpemU6IDEzcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XFxuICBib3JkZXItcmFkaXVzOiA1MHB4O1xcbn1cXG4udXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtZWRpdDpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtZWRpdDo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbi51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1lZGl0OmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM0LCAxMTcsIDIxNSwgMC41KTtcXG59XFxuLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWVkaXQ6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjgpO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtaW5mbyB7XFxuICBmbGV4LWdyb3c6IDA7XFxuICBmbGV4LXNocmluazogMDtcXG4gIGhlaWdodDogNDAlO1xcbiAgcGFkZGluZzogMzBweCAyMHB4IDIwcHggMjBweDtcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxuICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWluZm8ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWZpZWxkc2V0IHtcXG4gIG1heC13aWR0aDogNjQwcHg7XFxuICBtYXJnaW46IGF1dG87XFxuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xcbiAgcGFkZGluZzogMDtcXG4gIGZvbnQtc2l6ZTogMDtcXG4gIGJvcmRlcjogMDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWxhYmVsIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHdpZHRoOiAyMiU7XFxuICBjb2xvcjogIzUyNTI1MjtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1sYWJlbCB7XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWxhYmVsIHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtaW5wdXQge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDc4JTtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1hY3Rpb25zIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWdyb3c6IDA7XFxuICBmbGV4LXNocmluazogMDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBoZWlnaHQ6IDU1cHg7XFxuICBwYWRkaW5nOiAwIDE1cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlYWVhZWE7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1hY3Rpb25zIHtcXG4gIGhlaWdodDogNjVweDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtYWN0aW9ucyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWYxZjFmO1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMzMzM7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1hY3Rpb25zQnRue1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtYWN0aW9uc0J0bntcXG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xcbn1cXG5cXG4udXBweS10cmFuc2l0aW9uLXNsaWRlRG93blVwLWVudGVyIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTEwNSUsIDApO1xcbiAgb3BhY2l0eTogMC4wMTtcXG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjI1cyBlYXNlLWluLW91dCwgb3BhY2l0eSAwLjI1cyBlYXNlLWluLW91dDtcXG59XFxuXFxuLnVwcHktdHJhbnNpdGlvbi1zbGlkZURvd25VcC1lbnRlci51cHB5LXRyYW5zaXRpb24tc2xpZGVEb3duVXAtZW50ZXItYWN0aXZlIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XFxuICBvcGFjaXR5OiAxO1xcbn1cXG5cXG4udXBweS10cmFuc2l0aW9uLXNsaWRlRG93blVwLWxlYXZlIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XFxuICBvcGFjaXR5OiAxO1xcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMjVzIGVhc2UtaW4tb3V0LCBvcGFjaXR5IDAuMjVzIGVhc2UtaW4tb3V0O1xcbn1cXG5cXG4udXBweS10cmFuc2l0aW9uLXNsaWRlRG93blVwLWxlYXZlLnVwcHktdHJhbnNpdGlvbi1zbGlkZURvd25VcC1sZWF2ZS1hY3RpdmUge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMTA1JSwgMCk7XFxuICBvcGFjaXR5OiAwLjAxO1xcbn1cXG5cXG5Aa2V5ZnJhbWVzIHVwcHktRGFzaGJvYXJkLWZhZGVJbiB7XFxuICBmcm9tIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG4gIHRvIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuQGtleWZyYW1lcyB1cHB5LURhc2hib2FyZC1mYWRlT3V0IHtcXG4gIGZyb20ge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbiAgdG8ge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbn1cXG5Aa2V5ZnJhbWVzIHVwcHktRGFzaGJvYXJkLXNsaWRlRG93bkFuZEZhZGVJbiB7XFxuICBmcm9tIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNTAlLCAtNzAlLCAwKTtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG4gIHRvIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNTAlLCAtNTAlLCAwKTtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuQGtleWZyYW1lcyB1cHB5LURhc2hib2FyZC1zbGlkZURvd25BbmRGYWRlSW4tLXNtYWxsIHtcXG4gIGZyb20ge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0yMCUsIDApO1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbiAgdG8ge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbn1cXG5Aa2V5ZnJhbWVzIHVwcHktRGFzaGJvYXJkLXNsaWRlVXBGYWRlT3V0IHtcXG4gIGZyb20ge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC01MCUsIDApO1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbiAgdG8ge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC03MCUsIDApO1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbn1cXG5Aa2V5ZnJhbWVzIHVwcHktRGFzaGJvYXJkLXNsaWRlVXBGYWRlT3V0LS1zbWFsbCB7XFxuICBmcm9tIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG4gIHRvIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMjAlLCAwKTtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG59XFxuLnVwcHktRGFzaGJvYXJkLS1tb2RhbCB7XFxuICB6LWluZGV4OiAxMDAxO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtLW1vZGFsW2FyaWEtaGlkZGVuPXRydWVdIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC0tbW9kYWwudXBweS1EYXNoYm9hcmQtLWFuaW1hdGVPcGVuQ2xvc2UgPiAudXBweS1EYXNoYm9hcmQtaW5uZXIge1xcbiAgYW5pbWF0aW9uOiB1cHB5LURhc2hib2FyZC1zbGlkZURvd25BbmRGYWRlSW4tLXNtYWxsIDAuM3MgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSk7XFxufVxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogODIwcHgpIHtcXG4gIC51cHB5LURhc2hib2FyZC0tbW9kYWwudXBweS1EYXNoYm9hcmQtLWFuaW1hdGVPcGVuQ2xvc2UgPiAudXBweS1EYXNoYm9hcmQtaW5uZXIge1xcbiAgICBhbmltYXRpb246IHVwcHktRGFzaGJvYXJkLXNsaWRlRG93bkFuZEZhZGVJbiAwLjNzIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpO1xcbiAgfVxcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtLW1vZGFsLnVwcHktRGFzaGJvYXJkLS1hbmltYXRlT3BlbkNsb3NlID4gLnVwcHktRGFzaGJvYXJkLW92ZXJsYXkge1xcbiAgYW5pbWF0aW9uOiB1cHB5LURhc2hib2FyZC1mYWRlSW4gMC4zcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLS1tb2RhbC51cHB5LURhc2hib2FyZC0tYW5pbWF0ZU9wZW5DbG9zZS51cHB5LURhc2hib2FyZC0taXNDbG9zaW5nID4gLnVwcHktRGFzaGJvYXJkLWlubmVyIHtcXG4gIGFuaW1hdGlvbjogdXBweS1EYXNoYm9hcmQtc2xpZGVVcEZhZGVPdXQtLXNtYWxsIDAuM3MgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSk7XFxufVxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogODIwcHgpIHtcXG4gIC51cHB5LURhc2hib2FyZC0tbW9kYWwudXBweS1EYXNoYm9hcmQtLWFuaW1hdGVPcGVuQ2xvc2UudXBweS1EYXNoYm9hcmQtLWlzQ2xvc2luZyA+IC51cHB5LURhc2hib2FyZC1pbm5lciB7XFxuICAgIGFuaW1hdGlvbjogdXBweS1EYXNoYm9hcmQtc2xpZGVVcEZhZGVPdXQgMC4zcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtcXG4gIH1cXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLS1tb2RhbC51cHB5LURhc2hib2FyZC0tYW5pbWF0ZU9wZW5DbG9zZS51cHB5LURhc2hib2FyZC0taXNDbG9zaW5nID4gLnVwcHktRGFzaGJvYXJkLW92ZXJsYXkge1xcbiAgYW5pbWF0aW9uOiB1cHB5LURhc2hib2FyZC1mYWRlT3V0IDAuM3MgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSk7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1pc0ZpeGVkIHtcXG4gIGhlaWdodDogMTAwdmg7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtLW1vZGFsIC51cHB5LURhc2hib2FyZC1vdmVybGF5IHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIHotaW5kZXg6IDEwMDE7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1pbm5lciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlYWVhZWE7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtaW5uZXIge1xcbiAgbWluLWhlaWdodDogYXV0bztcXG59XFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA4MjBweCkge1xcbiAgLnVwcHktRGFzaGJvYXJkLWlubmVyIHtcXG4gICAgd2lkdGg6IDY1MHB4O1xcbiAgICBoZWlnaHQ6IDUwMHB4O1xcbiAgfVxcbn1cXG4udXBweS1EYXNoYm9hcmQtLW1vZGFsIC51cHB5LURhc2hib2FyZC1pbm5lciB7XFxuICB6LWluZGV4OiAxMDAyO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWYxZjFmO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtLWlzRGlzYWJsZWQgLnVwcHktRGFzaGJvYXJkLWlubmVyIHtcXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1pbm5lcldyYXAge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgb3BhY2l0eTogMDtcXG59XFxuLnVwcHktRGFzaGJvYXJkLS1pc0lubmVyV3JhcFZpc2libGUgLnVwcHktRGFzaGJvYXJkLWlubmVyV3JhcCB7XFxuICBvcGFjaXR5OiAxO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtLWlzRGlzYWJsZWQgLnVwcHktRGFzaGJvYXJkLWlubmVyV3JhcCB7XFxuICBvcGFjaXR5OiAwLjY7XFxuICBmaWx0ZXI6IGdyYXlzY2FsZSgxMDAlKTtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLS1pc0Rpc2FibGVkIC51cHB5LVByb3ZpZGVySWNvbkJnIHtcXG4gIGZpbGw6ICM5ZjlmOWY7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC0taXNEaXNhYmxlZCBbZGlzYWJsZWRdLCAudXBweS1EYXNoYm9hcmQtLWlzRGlzYWJsZWQgW2FyaWEtZGlzYWJsZWRdIHtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLS1tb2RhbCAudXBweS1EYXNoYm9hcmQtaW5uZXIge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAzNXB4O1xcbiAgcmlnaHQ6IDE1cHg7XFxuICBib3R0b206IDE1cHg7XFxuICBsZWZ0OiAxNXB4O1xcbiAgYm9yZGVyOiBub25lO1xcbn1cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDgyMHB4KSB7XFxuICAudXBweS1EYXNoYm9hcmQtLW1vZGFsIC51cHB5LURhc2hib2FyZC1pbm5lciB7XFxuICAgIHRvcDogNTAlO1xcbiAgICByaWdodDogYXV0bztcXG4gICAgbGVmdDogNTAlO1xcbiAgICBib3gtc2hhZG93OiAwIDVweCAxNXB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcXG4gIH1cXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktRGFzaGJvYXJkLWNsb3Nle1xcbiAgcmlnaHQ6IC0ycHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZC1jbG9zZXtcXG4gIGxlZnQ6IC0ycHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1jbG9zZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IC0zM3B4O1xcbiAgei1pbmRleDogMTAwNTtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KTtcXG4gIGZvbnQtc2l6ZTogMjdweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnVwcHktRGFzaGJvYXJkLWNsb3NlOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LURhc2hib2FyZC1jbG9zZTo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbi51cHB5LURhc2hib2FyZC1jbG9zZTpmb2N1cyB7XFxuICBjb2xvcjogIzhjYjhlZDtcXG59XFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA4MjBweCkge1xcbiAgW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktRGFzaGJvYXJkLWNsb3Nle1xcbiAgICByaWdodDogLTM1cHg7XFxuICB9XFxuICBbZGlyPVxcXCJydGxcXFwiXSAudXBweS1EYXNoYm9hcmQtY2xvc2V7XFxuICAgIGxlZnQ6IC0zNXB4O1xcbiAgfVxcbiAgLnVwcHktRGFzaGJvYXJkLWNsb3NlIHtcXG4gICAgdG9wOiAtMTBweDtcXG4gICAgZm9udC1zaXplOiAzNXB4O1xcbiAgfVxcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtc2VydmljZU1zZyB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0b3A6IC0xcHg7XFxuICB6LWluZGV4OiAxMDA0O1xcbiAgcGFkZGluZzogMTJweCAwO1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjM7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmYmY3O1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZGQ0Yjk7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VkZDRiOTtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLXNlcnZpY2VNc2cge1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuNDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtc2VydmljZU1zZyB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjFmMWY7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgIzMzMztcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMzMzO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtc2VydmljZU1zZy10aXRsZSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIG1hcmdpbi1ib3R0b206IDRweDtcXG4gIHBhZGRpbmctbGVmdDogNDJweDtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtc2VydmljZU1zZy10ZXh0IHtcXG4gIHBhZGRpbmc6IDAgMTVweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLXNlcnZpY2VNc2ctYWN0aW9uQnRuIHtcXG4gIGNvbG9yOiAjMjI3NWQ3O1xcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XFxuICBmb250LXNpemU6IGluaGVyaXQ7XFxuICB2ZXJ0aWNhbC1hbGlnbjogaW5pdGlhbDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtc2VydmljZU1zZy1hY3Rpb25CdG4ge1xcbiAgY29sb3I6IHJnYmEoMiwgMTg2LCAyNDIsIDAuOSk7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1zZXJ2aWNlTXNnLWljb24ge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAxMHB4O1xcbiAgbGVmdDogMTVweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUFkZEZpbGVzIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5bZGF0YS11cHB5LWRyYWctZHJvcC1zdXBwb3J0ZWQ9dHJ1ZV0gLnVwcHktRGFzaGJvYXJkLUFkZEZpbGVzIHtcXG4gIGhlaWdodDogY2FsYygxMDAlIC0gMTRweCk7XFxuICBtYXJnaW46IDdweDtcXG4gIGJvcmRlcjogMXB4IGRhc2hlZCAjZGZkZmRmO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbn1cXG4udXBweS1EYXNoYm9hcmQtQWRkRmlsZXNQYW5lbCAudXBweS1EYXNoYm9hcmQtQWRkRmlsZXMge1xcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAxNHB4IC0gNDBweCk7XFxuICBib3JkZXI6IG5vbmU7XFxufVxcbi51cHB5LURhc2hib2FyZC0tbW9kYWwgLnVwcHktRGFzaGJvYXJkLUFkZEZpbGVzIHtcXG4gIGJvcmRlci1jb2xvcjogI2NmY2ZjZjtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtQWRkRmlsZXMge1xcbiAgYm9yZGVyLWNvbG9yOiAjNzU3NTc1O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtQWRkRmlsZXMtaW5mbyB7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgbWFyZ2luLXRvcDogYXV0bztcXG4gIHBhZGRpbmctdG9wOiAxNXB4O1xcbiAgcGFkZGluZy1ib3R0b206IDE1cHg7XFxufVxcbi51cHB5LXNpemUtLWhlaWdodC1tZCAudXBweS1EYXNoYm9hcmQtQWRkRmlsZXMtaW5mbyB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUFkZEZpbGVzLWluZm8ge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDI1cHg7XFxuICBsZWZ0OiAwO1xcbiAgcGFkZGluZy10b3A6IDMwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMDtcXG59XFxuW2RhdGEtdXBweS1udW0tYWNxdWlyZXJzPVxcXCIwXFxcIl0gLnVwcHktRGFzaGJvYXJkLUFkZEZpbGVzLWluZm8ge1xcbiAgbWFyZ2luLXRvcDogMDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLWJyb3dzZSB7XFxuICBjb2xvcjogcmdiYSgzNCwgMTE3LCAyMTUsIDAuOSk7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi51cHB5LURhc2hib2FyZC1icm93c2U6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLnVwcHktRGFzaGJvYXJkLWJyb3dzZTo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbi51cHB5LURhc2hib2FyZC1icm93c2U6aG92ZXIsIC51cHB5LURhc2hib2FyZC1icm93c2U6Zm9jdXMge1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMyMjc1ZDc7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLWJyb3dzZSB7XFxuICBjb2xvcjogcmdiYSgyLCAxODYsIDI0MiwgMC45KTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtYnJvd3NlOmhvdmVyLCBbZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1icm93c2U6Zm9jdXMge1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMmJhZjI7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1icm93c2VCdG4ge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1hcmdpbi10b3A6IDhweDtcXG4gIG1hcmdpbi1ib3R0b206IDVweDtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1icm93c2VCdG4ge1xcbiAgd2lkdGg6IGF1dG87XFxuICBtYXJnaW46IGF1dG87XFxuICBtYXJnaW4tdG9wOiAxNXB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcXG4gIHBhZGRpbmc6IDEzcHggNDRweDtcXG4gIGZvbnQtc2l6ZTogMTVweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUFkZEZpbGVzLWxpc3Qge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXg6IDE7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtYXJnaW4tdG9wOiAycHg7XFxuICBwYWRkaW5nOiAycHggMDtcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxuICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1BZGRGaWxlcy1saXN0IHtcXG4gIGZsZXg6IG5vbmU7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBtYXgtd2lkdGg6IDYwMHB4O1xcbiAgbWFyZ2luLXRvcDogMTVweDtcXG4gIHBhZGRpbmctdG9wOiAwO1xcbiAgb3ZlcmZsb3cteTogdmlzaWJsZTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkVGFiIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlYWVhZWE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkVGFiIHtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMzMzO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmRUYWIge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IGluaXRpYWw7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbiAgYm9yZGVyLWJvdHRvbTogbm9uZTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkVGFiLWJ0biB7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogbGVmdDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgcGFkZGluZzogMTJweCAxNXB4O1xcbiAgY29sb3I6ICM1MjUyNTI7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gIGFwcGVhcmFuY2U6IG5vbmU7XFxufVxcbi51cHB5LURhc2hib2FyZFRhYi1idG46Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLnVwcHktRGFzaGJvYXJkVGFiLWJ0bjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZFRhYi1idG57XFxuICBtYXJnaW4tcmlnaHQ6IDFweDtcXG59XFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkVGFiLWJ0bntcXG4gIG1hcmdpbi1sZWZ0OiAxcHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZFRhYi1idG4ge1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIHdpZHRoOiA4NnB4O1xcbiAgcGFkZGluZzogMTBweCAzcHg7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkVGFiLWJ0biB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkVGFiLWJ0bjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcblxcbi51cHB5LURhc2hib2FyZFRhYi1idG46aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZWNlZjtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmRUYWItYnRuOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XFxufVxcblxcbi51cHB5LURhc2hib2FyZFRhYi1idG46YWN0aXZlLFxcbi51cHB5LURhc2hib2FyZFRhYi1idG46Zm9jdXMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RmZTZmMTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmRUYWItYnRuOmFjdGl2ZSxcXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZFRhYi1idG46Zm9jdXMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzUyNTI1MjtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkVGFiLWJ0biBzdmcge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgbWF4LWhlaWdodDogMTAwJTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC10b3A7XFxuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gZWFzZS1pbi1vdXQgMC4xNXM7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LURhc2hib2FyZFRhYi1pbm5lcntcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktRGFzaGJvYXJkVGFiLWlubmVye1xcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZFRhYi1pbm5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgd2lkdGg6IDMycHg7XFxuICBoZWlnaHQ6IDMycHg7XFxuICBib3JkZXItcmFkaXVzOiA4cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm94LXNoYWRvdzogMCAxcHggMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjEpLCAwIDFweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMSksIDAgMnB4IDNweCAwIHJnYmEoMCwgMCwgMCwgMC4wMik7XFxufVxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZFRhYi1pbm5lcntcXG4gIG1hcmdpbi1yaWdodDogMDtcXG59XFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkVGFiLWlubmVye1xcbiAgbWFyZ2luLWxlZnQ6IDA7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkVGFiLWlubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMjMyMzI7XFxuICBib3gtc2hhZG93OiAwIDFweCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuMiksIDAgMXB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4yKSwgMCAycHggM3B4IDAgcmdiYSgwLCAwLCAwLCAwLjA4KTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkVGFiLW5hbWUge1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkVGFiLW5hbWUge1xcbiAgbWFyZ2luLXRvcDogOHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIGxpbmUtaGVpZ2h0OiAxNXB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRUYWItaWNvbk15RGV2aWNlIHtcXG4gIGNvbG9yOiAjMjI3NWQ3O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZFRhYi1pY29uTXlEZXZpY2Uge1xcbiAgY29sb3I6ICMwMmJhZjI7XFxufVxcblxcbi51cHB5LURhc2hib2FyZFRhYi1pY29uQm94IHtcXG4gIGNvbG9yOiAjMDA2MWQ1O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZFRhYi1pY29uQm94IHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRUYWItaWNvbkRyb3Bib3gge1xcbiAgY29sb3I6ICMwMDYxZmU7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkVGFiLWljb25Ecm9wYm94IHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRUYWItaWNvblVuc3BsYXNoIHtcXG4gIGNvbG9yOiAjMTExO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZFRhYi1pY29uVW5zcGxhc2gge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcblxcbi51cHB5LURhc2hib2FyZFRhYi1pY29uU2NyZWVuUmVjIHtcXG4gIGNvbG9yOiAjMmMzZTUwO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZFRhYi1pY29uU2NyZWVuUmVjIHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRUYWItaWNvbkF1ZGlvIHtcXG4gIGNvbG9yOiAjODAzMGEzO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZFRhYi1pY29uQXVkaW8ge1xcbiAgY29sb3I6ICNiZjZlZTM7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1pbnB1dCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiAtMTtcXG4gIHdpZHRoOiAwLjFweDtcXG4gIGhlaWdodDogMC4xcHg7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgb3BhY2l0eTogMDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogMTAwNDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LXNocmluazogMDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogNDBweDtcXG4gIHBhZGRpbmc6IDAgMTBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VhZWFlYTtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYXIge1xcbiAgaGVpZ2h0OiA1MHB4O1xcbiAgcGFkZGluZzogMCAxNXB4O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZENvbnRlbnQtYmFyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjFmMWY7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzMzMztcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC10aXRsZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIGxlZnQ6IDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1heC13aWR0aDogMTcwcHg7XFxuICBtYXJnaW46IGF1dG87XFxuICBvdmVyZmxvdy14OiBoaWRkZW47XFxuICBmb250LXdlaWdodDogNTAwO1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbiAgbGluZS1oZWlnaHQ6IDQwcHg7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZENvbnRlbnQtdGl0bGUge1xcbiAgbWF4LXdpZHRoOiAzMDBweDtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIGxpbmUtaGVpZ2h0OiA1MHB4O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZENvbnRlbnQtdGl0bGUge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LURhc2hib2FyZENvbnRlbnQtYmFjayxbZGlyPVxcXCJsdHJcXFwiXSBcXG4udXBweS1EYXNoYm9hcmRDb250ZW50LXNhdmV7XFxuICBtYXJnaW4tbGVmdDogLTZweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYWNrLFtkaXI9XFxcInJ0bFxcXCJdIFxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtc2F2ZXtcXG4gIG1hcmdpbi1yaWdodDogLTZweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYWNrLFxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtc2F2ZSB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICBmb250LXNpemU6IGluaGVyaXQ7XFxuICBmb250LWZhbWlseTogaW5oZXJpdDtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgYmFja2dyb3VuZDogbm9uZTtcXG4gIGJvcmRlcjogMDtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gIHBhZGRpbmc6IDdweCA2cHg7XFxuICBjb2xvcjogIzIyNzVkNztcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICBmb250LXNpemU6IDEycHg7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtYmFjazpmb2N1cyxcXG4udXBweS1EYXNoYm9hcmRDb250ZW50LXNhdmU6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYWNrOjotbW96LWZvY3VzLWlubmVyLFxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtc2F2ZTo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtYmFjazpob3ZlcixcXG4udXBweS1EYXNoYm9hcmRDb250ZW50LXNhdmU6aG92ZXIge1xcbiAgY29sb3I6ICMxYjVkYWI7XFxufVxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtYmFjazpmb2N1cyxcXG4udXBweS1EYXNoYm9hcmRDb250ZW50LXNhdmU6Zm9jdXMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RmZTZmMTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmRDb250ZW50LWJhY2s6Zm9jdXMsXFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmRDb250ZW50LXNhdmU6Zm9jdXMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYWNrLFxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZENvbnRlbnQtc2F2ZSB7XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYWNrLFxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkQ29udGVudC1zYXZlIHtcXG4gIGNvbG9yOiAjMDJiYWYyO1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmV7XFxuICBtYXJnaW4tcmlnaHQ6IC01cHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZXtcXG4gIG1hcmdpbi1sZWZ0OiAtNXB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmUge1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbiAgZm9udC1zaXplOiBpbmhlcml0O1xcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XFxuICBsaW5lLWhlaWdodDogMTtcXG4gIGJhY2tncm91bmQ6IG5vbmU7XFxuICBib3JkZXI6IDA7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICB3aWR0aDogMjlweDtcXG4gIGhlaWdodDogMjlweDtcXG4gIHBhZGRpbmc6IDdweCA4cHg7XFxuICBjb2xvcjogIzIyNzVkNztcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZTpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4udXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmU6Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG4udXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmU6aG92ZXIge1xcbiAgY29sb3I6ICMxYjVkYWI7XFxufVxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZTpmb2N1cyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGZlNmYxO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZTpmb2N1cyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcbn1cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmV7XFxuICBtYXJnaW4tcmlnaHQ6IC04cHg7XFxufVxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZXtcXG4gIG1hcmdpbi1sZWZ0OiAtOHB4O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmUge1xcbiAgd2lkdGg6IGF1dG87XFxuICBoZWlnaHQ6IGF1dG87XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkQ29udGVudC1hZGRNb3JlIHtcXG4gIGNvbG9yOiAjMDJiYWYyO1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmUgc3Zne1xcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZSBzdmd7XFxuICBtYXJnaW4tbGVmdDogNHB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmUgc3ZnIHtcXG4gIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkQ29udGVudC1hZGRNb3JlIHN2ZyB7XFxuICB3aWR0aDogMTFweDtcXG4gIGhlaWdodDogMTFweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC1hZGRNb3JlQ2FwdGlvbiB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmVDYXB0aW9uIHtcXG4gIGRpc3BsYXk6IGlubGluZTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC1wYW5lbCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICB6LWluZGV4OiAxMDA1O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXg6IDE7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlc21va2U7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1BZGRGaWxlc1BhbmVsIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIHotaW5kZXg6IDEwMDU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBiYWNrZ3JvdW5kOiAjZmFmYWZhO1xcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDBkZWcsICNmYWZhZmEgMzUlLCByZ2JhKDI1MCwgMjUwLCAyNTAsIDAuODUpIDEwMCUpO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgYm94LXNoYWRvdzogMCAwIDEwcHggNXB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLUFkZEZpbGVzUGFuZWwge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgwZGVnLCAjMWYxZjFmIDM1JSwgcmdiYSgzMSwgMzEsIDMxLCAwLjg1KSAxMDAlKTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLS1pc0FkZEZpbGVzUGFuZWxWaXNpYmxlIC51cHB5LURhc2hib2FyZC1maWxlcyB7XFxuICBmaWx0ZXI6IGJsdXIoMnB4KTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLXByb2dyZXNzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTIlO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtcHJvZ3Jlc3NCYXJDb250YWluZXIuaXMtYWN0aXZlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICB6LWluZGV4OiAxMDA0O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1maWxlc0NvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBmbGV4OiAxO1xcbiAgbWFyZ2luOiAwO1xcbiAgb3ZlcmZsb3cteTogaGlkZGVuO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtZmlsZXNDb250YWluZXI6OmFmdGVyIHtcXG4gIGRpc3BsYXk6IHRhYmxlO1xcbiAgY2xlYXI6IGJvdGg7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLWZpbGVzIHtcXG4gIGZsZXg6IDE7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwIDAgMTBweCAwO1xcbiAgb3ZlcmZsb3cteTogYXV0bztcXG4gIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLWZpbGVzIHtcXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUgLnVwcHktRGFzaGJvYXJkLWZpbGVzSW5uZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLWRyb3BGaWxlc0hlcmVIaW50IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogN3B4O1xcbiAgcmlnaHQ6IDdweDtcXG4gIGJvdHRvbTogN3B4O1xcbiAgbGVmdDogN3B4O1xcbiAgei1pbmRleDogMjAwMDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBwYWRkaW5nLXRvcDogOTBweDtcXG4gIGNvbG9yOiAjNzU3NTc1O1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNV9fXyArIFwiKTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlO1xcbiAgYm9yZGVyOiAxcHggZGFzaGVkICMyMjc1ZDc7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLWRyb3BGaWxlc0hlcmVIaW50IHtcXG4gIGNvbG9yOiAjYmJiO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNl9fXyArIFwiKTtcXG4gIGJvcmRlci1jb2xvcjogIzAyYmFmMjtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLnVwcHktRGFzaGJvYXJkLS1pc0RyYWdnaW5nT3ZlciAudXBweS1EYXNoYm9hcmQtZHJvcEZpbGVzSGVyZUhpbnQge1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG59XFxuLnVwcHktRGFzaGJvYXJkLnVwcHktRGFzaGJvYXJkLS1pc0RyYWdnaW5nT3ZlciAudXBweS1EYXNoYm9hcmRDb250ZW50LWJhcixcXG4udXBweS1EYXNoYm9hcmQudXBweS1EYXNoYm9hcmQtLWlzRHJhZ2dpbmdPdmVyIC51cHB5LURhc2hib2FyZC1maWxlcyxcXG4udXBweS1EYXNoYm9hcmQudXBweS1EYXNoYm9hcmQtLWlzRHJhZ2dpbmdPdmVyIC51cHB5LURhc2hib2FyZC1wcm9ncmVzc2luZGljYXRvcnMsXFxuLnVwcHktRGFzaGJvYXJkLnVwcHktRGFzaGJvYXJkLS1pc0RyYWdnaW5nT3ZlciAudXBweS1EYXNoYm9hcmQtc2VydmljZU1zZyB7XFxuICBvcGFjaXR5OiAwLjE1O1xcbn1cXG4udXBweS1EYXNoYm9hcmQudXBweS1EYXNoYm9hcmQtLWlzRHJhZ2dpbmdPdmVyIC51cHB5LURhc2hib2FyZC1BZGRGaWxlcyB7XFxuICBvcGFjaXR5OiAwLjAzO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtQWRkRmlsZXMtdGl0bGUge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtYXJnaW4tdG9wOiAxNXB4O1xcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xcbiAgcGFkZGluZzogMCAxNXB4O1xcbiAgY29sb3I6ICMwMDA7XFxuICBmb250LXdlaWdodDogNTAwO1xcbiAgZm9udC1zaXplOiAxN3B4O1xcbiAgbGluZS1oZWlnaHQ6IDEuMzU7XFxuICB0ZXh0LWFsaWduOiBpbmxpbmUtc3RhcnQ7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1BZGRGaWxlcy10aXRsZSB7XFxuICBtYXgtd2lkdGg6IDQ4MHB4O1xcbiAgcGFkZGluZzogMCAzNXB4O1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gIGZvbnQtc2l6ZTogMjFweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuW2RhdGEtdXBweS1udW0tYWNxdWlyZXJzPVxcXCIwXFxcIl0gLnVwcHktRGFzaGJvYXJkLUFkZEZpbGVzLXRpdGxlIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtQWRkRmlsZXMtdGl0bGUge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcbi51cHB5LURhc2hib2FyZC1BZGRGaWxlcy10aXRsZSBidXR0b24ge1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUFkZEZpbGVzLXRpdGxlIGJ1dHRvbiB7XFxuICBmb250LXdlaWdodDogNDAwO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtbm90ZSB7XFxuICBtYXgtd2lkdGg6IDM1MHB4O1xcbiAgbWFyZ2luOiBhdXRvO1xcbiAgcGFkZGluZzogMCAxNXB4O1xcbiAgY29sb3I6ICM3NTc1NzU7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBsaW5lLWhlaWdodDogMS4yNTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLW5vdGUge1xcbiAgbWF4LXdpZHRoOiA2MDBweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjM1O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1ub3RlIHtcXG4gIGNvbG9yOiAjY2ZjZmNmO1xcbn1cXG5cXG5hLnVwcHktRGFzaGJvYXJkLXBvd2VyZWRCeSB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXJnaW4tdG9wOiA4cHg7XFxuICBjb2xvcjogIzkzOTM5MztcXG4gIGZvbnQtc2l6ZTogMTFweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLXBvd2VyZWRCeUljb24ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdG9wOiAxcHg7XFxuICBtYXJnaW4tcmlnaHQ6IDFweDtcXG4gIG1hcmdpbi1sZWZ0OiAxcHg7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC10b3A7XFxuICBvcGFjaXR5OiAwLjk7XFxuICBmaWxsOiBub25lO1xcbiAgc3Ryb2tlOiAjOTM5MzkzO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3SWNvbiB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDUwJTtcXG4gIGxlZnQ6IDUwJTtcXG4gIHotaW5kZXg6IDEwMDtcXG4gIHdpZHRoOiAyNXB4O1xcbiAgaGVpZ2h0OiAyNXB4O1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdJY29uIHtcXG4gIHdpZHRoOiAzOHB4O1xcbiAgaGVpZ2h0OiAzOHB4O1xcbn1cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3SWNvbiBzdmcge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcbi51cHB5LURhc2hib2FyZC0tc2luZ2xlRmlsZSAudXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3SWNvbiB7XFxuICB3aWR0aDogOTBweDtcXG4gIGhlaWdodDogOTBweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0ljb25XcmFwIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGhlaWdodDogNzZweDtcXG4gIG1heC1oZWlnaHQ6IDc1JTtcXG59XFxuLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlIC51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdJY29uV3JhcCB7XFxuICBoZWlnaHQ6IDE3NnB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3SWNvbkJnIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgZmlsdGVyOiBkcm9wLXNoYWRvdyhyZ2JhKDAsIDAsIDAsIDAuMSkgMCAxcHggMXB4KTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLXVwbG9hZCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB3aWR0aDogNTBweDtcXG4gIGhlaWdodDogNTBweDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLXVwbG9hZCB7XFxuICB3aWR0aDogNjBweDtcXG4gIGhlaWdodDogNjBweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLXVwbG9hZCAudXBweS1jLWljb24ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdG9wOiAxcHg7XFxuICB3aWR0aDogNTAlO1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1EYXNoYm9hcmQtdXBsb2FkQ291bnR7XFxuICByaWdodDogLTEycHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZC11cGxvYWRDb3VudHtcXG4gIGxlZnQ6IC0xMnB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtdXBsb2FkQ291bnQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAtMTJweDtcXG4gIHdpZHRoOiAxNnB4O1xcbiAgaGVpZ2h0OiAxNnB4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBmb250LXNpemU6IDhweDtcXG4gIGxpbmUtaGVpZ2h0OiAxNnB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFiYjI0MDtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLXVwbG9hZENvdW50IHtcXG4gIHdpZHRoOiAxOHB4O1xcbiAgaGVpZ2h0OiAxOHB4O1xcbiAgZm9udC1zaXplOiA5cHg7XFxuICBsaW5lLWhlaWdodDogMThweDtcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL0B1cHB5L2Rhc2hib2FyZC9kaXN0L3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQSxnQkFBZ0I7QUFDaEI7RUFDRSxrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLFlBQVk7RUFDWixPQUFPO0VBQ1AsYUFBYTtF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QUNaLFVBQVU7RUFDVixlQUFlO0FBQ2pCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixTQUFTO0VBQ1QsWUFBWTtFQUNaLFdBQVc7RUFDWCxZQUFZO0VBQ1osZ0NBQWdDO0FBQ2xDO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsWUFBWTtBQUNkO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsWUFBWTtBQUNkO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsWUFBWTtBQUNkOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixlQUFlO0FBQ2pCO0FBQ0E7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLGlEQUFpRDtBQUNuRDs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsWUFBWTtBQUNkO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsWUFBWTtBQUNkOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixVQUFVO0FBQ1o7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsVUFBVTtFQUNWLFdBQVc7RUFDWCxZQUFZO0VBQ1osV0FBVztFQUNYLGNBQWM7RUFDZCxpQkFBaUI7RUFDakIseUJBQXlCO0VBQ3pCLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixjQUFjO0VBQ2QsaUJBQWlCO0FBQ25CXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBjaGFyc2V0IFxcXCJVVEYtOFxcXCI7XFxuLnVwcHktSW5mb3JtZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDYwcHg7XFxuICBsZWZ0OiAwO1xcbiAgei1pbmRleDogMTAwNTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLnVwcHktSW5mb3JtZXIgc3BhbiA+IGRpdiB7XFxuICBtYXJnaW4tYm90dG9tOiA2cHg7XFxufVxcblxcbi51cHB5LUluZm9ybWVyLWFuaW1hdGVkIHtcXG4gIHotaW5kZXg6IC0xMDAwO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDM1MCUpO1xcbiAgb3BhY2l0eTogMDtcXG4gIHRyYW5zaXRpb246IGFsbCAzMDBtcyBlYXNlLWluO1xcbn1cXG5cXG4udXBweS1JbmZvcm1lciBwIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIG1heC13aWR0aDogOTAlO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIHBhZGRpbmc6IDZweCAxNXB4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuNDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM3NTc1NzU7XFxuICBib3JkZXItcmFkaXVzOiAxOHB4O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1JbmZvcm1lciBwIHtcXG4gIG1heC13aWR0aDogNTAwcHg7XFxuICBwYWRkaW5nOiAxMHB4IDIwcHg7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBsaW5lLWhlaWdodDogMS4zO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LUluZm9ybWVyIHAge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktSW5mb3JtZXIgcCBzcGFue1xcbiAgbGVmdDogM3B4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1JbmZvcm1lciBwIHNwYW57XFxuICByaWdodDogM3B4O1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1JbmZvcm1lciBwIHNwYW57XFxuICBtYXJnaW4tbGVmdDogLTFweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktSW5mb3JtZXIgcCBzcGFue1xcbiAgbWFyZ2luLXJpZ2h0OiAtMXB4O1xcbn1cXG5cXG4udXBweS1JbmZvcm1lciBwIHNwYW4ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdG9wOiAtMXB4O1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDEzcHg7XFxuICBoZWlnaHQ6IDEzcHg7XFxuICBjb2xvcjogIzUyNTI1MjtcXG4gIGZvbnQtc2l6ZTogMTBweDtcXG4gIGxpbmUtaGVpZ2h0OiAxMnB4O1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxufVxcblxcbi51cHB5LUluZm9ybWVyIHAgc3Bhbjpob3ZlciB7XFxuICBjdXJzb3I6IGhlbHA7XFxufVxcblxcbi51cHB5LUluZm9ybWVyIHAgc3Bhbjo6YWZ0ZXIge1xcbiAgbGluZS1oZWlnaHQ6IDEuMztcXG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcXG59XFxuXFxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbiAgTWljcm90aXBcXG5cXG4gIE1vZGVybiwgbGlnaHR3ZWlnaHQgY3NzLW9ubHkgdG9vbHRpcHNcXG4gIEp1c3QgMWtiIG1pbmlmaWVkIGFuZCBnemlwcGVkXFxuXFxuICBAYXV0aG9yIEdob3NoXFxuICBAcGFja2FnZSBNaWNyb3RpcFxcblxcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIDEuIEJhc2UgU3R5bGVzXFxuICAyLiBEaXJlY3Rpb24gTW9kaWZpZXJzXFxuICAzLiBQb3NpdGlvbiBNb2RpZmllcnNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbiAgWzFdIEJhc2UgU3R5bGVzXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xcbi51cHB5LVJvb3QgW2FyaWEtbGFiZWxdW3JvbGV+PXRvb2x0aXBdIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLnVwcHktUm9vdCBbYXJpYS1sYWJlbF1bcm9sZX49dG9vbHRpcF06OmJlZm9yZSxcXG4udXBweS1Sb290IFthcmlhLWxhYmVsXVtyb2xlfj10b29sdGlwXTo6YWZ0ZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTA7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcXG4gIHRyYW5zZm9ybS1vcmlnaW46IHRvcDtcXG4gIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgb3BhY2l0eTogMDtcXG4gIHRyYW5zaXRpb246IGFsbCB2YXIoLS1taWNyb3RpcC10cmFuc2l0aW9uLWR1cmF0aW9uLCAwLjE4cykgdmFyKC0tbWljcm90aXAtdHJhbnNpdGlvbi1lYXNpbmcsIGVhc2UtaW4tb3V0KSB2YXIoLS1taWNyb3RpcC10cmFuc2l0aW9uLWRlbGF5LCAwcyk7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07XFxufVxcblxcbi51cHB5LVJvb3QgW2FyaWEtbGFiZWxdW3JvbGV+PXRvb2x0aXBdOjpiZWZvcmUge1xcbiAgYmFja2dyb3VuZC1zaXplOiAxMDAlIGF1dG8gIWltcG9ydGFudDtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbn1cXG5cXG4udXBweS1Sb290IFthcmlhLWxhYmVsXVtyb2xlfj10b29sdGlwXTo6YWZ0ZXIge1xcbiAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICBwYWRkaW5nOiAwLjVlbSAxZW07XFxuICBjb2xvcjogI2ZmZjtcXG4gIGZvbnQtd2VpZ2h0OiB2YXIoLS1taWNyb3RpcC1mb250LXdlaWdodCwgbm9ybWFsKTtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tbWljcm90aXAtZm9udC1zaXplLCAxM3B4KTtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LXRyYW5zZm9ybTogdmFyKC0tbWljcm90aXAtdGV4dC10cmFuc2Zvcm0sIG5vbmUpO1xcbiAgYmFja2dyb3VuZDogcmdiYSgxNywgMTcsIDE3LCAwLjkpO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgY29udGVudDogYXR0cihhcmlhLWxhYmVsKTtcXG59XFxuXFxuLnVwcHktUm9vdCBbYXJpYS1sYWJlbF1bcm9sZX49dG9vbHRpcF06aG92ZXI6OmJlZm9yZSxcXG4udXBweS1Sb290IFthcmlhLWxhYmVsXVtyb2xlfj10b29sdGlwXTpob3Zlcjo6YWZ0ZXIsXFxuLnVwcHktUm9vdCBbYXJpYS1sYWJlbF1bcm9sZX49dG9vbHRpcF06Zm9jdXM6OmJlZm9yZSxcXG4udXBweS1Sb290IFthcmlhLWxhYmVsXVtyb2xlfj10b29sdGlwXTpmb2N1czo6YWZ0ZXIge1xcbiAgb3BhY2l0eTogMTtcXG4gIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xcbn1cXG5cXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIFsyXSBQb3NpdGlvbiBNb2RpZmllcnNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbnw9dG9wXTo6YmVmb3JlIHtcXG4gIGJvdHRvbTogMTAwJTtcXG4gIGxlZnQ6IDUwJTtcXG4gIHdpZHRoOiAxOHB4O1xcbiAgaGVpZ2h0OiA2cHg7XFxuICBtYXJnaW4tYm90dG9tOiA1cHg7XFxuICBiYWNrZ3JvdW5kOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQS8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyMiUyMHdpZHRoJTNEJTIyMzZweCUyMiUyMGhlaWdodCUzRCUyMjEycHglMjIlM0UlM0NwYXRoJTIwZmlsbCUzRCUyMnJnYmElMjgxNywlMjAxNywlMjAxNywlMjAwLjklMjklMjIlMjB0cmFuc2Zvcm0lM0QlMjJyb3RhdGUlMjgwJTI5JTIyJTIwZCUzRCUyMk0yLjY1OCwwLjAwMCUyMEMtMTMuNjE1LDAuMDAwJTIwNTAuOTM4LDAuMDAwJTIwMzQuNjYyLDAuMDAwJTIwQzI4LjY2MiwwLjAwMCUyMDIzLjAzNSwxMi4wMDIlMjAxOC42NjAsMTIuMDAyJTIwQzE0LjI4NSwxMi4wMDIlMjA4LjU5NCwwLjAwMCUyMDIuNjU4LDAuMDAwJTIwWiUyMi8lM0UlM0Mvc3ZnJTNFXFxcIikgbm8tcmVwZWF0O1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNTAlLCAwLCAwKTtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbnw9dG9wXTo6YWZ0ZXIge1xcbiAgYm90dG9tOiAxMDAlO1xcbiAgbGVmdDogNTAlO1xcbiAgbWFyZ2luLWJvdHRvbTogMTFweDtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTUwJSwgMCwgMCk7XFxufVxcblxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb258PXRvcF06aG92ZXI6OmJlZm9yZSB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC01cHgsIDApO1xcbn1cXG5cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9uPXRvcF06aG92ZXI6OmFmdGVyIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTUwJSwgLTVweCwgMCk7XFxufVxcblxcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbiAgWzIuMV0gVG9wIExlZnRcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj10b3AtbGVmdF06OmFmdGVyIHtcXG4gIGJvdHRvbTogMTAwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoY2FsYygtMTAwJSArIDE2cHgpLCAwLCAwKTtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj10b3AtbGVmdF06aG92ZXI6OmFmdGVyIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoY2FsYygtMTAwJSArIDE2cHgpLCAtNXB4LCAwKTtcXG59XFxuXFxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuICBbMi4yXSBUb3AgUmlnaHRcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj10b3AtcmlnaHRdOjphZnRlciB7XFxuICBib3R0b206IDEwMCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKGNhbGMoMCUgLSAxNnB4KSwgMCwgMCk7XFxufVxcblxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249dG9wLXJpZ2h0XTpob3Zlcjo6YWZ0ZXIge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZChjYWxjKDAlIC0gMTZweCksIC01cHgsIDApO1xcbn1cXG5cXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIFsyLjNdIEJvdHRvbVxcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9ufD1ib3R0b21dOjpiZWZvcmUge1xcbiAgdG9wOiAxMDAlO1xcbiAgYm90dG9tOiBhdXRvO1xcbiAgbGVmdDogNTAlO1xcbiAgd2lkdGg6IDE4cHg7XFxuICBoZWlnaHQ6IDZweDtcXG4gIG1hcmdpbi10b3A6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDA7XFxuICBiYWNrZ3JvdW5kOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQS8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyMiUyMHdpZHRoJTNEJTIyMzZweCUyMiUyMGhlaWdodCUzRCUyMjEycHglMjIlM0UlM0NwYXRoJTIwZmlsbCUzRCUyMnJnYmElMjgxNywlMjAxNywlMjAxNywlMjAwLjklMjklMjIlMjB0cmFuc2Zvcm0lM0QlMjJyb3RhdGUlMjgxODAlMjAxOCUyMDYlMjklMjIlMjBkJTNEJTIyTTIuNjU4LDAuMDAwJTIwQy0xMy42MTUsMC4wMDAlMjA1MC45MzgsMC4wMDAlMjAzNC42NjIsMC4wMDAlMjBDMjguNjYyLDAuMDAwJTIwMjMuMDM1LDEyLjAwMiUyMDE4LjY2MCwxMi4wMDIlMjBDMTQuMjg1LDEyLjAwMiUyMDguNTk0LDAuMDAwJTIwMi42NTgsMC4wMDAlMjBaJTIyLyUzRSUzQy9zdmclM0VcXFwiKSBuby1yZXBlYXQ7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC0xMHB4LCAwKTtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbnw9Ym90dG9tXTo6YWZ0ZXIge1xcbiAgdG9wOiAxMDAlO1xcbiAgbGVmdDogNTAlO1xcbiAgbWFyZ2luLXRvcDogMTFweDtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTUwJSwgLTEwcHgsIDApO1xcbn1cXG5cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9ufD1ib3R0b21dOmhvdmVyOjpiZWZvcmUge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNTAlLCAwLCAwKTtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj1ib3R0b21dOmhvdmVyOjphZnRlciB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIDAsIDApO1xcbn1cXG5cXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIFsyLjRdIEJvdHRvbSBMZWZ0XFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249Ym90dG9tLWxlZnRdOjphZnRlciB7XFxuICB0b3A6IDEwMCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKGNhbGMoLTEwMCUgKyAxNnB4KSwgLTEwcHgsIDApO1xcbn1cXG5cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9uPWJvdHRvbS1sZWZ0XTpob3Zlcjo6YWZ0ZXIge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZChjYWxjKC0xMDAlICsgMTZweCksIDAsIDApO1xcbn1cXG5cXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIFsyLjVdIEJvdHRvbSBSaWdodFxcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9uPWJvdHRvbS1yaWdodF06OmFmdGVyIHtcXG4gIHRvcDogMTAwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoY2FsYygwJSAtIDE2cHgpLCAtMTBweCwgMCk7XFxufVxcblxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249Ym90dG9tLXJpZ2h0XTpob3Zlcjo6YWZ0ZXIge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZChjYWxjKDAlIC0gMTZweCksIDAsIDApO1xcbn1cXG5cXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIFsyLjZdIExlZnRcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj1sZWZ0XTo6YmVmb3JlLFxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249bGVmdF06OmFmdGVyIHtcXG4gIHRvcDogNTAlO1xcbiAgcmlnaHQ6IDEwMCU7XFxuICBib3R0b206IGF1dG87XFxuICBsZWZ0OiBhdXRvO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMHB4LCAtNTAlLCAwKTtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj1sZWZ0XTo6YmVmb3JlIHtcXG4gIHdpZHRoOiA2cHg7XFxuICBoZWlnaHQ6IDE4cHg7XFxuICBtYXJnaW4tcmlnaHQ6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDA7XFxuICBiYWNrZ3JvdW5kOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyUyMHhtbG5zJTNEJTIyaHR0cCUzQS8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyMiUyMHdpZHRoJTNEJTIyMTJweCUyMiUyMGhlaWdodCUzRCUyMjM2cHglMjIlM0UlM0NwYXRoJTIwZmlsbCUzRCUyMnJnYmElMjgxNywlMjAxNywlMjAxNywlMjAwLjklMjklMjIlMjB0cmFuc2Zvcm0lM0QlMjJyb3RhdGUlMjgtOTAlMjAxOCUyMDE4JTI5JTIyJTIwZCUzRCUyMk0yLjY1OCwwLjAwMCUyMEMtMTMuNjE1LDAuMDAwJTIwNTAuOTM4LDAuMDAwJTIwMzQuNjYyLDAuMDAwJTIwQzI4LjY2MiwwLjAwMCUyMDIzLjAzNSwxMi4wMDIlMjAxOC42NjAsMTIuMDAyJTIwQzE0LjI4NSwxMi4wMDIlMjA4LjU5NCwwLjAwMCUyMDIuNjU4LDAuMDAwJTIwWiUyMi8lM0UlM0Mvc3ZnJTNFXFxcIikgbm8tcmVwZWF0O1xcbn1cXG5cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9uPWxlZnRdOjphZnRlciB7XFxuICBtYXJnaW4tcmlnaHQ6IDExcHg7XFxufVxcblxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249bGVmdF06aG92ZXI6OmJlZm9yZSxcXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9uPWxlZnRdOmhvdmVyOjphZnRlciB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC01MCUsIDApO1xcbn1cXG5cXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4gIFsyLjddIFJpZ2h0XFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249cmlnaHRdOjpiZWZvcmUsXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj1yaWdodF06OmFmdGVyIHtcXG4gIHRvcDogNTAlO1xcbiAgYm90dG9tOiBhdXRvO1xcbiAgbGVmdDogMTAwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwcHgsIC01MCUsIDApO1xcbn1cXG5cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9uPXJpZ2h0XTo6YmVmb3JlIHtcXG4gIHdpZHRoOiA2cHg7XFxuICBoZWlnaHQ6IDE4cHg7XFxuICBtYXJnaW4tYm90dG9tOiAwO1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG4gIGJhY2tncm91bmQ6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBLy93d3cudzMub3JnLzIwMDAvc3ZnJTIyJTIwd2lkdGglM0QlMjIxMnB4JTIyJTIwaGVpZ2h0JTNEJTIyMzZweCUyMiUzRSUzQ3BhdGglMjBmaWxsJTNEJTIycmdiYSUyODE3LCUyMDE3LCUyMDE3LCUyMDAuOSUyOSUyMiUyMHRyYW5zZm9ybSUzRCUyMnJvdGF0ZSUyODkwJTIwNiUyMDYlMjklMjIlMjBkJTNEJTIyTTIuNjU4LDAuMDAwJTIwQy0xMy42MTUsMC4wMDAlMjA1MC45MzgsMC4wMDAlMjAzNC42NjIsMC4wMDAlMjBDMjguNjYyLDAuMDAwJTIwMjMuMDM1LDEyLjAwMiUyMDE4LjY2MCwxMi4wMDIlMjBDMTQuMjg1LDEyLjAwMiUyMDguNTk0LDAuMDAwJTIwMi42NTgsMC4wMDAlMjBaJTIyLyUzRSUzQy9zdmclM0VcXFwiKSBuby1yZXBlYXQ7XFxufVxcblxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtcG9zaXRpb249cmlnaHRdOjphZnRlciB7XFxuICBtYXJnaW4tbGVmdDogMTFweDtcXG59XFxuXFxuLnVwcHktUm9vdCBbcm9sZX49dG9vbHRpcF1bZGF0YS1taWNyb3RpcC1wb3NpdGlvbj1yaWdodF06aG92ZXI6OmJlZm9yZSxcXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXBvc2l0aW9uPXJpZ2h0XTpob3Zlcjo6YWZ0ZXIge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtNTAlLCAwKTtcXG59XFxuXFxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuICBbM10gU2l6ZVxcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXNpemU9c21hbGxdOjphZnRlciB7XFxuICB3aWR0aDogODBweDtcXG4gIHdoaXRlLXNwYWNlOiBpbml0aWFsO1xcbn1cXG5cXG4udXBweS1Sb290IFtyb2xlfj10b29sdGlwXVtkYXRhLW1pY3JvdGlwLXNpemU9bWVkaXVtXTo6YWZ0ZXIge1xcbiAgd2lkdGg6IDE1MHB4O1xcbiAgd2hpdGUtc3BhY2U6IGluaXRpYWw7XFxufVxcblxcbi51cHB5LVJvb3QgW3JvbGV+PXRvb2x0aXBdW2RhdGEtbWljcm90aXAtc2l6ZT1sYXJnZV06OmFmdGVyIHtcXG4gIHdpZHRoOiAyNjBweDtcXG4gIHdoaXRlLXNwYWNlOiBpbml0aWFsO1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogMTAwMTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBoZWlnaHQ6IDQ2cHg7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICBmb250LXNpemU6IDEycHg7XFxuICBsaW5lLWhlaWdodDogNDBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICB0cmFuc2l0aW9uOiBoZWlnaHQgMC4ycztcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyOjpiZWZvcmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDJweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlYWVhZWE7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXI6OmJlZm9yZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzU3NTc1O1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXJbYXJpYS1oaWRkZW49dHJ1ZV0ge1xcbiAgaGVpZ2h0OiAwO1xcbiAgb3ZlcmZsb3cteTogaGlkZGVuO1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXIuaXMtY29tcGxldGUgLnVwcHktU3RhdHVzQmFyLXByb2dyZXNzIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxYmIyNDA7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci5pcy1lcnJvciAudXBweS1TdGF0dXNCYXItcHJvZ3Jlc3Mge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2UzMjQzNztcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLmlzLWNvbXBsZXRlIC51cHB5LVN0YXR1c0Jhci1zdGF0dXNJbmRpY2F0b3Ige1xcbiAgY29sb3I6ICMxYmIyNDA7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci5pcy1lcnJvciAudXBweS1TdGF0dXNCYXItc3RhdHVzSW5kaWNhdG9yIHtcXG4gIGNvbG9yOiAjZTMyNDM3O1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXI6bm90KFthcmlhLWhpZGRlbj10cnVlXSkuaXMtd2FpdGluZyB7XFxuICBoZWlnaHQ6IDY1cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlYWVhZWE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU3RhdHVzQmFyOm5vdChbYXJpYS1oaWRkZW49dHJ1ZV0pLmlzLXdhaXRpbmcge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMzMzO1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXItcHJvZ3Jlc3Mge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTAwMTtcXG4gIGhlaWdodDogMnB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIyNzVkNztcXG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IsIHdpZHRoIDAuM3MgZWFzZS1vdXQ7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1wcm9ncmVzcy5pcy1pbmRldGVybWluYXRlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgcmdiYSgwLCAwLCAwLCAwLjMpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMCwgMCwgMCwgMC4zKSA1MCUsIHJnYmEoMCwgMCwgMCwgMC4zKSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpO1xcbiAgYmFja2dyb3VuZC1zaXplOiA2NHB4IDY0cHg7XFxuICBhbmltYXRpb246IHVwcHktU3RhdHVzQmFyLVByb2dyZXNzU3RyaXBlcyAxcyBsaW5lYXIgaW5maW5pdGU7XFxufVxcblxcbkBrZXlmcmFtZXMgdXBweS1TdGF0dXNCYXItUHJvZ3Jlc3NTdHJpcGVzIHtcXG4gIGZyb20ge1xcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDA7XFxuICB9XFxuICB0byB7XFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDY0cHggMDtcXG4gIH1cXG59XFxuLnVwcHktU3RhdHVzQmFyLmlzLXByZXByb2Nlc3NpbmcgLnVwcHktU3RhdHVzQmFyLXByb2dyZXNzLFxcbi51cHB5LVN0YXR1c0Jhci5pcy1wb3N0cHJvY2Vzc2luZyAudXBweS1TdGF0dXNCYXItcHJvZ3Jlc3Mge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y2YTYyMztcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLmlzLXdhaXRpbmcgLnVwcHktU3RhdHVzQmFyLXByb2dyZXNzIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVN0YXR1c0Jhci1jb250ZW50e1xcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1TdGF0dXNCYXItY29udGVudHtcXG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci1jb250ZW50IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHotaW5kZXg6IDEwMDI7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGNvbG9yOiAjMzMzO1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbn1cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1zaXplLS1tZCAudXBweS1TdGF0dXNCYXItY29udGVudHtcXG4gIHBhZGRpbmctbGVmdDogMTVweDtcXG59XFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktc2l6ZS0tbWQgLnVwcHktU3RhdHVzQmFyLWNvbnRlbnR7XFxuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci1jb250ZW50IHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1TdGF0dXNCYXItc3RhdHVze1xcbiAgcGFkZGluZy1yaWdodDogMC4zZW07XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVN0YXR1c0Jhci1zdGF0dXN7XFxuICBwYWRkaW5nLWxlZnQ6IDAuM2VtO1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXItc3RhdHVzIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgbGluZS1oZWlnaHQ6IDEuNDtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLXN0YXR1c1ByaW1hcnkge1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgZGlzcGxheTogZmxleDtcXG59XFxuLnVwcHktU3RhdHVzQmFyLXN0YXR1c1ByaW1hcnkgYnV0dG9uLnVwcHktU3RhdHVzQmFyLWRldGFpbHMge1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXItc3RhdHVzUHJpbWFyeSB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLXN0YXR1c1NlY29uZGFyeSB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXJnaW4tdG9wOiAxcHg7XFxuICBjb2xvcjogIzc1NzU3NTtcXG4gIGZvbnQtc2l6ZTogMTFweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjI7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci1zdGF0dXNTZWNvbmRhcnkge1xcbiAgY29sb3I6ICNiYmI7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVN0YXR1c0Jhci1zdGF0dXNTZWNvbmRhcnlIaW50e1xcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVN0YXR1c0Jhci1zdGF0dXNTZWNvbmRhcnlIaW50e1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLXN0YXR1c1NlY29uZGFyeUhpbnQge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbn1cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1zaXplLS1tZCAudXBweS1TdGF0dXNCYXItc3RhdHVzU2Vjb25kYXJ5SGludHtcXG4gIG1hcmdpbi1yaWdodDogOHB4O1xcbn1cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1zaXplLS1tZCAudXBweS1TdGF0dXNCYXItc3RhdHVzU2Vjb25kYXJ5SGludHtcXG4gIG1hcmdpbi1sZWZ0OiA4cHg7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVN0YXR1c0Jhci1zdGF0dXNJbmRpY2F0b3J7XFxuICBtYXJnaW4tcmlnaHQ6IDdweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktU3RhdHVzQmFyLXN0YXR1c0luZGljYXRvcntcXG4gIG1hcmdpbi1sZWZ0OiA3cHg7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci1zdGF0dXNJbmRpY2F0b3Ige1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdG9wOiAxcHg7XFxuICBjb2xvcjogIzUyNTI1MjtcXG59XFxuLnVwcHktU3RhdHVzQmFyLXN0YXR1c0luZGljYXRvciBzdmcge1xcbiAgdmVydGljYWwtYWxpZ246IHRleHQtYm90dG9tO1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1TdGF0dXNCYXItYWN0aW9uc3tcXG4gIHJpZ2h0OiAxMHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1TdGF0dXNCYXItYWN0aW9uc3tcXG4gIGxlZnQ6IDEwcHg7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25zIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIHotaW5kZXg6IDEwMDQ7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLmlzLXdhaXRpbmcgLnVwcHktU3RhdHVzQmFyLWFjdGlvbnMge1xcbiAgcG9zaXRpb246IHN0YXRpYztcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgcGFkZGluZzogMCAxNXB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXIuaXMtd2FpdGluZyAudXBweS1TdGF0dXNCYXItYWN0aW9ucyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWYxZjFmO1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXI6bm90KFthcmlhLWhpZGRlbj10cnVlXSkuaXMtd2FpdGluZy5oYXMtZ2hvc3RzIHtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBoZWlnaHQ6IDkwcHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LVN0YXR1c0Jhcjpub3QoW2FyaWEtaGlkZGVuPXRydWVdKS5pcy13YWl0aW5nLmhhcy1naG9zdHMge1xcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gIGhlaWdodDogNjVweDtcXG59XFxuLnVwcHktU3RhdHVzQmFyOm5vdChbYXJpYS1oaWRkZW49dHJ1ZV0pLmlzLXdhaXRpbmcuaGFzLWdob3N0cyAudXBweS1TdGF0dXNCYXItYWN0aW9ucyB7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LVN0YXR1c0Jhcjpub3QoW2FyaWEtaGlkZGVuPXRydWVdKS5pcy13YWl0aW5nLmhhcy1naG9zdHMgLnVwcHktU3RhdHVzQmFyLWFjdGlvbnMge1xcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gIGp1c3RpZnktY29udGVudDogaW5pdGlhbDtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkNpcmNsZUJ0biB7XFxuICBtYXJnaW46IDNweDtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgb3BhY2l0eTogMC45O1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQ2lyY2xlQnRuOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25DaXJjbGVCdG46Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQ2lyY2xlQnRuOmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM0LCAxMTcsIDIxNSwgMC41KTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXItYWN0aW9uQ2lyY2xlQnRuOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkNpcmNsZUJ0bjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkNpcmNsZUJ0bjpmb2N1cyB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSgxNzAsIDIyNSwgMjU1LCAwLjg1KTtcXG59XFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkNpcmNsZUJ0bjpob3ZlciB7XFxuICBvcGFjaXR5OiAxO1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQ2lyY2xlQnRuOmZvY3VzIHtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkNpcmNsZUJ0biBzdmcge1xcbiAgdmVydGljYWwtYWxpZ246IGJvdHRvbTtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0biB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBjb2xvcjogIzIyNzVkNztcXG4gIGZvbnQtc2l6ZTogMTBweDtcXG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0biB7XFxuICBmb250LXNpemU6IDExcHg7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLWRpc2FibGVkIHtcXG4gIG9wYWNpdHk6IDAuNDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1kaXNhYmxlZCB7XFxuICBvcGFjaXR5OiAwLjc7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXJldHJ5e1xcbiAgbWFyZ2luLXJpZ2h0OiA2cHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXJldHJ5e1xcbiAgbWFyZ2luLWxlZnQ6IDZweDtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tcmV0cnkge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiAxNnB4O1xcbiAgcGFkZGluZzogMXB4IDZweCAzcHggMThweDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY0YjIzO1xcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1yZXRyeTpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1yZXRyeTo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXJldHJ5OmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM0LCAxMTcsIDIxNSwgMC41KTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1yZXRyeTpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXJldHJ5OjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1yZXRyeTpmb2N1cyB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSgxNzAsIDIyNSwgMjU1LCAwLjg1KTtcXG59XFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tcmV0cnk6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5MmQwMDtcXG59XFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tcmV0cnkgc3Zne1xcbiAgbGVmdDogNnB4O1xcbn1cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1yZXRyeSBzdmd7XFxuICByaWdodDogNnB4O1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1yZXRyeSBzdmcge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAzcHg7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci5pcy13YWl0aW5nIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZCB7XFxuICB3aWR0aDogMTAwJTtcXG4gIHBhZGRpbmc6IDE1cHggMTBweDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWJiMjQwO1xcbn1cXG4udXBweS1TdGF0dXNCYXIuaXMtd2FpdGluZyAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWQ6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE4OWMzODtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXIuaXMtd2FpdGluZyAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFjOGIzNztcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXIuaXMtd2FpdGluZyAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWQ6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE4NzYyZjtcXG59XFxuXFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktU3RhdHVzQmFyLmlzLXdhaXRpbmcgLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tdXBsb2FkIHtcXG4gIHdpZHRoOiBhdXRvO1xcbiAgcGFkZGluZzogMTNweCAyMnB4O1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXIuaXMtd2FpdGluZyAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWQudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1kaXNhYmxlZDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWJiMjQwO1xcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcXG59XFxuXFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXIuaXMtd2FpdGluZyAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWQudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1kaXNhYmxlZDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWM4YjM3O1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXI6bm90KC5pcy13YWl0aW5nKSAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWQge1xcbiAgY29sb3I6ICMyMjc1ZDc7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tdXBsb2FkTmV3bHlBZGRlZHtcXG4gIHBhZGRpbmctcmlnaHQ6IDNweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tdXBsb2FkTmV3bHlBZGRlZHtcXG4gIHBhZGRpbmctbGVmdDogM3B4O1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWROZXdseUFkZGVke1xcbiAgcGFkZGluZy1sZWZ0OiAzcHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZE5ld2x5QWRkZWR7XFxuICBwYWRkaW5nLXJpZ2h0OiAzcHg7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZE5ld2x5QWRkZWQge1xcbiAgcGFkZGluZy1ib3R0b206IDFweDtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG59XFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tdXBsb2FkTmV3bHlBZGRlZDpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWROZXdseUFkZGVkOjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tdXBsb2FkTmV3bHlBZGRlZDpmb2N1cyB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgzNCwgMTE3LCAyMTUsIDAuNSk7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tdXBsb2FkTmV3bHlBZGRlZDpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZE5ld2x5QWRkZWQ6Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZE5ld2x5QWRkZWQ6Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogMCAwIDAgMnB4IHJnYmEoMTcwLCAyMjUsIDI1NSwgMC44NSk7XFxufVxcbi51cHB5LVN0YXR1c0Jhci5pcy1wcmVwcm9jZXNzaW5nIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZE5ld2x5QWRkZWQsIC51cHB5LVN0YXR1c0Jhci5pcy1wb3N0cHJvY2Vzc2luZyAudXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWROZXdseUFkZGVkIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLWRvbmUge1xcbiAgcGFkZGluZzogN3B4IDhweDtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1kb25lOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLWRvbmU6Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1kb25lOmhvdmVyIHtcXG4gIGNvbG9yOiAjMWI1ZGFiO1xcbn1cXG4udXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS1kb25lOmZvY3VzIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkZmU2ZjE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tZG9uZTpmb2N1cyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLWRvbmUge1xcbiAgY29sb3I6ICMwMmJhZjI7XFxufVxcblxcbi51cHB5LXNpemUtLW1kIC51cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLWRvbmUge1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXItc2VydmljZU1zZyB7XFxuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XFxuICBjb2xvcjogIzAwMDtcXG4gIGZvbnQtc2l6ZTogMTFweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjE7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LVN0YXR1c0Jhci1zZXJ2aWNlTXNnIHtcXG4gIHBhZGRpbmctbGVmdDogMTVweDtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TdGF0dXNCYXItc2VydmljZU1zZyB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLXNlcnZpY2VNc2ctZ2hvc3RzSWNvbiB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0b3A6IDJweDtcXG4gIGxlZnQ6IDZweDtcXG4gIHdpZHRoOiAxMHB4O1xcbiAgdmVydGljYWwtYWxpZ246IHRleHQtYm90dG9tO1xcbiAgb3BhY2l0eTogMC41O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1TdGF0dXNCYXItc2VydmljZU1zZy1naG9zdHNJY29uIHtcXG4gIHRvcDogMXB4O1xcbiAgbGVmdDogMTBweDtcXG4gIHdpZHRoOiAxNXB4O1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1TdGF0dXNCYXItZGV0YWlsc3tcXG4gIGxlZnQ6IDJweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktU3RhdHVzQmFyLWRldGFpbHN7XFxuICByaWdodDogMnB4O1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXItZGV0YWlscyB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0b3A6IDA7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogMTNweDtcXG4gIGhlaWdodDogMTNweDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgZm9udC13ZWlnaHQ6IDYwMDtcXG4gIGZvbnQtc2l6ZTogMTBweDtcXG4gIGxpbmUtaGVpZ2h0OiAxMnB4O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM5MzkzOTM7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBjdXJzb3I6IGhlbHA7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAgICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7XFxufVxcblxcbi51cHB5LVN0YXR1c0Jhci1kZXRhaWxzOjphZnRlciB7XFxuICBsaW5lLWhlaWdodDogMS4zO1xcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1TdGF0dXNCYXItc3Bpbm5lcntcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktU3RhdHVzQmFyLXNwaW5uZXJ7XFxuICBtYXJnaW4tbGVmdDogMTBweDtcXG59XFxuXFxuLnVwcHktU3RhdHVzQmFyLXNwaW5uZXIge1xcbiAgYW5pbWF0aW9uLW5hbWU6IHVwcHktU3RhdHVzQmFyLXNwaW5uZXJBbmltYXRpb247XFxuICBhbmltYXRpb24tZHVyYXRpb246IDFzO1xcbiAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogbGluZWFyO1xcbiAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGU7XFxuICBmaWxsOiAjMjI3NWQ3O1xcbn1cXG5cXG4udXBweS1TdGF0dXNCYXIuaXMtcHJlcHJvY2Vzc2luZyAudXBweS1TdGF0dXNCYXItc3Bpbm5lcixcXG4udXBweS1TdGF0dXNCYXIuaXMtcG9zdHByb2Nlc3NpbmcgLnVwcHktU3RhdHVzQmFyLXNwaW5uZXIge1xcbiAgZmlsbDogI2Y2YTYyMztcXG59XFxuXFxuQGtleWZyYW1lcyB1cHB5LVN0YXR1c0Jhci1zcGlubmVyQW5pbWF0aW9uIHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICB9XFxuICAxMDAlIHtcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcXG4gIH1cXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIHVsLnVwcHktUHJvdmlkZXJCcm93c2VyLWxpc3QsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCB1bC51cHB5LVByb3ZpZGVyQnJvd3Nlci1saXN0IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxuICBwYWRkaW5nOiA2cHg7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCB1bC51cHB5LVByb3ZpZGVyQnJvd3Nlci1saXN0OjphZnRlcixcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIHVsLnVwcHktUHJvdmlkZXJCcm93c2VyLWxpc3Q6OmFmdGVyIHtcXG4gIGZsZXg6IGF1dG87XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbSxcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB3aWR0aDogNTAlO1xcbiAgbWFyZ2luOiAwO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLFxcbi51cHB5LXNpemUtLW1kIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtIHtcXG4gIHdpZHRoOiAzMy4zMzMzJTtcXG59XFxuLnVwcHktc2l6ZS0tbGcgLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbSxcXG4udXBweS1zaXplLS1sZyAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbSB7XFxuICB3aWR0aDogMjUlO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtOjpiZWZvcmUsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW06OmJlZm9yZSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHBhZGRpbmctdG9wOiAxMDAlO1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tLXNlbGVjdGVkIGltZyxcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLS1zZWxlY3RlZCBzdmcsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tLXNlbGVjdGVkIGltZyxcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS0tc2VsZWN0ZWQgc3ZnIHtcXG4gIG9wYWNpdHk6IDAuODU7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tLWRpc2FibGVkLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLS1kaXNhYmxlZCB7XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tLW5vUHJldmlldyAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLS1ub1ByZXZpZXcgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE0NywgMTQ3LCAxNDcsIDAuMik7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS0tbm9QcmV2aWV3IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIsXFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIGxpLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS0tbm9QcmV2aWV3IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMzQsIDIzNCwgMjM0LCAwLjIpO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLS1ub1ByZXZpZXcgc3ZnLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLS1ub1ByZXZpZXcgc3ZnIHtcXG4gIHdpZHRoOiAzMCU7XFxuICBoZWlnaHQ6IDMwJTtcXG4gIGZpbGw6IHJnYmEoMCwgMCwgMCwgMC43KTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLS1ub1ByZXZpZXcgc3ZnLFxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tLW5vUHJldmlldyBzdmcge1xcbiAgZmlsbDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lcixcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA3cHg7XFxuICByaWdodDogN3B4O1xcbiAgYm90dG9tOiA3cHg7XFxuICBsZWZ0OiA3cHg7XFxuICB3aWR0aDogY2FsYygxMDAlIC0gMTRweCk7XFxuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDE0cHgpO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG59XFxuQG1lZGlhIChob3Zlcjogbm9uZSkge1xcbiAgLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1hdXRob3IsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS11bnNwbGFzaCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tYXV0aG9yIHtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICB9XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIsXFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIge1xcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMTcwLCAyMjUsIDI1NSwgMC43KTtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIgaW1nLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lciBpbWcge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBvYmplY3QtZml0OiBjb3ZlcjtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tYXV0aG9yLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1hdXRob3Ige1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4zKTtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxuICBmb250LXNpemU6IDEycHg7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiA1cHg7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWF1dGhvcjpob3ZlcixcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tYXV0aG9yOmhvdmVyIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC40KTtcXG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveCxcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3gge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAxNnB4O1xcbiAgcmlnaHQ6IDE2cHg7XFxuICB6LWluZGV4OiAxMDAyO1xcbiAgd2lkdGg6IDI2cHg7XFxuICBoZWlnaHQ6IDI2cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjI3NWQ3O1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgb3BhY2l0eTogMDtcXG59XFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3g6OmFmdGVyLFtkaXI9XFxcImx0clxcXCJdIFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveDo6YWZ0ZXJ7XFxuICBsZWZ0OiA3cHg7XFxufVxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tZ3JpZCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94OjphZnRlcixbZGlyPVxcXCJydGxcXFwiXSBcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3g6OmFmdGVye1xcbiAgcmlnaHQ6IDdweDtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3g6OmFmdGVyLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveDo6YWZ0ZXIge1xcbiAgdG9wOiA4cHg7XFxuICB3aWR0aDogMTJweDtcXG4gIGhlaWdodDogN3B4O1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0taXMtY2hlY2tlZCxcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3gtLWlzLWNoZWNrZWQge1xcbiAgb3BhY2l0eTogMTtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3gtLWdyaWQ6aG92ZXIgKyBsYWJlbCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWF1dGhvcixcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0tZ3JpZDpmb2N1cyArIGxhYmVsIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tYXV0aG9yLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0tZ3JpZDpob3ZlciArIGxhYmVsIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tYXV0aG9yLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0tZ3JpZDpmb2N1cyArIGxhYmVsIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tYXV0aG9yIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0tZ3JpZDpmb2N1cyArIGxhYmVsLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0tZ3JpZDpmb2N1cyArIGxhYmVsIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM0LCAxMTcsIDIxNSwgMC41KTtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1ncmlkIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3gtLWdyaWQ6Zm9jdXMgKyBsYWJlbDpmb2N1cyxcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLXVuc3BsYXNoIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3gtLWdyaWQ6Zm9jdXMgKyBsYWJlbDpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWdyaWQgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0tZ3JpZDpmb2N1cyArIGxhYmVsOjotbW96LWZvY3VzLWlubmVyLFxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tdW5zcGxhc2ggLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0tZ3JpZDpmb2N1cyArIGxhYmVsOjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjFmMWY7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCBsaS51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiA3cHggMTVweDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtIHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgbGkudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLS1kaXNhYmxlZCB7XFxuICBvcGFjaXR5OiAwLjY7XFxufVxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94e1xcbiAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xcbn1cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveHtcXG4gIG1hcmdpbi1sZWZ0OiAxNXB4O1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveCB7XFxuICB3aWR0aDogMTdweDtcXG4gIGhlaWdodDogMTdweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjY2ZjZmNmO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveDpmb2N1cyB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjMjI3NWQ3O1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM0LCAxMTcsIDIxNSwgMC4yNSk7XFxufVxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94OjphZnRlcntcXG4gIGxlZnQ6IDNweDtcXG59XFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3g6OmFmdGVye1xcbiAgcmlnaHQ6IDNweDtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3g6OmFmdGVyIHtcXG4gIHRvcDogNHB4O1xcbiAgd2lkdGg6IDlweDtcXG4gIGhlaWdodDogNXB4O1xcbiAgb3BhY2l0eTogMDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveDpmb2N1cyB7XFxuICBib3JkZXItY29sb3I6IHJnYmEoMiwgMTg2LCAyNDIsIDAuNyk7XFxuICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgyLCAxODYsIDI0MiwgMC4yKTtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3gtLWlzLWNoZWNrZWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIyNzVkNztcXG4gIGJvcmRlci1jb2xvcjogIzIyNzVkNztcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3gtLWlzLWNoZWNrZWQ6OmFmdGVyIHtcXG4gIG9wYWNpdHk6IDE7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgcGFkZGluZzogMnB4O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXI6Zm9jdXMge1xcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lciBpbWcsW2Rpcj1cXFwibHRyXFxcIl0gXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIgc3Zne1xcbiAgbWFyZ2luLXJpZ2h0OiA4cHg7XFxufVxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyIGltZyxbZGlyPVxcXCJydGxcXFwiXSBcXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lciBzdmd7XFxuICBtYXJnaW4tbGVmdDogOHB4O1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pbm5lciBpbWcsXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIgc3ZnIHtcXG4gIG1heC13aWR0aDogMjBweDtcXG4gIG1heC1oZWlnaHQ6IDIwcHg7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyIHNwYW4ge1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGxpbmUtaGVpZ2h0OiAxLjI7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci12aWV3VHlwZS0tbGlzdCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLS1kaXNhYmxlZCAudXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyIHtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taWNvbldyYXB7XFxuICBtYXJnaW4tcmlnaHQ6IDdweDtcXG59XFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS1saXN0IC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taWNvbldyYXB7XFxuICBtYXJnaW4tbGVmdDogN3B4O1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdmlld1R5cGUtLWxpc3QgLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pY29uV3JhcCB7XFxuICB3aWR0aDogMjBweDtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBmbGV4LXNocmluazogMDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveDpkaXNhYmxlZCB7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3g6OmFmdGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZWFlYWVhO1xcbiAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAjZWFlYWVhO1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbn1cXG4udXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94OmRpc2FibGVkOjphZnRlciB7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWYxZjFmO1xcbiAgYm9yZGVyLWNvbG9yOiAjOTM5MzkzO1xcbn1cXG5cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3gtLWlzLWNoZWNrZWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG59XFxuXFxuLnVwcHktU2VhcmNoUHJvdmlkZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXg6IDE7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU2VhcmNoUHJvdmlkZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG59XFxuXFxuLnVwcHktU2VhcmNoUHJvdmlkZXItaW5wdXQge1xcbiAgd2lkdGg6IDkwJTtcXG4gIG1heC13aWR0aDogNjUwcHg7XFxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1TZWFyY2hQcm92aWRlci1pbnB1dCB7XFxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xcbn1cXG4udXBweS1TZWFyY2hQcm92aWRlci1pbnB1dDo6LXdlYmtpdC1zZWFyY2gtY2FuY2VsLWJ1dHRvbiB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4udXBweS1TZWFyY2hQcm92aWRlci1zZWFyY2hCdXR0b24ge1xcbiAgcGFkZGluZzogMTNweCAyNXB4O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1TZWFyY2hQcm92aWRlci1zZWFyY2hCdXR0b24ge1xcbiAgcGFkZGluZzogMTNweCAzMHB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRDb250ZW50LXBhbmVsQm9keSB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleDogMTtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmRDb250ZW50LXBhbmVsQm9keSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWYxZjFmO1xcbn1cXG5cXG4udXBweS1Qcm92aWRlci1hdXRoLFxcbi51cHB5LVByb3ZpZGVyLWVycm9yLFxcbi51cHB5LVByb3ZpZGVyLWxvYWRpbmcsXFxuLnVwcHktUHJvdmlkZXItZW1wdHkge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXg6IDE7XFxuICBmbGV4LWZsb3c6IGNvbHVtbiB3cmFwO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgY29sb3I6ICM5MzkzOTM7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyLWVtcHR5IHtcXG4gIGNvbG9yOiAjOTM5MzkzO1xcbn1cXG5cXG4udXBweS1Qcm92aWRlci1hdXRoSWNvbiBzdmcge1xcbiAgd2lkdGg6IDEwMHB4O1xcbiAgaGVpZ2h0OiA3NXB4O1xcbn1cXG5cXG4udXBweS1Qcm92aWRlci1hdXRoVGl0bGUge1xcbiAgbWF4LXdpZHRoOiA1MDBweDtcXG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XFxuICBwYWRkaW5nOiAwIDE1cHg7XFxuICBjb2xvcjogIzc1NzU3NTtcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICBmb250LXNpemU6IDE3cHg7XFxuICBsaW5lLWhlaWdodDogMS40O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1Qcm92aWRlci1hdXRoVGl0bGUge1xcbiAgZm9udC1zaXplOiAyMHB4O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyLWF1dGhUaXRsZSB7XFxuICBjb2xvcjogI2NmY2ZjZjtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXItYnRuLWdvb2dsZSB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHBhZGRpbmc6IDhweCAxMnB4ICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kOiAjNDI4NUY0O1xcbn1cXG4udXBweS1Qcm92aWRlci1idG4tZ29vZ2xlOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxMjY2ZjE7XFxufVxcbi51cHB5LVByb3ZpZGVyLWJ0bi1nb29nbGU6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDY2LCAxMzMsIDI0NCwgMC40KTtcXG59XFxuLnVwcHktUHJvdmlkZXItYnRuLWdvb2dsZSBzdmcge1xcbiAgbWFyZ2luLXJpZ2h0OiA4cHg7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVByb3ZpZGVyLWJyZWFkY3J1bWJze1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnN7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnMge1xcbiAgZmxleDogMTtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxuICBjb2xvcjogIzUyNTI1MjtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnMge1xcbiAgbWFyZ2luLWJvdHRvbTogMDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlci1icmVhZGNydW1icyB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnNJY29ue1xcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVByb3ZpZGVyLWJyZWFkY3J1bWJzSWNvbntcXG4gIG1hcmdpbi1sZWZ0OiA0cHg7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyLWJyZWFkY3J1bWJzSWNvbiB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBjb2xvcjogIzUyNTI1MjtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnNJY29uIHN2ZyB7XFxuICB3aWR0aDogMTNweDtcXG4gIGhlaWdodDogMTNweDtcXG4gIGZpbGw6ICM1MjUyNTI7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyLWJyZWFkY3J1bWJzIGJ1dHRvbiB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBwYWRkaW5nOiA0cHg7XFxuICBsaW5lLWhlaWdodDogaW5oZXJpdDtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG59XFxuLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnMgYnV0dG9uOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LVByb3ZpZGVyLWJyZWFkY3J1bWJzIGJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbi51cHB5LVByb3ZpZGVyLWJyZWFkY3J1bWJzIGJ1dHRvbjpob3ZlciB7XFxuICBjb2xvcjogIzFiNWRhYjtcXG59XFxuLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnMgYnV0dG9uOmZvY3VzIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkZmU2ZjE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnMgYnV0dG9uOmZvY3VzIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XFxufVxcbi51cHB5LVByb3ZpZGVyLWJyZWFkY3J1bWJzIGJ1dHRvbjpub3QoOmxhc3Qtb2YtdHlwZSkge1xcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxufVxcbi51cHB5LVByb3ZpZGVyLWJyZWFkY3J1bWJzIGJ1dHRvbjpsYXN0LW9mLXR5cGUge1xcbiAgY29sb3I6ICMzMzM7XFxuICBmb250LXdlaWdodDogNTAwO1xcbiAgY3Vyc29yOiBub3JtYWw7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuLnVwcHktUHJvdmlkZXItYnJlYWRjcnVtYnMgYnV0dG9uOmhvdmVyIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlci1icmVhZGNydW1icyBidXR0b24ge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3NlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleDogMTtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbn1cXG5cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdXNlciB7XFxuICBtYXJnaW46IDAgOHB4IDAgMDtcXG4gIGNvbG9yOiAjMzMzO1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Qcm92aWRlckJyb3dzZXItdXNlciB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXVzZXI6OmFmdGVye1xcbiAgbGVmdDogNHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItdXNlcjo6YWZ0ZXJ7XFxuICByaWdodDogNHB4O1xcbn1cXG5cXG4udXBweS1Qcm92aWRlckJyb3dzZXItdXNlcjo6YWZ0ZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgY29sb3I6ICM5MzkzOTM7XFxuICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgY29udGVudDogXFxcIsK3XFxcIjtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLWhlYWRlciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB6LWluZGV4OiAxMDAxO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlYWVhZWE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VyLWhlYWRlciB7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzMzMztcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLWhlYWRlckJhciB7XFxuICB6LWluZGV4OiAxMDAxO1xcbiAgcGFkZGluZzogN3B4IDE1cHg7XFxuICBjb2xvcjogIzc1NzU3NTtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1Qcm92aWRlckJyb3dzZXItaGVhZGVyQmFyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci1oZWFkZXJCYXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLWhlYWRlckJhci0tc2ltcGxlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1oZWFkZXJCYXItLXNpbXBsZSAudXBweS1Qcm92aWRlci1icmVhZGNydW1ic1dyYXAge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgZmxleDogbm9uZTtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMzBweDtcXG4gIHBhZGRpbmctbGVmdDogOHB4O1xcbiAgcGFkZGluZy1yaWdodDogOHB4O1xcbiAgbWFyZ2luLXRvcDogMTVweDtcXG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJJbnB1dHtcXG4gIHBhZGRpbmctbGVmdDogMzBweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlcklucHV0e1xcbiAgcGFkZGluZy1yaWdodDogMzBweDtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlcklucHV0e1xcbiAgcGFkZGluZy1yaWdodDogMzBweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlcklucHV0e1xcbiAgcGFkZGluZy1sZWZ0OiAzMHB4O1xcbn1cXG5cXG4udXBweS1Qcm92aWRlckJyb3dzZXItc2VhcmNoRmlsdGVySW5wdXQge1xcbiAgei1pbmRleDogMTAwMTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAzMHB4O1xcbiAgZm9udC1zaXplOiAxM3B4O1xcbiAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIHN5c3RlbS11aSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcXFwiU2Vnb2UgVUlcXFwiLCBcXFwiU2Vnb2UgVUkgU3ltYm9sXFxcIiwgXFxcIlNlZ29lIFVJIEVtb2ppXFxcIiwgXFxcIkFwcGxlIENvbG9yIEVtb2ppXFxcIiwgUm9ib3RvLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xcbiAgbGluZS1oZWlnaHQ6IDEuNDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlYWVhZWE7XFxuICBib3JkZXI6IDA7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBvdXRsaW5lOiAwO1xcbiAgY29sb3I6ICMzMzM7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJJbnB1dDo6LXdlYmtpdC1zZWFyY2gtY2FuY2VsLWJ1dHRvbiB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJJbnB1dCB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjFmMWY7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJJbnB1dDpmb2N1cyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2ZjZmNmO1xcbiAgYm9yZGVyOiAwO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJJbnB1dDpmb2N1cyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1Qcm92aWRlckJyb3dzZXItc2VhcmNoRmlsdGVySWNvbntcXG4gIGxlZnQ6IDE2cHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJJY29ue1xcbiAgcmlnaHQ6IDE2cHg7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJJY29uIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDEwMDI7XFxuICB3aWR0aDogMTJweDtcXG4gIGhlaWdodDogMTJweDtcXG4gIGNvbG9yOiAjNzU3NTc1O1xcbn1cXG5cXG4udXBweS1Qcm92aWRlckJyb3dzZXItc2VhcmNoRmlsdGVySW5wdXQ6OnBsYWNlaG9sZGVyIHtcXG4gIGNvbG9yOiAjOTM5MzkzO1xcbiAgb3BhY2l0eTogMTtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlclJlc2V0e1xcbiAgcmlnaHQ6IDE2cHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJSZXNldHtcXG4gIGxlZnQ6IDE2cHg7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJSZXNldCB7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiAxMDAyO1xcbiAgd2lkdGg6IDIycHg7XFxuICBoZWlnaHQ6IDIycHg7XFxuICBwYWRkaW5nOiA2cHg7XFxuICBjb2xvcjogIzkzOTM5MztcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlclJlc2V0OmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJSZXNldDo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJSZXNldDpmb2N1cyB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgzNCwgMTE3LCAyMTUsIDAuNSk7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1zZWFyY2hGaWx0ZXJSZXNldDpob3ZlciB7XFxuICBjb2xvcjogIzc1NzU3NTtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlclJlc2V0IHN2ZyB7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC10b3A7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci11c2VyTG9nb3V0IHtcXG4gIHBhZGRpbmc6IDRweDtcXG4gIGNvbG9yOiAjMjI3NWQ3O1xcbiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci11c2VyTG9nb3V0OmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci11c2VyTG9nb3V0OjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXVzZXJMb2dvdXQ6aG92ZXIge1xcbiAgY29sb3I6ICMxYjVkYWI7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci11c2VyTG9nb3V0OmZvY3VzIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkZmU2ZjE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VyLXVzZXJMb2dvdXQ6Zm9jdXMge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG59XFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLXVzZXJMb2dvdXQ6aG92ZXIge1xcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktUHJvdmlkZXJCcm93c2VyLXVzZXJMb2dvdXQge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1ib2R5IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGZsZXg6IDE7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1saXN0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgZmxleDogMTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxuICBsaXN0LXN0eWxlOiBub25lO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGJvcmRlci1zcGFjaW5nOiAwO1xcbiAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci1saXN0IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjFmMWY7XFxufVxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlci1saXN0OmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcblxcbi51cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXIge1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGZvbnQtc2l6ZTogMTNweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLnVwcHktUHJvdmlkZXJCcm93c2VyLWZvb3RlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGhlaWdodDogNjVweDtcXG4gIHBhZGRpbmc6IDAgMTVweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2VhZWFlYTtcXG59XFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLWZvb3RlciBidXR0b257XFxuICBtYXJnaW4tcmlnaHQ6IDhweDtcXG59XFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktUHJvdmlkZXJCcm93c2VyLWZvb3RlciBidXR0b257XFxuICBtYXJnaW4tbGVmdDogOHB4O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVByb3ZpZGVyQnJvd3Nlci1mb290ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMzMzO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3SW5uZXJXcmFwIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgYm94LXNoYWRvdzogMCAwIDJweCAwIHJnYmEoMCwgMCwgMCwgMC40KTtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0lubmVyV3JhcCB7XFxuICBib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0lubmVyV3JhcDo6YWZ0ZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgei1pbmRleDogMTAwMTtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNjUpO1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdMaW5rIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIHotaW5kZXg6IDEwMDI7XFxufVxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdMaW5rOmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDNweCAjNzZhYmU5O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdMaW5rOmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDNweCAjMDE2YzhkO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3IGltZy51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdJbWcge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBvYmplY3QtZml0OiBjb3ZlcjtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3Mge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA1MCU7XFxuICBsZWZ0OiA1MCU7XFxuICB6LWluZGV4OiAxMDAyO1xcbiAgd2lkdGg6IDEyMHB4O1xcbiAgY29sb3I6ICNmZmY7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjM1IGVhc2U7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSW5kaWNhdG9yIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHdpZHRoOiAzOHB4O1xcbiAgaGVpZ2h0OiAzOHB4O1xcbiAgb3BhY2l0eTogMC45O1xcbiAgY29sb3I6ICNmZmY7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSW5kaWNhdG9yIHtcXG4gIHdpZHRoOiA1NXB4O1xcbiAgaGVpZ2h0OiA1NXB4O1xcbn1cXG5cXG5idXR0b24udXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0luZGljYXRvciB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbmJ1dHRvbi51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSW5kaWNhdG9yOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbmJ1dHRvbi51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSW5kaWNhdG9yOjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuYnV0dG9uLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJbmRpY2F0b3I6Zm9jdXMgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJY29uLS1iZyxcXG5idXR0b24udXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0luZGljYXRvcjpmb2N1cyAudXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0ljb24tLXJldHJ5IHtcXG4gIGZpbGw6ICM3NmFiZTk7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSWNvbi0tY2lyY2xlIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0ljb24tLWJnIHtcXG4gIHN0cm9rZTogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQpO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0ljb24tLXByb2dyZXNzIHtcXG4gIHRyYW5zaXRpb246IHN0cm9rZS1kYXNob2Zmc2V0IDAuNXMgZWFzZS1vdXQ7XFxuICBzdHJva2U6ICNmZmY7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSWNvbi0tcGxheSB7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcXG4gIGZpbGw6ICNmZmY7XFxuICBzdHJva2U6ICNmZmY7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSWNvbi0tY2FuY2VsIHtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xcbiAgZmlsbDogI2ZmZjtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJY29uLS1wYXVzZSB7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcXG4gIGZpbGw6ICNmZmY7XFxuICBzdHJva2U6ICNmZmY7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSWNvbi0tY2hlY2sge1xcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XFxuICBmaWxsOiAjZmZmO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0ljb24tLXJldHJ5IHtcXG4gIGZpbGw6ICNmZmY7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LURhc2hib2FyZC1JdGVtLmlzLWNvbXBsZXRlIC51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNze1xcbiAgcmlnaHQ6IC04cHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZC1JdGVtLmlzLWNvbXBsZXRlIC51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNze1xcbiAgbGVmdDogLThweDtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktRGFzaGJvYXJkLUl0ZW0uaXMtY29tcGxldGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3N7XFxuICBsZWZ0OiBpbml0aWFsO1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1EYXNoYm9hcmQtSXRlbS5pcy1jb21wbGV0ZSAudXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc3tcXG4gIHJpZ2h0OiBpbml0aWFsO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS5pcy1jb21wbGV0ZSAudXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzcyB7XFxuICB0b3A6IC05cHg7XFxuICB3aWR0aDogYXV0bztcXG4gIHRyYW5zZm9ybTogaW5pdGlhbDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0uaXMtZXJyb3IgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJbmRpY2F0b3Ige1xcbiAgd2lkdGg6IDE4cHg7XFxuICBoZWlnaHQ6IDE4cHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLmlzLWVycm9yIC51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSW5kaWNhdG9yIHtcXG4gIHdpZHRoOiAyOHB4O1xcbiAgaGVpZ2h0OiAyOHB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS5pcy1jb21wbGV0ZSAudXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0luZGljYXRvciB7XFxuICB3aWR0aDogMThweDtcXG4gIGhlaWdodDogMThweDtcXG4gIG9wYWNpdHk6IDE7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLmlzLWNvbXBsZXRlIC51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSW5kaWNhdG9yIHtcXG4gIHdpZHRoOiAyMnB4O1xcbiAgaGVpZ2h0OiAyMnB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS5pcy1wcm9jZXNzaW5nIC51cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzIHtcXG4gIG9wYWNpdHk6IDA7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LURhc2hib2FyZC1JdGVtLWZpbGVJbmZve1xcbiAgcGFkZGluZy1yaWdodDogNXB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1EYXNoYm9hcmQtSXRlbS1maWxlSW5mb3tcXG4gIHBhZGRpbmctbGVmdDogNXB4O1xcbn1cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZUluZm97XFxuICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xcbn1cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZUluZm97XFxuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XFxufVxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LXNpemUtLW1kLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlIC51cHB5LURhc2hib2FyZC1JdGVtLWZpbGVJbmZve1xcbiAgcGFkZGluZy1yaWdodDogMTVweDtcXG59XFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktc2l6ZS0tbWQudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZUluZm97XFxuICBwYWRkaW5nLWxlZnQ6IDE1cHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLW5hbWUge1xcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjM7XFxuICB3b3JkLXdyYXA6IGFueXdoZXJlO1xcbiAgd29yZC1icmVhazogYnJlYWstYWxsO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1JdGVtLW5hbWUge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcbi51cHB5LXNpemUtLW1kLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlIC51cHB5LURhc2hib2FyZC1JdGVtLW5hbWUge1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuNDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZU5hbWUge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcXG59XFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZU5hbWUgYnV0dG9uIHtcXG4gIG1hcmdpbi1sZWZ0OiA1cHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLWF1dGhvciB7XFxuICBjb2xvcjogIzc1NzU3NTtcXG4gIHZlcnRpY2FsLWFsaWduOiBib3R0b207XFxuICBmb250LXNpemU6IDExcHg7XFxuICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBtYXJnaW4tYm90dG9tOiA1cHg7XFxufVxcbi51cHB5LURhc2hib2FyZC1JdGVtLWF1dGhvciBhIHtcXG4gIGNvbG9yOiAjNzU3NTc1O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1zdGF0dXMge1xcbiAgY29sb3I6ICM3NTc1NzU7XFxuICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgZm9udC1zaXplOiAxMXB4O1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLUl0ZW0tc3RhdHVzIHtcXG4gIGNvbG9yOiAjYmJiO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1zdGF0dXNTaXplIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1xcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1yZVNlbGVjdCB7XFxuICBjb2xvcjogIzIyNzVkNztcXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XFxuICBmb250LXNpemU6IGluaGVyaXQ7XFxuICBmb250LWZhbWlseTogaW5oZXJpdDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tZXJyb3JNZXNzYWdlIHtcXG4gIGZvbnQtc2l6ZTogMTFweDtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxuICBsaW5lLWhlaWdodDogMS4zO1xcbiAgY29sb3I6ICNhNTE1MjM7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmRlZmYxO1xcbiAgcGFkZGluZzogNXB4IDZweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tZXJyb3JNZXNzYWdlQnRuIHtcXG4gIGZvbnQtc2l6ZTogMTFweDtcXG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcbiAgY29sb3I6ICNhNTE1MjM7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBmb250LXdlaWdodDogNTAwO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3IC51cHB5LURhc2hib2FyZC1JdGVtLWVycm9yTWVzc2FnZSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3IC51cHB5LURhc2hib2FyZC1JdGVtLWVycm9yTWVzc2FnZSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZjdjMmM4O1xcbiAgcGFkZGluZzogNnB4IDhweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjQ7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAzcHg7XFxuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogM3B4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1maWxlSW5mbyAudXBweS1EYXNoYm9hcmQtSXRlbS1lcnJvck1lc3NhZ2Uge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgcG9zaXRpb246IHN0YXRpYztcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNmN2MyYzg7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLWZpbGVJbmZvIC51cHB5LURhc2hib2FyZC1JdGVtLWVycm9yTWVzc2FnZSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb24ge1xcbiAgY29sb3I6ICM5MzkzOTM7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbjpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb246Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb246Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMzQsIDExNywgMjE1LCAwLjUpO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb246aG92ZXIge1xcbiAgY29sb3I6ICMxZjFmMWY7XFxuICBvcGFjaXR5OiAxO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbiB7XFxuICBjb2xvcjogI2NmY2ZjZjtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb246Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb246Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbjpmb2N1cyB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSgxNzAsIDIyNSwgMjU1LCAwLjg1KTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb246aG92ZXIge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tcmVtb3ZlIHtcXG4gIGNvbG9yOiAjMWYxZjFmO1xcbiAgb3BhY2l0eTogMC45NTtcXG59XFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1yZW1vdmU6aG92ZXIge1xcbiAgY29sb3I6ICMwMDA7XFxuICBvcGFjaXR5OiAxO1xcbn1cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb24tLXJlbW92ZSxbZGlyPVxcXCJsdHJcXFwiXSAgLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tcmVtb3Zle1xcbiAgcmlnaHQ6IC04cHg7XFxufVxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tcmVtb3ZlLFtkaXI9XFxcInJ0bFxcXCJdICAudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1yZW1vdmV7XFxuICBsZWZ0OiAtOHB4O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb24tLXJlbW92ZSwgLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tcmVtb3ZlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogLThweDtcXG4gIHotaW5kZXg6IDEwMDI7XFxuICB3aWR0aDogMThweDtcXG4gIGhlaWdodDogMThweDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tcmVtb3ZlOmZvY3VzLCAudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1yZW1vdmU6Zm9jdXMge1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tcmVtb3ZlIHtcXG4gIGNvbG9yOiAjNTI1MjUyO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tcmVtb3ZlOmhvdmVyIHtcXG4gIGNvbG9yOiAjMzMzO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQ6bm90KC51cHB5LXNpemUtLW1kKTpub3QoLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlKSAudXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb25XcmFwcGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4udXBweS1EYXNoYm9hcmQ6bm90KC51cHB5LXNpemUtLW1kKTpub3QoLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlKSAudXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb24ge1xcbiAgd2lkdGg6IDIycHg7XFxuICBoZWlnaHQ6IDIycHg7XFxuICBtYXJnaW4tbGVmdDogM3B4O1xcbiAgcGFkZGluZzogM3B4O1xcbn1cXG4udXBweS1EYXNoYm9hcmQ6bm90KC51cHB5LXNpemUtLW1kKTpub3QoLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlKSAudXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb246Zm9jdXMge1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbn1cXG5cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb24tLWNvcHlMaW5rLFxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tZWRpdCB7XFxuICB3aWR0aDogMTZweDtcXG4gIGhlaWdodDogMTZweDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tY29weUxpbms6Zm9jdXMsXFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1lZGl0OmZvY3VzIHtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlYWVhZWE7XFxufVxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LURhc2hib2FyZDpub3QoLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlKSAudXBweS1EYXNoYm9hcmQtSXRlbXtcXG4gIHBhZGRpbmctcmlnaHQ6IDA7XFxufVxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZDpub3QoLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlKSAudXBweS1EYXNoYm9hcmQtSXRlbXtcXG4gIHBhZGRpbmctbGVmdDogMDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtSXRlbSB7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzMzMztcXG59XFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW17XFxuICBmbG9hdDogbGVmdDtcXG59XFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW17XFxuICBmbG9hdDogcmlnaHQ7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgLyogV2hlbiBjaGFuZ2luZyB3aWR0aDogYWxzbyB1cGRhdGUgYGl0ZW1zUGVyUm93YCB2YWx1ZXMgaW4gYHNyYy9jb21wb25lbnRzL0Rhc2hib2FyZC5qc2AuICovXFxuICB3aWR0aDogY2FsYygzMy4zMzMlIC0gMTVweCAtIDE1cHgpO1xcbiAgaGVpZ2h0OiAyMTVweDtcXG4gIG1hcmdpbjogNXB4IDE1cHg7XFxuICBwYWRkaW5nOiAwO1xcbiAgYm9yZGVyLWJvdHRvbTogMDtcXG59XFxuLnVwcHktc2l6ZS0tbGcgLnVwcHktRGFzaGJvYXJkLUl0ZW0ge1xcbiAgLyogV2hlbiBjaGFuZ2luZyB3aWR0aDogYWxzbyB1cGRhdGUgYGl0ZW1zUGVyUm93YCB2YWx1ZXMgaW4gYHNyYy9jb21wb25lbnRzL0Rhc2hib2FyZC5qc2AuICovXFxuICB3aWR0aDogY2FsYygyNSUgLSAxNXB4IC0gMTVweCk7XFxuICBoZWlnaHQ6IDE5MHB4O1xcbiAgbWFyZ2luOiA1cHggMTVweDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcbi51cHB5LXNpemUtLXhsIC51cHB5LURhc2hib2FyZC1JdGVtIHtcXG4gIC8qIFdoZW4gY2hhbmdpbmcgd2lkdGg6IGFsc28gdXBkYXRlIGBpdGVtc1BlclJvd2AgdmFsdWVzIGluIGBzcmMvY29tcG9uZW50cy9EYXNoYm9hcmQuanNgLiAqL1xcbiAgd2lkdGg6IGNhbGMoMjAlIC0gMTVweCAtIDE1cHgpO1xcbiAgaGVpZ2h0OiAyMTBweDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcbi51cHB5LURhc2hib2FyZC0tc2luZ2xlRmlsZSAudXBweS1EYXNoYm9hcmQtSXRlbSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWF4LXdpZHRoOiA0MDBweDtcXG4gIGhlaWdodDogYXV0bztcXG4gIGJvcmRlci1ib3R0b206IDA7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAxMHB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtSXRlbS5pcy1naG9zdCAudXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3SW5uZXJXcmFwIHtcXG4gIG9wYWNpdHk6IDAuMjtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0uaXMtZ2hvc3QgLnVwcHktRGFzaGJvYXJkLUl0ZW0tbmFtZSB7XFxuICBvcGFjaXR5OiAwLjc7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLmlzLWdob3N0IC51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXc6OmJlZm9yZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICB6LWluZGV4OiAxMDA1O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzM1JyBoZWlnaHQ9JzM5JyB2aWV3Qm94PScwIDAgMzUgMzknJTNFJTNDcGF0aCBkPSdNMS43MDggMzguNjZjMS43MDkgMCAzLjQxNy0zLjQxNyA2LjgzNC0zLjQxNyAzLjQxNiAwIDUuMTI1IDMuNDE3IDguNjEgMy40MTcgMy4zNDggMCA1LjA1Ni0zLjQxNyA4LjQ3My0zLjQxNyA0LjMwNSAwIDUuMTI1IDMuNDE3IDYuODMzIDMuNDE3Ljg4OSAwIDEuNzA5LS44ODkgMS43MDktMS43MDl2LTE5LjY4QzM0LjE2Ny01Ljc1NyAwLTUuNzU3IDAgMTcuMjcxdjE5LjY4YzAgLjgyLjg4OCAxLjcwOSAxLjcwOCAxLjcwOXptOC41NDItMTcuMDg0YTMuMzgzIDMuMzgzIDAgMDEtMy40MTctMy40MTYgMy4zODMgMy4zODMgMCAwMTMuNDE3LTMuNDE3IDMuMzgzIDMuMzgzIDAgMDEzLjQxNyAzLjQxNyAzLjM4MyAzLjM4MyAwIDAxLTMuNDE3IDMuNDE2em0xMy42NjcgMEEzLjM4MyAzLjM4MyAwIDAxMjAuNSAxOC4xNmEzLjM4MyAzLjM4MyAwIDAxMy40MTctMy40MTcgMy4zODMgMy4zODMgMCAwMTMuNDE2IDMuNDE3IDMuMzgzIDMuMzgzIDAgMDEtMy40MTYgMy40MTZ6JyBmaWxsPSclMjUyMzAwMCcgZmlsbC1ydWxlPSdub256ZXJvJy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogNTAlIDEwcHg7XFxuICBiYWNrZ3JvdW5kLXNpemU6IDI1cHg7XFxuICBvcGFjaXR5OiAwLjU7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW0uaXMtZ2hvc3QgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlldzo6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDUwJSA1MCU7XFxuICBiYWNrZ3JvdW5kLXNpemU6IDQwcHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXcge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4udXBweS1EYXNoYm9hcmQ6bm90KC51cHB5LXNpemUtLW1kKTpub3QoLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlKSAudXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3IHtcXG4gIGZsZXgtZ3JvdzogMDtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbiAgd2lkdGg6IDUwcHg7XFxuICBoZWlnaHQ6IDUwcHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXcge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDE0MHB4O1xcbn1cXG4udXBweS1zaXplLS1sZyAudXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3IHtcXG4gIGhlaWdodDogMTIwcHg7XFxufVxcbi51cHB5LXNpemUtLXhsIC51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXcge1xcbiAgaGVpZ2h0OiAxNDBweDtcXG59XFxuLnVwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlIC51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXcge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDI3MHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1EYXNoYm9hcmQtSXRlbS1maWxlSW5mb0FuZEJ1dHRvbnN7XFxuICBwYWRkaW5nLXJpZ2h0OiA4cHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZC1JdGVtLWZpbGVJbmZvQW5kQnV0dG9uc3tcXG4gIHBhZGRpbmctbGVmdDogOHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1EYXNoYm9hcmQtSXRlbS1maWxlSW5mb0FuZEJ1dHRvbnN7XFxuICBwYWRkaW5nLWxlZnQ6IDEycHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZC1JdGVtLWZpbGVJbmZvQW5kQnV0dG9uc3tcXG4gIHBhZGRpbmctcmlnaHQ6IDEycHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLWZpbGVJbmZvQW5kQnV0dG9ucyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1ncm93OiAxO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZUluZm9BbmRCdXR0b25zLCAudXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZUluZm9BbmRCdXR0b25zIHtcXG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBwYWRkaW5nOiAwO1xcbiAgcGFkZGluZy10b3A6IDlweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZUluZm8ge1xcbiAgZmxleC1ncm93OiAxO1xcbiAgZmxleC1zaHJpbms6IDE7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbldyYXBwZXIge1xcbiAgZmxleC1ncm93OiAwO1xcbiAgZmxleC1zaHJpbms6IDA7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLmlzLWlucHJvZ3Jlc3MgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0lubmVyV3JhcDo6YWZ0ZXIsXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0uaXMtZXJyb3IgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0lubmVyV3JhcDo6YWZ0ZXIge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLmlzLWlucHJvZ3Jlc3M6bm90KC5pcy1yZXN1bWFibGUpIC51cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tcmVtb3ZlIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LURhc2hib2FyZC1JdGVtLWVycm9yRGV0YWlsc3tcXG4gIGxlZnQ6IDJweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktRGFzaGJvYXJkLUl0ZW0tZXJyb3JEZXRhaWxze1xcbiAgcmlnaHQ6IDJweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tZXJyb3JEZXRhaWxzIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHRvcDogMDtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbiAgd2lkdGg6IDEzcHg7XFxuICBoZWlnaHQ6IDEzcHg7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XFxuICBmb250LXNpemU6IDEwcHg7XFxuICBsaW5lLWhlaWdodDogMTJweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM5MzkzOTM7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBib3JkZXI6IG5vbmU7XFxuICBjdXJzb3I6IGhlbHA7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAgICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLWVycm9yRGV0YWlsczo6YWZ0ZXIge1xcbiAgbGluZS1oZWlnaHQ6IDEuMztcXG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIHotaW5kZXg6IDEwMDU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIGJveC1zaGFkb3c6IDAgMCAxMHB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMSk7XFxufVxcbi51cHB5LURhc2hib2FyZC1GaWxlQ2FyZCAudXBweS1EYXNoYm9hcmRDb250ZW50LWJhciB7XFxuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiA1cHg7XFxuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNXB4O1xcbn1cXG4udXBweS1EYXNoYm9hcmQtRmlsZUNhcmQgLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWFjdGlvbnMge1xcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDVweDtcXG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDVweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWlubmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgZmxleC1ncm93OiAxO1xcbiAgZmxleC1zaHJpbms6IDE7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBtaW4taGVpZ2h0OiAwO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtcHJldmlldyB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1ncm93OiAwO1xcbiAgZmxleC1zaHJpbms6IDE7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBoZWlnaHQ6IDYwJTtcXG4gIG1pbi1oZWlnaHQ6IDA7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VhZWFlYTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtcHJldmlldyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcbiAgYm9yZGVyLWJvdHRvbTogMDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLXByZXZpZXcgaW1nLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0ltZyB7XFxuICBmbGV4OiAwIDAgYXV0bztcXG4gIG1heC13aWR0aDogOTAlO1xcbiAgbWF4LWhlaWdodDogOTAlO1xcbiAgb2JqZWN0LWZpdDogY292ZXI7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICBib3gtc2hhZG93OiAwIDNweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1lZGl0e1xcbiAgcmlnaHQ6IDEwcHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1lZGl0e1xcbiAgbGVmdDogMTBweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWVkaXQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAxMHB4O1xcbiAgcGFkZGluZzogN3B4IDE1cHg7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGZvbnQtc2l6ZTogMTNweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcXG4gIGJvcmRlci1yYWRpdXM6IDUwcHg7XFxufVxcbi51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1lZGl0OmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1lZGl0OjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWVkaXQ6Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMzQsIDExNywgMjE1LCAwLjUpO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtZWRpdDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuOCk7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1pbmZvIHtcXG4gIGZsZXgtZ3JvdzogMDtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbiAgaGVpZ2h0OiA0MCU7XFxuICBwYWRkaW5nOiAzMHB4IDIwcHggMjBweCAyMHB4O1xcbiAgb3ZlcmZsb3cteTogYXV0bztcXG4gIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtaW5mbyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWYxZjFmO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtZmllbGRzZXQge1xcbiAgbWF4LXdpZHRoOiA2NDBweDtcXG4gIG1hcmdpbjogYXV0bztcXG4gIG1hcmdpbi1ib3R0b206IDEycHg7XFxuICBwYWRkaW5nOiAwO1xcbiAgZm9udC1zaXplOiAwO1xcbiAgYm9yZGVyOiAwO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtbGFiZWwge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDIyJTtcXG4gIGNvbG9yOiAjNTI1MjUyO1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWxhYmVsIHtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtbGFiZWwge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1pbnB1dCB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogNzglO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWFjdGlvbnMge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZ3JvdzogMDtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGhlaWdodDogNTVweDtcXG4gIHBhZGRpbmc6IDAgMTVweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2VhZWFlYTtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWFjdGlvbnMge1xcbiAgaGVpZ2h0OiA2NXB4O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1hY3Rpb25zIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjFmMWY7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgIzMzMztcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWFjdGlvbnNCdG57XFxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XFxufVxcblxcbltkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1hY3Rpb25zQnRue1xcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XFxufVxcblxcbi51cHB5LXRyYW5zaXRpb24tc2xpZGVEb3duVXAtZW50ZXIge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMTA1JSwgMCk7XFxuICBvcGFjaXR5OiAwLjAxO1xcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMjVzIGVhc2UtaW4tb3V0LCBvcGFjaXR5IDAuMjVzIGVhc2UtaW4tb3V0O1xcbn1cXG5cXG4udXBweS10cmFuc2l0aW9uLXNsaWRlRG93blVwLWVudGVyLnVwcHktdHJhbnNpdGlvbi1zbGlkZURvd25VcC1lbnRlci1hY3RpdmUge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcXG4gIG9wYWNpdHk6IDE7XFxufVxcblxcbi51cHB5LXRyYW5zaXRpb24tc2xpZGVEb3duVXAtbGVhdmUge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcXG4gIG9wYWNpdHk6IDE7XFxuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4yNXMgZWFzZS1pbi1vdXQsIG9wYWNpdHkgMC4yNXMgZWFzZS1pbi1vdXQ7XFxufVxcblxcbi51cHB5LXRyYW5zaXRpb24tc2xpZGVEb3duVXAtbGVhdmUudXBweS10cmFuc2l0aW9uLXNsaWRlRG93blVwLWxlYXZlLWFjdGl2ZSB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0xMDUlLCAwKTtcXG4gIG9wYWNpdHk6IDAuMDE7XFxufVxcblxcbkBrZXlmcmFtZXMgdXBweS1EYXNoYm9hcmQtZmFkZUluIHtcXG4gIGZyb20ge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbiAgdG8ge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbn1cXG5Aa2V5ZnJhbWVzIHVwcHktRGFzaGJvYXJkLWZhZGVPdXQge1xcbiAgZnJvbSB7XFxuICAgIG9wYWNpdHk6IDE7XFxuICB9XFxuICB0byB7XFxuICAgIG9wYWNpdHk6IDA7XFxuICB9XFxufVxcbkBrZXlmcmFtZXMgdXBweS1EYXNoYm9hcmQtc2xpZGVEb3duQW5kRmFkZUluIHtcXG4gIGZyb20ge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC03MCUsIDApO1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbiAgdG8ge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC01MCUsIDApO1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbn1cXG5Aa2V5ZnJhbWVzIHVwcHktRGFzaGJvYXJkLXNsaWRlRG93bkFuZEZhZGVJbi0tc21hbGwge1xcbiAgZnJvbSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTIwJSwgMCk7XFxuICAgIG9wYWNpdHk6IDA7XFxuICB9XFxuICB0byB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XFxuICAgIG9wYWNpdHk6IDE7XFxuICB9XFxufVxcbkBrZXlmcmFtZXMgdXBweS1EYXNoYm9hcmQtc2xpZGVVcEZhZGVPdXQge1xcbiAgZnJvbSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTUwJSwgLTUwJSwgMCk7XFxuICAgIG9wYWNpdHk6IDE7XFxuICB9XFxuICB0byB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTUwJSwgLTcwJSwgMCk7XFxuICAgIG9wYWNpdHk6IDA7XFxuICB9XFxufVxcbkBrZXlmcmFtZXMgdXBweS1EYXNoYm9hcmQtc2xpZGVVcEZhZGVPdXQtLXNtYWxsIHtcXG4gIGZyb20ge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbiAgdG8ge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0yMCUsIDApO1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbn1cXG4udXBweS1EYXNoYm9hcmQtLW1vZGFsIHtcXG4gIHotaW5kZXg6IDEwMDE7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC0tbW9kYWxbYXJpYS1oaWRkZW49dHJ1ZV0ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLS1tb2RhbC51cHB5LURhc2hib2FyZC0tYW5pbWF0ZU9wZW5DbG9zZSA+IC51cHB5LURhc2hib2FyZC1pbm5lciB7XFxuICBhbmltYXRpb246IHVwcHktRGFzaGJvYXJkLXNsaWRlRG93bkFuZEZhZGVJbi0tc21hbGwgMC4zcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtcXG59XFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA4MjBweCkge1xcbiAgLnVwcHktRGFzaGJvYXJkLS1tb2RhbC51cHB5LURhc2hib2FyZC0tYW5pbWF0ZU9wZW5DbG9zZSA+IC51cHB5LURhc2hib2FyZC1pbm5lciB7XFxuICAgIGFuaW1hdGlvbjogdXBweS1EYXNoYm9hcmQtc2xpZGVEb3duQW5kRmFkZUluIDAuM3MgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSk7XFxuICB9XFxufVxcblxcbi51cHB5LURhc2hib2FyZC0tbW9kYWwudXBweS1EYXNoYm9hcmQtLWFuaW1hdGVPcGVuQ2xvc2UgPiAudXBweS1EYXNoYm9hcmQtb3ZlcmxheSB7XFxuICBhbmltYXRpb246IHVwcHktRGFzaGJvYXJkLWZhZGVJbiAwLjNzIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtLW1vZGFsLnVwcHktRGFzaGJvYXJkLS1hbmltYXRlT3BlbkNsb3NlLnVwcHktRGFzaGJvYXJkLS1pc0Nsb3NpbmcgPiAudXBweS1EYXNoYm9hcmQtaW5uZXIge1xcbiAgYW5pbWF0aW9uOiB1cHB5LURhc2hib2FyZC1zbGlkZVVwRmFkZU91dC0tc21hbGwgMC4zcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtcXG59XFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA4MjBweCkge1xcbiAgLnVwcHktRGFzaGJvYXJkLS1tb2RhbC51cHB5LURhc2hib2FyZC0tYW5pbWF0ZU9wZW5DbG9zZS51cHB5LURhc2hib2FyZC0taXNDbG9zaW5nID4gLnVwcHktRGFzaGJvYXJkLWlubmVyIHtcXG4gICAgYW5pbWF0aW9uOiB1cHB5LURhc2hib2FyZC1zbGlkZVVwRmFkZU91dCAwLjNzIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpO1xcbiAgfVxcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtLW1vZGFsLnVwcHktRGFzaGJvYXJkLS1hbmltYXRlT3BlbkNsb3NlLnVwcHktRGFzaGJvYXJkLS1pc0Nsb3NpbmcgPiAudXBweS1EYXNoYm9hcmQtb3ZlcmxheSB7XFxuICBhbmltYXRpb246IHVwcHktRGFzaGJvYXJkLWZhZGVPdXQgMC4zcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLWlzRml4ZWQge1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxufVxcblxcbi51cHB5LURhc2hib2FyZC0tbW9kYWwgLnVwcHktRGFzaGJvYXJkLW92ZXJsYXkge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgei1pbmRleDogMTAwMTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLWlubmVyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG1heC13aWR0aDogMTAwJTtcXG4gIG1heC1oZWlnaHQ6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjRmNGY0O1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2VhZWFlYTtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1pbm5lciB7XFxuICBtaW4taGVpZ2h0OiBhdXRvO1xcbn1cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDgyMHB4KSB7XFxuICAudXBweS1EYXNoYm9hcmQtaW5uZXIge1xcbiAgICB3aWR0aDogNjUwcHg7XFxuICAgIGhlaWdodDogNTAwcHg7XFxuICB9XFxufVxcbi51cHB5LURhc2hib2FyZC0tbW9kYWwgLnVwcHktRGFzaGJvYXJkLWlubmVyIHtcXG4gIHotaW5kZXg6IDEwMDI7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLWlubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjFmMWY7XFxufVxcbi51cHB5LURhc2hib2FyZC0taXNEaXNhYmxlZCAudXBweS1EYXNoYm9hcmQtaW5uZXIge1xcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLWlubmVyV3JhcCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICBvcGFjaXR5OiAwO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtLWlzSW5uZXJXcmFwVmlzaWJsZSAudXBweS1EYXNoYm9hcmQtaW5uZXJXcmFwIHtcXG4gIG9wYWNpdHk6IDE7XFxufVxcbi51cHB5LURhc2hib2FyZC0taXNEaXNhYmxlZCAudXBweS1EYXNoYm9hcmQtaW5uZXJXcmFwIHtcXG4gIG9wYWNpdHk6IDAuNjtcXG4gIGZpbHRlcjogZ3JheXNjYWxlKDEwMCUpO1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtLWlzRGlzYWJsZWQgLnVwcHktUHJvdmlkZXJJY29uQmcge1xcbiAgZmlsbDogIzlmOWY5ZjtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLS1pc0Rpc2FibGVkIFtkaXNhYmxlZF0sIC51cHB5LURhc2hib2FyZC0taXNEaXNhYmxlZCBbYXJpYS1kaXNhYmxlZF0ge1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtLW1vZGFsIC51cHB5LURhc2hib2FyZC1pbm5lciB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB0b3A6IDM1cHg7XFxuICByaWdodDogMTVweDtcXG4gIGJvdHRvbTogMTVweDtcXG4gIGxlZnQ6IDE1cHg7XFxuICBib3JkZXI6IG5vbmU7XFxufVxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogODIwcHgpIHtcXG4gIC51cHB5LURhc2hib2FyZC0tbW9kYWwgLnVwcHktRGFzaGJvYXJkLWlubmVyIHtcXG4gICAgdG9wOiA1MCU7XFxuICAgIHJpZ2h0OiBhdXRvO1xcbiAgICBsZWZ0OiA1MCU7XFxuICAgIGJveC1zaGFkb3c6IDAgNXB4IDE1cHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xcbiAgfVxcbn1cXG5cXG5bZGlyPVxcXCJsdHJcXFwiXSAudXBweS1EYXNoYm9hcmQtY2xvc2V7XFxuICByaWdodDogLTJweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktRGFzaGJvYXJkLWNsb3Nle1xcbiAgbGVmdDogLTJweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLWNsb3NlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogLTMzcHg7XFxuICB6LWluZGV4OiAxMDA1O1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpO1xcbiAgZm9udC1zaXplOiAyN3B4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtY2xvc2U6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLnVwcHktRGFzaGJvYXJkLWNsb3NlOjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuLnVwcHktRGFzaGJvYXJkLWNsb3NlOmZvY3VzIHtcXG4gIGNvbG9yOiAjOGNiOGVkO1xcbn1cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDgyMHB4KSB7XFxuICBbZGlyPVxcXCJsdHJcXFwiXSAudXBweS1EYXNoYm9hcmQtY2xvc2V7XFxuICAgIHJpZ2h0OiAtMzVweDtcXG4gIH1cXG4gIFtkaXI9XFxcInJ0bFxcXCJdIC51cHB5LURhc2hib2FyZC1jbG9zZXtcXG4gICAgbGVmdDogLTM1cHg7XFxuICB9XFxuICAudXBweS1EYXNoYm9hcmQtY2xvc2Uge1xcbiAgICB0b3A6IC0xMHB4O1xcbiAgICBmb250LXNpemU6IDM1cHg7XFxuICB9XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1zZXJ2aWNlTXNnIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHRvcDogLTFweDtcXG4gIHotaW5kZXg6IDEwMDQ7XFxuICBwYWRkaW5nOiAxMnB4IDA7XFxuICBmb250LXdlaWdodDogNTAwO1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuMztcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZiZjc7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2VkZDRiOTtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWRkNGI5O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtc2VydmljZU1zZyB7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBsaW5lLWhlaWdodDogMS40O1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1zZXJ2aWNlTXNnIHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMzMzO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzMzM7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1zZXJ2aWNlTXNnLXRpdGxlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xcbiAgcGFkZGluZy1sZWZ0OiA0MnB4O1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1zZXJ2aWNlTXNnLXRleHQge1xcbiAgcGFkZGluZzogMCAxNXB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtc2VydmljZU1zZy1hY3Rpb25CdG4ge1xcbiAgY29sb3I6ICMyMjc1ZDc7XFxuICBmb250LXdlaWdodDogaW5oZXJpdDtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIHZlcnRpY2FsLWFsaWduOiBpbml0aWFsO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1zZXJ2aWNlTXNnLWFjdGlvbkJ0biB7XFxuICBjb2xvcjogcmdiYSgyLCAxODYsIDI0MiwgMC45KTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLXNlcnZpY2VNc2ctaWNvbiB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDEwcHg7XFxuICBsZWZ0OiAxNXB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtQWRkRmlsZXMge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbltkYXRhLXVwcHktZHJhZy1kcm9wLXN1cHBvcnRlZD10cnVlXSAudXBweS1EYXNoYm9hcmQtQWRkRmlsZXMge1xcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAxNHB4KTtcXG4gIG1hcmdpbjogN3B4O1xcbiAgYm9yZGVyOiAxcHggZGFzaGVkICNkZmRmZGY7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxufVxcbi51cHB5LURhc2hib2FyZC1BZGRGaWxlc1BhbmVsIC51cHB5LURhc2hib2FyZC1BZGRGaWxlcyB7XFxuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDE0cHggLSA0MHB4KTtcXG4gIGJvcmRlcjogbm9uZTtcXG59XFxuLnVwcHktRGFzaGJvYXJkLS1tb2RhbCAudXBweS1EYXNoYm9hcmQtQWRkRmlsZXMge1xcbiAgYm9yZGVyLWNvbG9yOiAjY2ZjZmNmO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1BZGRGaWxlcyB7XFxuICBib3JkZXItY29sb3I6ICM3NTc1NzU7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1BZGRGaWxlcy1pbmZvIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBtYXJnaW4tdG9wOiBhdXRvO1xcbiAgcGFkZGluZy10b3A6IDE1cHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMTVweDtcXG59XFxuLnVwcHktc2l6ZS0taGVpZ2h0LW1kIC51cHB5LURhc2hib2FyZC1BZGRGaWxlcy1pbmZvIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtQWRkRmlsZXMtaW5mbyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMjVweDtcXG4gIGxlZnQ6IDA7XFxuICBwYWRkaW5nLXRvcDogMzBweDtcXG4gIHBhZGRpbmctYm90dG9tOiAwO1xcbn1cXG5bZGF0YS11cHB5LW51bS1hY3F1aXJlcnM9XFxcIjBcXFwiXSAudXBweS1EYXNoYm9hcmQtQWRkRmlsZXMtaW5mbyB7XFxuICBtYXJnaW4tdG9wOiAwO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtYnJvd3NlIHtcXG4gIGNvbG9yOiByZ2JhKDM0LCAxMTcsIDIxNSwgMC45KTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnVwcHktRGFzaGJvYXJkLWJyb3dzZTpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtYnJvd3NlOjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuLnVwcHktRGFzaGJvYXJkLWJyb3dzZTpob3ZlciwgLnVwcHktRGFzaGJvYXJkLWJyb3dzZTpmb2N1cyB7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzIyNzVkNztcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtYnJvd3NlIHtcXG4gIGNvbG9yOiByZ2JhKDIsIDE4NiwgMjQyLCAwLjkpO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZC1icm93c2U6aG92ZXIsIFtkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLWJyb3dzZTpmb2N1cyB7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAyYmFmMjtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLWJyb3dzZUJ0biB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWFyZ2luLXRvcDogOHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLWJyb3dzZUJ0biB7XFxuICB3aWR0aDogYXV0bztcXG4gIG1hcmdpbjogYXV0bztcXG4gIG1hcmdpbi10b3A6IDE1cHg7XFxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xcbiAgcGFkZGluZzogMTNweCA0NHB4O1xcbiAgZm9udC1zaXplOiAxNXB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtQWRkRmlsZXMtbGlzdCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleDogMTtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICB3aWR0aDogMTAwJTtcXG4gIG1hcmdpbi10b3A6IDJweDtcXG4gIHBhZGRpbmc6IDJweCAwO1xcbiAgb3ZlcmZsb3cteTogYXV0bztcXG4gIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkLUFkZEZpbGVzLWxpc3Qge1xcbiAgZmxleDogbm9uZTtcXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICBmbGV4LXdyYXA6IHdyYXA7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIG1heC13aWR0aDogNjAwcHg7XFxuICBtYXJnaW4tdG9wOiAxNXB4O1xcbiAgcGFkZGluZy10b3A6IDA7XFxuICBvdmVyZmxvdy15OiB2aXNpYmxlO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRUYWIge1xcbiAgd2lkdGg6IDEwMCU7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VhZWFlYTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmRUYWIge1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzMzM7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZFRhYiB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogaW5pdGlhbDtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxuICBib3JkZXItYm90dG9tOiBub25lO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRUYWItYnRuIHtcXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBsZWZ0O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBwYWRkaW5nOiAxMnB4IDE1cHg7XFxuICBjb2xvcjogIzUyNTI1MjtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgYXBwZWFyYW5jZTogbm9uZTtcXG59XFxuLnVwcHktRGFzaGJvYXJkVGFiLWJ0bjpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4udXBweS1EYXNoYm9hcmRUYWItYnRuOjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkVGFiLWJ0bntcXG4gIG1hcmdpbi1yaWdodDogMXB4O1xcbn1cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmRUYWItYnRue1xcbiAgbWFyZ2luLWxlZnQ6IDFweDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkVGFiLWJ0biB7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgd2lkdGg6IDg2cHg7XFxuICBwYWRkaW5nOiAxMHB4IDNweDtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmRUYWItYnRuIHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRUYWItYnRuOjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkVGFiLWJ0bjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllY2VmO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZFRhYi1idG46aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkVGFiLWJ0bjphY3RpdmUsXFxuLnVwcHktRGFzaGJvYXJkVGFiLWJ0bjpmb2N1cyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGZlNmYxO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZFRhYi1idG46YWN0aXZlLFxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkVGFiLWJ0bjpmb2N1cyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTI1MjUyO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRUYWItYnRuIHN2ZyB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHZlcnRpY2FsLWFsaWduOiB0ZXh0LXRvcDtcXG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSBlYXNlLWluLW91dCAwLjE1cztcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktRGFzaGJvYXJkVGFiLWlubmVye1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1EYXNoYm9hcmRUYWItaW5uZXJ7XFxuICBtYXJnaW4tbGVmdDogMTBweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkVGFiLWlubmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3gtc2hhZG93OiAwIDFweCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuMSksIDAgMXB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4xKSwgMCAycHggM3B4IDAgcmdiYSgwLCAwLCAwLCAwLjAyKTtcXG59XFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkVGFiLWlubmVye1xcbiAgbWFyZ2luLXJpZ2h0OiAwO1xcbn1cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmRUYWItaW5uZXJ7XFxuICBtYXJnaW4tbGVmdDogMDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmRUYWItaW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMyMzIzMjtcXG4gIGJveC1zaGFkb3c6IDAgMXB4IDFweCAwIHJnYmEoMCwgMCwgMCwgMC4yKSwgMCAxcHggMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDJweCAzcHggMCByZ2JhKDAsIDAsIDAsIDAuMDgpO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRUYWItbmFtZSB7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmRUYWItbmFtZSB7XFxuICBtYXJnaW4tdG9wOiA4cHg7XFxuICBtYXJnaW4tYm90dG9tOiAwO1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbiAgbGluZS1oZWlnaHQ6IDE1cHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZFRhYi1pY29uTXlEZXZpY2Uge1xcbiAgY29sb3I6ICMyMjc1ZDc7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkVGFiLWljb25NeURldmljZSB7XFxuICBjb2xvcjogIzAyYmFmMjtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkVGFiLWljb25Cb3gge1xcbiAgY29sb3I6ICMwMDYxZDU7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkVGFiLWljb25Cb3gge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcblxcbi51cHB5LURhc2hib2FyZFRhYi1pY29uRHJvcGJveCB7XFxuICBjb2xvcjogIzAwNjFmZTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmRUYWItaWNvbkRyb3Bib3gge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcblxcbi51cHB5LURhc2hib2FyZFRhYi1pY29uVW5zcGxhc2gge1xcbiAgY29sb3I6ICMxMTE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkVGFiLWljb25VbnNwbGFzaCB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkVGFiLWljb25TY3JlZW5SZWMge1xcbiAgY29sb3I6ICMyYzNlNTA7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkVGFiLWljb25TY3JlZW5SZWMge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVxcblxcbi51cHB5LURhc2hib2FyZFRhYi1pY29uQXVkaW8ge1xcbiAgY29sb3I6ICM4MDMwYTM7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkVGFiLWljb25BdWRpbyB7XFxuICBjb2xvcjogI2JmNmVlMztcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLWlucHV0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IC0xO1xcbiAgd2lkdGg6IDAuMXB4O1xcbiAgaGVpZ2h0OiAwLjFweDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBvcGFjaXR5OiAwO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRDb250ZW50LWJhciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB6LWluZGV4OiAxMDA0O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiA0MHB4O1xcbiAgcGFkZGluZzogMCAxMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWFlYWVhO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmRDb250ZW50LWJhciB7XFxuICBoZWlnaHQ6IDUwcHg7XFxuICBwYWRkaW5nOiAwIDE1cHg7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMzMzO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRDb250ZW50LXRpdGxlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWF4LXdpZHRoOiAxNzBweDtcXG4gIG1hcmdpbjogYXV0bztcXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxuICBmb250LXNpemU6IDEycHg7XFxuICBsaW5lLWhlaWdodDogNDBweDtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkQ29udGVudC10aXRsZSB7XFxuICBtYXgtd2lkdGg6IDMwMHB4O1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDUwcHg7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkQ29udGVudC10aXRsZSB7XFxuICBjb2xvcjogI2VhZWFlYTtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYWNrLFtkaXI9XFxcImx0clxcXCJdIFxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtc2F2ZXtcXG4gIG1hcmdpbi1sZWZ0OiAtNnB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1EYXNoYm9hcmRDb250ZW50LWJhY2ssW2Rpcj1cXFwicnRsXFxcIl0gXFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC1zYXZle1xcbiAgbWFyZ2luLXJpZ2h0OiAtNnB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRDb250ZW50LWJhY2ssXFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC1zYXZlIHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBjb2xvcjogaW5oZXJpdDtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBiYWNrZ3JvdW5kOiBub25lO1xcbiAgYm9yZGVyOiAwO1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgcGFkZGluZzogN3B4IDZweDtcXG4gIGNvbG9yOiAjMjI3NWQ3O1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYWNrOmZvY3VzLFxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtc2F2ZTpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4udXBweS1EYXNoYm9hcmRDb250ZW50LWJhY2s6Oi1tb3otZm9jdXMtaW5uZXIsXFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC1zYXZlOjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYWNrOmhvdmVyLFxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtc2F2ZTpob3ZlciB7XFxuICBjb2xvcjogIzFiNWRhYjtcXG59XFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYWNrOmZvY3VzLFxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtc2F2ZTpmb2N1cyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGZlNmYxO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZENvbnRlbnQtYmFjazpmb2N1cyxcXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LURhc2hib2FyZENvbnRlbnQtc2F2ZTpmb2N1cyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmRDb250ZW50LWJhY2ssXFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkQ29udGVudC1zYXZlIHtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmRDb250ZW50LWJhY2ssXFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmRDb250ZW50LXNhdmUge1xcbiAgY29sb3I6ICMwMmJhZjI7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZXtcXG4gIG1hcmdpbi1yaWdodDogLTVweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktRGFzaGJvYXJkQ29udGVudC1hZGRNb3Jle1xcbiAgbWFyZ2luLWxlZnQ6IC01cHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZSB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICBmb250LXNpemU6IGluaGVyaXQ7XFxuICBmb250LWZhbWlseTogaW5oZXJpdDtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgYmFja2dyb3VuZDogbm9uZTtcXG4gIGJvcmRlcjogMDtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gIHdpZHRoOiAyOXB4O1xcbiAgaGVpZ2h0OiAyOXB4O1xcbiAgcGFkZGluZzogN3B4IDhweDtcXG4gIGNvbG9yOiAjMjI3NWQ3O1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC1hZGRNb3JlOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZTo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZTpob3ZlciB7XFxuICBjb2xvcjogIzFiNWRhYjtcXG59XFxuLnVwcHktRGFzaGJvYXJkQ29udGVudC1hZGRNb3JlOmZvY3VzIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkZmU2ZjE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkQ29udGVudC1hZGRNb3JlOmZvY3VzIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XFxufVxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZXtcXG4gIG1hcmdpbi1yaWdodDogLThweDtcXG59XFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktc2l6ZS0tbWQgLnVwcHktRGFzaGJvYXJkQ29udGVudC1hZGRNb3Jle1xcbiAgbWFyZ2luLWxlZnQ6IC04cHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZSB7XFxuICB3aWR0aDogYXV0bztcXG4gIGhlaWdodDogYXV0bztcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmUge1xcbiAgY29sb3I6ICMwMmJhZjI7XFxufVxcblxcbltkaXI9XFxcImx0clxcXCJdIC51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZSBzdmd7XFxuICBtYXJnaW4tcmlnaHQ6IDRweDtcXG59XFxuXFxuW2Rpcj1cXFwicnRsXFxcIl0gLnVwcHktRGFzaGJvYXJkQ29udGVudC1hZGRNb3JlIHN2Z3tcXG4gIG1hcmdpbi1sZWZ0OiA0cHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZSBzdmcge1xcbiAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmUgc3ZnIHtcXG4gIHdpZHRoOiAxMXB4O1xcbiAgaGVpZ2h0OiAxMXB4O1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmVDYXB0aW9uIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZENvbnRlbnQtYWRkTW9yZUNhcHRpb24ge1xcbiAgZGlzcGxheTogaW5saW5lO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmRDb250ZW50LXBhbmVsIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIHotaW5kZXg6IDEwMDU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleDogMTtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGVzbW9rZTtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUFkZEZpbGVzUGFuZWwge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgei1pbmRleDogMTAwNTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGJhY2tncm91bmQ6ICNmYWZhZmE7XFxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMGRlZywgI2ZhZmFmYSAzNSUsIHJnYmEoMjUwLCAyNTAsIDI1MCwgMC44NSkgMTAwJSk7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICBib3gtc2hhZG93OiAwIDAgMTBweCA1cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtQWRkRmlsZXNQYW5lbCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDBkZWcsICMxZjFmMWYgMzUlLCByZ2JhKDMxLCAzMSwgMzEsIDAuODUpIDEwMCUpO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtLWlzQWRkRmlsZXNQYW5lbFZpc2libGUgLnVwcHktRGFzaGJvYXJkLWZpbGVzIHtcXG4gIGZpbHRlcjogYmx1cigycHgpO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtcHJvZ3Jlc3Mge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMiU7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1wcm9ncmVzc0JhckNvbnRhaW5lci5pcy1hY3RpdmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIHotaW5kZXg6IDEwMDQ7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLWZpbGVzQ29udGFpbmVyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGZsZXg6IDE7XFxuICBtYXJnaW46IDA7XFxuICBvdmVyZmxvdy15OiBoaWRkZW47XFxufVxcbi51cHB5LURhc2hib2FyZC1maWxlc0NvbnRhaW5lcjo6YWZ0ZXIge1xcbiAgZGlzcGxheTogdGFibGU7XFxuICBjbGVhcjogYm90aDtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtZmlsZXMge1xcbiAgZmxleDogMTtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDAgMCAxMHB4IDA7XFxuICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtZmlsZXMge1xcbiAgcGFkZGluZy10b3A6IDEwcHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC0tc2luZ2xlRmlsZSAudXBweS1EYXNoYm9hcmQtZmlsZXNJbm5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4udXBweS1EYXNoYm9hcmQtZHJvcEZpbGVzSGVyZUhpbnQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA3cHg7XFxuICByaWdodDogN3B4O1xcbiAgYm90dG9tOiA3cHg7XFxuICBsZWZ0OiA3cHg7XFxuICB6LWluZGV4OiAyMDAwO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIHBhZGRpbmctdG9wOiA5MHB4O1xcbiAgY29sb3I6ICM3NTc1NzU7XFxuICBmb250LXNpemU6IDE2cHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzQ4JyBoZWlnaHQ9JzQ4JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcGF0aCBkPSdNMjQgMXYxQzExLjg1IDIgMiAxMS44NSAyIDI0czkuODUgMjIgMjIgMjIgMjItOS44NSAyMi0yMlMzNi4xNSAyIDI0IDJWMXptMCAwVjBjMTMuMjU0IDAgMjQgMTAuNzQ2IDI0IDI0UzM3LjI1NCA0OCAyNCA0OCAwIDM3LjI1NCAwIDI0IDEwLjc0NiAwIDI0IDB2MXptNy43MDcgMTkuMjkzYS45OTkuOTk5IDAgMSAxLTEuNDE0IDEuNDE0TDI1IDE2LjQxNFYzNGExIDEgMCAxIDEtMiAwVjE2LjQxNGwtNS4yOTMgNS4yOTNhLjk5OS45OTkgMCAxIDEtMS40MTQtMS40MTRsNy03YS45OTkuOTk5IDAgMCAxIDEuNDE0IDBsNyA3eicgZmlsbD0nJTIzMjI3NUQ3JyBmaWxsLXJ1bGU9J25vbnplcm8nLyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlO1xcbiAgYm9yZGVyOiAxcHggZGFzaGVkICMyMjc1ZDc7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLWRyb3BGaWxlc0hlcmVIaW50IHtcXG4gIGNvbG9yOiAjYmJiO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHdpZHRoPSc0OCcgaGVpZ2h0PSc0OCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSUzQ3BhdGggZD0nTTI0IDF2MUMxMS44NSAyIDIgMTEuODUgMiAyNHM5Ljg1IDIyIDIyIDIyIDIyLTkuODUgMjItMjJTMzYuMTUgMiAyNCAyVjF6bTAgMFYwYzEzLjI1NCAwIDI0IDEwLjc0NiAyNCAyNFMzNy4yNTQgNDggMjQgNDggMCAzNy4yNTQgMCAyNCAxMC43NDYgMCAyNCAwdjF6bTcuNzA3IDE5LjI5M2EuOTk5Ljk5OSAwIDEgMS0xLjQxNCAxLjQxNEwyNSAxNi40MTRWMzRhMSAxIDAgMSAxLTIgMFYxNi40MTRsLTUuMjkzIDUuMjkzYS45OTkuOTk5IDAgMSAxLTEuNDE0LTEuNDE0bDctN2EuOTk5Ljk5OSAwIDAgMSAxLjQxNCAwbDcgN3onIGZpbGw9JyUyMzAyQkFGMicgZmlsbC1ydWxlPSdub256ZXJvJy8lM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICBib3JkZXItY29sb3I6ICMwMmJhZjI7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC51cHB5LURhc2hib2FyZC0taXNEcmFnZ2luZ092ZXIgLnVwcHktRGFzaGJvYXJkLWRyb3BGaWxlc0hlcmVIaW50IHtcXG4gIHZpc2liaWxpdHk6IHZpc2libGU7XFxufVxcbi51cHB5LURhc2hib2FyZC51cHB5LURhc2hib2FyZC0taXNEcmFnZ2luZ092ZXIgLnVwcHktRGFzaGJvYXJkQ29udGVudC1iYXIsXFxuLnVwcHktRGFzaGJvYXJkLnVwcHktRGFzaGJvYXJkLS1pc0RyYWdnaW5nT3ZlciAudXBweS1EYXNoYm9hcmQtZmlsZXMsXFxuLnVwcHktRGFzaGJvYXJkLnVwcHktRGFzaGJvYXJkLS1pc0RyYWdnaW5nT3ZlciAudXBweS1EYXNoYm9hcmQtcHJvZ3Jlc3NpbmRpY2F0b3JzLFxcbi51cHB5LURhc2hib2FyZC51cHB5LURhc2hib2FyZC0taXNEcmFnZ2luZ092ZXIgLnVwcHktRGFzaGJvYXJkLXNlcnZpY2VNc2cge1xcbiAgb3BhY2l0eTogMC4xNTtcXG59XFxuLnVwcHktRGFzaGJvYXJkLnVwcHktRGFzaGJvYXJkLS1pc0RyYWdnaW5nT3ZlciAudXBweS1EYXNoYm9hcmQtQWRkRmlsZXMge1xcbiAgb3BhY2l0eTogMC4wMztcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUFkZEZpbGVzLXRpdGxlIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWFyZ2luLXRvcDogMTVweDtcXG4gIG1hcmdpbi1ib3R0b206IDVweDtcXG4gIHBhZGRpbmc6IDAgMTVweDtcXG4gIGNvbG9yOiAjMDAwO1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGZvbnQtc2l6ZTogMTdweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjM1O1xcbiAgdGV4dC1hbGlnbjogaW5saW5lLXN0YXJ0O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtQWRkRmlsZXMtdGl0bGUge1xcbiAgbWF4LXdpZHRoOiA0ODBweDtcXG4gIHBhZGRpbmc6IDAgMzVweDtcXG4gIG1hcmdpbi10b3A6IDVweDtcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICBmb250LXNpemU6IDIxcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbltkYXRhLXVwcHktbnVtLWFjcXVpcmVycz1cXFwiMFxcXCJdIC51cHB5LURhc2hib2FyZC1BZGRGaWxlcy10aXRsZSB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktRGFzaGJvYXJkLUFkZEZpbGVzLXRpdGxlIHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtQWRkRmlsZXMtdGl0bGUgYnV0dG9uIHtcXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1BZGRGaWxlcy10aXRsZSBidXR0b24ge1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLW5vdGUge1xcbiAgbWF4LXdpZHRoOiAzNTBweDtcXG4gIG1hcmdpbjogYXV0bztcXG4gIHBhZGRpbmc6IDAgMTVweDtcXG4gIGNvbG9yOiAjNzU3NTc1O1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuMjU7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC1ub3RlIHtcXG4gIG1heC13aWR0aDogNjAwcHg7XFxuICBsaW5lLWhlaWdodDogMS4zNTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1EYXNoYm9hcmQtbm90ZSB7XFxuICBjb2xvcjogI2NmY2ZjZjtcXG59XFxuXFxuYS51cHB5LURhc2hib2FyZC1wb3dlcmVkQnkge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbWFyZ2luLXRvcDogOHB4O1xcbiAgY29sb3I6ICM5MzkzOTM7XFxuICBmb250LXNpemU6IDExcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1wb3dlcmVkQnlJY29uIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHRvcDogMXB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxcHg7XFxuICBtYXJnaW4tbGVmdDogMXB4O1xcbiAgdmVydGljYWwtYWxpZ246IHRleHQtdG9wO1xcbiAgb3BhY2l0eTogMC45O1xcbiAgZmlsbDogbm9uZTtcXG4gIHN0cm9rZTogIzkzOTM5MztcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0ljb24ge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA1MCU7XFxuICBsZWZ0OiA1MCU7XFxuICB6LWluZGV4OiAxMDA7XFxuICB3aWR0aDogMjVweDtcXG4gIGhlaWdodDogMjVweDtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3SWNvbiB7XFxuICB3aWR0aDogMzhweDtcXG4gIGhlaWdodDogMzhweDtcXG59XFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0ljb24gc3ZnIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG4udXBweS1EYXNoYm9hcmQtLXNpbmdsZUZpbGUgLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0ljb24ge1xcbiAgd2lkdGg6IDkwcHg7XFxuICBoZWlnaHQ6IDkwcHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdJY29uV3JhcCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBoZWlnaHQ6IDc2cHg7XFxuICBtYXgtaGVpZ2h0OiA3NSU7XFxufVxcbi51cHB5LURhc2hib2FyZC0tc2luZ2xlRmlsZSAudXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3SWNvbldyYXAge1xcbiAgaGVpZ2h0OiAxNzZweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0ljb25CZyB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGZpbHRlcjogZHJvcC1zaGFkb3cocmdiYSgwLCAwLCAwLCAwLjEpIDAgMXB4IDFweCk7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC11cGxvYWQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgd2lkdGg6IDUwcHg7XFxuICBoZWlnaHQ6IDUwcHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC11cGxvYWQge1xcbiAgd2lkdGg6IDYwcHg7XFxuICBoZWlnaHQ6IDYwcHg7XFxufVxcblxcbi51cHB5LURhc2hib2FyZC11cGxvYWQgLnVwcHktYy1pY29uIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHRvcDogMXB4O1xcbiAgd2lkdGg6IDUwJTtcXG59XFxuXFxuW2Rpcj1cXFwibHRyXFxcIl0gLnVwcHktRGFzaGJvYXJkLXVwbG9hZENvdW50e1xcbiAgcmlnaHQ6IC0xMnB4O1xcbn1cXG5cXG5bZGlyPVxcXCJydGxcXFwiXSAudXBweS1EYXNoYm9hcmQtdXBsb2FkQ291bnR7XFxuICBsZWZ0OiAtMTJweDtcXG59XFxuXFxuLnVwcHktRGFzaGJvYXJkLXVwbG9hZENvdW50IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogLTEycHg7XFxuICB3aWR0aDogMTZweDtcXG4gIGhlaWdodDogMTZweDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgZm9udC1zaXplOiA4cHg7XFxuICBsaW5lLWhlaWdodDogMTZweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxYmIyNDA7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LURhc2hib2FyZC11cGxvYWRDb3VudCB7XFxuICB3aWR0aDogMThweDtcXG4gIGhlaWdodDogMThweDtcXG4gIGZvbnQtc2l6ZTogOXB4O1xcbiAgbGluZS1oZWlnaHQ6IDE4cHg7XFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18gPSBuZXcgVVJMKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQVFNQUFBQWxQVzBpQUFBQUEzTkNTVlFJQ0FqYjRVL2dBQUFBQmxCTVZFWE16TXovLy8vVGpSVjJBQUFBQ1hCSVdYTUFBQXJyQUFBSzZ3R0NpdzFhQUFBQUhIUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkdhWEpsZDI5eWEzTWdRMU0yNkx5eWpBQUFBQkZKUkVGVUNKbGorTS9BZ0JWaEYvMFBBSDYvRC9Ia0R4T0dBQUFBQUVsRlRrU3VRbUNDXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWFyZ2luOiA5cHggMDtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbn1cXG4udXBweS1JbWFnZUNyb3BwZXItcmFuZ2U6Oi1tb3otZm9jdXMtb3V0ZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG4udXBweS1JbWFnZUNyb3BwZXItcmFuZ2U6Zm9jdXMge1xcbiAgb3V0bGluZTogMDtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOmZvY3VzOjotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFjayB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XFxufVxcbi51cHB5LUltYWdlQ3JvcHBlci1yYW5nZTpmb2N1czo6LW1zLWZpbGwtbG93ZXIge1xcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xcbn1cXG4udXBweS1JbWFnZUNyb3BwZXItcmFuZ2U6Zm9jdXM6Oi1tcy1maWxsLXVwcGVyIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOjotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFjayB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogNHB4O1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIHRyYW5zcGFyZW50LCAwIDAgMCByZ2JhKDEzLCAxMywgMTMsIDApO1xcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xcbiAgYm9yZGVyOiAwIHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbn1cXG4udXBweS1JbWFnZUNyb3BwZXItcmFuZ2U6Oi13ZWJraXQtc2xpZGVyLXRodW1iIHtcXG4gIGJveC1zaGFkb3c6IDAgMCA0cHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDAgMCByZ2JhKDEzLCAxMywgMTMsIDAuMik7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgd2lkdGg6IDE4cHg7XFxuICBoZWlnaHQ6IDE4cHg7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgYm9yZGVyOiAwIHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXJhZGl1czogOXB4O1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgbWFyZ2luLXRvcDogLTdweDtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOjotbW96LXJhbmdlLXRyYWNrIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIHRyYW5zcGFyZW50LCAwIDAgMCByZ2JhKDEzLCAxMywgMTMsIDApO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDRweDtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG4gIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XFxuICBoZWlnaHQ6IDRweDtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcXG4gIGJvcmRlcjogMCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOjotbW96LXJhbmdlLXRodW1iIHtcXG4gIGJveC1zaGFkb3c6IDAgMCA0cHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDAgMCByZ2JhKDEzLCAxMywgMTMsIDAuMik7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgd2lkdGg6IDE4cHg7XFxuICBoZWlnaHQ6IDE4cHg7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgYm9yZGVyOiAwIHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXJhZGl1czogOXB4O1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG4udXBweS1JbWFnZUNyb3BwZXItcmFuZ2U6Oi1tcy10cmFjayB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogNHB4O1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgLW1zLXRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xcbiAgY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXdpZHRoOiA5cHggMDtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOjotbXMtZmlsbC1sb3dlciB7XFxuICBib3gtc2hhZG93OiAwIDAgMCB0cmFuc3BhcmVudCwgMCAwIDAgcmdiYSgxMywgMTMsIDEzLCAwKTtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMjQyLCAyNDIsIDI0MiwgMC4yKTtcXG4gIGJvcmRlcjogMCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XFxufVxcbi51cHB5LUltYWdlQ3JvcHBlci1yYW5nZTo6LW1zLWZpbGwtdXBwZXIge1xcbiAgYm94LXNoYWRvdzogMCAwIDAgdHJhbnNwYXJlbnQsIDAgMCAwIHJnYmEoMTMsIDEzLCAxMywgMCk7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XFxuICBib3JkZXI6IDAgc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xcbn1cXG4udXBweS1JbWFnZUNyb3BwZXItcmFuZ2U6Oi1tcy10aHVtYiB7XFxuICBib3gtc2hhZG93OiAwIDAgNHB4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMCAwIDAgcmdiYSgxMywgMTMsIDEzLCAwLjIpO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHdpZHRoOiAxOHB4O1xcbiAgaGVpZ2h0OiAxOHB4O1xcbiAgYmFja2dyb3VuZDogI2ZmZjtcXG4gIGJvcmRlcjogMCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yYWRpdXM6IDlweDtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG4gIG1hcmdpbi10b3A6IDFweDtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOmRpc2FibGVkOjotd2Via2l0LXNsaWRlci10aHVtYiwgLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOmRpc2FibGVkOjotbW96LXJhbmdlLXRodW1iLCAudXBweS1JbWFnZUNyb3BwZXItcmFuZ2U6ZGlzYWJsZWQ6Oi1tcy10aHVtYiwgLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOmRpc2FibGVkOjotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFjaywgLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOmRpc2FibGVkOjotbXMtZmlsbC1sb3dlciwgLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOmRpc2FibGVkOjotbXMtZmlsbC11cHBlciB7XFxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xcbn1cXG5cXG4vKiFcXG4gKiBDcm9wcGVyLmpzIHYxLjUuNlxcbiAqIGh0dHBzOi8vZmVuZ3l1YW5jaGVuLmdpdGh1Yi5pby9jcm9wcGVyanNcXG4gKlxcbiAqIENvcHlyaWdodCAyMDE1LXByZXNlbnQgQ2hlbiBGZW5neXVhblxcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxcbiAqXFxuICogRGF0ZTogMjAxOS0xMC0wNFQwNDozMzo0NC4xNjRaXFxuICovXFxuLmNyb3BwZXItY29udGFpbmVyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGZvbnQtc2l6ZTogMDtcXG4gIGxpbmUtaGVpZ2h0OiAwO1xcbiAgZGlyZWN0aW9uOiBsdHI7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICB0b3VjaC1hY3Rpb246IG5vbmU7XFxufVxcblxcbi5jcm9wcGVyLWNvbnRhaW5lciBpbWcge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1pbi13aWR0aDogMCAhaW1wb3J0YW50O1xcbiAgbWF4LXdpZHRoOiBub25lICFpbXBvcnRhbnQ7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7XFxuICBtYXgtaGVpZ2h0OiBub25lICFpbXBvcnRhbnQ7XFxuICBpbWFnZS1vcmllbnRhdGlvbjogMGRlZztcXG59XFxuXFxuLmNyb3BwZXItd3JhcC1ib3gsXFxuLmNyb3BwZXItY2FudmFzLFxcbi5jcm9wcGVyLWRyYWctYm94LFxcbi5jcm9wcGVyLWNyb3AtYm94LFxcbi5jcm9wcGVyLW1vZGFsIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG59XFxuXFxuLmNyb3BwZXItd3JhcC1ib3gsXFxuLmNyb3BwZXItY2FudmFzIHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxufVxcblxcbi5jcm9wcGVyLWRyYWctYm94IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBvcGFjaXR5OiAwO1xcbn1cXG5cXG4uY3JvcHBlci1tb2RhbCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xcbiAgb3BhY2l0eTogMTtcXG59XFxuXFxuLmNyb3BwZXItdmlldy1ib3gge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBvdXRsaW5lOiAxcHggc29saWQgIzM5ZjtcXG4gIG91dGxpbmUtY29sb3I6IHJnYmEoNTEsIDE1MywgMjU1LCAwLjc1KTtcXG4gIGJhY2tncm91bmQ6IHJlcGVhdGluZy1jb25pYy1ncmFkaWVudChyZ2JhKDAsIDAsIDAsIDAuNSkgMCUgMjUlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSkgMCUgNTAlKSA1MCUvMTZweCAxNnB4O1xcbn1cXG5cXG4uY3JvcHBlci1kYXNoZWQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBib3JkZXI6IDAgZGFzaGVkICNlZWU7XFxuICBvcGFjaXR5OiAwLjU7XFxufVxcblxcbi5jcm9wcGVyLWRhc2hlZC5kYXNoZWQtaCB7XFxuICB0b3A6IDMzLjMzMzMzMzMzMzMlO1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAzMy4zMzMzMzMzMzMzJTtcXG4gIGJvcmRlci10b3Atd2lkdGg6IDFweDtcXG4gIGJvcmRlci1ib3R0b20td2lkdGg6IDFweDtcXG59XFxuXFxuLmNyb3BwZXItZGFzaGVkLmRhc2hlZC12IHtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDMzLjMzMzMzMzMzMzMlO1xcbiAgd2lkdGg6IDMzLjMzMzMzMzMzMzMlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgYm9yZGVyLXJpZ2h0LXdpZHRoOiAxcHg7XFxuICBib3JkZXItbGVmdC13aWR0aDogMXB4O1xcbn1cXG5cXG4uY3JvcHBlci1jZW50ZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA1MCU7XFxuICBsZWZ0OiA1MCU7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgb3BhY2l0eTogMC43NTtcXG59XFxuXFxuLmNyb3BwZXItY2VudGVyOjpiZWZvcmUsXFxuLmNyb3BwZXItY2VudGVyOjphZnRlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XFxuICBjb250ZW50OiBcXFwiIFxcXCI7XFxufVxcblxcbi5jcm9wcGVyLWNlbnRlcjo6YmVmb3JlIHtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IC0zcHg7XFxuICB3aWR0aDogN3B4O1xcbiAgaGVpZ2h0OiAxcHg7XFxufVxcblxcbi5jcm9wcGVyLWNlbnRlcjo6YWZ0ZXIge1xcbiAgdG9wOiAtM3B4O1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiAxcHg7XFxuICBoZWlnaHQ6IDdweDtcXG59XFxuXFxuLmNyb3BwZXItZmFjZSxcXG4uY3JvcHBlci1saW5lLFxcbi5jcm9wcGVyLXBvaW50IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBvcGFjaXR5OiAwLjE7XFxufVxcblxcbi5jcm9wcGVyLWZhY2Uge1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBvcGFjaXR5OiAwO1xcbn1cXG5cXG4uY3JvcHBlci1saW5lIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzOWY7XFxufVxcblxcbi5jcm9wcGVyLWxpbmUubGluZS1lIHtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiAtM3B4O1xcbiAgd2lkdGg6IDVweDtcXG4gIGN1cnNvcjogZXctcmVzaXplO1xcbn1cXG5cXG4uY3JvcHBlci1saW5lLmxpbmUtbiB7XFxuICB0b3A6IC0zcHg7XFxuICBsZWZ0OiAwO1xcbiAgaGVpZ2h0OiA1cHg7XFxuICBjdXJzb3I6IG5zLXJlc2l6ZTtcXG59XFxuXFxuLmNyb3BwZXItbGluZS5saW5lLXcge1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogLTNweDtcXG4gIHdpZHRoOiA1cHg7XFxuICBjdXJzb3I6IGV3LXJlc2l6ZTtcXG59XFxuXFxuLmNyb3BwZXItbGluZS5saW5lLXMge1xcbiAgYm90dG9tOiAtM3B4O1xcbiAgbGVmdDogMDtcXG4gIGhlaWdodDogNXB4O1xcbiAgY3Vyc29yOiBucy1yZXNpemU7XFxufVxcblxcbi5jcm9wcGVyLXBvaW50IHtcXG4gIHdpZHRoOiA1cHg7XFxuICBoZWlnaHQ6IDVweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzOWY7XFxuICBvcGFjaXR5OiAwLjc1O1xcbn1cXG5cXG4uY3JvcHBlci1wb2ludC5wb2ludC1lIHtcXG4gIHRvcDogNTAlO1xcbiAgcmlnaHQ6IC0zcHg7XFxuICBtYXJnaW4tdG9wOiAtM3B4O1xcbiAgY3Vyc29yOiBldy1yZXNpemU7XFxufVxcblxcbi5jcm9wcGVyLXBvaW50LnBvaW50LW4ge1xcbiAgdG9wOiAtM3B4O1xcbiAgbGVmdDogNTAlO1xcbiAgbWFyZ2luLWxlZnQ6IC0zcHg7XFxuICBjdXJzb3I6IG5zLXJlc2l6ZTtcXG59XFxuXFxuLmNyb3BwZXItcG9pbnQucG9pbnQtdyB7XFxuICB0b3A6IDUwJTtcXG4gIGxlZnQ6IC0zcHg7XFxuICBtYXJnaW4tdG9wOiAtM3B4O1xcbiAgY3Vyc29yOiBldy1yZXNpemU7XFxufVxcblxcbi5jcm9wcGVyLXBvaW50LnBvaW50LXMge1xcbiAgYm90dG9tOiAtM3B4O1xcbiAgbGVmdDogNTAlO1xcbiAgbWFyZ2luLWxlZnQ6IC0zcHg7XFxuICBjdXJzb3I6IHMtcmVzaXplO1xcbn1cXG5cXG4uY3JvcHBlci1wb2ludC5wb2ludC1uZSB7XFxuICB0b3A6IC0zcHg7XFxuICByaWdodDogLTNweDtcXG4gIGN1cnNvcjogbmVzdy1yZXNpemU7XFxufVxcblxcbi5jcm9wcGVyLXBvaW50LnBvaW50LW53IHtcXG4gIHRvcDogLTNweDtcXG4gIGxlZnQ6IC0zcHg7XFxuICBjdXJzb3I6IG53c2UtcmVzaXplO1xcbn1cXG5cXG4uY3JvcHBlci1wb2ludC5wb2ludC1zdyB7XFxuICBib3R0b206IC0zcHg7XFxuICBsZWZ0OiAtM3B4O1xcbiAgY3Vyc29yOiBuZXN3LXJlc2l6ZTtcXG59XFxuXFxuLmNyb3BwZXItcG9pbnQucG9pbnQtc2Uge1xcbiAgcmlnaHQ6IC0zcHg7XFxuICBib3R0b206IC0zcHg7XFxuICB3aWR0aDogMjBweDtcXG4gIGhlaWdodDogMjBweDtcXG4gIGN1cnNvcjogbndzZS1yZXNpemU7XFxuICBvcGFjaXR5OiAxO1xcbn1cXG5cXG5AbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHtcXG4gIC5jcm9wcGVyLXBvaW50LnBvaW50LXNlIHtcXG4gICAgd2lkdGg6IDE1cHg7XFxuICAgIGhlaWdodDogMTVweDtcXG4gIH1cXG59XFxuQG1lZGlhIChtaW4td2lkdGg6IDk5MnB4KSB7XFxuICAuY3JvcHBlci1wb2ludC5wb2ludC1zZSB7XFxuICAgIHdpZHRoOiAxMHB4O1xcbiAgICBoZWlnaHQ6IDEwcHg7XFxuICB9XFxufVxcbkBtZWRpYSAobWluLXdpZHRoOiAxMjAwcHgpIHtcXG4gIC5jcm9wcGVyLXBvaW50LnBvaW50LXNlIHtcXG4gICAgd2lkdGg6IDVweDtcXG4gICAgaGVpZ2h0OiA1cHg7XFxuICAgIG9wYWNpdHk6IDAuNzU7XFxuICB9XFxufVxcbi5jcm9wcGVyLXBvaW50LnBvaW50LXNlOjpiZWZvcmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IC01MCU7XFxuICBib3R0b206IC01MCU7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAyMDAlO1xcbiAgaGVpZ2h0OiAyMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzM5ZjtcXG4gIG9wYWNpdHk6IDA7XFxuICBjb250ZW50OiBcXFwiIFxcXCI7XFxufVxcblxcbi5jcm9wcGVyLWludmlzaWJsZSB7XFxuICBvcGFjaXR5OiAwO1xcbn1cXG5cXG4uY3JvcHBlci1iZyB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fICsgXCIpO1xcbn1cXG5cXG4uY3JvcHBlci1oaWRlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgd2lkdGg6IDA7XFxuICBoZWlnaHQ6IDA7XFxufVxcblxcbi5jcm9wcGVyLWhpZGRlbiB7XFxuICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XFxufVxcblxcbi5jcm9wcGVyLW1vdmUge1xcbiAgY3Vyc29yOiBtb3ZlO1xcbn1cXG5cXG4uY3JvcHBlci1jcm9wIHtcXG4gIGN1cnNvcjogY3Jvc3NoYWlyO1xcbn1cXG5cXG4uY3JvcHBlci1kaXNhYmxlZCAuY3JvcHBlci1kcmFnLWJveCxcXG4uY3JvcHBlci1kaXNhYmxlZCAuY3JvcHBlci1mYWNlLFxcbi5jcm9wcGVyLWRpc2FibGVkIC5jcm9wcGVyLWxpbmUsXFxuLmNyb3BwZXItZGlzYWJsZWQgLmNyb3BwZXItcG9pbnQge1xcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcXG59XFxuXFxuLnVwcHktSW1hZ2VDcm9wcGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi51cHB5LUltYWdlQ3JvcHBlci1jb250YWluZXIge1xcbiAgZmxleC1ncm93OiAxO1xcbn1cXG5cXG4udXBweS1JbWFnZUNyb3BwZXItaW1hZ2Uge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBtYXgtaGVpZ2h0OiA0MDBweDtcXG59XFxuXFxuLnVwcHktSW1hZ2VDcm9wcGVyLWNvbnRyb2xzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogMTVweDtcXG4gIGxlZnQ6IDUwJTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBwYWRkaW5nLXRvcDogMzhweDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjYpO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1JbWFnZUNyb3BwZXItY29udHJvbHMge1xcbiAgcGFkZGluZy10b3A6IDA7XFxufVxcblxcbi51cHB5LUltYWdlQ3JvcHBlci1jb250cm9scyBidXR0b24ge1xcbiAgd2lkdGg6IDM1cHg7XFxuICBoZWlnaHQ6IDM1cHg7XFxufVxcbi51cHB5LUltYWdlQ3JvcHBlci1jb250cm9scyBidXR0b24gc3ZnIHtcXG4gIHBhZGRpbmc6IDNweDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktSW1hZ2VDcm9wcGVyLWNvbnRyb2xzIGJ1dHRvbiB7XFxuICB3aWR0aDogNDBweDtcXG4gIGhlaWdodDogNDBweDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktSW1hZ2VDcm9wcGVyLWNvbnRyb2xzIGJ1dHRvbiBzdmcge1xcbiAgcGFkZGluZzogMXB4O1xcbn1cXG4udXBweS1JbWFnZUNyb3BwZXItY29udHJvbHMgYnV0dG9uOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMzQsIDExNywgMjE1LCAwLjgpO1xcbn1cXG4udXBweS1JbWFnZUNyb3BwZXItY29udHJvbHMgYnV0dG9uOmZvY3VzIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMzQsIDExNywgMjE1LCAwLjgpO1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlV3JhcHBlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiAxMHB4O1xcbiAgbGVmdDogMTBweDtcXG4gIGhlaWdodDogMzhweDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlV3JhcHBlciB7XFxuICBwb3NpdGlvbjogc3RhdGljICFpbXBvcnRhbnQ7XFxuICBoZWlnaHQ6IGF1dG87XFxufVxcblxcbi51cHB5LXNpemUtLW1kIC51cHB5LUltYWdlQ3JvcHBlci1yYW5nZSB7XFxuICB3aWR0aDogMTgwcHg7XFxuICBtYXJnaW4tcmlnaHQ6IDE1cHg7XFxuICBtYXJnaW4tbGVmdDogNXB4O1xcbn1cXG5cXG4udXBweS1JbWFnZUNyb3BwZXIgLmNyb3BwZXItcG9pbnQge1xcbiAgd2lkdGg6IDhweDtcXG4gIGhlaWdodDogOHB4O1xcbn1cXG5cXG4udXBweS1JbWFnZUNyb3BwZXIgLmNyb3BwZXItdmlldy1ib3gge1xcbiAgb3V0bGluZTogMnB4IHNvbGlkICMzOWY7XFxufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9AdXBweS9pbWFnZS1lZGl0b3Iv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ZDtBQUNBO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZDtBQUNBO0VBQ0UsWUFBWTtBQUNkO0FBQ0E7RUFDRSx5Q0FBeUM7QUFDM0M7QUFDQTtFQUNFLHlDQUF5QztFQUN6QyxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSw2QkFBNkI7RUFDN0IsTUFBTTtFQUNOLFdBQVc7RUFDWCxVQUFVO0VBQ1YsWUFBWTtBQUNkO0FBQ0E7RUFDRSwyQkFBMkI7RUFDM0IsWUFBWTtBQUNkOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsV0FBVztBQUNiOztBQUVBO0VBQ0UsdUJBQXVCO0FBQ3pCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi51cHB5LUltYWdlQ3JvcHBlci1yYW5nZSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1hcmdpbjogOXB4IDA7XFxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOjotbW96LWZvY3VzLW91dGVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOmZvY3VzIHtcXG4gIG91dGxpbmU6IDA7XFxufVxcbi51cHB5LUltYWdlQ3JvcHBlci1yYW5nZTpmb2N1czo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2sge1xcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xcbn1cXG4udXBweS1JbWFnZUNyb3BwZXItcmFuZ2U6Zm9jdXM6Oi1tcy1maWxsLWxvd2VyIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOmZvY3VzOjotbXMtZmlsbC11cHBlciB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XFxufVxcbi51cHB5LUltYWdlQ3JvcHBlci1yYW5nZTo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2sge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDRweDtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XFxuICBib3gtc2hhZG93OiAwIDAgMCB0cmFuc3BhcmVudCwgMCAwIDAgcmdiYSgxMywgMTMsIDEzLCAwKTtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcXG4gIGJvcmRlcjogMCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOjotd2Via2l0LXNsaWRlci10aHVtYiB7XFxuICBib3gtc2hhZG93OiAwIDAgNHB4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMCAwIDAgcmdiYSgxMywgMTMsIDEzLCAwLjIpO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHdpZHRoOiAxOHB4O1xcbiAgaGVpZ2h0OiAxOHB4O1xcbiAgYmFja2dyb3VuZDogI2ZmZjtcXG4gIGJvcmRlcjogMCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yYWRpdXM6IDlweDtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG4gIG1hcmdpbi10b3A6IC03cHg7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxufVxcbi51cHB5LUltYWdlQ3JvcHBlci1yYW5nZTo6LW1vei1yYW5nZS10cmFjayB7XFxuICBib3gtc2hhZG93OiAwIDAgMCB0cmFuc3BhcmVudCwgMCAwIDAgcmdiYSgxMywgMTMsIDEzLCAwKTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiA0cHg7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xcbiAgaGVpZ2h0OiA0cHg7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XFxuICBib3JkZXI6IDAgc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxufVxcbi51cHB5LUltYWdlQ3JvcHBlci1yYW5nZTo6LW1vei1yYW5nZS10aHVtYiB7XFxuICBib3gtc2hhZG93OiAwIDAgNHB4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMCAwIDAgcmdiYSgxMywgMTMsIDEzLCAwLjIpO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHdpZHRoOiAxOHB4O1xcbiAgaGVpZ2h0OiAxOHB4O1xcbiAgYmFja2dyb3VuZDogI2ZmZjtcXG4gIGJvcmRlcjogMCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yYWRpdXM6IDlweDtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOjotbXMtdHJhY2sge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDRweDtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG4gIC1tcy10cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcXG4gIGNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci13aWR0aDogOXB4IDA7XFxufVxcbi51cHB5LUltYWdlQ3JvcHBlci1yYW5nZTo6LW1zLWZpbGwtbG93ZXIge1xcbiAgYm94LXNoYWRvdzogMCAwIDAgdHJhbnNwYXJlbnQsIDAgMCAwIHJnYmEoMTMsIDEzLCAxMywgMCk7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDI0MiwgMjQyLCAyNDIsIDAuMik7XFxuICBib3JkZXI6IDAgc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xcbn1cXG4udXBweS1JbWFnZUNyb3BwZXItcmFuZ2U6Oi1tcy1maWxsLXVwcGVyIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIHRyYW5zcGFyZW50LCAwIDAgMCByZ2JhKDEzLCAxMywgMTMsIDApO1xcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xcbiAgYm9yZGVyOiAwIHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOjotbXMtdGh1bWIge1xcbiAgYm94LXNoYWRvdzogMCAwIDRweCByZ2JhKDAsIDAsIDAsIDAuMiksIDAgMCAwIHJnYmEoMTMsIDEzLCAxMywgMC4yKTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICB3aWR0aDogMThweDtcXG4gIGhlaWdodDogMThweDtcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxuICBib3JkZXI6IDAgc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmFkaXVzOiA5cHg7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICBtYXJnaW4tdG9wOiAxcHg7XFxufVxcbi51cHB5LUltYWdlQ3JvcHBlci1yYW5nZTpkaXNhYmxlZDo6LXdlYmtpdC1zbGlkZXItdGh1bWIsIC51cHB5LUltYWdlQ3JvcHBlci1yYW5nZTpkaXNhYmxlZDo6LW1vei1yYW5nZS10aHVtYiwgLnVwcHktSW1hZ2VDcm9wcGVyLXJhbmdlOmRpc2FibGVkOjotbXMtdGh1bWIsIC51cHB5LUltYWdlQ3JvcHBlci1yYW5nZTpkaXNhYmxlZDo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2ssIC51cHB5LUltYWdlQ3JvcHBlci1yYW5nZTpkaXNhYmxlZDo6LW1zLWZpbGwtbG93ZXIsIC51cHB5LUltYWdlQ3JvcHBlci1yYW5nZTpkaXNhYmxlZDo6LW1zLWZpbGwtdXBwZXIge1xcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcXG59XFxuXFxuLyohXFxuICogQ3JvcHBlci5qcyB2MS41LjZcXG4gKiBodHRwczovL2Zlbmd5dWFuY2hlbi5naXRodWIuaW8vY3JvcHBlcmpzXFxuICpcXG4gKiBDb3B5cmlnaHQgMjAxNS1wcmVzZW50IENoZW4gRmVuZ3l1YW5cXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcXG4gKlxcbiAqIERhdGU6IDIwMTktMTAtMDRUMDQ6MzM6NDQuMTY0WlxcbiAqL1xcbi5jcm9wcGVyLWNvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBmb250LXNpemU6IDA7XFxuICBsaW5lLWhlaWdodDogMDtcXG4gIGRpcmVjdGlvbjogbHRyO1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgdG91Y2gtYWN0aW9uOiBub25lO1xcbn1cXG5cXG4uY3JvcHBlci1jb250YWluZXIgaW1nIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtaW4td2lkdGg6IDAgIWltcG9ydGFudDtcXG4gIG1heC13aWR0aDogbm9uZSAhaW1wb3J0YW50O1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgbWluLWhlaWdodDogMCAhaW1wb3J0YW50O1xcbiAgbWF4LWhlaWdodDogbm9uZSAhaW1wb3J0YW50O1xcbiAgaW1hZ2Utb3JpZW50YXRpb246IDBkZWc7XFxufVxcblxcbi5jcm9wcGVyLXdyYXAtYm94LFxcbi5jcm9wcGVyLWNhbnZhcyxcXG4uY3JvcHBlci1kcmFnLWJveCxcXG4uY3JvcHBlci1jcm9wLWJveCxcXG4uY3JvcHBlci1tb2RhbCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxufVxcblxcbi5jcm9wcGVyLXdyYXAtYm94LFxcbi5jcm9wcGVyLWNhbnZhcyB7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG5cXG4uY3JvcHBlci1kcmFnLWJveCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgb3BhY2l0eTogMDtcXG59XFxuXFxuLmNyb3BwZXItbW9kYWwge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcXG4gIG9wYWNpdHk6IDE7XFxufVxcblxcbi5jcm9wcGVyLXZpZXctYm94IHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgb3V0bGluZTogMXB4IHNvbGlkICMzOWY7XFxuICBvdXRsaW5lLWNvbG9yOiByZ2JhKDUxLCAxNTMsIDI1NSwgMC43NSk7XFxuICBiYWNrZ3JvdW5kOiByZXBlYXRpbmctY29uaWMtZ3JhZGllbnQocmdiYSgwLCAwLCAwLCAwLjUpIDAlIDI1JSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpIDAlIDUwJSkgNTAlLzE2cHggMTZweDtcXG59XFxuXFxuLmNyb3BwZXItZGFzaGVkIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgYm9yZGVyOiAwIGRhc2hlZCAjZWVlO1xcbiAgb3BhY2l0eTogMC41O1xcbn1cXG5cXG4uY3JvcHBlci1kYXNoZWQuZGFzaGVkLWgge1xcbiAgdG9wOiAzMy4zMzMzMzMzMzMzJTtcXG4gIGxlZnQ6IDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMzMuMzMzMzMzMzMzMyU7XFxuICBib3JkZXItdG9wLXdpZHRoOiAxcHg7XFxuICBib3JkZXItYm90dG9tLXdpZHRoOiAxcHg7XFxufVxcblxcbi5jcm9wcGVyLWRhc2hlZC5kYXNoZWQtdiB7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAzMy4zMzMzMzMzMzMzJTtcXG4gIHdpZHRoOiAzMy4zMzMzMzMzMzMzJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGJvcmRlci1yaWdodC13aWR0aDogMXB4O1xcbiAgYm9yZGVyLWxlZnQtd2lkdGg6IDFweDtcXG59XFxuXFxuLmNyb3BwZXItY2VudGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogNTAlO1xcbiAgbGVmdDogNTAlO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG4gIG9wYWNpdHk6IDAuNzU7XFxufVxcblxcbi5jcm9wcGVyLWNlbnRlcjo6YmVmb3JlLFxcbi5jcm9wcGVyLWNlbnRlcjo6YWZ0ZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xcbiAgY29udGVudDogXFxcIiBcXFwiO1xcbn1cXG5cXG4uY3JvcHBlci1jZW50ZXI6OmJlZm9yZSB7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAtM3B4O1xcbiAgd2lkdGg6IDdweDtcXG4gIGhlaWdodDogMXB4O1xcbn1cXG5cXG4uY3JvcHBlci1jZW50ZXI6OmFmdGVyIHtcXG4gIHRvcDogLTNweDtcXG4gIGxlZnQ6IDA7XFxuICB3aWR0aDogMXB4O1xcbiAgaGVpZ2h0OiA3cHg7XFxufVxcblxcbi5jcm9wcGVyLWZhY2UsXFxuLmNyb3BwZXItbGluZSxcXG4uY3JvcHBlci1wb2ludCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgb3BhY2l0eTogMC4xO1xcbn1cXG5cXG4uY3JvcHBlci1mYWNlIHtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgb3BhY2l0eTogMDtcXG59XFxuXFxuLmNyb3BwZXItbGluZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzlmO1xcbn1cXG5cXG4uY3JvcHBlci1saW5lLmxpbmUtZSB7XFxuICB0b3A6IDA7XFxuICByaWdodDogLTNweDtcXG4gIHdpZHRoOiA1cHg7XFxuICBjdXJzb3I6IGV3LXJlc2l6ZTtcXG59XFxuXFxuLmNyb3BwZXItbGluZS5saW5lLW4ge1xcbiAgdG9wOiAtM3B4O1xcbiAgbGVmdDogMDtcXG4gIGhlaWdodDogNXB4O1xcbiAgY3Vyc29yOiBucy1yZXNpemU7XFxufVxcblxcbi5jcm9wcGVyLWxpbmUubGluZS13IHtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IC0zcHg7XFxuICB3aWR0aDogNXB4O1xcbiAgY3Vyc29yOiBldy1yZXNpemU7XFxufVxcblxcbi5jcm9wcGVyLWxpbmUubGluZS1zIHtcXG4gIGJvdHRvbTogLTNweDtcXG4gIGxlZnQ6IDA7XFxuICBoZWlnaHQ6IDVweDtcXG4gIGN1cnNvcjogbnMtcmVzaXplO1xcbn1cXG5cXG4uY3JvcHBlci1wb2ludCB7XFxuICB3aWR0aDogNXB4O1xcbiAgaGVpZ2h0OiA1cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzlmO1xcbiAgb3BhY2l0eTogMC43NTtcXG59XFxuXFxuLmNyb3BwZXItcG9pbnQucG9pbnQtZSB7XFxuICB0b3A6IDUwJTtcXG4gIHJpZ2h0OiAtM3B4O1xcbiAgbWFyZ2luLXRvcDogLTNweDtcXG4gIGN1cnNvcjogZXctcmVzaXplO1xcbn1cXG5cXG4uY3JvcHBlci1wb2ludC5wb2ludC1uIHtcXG4gIHRvcDogLTNweDtcXG4gIGxlZnQ6IDUwJTtcXG4gIG1hcmdpbi1sZWZ0OiAtM3B4O1xcbiAgY3Vyc29yOiBucy1yZXNpemU7XFxufVxcblxcbi5jcm9wcGVyLXBvaW50LnBvaW50LXcge1xcbiAgdG9wOiA1MCU7XFxuICBsZWZ0OiAtM3B4O1xcbiAgbWFyZ2luLXRvcDogLTNweDtcXG4gIGN1cnNvcjogZXctcmVzaXplO1xcbn1cXG5cXG4uY3JvcHBlci1wb2ludC5wb2ludC1zIHtcXG4gIGJvdHRvbTogLTNweDtcXG4gIGxlZnQ6IDUwJTtcXG4gIG1hcmdpbi1sZWZ0OiAtM3B4O1xcbiAgY3Vyc29yOiBzLXJlc2l6ZTtcXG59XFxuXFxuLmNyb3BwZXItcG9pbnQucG9pbnQtbmUge1xcbiAgdG9wOiAtM3B4O1xcbiAgcmlnaHQ6IC0zcHg7XFxuICBjdXJzb3I6IG5lc3ctcmVzaXplO1xcbn1cXG5cXG4uY3JvcHBlci1wb2ludC5wb2ludC1udyB7XFxuICB0b3A6IC0zcHg7XFxuICBsZWZ0OiAtM3B4O1xcbiAgY3Vyc29yOiBud3NlLXJlc2l6ZTtcXG59XFxuXFxuLmNyb3BwZXItcG9pbnQucG9pbnQtc3cge1xcbiAgYm90dG9tOiAtM3B4O1xcbiAgbGVmdDogLTNweDtcXG4gIGN1cnNvcjogbmVzdy1yZXNpemU7XFxufVxcblxcbi5jcm9wcGVyLXBvaW50LnBvaW50LXNlIHtcXG4gIHJpZ2h0OiAtM3B4O1xcbiAgYm90dG9tOiAtM3B4O1xcbiAgd2lkdGg6IDIwcHg7XFxuICBoZWlnaHQ6IDIwcHg7XFxuICBjdXJzb3I6IG53c2UtcmVzaXplO1xcbiAgb3BhY2l0eTogMTtcXG59XFxuXFxuQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7XFxuICAuY3JvcHBlci1wb2ludC5wb2ludC1zZSB7XFxuICAgIHdpZHRoOiAxNXB4O1xcbiAgICBoZWlnaHQ6IDE1cHg7XFxuICB9XFxufVxcbkBtZWRpYSAobWluLXdpZHRoOiA5OTJweCkge1xcbiAgLmNyb3BwZXItcG9pbnQucG9pbnQtc2Uge1xcbiAgICB3aWR0aDogMTBweDtcXG4gICAgaGVpZ2h0OiAxMHB4O1xcbiAgfVxcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogMTIwMHB4KSB7XFxuICAuY3JvcHBlci1wb2ludC5wb2ludC1zZSB7XFxuICAgIHdpZHRoOiA1cHg7XFxuICAgIGhlaWdodDogNXB4O1xcbiAgICBvcGFjaXR5OiAwLjc1O1xcbiAgfVxcbn1cXG4uY3JvcHBlci1wb2ludC5wb2ludC1zZTo6YmVmb3JlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiAtNTAlO1xcbiAgYm90dG9tOiAtNTAlO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB3aWR0aDogMjAwJTtcXG4gIGhlaWdodDogMjAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzOWY7XFxuICBvcGFjaXR5OiAwO1xcbiAgY29udGVudDogXFxcIiBcXFwiO1xcbn1cXG5cXG4uY3JvcHBlci1pbnZpc2libGUge1xcbiAgb3BhY2l0eTogMDtcXG59XFxuXFxuLmNyb3BwZXItYmcge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFBUU1BQUFBbFBXMGlBQUFBQTNOQ1NWUUlDQWpiNFUvZ0FBQUFCbEJNVkVYTXpNei8vLy9UalJWMkFBQUFDWEJJV1hNQUFBcnJBQUFLNndHQ2l3MWFBQUFBSEhSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCR2FYSmxkMjl5YTNNZ1ExTTI2THl5akFBQUFCRkpSRUZVQ0psaitNL0FnQlZoRi8wUEFINi9EL0hrRHhPR0FBQUFBRWxGVGtTdVFtQ0NcXFwiKTtcXG59XFxuXFxuLmNyb3BwZXItaGlkZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbn1cXG5cXG4uY3JvcHBlci1oaWRkZW4ge1xcbiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xcbn1cXG5cXG4uY3JvcHBlci1tb3ZlIHtcXG4gIGN1cnNvcjogbW92ZTtcXG59XFxuXFxuLmNyb3BwZXItY3JvcCB7XFxuICBjdXJzb3I6IGNyb3NzaGFpcjtcXG59XFxuXFxuLmNyb3BwZXItZGlzYWJsZWQgLmNyb3BwZXItZHJhZy1ib3gsXFxuLmNyb3BwZXItZGlzYWJsZWQgLmNyb3BwZXItZmFjZSxcXG4uY3JvcHBlci1kaXNhYmxlZCAuY3JvcHBlci1saW5lLFxcbi5jcm9wcGVyLWRpc2FibGVkIC5jcm9wcGVyLXBvaW50IHtcXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XFxufVxcblxcbi51cHB5LUltYWdlQ3JvcHBlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4udXBweS1JbWFnZUNyb3BwZXItY29udGFpbmVyIHtcXG4gIGZsZXgtZ3JvdzogMTtcXG59XFxuXFxuLnVwcHktSW1hZ2VDcm9wcGVyLWltYWdlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgbWF4LWhlaWdodDogNDAwcHg7XFxufVxcblxcbi51cHB5LUltYWdlQ3JvcHBlci1jb250cm9scyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDE1cHg7XFxuICBsZWZ0OiA1MCU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgcGFkZGluZy10b3A6IDM4cHg7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktSW1hZ2VDcm9wcGVyLWNvbnRyb2xzIHtcXG4gIHBhZGRpbmctdG9wOiAwO1xcbn1cXG5cXG4udXBweS1JbWFnZUNyb3BwZXItY29udHJvbHMgYnV0dG9uIHtcXG4gIHdpZHRoOiAzNXB4O1xcbiAgaGVpZ2h0OiAzNXB4O1xcbn1cXG4udXBweS1JbWFnZUNyb3BwZXItY29udHJvbHMgYnV0dG9uIHN2ZyB7XFxuICBwYWRkaW5nOiAzcHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LUltYWdlQ3JvcHBlci1jb250cm9scyBidXR0b24ge1xcbiAgd2lkdGg6IDQwcHg7XFxuICBoZWlnaHQ6IDQwcHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LUltYWdlQ3JvcHBlci1jb250cm9scyBidXR0b24gc3ZnIHtcXG4gIHBhZGRpbmc6IDFweDtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLWNvbnRyb2xzIGJ1dHRvbjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDM0LCAxMTcsIDIxNSwgMC44KTtcXG59XFxuLnVwcHktSW1hZ2VDcm9wcGVyLWNvbnRyb2xzIGJ1dHRvbjpmb2N1cyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDM0LCAxMTcsIDIxNSwgMC44KTtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcblxcbi51cHB5LUltYWdlQ3JvcHBlci1yYW5nZVdyYXBwZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7XFxuICB0b3A6IDA7XFxuICByaWdodDogMTBweDtcXG4gIGxlZnQ6IDEwcHg7XFxuICBoZWlnaHQ6IDM4cHg7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LUltYWdlQ3JvcHBlci1yYW5nZVdyYXBwZXIge1xcbiAgcG9zaXRpb246IHN0YXRpYyAhaW1wb3J0YW50O1xcbiAgaGVpZ2h0OiBhdXRvO1xcbn1cXG5cXG4udXBweS1zaXplLS1tZCAudXBweS1JbWFnZUNyb3BwZXItcmFuZ2Uge1xcbiAgd2lkdGg6IDE4MHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xcbiAgbWFyZ2luLWxlZnQ6IDVweDtcXG59XFxuXFxuLnVwcHktSW1hZ2VDcm9wcGVyIC5jcm9wcGVyLXBvaW50IHtcXG4gIHdpZHRoOiA4cHg7XFxuICBoZWlnaHQ6IDhweDtcXG59XFxuXFxuLnVwcHktSW1hZ2VDcm9wcGVyIC5jcm9wcGVyLXZpZXctYm94IHtcXG4gIG91dGxpbmU6IDJweCBzb2xpZCAjMzlmO1xcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLnVwcHktU2NyZWVuQ2FwdHVyZS1jb250YWluZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuLnVwcHktU2NyZWVuQ2FwdHVyZS12aWRlb0NvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBmbGV4OiAxO1xcbiAgZmxleC1ncm93OiAxO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktU2NyZWVuQ2FwdHVyZS12aWRlb0NvbnRhaW5lciB7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxufVxcblxcbi51cHB5LVNjcmVlbkNhcHR1cmUtdmlkZW8ge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgbWF4LWhlaWdodDogMTAwJTtcXG4gIG1hcmdpbjogYXV0bztcXG4gIG91dGxpbmU6IDA7XFxufVxcblxcbi51cHB5LVNjcmVlbkNhcHR1cmUtYnV0dG9uQ29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogNzVweDtcXG4gIHBhZGRpbmc6IDAgMjBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2VhZWFlYTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TY3JlZW5DYXB0dXJlLWJ1dHRvbkNvbnRhaW5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWYxZjFmO1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMzMzM7XFxufVxcblxcbi51cHB5LVNjcmVlbkNhcHR1cmUtYnV0dG9uIHtcXG4gIHdpZHRoOiA0NXB4O1xcbiAgaGVpZ2h0OiA0NXB4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4zcztcXG59XFxuLnVwcHktU2NyZWVuQ2FwdHVyZS1idXR0b246Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLnVwcHktU2NyZWVuQ2FwdHVyZS1idXR0b246Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG4udXBweS1TY3JlZW5DYXB0dXJlLWJ1dHRvbjpmb2N1cyB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgzNCwgMTE3LCAyMTUsIDAuNSk7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU2NyZWVuQ2FwdHVyZS1idXR0b246Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1TY3JlZW5DYXB0dXJlLWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU2NyZWVuQ2FwdHVyZS1idXR0b246Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogMCAwIDAgMnB4IHJnYmEoMTcwLCAyMjUsIDI1NSwgMC44NSk7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LVNjcmVlbkNhcHR1cmUtYnV0dG9uIHtcXG4gIHdpZHRoOiA2MHB4O1xcbiAgaGVpZ2h0OiA2MHB4O1xcbn1cXG4udXBweS1TY3JlZW5DYXB0dXJlLWJ1dHRvbjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDMxYjJkO1xcbn1cXG5cXG4udXBweS1TY3JlZW5DYXB0dXJlLWJ1dHRvbiBzdmcge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDMwcHg7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDMwcHg7XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHZlcnRpY2FsLWFsaWduOiB0ZXh0LXRvcDtcXG4gIGZpbGw6IGN1cnJlbnRDb2xvcjtcXG59XFxuXFxuLnVwcHktU2NyZWVuQ2FwdHVyZS1idXR0b24tLXN1Ym1pdCB7XFxuICBtYXJnaW4tbGVmdDogMTJweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyMjc1ZDc7XFxufVxcbi51cHB5LVNjcmVlbkNhcHR1cmUtYnV0dG9uLS1zdWJtaXQ6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmNjljMTtcXG59XFxuLnVwcHktU2NyZWVuQ2FwdHVyZS1idXR0b24tLXN1Ym1pdDpkaXNhYmxlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTM5MzkzO1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG4udXBweS1TY3JlZW5DYXB0dXJlLWJ1dHRvbi0tc3VibWl0OmRpc2FibGVkOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlYWVhZWE7XFxufVxcblxcbi51cHB5LVNjcmVlbkNhcHR1cmUtdGl0bGUge1xcbiAgbWF4LXdpZHRoOiA1MDBweDtcXG4gIG1hcmdpbjogMDtcXG4gIG1hcmdpbi1ib3R0b206IDVweDtcXG4gIHBhZGRpbmc6IDAgMTVweDtcXG4gIGNvbG9yOiAjMzMzO1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gIGZvbnQtc2l6ZTogMjJweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjM1O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4udXBweS1TY3JlZW5DYXB0dXJlLWljb24tLXN0cmVhbSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIHotaW5kZXg6IDE7XFxuICBtYXJnaW46IDFyZW07XFxufVxcbi51cHB5LVNjcmVlbkNhcHR1cmUtaWNvbi0tc3RyZWFtIHN2ZyB7XFxuICBmaWxsOiAjOTM5MzkzO1xcbn1cXG5cXG4udXBweS1TY3JlZW5DYXB0dXJlLWljb24tLXN0cmVhbUFjdGl2ZSBzdmcge1xcbiAgYW5pbWF0aW9uOiB1cHB5LVNjcmVlbkNhcHR1cmUtaWNvbi0tYmxpbmsgMXMgY3ViaWMtYmV6aWVyKDAuNDcsIDAsIDAuNzUsIDAuNzIpIGluZmluaXRlO1xcbn1cXG5cXG5Aa2V5ZnJhbWVzIHVwcHktU2NyZWVuQ2FwdHVyZS1pY29uLS1ibGluayB7XFxuICAwJSB7XFxuICAgIGZpbGw6ICMyMjc1ZDc7XFxuICB9XFxuICA1MCUge1xcbiAgICBmaWxsOiAjOTM5MzkzO1xcbiAgfVxcbiAgMTAwJSB7XFxuICAgIGZpbGw6ICMyMjc1ZDc7XFxuICB9XFxufVxcbi51cHB5LVNjcmVlbkNhcHR1cmUtYnV0dG9uLS12aWRlbyB7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGJhY2tncm91bmQ6ICNlMzI0Mzc7XFxufVxcbi51cHB5LVNjcmVlbkNhcHR1cmUtYnV0dG9uLS12aWRlbzpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmMxODI4O1xcbn1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9ub2RlX21vZHVsZXMvQHVwcHkvc2NyZWVuLWNhcHR1cmUvZGlzdC9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixPQUFPO0VBQ1AsWUFBWTtFQUNaLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLHNCQUFzQjtBQUN4QjtBQUNBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sUUFBUTtFQUNSLFNBQVM7RUFDVCxPQUFPO0VBQ1AsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osVUFBVTtBQUNaOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsV0FBVztFQUNYLFlBQVk7RUFDWixlQUFlO0VBQ2Ysc0JBQXNCO0VBQ3RCLDZCQUE2QjtBQUMvQjtBQUNBO0VBQ0UseUJBQXlCO0VBQ3pCLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osV0FBVztFQUNYLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2Ysb0JBQW9CO0FBQ3RCO0FBQ0E7RUFDRSxhQUFhO0FBQ2Y7QUFDQTtFQUNFLFNBQVM7QUFDWDtBQUNBO0VBQ0UsNkNBQTZDO0FBQy9DO0FBQ0E7RUFDRSxhQUFhO0FBQ2Y7QUFDQTtFQUNFLFNBQVM7QUFDWDtBQUNBO0VBQ0UsK0NBQStDO0FBQ2pEO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsWUFBWTtBQUNkO0FBQ0E7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsV0FBVztFQUNYLGVBQWU7RUFDZixZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQix3QkFBd0I7RUFDeEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLHlCQUF5QjtBQUMzQjtBQUNBO0VBQ0UseUJBQXlCO0FBQzNCO0FBQ0E7RUFDRSx5QkFBeUI7RUFDekIsZUFBZTtBQUNqQjtBQUNBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFNBQVM7RUFDVCxrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLFFBQVE7RUFDUixVQUFVO0VBQ1YsWUFBWTtBQUNkO0FBQ0E7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSx1RkFBdUY7QUFDekY7O0FBRUE7RUFDRTtJQUNFLGFBQWE7RUFDZjtFQUNBO0lBQ0UsYUFBYTtFQUNmO0VBQ0E7SUFDRSxhQUFhO0VBQ2Y7QUFDRjtBQUNBO0VBQ0UsV0FBVztFQUNYLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0UseUJBQXlCO0FBQzNCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi51cHB5LVNjcmVlbkNhcHR1cmUtY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi51cHB5LVNjcmVlbkNhcHR1cmUtdmlkZW9Db250YWluZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZmxleDogMTtcXG4gIGZsZXgtZ3JvdzogMTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XFxufVxcbi51cHB5LXNpemUtLW1kIC51cHB5LVNjcmVlbkNhcHR1cmUtdmlkZW9Db250YWluZXIge1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbn1cXG5cXG4udXBweS1TY3JlZW5DYXB0dXJlLXZpZGVvIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIG1heC13aWR0aDogMTAwJTtcXG4gIG1heC1oZWlnaHQ6IDEwMCU7XFxuICBtYXJnaW46IGF1dG87XFxuICBvdXRsaW5lOiAwO1xcbn1cXG5cXG4udXBweS1TY3JlZW5DYXB0dXJlLWJ1dHRvbkNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDc1cHg7XFxuICBwYWRkaW5nOiAwIDIwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlYWVhZWE7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU2NyZWVuQ2FwdHVyZS1idXR0b25Db250YWluZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMzMzO1xcbn1cXG5cXG4udXBweS1TY3JlZW5DYXB0dXJlLWJ1dHRvbiB7XFxuICB3aWR0aDogNDVweDtcXG4gIGhlaWdodDogNDVweDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XFxufVxcbi51cHB5LVNjcmVlbkNhcHR1cmUtYnV0dG9uOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LVNjcmVlbkNhcHR1cmUtYnV0dG9uOjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuLnVwcHktU2NyZWVuQ2FwdHVyZS1idXR0b246Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMzQsIDExNywgMjE1LCAwLjUpO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVNjcmVlbkNhcHR1cmUtYnV0dG9uOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktU2NyZWVuQ2FwdHVyZS1idXR0b246Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVNjcmVlbkNhcHR1cmUtYnV0dG9uOmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDE3MCwgMjI1LCAyNTUsIDAuODUpO1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1TY3JlZW5DYXB0dXJlLWJ1dHRvbiB7XFxuICB3aWR0aDogNjBweDtcXG4gIGhlaWdodDogNjBweDtcXG59XFxuLnVwcHktU2NyZWVuQ2FwdHVyZS1idXR0b246aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2QzMWIyZDtcXG59XFxuXFxuLnVwcHktU2NyZWVuQ2FwdHVyZS1idXR0b24gc3ZnIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHdpZHRoOiAzMHB4O1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAzMHB4O1xcbiAgbWF4LWhlaWdodDogMTAwJTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC10b3A7XFxuICBmaWxsOiBjdXJyZW50Q29sb3I7XFxufVxcblxcbi51cHB5LVNjcmVlbkNhcHR1cmUtYnV0dG9uLS1zdWJtaXQge1xcbiAgbWFyZ2luLWxlZnQ6IDEycHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjI3NWQ3O1xcbn1cXG4udXBweS1TY3JlZW5DYXB0dXJlLWJ1dHRvbi0tc3VibWl0OmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjY5YzE7XFxufVxcbi51cHB5LVNjcmVlbkNhcHR1cmUtYnV0dG9uLS1zdWJtaXQ6ZGlzYWJsZWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzkzOTM5MztcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuLnVwcHktU2NyZWVuQ2FwdHVyZS1idXR0b24tLXN1Ym1pdDpkaXNhYmxlZDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWFlYWVhO1xcbn1cXG5cXG4udXBweS1TY3JlZW5DYXB0dXJlLXRpdGxlIHtcXG4gIG1heC13aWR0aDogNTAwcHg7XFxuICBtYXJnaW46IDA7XFxuICBtYXJnaW4tYm90dG9tOiA1cHg7XFxuICBwYWRkaW5nOiAwIDE1cHg7XFxuICBjb2xvcjogIzMzMztcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICBmb250LXNpemU6IDIycHg7XFxuICBsaW5lLWhlaWdodDogMS4zNTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLnVwcHktU2NyZWVuQ2FwdHVyZS1pY29uLS1zdHJlYW0ge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICB6LWluZGV4OiAxO1xcbiAgbWFyZ2luOiAxcmVtO1xcbn1cXG4udXBweS1TY3JlZW5DYXB0dXJlLWljb24tLXN0cmVhbSBzdmcge1xcbiAgZmlsbDogIzkzOTM5MztcXG59XFxuXFxuLnVwcHktU2NyZWVuQ2FwdHVyZS1pY29uLS1zdHJlYW1BY3RpdmUgc3ZnIHtcXG4gIGFuaW1hdGlvbjogdXBweS1TY3JlZW5DYXB0dXJlLWljb24tLWJsaW5rIDFzIGN1YmljLWJlemllcigwLjQ3LCAwLCAwLjc1LCAwLjcyKSBpbmZpbml0ZTtcXG59XFxuXFxuQGtleWZyYW1lcyB1cHB5LVNjcmVlbkNhcHR1cmUtaWNvbi0tYmxpbmsge1xcbiAgMCUge1xcbiAgICBmaWxsOiAjMjI3NWQ3O1xcbiAgfVxcbiAgNTAlIHtcXG4gICAgZmlsbDogIzkzOTM5MztcXG4gIH1cXG4gIDEwMCUge1xcbiAgICBmaWxsOiAjMjI3NWQ3O1xcbiAgfVxcbn1cXG4udXBweS1TY3JlZW5DYXB0dXJlLWJ1dHRvbi0tdmlkZW8ge1xcbiAgY29sb3I6ICNmZmY7XFxuICBiYWNrZ3JvdW5kOiAjZTMyNDM3O1xcbn1cXG4udXBweS1TY3JlZW5DYXB0dXJlLWJ1dHRvbi0tdmlkZW86aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2JjMTgyODtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi51cHB5LVVybCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleDogMTtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Vcmwge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG59XFxuXFxuLnVwcHktVXJsLWlucHV0IHtcXG4gIHdpZHRoOiA5MCU7XFxuICBtYXgtd2lkdGg6IDY1MHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktVXJsLWlucHV0IHtcXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XFxufVxcblxcbi51cHB5LVVybC1pbXBvcnRCdXR0b24ge1xcbiAgcGFkZGluZzogMTNweCAyNXB4O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1VcmwtaW1wb3J0QnV0dG9uIHtcXG4gIHBhZGRpbmc6IDEzcHggMzBweDtcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL0B1cHB5L3VybC9kaXN0L3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLGFBQWE7RUFDYixPQUFPO0VBQ1Asc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsV0FBVztFQUNYLFlBQVk7QUFDZDtBQUNBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsVUFBVTtFQUNWLGdCQUFnQjtFQUNoQixtQkFBbUI7QUFDckI7QUFDQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0Usa0JBQWtCO0FBQ3BCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi51cHB5LVVybCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleDogMTtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1Vcmwge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcXG59XFxuXFxuLnVwcHktVXJsLWlucHV0IHtcXG4gIHdpZHRoOiA5MCU7XFxuICBtYXgtd2lkdGg6IDY1MHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcXG59XFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktVXJsLWlucHV0IHtcXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XFxufVxcblxcbi51cHB5LVVybC1pbXBvcnRCdXR0b24ge1xcbiAgcGFkZGluZzogMTNweCAyNXB4O1xcbn1cXG4udXBweS1zaXplLS1tZCAudXBweS1VcmwtaW1wb3J0QnV0dG9uIHtcXG4gIHBhZGRpbmc6IDEzcHggMzBweDtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD1VUy1BU0NJSSwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMjkyLjQlMjIlMjBoZWlnaHQlM0QlMjIyOTIuNCUyMiUzRSUzQ3BhdGglMjBmaWxsJTNEJTIyJTIzNzU3NTc1JTIyJTIwZCUzRCUyMk0yODclMjA2OS40YTE3LjYlMjAxNy42JTIwMCUyMDAlMjAwLTEzLTUuNEgxOC40Yy01JTIwMC05LjMlMjAxLjgtMTIuOSUyMDUuNEExNy42JTIwMTcuNiUyMDAlMjAwJTIwMCUyMDAlMjA4Mi4yYzAlMjA1JTIwMS44JTIwOS4zJTIwNS40JTIwMTIuOWwxMjglMjAxMjcuOWMzLjYlMjAzLjYlMjA3LjglMjA1LjQlMjAxMi44JTIwNS40czkuMi0xLjglMjAxMi44LTUuNEwyODclMjA5NWMzLjUtMy41JTIwNS40LTcuOCUyMDUuNC0xMi44JTIwMC01LTEuOS05LjItNS41LTEyLjh6JTIyJTJGJTNFJTNDJTJGc3ZnJTNFXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLnVwcHktV2ViY2FtLWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4udXBweS1XZWJjYW0tdmlkZW9Db250YWluZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZmxleDogMTtcXG4gIGZsZXgtZ3JvdzogMTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XFxufVxcblxcbi51cHB5LVdlYmNhbS12aWRlbyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbiAgbWFyZ2luOiBhdXRvO1xcbn1cXG5cXG4udXBweS1XZWJjYW0tdmlkZW8tLW1pcnJvcmVkIHtcXG4gIHRyYW5zZm9ybTogc2NhbGVYKC0xKTtcXG59XFxuXFxuLnVwcHktV2ViY2FtLWZvb3RlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWluLWhlaWdodDogNzVweDtcXG4gIHBhZGRpbmc6IDIwcHggMjBweDtcXG59XFxuXFxuLnVwcHktV2ViY2FtLXZpZGVvU291cmNlQ29udGFpbmVyIHtcXG4gIGZsZXgtZ3JvdzogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG4udXBweS1zaXplLS1sZyAudXBweS1XZWJjYW0tdmlkZW9Tb3VyY2VDb250YWluZXIge1xcbiAgd2lkdGg6IDMzJTtcXG4gIG1hcmdpbjogMDtcXG59XFxuXFxuLnVwcHktV2ViY2FtLXZpZGVvU291cmNlLXNlbGVjdCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWF4LXdpZHRoOiA5MCU7XFxuICBtYXJnaW46IGF1dG87XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbiAgcGFkZGluZzogMC40ZW0gMWVtIDAuM2VtIDAuNGVtO1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuMjtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gKyBcIik7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogcmlnaHQgMC40ZW0gdG9wIDUwJSwgMCAwO1xcbiAgYmFja2dyb3VuZC1zaXplOiAwLjY1ZW0gYXV0bywgMTAwJTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICM3NTc1NzU7XFxufVxcbi51cHB5LXNpemUtLWxnIC51cHB5LVdlYmNhbS12aWRlb1NvdXJjZS1zZWxlY3Qge1xcbiAgbWFyZ2luLWJvdHRvbTogMDtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG59XFxuXFxuLnVwcHktV2ViY2FtLXZpZGVvU291cmNlLXNlbGVjdDo6LW1zLWV4cGFuZCB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4udXBweS1XZWJjYW0tYnV0dG9uQ29udGFpbmVyIHtcXG4gIHdpZHRoOiA1MCU7XFxuICBtYXJnaW4tbGVmdDogMjUlO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4udXBweS1zaXplLS1sZyAudXBweS1XZWJjYW0tYnV0dG9uQ29udGFpbmVyIHtcXG4gIHdpZHRoOiAzNCU7XFxuICBtYXJnaW4tbGVmdDogMDtcXG59XFxuXFxuLnVwcHktV2ViY2FtLXJlY29yZGluZ0xlbmd0aCB7XFxuICBmbGV4LWdyb3c6IDA7XFxuICB3aWR0aDogMjUlO1xcbiAgY29sb3I6ICM3NTc1NzU7XFxuICBmb250LWZhbWlseTogU0ZNb25vLVJlZ3VsYXIsIE1lbmxvLCBNb25hY28sIENvbnNvbGFzLCBcXFwiTGliZXJhdGlvbiBNb25vXFxcIiwgXFxcIkNvdXJpZXIgTmV3XFxcIiwgbW9ub3NwYWNlO1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcblxcbi51cHB5LXNpemUtLWxnIC51cHB5LVdlYmNhbS1yZWNvcmRpbmdMZW5ndGgge1xcbiAgd2lkdGg6IDMzJTtcXG59XFxuXFxuLnVwcHktV2ViY2FtLWJ1dHRvbiB7XFxuICB3aWR0aDogNDVweDtcXG4gIGhlaWdodDogNDVweDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2UzMjQzNztcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjNzO1xcbn1cXG4udXBweS1XZWJjYW0tYnV0dG9uOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbi51cHB5LVdlYmNhbS1idXR0b246Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG4udXBweS1XZWJjYW0tYnV0dG9uOmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM0LCAxMTcsIDIxNSwgMC41KTtcXG59XFxuLnVwcHktV2ViY2FtLWJ1dHRvbjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDMxYjJkO1xcbn1cXG5bZGF0YS11cHB5LXRoZW1lPWRhcmtdIC51cHB5LVdlYmNhbS1idXR0b246Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1XZWJjYW0tYnV0dG9uOjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1XZWJjYW0tYnV0dG9uOmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDE3MCwgMjI1LCAyNTUsIDAuODUpO1xcbn1cXG5cXG4udXBweS1XZWJjYW0tYnV0dG9uLS1zdWJtaXQge1xcbiAgbWFyZ2luOiAwIDEycHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjI3NWQ3O1xcbn1cXG4udXBweS1XZWJjYW0tYnV0dG9uLS1zdWJtaXQ6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFmNjljMTtcXG59XFxuXFxuLnVwcHktV2ViY2FtLWJ1dHRvbiBzdmcge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDMwcHg7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDMwcHg7XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHZlcnRpY2FsLWFsaWduOiB0ZXh0LXRvcDtcXG4gIGZpbGw6IGN1cnJlbnRDb2xvcjtcXG59XFxuXFxuLnVwcHktc2l6ZS0tbWQgLnVwcHktV2ViY2FtLWJ1dHRvbiB7XFxuICB3aWR0aDogNjBweDtcXG4gIGhlaWdodDogNjBweDtcXG59XFxuXFxuLnVwcHktV2ViY2FtLWJ1dHRvbi0tcGljdHVyZSB7XFxuICBtYXJnaW4tcmlnaHQ6IDEycHg7XFxufVxcblxcbi51cHB5LVdlYmNhbS1wZXJtaXNzb25zIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4OiAxO1xcbiAgZmxleC1mbG93OiBjb2x1bW4gd3JhcDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHBhZGRpbmc6IDE1cHg7XFxufVxcblxcbi51cHB5LVdlYmNhbS1wZXJtaXNzb25zIHAge1xcbiAgbWF4LXdpZHRoOiA0NTBweDtcXG4gIG1hcmdpbjogMDtcXG4gIGNvbG9yOiAjOTM5MzkzO1xcbiAgbGluZS1oZWlnaHQ6IDEuMztcXG4gIGxpbmUtaGVpZ2h0OiAxLjQ1O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4udXBweS1XZWJjYW0tcGVybWlzc29uc0ljb24gc3ZnIHtcXG4gIHdpZHRoOiAxMDBweDtcXG4gIGhlaWdodDogNzVweDtcXG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XFxuICBjb2xvcjogI2JiYjtcXG59XFxuXFxuLnVwcHktV2ViY2FtLXRpdGxlIHtcXG4gIG1heC13aWR0aDogNTAwcHg7XFxuICBtYXJnaW46IDA7XFxuICBtYXJnaW4tYm90dG9tOiA1cHg7XFxuICBwYWRkaW5nOiAwIDE1cHg7XFxuICBjb2xvcjogIzMzMztcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICBmb250LXNpemU6IDIycHg7XFxuICBsaW5lLWhlaWdodDogMS4zNTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1XZWJjYW0tdGl0bGUge1xcbiAgY29sb3I6ICNlYWVhZWE7XFxufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9AdXBweS93ZWJjYW0vZGlzdC9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixPQUFPO0VBQ1AsWUFBWTtFQUNaLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sUUFBUTtFQUNSLFNBQVM7RUFDVCxPQUFPO0VBQ1AsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsZUFBZTtFQUNmLG1CQUFtQjtFQUNuQiw4QkFBOEI7RUFDOUIsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBO0VBQ0UsVUFBVTtFQUNWLFNBQVM7QUFDWDs7QUFFQTtFQUNFLGNBQWM7RUFDZCxXQUFXO0VBQ1gsY0FBYztFQUNkLFlBQVk7RUFDWixtQkFBbUI7RUFDbkIsOEJBQThCO0VBQzlCLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2Qix5REFBb2Y7RUFDcGYsNEJBQTRCO0VBQzVCLDZDQUE2QztFQUM3QyxrQ0FBa0M7RUFDbEMseUJBQXlCO0FBQzNCO0FBQ0E7RUFDRSxnQkFBZ0I7RUFDaEIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLFVBQVU7RUFDVixnQkFBZ0I7RUFDaEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsVUFBVTtFQUNWLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osVUFBVTtFQUNWLGNBQWM7RUFDZCxpR0FBaUc7RUFDakcsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsVUFBVTtBQUNaOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2Ysb0JBQW9CO0FBQ3RCO0FBQ0E7RUFDRSxhQUFhO0FBQ2Y7QUFDQTtFQUNFLFNBQVM7QUFDWDtBQUNBO0VBQ0UsNkNBQTZDO0FBQy9DO0FBQ0E7RUFDRSx5QkFBeUI7QUFDM0I7QUFDQTtFQUNFLGFBQWE7QUFDZjtBQUNBO0VBQ0UsU0FBUztBQUNYO0FBQ0E7RUFDRSwrQ0FBK0M7QUFDakQ7O0FBRUE7RUFDRSxjQUFjO0VBQ2QseUJBQXlCO0FBQzNCO0FBQ0E7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsV0FBVztFQUNYLGVBQWU7RUFDZixZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQix3QkFBd0I7RUFDeEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixPQUFPO0VBQ1Asc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsWUFBWTtFQUNaLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixTQUFTO0VBQ1QsY0FBYztFQUNkLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLFlBQVk7RUFDWixtQkFBbUI7RUFDbkIsV0FBVztBQUNiOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFNBQVM7RUFDVCxrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLGNBQWM7QUFDaEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLnVwcHktV2ViY2FtLWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4udXBweS1XZWJjYW0tdmlkZW9Db250YWluZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZmxleDogMTtcXG4gIGZsZXgtZ3JvdzogMTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XFxufVxcblxcbi51cHB5LVdlYmNhbS12aWRlbyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbiAgbWFyZ2luOiBhdXRvO1xcbn1cXG5cXG4udXBweS1XZWJjYW0tdmlkZW8tLW1pcnJvcmVkIHtcXG4gIHRyYW5zZm9ybTogc2NhbGVYKC0xKTtcXG59XFxuXFxuLnVwcHktV2ViY2FtLWZvb3RlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWluLWhlaWdodDogNzVweDtcXG4gIHBhZGRpbmc6IDIwcHggMjBweDtcXG59XFxuXFxuLnVwcHktV2ViY2FtLXZpZGVvU291cmNlQ29udGFpbmVyIHtcXG4gIGZsZXgtZ3JvdzogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG4udXBweS1zaXplLS1sZyAudXBweS1XZWJjYW0tdmlkZW9Tb3VyY2VDb250YWluZXIge1xcbiAgd2lkdGg6IDMzJTtcXG4gIG1hcmdpbjogMDtcXG59XFxuXFxuLnVwcHktV2ViY2FtLXZpZGVvU291cmNlLXNlbGVjdCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWF4LXdpZHRoOiA5MCU7XFxuICBtYXJnaW46IGF1dG87XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbiAgcGFkZGluZzogMC40ZW0gMWVtIDAuM2VtIDAuNGVtO1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuMjtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9VVMtQVNDSUksJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjI5Mi40JTIyJTIwaGVpZ2h0JTNEJTIyMjkyLjQlMjIlM0UlM0NwYXRoJTIwZmlsbCUzRCUyMiUyMzc1NzU3NSUyMiUyMGQlM0QlMjJNMjg3JTIwNjkuNGExNy42JTIwMTcuNiUyMDAlMjAwJTIwMC0xMy01LjRIMTguNGMtNSUyMDAtOS4zJTIwMS44LTEyLjklMjA1LjRBMTcuNiUyMDE3LjYlMjAwJTIwMCUyMDAlMjAwJTIwODIuMmMwJTIwNSUyMDEuOCUyMDkuMyUyMDUuNCUyMDEyLjlsMTI4JTIwMTI3LjljMy42JTIwMy42JTIwNy44JTIwNS40JTIwMTIuOCUyMDUuNHM5LjItMS44JTIwMTIuOC01LjRMMjg3JTIwOTVjMy41LTMuNSUyMDUuNC03LjglMjA1LjQtMTIuOCUyMDAtNS0xLjktOS4yLTUuNS0xMi44eiUyMiUyRiUzRSUzQyUyRnN2ZyUzRVxcXCIpO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IHJpZ2h0IDAuNGVtIHRvcCA1MCUsIDAgMDtcXG4gIGJhY2tncm91bmQtc2l6ZTogMC42NWVtIGF1dG8sIDEwMCU7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjNzU3NTc1O1xcbn1cXG4udXBweS1zaXplLS1sZyAudXBweS1XZWJjYW0tdmlkZW9Tb3VyY2Utc2VsZWN0IHtcXG4gIG1hcmdpbi1ib3R0b206IDA7XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcblxcbi51cHB5LVdlYmNhbS12aWRlb1NvdXJjZS1zZWxlY3Q6Oi1tcy1leHBhbmQge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLnVwcHktV2ViY2FtLWJ1dHRvbkNvbnRhaW5lciB7XFxuICB3aWR0aDogNTAlO1xcbiAgbWFyZ2luLWxlZnQ6IDI1JTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLnVwcHktc2l6ZS0tbGcgLnVwcHktV2ViY2FtLWJ1dHRvbkNvbnRhaW5lciB7XFxuICB3aWR0aDogMzQlO1xcbiAgbWFyZ2luLWxlZnQ6IDA7XFxufVxcblxcbi51cHB5LVdlYmNhbS1yZWNvcmRpbmdMZW5ndGgge1xcbiAgZmxleC1ncm93OiAwO1xcbiAgd2lkdGg6IDI1JTtcXG4gIGNvbG9yOiAjNzU3NTc1O1xcbiAgZm9udC1mYW1pbHk6IFNGTW9uby1SZWd1bGFyLCBNZW5sbywgTW9uYWNvLCBDb25zb2xhcywgXFxcIkxpYmVyYXRpb24gTW9ub1xcXCIsIFxcXCJDb3VyaWVyIE5ld1xcXCIsIG1vbm9zcGFjZTtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbn1cXG5cXG4udXBweS1zaXplLS1sZyAudXBweS1XZWJjYW0tcmVjb3JkaW5nTGVuZ3RoIHtcXG4gIHdpZHRoOiAzMyU7XFxufVxcblxcbi51cHB5LVdlYmNhbS1idXR0b24ge1xcbiAgd2lkdGg6IDQ1cHg7XFxuICBoZWlnaHQ6IDQ1cHg7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlMzI0Mzc7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4zcztcXG59XFxuLnVwcHktV2ViY2FtLWJ1dHRvbjpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4udXBweS1XZWJjYW0tYnV0dG9uOjotbW96LWZvY3VzLWlubmVyIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuLnVwcHktV2ViY2FtLWJ1dHRvbjpmb2N1cyB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgzNCwgMTE3LCAyMTUsIDAuNSk7XFxufVxcbi51cHB5LVdlYmNhbS1idXR0b246aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2QzMWIyZDtcXG59XFxuW2RhdGEtdXBweS10aGVtZT1kYXJrXSAudXBweS1XZWJjYW0tYnV0dG9uOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktV2ViY2FtLWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktV2ViY2FtLWJ1dHRvbjpmb2N1cyB7XFxuICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSgxNzAsIDIyNSwgMjU1LCAwLjg1KTtcXG59XFxuXFxuLnVwcHktV2ViY2FtLWJ1dHRvbi0tc3VibWl0IHtcXG4gIG1hcmdpbjogMCAxMnB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIyNzVkNztcXG59XFxuLnVwcHktV2ViY2FtLWJ1dHRvbi0tc3VibWl0OmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjY5YzE7XFxufVxcblxcbi51cHB5LVdlYmNhbS1idXR0b24gc3ZnIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHdpZHRoOiAzMHB4O1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAzMHB4O1xcbiAgbWF4LWhlaWdodDogMTAwJTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC10b3A7XFxuICBmaWxsOiBjdXJyZW50Q29sb3I7XFxufVxcblxcbi51cHB5LXNpemUtLW1kIC51cHB5LVdlYmNhbS1idXR0b24ge1xcbiAgd2lkdGg6IDYwcHg7XFxuICBoZWlnaHQ6IDYwcHg7XFxufVxcblxcbi51cHB5LVdlYmNhbS1idXR0b24tLXBpY3R1cmUge1xcbiAgbWFyZ2luLXJpZ2h0OiAxMnB4O1xcbn1cXG5cXG4udXBweS1XZWJjYW0tcGVybWlzc29ucyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleDogMTtcXG4gIGZsZXgtZmxvdzogY29sdW1uIHdyYXA7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBwYWRkaW5nOiAxNXB4O1xcbn1cXG5cXG4udXBweS1XZWJjYW0tcGVybWlzc29ucyBwIHtcXG4gIG1heC13aWR0aDogNDUwcHg7XFxuICBtYXJnaW46IDA7XFxuICBjb2xvcjogIzkzOTM5MztcXG4gIGxpbmUtaGVpZ2h0OiAxLjM7XFxuICBsaW5lLWhlaWdodDogMS40NTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLnVwcHktV2ViY2FtLXBlcm1pc3NvbnNJY29uIHN2ZyB7XFxuICB3aWR0aDogMTAwcHg7XFxuICBoZWlnaHQ6IDc1cHg7XFxuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xcbiAgY29sb3I6ICNiYmI7XFxufVxcblxcbi51cHB5LVdlYmNhbS10aXRsZSB7XFxuICBtYXgtd2lkdGg6IDUwMHB4O1xcbiAgbWFyZ2luOiAwO1xcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xcbiAgcGFkZGluZzogMCAxNXB4O1xcbiAgY29sb3I6ICMzMzM7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgZm9udC1zaXplOiAyMnB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuMzU7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbltkYXRhLXVwcHktdGhlbWU9ZGFya10gLnVwcHktV2ViY2FtLXRpdGxlIHtcXG4gIGNvbG9yOiAjZWFlYWVhO1xcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBpZiAoIXVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgdXJsID0gU3RyaW5nKHVybC5fX2VzTW9kdWxlID8gdXJsLmRlZmF1bHQgOiB1cmwpO1xuXG4gIC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuICBpZiAoL15bJ1wiXS4qWydcIl0kLy50ZXN0KHVybCkpIHtcbiAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICB9XG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9XG5cbiAgLy8gU2hvdWxkIHVybCBiZSB3cmFwcGVkP1xuICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuICBpZiAoL1tcIicoKSBcXHRcXG5dfCglMjApLy50ZXN0KHVybCkgfHwgb3B0aW9ucy5uZWVkUXVvdGVzKSB7XG4gICAgcmV0dXJuIFwiXFxcIlwiLmNvbmNhdCh1cmwucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpLCBcIlxcXCJcIik7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBpc01vYmlsZVxubW9kdWxlLmV4cG9ydHMuaXNNb2JpbGUgPSBpc01vYmlsZVxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGlzTW9iaWxlXG5cbmNvbnN0IG1vYmlsZVJFID0gLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhcm12N2x8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllc1s0Nl0wfHNhbXN1bmdicm93c2VyfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIChjZXxwaG9uZSl8eGRhfHhpaW5vL2lcbmNvbnN0IG5vdE1vYmlsZVJFID0gL0NyT1MvXG5cbmNvbnN0IHRhYmxldFJFID0gL2FuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2lcblxuZnVuY3Rpb24gaXNNb2JpbGUgKG9wdHMpIHtcbiAgaWYgKCFvcHRzKSBvcHRzID0ge31cbiAgbGV0IHVhID0gb3B0cy51YVxuICBpZiAoIXVhICYmIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKSB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnRcbiAgaWYgKHVhICYmIHVhLmhlYWRlcnMgJiYgdHlwZW9mIHVhLmhlYWRlcnNbJ3VzZXItYWdlbnQnXSA9PT0gJ3N0cmluZycpIHtcbiAgICB1YSA9IHVhLmhlYWRlcnNbJ3VzZXItYWdlbnQnXVxuICB9XG4gIGlmICh0eXBlb2YgdWEgIT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2VcblxuICBsZXQgcmVzdWx0ID1cbiAgICAobW9iaWxlUkUudGVzdCh1YSkgJiYgIW5vdE1vYmlsZVJFLnRlc3QodWEpKSB8fFxuICAgICghIW9wdHMudGFibGV0ICYmIHRhYmxldFJFLnRlc3QodWEpKVxuXG4gIGlmIChcbiAgICAhcmVzdWx0ICYmXG4gICAgb3B0cy50YWJsZXQgJiZcbiAgICBvcHRzLmZlYXR1cmVEZXRlY3QgJiZcbiAgICBuYXZpZ2F0b3IgJiZcbiAgICBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxICYmXG4gICAgdWEuaW5kZXhPZignTWFjaW50b3NoJykgIT09IC0xICYmXG4gICAgdWEuaW5kZXhPZignU2FmYXJpJykgIT09IC0xXG4gICkge1xuICAgIHJlc3VsdCA9IHRydWVcbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNTaGFsbG93RXF1YWwgKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlXG4gIGZvciAodmFyIGkgaW4gYSkgaWYgKCEoaSBpbiBiKSkgcmV0dXJuIGZhbHNlXG4gIGZvciAodmFyIGkgaW4gYikgaWYgKGFbaV0gIT09IGJbaV0pIHJldHVybiBmYWxzZVxuICByZXR1cm4gdHJ1ZVxufVxuIiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBgVHlwZUVycm9yYCBtZXNzYWdlIGZvciBcIkZ1bmN0aW9uc1wiIG1ldGhvZHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbSA9IC9eXFxzK3xcXHMrJC9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbi8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG52YXIgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcblxuLyoqXG4gKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBEYXRlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAqIH0sIF8ubm93KCkpO1xuICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAqL1xudmFyIG5vdyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gKiBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICogICAndHJhaWxpbmcnOiBmYWxzZVxuICogfSkpO1xuICpcbiAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxhc3RBcmdzLFxuICAgICAgbGFzdFRoaXMsXG4gICAgICBtYXhXYWl0LFxuICAgICAgcmVzdWx0LFxuICAgICAgdGltZXJJZCxcbiAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICByZXN1bHQgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICByZXR1cm4gbWF4aW5nID8gbmF0aXZlTWluKHJlc3VsdCwgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgfVxuICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICB9XG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICB9XG4gICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvTnVtYmVyKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b051bWJlcihJbmZpbml0eSk7XG4gKiAvLyA9PiBJbmZpbml0eVxuICpcbiAqIF8udG9OdW1iZXIoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBOQU47XG4gIH1cbiAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgfVxuICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KVxuICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlYm91bmNlO1xuIiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBgVHlwZUVycm9yYCBtZXNzYWdlIGZvciBcIkZ1bmN0aW9uc1wiIG1ldGhvZHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbSA9IC9eXFxzK3xcXHMrJC9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbi8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG52YXIgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcblxuLyoqXG4gKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBEYXRlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAqIH0sIF8ubm93KCkpO1xuICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAqL1xudmFyIG5vdyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gKiBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICogICAndHJhaWxpbmcnOiBmYWxzZVxuICogfSkpO1xuICpcbiAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxhc3RBcmdzLFxuICAgICAgbGFzdFRoaXMsXG4gICAgICBtYXhXYWl0LFxuICAgICAgcmVzdWx0LFxuICAgICAgdGltZXJJZCxcbiAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICByZXN1bHQgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICByZXR1cm4gbWF4aW5nID8gbmF0aXZlTWluKHJlc3VsdCwgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgfVxuICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICB9XG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICB9XG4gICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICpcbiAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgfSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvTnVtYmVyKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b051bWJlcihJbmZpbml0eSk7XG4gKiAvLyA9PiBJbmZpbml0eVxuICpcbiAqIF8udG9OdW1iZXIoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBOQU47XG4gIH1cbiAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgfVxuICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KVxuICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRocm90dGxlO1xuIiwidmFyIHNhZmVJc05hTiA9IE51bWJlci5pc05hTiB8fFxuICAgIGZ1bmN0aW9uIHBvbnlmaWxsKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlICE9PSB2YWx1ZTtcbiAgICB9O1xuZnVuY3Rpb24gaXNFcXVhbChmaXJzdCwgc2Vjb25kKSB7XG4gICAgaWYgKGZpcnN0ID09PSBzZWNvbmQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChzYWZlSXNOYU4oZmlyc3QpICYmIHNhZmVJc05hTihzZWNvbmQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBhcmVJbnB1dHNFcXVhbChuZXdJbnB1dHMsIGxhc3RJbnB1dHMpIHtcbiAgICBpZiAobmV3SW5wdXRzLmxlbmd0aCAhPT0gbGFzdElucHV0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld0lucHV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWlzRXF1YWwobmV3SW5wdXRzW2ldLCBsYXN0SW5wdXRzW2ldKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBtZW1vaXplT25lKHJlc3VsdEZuLCBpc0VxdWFsKSB7XG4gICAgaWYgKGlzRXF1YWwgPT09IHZvaWQgMCkgeyBpc0VxdWFsID0gYXJlSW5wdXRzRXF1YWw7IH1cbiAgICB2YXIgY2FjaGUgPSBudWxsO1xuICAgIGZ1bmN0aW9uIG1lbW9pemVkKCkge1xuICAgICAgICB2YXIgbmV3QXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgbmV3QXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYWNoZSAmJiBjYWNoZS5sYXN0VGhpcyA9PT0gdGhpcyAmJiBpc0VxdWFsKG5ld0FyZ3MsIGNhY2hlLmxhc3RBcmdzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlLmxhc3RSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RSZXN1bHQgPSByZXN1bHRGbi5hcHBseSh0aGlzLCBuZXdBcmdzKTtcbiAgICAgICAgY2FjaGUgPSB7XG4gICAgICAgICAgICBsYXN0UmVzdWx0OiBsYXN0UmVzdWx0LFxuICAgICAgICAgICAgbGFzdEFyZ3M6IG5ld0FyZ3MsXG4gICAgICAgICAgICBsYXN0VGhpczogdGhpcyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgfVxuICAgIG1lbW9pemVkLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIGNhY2hlID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBtZW1vaXplZDtcbn1cblxuZXhwb3J0IHsgbWVtb2l6ZU9uZSBhcyBkZWZhdWx0IH07XG4iLCJ2YXIgd2lsZGNhcmQgPSByZXF1aXJlKCd3aWxkY2FyZCcpO1xudmFyIHJlTWltZVBhcnRTcGxpdCA9IC9bXFwvXFwrXFwuXS87XG5cbi8qKlxuICAjIG1pbWUtbWF0Y2hcblxuICBBIHNpbXBsZSBmdW5jdGlvbiB0byBjaGVja2VyIHdoZXRoZXIgYSB0YXJnZXQgbWltZSB0eXBlIG1hdGNoZXMgYSBtaW1lLXR5cGVcbiAgcGF0dGVybiAoZS5nLiBpbWFnZS9qcGVnIG1hdGNoZXMgaW1hZ2UvanBlZyBPUiBpbWFnZS8qKS5cblxuICAjIyBFeGFtcGxlIFVzYWdlXG5cbiAgPDw8IGV4YW1wbGUuanNcblxuKiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHRhcmdldCwgcGF0dGVybikge1xuICBmdW5jdGlvbiB0ZXN0KHBhdHRlcm4pIHtcbiAgICB2YXIgcmVzdWx0ID0gd2lsZGNhcmQocGF0dGVybiwgdGFyZ2V0LCByZU1pbWVQYXJ0U3BsaXQpO1xuXG4gICAgLy8gZW5zdXJlIHRoYXQgd2UgaGF2ZSBhIHZhbGlkIG1pbWUgdHlwZSAoc2hvdWxkIGhhdmUgdHdvIHBhcnRzKVxuICAgIHJldHVybiByZXN1bHQgJiYgcmVzdWx0Lmxlbmd0aCA+PSAyO1xuICB9XG5cbiAgcmV0dXJuIHBhdHRlcm4gPyB0ZXN0KHBhdHRlcm4uc3BsaXQoJzsnKVswXSkgOiB0ZXN0O1xufTtcbiIsIi8qKlxuKiBDcmVhdGUgYW4gZXZlbnQgZW1pdHRlciB3aXRoIG5hbWVzcGFjZXNcbiogQG5hbWUgY3JlYXRlTmFtZXNwYWNlRW1pdHRlclxuKiBAZXhhbXBsZVxuKiB2YXIgZW1pdHRlciA9IHJlcXVpcmUoJy4vaW5kZXgnKSgpXG4qXG4qIGVtaXR0ZXIub24oJyonLCBmdW5jdGlvbiAoKSB7XG4qICAgY29uc29sZS5sb2coJ2FsbCBldmVudHMgZW1pdHRlZCcsIHRoaXMuZXZlbnQpXG4qIH0pXG4qXG4qIGVtaXR0ZXIub24oJ2V4YW1wbGUnLCBmdW5jdGlvbiAoKSB7XG4qICAgY29uc29sZS5sb2coJ2V4YW1wbGUgZXZlbnQgZW1pdHRlZCcpXG4qIH0pXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVOYW1lc3BhY2VFbWl0dGVyICgpIHtcbiAgdmFyIGVtaXR0ZXIgPSB7fVxuICB2YXIgX2ZucyA9IGVtaXR0ZXIuX2ZucyA9IHt9XG5cbiAgLyoqXG4gICogRW1pdCBhbiBldmVudC4gT3B0aW9uYWxseSBuYW1lc3BhY2UgdGhlIGV2ZW50LiBIYW5kbGVycyBhcmUgZmlyZWQgaW4gdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgd2VyZSBhZGRlZCB3aXRoIGV4YWN0IG1hdGNoZXMgdGFraW5nIHByZWNlZGVuY2UuIFNlcGFyYXRlIHRoZSBuYW1lc3BhY2UgYW5kIGV2ZW50IHdpdGggYSBgOmBcbiAgKiBAbmFtZSBlbWl0XG4gICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IOKAkyB0aGUgbmFtZSBvZiB0aGUgZXZlbnQsIHdpdGggb3B0aW9uYWwgbmFtZXNwYWNlXG4gICogQHBhcmFtIHsuLi4qfSBkYXRhIOKAkyB1cCB0byA2IGFyZ3VtZW50cyB0aGF0IGFyZSBwYXNzZWQgdG8gdGhlIGV2ZW50IGxpc3RlbmVyXG4gICogQGV4YW1wbGVcbiAgKiBlbWl0dGVyLmVtaXQoJ2V4YW1wbGUnKVxuICAqIGVtaXR0ZXIuZW1pdCgnZGVtbzp0ZXN0JylcbiAgKiBlbWl0dGVyLmVtaXQoJ2RhdGEnLCB7IGV4YW1wbGU6IHRydWV9LCAnYSBzdHJpbmcnLCAxKVxuICAqL1xuICBlbWl0dGVyLmVtaXQgPSBmdW5jdGlvbiBlbWl0IChldmVudCwgYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSwgYXJnNikge1xuICAgIHZhciB0b0VtaXQgPSBnZXRMaXN0ZW5lcnMoZXZlbnQpXG5cbiAgICBpZiAodG9FbWl0Lmxlbmd0aCkge1xuICAgICAgZW1pdEFsbChldmVudCwgdG9FbWl0LCBbYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSwgYXJnNl0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogQ3JlYXRlIGVuIGV2ZW50IGxpc3RlbmVyLlxuICAqIEBuYW1lIG9uXG4gICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAgKiBAZXhhbXBsZVxuICAqIGVtaXR0ZXIub24oJ2V4YW1wbGUnLCBmdW5jdGlvbiAoKSB7fSlcbiAgKiBlbWl0dGVyLm9uKCdkZW1vJywgZnVuY3Rpb24gKCkge30pXG4gICovXG4gIGVtaXR0ZXIub24gPSBmdW5jdGlvbiBvbiAoZXZlbnQsIGZuKSB7XG4gICAgaWYgKCFfZm5zW2V2ZW50XSkge1xuICAgICAgX2Zuc1tldmVudF0gPSBbXVxuICAgIH1cblxuICAgIF9mbnNbZXZlbnRdLnB1c2goZm4pXG4gIH1cblxuICAvKipcbiAgKiBDcmVhdGUgZW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaXJlcyBvbmNlLlxuICAqIEBuYW1lIG9uY2VcbiAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICAqIEBleGFtcGxlXG4gICogZW1pdHRlci5vbmNlKCdleGFtcGxlJywgZnVuY3Rpb24gKCkge30pXG4gICogZW1pdHRlci5vbmNlKCdkZW1vJywgZnVuY3Rpb24gKCkge30pXG4gICovXG4gIGVtaXR0ZXIub25jZSA9IGZ1bmN0aW9uIG9uY2UgKGV2ZW50LCBmbikge1xuICAgIGZ1bmN0aW9uIG9uZSAoKSB7XG4gICAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICBlbWl0dGVyLm9mZihldmVudCwgb25lKVxuICAgIH1cbiAgICB0aGlzLm9uKGV2ZW50LCBvbmUpXG4gIH1cblxuICAvKipcbiAgKiBTdG9wIGxpc3RlbmluZyB0byBhbiBldmVudC4gU3RvcCBhbGwgbGlzdGVuZXJzIG9uIGFuIGV2ZW50IGJ5IG9ubHkgcGFzc2luZyB0aGUgZXZlbnQgbmFtZS4gU3RvcCBhIHNpbmdsZSBsaXN0ZW5lciBieSBwYXNzaW5nIHRoYXQgZXZlbnQgaGFuZGxlciBhcyBhIGNhbGxiYWNrLlxuICAqIFlvdSBtdXN0IGJlIGV4cGxpY2l0IGFib3V0IHdoYXQgd2lsbCBiZSB1bnN1YnNjcmliZWQ6IGBlbWl0dGVyLm9mZignZGVtbycpYCB3aWxsIHVuc3Vic2NyaWJlIGFuIGBlbWl0dGVyLm9uKCdkZW1vJylgIGxpc3RlbmVyLFxuICAqIGBlbWl0dGVyLm9mZignZGVtbzpleGFtcGxlJylgIHdpbGwgdW5zdWJzY3JpYmUgYW4gYGVtaXR0ZXIub24oJ2RlbW86ZXhhbXBsZScpYCBsaXN0ZW5lclxuICAqIEBuYW1lIG9mZlxuICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl0g4oCTIHRoZSBzcGVjaWZpYyBoYW5kbGVyXG4gICogQGV4YW1wbGVcbiAgKiBlbWl0dGVyLm9mZignZXhhbXBsZScpXG4gICogZW1pdHRlci5vZmYoJ2RlbW8nLCBmdW5jdGlvbiAoKSB7fSlcbiAgKi9cbiAgZW1pdHRlci5vZmYgPSBmdW5jdGlvbiBvZmYgKGV2ZW50LCBmbikge1xuICAgIHZhciBrZWVwID0gW11cblxuICAgIGlmIChldmVudCAmJiBmbikge1xuICAgICAgdmFyIGZucyA9IHRoaXMuX2Zuc1tldmVudF1cbiAgICAgIHZhciBpID0gMFxuICAgICAgdmFyIGwgPSBmbnMgPyBmbnMubGVuZ3RoIDogMFxuXG4gICAgICBmb3IgKGk7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGZuc1tpXSAhPT0gZm4pIHtcbiAgICAgICAgICBrZWVwLnB1c2goZm5zW2ldKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAga2VlcC5sZW5ndGggPyB0aGlzLl9mbnNbZXZlbnRdID0ga2VlcCA6IGRlbGV0ZSB0aGlzLl9mbnNbZXZlbnRdXG4gIH1cblxuICBmdW5jdGlvbiBnZXRMaXN0ZW5lcnMgKGUpIHtcbiAgICB2YXIgb3V0ID0gX2Zuc1tlXSA/IF9mbnNbZV0gOiBbXVxuICAgIHZhciBpZHggPSBlLmluZGV4T2YoJzonKVxuICAgIHZhciBhcmdzID0gKGlkeCA9PT0gLTEpID8gW2VdIDogW2Uuc3Vic3RyaW5nKDAsIGlkeCksIGUuc3Vic3RyaW5nKGlkeCArIDEpXVxuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhfZm5zKVxuICAgIHZhciBpID0gMFxuICAgIHZhciBsID0ga2V5cy5sZW5ndGhcblxuICAgIGZvciAoaTsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV1cbiAgICAgIGlmIChrZXkgPT09ICcqJykge1xuICAgICAgICBvdXQgPSBvdXQuY29uY2F0KF9mbnNba2V5XSlcbiAgICAgIH1cblxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyICYmIGFyZ3NbMF0gPT09IGtleSkge1xuICAgICAgICBvdXQgPSBvdXQuY29uY2F0KF9mbnNba2V5XSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0XG4gIH1cblxuICBmdW5jdGlvbiBlbWl0QWxsIChlLCBmbnMsIGFyZ3MpIHtcbiAgICB2YXIgaSA9IDBcbiAgICB2YXIgbCA9IGZucy5sZW5ndGhcblxuICAgIGZvciAoaTsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKCFmbnNbaV0pIGJyZWFrXG4gICAgICBmbnNbaV0uZXZlbnQgPSBlXG4gICAgICBmbnNbaV0uYXBwbHkoZm5zW2ldLCBhcmdzKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlbWl0dGVyXG59XG4iLCJ2YXIgbixsLHUsaSx0LHIsbyxmLGUsYz17fSxzPVtdLGE9L2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8aXRlcmEvaTtmdW5jdGlvbiBoKG4sbCl7Zm9yKHZhciB1IGluIGwpblt1XT1sW3VdO3JldHVybiBufWZ1bmN0aW9uIHYobil7dmFyIGw9bi5wYXJlbnROb2RlO2wmJmwucmVtb3ZlQ2hpbGQobil9ZnVuY3Rpb24geShsLHUsaSl7dmFyIHQscixvLGY9e307Zm9yKG8gaW4gdSlcImtleVwiPT1vP3Q9dVtvXTpcInJlZlwiPT1vP3I9dVtvXTpmW29dPXVbb107aWYoYXJndW1lbnRzLmxlbmd0aD4yJiYoZi5jaGlsZHJlbj1hcmd1bWVudHMubGVuZ3RoPjM/bi5jYWxsKGFyZ3VtZW50cywyKTppKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBsJiZudWxsIT1sLmRlZmF1bHRQcm9wcylmb3IobyBpbiBsLmRlZmF1bHRQcm9wcyl2b2lkIDA9PT1mW29dJiYoZltvXT1sLmRlZmF1bHRQcm9wc1tvXSk7cmV0dXJuIHAobCxmLHQscixudWxsKX1mdW5jdGlvbiBwKG4saSx0LHIsbyl7dmFyIGY9e3R5cGU6bixwcm9wczppLGtleTp0LHJlZjpyLF9fazpudWxsLF9fOm51bGwsX19iOjAsX19lOm51bGwsX19kOnZvaWQgMCxfX2M6bnVsbCxfX2g6bnVsbCxjb25zdHJ1Y3Rvcjp2b2lkIDAsX192Om51bGw9PW8/Kyt1Om99O3JldHVybiBudWxsPT1vJiZudWxsIT1sLnZub2RlJiZsLnZub2RlKGYpLGZ9ZnVuY3Rpb24gZCgpe3JldHVybntjdXJyZW50Om51bGx9fWZ1bmN0aW9uIF8obil7cmV0dXJuIG4uY2hpbGRyZW59ZnVuY3Rpb24gayhuLGwpe3RoaXMucHJvcHM9bix0aGlzLmNvbnRleHQ9bH1mdW5jdGlvbiBiKG4sbCl7aWYobnVsbD09bClyZXR1cm4gbi5fXz9iKG4uX18sbi5fXy5fX2suaW5kZXhPZihuKSsxKTpudWxsO2Zvcih2YXIgdTtsPG4uX19rLmxlbmd0aDtsKyspaWYobnVsbCE9KHU9bi5fX2tbbF0pJiZudWxsIT11Ll9fZSlyZXR1cm4gdS5fX2U7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbi50eXBlP2Iobik6bnVsbH1mdW5jdGlvbiBnKG4pe3ZhciBsLHU7aWYobnVsbCE9KG49bi5fXykmJm51bGwhPW4uX19jKXtmb3Iobi5fX2U9bi5fX2MuYmFzZT1udWxsLGw9MDtsPG4uX19rLmxlbmd0aDtsKyspaWYobnVsbCE9KHU9bi5fX2tbbF0pJiZudWxsIT11Ll9fZSl7bi5fX2U9bi5fX2MuYmFzZT11Ll9fZTticmVha31yZXR1cm4gZyhuKX19ZnVuY3Rpb24gbShuKXsoIW4uX19kJiYobi5fX2Q9ITApJiZ0LnB1c2gobikmJiF3Ll9fcisrfHxyIT09bC5kZWJvdW5jZVJlbmRlcmluZykmJigocj1sLmRlYm91bmNlUmVuZGVyaW5nKXx8bykodyl9ZnVuY3Rpb24gdygpe3ZhciBuLGwsdSxpLHIsbyxlLGM7Zm9yKHQuc29ydChmKTtuPXQuc2hpZnQoKTspbi5fX2QmJihsPXQubGVuZ3RoLGk9dm9pZCAwLHI9dm9pZCAwLGU9KG89KHU9bikuX192KS5fX2UsKGM9dS5fX1ApJiYoaT1bXSwocj1oKHt9LG8pKS5fX3Y9by5fX3YrMSxMKGMsbyxyLHUuX19uLHZvaWQgMCE9PWMub3duZXJTVkdFbGVtZW50LG51bGwhPW8uX19oP1tlXTpudWxsLGksbnVsbD09ZT9iKG8pOmUsby5fX2gpLE0oaSxvKSxvLl9fZSE9ZSYmZyhvKSksdC5sZW5ndGg+bCYmdC5zb3J0KGYpKTt3Ll9fcj0wfWZ1bmN0aW9uIHgobixsLHUsaSx0LHIsbyxmLGUsYSl7dmFyIGgsdix5LGQsayxnLG0sdz1pJiZpLl9fa3x8cyx4PXcubGVuZ3RoO2Zvcih1Ll9faz1bXSxoPTA7aDxsLmxlbmd0aDtoKyspaWYobnVsbCE9KGQ9dS5fX2tbaF09bnVsbD09KGQ9bFtoXSl8fFwiYm9vbGVhblwiPT10eXBlb2YgZHx8XCJmdW5jdGlvblwiPT10eXBlb2YgZD9udWxsOlwic3RyaW5nXCI9PXR5cGVvZiBkfHxcIm51bWJlclwiPT10eXBlb2YgZHx8XCJiaWdpbnRcIj09dHlwZW9mIGQ/cChudWxsLGQsbnVsbCxudWxsLGQpOkFycmF5LmlzQXJyYXkoZCk/cChfLHtjaGlsZHJlbjpkfSxudWxsLG51bGwsbnVsbCk6ZC5fX2I+MD9wKGQudHlwZSxkLnByb3BzLGQua2V5LGQucmVmP2QucmVmOm51bGwsZC5fX3YpOmQpKXtpZihkLl9fPXUsZC5fX2I9dS5fX2IrMSxudWxsPT09KHk9d1toXSl8fHkmJmQua2V5PT15LmtleSYmZC50eXBlPT09eS50eXBlKXdbaF09dm9pZCAwO2Vsc2UgZm9yKHY9MDt2PHg7disrKXtpZigoeT13W3ZdKSYmZC5rZXk9PXkua2V5JiZkLnR5cGU9PT15LnR5cGUpe3dbdl09dm9pZCAwO2JyZWFrfXk9bnVsbH1MKG4sZCx5PXl8fGMsdCxyLG8sZixlLGEpLGs9ZC5fX2UsKHY9ZC5yZWYpJiZ5LnJlZiE9diYmKG18fChtPVtdKSx5LnJlZiYmbS5wdXNoKHkucmVmLG51bGwsZCksbS5wdXNoKHYsZC5fX2N8fGssZCkpLG51bGwhPWs/KG51bGw9PWcmJihnPWspLFwiZnVuY3Rpb25cIj09dHlwZW9mIGQudHlwZSYmZC5fX2s9PT15Ll9faz9kLl9fZD1lPUEoZCxlLG4pOmU9QyhuLGQseSx3LGssZSksXCJmdW5jdGlvblwiPT10eXBlb2YgdS50eXBlJiYodS5fX2Q9ZSkpOmUmJnkuX19lPT1lJiZlLnBhcmVudE5vZGUhPW4mJihlPWIoeSkpfWZvcih1Ll9fZT1nLGg9eDtoLS07KW51bGwhPXdbaF0mJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB1LnR5cGUmJm51bGwhPXdbaF0uX19lJiZ3W2hdLl9fZT09dS5fX2QmJih1Ll9fZD0kKGkpLm5leHRTaWJsaW5nKSxTKHdbaF0sd1toXSkpO2lmKG0pZm9yKGg9MDtoPG0ubGVuZ3RoO2grKylPKG1baF0sbVsrK2hdLG1bKytoXSl9ZnVuY3Rpb24gQShuLGwsdSl7Zm9yKHZhciBpLHQ9bi5fX2sscj0wO3QmJnI8dC5sZW5ndGg7cisrKShpPXRbcl0pJiYoaS5fXz1uLGw9XCJmdW5jdGlvblwiPT10eXBlb2YgaS50eXBlP0EoaSxsLHUpOkModSxpLGksdCxpLl9fZSxsKSk7cmV0dXJuIGx9ZnVuY3Rpb24gUChuLGwpe3JldHVybiBsPWx8fFtdLG51bGw9PW58fFwiYm9vbGVhblwiPT10eXBlb2Ygbnx8KEFycmF5LmlzQXJyYXkobik/bi5zb21lKGZ1bmN0aW9uKG4pe1AobixsKX0pOmwucHVzaChuKSksbH1mdW5jdGlvbiBDKG4sbCx1LGksdCxyKXt2YXIgbyxmLGU7aWYodm9pZCAwIT09bC5fX2Qpbz1sLl9fZCxsLl9fZD12b2lkIDA7ZWxzZSBpZihudWxsPT11fHx0IT1yfHxudWxsPT10LnBhcmVudE5vZGUpbjppZihudWxsPT1yfHxyLnBhcmVudE5vZGUhPT1uKW4uYXBwZW5kQ2hpbGQodCksbz1udWxsO2Vsc2V7Zm9yKGY9cixlPTA7KGY9Zi5uZXh0U2libGluZykmJmU8aS5sZW5ndGg7ZSs9MSlpZihmPT10KWJyZWFrIG47bi5pbnNlcnRCZWZvcmUodCxyKSxvPXJ9cmV0dXJuIHZvaWQgMCE9PW8/bzp0Lm5leHRTaWJsaW5nfWZ1bmN0aW9uICQobil7dmFyIGwsdSxpO2lmKG51bGw9PW4udHlwZXx8XCJzdHJpbmdcIj09dHlwZW9mIG4udHlwZSlyZXR1cm4gbi5fX2U7aWYobi5fX2spZm9yKGw9bi5fX2subGVuZ3RoLTE7bD49MDtsLS0paWYoKHU9bi5fX2tbbF0pJiYoaT0kKHUpKSlyZXR1cm4gaTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBIKG4sbCx1LGksdCl7dmFyIHI7Zm9yKHIgaW4gdSlcImNoaWxkcmVuXCI9PT1yfHxcImtleVwiPT09cnx8ciBpbiBsfHxUKG4scixudWxsLHVbcl0saSk7Zm9yKHIgaW4gbCl0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBsW3JdfHxcImNoaWxkcmVuXCI9PT1yfHxcImtleVwiPT09cnx8XCJ2YWx1ZVwiPT09cnx8XCJjaGVja2VkXCI9PT1yfHx1W3JdPT09bFtyXXx8VChuLHIsbFtyXSx1W3JdLGkpfWZ1bmN0aW9uIEkobixsLHUpe1wiLVwiPT09bFswXT9uLnNldFByb3BlcnR5KGwsbnVsbD09dT9cIlwiOnUpOm5bbF09bnVsbD09dT9cIlwiOlwibnVtYmVyXCIhPXR5cGVvZiB1fHxhLnRlc3QobCk/dTp1K1wicHhcIn1mdW5jdGlvbiBUKG4sbCx1LGksdCl7dmFyIHI7bjppZihcInN0eWxlXCI9PT1sKWlmKFwic3RyaW5nXCI9PXR5cGVvZiB1KW4uc3R5bGUuY3NzVGV4dD11O2Vsc2V7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkmJihuLnN0eWxlLmNzc1RleHQ9aT1cIlwiKSxpKWZvcihsIGluIGkpdSYmbCBpbiB1fHxJKG4uc3R5bGUsbCxcIlwiKTtpZih1KWZvcihsIGluIHUpaSYmdVtsXT09PWlbbF18fEkobi5zdHlsZSxsLHVbbF0pfWVsc2UgaWYoXCJvXCI9PT1sWzBdJiZcIm5cIj09PWxbMV0pcj1sIT09KGw9bC5yZXBsYWNlKC9DYXB0dXJlJC8sXCJcIikpLGw9bC50b0xvd2VyQ2FzZSgpaW4gbj9sLnRvTG93ZXJDYXNlKCkuc2xpY2UoMik6bC5zbGljZSgyKSxuLmx8fChuLmw9e30pLG4ubFtsK3JdPXUsdT9pfHxuLmFkZEV2ZW50TGlzdGVuZXIobCxyP3o6aixyKTpuLnJlbW92ZUV2ZW50TGlzdGVuZXIobCxyP3o6aixyKTtlbHNlIGlmKFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIiE9PWwpe2lmKHQpbD1sLnJlcGxhY2UoL3hsaW5rKEh8OmgpLyxcImhcIikucmVwbGFjZSgvc05hbWUkLyxcInNcIik7ZWxzZSBpZihcIndpZHRoXCIhPT1sJiZcImhlaWdodFwiIT09bCYmXCJocmVmXCIhPT1sJiZcImxpc3RcIiE9PWwmJlwiZm9ybVwiIT09bCYmXCJ0YWJJbmRleFwiIT09bCYmXCJkb3dubG9hZFwiIT09bCYmbCBpbiBuKXRyeXtuW2xdPW51bGw9PXU/XCJcIjp1O2JyZWFrIG59Y2F0Y2gobil7fVwiZnVuY3Rpb25cIj09dHlwZW9mIHV8fChudWxsPT11fHwhMT09PXUmJlwiLVwiIT09bFs0XT9uLnJlbW92ZUF0dHJpYnV0ZShsKTpuLnNldEF0dHJpYnV0ZShsLHUpKX19ZnVuY3Rpb24gaihuKXtyZXR1cm4gdGhpcy5sW24udHlwZSshMV0obC5ldmVudD9sLmV2ZW50KG4pOm4pfWZ1bmN0aW9uIHoobil7cmV0dXJuIHRoaXMubFtuLnR5cGUrITBdKGwuZXZlbnQ/bC5ldmVudChuKTpuKX1mdW5jdGlvbiBMKG4sdSxpLHQscixvLGYsZSxjKXt2YXIgcyxhLHYseSxwLGQsYixnLG0sdyxBLFAsQywkLEgsST11LnR5cGU7aWYodm9pZCAwIT09dS5jb25zdHJ1Y3RvcilyZXR1cm4gbnVsbDtudWxsIT1pLl9faCYmKGM9aS5fX2gsZT11Ll9fZT1pLl9fZSx1Ll9faD1udWxsLG89W2VdKSwocz1sLl9fYikmJnModSk7dHJ5e246aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgSSl7aWYoZz11LnByb3BzLG09KHM9SS5jb250ZXh0VHlwZSkmJnRbcy5fX2NdLHc9cz9tP20ucHJvcHMudmFsdWU6cy5fXzp0LGkuX19jP2I9KGE9dS5fX2M9aS5fX2MpLl9fPWEuX19FOihcInByb3RvdHlwZVwiaW4gSSYmSS5wcm90b3R5cGUucmVuZGVyP3UuX19jPWE9bmV3IEkoZyx3KToodS5fX2M9YT1uZXcgayhnLHcpLGEuY29uc3RydWN0b3I9SSxhLnJlbmRlcj1xKSxtJiZtLnN1YihhKSxhLnByb3BzPWcsYS5zdGF0ZXx8KGEuc3RhdGU9e30pLGEuY29udGV4dD13LGEuX19uPXQsdj1hLl9fZD0hMCxhLl9faD1bXSxhLl9zYj1bXSksbnVsbD09YS5fX3MmJihhLl9fcz1hLnN0YXRlKSxudWxsIT1JLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmKGEuX19zPT1hLnN0YXRlJiYoYS5fX3M9aCh7fSxhLl9fcykpLGgoYS5fX3MsSS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoZyxhLl9fcykpKSx5PWEucHJvcHMscD1hLnN0YXRlLGEuX192PXUsdiludWxsPT1JLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmbnVsbCE9YS5jb21wb25lbnRXaWxsTW91bnQmJmEuY29tcG9uZW50V2lsbE1vdW50KCksbnVsbCE9YS5jb21wb25lbnREaWRNb3VudCYmYS5fX2gucHVzaChhLmNvbXBvbmVudERpZE1vdW50KTtlbHNle2lmKG51bGw9PUkuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiZnIT09eSYmbnVsbCE9YS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZhLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoZyx3KSwhYS5fX2UmJm51bGwhPWEuc2hvdWxkQ29tcG9uZW50VXBkYXRlJiYhMT09PWEuc2hvdWxkQ29tcG9uZW50VXBkYXRlKGcsYS5fX3Msdyl8fHUuX192PT09aS5fX3Ype2Zvcih1Ll9fdiE9PWkuX192JiYoYS5wcm9wcz1nLGEuc3RhdGU9YS5fX3MsYS5fX2Q9ITEpLGEuX19lPSExLHUuX19lPWkuX19lLHUuX19rPWkuX19rLHUuX19rLmZvckVhY2goZnVuY3Rpb24obil7biYmKG4uX189dSl9KSxBPTA7QTxhLl9zYi5sZW5ndGg7QSsrKWEuX19oLnB1c2goYS5fc2JbQV0pO2EuX3NiPVtdLGEuX19oLmxlbmd0aCYmZi5wdXNoKGEpO2JyZWFrIG59bnVsbCE9YS5jb21wb25lbnRXaWxsVXBkYXRlJiZhLmNvbXBvbmVudFdpbGxVcGRhdGUoZyxhLl9fcyx3KSxudWxsIT1hLmNvbXBvbmVudERpZFVwZGF0ZSYmYS5fX2gucHVzaChmdW5jdGlvbigpe2EuY29tcG9uZW50RGlkVXBkYXRlKHkscCxkKX0pfWlmKGEuY29udGV4dD13LGEucHJvcHM9ZyxhLl9fUD1uLFA9bC5fX3IsQz0wLFwicHJvdG90eXBlXCJpbiBJJiZJLnByb3RvdHlwZS5yZW5kZXIpe2ZvcihhLnN0YXRlPWEuX19zLGEuX19kPSExLFAmJlAodSkscz1hLnJlbmRlcihhLnByb3BzLGEuc3RhdGUsYS5jb250ZXh0KSwkPTA7JDxhLl9zYi5sZW5ndGg7JCsrKWEuX19oLnB1c2goYS5fc2JbJF0pO2EuX3NiPVtdfWVsc2UgZG97YS5fX2Q9ITEsUCYmUCh1KSxzPWEucmVuZGVyKGEucHJvcHMsYS5zdGF0ZSxhLmNvbnRleHQpLGEuc3RhdGU9YS5fX3N9d2hpbGUoYS5fX2QmJisrQzwyNSk7YS5zdGF0ZT1hLl9fcyxudWxsIT1hLmdldENoaWxkQ29udGV4dCYmKHQ9aChoKHt9LHQpLGEuZ2V0Q2hpbGRDb250ZXh0KCkpKSx2fHxudWxsPT1hLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlfHwoZD1hLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHkscCkpLEg9bnVsbCE9cyYmcy50eXBlPT09XyYmbnVsbD09cy5rZXk/cy5wcm9wcy5jaGlsZHJlbjpzLHgobixBcnJheS5pc0FycmF5KEgpP0g6W0hdLHUsaSx0LHIsbyxmLGUsYyksYS5iYXNlPXUuX19lLHUuX19oPW51bGwsYS5fX2gubGVuZ3RoJiZmLnB1c2goYSksYiYmKGEuX19FPWEuX189bnVsbCksYS5fX2U9ITF9ZWxzZSBudWxsPT1vJiZ1Ll9fdj09PWkuX192Pyh1Ll9faz1pLl9fayx1Ll9fZT1pLl9fZSk6dS5fX2U9TihpLl9fZSx1LGksdCxyLG8sZixjKTsocz1sLmRpZmZlZCkmJnModSl9Y2F0Y2gobil7dS5fX3Y9bnVsbCwoY3x8bnVsbCE9bykmJih1Ll9fZT1lLHUuX19oPSEhYyxvW28uaW5kZXhPZihlKV09bnVsbCksbC5fX2Uobix1LGkpfX1mdW5jdGlvbiBNKG4sdSl7bC5fX2MmJmwuX19jKHUsbiksbi5zb21lKGZ1bmN0aW9uKHUpe3RyeXtuPXUuX19oLHUuX19oPVtdLG4uc29tZShmdW5jdGlvbihuKXtuLmNhbGwodSl9KX1jYXRjaChuKXtsLl9fZShuLHUuX192KX19KX1mdW5jdGlvbiBOKGwsdSxpLHQscixvLGYsZSl7dmFyIHMsYSxoLHk9aS5wcm9wcyxwPXUucHJvcHMsZD11LnR5cGUsXz0wO2lmKFwic3ZnXCI9PT1kJiYocj0hMCksbnVsbCE9bylmb3IoO188by5sZW5ndGg7XysrKWlmKChzPW9bX10pJiZcInNldEF0dHJpYnV0ZVwiaW4gcz09ISFkJiYoZD9zLmxvY2FsTmFtZT09PWQ6Mz09PXMubm9kZVR5cGUpKXtsPXMsb1tfXT1udWxsO2JyZWFrfWlmKG51bGw9PWwpe2lmKG51bGw9PT1kKXJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShwKTtsPXI/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixkKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KGQscC5pcyYmcCksbz1udWxsLGU9ITF9aWYobnVsbD09PWQpeT09PXB8fGUmJmwuZGF0YT09PXB8fChsLmRhdGE9cCk7ZWxzZXtpZihvPW8mJm4uY2FsbChsLmNoaWxkTm9kZXMpLGE9KHk9aS5wcm9wc3x8YykuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsaD1wLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLCFlKXtpZihudWxsIT1vKWZvcih5PXt9LF89MDtfPGwuYXR0cmlidXRlcy5sZW5ndGg7XysrKXlbbC5hdHRyaWJ1dGVzW19dLm5hbWVdPWwuYXR0cmlidXRlc1tfXS52YWx1ZTsoaHx8YSkmJihoJiYoYSYmaC5fX2h0bWw9PWEuX19odG1sfHxoLl9faHRtbD09PWwuaW5uZXJIVE1MKXx8KGwuaW5uZXJIVE1MPWgmJmguX19odG1sfHxcIlwiKSl9aWYoSChsLHAseSxyLGUpLGgpdS5fX2s9W107ZWxzZSBpZihfPXUucHJvcHMuY2hpbGRyZW4seChsLEFycmF5LmlzQXJyYXkoXyk/XzpbX10sdSxpLHQsciYmXCJmb3JlaWduT2JqZWN0XCIhPT1kLG8sZixvP29bMF06aS5fX2smJmIoaSwwKSxlKSxudWxsIT1vKWZvcihfPW8ubGVuZ3RoO18tLTspbnVsbCE9b1tfXSYmdihvW19dKTtlfHwoXCJ2YWx1ZVwiaW4gcCYmdm9pZCAwIT09KF89cC52YWx1ZSkmJihfIT09bC52YWx1ZXx8XCJwcm9ncmVzc1wiPT09ZCYmIV98fFwib3B0aW9uXCI9PT1kJiZfIT09eS52YWx1ZSkmJlQobCxcInZhbHVlXCIsXyx5LnZhbHVlLCExKSxcImNoZWNrZWRcImluIHAmJnZvaWQgMCE9PShfPXAuY2hlY2tlZCkmJl8hPT1sLmNoZWNrZWQmJlQobCxcImNoZWNrZWRcIixfLHkuY2hlY2tlZCwhMSkpfXJldHVybiBsfWZ1bmN0aW9uIE8obix1LGkpe3RyeXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuP24odSk6bi5jdXJyZW50PXV9Y2F0Y2gobil7bC5fX2UobixpKX19ZnVuY3Rpb24gUyhuLHUsaSl7dmFyIHQscjtpZihsLnVubW91bnQmJmwudW5tb3VudChuKSwodD1uLnJlZikmJih0LmN1cnJlbnQmJnQuY3VycmVudCE9PW4uX19lfHxPKHQsbnVsbCx1KSksbnVsbCE9KHQ9bi5fX2MpKXtpZih0LmNvbXBvbmVudFdpbGxVbm1vdW50KXRyeXt0LmNvbXBvbmVudFdpbGxVbm1vdW50KCl9Y2F0Y2gobil7bC5fX2Uobix1KX10LmJhc2U9dC5fX1A9bnVsbCxuLl9fYz12b2lkIDB9aWYodD1uLl9faylmb3Iocj0wO3I8dC5sZW5ndGg7cisrKXRbcl0mJlModFtyXSx1LGl8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4udHlwZSk7aXx8bnVsbD09bi5fX2V8fHYobi5fX2UpLG4uX189bi5fX2U9bi5fX2Q9dm9pZCAwfWZ1bmN0aW9uIHEobixsLHUpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yKG4sdSl9ZnVuY3Rpb24gQih1LGksdCl7dmFyIHIsbyxmO2wuX18mJmwuX18odSxpKSxvPShyPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQpP251bGw6dCYmdC5fX2t8fGkuX19rLGY9W10sTChpLHU9KCFyJiZ0fHxpKS5fX2s9eShfLG51bGwsW3VdKSxvfHxjLGMsdm9pZCAwIT09aS5vd25lclNWR0VsZW1lbnQsIXImJnQ/W3RdOm8/bnVsbDppLmZpcnN0Q2hpbGQ/bi5jYWxsKGkuY2hpbGROb2Rlcyk6bnVsbCxmLCFyJiZ0P3Q6bz9vLl9fZTppLmZpcnN0Q2hpbGQsciksTShmLHUpfWZ1bmN0aW9uIEQobixsKXtCKG4sbCxEKX1mdW5jdGlvbiBFKGwsdSxpKXt2YXIgdCxyLG8sZj1oKHt9LGwucHJvcHMpO2ZvcihvIGluIHUpXCJrZXlcIj09bz90PXVbb106XCJyZWZcIj09bz9yPXVbb106ZltvXT11W29dO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjImJihmLmNoaWxkcmVuPWFyZ3VtZW50cy5sZW5ndGg+Mz9uLmNhbGwoYXJndW1lbnRzLDIpOmkpLHAobC50eXBlLGYsdHx8bC5rZXkscnx8bC5yZWYsbnVsbCl9ZnVuY3Rpb24gRihuLGwpe3ZhciB1PXtfX2M6bD1cIl9fY0NcIitlKyssX186bixDb25zdW1lcjpmdW5jdGlvbihuLGwpe3JldHVybiBuLmNoaWxkcmVuKGwpfSxQcm92aWRlcjpmdW5jdGlvbihuKXt2YXIgdSxpO3JldHVybiB0aGlzLmdldENoaWxkQ29udGV4dHx8KHU9W10sKGk9e30pW2xdPXRoaXMsdGhpcy5nZXRDaGlsZENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gaX0sdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24obil7dGhpcy5wcm9wcy52YWx1ZSE9PW4udmFsdWUmJnUuc29tZShmdW5jdGlvbihuKXtuLl9fZT0hMCxtKG4pfSl9LHRoaXMuc3ViPWZ1bmN0aW9uKG4pe3UucHVzaChuKTt2YXIgbD1uLmNvbXBvbmVudFdpbGxVbm1vdW50O24uY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXt1LnNwbGljZSh1LmluZGV4T2YobiksMSksbCYmbC5jYWxsKG4pfX0pLG4uY2hpbGRyZW59fTtyZXR1cm4gdS5Qcm92aWRlci5fXz11LkNvbnN1bWVyLmNvbnRleHRUeXBlPXV9bj1zLnNsaWNlLGw9e19fZTpmdW5jdGlvbihuLGwsdSxpKXtmb3IodmFyIHQscixvO2w9bC5fXzspaWYoKHQ9bC5fX2MpJiYhdC5fXyl0cnl7aWYoKHI9dC5jb25zdHJ1Y3RvcikmJm51bGwhPXIuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yJiYodC5zZXRTdGF0ZShyLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihuKSksbz10Ll9fZCksbnVsbCE9dC5jb21wb25lbnREaWRDYXRjaCYmKHQuY29tcG9uZW50RGlkQ2F0Y2gobixpfHx7fSksbz10Ll9fZCksbylyZXR1cm4gdC5fX0U9dH1jYXRjaChsKXtuPWx9dGhyb3cgbn19LHU9MCxpPWZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uJiZ2b2lkIDA9PT1uLmNvbnN0cnVjdG9yfSxrLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihuLGwpe3ZhciB1O3U9bnVsbCE9dGhpcy5fX3MmJnRoaXMuX19zIT09dGhpcy5zdGF0ZT90aGlzLl9fczp0aGlzLl9fcz1oKHt9LHRoaXMuc3RhdGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihuPW4oaCh7fSx1KSx0aGlzLnByb3BzKSksbiYmaCh1LG4pLG51bGwhPW4mJnRoaXMuX192JiYobCYmdGhpcy5fc2IucHVzaChsKSxtKHRoaXMpKX0say5wcm90b3R5cGUuZm9yY2VVcGRhdGU9ZnVuY3Rpb24obil7dGhpcy5fX3YmJih0aGlzLl9fZT0hMCxuJiZ0aGlzLl9faC5wdXNoKG4pLG0odGhpcykpfSxrLnByb3RvdHlwZS5yZW5kZXI9Xyx0PVtdLG89XCJmdW5jdGlvblwiPT10eXBlb2YgUHJvbWlzZT9Qcm9taXNlLnByb3RvdHlwZS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpOnNldFRpbWVvdXQsZj1mdW5jdGlvbihuLGwpe3JldHVybiBuLl9fdi5fX2ItbC5fX3YuX19ifSx3Ll9fcj0wLGU9MDtleHBvcnR7ayBhcyBDb21wb25lbnQsXyBhcyBGcmFnbWVudCxFIGFzIGNsb25lRWxlbWVudCxGIGFzIGNyZWF0ZUNvbnRleHQseSBhcyBjcmVhdGVFbGVtZW50LGQgYXMgY3JlYXRlUmVmLHkgYXMgaCxEIGFzIGh5ZHJhdGUsaSBhcyBpc1ZhbGlkRWxlbWVudCxsIGFzIG9wdGlvbnMsQiBhcyByZW5kZXIsUCBhcyB0b0NoaWxkQXJyYXl9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJlYWN0Lm1vZHVsZS5qcy5tYXBcbiIsImltcG9ydHtvcHRpb25zIGFzIG59ZnJvbVwicHJlYWN0XCI7dmFyIHQscix1LGksbz0wLGY9W10sYz1bXSxlPW4uX19iLGE9bi5fX3Isdj1uLmRpZmZlZCxsPW4uX19jLG09bi51bm1vdW50O2Z1bmN0aW9uIGQodCx1KXtuLl9faCYmbi5fX2gocix0LG98fHUpLG89MDt2YXIgaT1yLl9fSHx8KHIuX19IPXtfXzpbXSxfX2g6W119KTtyZXR1cm4gdD49aS5fXy5sZW5ndGgmJmkuX18ucHVzaCh7X19WOmN9KSxpLl9fW3RdfWZ1bmN0aW9uIGgobil7cmV0dXJuIG89MSxzKEIsbil9ZnVuY3Rpb24gcyhuLHUsaSl7dmFyIG89ZCh0KyssMik7aWYoby50PW4sIW8uX19jJiYoby5fXz1baT9pKHUpOkIodm9pZCAwLHUpLGZ1bmN0aW9uKG4pe3ZhciB0PW8uX19OP28uX19OWzBdOm8uX19bMF0scj1vLnQodCxuKTt0IT09ciYmKG8uX19OPVtyLG8uX19bMV1dLG8uX19jLnNldFN0YXRlKHt9KSl9XSxvLl9fYz1yLCFyLnUpKXt2YXIgZj1mdW5jdGlvbihuLHQscil7aWYoIW8uX19jLl9fSClyZXR1cm4hMDt2YXIgdT1vLl9fYy5fX0guX18uZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiBuLl9fY30pO2lmKHUuZXZlcnkoZnVuY3Rpb24obil7cmV0dXJuIW4uX19OfSkpcmV0dXJuIWN8fGMuY2FsbCh0aGlzLG4sdCxyKTt2YXIgaT0hMTtyZXR1cm4gdS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKG4uX19OKXt2YXIgdD1uLl9fWzBdO24uX189bi5fX04sbi5fX049dm9pZCAwLHQhPT1uLl9fWzBdJiYoaT0hMCl9fSksISghaSYmby5fX2MucHJvcHM9PT1uKSYmKCFjfHxjLmNhbGwodGhpcyxuLHQscikpfTtyLnU9ITA7dmFyIGM9ci5zaG91bGRDb21wb25lbnRVcGRhdGUsZT1yLmNvbXBvbmVudFdpbGxVcGRhdGU7ci5jb21wb25lbnRXaWxsVXBkYXRlPWZ1bmN0aW9uKG4sdCxyKXtpZih0aGlzLl9fZSl7dmFyIHU9YztjPXZvaWQgMCxmKG4sdCxyKSxjPXV9ZSYmZS5jYWxsKHRoaXMsbix0LHIpfSxyLnNob3VsZENvbXBvbmVudFVwZGF0ZT1mfXJldHVybiBvLl9fTnx8by5fX31mdW5jdGlvbiBwKHUsaSl7dmFyIG89ZCh0KyssMyk7IW4uX19zJiZ6KG8uX19ILGkpJiYoby5fXz11LG8uaT1pLHIuX19ILl9faC5wdXNoKG8pKX1mdW5jdGlvbiB5KHUsaSl7dmFyIG89ZCh0KyssNCk7IW4uX19zJiZ6KG8uX19ILGkpJiYoby5fXz11LG8uaT1pLHIuX19oLnB1c2gobykpfWZ1bmN0aW9uIF8obil7cmV0dXJuIG89NSxGKGZ1bmN0aW9uKCl7cmV0dXJue2N1cnJlbnQ6bn19LFtdKX1mdW5jdGlvbiBBKG4sdCxyKXtvPTYseShmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4/KG4odCgpKSxmdW5jdGlvbigpe3JldHVybiBuKG51bGwpfSk6bj8obi5jdXJyZW50PXQoKSxmdW5jdGlvbigpe3JldHVybiBuLmN1cnJlbnQ9bnVsbH0pOnZvaWQgMH0sbnVsbD09cj9yOnIuY29uY2F0KG4pKX1mdW5jdGlvbiBGKG4scil7dmFyIHU9ZCh0KyssNyk7cmV0dXJuIHoodS5fX0gscik/KHUuX19WPW4oKSx1Lmk9cix1Ll9faD1uLHUuX19WKTp1Ll9ffWZ1bmN0aW9uIFQobix0KXtyZXR1cm4gbz04LEYoZnVuY3Rpb24oKXtyZXR1cm4gbn0sdCl9ZnVuY3Rpb24gcShuKXt2YXIgdT1yLmNvbnRleHRbbi5fX2NdLGk9ZCh0KyssOSk7cmV0dXJuIGkuYz1uLHU/KG51bGw9PWkuX18mJihpLl9fPSEwLHUuc3ViKHIpKSx1LnByb3BzLnZhbHVlKTpuLl9ffWZ1bmN0aW9uIHgodCxyKXtuLnVzZURlYnVnVmFsdWUmJm4udXNlRGVidWdWYWx1ZShyP3IodCk6dCl9ZnVuY3Rpb24gUChuKXt2YXIgdT1kKHQrKywxMCksaT1oKCk7cmV0dXJuIHUuX189bixyLmNvbXBvbmVudERpZENhdGNofHwoci5jb21wb25lbnREaWRDYXRjaD1mdW5jdGlvbihuLHQpe3UuX18mJnUuX18obix0KSxpWzFdKG4pfSksW2lbMF0sZnVuY3Rpb24oKXtpWzFdKHZvaWQgMCl9XX1mdW5jdGlvbiBWKCl7dmFyIG49ZCh0KyssMTEpO2lmKCFuLl9fKXtmb3IodmFyIHU9ci5fX3Y7bnVsbCE9PXUmJiF1Ll9fbSYmbnVsbCE9PXUuX187KXU9dS5fXzt2YXIgaT11Ll9fbXx8KHUuX19tPVswLDBdKTtuLl9fPVwiUFwiK2lbMF0rXCItXCIraVsxXSsrfXJldHVybiBuLl9ffWZ1bmN0aW9uIGIoKXtmb3IodmFyIHQ7dD1mLnNoaWZ0KCk7KWlmKHQuX19QJiZ0Ll9fSCl0cnl7dC5fX0guX19oLmZvckVhY2goayksdC5fX0guX19oLmZvckVhY2godyksdC5fX0guX19oPVtdfWNhdGNoKHIpe3QuX19ILl9faD1bXSxuLl9fZShyLHQuX192KX19bi5fX2I9ZnVuY3Rpb24obil7cj1udWxsLGUmJmUobil9LG4uX19yPWZ1bmN0aW9uKG4pe2EmJmEobiksdD0wO3ZhciBpPShyPW4uX19jKS5fX0g7aSYmKHU9PT1yPyhpLl9faD1bXSxyLl9faD1bXSxpLl9fLmZvckVhY2goZnVuY3Rpb24obil7bi5fX04mJihuLl9fPW4uX19OKSxuLl9fVj1jLG4uX19OPW4uaT12b2lkIDB9KSk6KGkuX19oLmZvckVhY2goayksaS5fX2guZm9yRWFjaCh3KSxpLl9faD1bXSkpLHU9cn0sbi5kaWZmZWQ9ZnVuY3Rpb24odCl7diYmdih0KTt2YXIgbz10Ll9fYztvJiZvLl9fSCYmKG8uX19ILl9faC5sZW5ndGgmJigxIT09Zi5wdXNoKG8pJiZpPT09bi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCgoaT1uLnJlcXVlc3RBbmltYXRpb25GcmFtZSl8fGopKGIpKSxvLl9fSC5fXy5mb3JFYWNoKGZ1bmN0aW9uKG4pe24uaSYmKG4uX19IPW4uaSksbi5fX1YhPT1jJiYobi5fXz1uLl9fViksbi5pPXZvaWQgMCxuLl9fVj1jfSkpLHU9cj1udWxsfSxuLl9fYz1mdW5jdGlvbih0LHIpe3Iuc29tZShmdW5jdGlvbih0KXt0cnl7dC5fX2guZm9yRWFjaChrKSx0Ll9faD10Ll9faC5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIW4uX198fHcobil9KX1jYXRjaCh1KXtyLnNvbWUoZnVuY3Rpb24obil7bi5fX2gmJihuLl9faD1bXSl9KSxyPVtdLG4uX19lKHUsdC5fX3YpfX0pLGwmJmwodCxyKX0sbi51bm1vdW50PWZ1bmN0aW9uKHQpe20mJm0odCk7dmFyIHIsdT10Ll9fYzt1JiZ1Ll9fSCYmKHUuX19ILl9fLmZvckVhY2goZnVuY3Rpb24obil7dHJ5e2sobil9Y2F0Y2gobil7cj1ufX0pLHUuX19IPXZvaWQgMCxyJiZuLl9fZShyLHUuX192KSl9O3ZhciBnPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZTtmdW5jdGlvbiBqKG4pe3ZhciB0LHI9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodSksZyYmY2FuY2VsQW5pbWF0aW9uRnJhbWUodCksc2V0VGltZW91dChuKX0sdT1zZXRUaW1lb3V0KHIsMTAwKTtnJiYodD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocikpfWZ1bmN0aW9uIGsobil7dmFyIHQ9cix1PW4uX19jO1wiZnVuY3Rpb25cIj09dHlwZW9mIHUmJihuLl9fYz12b2lkIDAsdSgpKSxyPXR9ZnVuY3Rpb24gdyhuKXt2YXIgdD1yO24uX19jPW4uX18oKSxyPXR9ZnVuY3Rpb24geihuLHQpe3JldHVybiFufHxuLmxlbmd0aCE9PXQubGVuZ3RofHx0LnNvbWUoZnVuY3Rpb24odCxyKXtyZXR1cm4gdCE9PW5bcl19KX1mdW5jdGlvbiBCKG4sdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90KG4pOnR9ZXhwb3J0e1QgYXMgdXNlQ2FsbGJhY2sscSBhcyB1c2VDb250ZXh0LHggYXMgdXNlRGVidWdWYWx1ZSxwIGFzIHVzZUVmZmVjdCxQIGFzIHVzZUVycm9yQm91bmRhcnksViBhcyB1c2VJZCxBIGFzIHVzZUltcGVyYXRpdmVIYW5kbGUseSBhcyB1c2VMYXlvdXRFZmZlY3QsRiBhcyB1c2VNZW1vLHMgYXMgdXNlUmVkdWNlcixfIGFzIHVzZVJlZixoIGFzIHVzZVN0YXRlfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvb2tzLm1vZHVsZS5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCB1bmRlZjtcblxuLyoqXG4gKiBEZWNvZGUgYSBVUkkgZW5jb2RlZCBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBVUkkgZW5jb2RlZCBzdHJpbmcuXG4gKiBAcmV0dXJucyB7U3RyaW5nfE51bGx9IFRoZSBkZWNvZGVkIHN0cmluZy5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGlucHV0LnJlcGxhY2UoL1xcKy9nLCAnICcpKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gZW5jb2RlIGEgZ2l2ZW4gaW5wdXQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgdGhhdCBuZWVkcyB0byBiZSBlbmNvZGVkLlxuICogQHJldHVybnMge1N0cmluZ3xOdWxsfSBUaGUgZW5jb2RlZCBzdHJpbmcuXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChpbnB1dCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFNpbXBsZSBxdWVyeSBzdHJpbmcgcGFyc2VyLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBxdWVyeSBUaGUgcXVlcnkgc3RyaW5nIHRoYXQgbmVlZHMgdG8gYmUgcGFyc2VkLlxuICogQHJldHVybnMge09iamVjdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIHF1ZXJ5c3RyaW5nKHF1ZXJ5KSB7XG4gIHZhciBwYXJzZXIgPSAvKFtePT8jJl0rKT0/KFteJl0qKS9nXG4gICAgLCByZXN1bHQgPSB7fVxuICAgICwgcGFydDtcblxuICB3aGlsZSAocGFydCA9IHBhcnNlci5leGVjKHF1ZXJ5KSkge1xuICAgIHZhciBrZXkgPSBkZWNvZGUocGFydFsxXSlcbiAgICAgICwgdmFsdWUgPSBkZWNvZGUocGFydFsyXSk7XG5cbiAgICAvL1xuICAgIC8vIFByZXZlbnQgb3ZlcnJpZGluZyBvZiBleGlzdGluZyBwcm9wZXJ0aWVzLiBUaGlzIGVuc3VyZXMgdGhhdCBidWlsZC1pblxuICAgIC8vIG1ldGhvZHMgbGlrZSBgdG9TdHJpbmdgIG9yIF9fcHJvdG9fXyBhcmUgbm90IG92ZXJyaWRlbiBieSBtYWxpY2lvdXNcbiAgICAvLyBxdWVyeXN0cmluZ3MuXG4gICAgLy9cbiAgICAvLyBJbiB0aGUgY2FzZSBpZiBmYWlsZWQgZGVjb2RpbmcsIHdlIHdhbnQgdG8gb21pdCB0aGUga2V5L3ZhbHVlIHBhaXJzXG4gICAgLy8gZnJvbSB0aGUgcmVzdWx0LlxuICAgIC8vXG4gICAgaWYgKGtleSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gbnVsbCB8fCBrZXkgaW4gcmVzdWx0KSBjb250aW51ZTtcbiAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gYSBxdWVyeSBzdHJpbmcgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogT2JqZWN0IHRoYXQgc2hvdWxkIGJlIHRyYW5zZm9ybWVkLlxuICogQHBhcmFtIHtTdHJpbmd9IHByZWZpeCBPcHRpb25hbCBwcmVmaXguXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gcXVlcnlzdHJpbmdpZnkob2JqLCBwcmVmaXgpIHtcbiAgcHJlZml4ID0gcHJlZml4IHx8ICcnO1xuXG4gIHZhciBwYWlycyA9IFtdXG4gICAgLCB2YWx1ZVxuICAgICwga2V5O1xuXG4gIC8vXG4gIC8vIE9wdGlvbmFsbHkgcHJlZml4IHdpdGggYSAnPycgaWYgbmVlZGVkXG4gIC8vXG4gIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIHByZWZpeCkgcHJlZml4ID0gJz8nO1xuXG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIGlmIChoYXMuY2FsbChvYmosIGtleSkpIHtcbiAgICAgIHZhbHVlID0gb2JqW2tleV07XG5cbiAgICAgIC8vXG4gICAgICAvLyBFZGdlIGNhc2VzIHdoZXJlIHdlIGFjdHVhbGx5IHdhbnQgdG8gZW5jb2RlIHRoZSB2YWx1ZSB0byBhbiBlbXB0eVxuICAgICAgLy8gc3RyaW5nIGluc3RlYWQgb2YgdGhlIHN0cmluZ2lmaWVkIHZhbHVlLlxuICAgICAgLy9cbiAgICAgIGlmICghdmFsdWUgJiYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZiB8fCBpc05hTih2YWx1ZSkpKSB7XG4gICAgICAgIHZhbHVlID0gJyc7XG4gICAgICB9XG5cbiAgICAgIGtleSA9IGVuY29kZShrZXkpO1xuICAgICAgdmFsdWUgPSBlbmNvZGUodmFsdWUpO1xuXG4gICAgICAvL1xuICAgICAgLy8gSWYgd2UgZmFpbGVkIHRvIGVuY29kZSB0aGUgc3RyaW5ncywgd2Ugc2hvdWxkIGJhaWwgb3V0IGFzIHdlIGRvbid0XG4gICAgICAvLyB3YW50IHRvIGFkZCBpbnZhbGlkIHN0cmluZ3MgdG8gdGhlIHF1ZXJ5LlxuICAgICAgLy9cbiAgICAgIGlmIChrZXkgPT09IG51bGwgfHwgdmFsdWUgPT09IG51bGwpIGNvbnRpbnVlO1xuICAgICAgcGFpcnMucHVzaChrZXkgKyc9JysgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYWlycy5sZW5ndGggPyBwcmVmaXggKyBwYWlycy5qb2luKCcmJykgOiAnJztcbn1cblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmV4cG9ydHMuc3RyaW5naWZ5ID0gcXVlcnlzdHJpbmdpZnk7XG5leHBvcnRzLnBhcnNlID0gcXVlcnlzdHJpbmc7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2hlY2sgaWYgd2UncmUgcmVxdWlyZWQgdG8gYWRkIGEgcG9ydCBudW1iZXIuXG4gKlxuICogQHNlZSBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RlZmF1bHQtcG9ydFxuICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBwb3J0IFBvcnQgbnVtYmVyIHdlIG5lZWQgdG8gY2hlY2tcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm90b2NvbCBQcm90b2NvbCB3ZSBuZWVkIHRvIGNoZWNrIGFnYWluc3QuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSXMgaXQgYSBkZWZhdWx0IHBvcnQgZm9yIHRoZSBnaXZlbiBwcm90b2NvbFxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVxdWlyZWQocG9ydCwgcHJvdG9jb2wpIHtcbiAgcHJvdG9jb2wgPSBwcm90b2NvbC5zcGxpdCgnOicpWzBdO1xuICBwb3J0ID0gK3BvcnQ7XG5cbiAgaWYgKCFwb3J0KSByZXR1cm4gZmFsc2U7XG5cbiAgc3dpdGNoIChwcm90b2NvbCkge1xuICAgIGNhc2UgJ2h0dHAnOlxuICAgIGNhc2UgJ3dzJzpcbiAgICByZXR1cm4gcG9ydCAhPT0gODA7XG5cbiAgICBjYXNlICdodHRwcyc6XG4gICAgY2FzZSAnd3NzJzpcbiAgICByZXR1cm4gcG9ydCAhPT0gNDQzO1xuXG4gICAgY2FzZSAnZnRwJzpcbiAgICByZXR1cm4gcG9ydCAhPT0gMjE7XG5cbiAgICBjYXNlICdnb3BoZXInOlxuICAgIHJldHVybiBwb3J0ICE9PSA3MDtcblxuICAgIGNhc2UgJ2ZpbGUnOlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBwb3J0ICE9PSAwO1xufTtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgaXNSZWFjdE5hdGl2ZSBmcm9tICcuL2lzUmVhY3ROYXRpdmUuanMnO1xuaW1wb3J0IHVyaVRvQmxvYiBmcm9tICcuL3VyaVRvQmxvYi5qcyc7XG5pbXBvcnQgRmlsZVNvdXJjZSBmcm9tICcuL3NvdXJjZXMvRmlsZVNvdXJjZS5qcyc7XG5pbXBvcnQgU3RyZWFtU291cmNlIGZyb20gJy4vc291cmNlcy9TdHJlYW1Tb3VyY2UuanMnO1xuXG52YXIgRmlsZVJlYWRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZpbGVSZWFkZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbGVSZWFkZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEZpbGVSZWFkZXIsIFt7XG4gICAga2V5OiBcIm9wZW5GaWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5GaWxlKGlucHV0LCBjaHVua1NpemUpIHtcbiAgICAgIC8vIEluIFJlYWN0IE5hdGl2ZSwgd2hlbiB1c2VyIHNlbGVjdHMgYSBmaWxlLCBpbnN0ZWFkIG9mIGEgRmlsZSBvciBCbG9iLFxuICAgICAgLy8geW91IHVzdWFsbHkgZ2V0IGEgZmlsZSBvYmplY3Qge30gd2l0aCBhIHVyaSBwcm9wZXJ0eSB0aGF0IGNvbnRhaW5zXG4gICAgICAvLyBhIGxvY2FsIHBhdGggdG8gdGhlIGZpbGUuIFdlIHVzZSBYTUxIdHRwUmVxdWVzdCB0byBmZXRjaFxuICAgICAgLy8gdGhlIGZpbGUgYmxvYiwgYmVmb3JlIHVwbG9hZGluZyB3aXRoIHR1cy5cbiAgICAgIGlmIChpc1JlYWN0TmF0aXZlKCkgJiYgaW5wdXQgJiYgdHlwZW9mIGlucHV0LnVyaSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHVyaVRvQmxvYihpbnB1dC51cmkpLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEZpbGVTb3VyY2UoYmxvYik7XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInR1czogY2Fubm90IGZldGNoIGBmaWxlLnVyaWAgYXMgQmxvYiwgbWFrZSBzdXJlIHRoZSB1cmkgaXMgY29ycmVjdCBhbmQgYWNjZXNzaWJsZS4gXCIuY29uY2F0KGVycikpO1xuICAgICAgICB9KTtcbiAgICAgIH0gLy8gU2luY2Ugd2UgZW11bGF0ZSB0aGUgQmxvYiB0eXBlIGluIG91ciB0ZXN0cyAobm90IGFsbCB0YXJnZXQgYnJvd3NlcnNcbiAgICAgIC8vIHN1cHBvcnQgaXQpLCB3ZSBjYW5ub3QgdXNlIGBpbnN0YW5jZW9mYCBmb3IgdGVzdGluZyB3aGV0aGVyIHRoZSBpbnB1dCB2YWx1ZVxuICAgICAgLy8gY2FuIGJlIGhhbmRsZWQuIEluc3RlYWQsIHdlIHNpbXBseSBjaGVjayBpcyB0aGUgc2xpY2UoKSBmdW5jdGlvbiBhbmQgdGhlXG4gICAgICAvLyBzaXplIHByb3BlcnR5IGFyZSBhdmFpbGFibGUuXG5cblxuICAgICAgaWYgKHR5cGVvZiBpbnB1dC5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgaW5wdXQuc2l6ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgRmlsZVNvdXJjZShpbnB1dCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGlucHV0LnJlYWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2h1bmtTaXplID0gTnVtYmVyKGNodW5rU2l6ZSk7XG5cbiAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoY2h1bmtTaXplKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2Nhbm5vdCBjcmVhdGUgc291cmNlIGZvciBzdHJlYW0gd2l0aG91dCBhIGZpbml0ZSB2YWx1ZSBmb3IgdGhlIGBjaHVua1NpemVgIG9wdGlvbicpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IFN0cmVhbVNvdXJjZShpbnB1dCwgY2h1bmtTaXplKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ3NvdXJjZSBvYmplY3QgbWF5IG9ubHkgYmUgYW4gaW5zdGFuY2Ugb2YgRmlsZSwgQmxvYiwgb3IgUmVhZGVyIGluIHRoaXMgZW52aXJvbm1lbnQnKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZpbGVSZWFkZXI7XG59KCk7XG5cbmV4cG9ydCB7IEZpbGVSZWFkZXIgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBpc1JlYWN0TmF0aXZlIGZyb20gJy4vaXNSZWFjdE5hdGl2ZS5qcyc7IC8vIFRPRE86IERpZmZlcmVuY2lhdGUgYmV0d2VlbiBpbnB1dCB0eXBlc1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgZmluZ2VycHJpbnQgZm9yIGEgZmlsZSB3aGljaCB3aWxsIGJlIHVzZWQgdGhlIHN0b3JlIHRoZSBlbmRwb2ludFxuICpcbiAqIEBwYXJhbSB7RmlsZX0gZmlsZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmluZ2VycHJpbnQoZmlsZSwgb3B0aW9ucykge1xuICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFjdE5hdGl2ZUZpbmdlcnByaW50KGZpbGUsIG9wdGlvbnMpKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoWyd0dXMtYnInLCBmaWxlLm5hbWUsIGZpbGUudHlwZSwgZmlsZS5zaXplLCBmaWxlLmxhc3RNb2RpZmllZCwgb3B0aW9ucy5lbmRwb2ludF0uam9pbignLScpKTtcbn1cblxuZnVuY3Rpb24gcmVhY3ROYXRpdmVGaW5nZXJwcmludChmaWxlLCBvcHRpb25zKSB7XG4gIHZhciBleGlmSGFzaCA9IGZpbGUuZXhpZiA/IGhhc2hDb2RlKEpTT04uc3RyaW5naWZ5KGZpbGUuZXhpZikpIDogJ25vZXhpZic7XG4gIHJldHVybiBbJ3R1cy1ybicsIGZpbGUubmFtZSB8fCAnbm9uYW1lJywgZmlsZS5zaXplIHx8ICdub3NpemUnLCBleGlmSGFzaCwgb3B0aW9ucy5lbmRwb2ludF0uam9pbignLycpO1xufVxuXG5mdW5jdGlvbiBoYXNoQ29kZShzdHIpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSAqL1xuICAvLyBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS84ODMxOTM3LzE1MTY2NlxuICB2YXIgaGFzaCA9IDA7XG5cbiAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gaGFzaDtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIF9jaGFyID0gc3RyLmNoYXJDb2RlQXQoaSk7XG5cbiAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgX2NoYXI7XG4gICAgaGFzaCAmPSBoYXNoOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgfVxuXG4gIHJldHVybiBoYXNoO1xufSIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWNsYXNzZXMtcGVyLWZpbGUgKi9cbnZhciBYSFJIdHRwU3RhY2sgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBYSFJIdHRwU3RhY2soKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFhIUkh0dHBTdGFjayk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoWEhSSHR0cFN0YWNrLCBbe1xuICAgIGtleTogXCJjcmVhdGVSZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVJlcXVlc3QobWV0aG9kLCB1cmwpIHtcbiAgICAgIHJldHVybiBuZXcgUmVxdWVzdChtZXRob2QsIHVybCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldE5hbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TmFtZSgpIHtcbiAgICAgIHJldHVybiAnWEhSSHR0cFN0YWNrJztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gWEhSSHR0cFN0YWNrO1xufSgpO1xuXG5leHBvcnQgeyBYSFJIdHRwU3RhY2sgYXMgZGVmYXVsdCB9O1xuXG52YXIgUmVxdWVzdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFJlcXVlc3QobWV0aG9kLCB1cmwpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVxdWVzdCk7XG5cbiAgICB0aGlzLl94aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIHRoaXMuX3hoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcblxuICAgIHRoaXMuX21ldGhvZCA9IG1ldGhvZDtcbiAgICB0aGlzLl91cmwgPSB1cmw7XG4gICAgdGhpcy5faGVhZGVycyA9IHt9O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlcXVlc3QsIFt7XG4gICAga2V5OiBcImdldE1ldGhvZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNZXRob2QoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWV0aG9kO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRVUkxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VVJMKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3VybDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0SGVhZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEhlYWRlcihoZWFkZXIsIHZhbHVlKSB7XG4gICAgICB0aGlzLl94aHIuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXIsIHZhbHVlKTtcblxuICAgICAgdGhpcy5faGVhZGVyc1toZWFkZXJdID0gdmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEhlYWRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIZWFkZXIoaGVhZGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGVhZGVyc1toZWFkZXJdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRQcm9ncmVzc0hhbmRsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UHJvZ3Jlc3NIYW5kbGVyKHByb2dyZXNzSGFuZGxlcikge1xuICAgICAgLy8gVGVzdCBzdXBwb3J0IGZvciBwcm9ncmVzcyBldmVudHMgYmVmb3JlIGF0dGFjaGluZyBhbiBldmVudCBsaXN0ZW5lclxuICAgICAgaWYgKCEoJ3VwbG9hZCcgaW4gdGhpcy5feGhyKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3hoci51cGxvYWQub25wcm9ncmVzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICghZS5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvZ3Jlc3NIYW5kbGVyKGUubG9hZGVkKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNlbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZCgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBib2R5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgX3RoaXMuX3hoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoX3RoaXMuX3hocikpO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLl94aHIub25lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5feGhyLnNlbmQoYm9keSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWJvcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICB0aGlzLl94aHIuYWJvcnQoKTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRVbmRlcmx5aW5nT2JqZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVuZGVybHlpbmdPYmplY3QoKSB7XG4gICAgICByZXR1cm4gdGhpcy5feGhyO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXF1ZXN0O1xufSgpO1xuXG52YXIgUmVzcG9uc2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSZXNwb25zZSh4aHIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzcG9uc2UpO1xuXG4gICAgdGhpcy5feGhyID0geGhyO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlc3BvbnNlLCBbe1xuICAgIGtleTogXCJnZXRTdGF0dXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3RhdHVzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3hoci5zdGF0dXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEhlYWRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIZWFkZXIoaGVhZGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5feGhyLmdldFJlc3BvbnNlSGVhZGVyKGhlYWRlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEJvZHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Qm9keSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl94aHIucmVzcG9uc2VUZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRVbmRlcmx5aW5nT2JqZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVuZGVybHlpbmdPYmplY3QoKSB7XG4gICAgICByZXR1cm4gdGhpcy5feGhyO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXNwb25zZTtcbn0oKTsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuaW1wb3J0IEJhc2VVcGxvYWQgZnJvbSAnLi4vdXBsb2FkLmpzJztcbmltcG9ydCBOb29wVXJsU3RvcmFnZSBmcm9tICcuLi9ub29wVXJsU3RvcmFnZS5qcyc7XG5pbXBvcnQgeyBlbmFibGVEZWJ1Z0xvZyB9IGZyb20gJy4uL2xvZ2dlci5qcyc7XG5pbXBvcnQgRGV0YWlsZWRFcnJvciBmcm9tICcuLi9lcnJvci5qcyc7XG5pbXBvcnQgeyBjYW5TdG9yZVVSTHMsIFdlYlN0b3JhZ2VVcmxTdG9yYWdlIH0gZnJvbSAnLi91cmxTdG9yYWdlLmpzJztcbmltcG9ydCBEZWZhdWx0SHR0cFN0YWNrIGZyb20gJy4vaHR0cFN0YWNrLmpzJztcbmltcG9ydCBGaWxlUmVhZGVyIGZyb20gJy4vZmlsZVJlYWRlci5qcyc7XG5pbXBvcnQgZmluZ2VycHJpbnQgZnJvbSAnLi9maWxlU2lnbmF0dXJlLmpzJztcblxudmFyIGRlZmF1bHRPcHRpb25zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBCYXNlVXBsb2FkLmRlZmF1bHRPcHRpb25zKSwge30sIHtcbiAgaHR0cFN0YWNrOiBuZXcgRGVmYXVsdEh0dHBTdGFjaygpLFxuICBmaWxlUmVhZGVyOiBuZXcgRmlsZVJlYWRlcigpLFxuICB1cmxTdG9yYWdlOiBjYW5TdG9yZVVSTHMgPyBuZXcgV2ViU3RvcmFnZVVybFN0b3JhZ2UoKSA6IG5ldyBOb29wVXJsU3RvcmFnZSgpLFxuICBmaW5nZXJwcmludDogZmluZ2VycHJpbnRcbn0pO1xuXG52YXIgVXBsb2FkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZVVwbG9hZCkge1xuICBfaW5oZXJpdHMoVXBsb2FkLCBfQmFzZVVwbG9hZCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihVcGxvYWQpO1xuXG4gIGZ1bmN0aW9uIFVwbG9hZCgpIHtcbiAgICB2YXIgZmlsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVXBsb2FkKTtcblxuICAgIG9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGZpbGUsIG9wdGlvbnMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFVwbG9hZCwgbnVsbCwgW3tcbiAgICBrZXk6IFwidGVybWluYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRlcm1pbmF0ZSh1cmwpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIG9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gQmFzZVVwbG9hZC50ZXJtaW5hdGUodXJsLCBvcHRpb25zKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVXBsb2FkO1xufShCYXNlVXBsb2FkKTtcblxudmFyIF93aW5kb3cgPSB3aW5kb3csXG4gICAgWE1MSHR0cFJlcXVlc3QgPSBfd2luZG93LlhNTEh0dHBSZXF1ZXN0LFxuICAgIEJsb2IgPSBfd2luZG93LkJsb2I7XG52YXIgaXNTdXBwb3J0ZWQgPSBYTUxIdHRwUmVxdWVzdCAmJiBCbG9iICYmIHR5cGVvZiBCbG9iLnByb3RvdHlwZS5zbGljZSA9PT0gJ2Z1bmN0aW9uJztcbmV4cG9ydCB7IFVwbG9hZCwgY2FuU3RvcmVVUkxzLCBkZWZhdWx0T3B0aW9ucywgaXNTdXBwb3J0ZWQsIGVuYWJsZURlYnVnTG9nLCBEZWZhdWx0SHR0cFN0YWNrLCBEZXRhaWxlZEVycm9yIH07IiwidmFyIGlzUmVhY3ROYXRpdmUgPSBmdW5jdGlvbiBpc1JlYWN0TmF0aXZlKCkge1xuICByZXR1cm4gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnc3RyaW5nJyAmJiBuYXZpZ2F0b3IucHJvZHVjdC50b0xvd2VyQ2FzZSgpID09PSAncmVhY3RuYXRpdmUnO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaXNSZWFjdE5hdGl2ZTsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCBpc0NvcmRvdmEgZnJvbSAnLi9pc0NvcmRvdmEuanMnO1xuaW1wb3J0IHJlYWRBc0J5dGVBcnJheSBmcm9tICcuL3JlYWRBc0J5dGVBcnJheS5qcyc7XG5cbnZhciBGaWxlU291cmNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLy8gTWFrZSB0aGlzLnNpemUgYSBtZXRob2RcbiAgZnVuY3Rpb24gRmlsZVNvdXJjZShmaWxlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbGVTb3VyY2UpO1xuXG4gICAgdGhpcy5fZmlsZSA9IGZpbGU7XG4gICAgdGhpcy5zaXplID0gZmlsZS5zaXplO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEZpbGVTb3VyY2UsIFt7XG4gICAga2V5OiBcInNsaWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNsaWNlKHN0YXJ0LCBlbmQpIHtcbiAgICAgIC8vIEluIEFwYWNoZSBDb3Jkb3ZhIGFwcGxpY2F0aW9ucywgYSBGaWxlIG11c3QgYmUgcmVzb2x2ZWQgdXNpbmdcbiAgICAgIC8vIEZpbGVSZWFkZXIgaW5zdGFuY2VzLCBzZWVcbiAgICAgIC8vIGh0dHBzOi8vY29yZG92YS5hcGFjaGUub3JnL2RvY3MvZW4vOC54L3JlZmVyZW5jZS9jb3Jkb3ZhLXBsdWdpbi1maWxlL2luZGV4Lmh0bWwjcmVhZC1hLWZpbGVcbiAgICAgIGlmIChpc0NvcmRvdmEoKSkge1xuICAgICAgICByZXR1cm4gcmVhZEFzQnl0ZUFycmF5KHRoaXMuX2ZpbGUuc2xpY2Uoc3RhcnQsIGVuZCkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLl9maWxlLnNsaWNlKHN0YXJ0LCBlbmQpO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7Ly8gTm90aGluZyB0byBkbyBoZXJlIHNpbmNlIHdlIGRvbid0IG5lZWQgdG8gcmVsZWFzZSBhbnkgcmVzb3VyY2VzLlxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBGaWxlU291cmNlO1xufSgpO1xuXG5leHBvcnQgeyBGaWxlU291cmNlIGFzIGRlZmF1bHQgfTsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIGxlbihibG9iT3JBcnJheSkge1xuICBpZiAoYmxvYk9yQXJyYXkgPT09IHVuZGVmaW5lZCkgcmV0dXJuIDA7XG4gIGlmIChibG9iT3JBcnJheS5zaXplICE9PSB1bmRlZmluZWQpIHJldHVybiBibG9iT3JBcnJheS5zaXplO1xuICByZXR1cm4gYmxvYk9yQXJyYXkubGVuZ3RoO1xufVxuLypcbiAgVHlwZWQgYXJyYXlzIGFuZCBibG9icyBkb24ndCBoYXZlIGEgY29uY2F0IG1ldGhvZC5cbiAgVGhpcyBmdW5jdGlvbiBoZWxwcyBTdHJlYW1Tb3VyY2UgYWNjdW11bGF0ZSBkYXRhIHRvIHJlYWNoIGNodW5rU2l6ZS5cbiovXG5cblxuZnVuY3Rpb24gY29uY2F0KGEsIGIpIHtcbiAgaWYgKGEuY29uY2F0KSB7XG4gICAgLy8gSXMgYGFgIGFuIEFycmF5P1xuICAgIHJldHVybiBhLmNvbmNhdChiKTtcbiAgfVxuXG4gIGlmIChhIGluc3RhbmNlb2YgQmxvYikge1xuICAgIHJldHVybiBuZXcgQmxvYihbYSwgYl0sIHtcbiAgICAgIHR5cGU6IGEudHlwZVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGEuc2V0KSB7XG4gICAgLy8gSXMgYGFgIGEgdHlwZWQgYXJyYXk/XG4gICAgdmFyIGMgPSBuZXcgYS5jb25zdHJ1Y3RvcihhLmxlbmd0aCArIGIubGVuZ3RoKTtcbiAgICBjLnNldChhKTtcbiAgICBjLnNldChiLCBhLmxlbmd0aCk7XG4gICAgcmV0dXJuIGM7XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZGF0YSB0eXBlJyk7XG59XG5cbnZhciBTdHJlYW1Tb3VyY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTdHJlYW1Tb3VyY2UocmVhZGVyKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0cmVhbVNvdXJjZSk7XG5cbiAgICB0aGlzLl9idWZmZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fYnVmZmVyT2Zmc2V0ID0gMDtcbiAgICB0aGlzLl9yZWFkZXIgPSByZWFkZXI7XG4gICAgdGhpcy5fZG9uZSA9IGZhbHNlO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFN0cmVhbVNvdXJjZSwgW3tcbiAgICBrZXk6IFwic2xpY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2xpY2Uoc3RhcnQsIGVuZCkge1xuICAgICAgaWYgKHN0YXJ0IDwgdGhpcy5fYnVmZmVyT2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJSZXF1ZXN0ZWQgZGF0YSBpcyBiZWZvcmUgdGhlIHJlYWRlcidzIGN1cnJlbnQgb2Zmc2V0XCIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX3JlYWRVbnRpbEVub3VnaERhdGFPckRvbmUoc3RhcnQsIGVuZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9yZWFkVW50aWxFbm91Z2hEYXRhT3JEb25lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZWFkVW50aWxFbm91Z2hEYXRhT3JEb25lKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBoYXNFbm91Z2hEYXRhID0gZW5kIDw9IHRoaXMuX2J1ZmZlck9mZnNldCArIGxlbih0aGlzLl9idWZmZXIpO1xuXG4gICAgICBpZiAodGhpcy5fZG9uZSB8fCBoYXNFbm91Z2hEYXRhKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX2dldERhdGFGcm9tQnVmZmVyKHN0YXJ0LCBlbmQpO1xuXG4gICAgICAgIHZhciBkb25lID0gdmFsdWUgPT0gbnVsbCA/IHRoaXMuX2RvbmUgOiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIGRvbmU6IGRvbmVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9yZWFkZXIucmVhZCgpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gX3JlZi52YWx1ZSxcbiAgICAgICAgICAgIGRvbmUgPSBfcmVmLmRvbmU7XG5cbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBfdGhpcy5fZG9uZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoX3RoaXMuX2J1ZmZlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgX3RoaXMuX2J1ZmZlciA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzLl9idWZmZXIgPSBjb25jYXQoX3RoaXMuX2J1ZmZlciwgdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF90aGlzLl9yZWFkVW50aWxFbm91Z2hEYXRhT3JEb25lKHN0YXJ0LCBlbmQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXREYXRhRnJvbUJ1ZmZlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0RGF0YUZyb21CdWZmZXIoc3RhcnQsIGVuZCkge1xuICAgICAgLy8gUmVtb3ZlIGRhdGEgZnJvbSBidWZmZXIgYmVmb3JlIGBzdGFydGAuXG4gICAgICAvLyBEYXRhIG1pZ2h0IGJlIHJlcmVhZCBmcm9tIHRoZSBidWZmZXIgaWYgYW4gdXBsb2FkIGZhaWxzLCBzbyB3ZSBjYW4gb25seVxuICAgICAgLy8gc2FmZWx5IGRlbGV0ZSBkYXRhIHdoZW4gaXQgY29tZXMgKmJlZm9yZSogd2hhdCBpcyBjdXJyZW50bHkgYmVpbmcgcmVhZC5cbiAgICAgIGlmIChzdGFydCA+IHRoaXMuX2J1ZmZlck9mZnNldCkge1xuICAgICAgICB0aGlzLl9idWZmZXIgPSB0aGlzLl9idWZmZXIuc2xpY2Uoc3RhcnQgLSB0aGlzLl9idWZmZXJPZmZzZXQpO1xuICAgICAgICB0aGlzLl9idWZmZXJPZmZzZXQgPSBzdGFydDtcbiAgICAgIH0gLy8gSWYgdGhlIGJ1ZmZlciBpcyBlbXB0eSBhZnRlciByZW1vdmluZyBvbGQgZGF0YSwgYWxsIGRhdGEgaGFzIGJlZW4gcmVhZC5cblxuXG4gICAgICB2YXIgaGFzQWxsRGF0YUJlZW5SZWFkID0gbGVuKHRoaXMuX2J1ZmZlcikgPT09IDA7XG5cbiAgICAgIGlmICh0aGlzLl9kb25lICYmIGhhc0FsbERhdGFCZWVuUmVhZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gLy8gV2UgYWxyZWFkeSByZW1vdmVkIGRhdGEgYmVmb3JlIGBzdGFydGAsIHNvIHdlIGp1c3QgcmV0dXJuIHRoZSBmaXJzdFxuICAgICAgLy8gY2h1bmsgZnJvbSB0aGUgYnVmZmVyLlxuXG5cbiAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuc2xpY2UoMCwgZW5kIC0gc3RhcnQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbG9zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgIGlmICh0aGlzLl9yZWFkZXIuY2FuY2VsKSB7XG4gICAgICAgIHRoaXMuX3JlYWRlci5jYW5jZWwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3RyZWFtU291cmNlO1xufSgpO1xuXG5leHBvcnQgeyBTdHJlYW1Tb3VyY2UgYXMgZGVmYXVsdCB9OyIsInZhciBpc0NvcmRvdmEgPSBmdW5jdGlvbiBpc0NvcmRvdmEoKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAodHlwZW9mIHdpbmRvdy5QaG9uZUdhcCAhPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvdy5Db3Jkb3ZhICE9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygd2luZG93LmNvcmRvdmEgIT09ICd1bmRlZmluZWQnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGlzQ29yZG92YTsiLCIvKipcbiAqIHJlYWRBc0J5dGVBcnJheSBjb252ZXJ0cyBhIEZpbGUgb2JqZWN0IHRvIGEgVWludDhBcnJheS5cbiAqIFRoaXMgZnVuY3Rpb24gaXMgb25seSB1c2VkIG9uIHRoZSBBcGFjaGUgQ29yZG92YSBwbGF0Zm9ybS5cbiAqIFNlZSBodHRwczovL2NvcmRvdmEuYXBhY2hlLm9yZy9kb2NzL2VuL2xhdGVzdC9yZWZlcmVuY2UvY29yZG92YS1wbHVnaW4tZmlsZS9pbmRleC5odG1sI3JlYWQtYS1maWxlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlYWRBc0J5dGVBcnJheShjaHVuaykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IG5ldyBVaW50OEFycmF5KHJlYWRlci5yZXN1bHQpO1xuICAgICAgcmVzb2x2ZSh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfTtcblxuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihjaHVuayk7XG4gIH0pO1xufSIsIi8qKlxuICogdXJpVG9CbG9iIHJlc29sdmVzIGEgVVJJIHRvIGEgQmxvYiBvYmplY3QuIFRoaXMgaXMgdXNlZCBmb3JcbiAqIFJlYWN0IE5hdGl2ZSB0byByZXRyaWV2ZSBhIGZpbGUgKGlkZW50aWZpZWQgYnkgYSBmaWxlOi8vXG4gKiBVUkkpIGFzIGEgYmxvYi5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXJpVG9CbG9iKHVyaSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xuXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBibG9iID0geGhyLnJlc3BvbnNlO1xuICAgICAgcmVzb2x2ZShibG9iKTtcbiAgICB9O1xuXG4gICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9O1xuXG4gICAgeGhyLm9wZW4oJ0dFVCcsIHVyaSk7XG4gICAgeGhyLnNlbmQoKTtcbiAgfSk7XG59IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgaGFzU3RvcmFnZSA9IGZhbHNlO1xuXG50cnkge1xuICBoYXNTdG9yYWdlID0gJ2xvY2FsU3RvcmFnZScgaW4gd2luZG93OyAvLyBBdHRlbXB0IHRvIHN0b3JlIGFuZCByZWFkIGVudHJpZXMgZnJvbSB0aGUgbG9jYWwgc3RvcmFnZSB0byBkZXRlY3QgUHJpdmF0ZVxuICAvLyBNb2RlIG9uIFNhZmFyaSBvbiBpT1MgKHNlZSAjNDkpXG4gIC8vIElmIHRoZSBrZXkgd2FzIG5vdCB1c2VkIGJlZm9yZSwgd2UgcmVtb3ZlIGl0IGZyb20gbG9jYWwgc3RvcmFnZSBhZ2FpbiB0b1xuICAvLyBub3QgY2F1c2UgY29uZnVzaW9uIHdoZXJlIHRoZSBlbnRyeSBjYW1lIGZyb20uXG5cbiAgdmFyIGtleSA9ICd0dXNTdXBwb3J0JztcbiAgdmFyIG9yaWdpbmFsVmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIG9yaWdpbmFsVmFsdWUpO1xuICBpZiAob3JpZ2luYWxWYWx1ZSA9PT0gbnVsbCkgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbn0gY2F0Y2ggKGUpIHtcbiAgLy8gSWYgd2UgdHJ5IHRvIGFjY2VzcyBsb2NhbFN0b3JhZ2UgaW5zaWRlIGEgc2FuZGJveGVkIGlmcmFtZSwgYSBTZWN1cml0eUVycm9yXG4gIC8vIGlzIHRocm93bi4gV2hlbiBpbiBwcml2YXRlIG1vZGUgb24gaU9TIFNhZmFyaSwgYSBRdW90YUV4Y2VlZGVkRXJyb3IgaXNcbiAgLy8gdGhyb3duIChzZWUgIzQ5KVxuICBpZiAoZS5jb2RlID09PSBlLlNFQ1VSSVRZX0VSUiB8fCBlLmNvZGUgPT09IGUuUVVPVEFfRVhDRUVERURfRVJSKSB7XG4gICAgaGFzU3RvcmFnZSA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IGU7XG4gIH1cbn1cblxuZXhwb3J0IHZhciBjYW5TdG9yZVVSTHMgPSBoYXNTdG9yYWdlO1xuZXhwb3J0IHZhciBXZWJTdG9yYWdlVXJsU3RvcmFnZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFdlYlN0b3JhZ2VVcmxTdG9yYWdlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJTdG9yYWdlVXJsU3RvcmFnZSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoV2ViU3RvcmFnZVVybFN0b3JhZ2UsIFt7XG4gICAga2V5OiBcImZpbmRBbGxVcGxvYWRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRBbGxVcGxvYWRzKCkge1xuICAgICAgdmFyIHJlc3VsdHMgPSB0aGlzLl9maW5kRW50cmllcygndHVzOjonKTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHRzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmluZFVwbG9hZHNCeUZpbmdlcnByaW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRVcGxvYWRzQnlGaW5nZXJwcmludChmaW5nZXJwcmludCkge1xuICAgICAgdmFyIHJlc3VsdHMgPSB0aGlzLl9maW5kRW50cmllcyhcInR1czo6XCIuY29uY2F0KGZpbmdlcnByaW50LCBcIjo6XCIpKTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHRzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlVXBsb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVVwbG9hZCh1cmxTdG9yYWdlS2V5KSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh1cmxTdG9yYWdlS2V5KTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkVXBsb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFVwbG9hZChmaW5nZXJwcmludCwgdXBsb2FkKSB7XG4gICAgICB2YXIgaWQgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxZTEyKTtcbiAgICAgIHZhciBrZXkgPSBcInR1czo6XCIuY29uY2F0KGZpbmdlcnByaW50LCBcIjo6XCIpLmNvbmNhdChpZCk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHVwbG9hZCkpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShrZXkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZmluZEVudHJpZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpbmRFbnRyaWVzKHByZWZpeCkge1xuICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIF9rZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xuXG4gICAgICAgIGlmIChfa2V5LmluZGV4T2YocHJlZml4KSAhPT0gMCkgY29udGludWU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgdXBsb2FkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShfa2V5KSk7XG4gICAgICAgICAgdXBsb2FkLnVybFN0b3JhZ2VLZXkgPSBfa2V5O1xuICAgICAgICAgIHJlc3VsdHMucHVzaCh1cGxvYWQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7Ly8gVGhlIEpTT04gcGFyc2UgZXJyb3IgaXMgaW50ZW50aW9uYWxseSBpZ25vcmVkIGhlcmUsIHNvIGEgbWFsZm9ybWVkXG4gICAgICAgICAgLy8gZW50cnkgaW4gdGhlIHN0b3JhZ2UgY2Fubm90IHByZXZlbnQgYW4gdXBsb2FkLlxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBXZWJTdG9yYWdlVXJsU3RvcmFnZTtcbn0oKTsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7IF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7IGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHsgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7IF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpOyB9IGZ1bmN0aW9uIFdyYXBwZXIoKSB7IHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7IH0gV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogV3JhcHBlciwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7IH07IHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTsgfVxuXG5mdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgeyBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3QuYmluZCgpOyB9IGVsc2UgeyBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IHZhciBhID0gW251bGxdOyBhLnB1c2guYXBwbHkoYSwgYXJncyk7IHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTsgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7IGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpOyByZXR1cm4gaW5zdGFuY2U7IH07IH0gcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHsgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG52YXIgRGV0YWlsZWRFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Vycm9yKSB7XG4gIF9pbmhlcml0cyhEZXRhaWxlZEVycm9yLCBfRXJyb3IpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoRGV0YWlsZWRFcnJvcik7XG5cbiAgZnVuY3Rpb24gRGV0YWlsZWRFcnJvcihtZXNzYWdlKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIGNhdXNpbmdFcnIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG51bGw7XG4gICAgdmFyIHJlcSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcbiAgICB2YXIgcmVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBudWxsO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERldGFpbGVkRXJyb3IpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICBfdGhpcy5vcmlnaW5hbFJlcXVlc3QgPSByZXE7XG4gICAgX3RoaXMub3JpZ2luYWxSZXNwb25zZSA9IHJlcztcbiAgICBfdGhpcy5jYXVzaW5nRXJyb3IgPSBjYXVzaW5nRXJyO1xuXG4gICAgaWYgKGNhdXNpbmdFcnIgIT0gbnVsbCkge1xuICAgICAgbWVzc2FnZSArPSBcIiwgY2F1c2VkIGJ5IFwiLmNvbmNhdChjYXVzaW5nRXJyLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIGlmIChyZXEgIT0gbnVsbCkge1xuICAgICAgdmFyIHJlcXVlc3RJZCA9IHJlcS5nZXRIZWFkZXIoJ1gtUmVxdWVzdC1JRCcpIHx8ICduL2EnO1xuICAgICAgdmFyIG1ldGhvZCA9IHJlcS5nZXRNZXRob2QoKTtcbiAgICAgIHZhciB1cmwgPSByZXEuZ2V0VVJMKCk7XG4gICAgICB2YXIgc3RhdHVzID0gcmVzID8gcmVzLmdldFN0YXR1cygpIDogJ24vYSc7XG4gICAgICB2YXIgYm9keSA9IHJlcyA/IHJlcy5nZXRCb2R5KCkgfHwgJycgOiAnbi9hJztcbiAgICAgIG1lc3NhZ2UgKz0gXCIsIG9yaWdpbmF0ZWQgZnJvbSByZXF1ZXN0IChtZXRob2Q6IFwiLmNvbmNhdChtZXRob2QsIFwiLCB1cmw6IFwiKS5jb25jYXQodXJsLCBcIiwgcmVzcG9uc2UgY29kZTogXCIpLmNvbmNhdChzdGF0dXMsIFwiLCByZXNwb25zZSB0ZXh0OiBcIikuY29uY2F0KGJvZHksIFwiLCByZXF1ZXN0IGlkOiBcIikuY29uY2F0KHJlcXVlc3RJZCwgXCIpXCIpO1xuICAgIH1cblxuICAgIF90aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoRGV0YWlsZWRFcnJvcik7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xuXG5leHBvcnQgZGVmYXVsdCBEZXRhaWxlZEVycm9yOyIsIi8qIGVzbGludCBuby1jb25zb2xlOiBcIm9mZlwiICovXG52YXIgaXNFbmFibGVkID0gZmFsc2U7XG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlRGVidWdMb2coKSB7XG4gIGlzRW5hYmxlZCA9IHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9nKG1zZykge1xuICBpZiAoIWlzRW5hYmxlZCkgcmV0dXJuO1xuICBjb25zb2xlLmxvZyhtc2cpO1xufSIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG52YXIgTm9vcFVybFN0b3JhZ2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBOb29wVXJsU3RvcmFnZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9vcFVybFN0b3JhZ2UpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE5vb3BVcmxTdG9yYWdlLCBbe1xuICAgIGtleTogXCJsaXN0QWxsVXBsb2Fkc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsaXN0QWxsVXBsb2FkcygpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmaW5kVXBsb2Fkc0J5RmluZ2VycHJpbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZFVwbG9hZHNCeUZpbmdlcnByaW50KGZpbmdlcnByaW50KSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlVXBsb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVVwbG9hZCh1cmxTdG9yYWdlS2V5KSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFkZFVwbG9hZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRVcGxvYWQoZmluZ2VycHJpbnQsIHVwbG9hZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTm9vcFVybFN0b3JhZ2U7XG59KCk7XG5cbmV4cG9ydCB7IE5vb3BVcmxTdG9yYWdlIGFzIGRlZmF1bHQgfTsiLCJmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07IGlmIChfaSA9PSBudWxsKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX3MsIF9lOyB0cnkgeyBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IHsgQmFzZTY0IH0gZnJvbSAnanMtYmFzZTY0JztcbmltcG9ydCBVUkwgZnJvbSAndXJsLXBhcnNlJztcbmltcG9ydCBEZXRhaWxlZEVycm9yIGZyb20gJy4vZXJyb3IuanMnO1xuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xuaW1wb3J0IHV1aWQgZnJvbSAnLi91dWlkLmpzJztcbnZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgZW5kcG9pbnQ6IG51bGwsXG4gIHVwbG9hZFVybDogbnVsbCxcbiAgbWV0YWRhdGE6IHt9LFxuICBmaW5nZXJwcmludDogbnVsbCxcbiAgdXBsb2FkU2l6ZTogbnVsbCxcbiAgb25Qcm9ncmVzczogbnVsbCxcbiAgb25DaHVua0NvbXBsZXRlOiBudWxsLFxuICBvblN1Y2Nlc3M6IG51bGwsXG4gIG9uRXJyb3I6IG51bGwsXG4gIG9uVXBsb2FkVXJsQXZhaWxhYmxlOiBudWxsLFxuICBvdmVycmlkZVBhdGNoTWV0aG9kOiBmYWxzZSxcbiAgaGVhZGVyczoge30sXG4gIGFkZFJlcXVlc3RJZDogZmFsc2UsXG4gIG9uQmVmb3JlUmVxdWVzdDogbnVsbCxcbiAgb25BZnRlclJlc3BvbnNlOiBudWxsLFxuICBvblNob3VsZFJldHJ5OiBudWxsLFxuICBjaHVua1NpemU6IEluZmluaXR5LFxuICByZXRyeURlbGF5czogWzAsIDEwMDAsIDMwMDAsIDUwMDBdLFxuICBwYXJhbGxlbFVwbG9hZHM6IDEsXG4gIHBhcmFsbGVsVXBsb2FkQm91bmRhcmllczogbnVsbCxcbiAgc3RvcmVGaW5nZXJwcmludEZvclJlc3VtaW5nOiB0cnVlLFxuICByZW1vdmVGaW5nZXJwcmludE9uU3VjY2VzczogZmFsc2UsXG4gIHVwbG9hZExlbmd0aERlZmVycmVkOiBmYWxzZSxcbiAgdXBsb2FkRGF0YUR1cmluZ0NyZWF0aW9uOiBmYWxzZSxcbiAgdXJsU3RvcmFnZTogbnVsbCxcbiAgZmlsZVJlYWRlcjogbnVsbCxcbiAgaHR0cFN0YWNrOiBudWxsXG59O1xuXG52YXIgQmFzZVVwbG9hZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJhc2VVcGxvYWQoZmlsZSwgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlVXBsb2FkKTtcblxuICAgIC8vIFdhcm4gYWJvdXQgcmVtb3ZlZCBvcHRpb25zIGZyb20gcHJldmlvdXMgdmVyc2lvbnNcbiAgICBpZiAoJ3Jlc3VtZScgaW4gb3B0aW9ucykge1xuICAgICAgY29uc29sZS5sb2coJ3R1czogVGhlIGByZXN1bWVgIG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkIGluIHR1cy1qcy1jbGllbnQgdjIuIFBsZWFzZSB1c2UgdGhlIFVSTCBzdG9yYWdlIEFQSSBpbnN0ZWFkLicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9IC8vIFRoZSBkZWZhdWx0IG9wdGlvbnMgd2lsbCBhbHJlYWR5IGJlIGFkZGVkIGZyb20gdGhlIHdyYXBwZXIgY2xhc3Nlcy5cblxuXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uczsgLy8gQ2FzdCBjaHVua1NpemUgdG8gaW50ZWdlclxuXG4gICAgdGhpcy5vcHRpb25zLmNodW5rU2l6ZSA9IE51bWJlcih0aGlzLm9wdGlvbnMuY2h1bmtTaXplKTsgLy8gVGhlIHN0b3JhZ2UgbW9kdWxlIHVzZWQgdG8gc3RvcmUgVVJMc1xuXG4gICAgdGhpcy5fdXJsU3RvcmFnZSA9IHRoaXMub3B0aW9ucy51cmxTdG9yYWdlOyAvLyBUaGUgdW5kZXJseWluZyBGaWxlL0Jsb2Igb2JqZWN0XG5cbiAgICB0aGlzLmZpbGUgPSBmaWxlOyAvLyBUaGUgVVJMIGFnYWluc3Qgd2hpY2ggdGhlIGZpbGUgd2lsbCBiZSB1cGxvYWRlZFxuXG4gICAgdGhpcy51cmwgPSBudWxsOyAvLyBUaGUgdW5kZXJseWluZyByZXF1ZXN0IG9iamVjdCBmb3IgdGhlIGN1cnJlbnQgUEFUQ0ggcmVxdWVzdFxuXG4gICAgdGhpcy5fcmVxID0gbnVsbDsgLy8gVGhlIGZpbmdlcnBpbnJ0IGZvciB0aGUgY3VycmVudCBmaWxlIChzZXQgYWZ0ZXIgc3RhcnQoKSlcblxuICAgIHRoaXMuX2ZpbmdlcnByaW50ID0gbnVsbDsgLy8gVGhlIGtleSB0aGF0IHRoZSBVUkwgc3RvcmFnZSByZXR1cm5lZCB3aGVuIHNhdmluZyBhbiBVUkwgd2l0aCBhIGZpbmdlcnByaW50LFxuXG4gICAgdGhpcy5fdXJsU3RvcmFnZUtleSA9IG51bGw7IC8vIFRoZSBvZmZzZXQgdXNlZCBpbiB0aGUgY3VycmVudCBQQVRDSCByZXF1ZXN0XG5cbiAgICB0aGlzLl9vZmZzZXQgPSBudWxsOyAvLyBUcnVlIGlmIHRoZSBjdXJyZW50IFBBVENIIHJlcXVlc3QgaGFzIGJlZW4gYWJvcnRlZFxuXG4gICAgdGhpcy5fYWJvcnRlZCA9IGZhbHNlOyAvLyBUaGUgZmlsZSdzIHNpemUgaW4gYnl0ZXNcblxuICAgIHRoaXMuX3NpemUgPSBudWxsOyAvLyBUaGUgU291cmNlIG9iamVjdCB3aGljaCB3aWxsIHdyYXAgYXJvdW5kIHRoZSBnaXZlbiBmaWxlIGFuZCBwcm92aWRlcyB1c1xuICAgIC8vIHdpdGggYSB1bmlmaWVkIGludGVyZmFjZSBmb3IgZ2V0dGluZyBpdHMgc2l6ZSBhbmQgc2xpY2UgY2h1bmtzIGZyb20gaXRzXG4gICAgLy8gY29udGVudCBhbGxvd2luZyB1cyB0byBlYXNpbHkgaGFuZGxlIEZpbGVzLCBCbG9icywgQnVmZmVycyBhbmQgU3RyZWFtcy5cblxuICAgIHRoaXMuX3NvdXJjZSA9IG51bGw7IC8vIFRoZSBjdXJyZW50IGNvdW50IG9mIGF0dGVtcHRzIHdoaWNoIGhhdmUgYmVlbiBtYWRlLiBaZXJvIGluZGljYXRlcyBub25lLlxuXG4gICAgdGhpcy5fcmV0cnlBdHRlbXB0ID0gMDsgLy8gVGhlIHRpbWVvdXQncyBJRCB3aGljaCBpcyB1c2VkIHRvIGRlbGF5IHRoZSBuZXh0IHJldHJ5XG5cbiAgICB0aGlzLl9yZXRyeVRpbWVvdXQgPSBudWxsOyAvLyBUaGUgb2Zmc2V0IG9mIHRoZSByZW1vdGUgdXBsb2FkIGJlZm9yZSB0aGUgbGF0ZXN0IGF0dGVtcHQgd2FzIHN0YXJ0ZWQuXG5cbiAgICB0aGlzLl9vZmZzZXRCZWZvcmVSZXRyeSA9IDA7IC8vIEFuIGFycmF5IG9mIEJhc2VVcGxvYWQgaW5zdGFuY2VzIHdoaWNoIGFyZSB1c2VkIGZvciB1cGxvYWRpbmcgdGhlIGRpZmZlcmVudFxuICAgIC8vIHBhcnRzLCBpZiB0aGUgcGFyYWxsZWxVcGxvYWRzIG9wdGlvbiBpcyB1c2VkLlxuXG4gICAgdGhpcy5fcGFyYWxsZWxVcGxvYWRzID0gbnVsbDsgLy8gQW4gYXJyYXkgb2YgdXBsb2FkIFVSTHMgd2hpY2ggYXJlIHVzZWQgZm9yIHVwbG9hZGluZyB0aGUgZGlmZmVyZW50XG4gICAgLy8gcGFydHMsIGlmIHRoZSBwYXJhbGxlbFVwbG9hZHMgb3B0aW9uIGlzIHVzZWQuXG5cbiAgICB0aGlzLl9wYXJhbGxlbFVwbG9hZFVybHMgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBVc2UgdGhlIFRlcm1pbmF0aW9uIGV4dGVuc2lvbiB0byBkZWxldGUgYW4gdXBsb2FkIGZyb20gdGhlIHNlcnZlciBieSBzZW5kaW5nIGEgREVMRVRFXG4gICAqIHJlcXVlc3QgdG8gdGhlIHNwZWNpZmllZCB1cGxvYWQgVVJMLiBUaGlzIGlzIG9ubHkgcG9zc2libGUgaWYgdGhlIHNlcnZlciBzdXBwb3J0cyB0aGVcbiAgICogVGVybWluYXRpb24gZXh0ZW5zaW9uLiBJZiB0aGUgYG9wdGlvbnMucmV0cnlEZWxheXNgIHByb3BlcnR5IGlzIHNldCwgdGhlIG1ldGhvZCB3aWxsXG4gICAqIGFsc28gcmV0cnkgaWYgYW4gZXJyb3Igb2N1cnJzLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSB1cGxvYWQncyBVUkwgd2hpY2ggd2lsbCBiZSB0ZXJtaW5hdGVkLlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPcHRpb25hbCBvcHRpb25zIGZvciBpbmZsdWVuY2luZyBIVFRQIHJlcXVlc3RzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB3aWxsIGJlIHJlc29sdmVkL3JlamVjdGVkIHdoZW4gdGhlIHJlcXVlc3RzIGZpbmlzaC5cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoQmFzZVVwbG9hZCwgW3tcbiAgICBrZXk6IFwiZmluZFByZXZpb3VzVXBsb2Fkc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kUHJldmlvdXNVcGxvYWRzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5maW5nZXJwcmludCh0aGlzLmZpbGUsIHRoaXMub3B0aW9ucykudGhlbihmdW5jdGlvbiAoZmluZ2VycHJpbnQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLl91cmxTdG9yYWdlLmZpbmRVcGxvYWRzQnlGaW5nZXJwcmludChmaW5nZXJwcmludCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzdW1lRnJvbVByZXZpb3VzVXBsb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc3VtZUZyb21QcmV2aW91c1VwbG9hZChwcmV2aW91c1VwbG9hZCkge1xuICAgICAgdGhpcy51cmwgPSBwcmV2aW91c1VwbG9hZC51cGxvYWRVcmwgfHwgbnVsbDtcbiAgICAgIHRoaXMuX3BhcmFsbGVsVXBsb2FkVXJscyA9IHByZXZpb3VzVXBsb2FkLnBhcmFsbGVsVXBsb2FkVXJscyB8fCBudWxsO1xuICAgICAgdGhpcy5fdXJsU3RvcmFnZUtleSA9IHByZXZpb3VzVXBsb2FkLnVybFN0b3JhZ2VLZXk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0YXJ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlO1xuXG4gICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcigndHVzOiBubyBmaWxlIG9yIHN0cmVhbSB0byB1cGxvYWQgcHJvdmlkZWQnKSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5lbmRwb2ludCAmJiAhdGhpcy5vcHRpb25zLnVwbG9hZFVybCAmJiAhdGhpcy51cmwpIHtcbiAgICAgICAgdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcigndHVzOiBuZWl0aGVyIGFuIGVuZHBvaW50IG9yIGFuIHVwbG9hZCBVUkwgaXMgcHJvdmlkZWQnKSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmV0cnlEZWxheXMgPSB0aGlzLm9wdGlvbnMucmV0cnlEZWxheXM7XG5cbiAgICAgIGlmIChyZXRyeURlbGF5cyAhPSBudWxsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyZXRyeURlbGF5cykgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgICAgdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcigndHVzOiB0aGUgYHJldHJ5RGVsYXlzYCBvcHRpb24gbXVzdCBlaXRoZXIgYmUgYW4gYXJyYXkgb3IgbnVsbCcpKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucGFyYWxsZWxVcGxvYWRzID4gMSkge1xuICAgICAgICAvLyBUZXN0IHdoaWNoIG9wdGlvbnMgYXJlIGluY29tcGF0aWJsZSB3aXRoIHBhcmFsbGVsIHVwbG9hZHMuXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2FyciA9IFsndXBsb2FkVXJsJywgJ3VwbG9hZFNpemUnLCAndXBsb2FkTGVuZ3RoRGVmZXJyZWQnXTsgX2kgPCBfYXJyLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgIHZhciBvcHRpb25OYW1lID0gX2FycltfaV07XG5cbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zW29wdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwidHVzOiBjYW5ub3QgdXNlIHRoZSBcIi5jb25jYXQob3B0aW9uTmFtZSwgXCIgb3B0aW9uIHdoZW4gcGFyYWxsZWxVcGxvYWRzIGlzIGVuYWJsZWRcIikpKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBhcmFsbGVsVXBsb2FkQm91bmRhcmllcykge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBhcmFsbGVsVXBsb2FkcyA8PSAxKSB7XG4gICAgICAgICAgdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcigndHVzOiBjYW5ub3QgdXNlIHRoZSBgcGFyYWxsZWxVcGxvYWRCb3VuZGFyaWVzYCBvcHRpb24gd2hlbiBgcGFyYWxsZWxVcGxvYWRzYCBpcyBkaXNhYmxlZCcpKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGFyYWxsZWxVcGxvYWRzICE9PSB0aGlzLm9wdGlvbnMucGFyYWxsZWxVcGxvYWRCb3VuZGFyaWVzLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoJ3R1czogdGhlIGBwYXJhbGxlbFVwbG9hZEJvdW5kYXJpZXNgIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGggYXMgdGhlIHZhbHVlIG9mIGBwYXJhbGxlbFVwbG9hZHNgJykpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMub3B0aW9ucy5maW5nZXJwcmludChmaWxlLCB0aGlzLm9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGZpbmdlcnByaW50KSB7XG4gICAgICAgIGlmIChmaW5nZXJwcmludCA9PSBudWxsKSB7XG4gICAgICAgICAgbG9nKCdObyBmaW5nZXJwcmludCB3YXMgY2FsY3VsYXRlZCBtZWFuaW5nIHRoYXQgdGhlIHVwbG9hZCBjYW5ub3QgYmUgc3RvcmVkIGluIHRoZSBVUkwgc3RvcmFnZS4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2coXCJDYWxjdWxhdGVkIGZpbmdlcnByaW50OiBcIi5jb25jYXQoZmluZ2VycHJpbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5fZmluZ2VycHJpbnQgPSBmaW5nZXJwcmludDtcblxuICAgICAgICBpZiAoX3RoaXMyLl9zb3VyY2UpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLl9zb3VyY2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX3RoaXMyLm9wdGlvbnMuZmlsZVJlYWRlci5vcGVuRmlsZShmaWxlLCBfdGhpczIub3B0aW9ucy5jaHVua1NpemUpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIF90aGlzMi5fc291cmNlID0gc291cmNlOyAvLyBGaXJzdCwgd2UgbG9vayBhdCB0aGUgdXBsb2FkTGVuZ3RoRGVmZXJyZWQgb3B0aW9uLlxuICAgICAgICAvLyBOZXh0LCB3ZSBjaGVjayBpZiB0aGUgY2FsbGVyIGhhcyBzdXBwbGllZCBhIG1hbnVhbCB1cGxvYWQgc2l6ZS5cbiAgICAgICAgLy8gRmluYWxseSwgd2UgdHJ5IHRvIHVzZSB0aGUgY2FsY3VsYXRlZCBzaXplIGZyb20gdGhlIHNvdXJjZSBvYmplY3QuXG5cbiAgICAgICAgaWYgKF90aGlzMi5vcHRpb25zLnVwbG9hZExlbmd0aERlZmVycmVkKSB7XG4gICAgICAgICAgX3RoaXMyLl9zaXplID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChfdGhpczIub3B0aW9ucy51cGxvYWRTaXplICE9IG51bGwpIHtcbiAgICAgICAgICBfdGhpczIuX3NpemUgPSBOdW1iZXIoX3RoaXMyLm9wdGlvbnMudXBsb2FkU2l6ZSk7XG5cbiAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKF90aGlzMi5fc2l6ZSkpIHtcbiAgICAgICAgICAgIF90aGlzMi5fZW1pdEVycm9yKG5ldyBFcnJvcigndHVzOiBjYW5ub3QgY29udmVydCBgdXBsb2FkU2l6ZWAgb3B0aW9uIGludG8gYSBudW1iZXInKSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMyLl9zaXplID0gX3RoaXMyLl9zb3VyY2Uuc2l6ZTtcblxuICAgICAgICAgIGlmIChfdGhpczIuX3NpemUgPT0gbnVsbCkge1xuICAgICAgICAgICAgX3RoaXMyLl9lbWl0RXJyb3IobmV3IEVycm9yKFwidHVzOiBjYW5ub3QgYXV0b21hdGljYWxseSBkZXJpdmUgdXBsb2FkJ3Mgc2l6ZSBmcm9tIGlucHV0LiBTcGVjaWZ5IGl0IG1hbnVhbGx5IHVzaW5nIHRoZSBgdXBsb2FkU2l6ZWAgb3B0aW9uIG9yIHVzZSB0aGUgYHVwbG9hZExlbmd0aERlZmVycmVkYCBvcHRpb25cIikpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIElmIHRoZSB1cGxvYWQgd2FzIGNvbmZpZ3VyZWQgdG8gdXNlIG11bHRpcGxlIHJlcXVlc3RzIG9yIGlmIHdlIHJlc3VtZSBmcm9tXG4gICAgICAgIC8vIGFuIHVwbG9hZCB3aGljaCB1c2VkIG11bHRpcGxlIHJlcXVlc3RzLCB3ZSBzdGFydCBhIHBhcmFsbGVsIHVwbG9hZC5cblxuXG4gICAgICAgIGlmIChfdGhpczIub3B0aW9ucy5wYXJhbGxlbFVwbG9hZHMgPiAxIHx8IF90aGlzMi5fcGFyYWxsZWxVcGxvYWRVcmxzICE9IG51bGwpIHtcbiAgICAgICAgICBfdGhpczIuX3N0YXJ0UGFyYWxsZWxVcGxvYWQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpczIuX3N0YXJ0U2luZ2xlVXBsb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycikge1xuICAgICAgICBfdGhpczIuX2VtaXRFcnJvcihlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYXRlIHRoZSB1cGxvYWRpbmcgcHJvY2VkdXJlIGZvciBhIHBhcmFsbGVsaXplZCB1cGxvYWQsIHdoZXJlIG9uZSBmaWxlIGlzIHNwbGl0IGludG9cbiAgICAgKiBtdWx0aXBsZSByZXF1ZXN0IHdoaWNoIGFyZSBydW4gaW4gcGFyYWxsZWwuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9zdGFydFBhcmFsbGVsVXBsb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zdGFydFBhcmFsbGVsVXBsb2FkKCkge1xuICAgICAgdmFyIF90aGlzJG9wdGlvbnMkcGFyYWxsZSxcbiAgICAgICAgICBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgdG90YWxTaXplID0gdGhpcy5fc2l6ZTtcbiAgICAgIHZhciB0b3RhbFByb2dyZXNzID0gMDtcbiAgICAgIHRoaXMuX3BhcmFsbGVsVXBsb2FkcyA9IFtdO1xuICAgICAgdmFyIHBhcnRDb3VudCA9IHRoaXMuX3BhcmFsbGVsVXBsb2FkVXJscyAhPSBudWxsID8gdGhpcy5fcGFyYWxsZWxVcGxvYWRVcmxzLmxlbmd0aCA6IHRoaXMub3B0aW9ucy5wYXJhbGxlbFVwbG9hZHM7IC8vIFRoZSBpbnB1dCBmaWxlIHdpbGwgYmUgc3BsaXQgaW50byBtdWx0aXBsZSBzbGljZXMgd2hpY2ggYXJlIHVwbG9hZGVkIGluIHNlcGFyYXRlXG4gICAgICAvLyByZXF1ZXN0cy4gSGVyZSB3ZSBnZXQgdGhlIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb24gZm9yIHRoZSBzbGljZXMuXG5cbiAgICAgIHZhciBwYXJ0cyA9IChfdGhpcyRvcHRpb25zJHBhcmFsbGUgPSB0aGlzLm9wdGlvbnMucGFyYWxsZWxVcGxvYWRCb3VuZGFyaWVzKSAhPT0gbnVsbCAmJiBfdGhpcyRvcHRpb25zJHBhcmFsbGUgIT09IHZvaWQgMCA/IF90aGlzJG9wdGlvbnMkcGFyYWxsZSA6IHNwbGl0U2l6ZUludG9QYXJ0cyh0aGlzLl9zb3VyY2Uuc2l6ZSwgcGFydENvdW50KTsgLy8gQXR0YWNoIFVSTHMgZnJvbSBwcmV2aW91cyB1cGxvYWRzLCBpZiBhdmFpbGFibGUuXG5cbiAgICAgIGlmICh0aGlzLl9wYXJhbGxlbFVwbG9hZFVybHMpIHtcbiAgICAgICAgcGFydHMuZm9yRWFjaChmdW5jdGlvbiAocGFydCwgaW5kZXgpIHtcbiAgICAgICAgICBwYXJ0LnVwbG9hZFVybCA9IF90aGlzMy5fcGFyYWxsZWxVcGxvYWRVcmxzW2luZGV4XSB8fCBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH0gLy8gQ3JlYXRlIGFuIGVtcHR5IGxpc3QgZm9yIHN0b3JpbmcgdGhlIHVwbG9hZCBVUkxzXG5cblxuICAgICAgdGhpcy5fcGFyYWxsZWxVcGxvYWRVcmxzID0gbmV3IEFycmF5KHBhcnRzLmxlbmd0aCk7IC8vIEdlbmVyYXRlIGEgcHJvbWlzZSBmb3IgZWFjaCBzbGljZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZSBpZiB0aGUgcmVzcGVjdGl2ZVxuICAgICAgLy8gdXBsb2FkIGlzIGNvbXBsZXRlZC5cblxuICAgICAgdmFyIHVwbG9hZHMgPSBwYXJ0cy5tYXAoZnVuY3Rpb24gKHBhcnQsIGluZGV4KSB7XG4gICAgICAgIHZhciBsYXN0UGFydFByb2dyZXNzID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5fc291cmNlLnNsaWNlKHBhcnQuc3RhcnQsIHBhcnQuZW5kKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gX3JlZi52YWx1ZTtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgLy8gTWVyZ2Ugd2l0aCB0aGUgdXNlciBzdXBwbGllZCBvcHRpb25zIGJ1dCBvdmVyd3JpdGUgc29tZSB2YWx1ZXMuXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMzLm9wdGlvbnMpLCB7fSwge1xuICAgICAgICAgICAgICAvLyBJZiBhdmFpbGFibGUsIHRoZSBwYXJ0aWFsIHVwbG9hZCBzaG91bGQgYmUgcmVzdW1lZCBmcm9tIGEgcHJldmlvdXMgVVJMLlxuICAgICAgICAgICAgICB1cGxvYWRVcmw6IHBhcnQudXBsb2FkVXJsIHx8IG51bGwsXG4gICAgICAgICAgICAgIC8vIFdlIHRha2UgbWFudWFsbHkgY2FyZSBvZiByZXN1bWluZyBmb3IgcGFydGlhbCB1cGxvYWRzLCBzbyB0aGV5IHNob3VsZFxuICAgICAgICAgICAgICAvLyBub3QgYmUgc3RvcmVkIGluIHRoZSBVUkwgc3RvcmFnZS5cbiAgICAgICAgICAgICAgc3RvcmVGaW5nZXJwcmludEZvclJlc3VtaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgcmVtb3ZlRmluZ2VycHJpbnRPblN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgcGFyYWxsZWxVcGxvYWRzIG9wdGlvbiB0byBub3QgY2F1c2UgcmVjdXJzaW9uLlxuICAgICAgICAgICAgICBwYXJhbGxlbFVwbG9hZHM6IDEsXG4gICAgICAgICAgICAgIC8vIFJlc2V0IHRoaXMgb3B0aW9uIGFzIHdlIGFyZSBub3QgZG9pbmcgYSBwYXJhbGxlbCB1cGxvYWQuXG4gICAgICAgICAgICAgIHBhcmFsbGVsVXBsb2FkQm91bmRhcmllczogbnVsbCxcbiAgICAgICAgICAgICAgbWV0YWRhdGE6IHt9LFxuICAgICAgICAgICAgICAvLyBBZGQgdGhlIGhlYWRlciB0byBpbmRpY2F0ZSB0aGUgdGhpcyBpcyBhIHBhcnRpYWwgdXBsb2FkLlxuICAgICAgICAgICAgICBoZWFkZXJzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF90aGlzMy5vcHRpb25zLmhlYWRlcnMpLCB7fSwge1xuICAgICAgICAgICAgICAgICdVcGxvYWQtQ29uY2F0JzogJ3BhcnRpYWwnXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAvLyBSZWplY3Qgb3IgcmVzb2x2ZSB0aGUgcHJvbWlzZSBpZiB0aGUgdXBsb2FkIGVycm9ycyBvciBjb21wbGV0ZXMuXG4gICAgICAgICAgICAgIG9uU3VjY2VzczogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgb25FcnJvcjogcmVqZWN0LFxuICAgICAgICAgICAgICAvLyBCYXNlZCBpbiB0aGUgcHJvZ3Jlc3MgZm9yIHRoaXMgcGFydGlhbCB1cGxvYWQsIGNhbGN1bGF0ZSB0aGUgcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgLy8gZm9yIHRoZSBlbnRpcmUgZmluYWwgdXBsb2FkLlxuICAgICAgICAgICAgICBvblByb2dyZXNzOiBmdW5jdGlvbiBvblByb2dyZXNzKG5ld1BhcnRQcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHRvdGFsUHJvZ3Jlc3MgPSB0b3RhbFByb2dyZXNzIC0gbGFzdFBhcnRQcm9ncmVzcyArIG5ld1BhcnRQcm9ncmVzcztcbiAgICAgICAgICAgICAgICBsYXN0UGFydFByb2dyZXNzID0gbmV3UGFydFByb2dyZXNzO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMzLl9lbWl0UHJvZ3Jlc3ModG90YWxQcm9ncmVzcywgdG90YWxTaXplKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLy8gV2FpdCB1bnRpbCBldmVyeSBwYXJ0aWFsIHVwbG9hZCBoYXMgYW4gdXBsb2FkIFVSTCwgc28gd2UgY2FuIGFkZFxuICAgICAgICAgICAgICAvLyB0aGVtIHRvIHRoZSBVUkwgc3RvcmFnZS5cbiAgICAgICAgICAgICAgb25VcGxvYWRVcmxBdmFpbGFibGU6IGZ1bmN0aW9uIG9uVXBsb2FkVXJsQXZhaWxhYmxlKCkge1xuICAgICAgICAgICAgICAgIF90aGlzMy5fcGFyYWxsZWxVcGxvYWRVcmxzW2luZGV4XSA9IHVwbG9hZC51cmw7IC8vIFRlc3QgaWYgYWxsIHVwbG9hZHMgaGF2ZSByZWNlaXZlZCBhbiBVUkxcblxuICAgICAgICAgICAgICAgIGlmIChfdGhpczMuX3BhcmFsbGVsVXBsb2FkVXJscy5maWx0ZXIoZnVuY3Rpb24gKHUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBCb29sZWFuKHUpO1xuICAgICAgICAgICAgICAgIH0pLmxlbmd0aCA9PT0gcGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICBfdGhpczMuX3NhdmVVcGxvYWRJblVybFN0b3JhZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgdXBsb2FkID0gbmV3IEJhc2VVcGxvYWQodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdXBsb2FkLnN0YXJ0KCk7IC8vIFN0b3JlIHRoZSB1cGxvYWQgaW4gYW4gYXJyYXksIHNvIHdlIGNhbiBsYXRlciBhYm9ydCB0aGVtIGlmIG5lY2Vzc2FyeS5cblxuICAgICAgICAgICAgX3RoaXMzLl9wYXJhbGxlbFVwbG9hZHMucHVzaCh1cGxvYWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHJlcTsgLy8gV2FpdCB1bnRpbCBhbGwgcGFydGlhbCB1cGxvYWRzIGFyZSBmaW5pc2hlZCBhbmQgd2UgY2FuIHNlbmQgdGhlIFBPU1QgcmVxdWVzdCBmb3JcbiAgICAgIC8vIGNyZWF0aW5nIHRoZSBmaW5hbCB1cGxvYWQuXG5cbiAgICAgIFByb21pc2UuYWxsKHVwbG9hZHMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXEgPSBfdGhpczMuX29wZW5SZXF1ZXN0KCdQT1NUJywgX3RoaXMzLm9wdGlvbnMuZW5kcG9pbnQpO1xuICAgICAgICByZXEuc2V0SGVhZGVyKCdVcGxvYWQtQ29uY2F0JywgXCJmaW5hbDtcIi5jb25jYXQoX3RoaXMzLl9wYXJhbGxlbFVwbG9hZFVybHMuam9pbignICcpKSk7IC8vIEFkZCBtZXRhZGF0YSBpZiB2YWx1ZXMgaGF2ZSBiZWVuIGFkZGVkXG5cbiAgICAgICAgdmFyIG1ldGFkYXRhID0gZW5jb2RlTWV0YWRhdGEoX3RoaXMzLm9wdGlvbnMubWV0YWRhdGEpO1xuXG4gICAgICAgIGlmIChtZXRhZGF0YSAhPT0gJycpIHtcbiAgICAgICAgICByZXEuc2V0SGVhZGVyKCdVcGxvYWQtTWV0YWRhdGEnLCBtZXRhZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX3RoaXMzLl9zZW5kUmVxdWVzdChyZXEsIG51bGwpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIGlmICghaW5TdGF0dXNDYXRlZ29yeShyZXMuZ2V0U3RhdHVzKCksIDIwMCkpIHtcbiAgICAgICAgICBfdGhpczMuX2VtaXRIdHRwRXJyb3IocmVxLCByZXMsICd0dXM6IHVuZXhwZWN0ZWQgcmVzcG9uc2Ugd2hpbGUgY3JlYXRpbmcgdXBsb2FkJyk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9jYXRpb24gPSByZXMuZ2V0SGVhZGVyKCdMb2NhdGlvbicpO1xuXG4gICAgICAgIGlmIChsb2NhdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgX3RoaXMzLl9lbWl0SHR0cEVycm9yKHJlcSwgcmVzLCAndHVzOiBpbnZhbGlkIG9yIG1pc3NpbmcgTG9jYXRpb24gaGVhZGVyJyk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczMudXJsID0gcmVzb2x2ZVVybChfdGhpczMub3B0aW9ucy5lbmRwb2ludCwgbG9jYXRpb24pO1xuICAgICAgICBsb2coXCJDcmVhdGVkIHVwbG9hZCBhdCBcIi5jb25jYXQoX3RoaXMzLnVybCkpO1xuXG4gICAgICAgIF90aGlzMy5fZW1pdFN1Y2Nlc3MoKTtcbiAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycikge1xuICAgICAgICBfdGhpczMuX2VtaXRFcnJvcihlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYXRlIHRoZSB1cGxvYWRpbmcgcHJvY2VkdXJlIGZvciBhIG5vbi1wYXJhbGxlbCB1cGxvYWQuIEhlcmUgdGhlIGVudGlyZSBmaWxlIGlzXG4gICAgICogdXBsb2FkZWQgaW4gYSBzZXF1ZW50aWFsIG1hdHRlci5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3N0YXJ0U2luZ2xlVXBsb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zdGFydFNpbmdsZVVwbG9hZCgpIHtcbiAgICAgIC8vIFJlc2V0IHRoZSBhYm9ydGVkIGZsYWcgd2hlbiB0aGUgdXBsb2FkIGlzIHN0YXJ0ZWQgb3IgZWxzZSB0aGVcbiAgICAgIC8vIF9wZXJmb3JtVXBsb2FkIHdpbGwgc3RvcCBiZWZvcmUgc2VuZGluZyBhIHJlcXVlc3QgaWYgdGhlIHVwbG9hZCBoYXMgYmVlblxuICAgICAgLy8gYWJvcnRlZCBwcmV2aW91c2x5LlxuICAgICAgdGhpcy5fYWJvcnRlZCA9IGZhbHNlOyAvLyBUaGUgdXBsb2FkIGhhZCBiZWVuIHN0YXJ0ZWQgcHJldmlvdXNseSBhbmQgd2Ugc2hvdWxkIHJldXNlIHRoaXMgVVJMLlxuXG4gICAgICBpZiAodGhpcy51cmwgIT0gbnVsbCkge1xuICAgICAgICBsb2coXCJSZXN1bWluZyB1cGxvYWQgZnJvbSBwcmV2aW91cyBVUkw6IFwiLmNvbmNhdCh0aGlzLnVybCkpO1xuXG4gICAgICAgIHRoaXMuX3Jlc3VtZVVwbG9hZCgpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gQSBVUkwgaGFzIG1hbnVhbGx5IGJlZW4gc3BlY2lmaWVkLCBzbyB3ZSB0cnkgdG8gcmVzdW1lXG5cblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy51cGxvYWRVcmwgIT0gbnVsbCkge1xuICAgICAgICBsb2coXCJSZXN1bWluZyB1cGxvYWQgZnJvbSBwcm92aWRlZCBVUkw6IFwiLmNvbmNhdCh0aGlzLm9wdGlvbnMudXBsb2FkVXJsKSk7XG4gICAgICAgIHRoaXMudXJsID0gdGhpcy5vcHRpb25zLnVwbG9hZFVybDtcblxuICAgICAgICB0aGlzLl9yZXN1bWVVcGxvYWQoKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIEFuIHVwbG9hZCBoYXMgbm90IHN0YXJ0ZWQgZm9yIHRoZSBmaWxlIHlldCwgc28gd2Ugc3RhcnQgYSBuZXcgb25lXG5cblxuICAgICAgbG9nKCdDcmVhdGluZyBhIG5ldyB1cGxvYWQnKTtcblxuICAgICAgdGhpcy5fY3JlYXRlVXBsb2FkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFib3J0IGFueSBydW5uaW5nIHJlcXVlc3QgYW5kIHN0b3AgdGhlIGN1cnJlbnQgdXBsb2FkLiBBZnRlciBhYm9ydCBpcyBjYWxsZWQsIG5vIGV2ZW50XG4gICAgICogaGFuZGxlciB3aWxsIGJlIGludm9rZWQgYW55bW9yZS4gWW91IGNhbiB1c2UgdGhlIGBzdGFydGAgbWV0aG9kIHRvIHJlc3VtZSB0aGUgdXBsb2FkXG4gICAgICogYWdhaW4uXG4gICAgICogSWYgYHNob3VsZFRlcm1pbmF0ZWAgaXMgdHJ1ZSwgdGhlIGB0ZXJtaW5hdGVgIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGVcbiAgICAgKiBjdXJyZW50IHVwbG9hZCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNob3VsZFRlcm1pbmF0ZSBUcnVlIGlmIHRoZSB1cGxvYWQgc2hvdWxkIGJlIGRlbGV0ZWQgZnJvbSB0aGUgc2VydmVyLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFRoZSBQcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQvcmVqZWN0ZWQgd2hlbiB0aGUgcmVxdWVzdHMgZmluaXNoLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWJvcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWJvcnQoc2hvdWxkVGVybWluYXRlKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgLy8gU3RvcCBhbnkgcGFyYWxsZWwgcGFydGlhbCB1cGxvYWRzLCB0aGF0IGhhdmUgYmVlbiBzdGFydGVkIGluIF9zdGFydFBhcmFsbGVsVXBsb2Fkcy5cbiAgICAgIGlmICh0aGlzLl9wYXJhbGxlbFVwbG9hZHMgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9wYXJhbGxlbFVwbG9hZHMuZm9yRWFjaChmdW5jdGlvbiAodXBsb2FkKSB7XG4gICAgICAgICAgdXBsb2FkLmFib3J0KHNob3VsZFRlcm1pbmF0ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBTdG9wIGFueSBjdXJyZW50IHJ1bm5pbmcgcmVxdWVzdC5cblxuXG4gICAgICBpZiAodGhpcy5fcmVxICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3JlcS5hYm9ydCgpOyAvLyBOb3RlOiBXZSBkbyBub3QgY2xvc2UgdGhlIGZpbGUgc291cmNlIGhlcmUsIHNvIHRoZSB1c2VyIGNhbiByZXN1bWUgaW4gdGhlIGZ1dHVyZS5cblxuICAgICAgfVxuXG4gICAgICB0aGlzLl9hYm9ydGVkID0gdHJ1ZTsgLy8gU3RvcCBhbnkgdGltZW91dCB1c2VkIGZvciBpbml0aWF0aW5nIGEgcmV0cnkuXG5cbiAgICAgIGlmICh0aGlzLl9yZXRyeVRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fcmV0cnlUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5fcmV0cnlUaW1lb3V0ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFzaG91bGRUZXJtaW5hdGUgfHwgdGhpcy51cmwgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBCYXNlVXBsb2FkLnRlcm1pbmF0ZSh0aGlzLnVybCwgdGhpcy5vcHRpb25zKSAvLyBSZW1vdmUgZW50cnkgZnJvbSB0aGUgVVJMIHN0b3JhZ2Ugc2luY2UgdGhlIHVwbG9hZCBVUkwgaXMgbm8gbG9uZ2VyIHZhbGlkLlxuICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXM0Ll9yZW1vdmVGcm9tVXJsU3RvcmFnZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9lbWl0SHR0cEVycm9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9lbWl0SHR0cEVycm9yKHJlcSwgcmVzLCBtZXNzYWdlLCBjYXVzaW5nRXJyKSB7XG4gICAgICB0aGlzLl9lbWl0RXJyb3IobmV3IERldGFpbGVkRXJyb3IobWVzc2FnZSwgY2F1c2luZ0VyciwgcmVxLCByZXMpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2VtaXRFcnJvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZW1pdEVycm9yKGVycikge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIC8vIERvIG5vdCBlbWl0IGVycm9ycywgZS5nLiBmcm9tIGFib3J0ZWQgSFRUUCByZXF1ZXN0cywgaWYgdGhlIHVwbG9hZCBoYXMgYmVlbiBzdG9wcGVkLlxuICAgICAgaWYgKHRoaXMuX2Fib3J0ZWQpIHJldHVybjsgLy8gQ2hlY2sgaWYgd2Ugc2hvdWxkIHJldHJ5LCB3aGVuIGVuYWJsZWQsIGJlZm9yZSBzZW5kaW5nIHRoZSBlcnJvciB0byB0aGUgdXNlci5cblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZXRyeURlbGF5cyAhPSBudWxsKSB7XG4gICAgICAgIC8vIFdlIHdpbGwgcmVzZXQgdGhlIGF0dGVtcHQgY291bnRlciBpZlxuICAgICAgICAvLyAtIHdlIHdlcmUgYWxyZWFkeSBhYmxlIHRvIGNvbm5lY3QgdG8gdGhlIHNlcnZlciAob2Zmc2V0ICE9IG51bGwpIGFuZFxuICAgICAgICAvLyAtIHdlIHdlcmUgYWJsZSB0byB1cGxvYWQgYSBzbWFsbCBjaHVuayBvZiBkYXRhIHRvIHRoZSBzZXJ2ZXJcbiAgICAgICAgdmFyIHNob3VsZFJlc2V0RGVsYXlzID0gdGhpcy5fb2Zmc2V0ICE9IG51bGwgJiYgdGhpcy5fb2Zmc2V0ID4gdGhpcy5fb2Zmc2V0QmVmb3JlUmV0cnk7XG5cbiAgICAgICAgaWYgKHNob3VsZFJlc2V0RGVsYXlzKSB7XG4gICAgICAgICAgdGhpcy5fcmV0cnlBdHRlbXB0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaG91bGRSZXRyeShlcnIsIHRoaXMuX3JldHJ5QXR0ZW1wdCwgdGhpcy5vcHRpb25zKSkge1xuICAgICAgICAgIHZhciBkZWxheSA9IHRoaXMub3B0aW9ucy5yZXRyeURlbGF5c1t0aGlzLl9yZXRyeUF0dGVtcHQrK107XG4gICAgICAgICAgdGhpcy5fb2Zmc2V0QmVmb3JlUmV0cnkgPSB0aGlzLl9vZmZzZXQ7XG4gICAgICAgICAgdGhpcy5fcmV0cnlUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczUuc3RhcnQoKTtcbiAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uRXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uRXJyb3IoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVibGlzaGVzIG5vdGlmaWNhdGlvbiBpZiB0aGUgdXBsb2FkIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9lbWl0U3VjY2Vzc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZW1pdFN1Y2Nlc3MoKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZUZpbmdlcnByaW50T25TdWNjZXNzKSB7XG4gICAgICAgIC8vIFJlbW92ZSBzdG9yZWQgZmluZ2VycHJpbnQgYW5kIGNvcnJlc3BvbmRpbmcgZW5kcG9pbnQuIFRoaXMgY2F1c2VzXG4gICAgICAgIC8vIG5ldyB1cGxvYWRzIG9mIHRoZSBzYW1lIGZpbGUgdG8gYmUgdHJlYXRlZCBhcyBhIGRpZmZlcmVudCBmaWxlLlxuICAgICAgICB0aGlzLl9yZW1vdmVGcm9tVXJsU3RvcmFnZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblN1Y2Nlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uU3VjY2VzcygpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoZXMgbm90aWZpY2F0aW9uIHdoZW4gZGF0YSBoYXMgYmVlbiBzZW50IHRvIHRoZSBzZXJ2ZXIuIFRoaXNcbiAgICAgKiBkYXRhIG1heSBub3QgaGF2ZSBiZWVuIGFjY2VwdGVkIGJ5IHRoZSBzZXJ2ZXIgeWV0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJ5dGVzU2VudCAgTnVtYmVyIG9mIGJ5dGVzIHNlbnQgdG8gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYnl0ZXNUb3RhbCBUb3RhbCBudW1iZXIgb2YgYnl0ZXMgdG8gYmUgc2VudCB0byB0aGUgc2VydmVyLlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2VtaXRQcm9ncmVzc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZW1pdFByb2dyZXNzKGJ5dGVzU2VudCwgYnl0ZXNUb3RhbCkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25Qcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25Qcm9ncmVzcyhieXRlc1NlbnQsIGJ5dGVzVG90YWwpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoZXMgbm90aWZpY2F0aW9uIHdoZW4gYSBjaHVuayBvZiBkYXRhIGhhcyBiZWVuIHNlbnQgdG8gdGhlIHNlcnZlclxuICAgICAqIGFuZCBhY2NlcHRlZCBieSB0aGUgc2VydmVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjaHVua1NpemUgIFNpemUgb2YgdGhlIGNodW5rIHRoYXQgd2FzIGFjY2VwdGVkIGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJ5dGVzQWNjZXB0ZWQgVG90YWwgbnVtYmVyIG9mIGJ5dGVzIHRoYXQgaGF2ZSBiZWVuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdGVkIGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJ5dGVzVG90YWwgVG90YWwgbnVtYmVyIG9mIGJ5dGVzIHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9lbWl0Q2h1bmtDb21wbGV0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZW1pdENodW5rQ29tcGxldGUoY2h1bmtTaXplLCBieXRlc0FjY2VwdGVkLCBieXRlc1RvdGFsKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNodW5rQ29tcGxldGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2h1bmtDb21wbGV0ZShjaHVua1NpemUsIGJ5dGVzQWNjZXB0ZWQsIGJ5dGVzVG90YWwpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgdXBsb2FkIHVzaW5nIHRoZSBjcmVhdGlvbiBleHRlbnNpb24gYnkgc2VuZGluZyBhIFBPU1RcbiAgICAgKiByZXF1ZXN0IHRvIHRoZSBlbmRwb2ludC4gQWZ0ZXIgc3VjY2Vzc2Z1bCBjcmVhdGlvbiB0aGUgZmlsZSB3aWxsIGJlXG4gICAgICogdXBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2NyZWF0ZVVwbG9hZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlVXBsb2FkKCkge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmVuZHBvaW50KSB7XG4gICAgICAgIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoJ3R1czogdW5hYmxlIHRvIGNyZWF0ZSB1cGxvYWQgYmVjYXVzZSBubyBlbmRwb2ludCBpcyBwcm92aWRlZCcpKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciByZXEgPSB0aGlzLl9vcGVuUmVxdWVzdCgnUE9TVCcsIHRoaXMub3B0aW9ucy5lbmRwb2ludCk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudXBsb2FkTGVuZ3RoRGVmZXJyZWQpIHtcbiAgICAgICAgcmVxLnNldEhlYWRlcignVXBsb2FkLURlZmVyLUxlbmd0aCcsIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVxLnNldEhlYWRlcignVXBsb2FkLUxlbmd0aCcsIHRoaXMuX3NpemUpO1xuICAgICAgfSAvLyBBZGQgbWV0YWRhdGEgaWYgdmFsdWVzIGhhdmUgYmVlbiBhZGRlZFxuXG5cbiAgICAgIHZhciBtZXRhZGF0YSA9IGVuY29kZU1ldGFkYXRhKHRoaXMub3B0aW9ucy5tZXRhZGF0YSk7XG5cbiAgICAgIGlmIChtZXRhZGF0YSAhPT0gJycpIHtcbiAgICAgICAgcmVxLnNldEhlYWRlcignVXBsb2FkLU1ldGFkYXRhJywgbWV0YWRhdGEpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy51cGxvYWREYXRhRHVyaW5nQ3JlYXRpb24gJiYgIXRoaXMub3B0aW9ucy51cGxvYWRMZW5ndGhEZWZlcnJlZCkge1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSAwO1xuICAgICAgICBwcm9taXNlID0gdGhpcy5fYWRkQ2h1bmtUb1JlcXVlc3QocmVxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb21pc2UgPSB0aGlzLl9zZW5kUmVxdWVzdChyZXEsIG51bGwpO1xuICAgICAgfVxuXG4gICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICBpZiAoIWluU3RhdHVzQ2F0ZWdvcnkocmVzLmdldFN0YXR1cygpLCAyMDApKSB7XG4gICAgICAgICAgX3RoaXM2Ll9lbWl0SHR0cEVycm9yKHJlcSwgcmVzLCAndHVzOiB1bmV4cGVjdGVkIHJlc3BvbnNlIHdoaWxlIGNyZWF0aW5nIHVwbG9hZCcpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvY2F0aW9uID0gcmVzLmdldEhlYWRlcignTG9jYXRpb24nKTtcblxuICAgICAgICBpZiAobG9jYXRpb24gPT0gbnVsbCkge1xuICAgICAgICAgIF90aGlzNi5fZW1pdEh0dHBFcnJvcihyZXEsIHJlcywgJ3R1czogaW52YWxpZCBvciBtaXNzaW5nIExvY2F0aW9uIGhlYWRlcicpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXM2LnVybCA9IHJlc29sdmVVcmwoX3RoaXM2Lm9wdGlvbnMuZW5kcG9pbnQsIGxvY2F0aW9uKTtcbiAgICAgICAgbG9nKFwiQ3JlYXRlZCB1cGxvYWQgYXQgXCIuY29uY2F0KF90aGlzNi51cmwpKTtcblxuICAgICAgICBpZiAodHlwZW9mIF90aGlzNi5vcHRpb25zLm9uVXBsb2FkVXJsQXZhaWxhYmxlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgX3RoaXM2Lm9wdGlvbnMub25VcGxvYWRVcmxBdmFpbGFibGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfdGhpczYuX3NpemUgPT09IDApIHtcbiAgICAgICAgICAvLyBOb3RoaW5nIHRvIHVwbG9hZCBhbmQgZmlsZSB3YXMgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWRcbiAgICAgICAgICBfdGhpczYuX2VtaXRTdWNjZXNzKCk7XG5cbiAgICAgICAgICBfdGhpczYuX3NvdXJjZS5jbG9zZSgpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXM2Ll9zYXZlVXBsb2FkSW5VcmxTdG9yYWdlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKF90aGlzNi5vcHRpb25zLnVwbG9hZERhdGFEdXJpbmdDcmVhdGlvbikge1xuICAgICAgICAgICAgX3RoaXM2Ll9oYW5kbGVVcGxvYWRSZXNwb25zZShyZXEsIHJlcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzNi5fb2Zmc2V0ID0gMDtcblxuICAgICAgICAgICAgX3RoaXM2Ll9wZXJmb3JtVXBsb2FkKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycikge1xuICAgICAgICBfdGhpczYuX2VtaXRIdHRwRXJyb3IocmVxLCBudWxsLCAndHVzOiBmYWlsZWQgdG8gY3JlYXRlIHVwbG9hZCcsIGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLypcbiAgICAgKiBUcnkgdG8gcmVzdW1lIGFuIGV4aXN0aW5nIHVwbG9hZC4gRmlyc3QgYSBIRUFEIHJlcXVlc3Qgd2lsbCBiZSBzZW50XG4gICAgICogdG8gcmV0cmlldmUgdGhlIG9mZnNldC4gSWYgdGhlIHJlcXVlc3QgZmFpbHMgYSBuZXcgdXBsb2FkIHdpbGwgYmVcbiAgICAgKiBjcmVhdGVkLiBJbiB0aGUgY2FzZSBvZiBhIHN1Y2Nlc3NmdWwgcmVzcG9uc2UgdGhlIGZpbGUgd2lsbCBiZSB1cGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3Jlc3VtZVVwbG9hZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzdW1lVXBsb2FkKCkge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgIHZhciByZXEgPSB0aGlzLl9vcGVuUmVxdWVzdCgnSEVBRCcsIHRoaXMudXJsKTtcblxuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLl9zZW5kUmVxdWVzdChyZXEsIG51bGwpO1xuXG4gICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB2YXIgc3RhdHVzID0gcmVzLmdldFN0YXR1cygpO1xuXG4gICAgICAgIGlmICghaW5TdGF0dXNDYXRlZ29yeShzdGF0dXMsIDIwMCkpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgdXBsb2FkIGlzIGxvY2tlZCAoaW5kaWNhdGVkIGJ5IHRoZSA0MjMgTG9ja2VkIHN0YXR1cyBjb2RlKSwgd2VcbiAgICAgICAgICAvLyBlbWl0IGFuIGVycm9yIGluc3RlYWQgb2YgZGlyZWN0bHkgc3RhcnRpbmcgYSBuZXcgdXBsb2FkLiBUaGlzIHdheSB0aGVcbiAgICAgICAgICAvLyByZXRyeSBsb2dpYyBjYW4gY2F0Y2ggdGhlIGVycm9yIGFuZCB3aWxsIHJldHJ5IHRoZSB1cGxvYWQuIEFuIHVwbG9hZFxuICAgICAgICAgIC8vIGlzIHVzdWFsbHkgbG9ja2VkIGZvciBhIHNob3J0IHBlcmlvZCBvZiB0aW1lIGFuZCB3aWxsIGJlIGF2YWlsYWJsZVxuICAgICAgICAgIC8vIGFmdGVyd2FyZHMuXG4gICAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDIzKSB7XG4gICAgICAgICAgICBfdGhpczcuX2VtaXRIdHRwRXJyb3IocmVxLCByZXMsICd0dXM6IHVwbG9hZCBpcyBjdXJyZW50bHkgbG9ja2VkOyByZXRyeSBsYXRlcicpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGluU3RhdHVzQ2F0ZWdvcnkoc3RhdHVzLCA0MDApKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgc3RvcmVkIGZpbmdlcnByaW50IGFuZCBjb3JyZXNwb25kaW5nIGVuZHBvaW50LFxuICAgICAgICAgICAgLy8gb24gY2xpZW50IGVycm9ycyBzaW5jZSB0aGUgZmlsZSBjYW4gbm90IGJlIGZvdW5kXG4gICAgICAgICAgICBfdGhpczcuX3JlbW92ZUZyb21VcmxTdG9yYWdlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFfdGhpczcub3B0aW9ucy5lbmRwb2ludCkge1xuICAgICAgICAgICAgLy8gRG9uJ3QgYXR0ZW1wdCB0byBjcmVhdGUgYSBuZXcgdXBsb2FkIGlmIG5vIGVuZHBvaW50IGlzIHByb3ZpZGVkLlxuICAgICAgICAgICAgX3RoaXM3Ll9lbWl0SHR0cEVycm9yKHJlcSwgcmVzLCAndHVzOiB1bmFibGUgdG8gcmVzdW1lIHVwbG9hZCAobmV3IHVwbG9hZCBjYW5ub3QgYmUgY3JlYXRlZCB3aXRob3V0IGFuIGVuZHBvaW50KScpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSAvLyBUcnkgdG8gY3JlYXRlIGEgbmV3IHVwbG9hZFxuXG5cbiAgICAgICAgICBfdGhpczcudXJsID0gbnVsbDtcblxuICAgICAgICAgIF90aGlzNy5fY3JlYXRlVXBsb2FkKCk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb2Zmc2V0ID0gcGFyc2VJbnQocmVzLmdldEhlYWRlcignVXBsb2FkLU9mZnNldCcpLCAxMCk7XG5cbiAgICAgICAgaWYgKE51bWJlci5pc05hTihvZmZzZXQpKSB7XG4gICAgICAgICAgX3RoaXM3Ll9lbWl0SHR0cEVycm9yKHJlcSwgcmVzLCAndHVzOiBpbnZhbGlkIG9yIG1pc3Npbmcgb2Zmc2V0IHZhbHVlJyk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVuZ3RoID0gcGFyc2VJbnQocmVzLmdldEhlYWRlcignVXBsb2FkLUxlbmd0aCcpLCAxMCk7XG5cbiAgICAgICAgaWYgKE51bWJlci5pc05hTihsZW5ndGgpICYmICFfdGhpczcub3B0aW9ucy51cGxvYWRMZW5ndGhEZWZlcnJlZCkge1xuICAgICAgICAgIF90aGlzNy5fZW1pdEh0dHBFcnJvcihyZXEsIHJlcywgJ3R1czogaW52YWxpZCBvciBtaXNzaW5nIGxlbmd0aCB2YWx1ZScpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBfdGhpczcub3B0aW9ucy5vblVwbG9hZFVybEF2YWlsYWJsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIF90aGlzNy5vcHRpb25zLm9uVXBsb2FkVXJsQXZhaWxhYmxlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczcuX3NhdmVVcGxvYWRJblVybFN0b3JhZ2UoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBVcGxvYWQgaGFzIGFscmVhZHkgYmVlbiBjb21wbGV0ZWQgYW5kIHdlIGRvIG5vdCBuZWVkIHRvIHNlbmQgYWRkaXRpb25hbFxuICAgICAgICAgIC8vIGRhdGEgdG8gdGhlIHNlcnZlclxuICAgICAgICAgIGlmIChvZmZzZXQgPT09IGxlbmd0aCkge1xuICAgICAgICAgICAgX3RoaXM3Ll9lbWl0UHJvZ3Jlc3MobGVuZ3RoLCBsZW5ndGgpO1xuXG4gICAgICAgICAgICBfdGhpczcuX2VtaXRTdWNjZXNzKCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpczcuX29mZnNldCA9IG9mZnNldDtcblxuICAgICAgICAgIF90aGlzNy5fcGVyZm9ybVVwbG9hZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycikge1xuICAgICAgICBfdGhpczcuX2VtaXRIdHRwRXJyb3IocmVxLCBudWxsLCAndHVzOiBmYWlsZWQgdG8gcmVzdW1lIHVwbG9hZCcsIGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnQgdXBsb2FkaW5nIHRoZSBmaWxlIHVzaW5nIFBBVENIIHJlcXVlc3RzLiBUaGUgZmlsZSB3aWxsIGJlIGRpdmlkZWRcbiAgICAgKiBpbnRvIGNodW5rcyBhcyBzcGVjaWZpZWQgaW4gdGhlIGNodW5rU2l6ZSBvcHRpb24uIER1cmluZyB0aGUgdXBsb2FkXG4gICAgICogdGhlIG9uUHJvZ3Jlc3MgZXZlbnQgaGFuZGxlciBtYXkgYmUgaW52b2tlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3BlcmZvcm1VcGxvYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3BlcmZvcm1VcGxvYWQoKSB7XG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHVwbG9hZCBoYXMgYmVlbiBhYm9ydGVkLCB3ZSB3aWxsIG5vdCBzZW5kIHRoZSBuZXh0IFBBVENIIHJlcXVlc3QuXG4gICAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBpZiB0aGUgYWJvcnQgbWV0aG9kIHdhcyBjYWxsZWQgZHVyaW5nIGEgY2FsbGJhY2ssIHN1Y2hcbiAgICAgIC8vIGFzIG9uQ2h1bmtDb21wbGV0ZSBvciBvblByb2dyZXNzLlxuICAgICAgaWYgKHRoaXMuX2Fib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVxOyAvLyBTb21lIGJyb3dzZXIgYW5kIHNlcnZlcnMgbWF5IG5vdCBzdXBwb3J0IHRoZSBQQVRDSCBtZXRob2QuIEZvciB0aG9zZVxuICAgICAgLy8gY2FzZXMsIHlvdSBjYW4gdGVsbCB0dXMtanMtY2xpZW50IHRvIHVzZSBhIFBPU1QgcmVxdWVzdCB3aXRoIHRoZVxuICAgICAgLy8gWC1IVFRQLU1ldGhvZC1PdmVycmlkZSBoZWFkZXIgZm9yIHNpbXVsYXRpbmcgYSBQQVRDSCByZXF1ZXN0LlxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLm92ZXJyaWRlUGF0Y2hNZXRob2QpIHtcbiAgICAgICAgcmVxID0gdGhpcy5fb3BlblJlcXVlc3QoJ1BPU1QnLCB0aGlzLnVybCk7XG4gICAgICAgIHJlcS5zZXRIZWFkZXIoJ1gtSFRUUC1NZXRob2QtT3ZlcnJpZGUnLCAnUEFUQ0gnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcSA9IHRoaXMuX29wZW5SZXF1ZXN0KCdQQVRDSCcsIHRoaXMudXJsKTtcbiAgICAgIH1cblxuICAgICAgcmVxLnNldEhlYWRlcignVXBsb2FkLU9mZnNldCcsIHRoaXMuX29mZnNldCk7XG5cbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5fYWRkQ2h1bmtUb1JlcXVlc3QocmVxKTtcblxuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgaWYgKCFpblN0YXR1c0NhdGVnb3J5KHJlcy5nZXRTdGF0dXMoKSwgMjAwKSkge1xuICAgICAgICAgIF90aGlzOC5fZW1pdEh0dHBFcnJvcihyZXEsIHJlcywgJ3R1czogdW5leHBlY3RlZCByZXNwb25zZSB3aGlsZSB1cGxvYWRpbmcgY2h1bmsnKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzOC5faGFuZGxlVXBsb2FkUmVzcG9uc2UocmVxLCByZXMpO1xuICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIC8vIERvbid0IGVtaXQgYW4gZXJyb3IgaWYgdGhlIHVwbG9hZCB3YXMgYWJvcnRlZCBtYW51YWxseVxuICAgICAgICBpZiAoX3RoaXM4Ll9hYm9ydGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXM4Ll9lbWl0SHR0cEVycm9yKHJlcSwgbnVsbCwgXCJ0dXM6IGZhaWxlZCB0byB1cGxvYWQgY2h1bmsgYXQgb2Zmc2V0IFwiLmNvbmNhdChfdGhpczguX29mZnNldCksIGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2FkZENodW5rdG9SZXF1ZXN0IHJlYWRzIGEgY2h1bmsgZnJvbSB0aGUgc291cmNlIGFuZCBzZW5kcyBpdCB1c2luZyB0aGVcbiAgICAgKiBzdXBwbGllZCByZXF1ZXN0IG9iamVjdC4gSXQgd2lsbCBub3QgaGFuZGxlIHRoZSByZXNwb25zZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2FkZENodW5rVG9SZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRDaHVua1RvUmVxdWVzdChyZXEpIHtcbiAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXG4gICAgICB2YXIgc3RhcnQgPSB0aGlzLl9vZmZzZXQ7XG4gICAgICB2YXIgZW5kID0gdGhpcy5fb2Zmc2V0ICsgdGhpcy5vcHRpb25zLmNodW5rU2l6ZTtcbiAgICAgIHJlcS5zZXRQcm9ncmVzc0hhbmRsZXIoZnVuY3Rpb24gKGJ5dGVzU2VudCkge1xuICAgICAgICBfdGhpczkuX2VtaXRQcm9ncmVzcyhzdGFydCArIGJ5dGVzU2VudCwgX3RoaXM5Ll9zaXplKTtcbiAgICAgIH0pO1xuICAgICAgcmVxLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL29mZnNldCtvY3RldC1zdHJlYW0nKTsgLy8gVGhlIHNwZWNpZmllZCBjaHVua1NpemUgbWF5IGJlIEluZmluaXR5IG9yIHRoZSBjYWxjbHVhdGVkIGVuZCBwb3NpdGlvblxuICAgICAgLy8gbWF5IGV4Y2VlZCB0aGUgZmlsZSdzIHNpemUuIEluIGJvdGggY2FzZXMsIHdlIGxpbWl0IHRoZSBlbmQgcG9zaXRpb24gdG9cbiAgICAgIC8vIHRoZSBpbnB1dCdzIHRvdGFsIHNpemUgZm9yIHNpbXBsZXIgY2FsY3VsYXRpb25zIGFuZCBjb3JyZWN0bmVzcy5cblxuICAgICAgaWYgKChlbmQgPT09IEluZmluaXR5IHx8IGVuZCA+IHRoaXMuX3NpemUpICYmICF0aGlzLm9wdGlvbnMudXBsb2FkTGVuZ3RoRGVmZXJyZWQpIHtcbiAgICAgICAgZW5kID0gdGhpcy5fc2l6ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5zbGljZShzdGFydCwgZW5kKS50aGVuKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICB2YXIgdmFsdWUgPSBfcmVmMi52YWx1ZSxcbiAgICAgICAgICAgIGRvbmUgPSBfcmVmMi5kb25lO1xuXG4gICAgICAgIC8vIElmIHRoZSB1cGxvYWQgbGVuZ3RoIGlzIGRlZmVycmVkLCB0aGUgdXBsb2FkIHNpemUgd2FzIG5vdCBzcGVjaWZpZWQgZHVyaW5nXG4gICAgICAgIC8vIHVwbG9hZCBjcmVhdGlvbi4gU28sIGlmIHRoZSBmaWxlIHJlYWRlciBpcyBkb25lIHJlYWRpbmcsIHdlIGtub3cgdGhlIHRvdGFsXG4gICAgICAgIC8vIHVwbG9hZCBzaXplIGFuZCBjYW4gdGVsbCB0aGUgdHVzIHNlcnZlci5cbiAgICAgICAgaWYgKF90aGlzOS5vcHRpb25zLnVwbG9hZExlbmd0aERlZmVycmVkICYmIGRvbmUpIHtcbiAgICAgICAgICBfdGhpczkuX3NpemUgPSBfdGhpczkuX29mZnNldCArICh2YWx1ZSAmJiB2YWx1ZS5zaXplID8gdmFsdWUuc2l6ZSA6IDApO1xuICAgICAgICAgIHJlcS5zZXRIZWFkZXIoJ1VwbG9hZC1MZW5ndGgnLCBfdGhpczkuX3NpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzOS5fc2VuZFJlcXVlc3QocmVxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzOS5fZW1pdFByb2dyZXNzKF90aGlzOS5fb2Zmc2V0LCBfdGhpczkuX3NpemUpO1xuXG4gICAgICAgIHJldHVybiBfdGhpczkuX3NlbmRSZXF1ZXN0KHJlcSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9oYW5kbGVVcGxvYWRSZXNwb25zZSBpcyB1c2VkIGJ5IHJlcXVlc3RzIHRoYXQgaGF2ZW4gYmVlbiBzZW50IHVzaW5nIF9hZGRDaHVua1RvUmVxdWVzdFxuICAgICAqIGFuZCBhbHJlYWR5IGhhdmUgcmVjZWl2ZWQgYSByZXNwb25zZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2hhbmRsZVVwbG9hZFJlc3BvbnNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVVcGxvYWRSZXNwb25zZShyZXEsIHJlcykge1xuICAgICAgdmFyIG9mZnNldCA9IHBhcnNlSW50KHJlcy5nZXRIZWFkZXIoJ1VwbG9hZC1PZmZzZXQnKSwgMTApO1xuXG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKG9mZnNldCkpIHtcbiAgICAgICAgdGhpcy5fZW1pdEh0dHBFcnJvcihyZXEsIHJlcywgJ3R1czogaW52YWxpZCBvciBtaXNzaW5nIG9mZnNldCB2YWx1ZScpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZW1pdFByb2dyZXNzKG9mZnNldCwgdGhpcy5fc2l6ZSk7XG5cbiAgICAgIHRoaXMuX2VtaXRDaHVua0NvbXBsZXRlKG9mZnNldCAtIHRoaXMuX29mZnNldCwgb2Zmc2V0LCB0aGlzLl9zaXplKTtcblxuICAgICAgdGhpcy5fb2Zmc2V0ID0gb2Zmc2V0O1xuXG4gICAgICBpZiAob2Zmc2V0ID09PSB0aGlzLl9zaXplKSB7XG4gICAgICAgIC8vIFlheSwgZmluYWxseSBkb25lIDopXG4gICAgICAgIHRoaXMuX2VtaXRTdWNjZXNzKCk7XG5cbiAgICAgICAgdGhpcy5fc291cmNlLmNsb3NlKCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9wZXJmb3JtVXBsb2FkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBIVFRQIHJlcXVlc3Qgb2JqZWN0IHdpdGggdGhlIGdpdmVuIG1ldGhvZCBhbmQgVVJMLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfb3BlblJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29wZW5SZXF1ZXN0KG1ldGhvZCwgdXJsKSB7XG4gICAgICB2YXIgcmVxID0gb3BlblJlcXVlc3QobWV0aG9kLCB1cmwsIHRoaXMub3B0aW9ucyk7XG4gICAgICB0aGlzLl9yZXEgPSByZXE7XG4gICAgICByZXR1cm4gcmVxO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGVudHJ5IGluIHRoZSBVUkwgc3RvcmFnZSwgaWYgaXQgaGFzIGJlZW4gc2F2ZWQgYmVmb3JlLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfcmVtb3ZlRnJvbVVybFN0b3JhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUZyb21VcmxTdG9yYWdlKCkge1xuICAgICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuX3VybFN0b3JhZ2VLZXkpIHJldHVybjtcblxuICAgICAgdGhpcy5fdXJsU3RvcmFnZS5yZW1vdmVVcGxvYWQodGhpcy5fdXJsU3RvcmFnZUtleSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIF90aGlzMTAuX2VtaXRFcnJvcihlcnIpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX3VybFN0b3JhZ2VLZXkgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIHVwbG9hZCBVUkwgdG8gdGhlIFVSTCBzdG9yYWdlLCBpZiBwb3NzaWJsZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3NhdmVVcGxvYWRJblVybFN0b3JhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NhdmVVcGxvYWRJblVybFN0b3JhZ2UoKSB7XG4gICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7XG5cbiAgICAgIC8vIFdlIGRvIG5vdCBzdG9yZSB0aGUgdXBsb2FkIFVSTFxuICAgICAgLy8gLSBpZiBpdCB3YXMgZGlzYWJsZWQgaW4gdGhlIG9wdGlvbiwgb3JcbiAgICAgIC8vIC0gaWYgbm8gZmluZ2VycHJpbnQgd2FzIGNhbGN1bGF0ZWQgZm9yIHRoZSBpbnB1dCAoaS5lLiBhIHN0cmVhbSksIG9yXG4gICAgICAvLyAtIGlmIHRoZSBVUkwgaXMgYWxyZWFkeSBzdG9yZWQgKGkuZS4ga2V5IGlzIHNldCBhbHJlYWQpLlxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuc3RvcmVGaW5nZXJwcmludEZvclJlc3VtaW5nIHx8ICF0aGlzLl9maW5nZXJwcmludCB8fCB0aGlzLl91cmxTdG9yYWdlS2V5ICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0b3JlZFVwbG9hZCA9IHtcbiAgICAgICAgc2l6ZTogdGhpcy5fc2l6ZSxcbiAgICAgICAgbWV0YWRhdGE6IHRoaXMub3B0aW9ucy5tZXRhZGF0YSxcbiAgICAgICAgY3JlYXRpb25UaW1lOiBuZXcgRGF0ZSgpLnRvU3RyaW5nKClcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLl9wYXJhbGxlbFVwbG9hZHMpIHtcbiAgICAgICAgLy8gU2F2ZSBtdWx0aXBsZSBVUkxzIGlmIHRoZSBwYXJhbGxlbFVwbG9hZHMgb3B0aW9uIGlzIHVzZWQgLi4uXG4gICAgICAgIHN0b3JlZFVwbG9hZC5wYXJhbGxlbFVwbG9hZFVybHMgPSB0aGlzLl9wYXJhbGxlbFVwbG9hZFVybHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAuLi4gb3RoZXJ3aXNlIHdlIGp1c3Qgc2F2ZSB0aGUgb25lIGF2YWlsYWJsZSBVUkwuXG4gICAgICAgIHN0b3JlZFVwbG9hZC51cGxvYWRVcmwgPSB0aGlzLnVybDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX3VybFN0b3JhZ2UuYWRkVXBsb2FkKHRoaXMuX2ZpbmdlcnByaW50LCBzdG9yZWRVcGxvYWQpLnRoZW4oZnVuY3Rpb24gKHVybFN0b3JhZ2VLZXkpIHtcbiAgICAgICAgX3RoaXMxMS5fdXJsU3RvcmFnZUtleSA9IHVybFN0b3JhZ2VLZXk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhIHJlcXVlc3Qgd2l0aCB0aGUgcHJvdmlkZWQgYm9keS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3NlbmRSZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZW5kUmVxdWVzdChyZXEpIHtcbiAgICAgIHZhciBib2R5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsO1xuICAgICAgcmV0dXJuIHNlbmRSZXF1ZXN0KHJlcSwgYm9keSwgdGhpcy5vcHRpb25zKTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJ0ZXJtaW5hdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdGVybWluYXRlKHVybCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIHJlcSA9IG9wZW5SZXF1ZXN0KCdERUxFVEUnLCB1cmwsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHNlbmRSZXF1ZXN0KHJlcSwgbnVsbCwgb3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIC8vIEEgMjA0IHJlc3BvbnNlIGluZGljYXRlcyBhIHN1Y2Nlc3NmdWxsIHJlcXVlc3RcbiAgICAgICAgaWYgKHJlcy5nZXRTdGF0dXMoKSA9PT0gMjA0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IERldGFpbGVkRXJyb3IoJ3R1czogdW5leHBlY3RlZCByZXNwb25zZSB3aGlsZSB0ZXJtaW5hdGluZyB1cGxvYWQnLCBudWxsLCByZXEsIHJlcyk7XG4gICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCEoZXJyIGluc3RhbmNlb2YgRGV0YWlsZWRFcnJvcikpIHtcbiAgICAgICAgICBlcnIgPSBuZXcgRGV0YWlsZWRFcnJvcigndHVzOiBmYWlsZWQgdG8gdGVybWluYXRlIHVwbG9hZCcsIGVyciwgcmVxLCBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2hvdWxkUmV0cnkoZXJyLCAwLCBvcHRpb25zKSkge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfSAvLyBJbnN0ZWFkIG9mIGtlZXBpbmcgdHJhY2sgb2YgdGhlIHJldHJ5IGF0dGVtcHRzLCB3ZSByZW1vdmUgdGhlIGZpcnN0IGVsZW1lbnQgZnJvbSB0aGUgZGVsYXlzXG4gICAgICAgIC8vIGFycmF5LiBJZiB0aGUgYXJyYXkgaXMgZW1wdHksIGFsbCByZXRyeSBhdHRlbXB0cyBhcmUgdXNlZCB1cCBhbmQgd2Ugd2lsbCBidWJibGUgdXAgdGhlIGVycm9yLlxuICAgICAgICAvLyBXZSByZWN1cnNpdmVseSBjYWxsIHRoZSB0ZXJtaW5hdGUgZnVuY3Rpb24gd2lsbCByZW1vdmluZyBlbGVtZW50cyBmcm9tIHRoZSByZXRyeURlbGF5cyBhcnJheS5cblxuXG4gICAgICAgIHZhciBkZWxheSA9IG9wdGlvbnMucmV0cnlEZWxheXNbMF07XG4gICAgICAgIHZhciByZW1haW5pbmdEZWxheXMgPSBvcHRpb25zLnJldHJ5RGVsYXlzLnNsaWNlKDEpO1xuXG4gICAgICAgIHZhciBuZXdPcHRpb25zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSwge30sIHtcbiAgICAgICAgICByZXRyeURlbGF5czogcmVtYWluaW5nRGVsYXlzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIEJhc2VVcGxvYWQudGVybWluYXRlKHVybCwgbmV3T3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEJhc2VVcGxvYWQ7XG59KCk7XG5cbmZ1bmN0aW9uIGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhtZXRhZGF0YSkubWFwKGZ1bmN0aW9uIChfcmVmMykge1xuICAgIHZhciBfcmVmNCA9IF9zbGljZWRUb0FycmF5KF9yZWYzLCAyKSxcbiAgICAgICAga2V5ID0gX3JlZjRbMF0sXG4gICAgICAgIHZhbHVlID0gX3JlZjRbMV07XG5cbiAgICByZXR1cm4gXCJcIi5jb25jYXQoa2V5LCBcIiBcIikuY29uY2F0KEJhc2U2NC5lbmNvZGUoU3RyaW5nKHZhbHVlKSkpO1xuICB9KS5qb2luKCcsJyk7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gc3RhdHVzIGlzIGluIHRoZSByYW5nZSBvZiB0aGUgZXhwZWN0ZWQgY2F0ZWdvcnkuXG4gKiBGb3IgZXhhbXBsZSwgb25seSBhIHN0YXR1cyBiZXR3ZWVuIDIwMCBhbmQgMjk5IHdpbGwgc2F0aXNmeSB0aGUgY2F0ZWdvcnkgMjAwLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gaW5TdGF0dXNDYXRlZ29yeShzdGF0dXMsIGNhdGVnb3J5KSB7XG4gIHJldHVybiBzdGF0dXMgPj0gY2F0ZWdvcnkgJiYgc3RhdHVzIDwgY2F0ZWdvcnkgKyAxMDA7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBIVFRQIHJlcXVlc3Qgd2l0aCB0aGUgc3BlY2lmaWVkIG1ldGhvZCBhbmQgVVJMLlxuICogVGhlIG5lY2Vzc2FyeSBoZWFkZXJzIHRoYXQgYXJlIGluY2x1ZGVkIGluIGV2ZXJ5IHJlcXVlc3RcbiAqIHdpbGwgYmUgYWRkZWQsIGluY2x1ZGluZyB0aGUgcmVxdWVzdCBJRC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIG9wZW5SZXF1ZXN0KG1ldGhvZCwgdXJsLCBvcHRpb25zKSB7XG4gIHZhciByZXEgPSBvcHRpb25zLmh0dHBTdGFjay5jcmVhdGVSZXF1ZXN0KG1ldGhvZCwgdXJsKTtcbiAgcmVxLnNldEhlYWRlcignVHVzLVJlc3VtYWJsZScsICcxLjAuMCcpO1xuICB2YXIgaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcbiAgT2JqZWN0LmVudHJpZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjUpIHtcbiAgICB2YXIgX3JlZjYgPSBfc2xpY2VkVG9BcnJheShfcmVmNSwgMiksXG4gICAgICAgIG5hbWUgPSBfcmVmNlswXSxcbiAgICAgICAgdmFsdWUgPSBfcmVmNlsxXTtcblxuICAgIHJlcS5zZXRIZWFkZXIobmFtZSwgdmFsdWUpO1xuICB9KTtcblxuICBpZiAob3B0aW9ucy5hZGRSZXF1ZXN0SWQpIHtcbiAgICB2YXIgcmVxdWVzdElkID0gdXVpZCgpO1xuICAgIHJlcS5zZXRIZWFkZXIoJ1gtUmVxdWVzdC1JRCcsIHJlcXVlc3RJZCk7XG4gIH1cblxuICByZXR1cm4gcmVxO1xufVxuLyoqXG4gKiBTZW5kIGEgcmVxdWVzdCB3aXRoIHRoZSBwcm92aWRlZCBib2R5IHdoaWxlIGludm9raW5nIHRoZSBvbkJlZm9yZVJlcXVlc3RcbiAqIGFuZCBvbkFmdGVyUmVzcG9uc2UgY2FsbGJhY2tzLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gc2VuZFJlcXVlc3QocmVxLCBib2R5LCBvcHRpb25zKSB7XG4gIHZhciBvbkJlZm9yZVJlcXVlc3RQcm9taXNlID0gdHlwZW9mIG9wdGlvbnMub25CZWZvcmVSZXF1ZXN0ID09PSAnZnVuY3Rpb24nID8gUHJvbWlzZS5yZXNvbHZlKG9wdGlvbnMub25CZWZvcmVSZXF1ZXN0KHJlcSkpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gIHJldHVybiBvbkJlZm9yZVJlcXVlc3RQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZXEuc2VuZChib2R5KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHZhciBvbkFmdGVyUmVzcG9uc2VQcm9taXNlID0gdHlwZW9mIG9wdGlvbnMub25BZnRlclJlc3BvbnNlID09PSAnZnVuY3Rpb24nID8gUHJvbWlzZS5yZXNvbHZlKG9wdGlvbnMub25BZnRlclJlc3BvbnNlKHJlcSwgcmVzKSkgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIHJldHVybiBvbkFmdGVyUmVzcG9uc2VQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgYnJvd3NlciBydW5uaW5nIHRoaXMgY29kZSBoYXMgaW50ZXJuZXQgYWNjZXNzLlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGFsd2F5cyByZXR1cm4gdHJ1ZSBpbiB0aGUgbm9kZS5qcyBlbnZpcm9ubWVudFxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gaXNPbmxpbmUoKSB7XG4gIHZhciBvbmxpbmUgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAnbmF2aWdhdG9yJyBpbiB3aW5kb3cgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuICAmJiB3aW5kb3cubmF2aWdhdG9yLm9uTGluZSA9PT0gZmFsc2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4gICAgb25saW5lID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gb25saW5lO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBvciBub3QgaXQgaXMgb2sgdG8gcmV0cnkgYSByZXF1ZXN0LlxuICogQHBhcmFtIHtFcnJvcn0gZXJyIHRoZSBlcnJvciByZXR1cm5lZCBmcm9tIHRoZSBsYXN0IHJlcXVlc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSByZXRyeUF0dGVtcHQgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUgcmVxdWVzdCBoYXMgYWxyZWFkeSBiZWVuIHJldHJpZWRcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIHR1cyBVcGxvYWQgb3B0aW9uc1xuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gc2hvdWxkUmV0cnkoZXJyLCByZXRyeUF0dGVtcHQsIG9wdGlvbnMpIHtcbiAgLy8gV2Ugb25seSBhdHRlbXB0IGEgcmV0cnkgaWZcbiAgLy8gLSByZXRyeURlbGF5cyBvcHRpb24gaXMgc2V0XG4gIC8vIC0gd2UgZGlkbid0IGV4Y2VlZCB0aGUgbWF4aXVtIG51bWJlciBvZiByZXRyaWVzLCB5ZXQsIGFuZFxuICAvLyAtIHRoaXMgZXJyb3Igd2FzIGNhdXNlZCBieSBhIHJlcXVlc3Qgb3IgaXQncyByZXNwb25zZSBhbmRcbiAgLy8gLSB0aGUgZXJyb3IgaXMgc2VydmVyIGVycm9yIChpLmUuIG5vdCBhIHN0YXR1cyA0eHggZXhjZXB0IGEgNDA5IG9yIDQyMykgb3JcbiAgLy8gYSBvblNob3VsZFJldHJ5IGlzIHNwZWNpZmllZCBhbmQgcmV0dXJucyB0cnVlXG4gIC8vIC0gdGhlIGJyb3dzZXIgZG9lcyBub3QgaW5kaWNhdGUgdGhhdCB3ZSBhcmUgb2ZmbGluZVxuICBpZiAob3B0aW9ucy5yZXRyeURlbGF5cyA9PSBudWxsIHx8IHJldHJ5QXR0ZW1wdCA+PSBvcHRpb25zLnJldHJ5RGVsYXlzLmxlbmd0aCB8fCBlcnIub3JpZ2luYWxSZXF1ZXN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5vblNob3VsZFJldHJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMub25TaG91bGRSZXRyeShlcnIsIHJldHJ5QXR0ZW1wdCwgb3B0aW9ucyk7XG4gIH1cblxuICB2YXIgc3RhdHVzID0gZXJyLm9yaWdpbmFsUmVzcG9uc2UgPyBlcnIub3JpZ2luYWxSZXNwb25zZS5nZXRTdGF0dXMoKSA6IDA7XG4gIHJldHVybiAoIWluU3RhdHVzQ2F0ZWdvcnkoc3RhdHVzLCA0MDApIHx8IHN0YXR1cyA9PT0gNDA5IHx8IHN0YXR1cyA9PT0gNDIzKSAmJiBpc09ubGluZSgpO1xufVxuLyoqXG4gKiBSZXNvbHZlIGEgcmVsYXRpdmUgbGluayBnaXZlbiB0aGUgb3JpZ2luIGFzIHNvdXJjZS4gRm9yIGV4YW1wbGUsXG4gKiBpZiBhIEhUVFAgcmVxdWVzdCB0byBodHRwOi8vZXhhbXBsZS5jb20vZmlsZXMvIHJldHVybnMgYSBMb2NhdGlvblxuICogaGVhZGVyIHdpdGggdGhlIHZhbHVlIC91cGxvYWQvYWJjLCB0aGUgcmVzb2x2ZWQgVVJMIHdpbGwgYmU6XG4gKiBodHRwOi8vZXhhbXBsZS5jb20vdXBsb2FkL2FiY1xuICovXG5cblxuZnVuY3Rpb24gcmVzb2x2ZVVybChvcmlnaW4sIGxpbmspIHtcbiAgcmV0dXJuIG5ldyBVUkwobGluaywgb3JpZ2luKS50b1N0cmluZygpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb25zIGZvciB0aGUgcGFydHMgaWYgYW4gdXBsb2FkXG4gKiBpcyBzcGxpdCBpbnRvIG11bHRpcGxlIHBhcmFsbGVsIHJlcXVlc3RzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3RhbFNpemUgVGhlIGJ5dGUgc2l6ZSBvZiB0aGUgdXBsb2FkLCB3aGljaCB3aWxsIGJlIHNwbGl0LlxuICogQHBhcmFtIHtudW1iZXJ9IHBhcnRDb3VudCBUaGUgbnVtYmVyIGluIGhvdyBtYW55IHBhcnRzIHRoZSB1cGxvYWQgd2lsbCBiZSBzcGxpdC5cbiAqIEByZXR1cm4ge29iamVjdFtdfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBzcGxpdFNpemVJbnRvUGFydHModG90YWxTaXplLCBwYXJ0Q291bnQpIHtcbiAgdmFyIHBhcnRTaXplID0gTWF0aC5mbG9vcih0b3RhbFNpemUgLyBwYXJ0Q291bnQpO1xuICB2YXIgcGFydHMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRDb3VudDsgaSsrKSB7XG4gICAgcGFydHMucHVzaCh7XG4gICAgICBzdGFydDogcGFydFNpemUgKiBpLFxuICAgICAgZW5kOiBwYXJ0U2l6ZSAqIChpICsgMSlcbiAgICB9KTtcbiAgfVxuXG4gIHBhcnRzW3BhcnRDb3VudCAtIDFdLmVuZCA9IHRvdGFsU2l6ZTtcbiAgcmV0dXJuIHBhcnRzO1xufVxuXG5CYXNlVXBsb2FkLmRlZmF1bHRPcHRpb25zID0gZGVmYXVsdE9wdGlvbnM7XG5leHBvcnQgZGVmYXVsdCBCYXNlVXBsb2FkOyIsIi8qKlxuICogR2VuZXJhdGUgYSBVVUlEIHY0IGJhc2VkIG9uIHJhbmRvbSBudW1iZXJzLiBXZSBpbnRlbnRpb2FubGx5IHVzZSB0aGUgbGVzc1xuICogc2VjdXJlIE1hdGgucmFuZG9tIGZ1bmN0aW9uIGhlcmUgc2luY2UgdGhlIG1vcmUgc2VjdXJlIGNyeXB0by5nZXRSYW5kb21OdW1iZXJzXG4gKiBpcyBub3QgYXZhaWxhYmxlIG9uIGFsbCBwbGF0Zm9ybXMuXG4gKiBUaGlzIGlzIG5vdCBhIHByb2JsZW0gZm9yIHVzIHNpbmNlIHdlIHVzZSB0aGUgVVVJRCBvbmx5IGZvciBnZW5lcmF0aW5nIGFcbiAqIHJlcXVlc3QgSUQsIHNvIHdlIGNhbiBjb3JyZWxhdGUgc2VydmVyIGxvZ3MgdG8gY2xpZW50IGVycm9ycy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHRha2VuIGZyb20gZm9sbG93aW5nIHNpdGU6XG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvY3JlYXRlLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0XG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgZ2VuZXJhdGUgVVVJRFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1dWlkKCkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlICovXG4gIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgdmFyIHIgPSBNYXRoLnJhbmRvbSgpICogMTYgfCAwO1xuICAgIHZhciB2ID0gYyA9PT0gJ3gnID8gciA6IHIgJiAweDMgfCAweDg7XG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciByZXF1aXJlZCA9IHJlcXVpcmUoJ3JlcXVpcmVzLXBvcnQnKVxuICAsIHFzID0gcmVxdWlyZSgncXVlcnlzdHJpbmdpZnknKVxuICAsIGNvbnRyb2xPcldoaXRlc3BhY2UgPSAvXltcXHgwMC1cXHgyMFxcdTAwYTBcXHUxNjgwXFx1MjAwMC1cXHUyMDBhXFx1MjAyOFxcdTIwMjlcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHVmZWZmXSsvXG4gICwgQ1JIVExGID0gL1tcXG5cXHJcXHRdL2dcbiAgLCBzbGFzaGVzID0gL15bQS1aYS16XVtBLVphLXowLTkrLS5dKjpcXC9cXC8vXG4gICwgcG9ydCA9IC86XFxkKyQvXG4gICwgcHJvdG9jb2xyZSA9IC9eKFthLXpdW2EtejAtOS4rLV0qOik/KFxcL1xcLyk/KFtcXFxcL10rKT8oW1xcU1xcc10qKS9pXG4gICwgd2luZG93c0RyaXZlTGV0dGVyID0gL15bYS16QS1aXTovO1xuXG4vKipcbiAqIFJlbW92ZSBjb250cm9sIGNoYXJhY3RlcnMgYW5kIHdoaXRlc3BhY2UgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gc3RyIFN0cmluZyB0byB0cmltLlxuICogQHJldHVybnMge1N0cmluZ30gQSBuZXcgc3RyaW5nIHJlcHJlc2VudGluZyBgc3RyYCBzdHJpcHBlZCBvZiBjb250cm9sXG4gKiAgICAgY2hhcmFjdGVycyBhbmQgd2hpdGVzcGFjZSBmcm9tIGl0cyBiZWdpbm5pbmcuXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHRyaW1MZWZ0KHN0cikge1xuICByZXR1cm4gKHN0ciA/IHN0ciA6ICcnKS50b1N0cmluZygpLnJlcGxhY2UoY29udHJvbE9yV2hpdGVzcGFjZSwgJycpO1xufVxuXG4vKipcbiAqIFRoZXNlIGFyZSB0aGUgcGFyc2UgcnVsZXMgZm9yIHRoZSBVUkwgcGFyc2VyLCBpdCBpbmZvcm1zIHRoZSBwYXJzZXJcbiAqIGFib3V0OlxuICpcbiAqIDAuIFRoZSBjaGFyIGl0IE5lZWRzIHRvIHBhcnNlLCBpZiBpdCdzIGEgc3RyaW5nIGl0IHNob3VsZCBiZSBkb25lIHVzaW5nXG4gKiAgICBpbmRleE9mLCBSZWdFeHAgdXNpbmcgZXhlYyBhbmQgTmFOIG1lYW5zIHNldCBhcyBjdXJyZW50IHZhbHVlLlxuICogMS4gVGhlIHByb3BlcnR5IHdlIHNob3VsZCBzZXQgd2hlbiBwYXJzaW5nIHRoaXMgdmFsdWUuXG4gKiAyLiBJbmRpY2F0aW9uIGlmIGl0J3MgYmFja3dhcmRzIG9yIGZvcndhcmQgcGFyc2luZywgd2hlbiBzZXQgYXMgbnVtYmVyIGl0J3NcbiAqICAgIHRoZSB2YWx1ZSBvZiBleHRyYSBjaGFycyB0aGF0IHNob3VsZCBiZSBzcGxpdCBvZmYuXG4gKiAzLiBJbmhlcml0IGZyb20gbG9jYXRpb24gaWYgbm9uIGV4aXN0aW5nIGluIHRoZSBwYXJzZXIuXG4gKiA0LiBgdG9Mb3dlckNhc2VgIHRoZSByZXN1bHRpbmcgdmFsdWUuXG4gKi9cbnZhciBydWxlcyA9IFtcbiAgWycjJywgJ2hhc2gnXSwgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGZyb20gdGhlIGJhY2suXG4gIFsnPycsICdxdWVyeSddLCAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBmcm9tIHRoZSBiYWNrLlxuICBmdW5jdGlvbiBzYW5pdGl6ZShhZGRyZXNzLCB1cmwpIHsgICAgIC8vIFNhbml0aXplIHdoYXQgaXMgbGVmdCBvZiB0aGUgYWRkcmVzc1xuICAgIHJldHVybiBpc1NwZWNpYWwodXJsLnByb3RvY29sKSA/IGFkZHJlc3MucmVwbGFjZSgvXFxcXC9nLCAnLycpIDogYWRkcmVzcztcbiAgfSxcbiAgWycvJywgJ3BhdGhuYW1lJ10sICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGZyb20gdGhlIGJhY2suXG4gIFsnQCcsICdhdXRoJywgMV0sICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBmcm9tIHRoZSBmcm9udC5cbiAgW05hTiwgJ2hvc3QnLCB1bmRlZmluZWQsIDEsIDFdLCAgICAgICAvLyBTZXQgbGVmdCBvdmVyIHZhbHVlLlxuICBbLzooXFxkKikkLywgJ3BvcnQnLCB1bmRlZmluZWQsIDFdLCAgICAvLyBSZWdFeHAgdGhlIGJhY2suXG4gIFtOYU4sICdob3N0bmFtZScsIHVuZGVmaW5lZCwgMSwgMV0gICAgLy8gU2V0IGxlZnQgb3Zlci5cbl07XG5cbi8qKlxuICogVGhlc2UgcHJvcGVydGllcyBzaG91bGQgbm90IGJlIGNvcGllZCBvciBpbmhlcml0ZWQgZnJvbS4gVGhpcyBpcyBvbmx5IG5lZWRlZFxuICogZm9yIGFsbCBub24gYmxvYiBVUkwncyBhcyBhIGJsb2IgVVJMIGRvZXMgbm90IGluY2x1ZGUgYSBoYXNoLCBvbmx5IHRoZVxuICogb3JpZ2luLlxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgaWdub3JlID0geyBoYXNoOiAxLCBxdWVyeTogMSB9O1xuXG4vKipcbiAqIFRoZSBsb2NhdGlvbiBvYmplY3QgZGlmZmVycyB3aGVuIHlvdXIgY29kZSBpcyBsb2FkZWQgdGhyb3VnaCBhIG5vcm1hbCBwYWdlLFxuICogV29ya2VyIG9yIHRocm91Z2ggYSB3b3JrZXIgdXNpbmcgYSBibG9iLiBBbmQgd2l0aCB0aGUgYmxvYmJsZSBiZWdpbnMgdGhlXG4gKiB0cm91YmxlIGFzIHRoZSBsb2NhdGlvbiBvYmplY3Qgd2lsbCBjb250YWluIHRoZSBVUkwgb2YgdGhlIGJsb2IsIG5vdCB0aGVcbiAqIGxvY2F0aW9uIG9mIHRoZSBwYWdlIHdoZXJlIG91ciBjb2RlIGlzIGxvYWRlZCBpbi4gVGhlIGFjdHVhbCBvcmlnaW4gaXNcbiAqIGVuY29kZWQgaW4gdGhlIGBwYXRobmFtZWAgc28gd2UgY2FuIHRoYW5rZnVsbHkgZ2VuZXJhdGUgYSBnb29kIFwiZGVmYXVsdFwiXG4gKiBsb2NhdGlvbiBmcm9tIGl0IHNvIHdlIGNhbiBnZW5lcmF0ZSBwcm9wZXIgcmVsYXRpdmUgVVJMJ3MgYWdhaW4uXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBsb2MgT3B0aW9uYWwgZGVmYXVsdCBsb2NhdGlvbiBvYmplY3QuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBsb2xjYXRpb24gb2JqZWN0LlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBsb2xjYXRpb24obG9jKSB7XG4gIHZhciBnbG9iYWxWYXI7XG5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSBnbG9iYWxWYXIgPSB3aW5kb3c7XG4gIGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSBnbG9iYWxWYXIgPSBnbG9iYWw7XG4gIGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykgZ2xvYmFsVmFyID0gc2VsZjtcbiAgZWxzZSBnbG9iYWxWYXIgPSB7fTtcblxuICB2YXIgbG9jYXRpb24gPSBnbG9iYWxWYXIubG9jYXRpb24gfHwge307XG4gIGxvYyA9IGxvYyB8fCBsb2NhdGlvbjtcblxuICB2YXIgZmluYWxkZXN0aW5hdGlvbiA9IHt9XG4gICAgLCB0eXBlID0gdHlwZW9mIGxvY1xuICAgICwga2V5O1xuXG4gIGlmICgnYmxvYjonID09PSBsb2MucHJvdG9jb2wpIHtcbiAgICBmaW5hbGRlc3RpbmF0aW9uID0gbmV3IFVybCh1bmVzY2FwZShsb2MucGF0aG5hbWUpLCB7fSk7XG4gIH0gZWxzZSBpZiAoJ3N0cmluZycgPT09IHR5cGUpIHtcbiAgICBmaW5hbGRlc3RpbmF0aW9uID0gbmV3IFVybChsb2MsIHt9KTtcbiAgICBmb3IgKGtleSBpbiBpZ25vcmUpIGRlbGV0ZSBmaW5hbGRlc3RpbmF0aW9uW2tleV07XG4gIH0gZWxzZSBpZiAoJ29iamVjdCcgPT09IHR5cGUpIHtcbiAgICBmb3IgKGtleSBpbiBsb2MpIHtcbiAgICAgIGlmIChrZXkgaW4gaWdub3JlKSBjb250aW51ZTtcbiAgICAgIGZpbmFsZGVzdGluYXRpb25ba2V5XSA9IGxvY1trZXldO1xuICAgIH1cblxuICAgIGlmIChmaW5hbGRlc3RpbmF0aW9uLnNsYXNoZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZmluYWxkZXN0aW5hdGlvbi5zbGFzaGVzID0gc2xhc2hlcy50ZXN0KGxvYy5ocmVmKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmluYWxkZXN0aW5hdGlvbjtcbn1cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGEgcHJvdG9jb2wgc2NoZW1lIGlzIHNwZWNpYWwuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IFRoZSBwcm90b2NvbCBzY2hlbWUgb2YgdGhlIFVSTFxuICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBwcm90b2NvbCBzY2hlbWUgaXMgc3BlY2lhbCwgZWxzZSBgZmFsc2VgXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBpc1NwZWNpYWwoc2NoZW1lKSB7XG4gIHJldHVybiAoXG4gICAgc2NoZW1lID09PSAnZmlsZTonIHx8XG4gICAgc2NoZW1lID09PSAnZnRwOicgfHxcbiAgICBzY2hlbWUgPT09ICdodHRwOicgfHxcbiAgICBzY2hlbWUgPT09ICdodHRwczonIHx8XG4gICAgc2NoZW1lID09PSAnd3M6JyB8fFxuICAgIHNjaGVtZSA9PT0gJ3dzczonXG4gICk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYgUHJvdG9jb2xFeHRyYWN0XG4gKiBAdHlwZSBPYmplY3RcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBwcm90b2NvbCBQcm90b2NvbCBtYXRjaGVkIGluIHRoZSBVUkwsIGluIGxvd2VyY2FzZS5cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gc2xhc2hlcyBgdHJ1ZWAgaWYgcHJvdG9jb2wgaXMgZm9sbG93ZWQgYnkgXCIvL1wiLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gcmVzdCBSZXN0IG9mIHRoZSBVUkwgdGhhdCBpcyBub3QgcGFydCBvZiB0aGUgcHJvdG9jb2wuXG4gKi9cblxuLyoqXG4gKiBFeHRyYWN0IHByb3RvY29sIGluZm9ybWF0aW9uIGZyb20gYSBVUkwgd2l0aC93aXRob3V0IGRvdWJsZSBzbGFzaCAoXCIvL1wiKS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYWRkcmVzcyBVUkwgd2Ugd2FudCB0byBleHRyYWN0IGZyb20uXG4gKiBAcGFyYW0ge09iamVjdH0gbG9jYXRpb25cbiAqIEByZXR1cm4ge1Byb3RvY29sRXh0cmFjdH0gRXh0cmFjdGVkIGluZm9ybWF0aW9uLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdFByb3RvY29sKGFkZHJlc3MsIGxvY2F0aW9uKSB7XG4gIGFkZHJlc3MgPSB0cmltTGVmdChhZGRyZXNzKTtcbiAgYWRkcmVzcyA9IGFkZHJlc3MucmVwbGFjZShDUkhUTEYsICcnKTtcbiAgbG9jYXRpb24gPSBsb2NhdGlvbiB8fCB7fTtcblxuICB2YXIgbWF0Y2ggPSBwcm90b2NvbHJlLmV4ZWMoYWRkcmVzcyk7XG4gIHZhciBwcm90b2NvbCA9IG1hdGNoWzFdID8gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKSA6ICcnO1xuICB2YXIgZm9yd2FyZFNsYXNoZXMgPSAhIW1hdGNoWzJdO1xuICB2YXIgb3RoZXJTbGFzaGVzID0gISFtYXRjaFszXTtcbiAgdmFyIHNsYXNoZXNDb3VudCA9IDA7XG4gIHZhciByZXN0O1xuXG4gIGlmIChmb3J3YXJkU2xhc2hlcykge1xuICAgIGlmIChvdGhlclNsYXNoZXMpIHtcbiAgICAgIHJlc3QgPSBtYXRjaFsyXSArIG1hdGNoWzNdICsgbWF0Y2hbNF07XG4gICAgICBzbGFzaGVzQ291bnQgPSBtYXRjaFsyXS5sZW5ndGggKyBtYXRjaFszXS5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3QgPSBtYXRjaFsyXSArIG1hdGNoWzRdO1xuICAgICAgc2xhc2hlc0NvdW50ID0gbWF0Y2hbMl0ubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAob3RoZXJTbGFzaGVzKSB7XG4gICAgICByZXN0ID0gbWF0Y2hbM10gKyBtYXRjaFs0XTtcbiAgICAgIHNsYXNoZXNDb3VudCA9IG1hdGNoWzNdLmxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdCA9IG1hdGNoWzRdXG4gICAgfVxuICB9XG5cbiAgaWYgKHByb3RvY29sID09PSAnZmlsZTonKSB7XG4gICAgaWYgKHNsYXNoZXNDb3VudCA+PSAyKSB7XG4gICAgICByZXN0ID0gcmVzdC5zbGljZSgyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNTcGVjaWFsKHByb3RvY29sKSkge1xuICAgIHJlc3QgPSBtYXRjaFs0XTtcbiAgfSBlbHNlIGlmIChwcm90b2NvbCkge1xuICAgIGlmIChmb3J3YXJkU2xhc2hlcykge1xuICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoMik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHNsYXNoZXNDb3VudCA+PSAyICYmIGlzU3BlY2lhbChsb2NhdGlvbi5wcm90b2NvbCkpIHtcbiAgICByZXN0ID0gbWF0Y2hbNF07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHByb3RvY29sOiBwcm90b2NvbCxcbiAgICBzbGFzaGVzOiBmb3J3YXJkU2xhc2hlcyB8fCBpc1NwZWNpYWwocHJvdG9jb2wpLFxuICAgIHNsYXNoZXNDb3VudDogc2xhc2hlc0NvdW50LFxuICAgIHJlc3Q6IHJlc3RcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlIGEgcmVsYXRpdmUgVVJMIHBhdGhuYW1lIGFnYWluc3QgYSBiYXNlIFVSTCBwYXRobmFtZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcmVsYXRpdmUgUGF0aG5hbWUgb2YgdGhlIHJlbGF0aXZlIFVSTC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBiYXNlIFBhdGhuYW1lIG9mIHRoZSBiYXNlIFVSTC5cbiAqIEByZXR1cm4ge1N0cmluZ30gUmVzb2x2ZWQgcGF0aG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZXNvbHZlKHJlbGF0aXZlLCBiYXNlKSB7XG4gIGlmIChyZWxhdGl2ZSA9PT0gJycpIHJldHVybiBiYXNlO1xuXG4gIHZhciBwYXRoID0gKGJhc2UgfHwgJy8nKS5zcGxpdCgnLycpLnNsaWNlKDAsIC0xKS5jb25jYXQocmVsYXRpdmUuc3BsaXQoJy8nKSlcbiAgICAsIGkgPSBwYXRoLmxlbmd0aFxuICAgICwgbGFzdCA9IHBhdGhbaSAtIDFdXG4gICAgLCB1bnNoaWZ0ID0gZmFsc2VcbiAgICAsIHVwID0gMDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgaWYgKHBhdGhbaV0gPT09ICcuJykge1xuICAgICAgcGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChwYXRoW2ldID09PSAnLi4nKSB7XG4gICAgICBwYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgaWYgKGkgPT09IDApIHVuc2hpZnQgPSB0cnVlO1xuICAgICAgcGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIGlmICh1bnNoaWZ0KSBwYXRoLnVuc2hpZnQoJycpO1xuICBpZiAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHBhdGgucHVzaCgnJyk7XG5cbiAgcmV0dXJuIHBhdGguam9pbignLycpO1xufVxuXG4vKipcbiAqIFRoZSBhY3R1YWwgVVJMIGluc3RhbmNlLiBJbnN0ZWFkIG9mIHJldHVybmluZyBhbiBvYmplY3Qgd2UndmUgb3B0ZWQtaW4gdG9cbiAqIGNyZWF0ZSBhbiBhY3R1YWwgY29uc3RydWN0b3IgYXMgaXQncyBtdWNoIG1vcmUgbWVtb3J5IGVmZmljaWVudCBhbmRcbiAqIGZhc3RlciBhbmQgaXQgcGxlYXNlcyBteSBPQ0QuXG4gKlxuICogSXQgaXMgd29ydGggbm90aW5nIHRoYXQgd2Ugc2hvdWxkIG5vdCB1c2UgYFVSTGAgYXMgY2xhc3MgbmFtZSB0byBwcmV2ZW50XG4gKiBjbGFzaGVzIHdpdGggdGhlIGdsb2JhbCBVUkwgaW5zdGFuY2UgdGhhdCBnb3QgaW50cm9kdWNlZCBpbiBicm93c2Vycy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSBhZGRyZXNzIFVSTCB3ZSB3YW50IHRvIHBhcnNlLlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBbbG9jYXRpb25dIExvY2F0aW9uIGRlZmF1bHRzIGZvciByZWxhdGl2ZSBwYXRocy5cbiAqIEBwYXJhbSB7Qm9vbGVhbnxGdW5jdGlvbn0gW3BhcnNlcl0gUGFyc2VyIGZvciB0aGUgcXVlcnkgc3RyaW5nLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gVXJsKGFkZHJlc3MsIGxvY2F0aW9uLCBwYXJzZXIpIHtcbiAgYWRkcmVzcyA9IHRyaW1MZWZ0KGFkZHJlc3MpO1xuICBhZGRyZXNzID0gYWRkcmVzcy5yZXBsYWNlKENSSFRMRiwgJycpO1xuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBVcmwpKSB7XG4gICAgcmV0dXJuIG5ldyBVcmwoYWRkcmVzcywgbG9jYXRpb24sIHBhcnNlcik7XG4gIH1cblxuICB2YXIgcmVsYXRpdmUsIGV4dHJhY3RlZCwgcGFyc2UsIGluc3RydWN0aW9uLCBpbmRleCwga2V5XG4gICAgLCBpbnN0cnVjdGlvbnMgPSBydWxlcy5zbGljZSgpXG4gICAgLCB0eXBlID0gdHlwZW9mIGxvY2F0aW9uXG4gICAgLCB1cmwgPSB0aGlzXG4gICAgLCBpID0gMDtcblxuICAvL1xuICAvLyBUaGUgZm9sbG93aW5nIGlmIHN0YXRlbWVudHMgYWxsb3dzIHRoaXMgbW9kdWxlIHR3byBoYXZlIGNvbXBhdGliaWxpdHkgd2l0aFxuICAvLyAyIGRpZmZlcmVudCBBUEk6XG4gIC8vXG4gIC8vIDEuIE5vZGUuanMncyBgdXJsLnBhcnNlYCBhcGkgd2hpY2ggYWNjZXB0cyBhIFVSTCwgYm9vbGVhbiBhcyBhcmd1bWVudHNcbiAgLy8gICAgd2hlcmUgdGhlIGJvb2xlYW4gaW5kaWNhdGVzIHRoYXQgdGhlIHF1ZXJ5IHN0cmluZyBzaG91bGQgYWxzbyBiZSBwYXJzZWQuXG4gIC8vXG4gIC8vIDIuIFRoZSBgVVJMYCBpbnRlcmZhY2Ugb2YgdGhlIGJyb3dzZXIgd2hpY2ggYWNjZXB0cyBhIFVSTCwgb2JqZWN0IGFzXG4gIC8vICAgIGFyZ3VtZW50cy4gVGhlIHN1cHBsaWVkIG9iamVjdCB3aWxsIGJlIHVzZWQgYXMgZGVmYXVsdCB2YWx1ZXMgLyBmYWxsLWJhY2tcbiAgLy8gICAgZm9yIHJlbGF0aXZlIHBhdGhzLlxuICAvL1xuICBpZiAoJ29iamVjdCcgIT09IHR5cGUgJiYgJ3N0cmluZycgIT09IHR5cGUpIHtcbiAgICBwYXJzZXIgPSBsb2NhdGlvbjtcbiAgICBsb2NhdGlvbiA9IG51bGw7XG4gIH1cblxuICBpZiAocGFyc2VyICYmICdmdW5jdGlvbicgIT09IHR5cGVvZiBwYXJzZXIpIHBhcnNlciA9IHFzLnBhcnNlO1xuXG4gIGxvY2F0aW9uID0gbG9sY2F0aW9uKGxvY2F0aW9uKTtcblxuICAvL1xuICAvLyBFeHRyYWN0IHByb3RvY29sIGluZm9ybWF0aW9uIGJlZm9yZSBydW5uaW5nIHRoZSBpbnN0cnVjdGlvbnMuXG4gIC8vXG4gIGV4dHJhY3RlZCA9IGV4dHJhY3RQcm90b2NvbChhZGRyZXNzIHx8ICcnLCBsb2NhdGlvbik7XG4gIHJlbGF0aXZlID0gIWV4dHJhY3RlZC5wcm90b2NvbCAmJiAhZXh0cmFjdGVkLnNsYXNoZXM7XG4gIHVybC5zbGFzaGVzID0gZXh0cmFjdGVkLnNsYXNoZXMgfHwgcmVsYXRpdmUgJiYgbG9jYXRpb24uc2xhc2hlcztcbiAgdXJsLnByb3RvY29sID0gZXh0cmFjdGVkLnByb3RvY29sIHx8IGxvY2F0aW9uLnByb3RvY29sIHx8ICcnO1xuICBhZGRyZXNzID0gZXh0cmFjdGVkLnJlc3Q7XG5cbiAgLy9cbiAgLy8gV2hlbiB0aGUgYXV0aG9yaXR5IGNvbXBvbmVudCBpcyBhYnNlbnQgdGhlIFVSTCBzdGFydHMgd2l0aCBhIHBhdGhcbiAgLy8gY29tcG9uZW50LlxuICAvL1xuICBpZiAoXG4gICAgZXh0cmFjdGVkLnByb3RvY29sID09PSAnZmlsZTonICYmIChcbiAgICAgIGV4dHJhY3RlZC5zbGFzaGVzQ291bnQgIT09IDIgfHwgd2luZG93c0RyaXZlTGV0dGVyLnRlc3QoYWRkcmVzcykpIHx8XG4gICAgKCFleHRyYWN0ZWQuc2xhc2hlcyAmJlxuICAgICAgKGV4dHJhY3RlZC5wcm90b2NvbCB8fFxuICAgICAgICBleHRyYWN0ZWQuc2xhc2hlc0NvdW50IDwgMiB8fFxuICAgICAgICAhaXNTcGVjaWFsKHVybC5wcm90b2NvbCkpKVxuICApIHtcbiAgICBpbnN0cnVjdGlvbnNbM10gPSBbLyguKikvLCAncGF0aG5hbWUnXTtcbiAgfVxuXG4gIGZvciAoOyBpIDwgaW5zdHJ1Y3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbnNbaV07XG5cbiAgICBpZiAodHlwZW9mIGluc3RydWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhZGRyZXNzID0gaW5zdHJ1Y3Rpb24oYWRkcmVzcywgdXJsKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHBhcnNlID0gaW5zdHJ1Y3Rpb25bMF07XG4gICAga2V5ID0gaW5zdHJ1Y3Rpb25bMV07XG5cbiAgICBpZiAocGFyc2UgIT09IHBhcnNlKSB7XG4gICAgICB1cmxba2V5XSA9IGFkZHJlc3M7XG4gICAgfSBlbHNlIGlmICgnc3RyaW5nJyA9PT0gdHlwZW9mIHBhcnNlKSB7XG4gICAgICBpbmRleCA9IHBhcnNlID09PSAnQCdcbiAgICAgICAgPyBhZGRyZXNzLmxhc3RJbmRleE9mKHBhcnNlKVxuICAgICAgICA6IGFkZHJlc3MuaW5kZXhPZihwYXJzZSk7XG5cbiAgICAgIGlmICh+aW5kZXgpIHtcbiAgICAgICAgaWYgKCdudW1iZXInID09PSB0eXBlb2YgaW5zdHJ1Y3Rpb25bMl0pIHtcbiAgICAgICAgICB1cmxba2V5XSA9IGFkZHJlc3Muc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICAgIGFkZHJlc3MgPSBhZGRyZXNzLnNsaWNlKGluZGV4ICsgaW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVybFtrZXldID0gYWRkcmVzcy5zbGljZShpbmRleCk7XG4gICAgICAgICAgYWRkcmVzcyA9IGFkZHJlc3Muc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgoaW5kZXggPSBwYXJzZS5leGVjKGFkZHJlc3MpKSkge1xuICAgICAgdXJsW2tleV0gPSBpbmRleFsxXTtcbiAgICAgIGFkZHJlc3MgPSBhZGRyZXNzLnNsaWNlKDAsIGluZGV4LmluZGV4KTtcbiAgICB9XG5cbiAgICB1cmxba2V5XSA9IHVybFtrZXldIHx8IChcbiAgICAgIHJlbGF0aXZlICYmIGluc3RydWN0aW9uWzNdID8gbG9jYXRpb25ba2V5XSB8fCAnJyA6ICcnXG4gICAgKTtcblxuICAgIC8vXG4gICAgLy8gSG9zdG5hbWUsIGhvc3QgYW5kIHByb3RvY29sIHNob3VsZCBiZSBsb3dlcmNhc2VkIHNvIHRoZXkgY2FuIGJlIHVzZWQgdG9cbiAgICAvLyBjcmVhdGUgYSBwcm9wZXIgYG9yaWdpbmAuXG4gICAgLy9cbiAgICBpZiAoaW5zdHJ1Y3Rpb25bNF0pIHVybFtrZXldID0gdXJsW2tleV0udG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIC8vXG4gIC8vIEFsc28gcGFyc2UgdGhlIHN1cHBsaWVkIHF1ZXJ5IHN0cmluZyBpbiB0byBhbiBvYmplY3QuIElmIHdlJ3JlIHN1cHBsaWVkXG4gIC8vIHdpdGggYSBjdXN0b20gcGFyc2VyIGFzIGZ1bmN0aW9uIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgYnVpbGQtaW5cbiAgLy8gcGFyc2VyLlxuICAvL1xuICBpZiAocGFyc2VyKSB1cmwucXVlcnkgPSBwYXJzZXIodXJsLnF1ZXJ5KTtcblxuICAvL1xuICAvLyBJZiB0aGUgVVJMIGlzIHJlbGF0aXZlLCByZXNvbHZlIHRoZSBwYXRobmFtZSBhZ2FpbnN0IHRoZSBiYXNlIFVSTC5cbiAgLy9cbiAgaWYgKFxuICAgICAgcmVsYXRpdmVcbiAgICAmJiBsb2NhdGlvbi5zbGFzaGVzXG4gICAgJiYgdXJsLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nXG4gICAgJiYgKHVybC5wYXRobmFtZSAhPT0gJycgfHwgbG9jYXRpb24ucGF0aG5hbWUgIT09ICcnKVxuICApIHtcbiAgICB1cmwucGF0aG5hbWUgPSByZXNvbHZlKHVybC5wYXRobmFtZSwgbG9jYXRpb24ucGF0aG5hbWUpO1xuICB9XG5cbiAgLy9cbiAgLy8gRGVmYXVsdCB0byBhIC8gZm9yIHBhdGhuYW1lIGlmIG5vbmUgZXhpc3RzLiBUaGlzIG5vcm1hbGl6ZXMgdGhlIFVSTFxuICAvLyB0byBhbHdheXMgaGF2ZSBhIC9cbiAgLy9cbiAgaWYgKHVybC5wYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJyAmJiBpc1NwZWNpYWwodXJsLnByb3RvY29sKSkge1xuICAgIHVybC5wYXRobmFtZSA9ICcvJyArIHVybC5wYXRobmFtZTtcbiAgfVxuXG4gIC8vXG4gIC8vIFdlIHNob3VsZCBub3QgYWRkIHBvcnQgbnVtYmVycyBpZiB0aGV5IGFyZSBhbHJlYWR5IHRoZSBkZWZhdWx0IHBvcnQgbnVtYmVyXG4gIC8vIGZvciBhIGdpdmVuIHByb3RvY29sLiBBcyB0aGUgaG9zdCBhbHNvIGNvbnRhaW5zIHRoZSBwb3J0IG51bWJlciB3ZSdyZSBnb2luZ1xuICAvLyBvdmVycmlkZSBpdCB3aXRoIHRoZSBob3N0bmFtZSB3aGljaCBjb250YWlucyBubyBwb3J0IG51bWJlci5cbiAgLy9cbiAgaWYgKCFyZXF1aXJlZCh1cmwucG9ydCwgdXJsLnByb3RvY29sKSkge1xuICAgIHVybC5ob3N0ID0gdXJsLmhvc3RuYW1lO1xuICAgIHVybC5wb3J0ID0gJyc7XG4gIH1cblxuICAvL1xuICAvLyBQYXJzZSBkb3duIHRoZSBgYXV0aGAgZm9yIHRoZSB1c2VybmFtZSBhbmQgcGFzc3dvcmQuXG4gIC8vXG4gIHVybC51c2VybmFtZSA9IHVybC5wYXNzd29yZCA9ICcnO1xuXG4gIGlmICh1cmwuYXV0aCkge1xuICAgIGluZGV4ID0gdXJsLmF1dGguaW5kZXhPZignOicpO1xuXG4gICAgaWYgKH5pbmRleCkge1xuICAgICAgdXJsLnVzZXJuYW1lID0gdXJsLmF1dGguc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgdXJsLnVzZXJuYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KGRlY29kZVVSSUNvbXBvbmVudCh1cmwudXNlcm5hbWUpKTtcblxuICAgICAgdXJsLnBhc3N3b3JkID0gdXJsLmF1dGguc2xpY2UoaW5kZXggKyAxKTtcbiAgICAgIHVybC5wYXNzd29yZCA9IGVuY29kZVVSSUNvbXBvbmVudChkZWNvZGVVUklDb21wb25lbnQodXJsLnBhc3N3b3JkKSlcbiAgICB9IGVsc2Uge1xuICAgICAgdXJsLnVzZXJuYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KGRlY29kZVVSSUNvbXBvbmVudCh1cmwuYXV0aCkpO1xuICAgIH1cblxuICAgIHVybC5hdXRoID0gdXJsLnBhc3N3b3JkID8gdXJsLnVzZXJuYW1lICsnOicrIHVybC5wYXNzd29yZCA6IHVybC51c2VybmFtZTtcbiAgfVxuXG4gIHVybC5vcmlnaW4gPSB1cmwucHJvdG9jb2wgIT09ICdmaWxlOicgJiYgaXNTcGVjaWFsKHVybC5wcm90b2NvbCkgJiYgdXJsLmhvc3RcbiAgICA/IHVybC5wcm90b2NvbCArJy8vJysgdXJsLmhvc3RcbiAgICA6ICdudWxsJztcblxuICAvL1xuICAvLyBUaGUgaHJlZiBpcyBqdXN0IHRoZSBjb21waWxlZCByZXN1bHQuXG4gIC8vXG4gIHVybC5ocmVmID0gdXJsLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogVGhpcyBpcyBjb252ZW5pZW5jZSBtZXRob2QgZm9yIGNoYW5naW5nIHByb3BlcnRpZXMgaW4gdGhlIFVSTCBpbnN0YW5jZSB0b1xuICogaW5zdXJlIHRoYXQgdGhleSBhbGwgcHJvcGFnYXRlIGNvcnJlY3RseS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcGFydCAgICAgICAgICBQcm9wZXJ0eSB3ZSBuZWVkIHRvIGFkanVzdC5cbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlICAgICAgICAgIFRoZSBuZXdseSBhc3NpZ25lZCB2YWx1ZS5cbiAqIEBwYXJhbSB7Qm9vbGVhbnxGdW5jdGlvbn0gZm4gIFdoZW4gc2V0dGluZyB0aGUgcXVlcnksIGl0IHdpbGwgYmUgdGhlIGZ1bmN0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VkIHRvIHBhcnNlIHRoZSBxdWVyeS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdoZW4gc2V0dGluZyB0aGUgcHJvdG9jb2wsIGRvdWJsZSBzbGFzaCB3aWxsIGJlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkIGZyb20gdGhlIGZpbmFsIHVybCBpZiBpdCBpcyB0cnVlLlxuICogQHJldHVybnMge1VSTH0gVVJMIGluc3RhbmNlIGZvciBjaGFpbmluZy5cbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gc2V0KHBhcnQsIHZhbHVlLCBmbikge1xuICB2YXIgdXJsID0gdGhpcztcblxuICBzd2l0Y2ggKHBhcnQpIHtcbiAgICBjYXNlICdxdWVyeSc6XG4gICAgICBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgdmFsdWUgPSAoZm4gfHwgcXMucGFyc2UpKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgdXJsW3BhcnRdID0gdmFsdWU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3BvcnQnOlxuICAgICAgdXJsW3BhcnRdID0gdmFsdWU7XG5cbiAgICAgIGlmICghcmVxdWlyZWQodmFsdWUsIHVybC5wcm90b2NvbCkpIHtcbiAgICAgICAgdXJsLmhvc3QgPSB1cmwuaG9zdG5hbWU7XG4gICAgICAgIHVybFtwYXJ0XSA9ICcnO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICB1cmwuaG9zdCA9IHVybC5ob3N0bmFtZSArJzonKyB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdob3N0bmFtZSc6XG4gICAgICB1cmxbcGFydF0gPSB2YWx1ZTtcblxuICAgICAgaWYgKHVybC5wb3J0KSB2YWx1ZSArPSAnOicrIHVybC5wb3J0O1xuICAgICAgdXJsLmhvc3QgPSB2YWx1ZTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnaG9zdCc6XG4gICAgICB1cmxbcGFydF0gPSB2YWx1ZTtcblxuICAgICAgaWYgKHBvcnQudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5zcGxpdCgnOicpO1xuICAgICAgICB1cmwucG9ydCA9IHZhbHVlLnBvcCgpO1xuICAgICAgICB1cmwuaG9zdG5hbWUgPSB2YWx1ZS5qb2luKCc6Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cmwuaG9zdG5hbWUgPSB2YWx1ZTtcbiAgICAgICAgdXJsLnBvcnQgPSAnJztcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdwcm90b2NvbCc6XG4gICAgICB1cmwucHJvdG9jb2wgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgdXJsLnNsYXNoZXMgPSAhZm47XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3BhdGhuYW1lJzpcbiAgICBjYXNlICdoYXNoJzpcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YXIgY2hhciA9IHBhcnQgPT09ICdwYXRobmFtZScgPyAnLycgOiAnIyc7XG4gICAgICAgIHVybFtwYXJ0XSA9IHZhbHVlLmNoYXJBdCgwKSAhPT0gY2hhciA/IGNoYXIgKyB2YWx1ZSA6IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXJsW3BhcnRdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3VzZXJuYW1lJzpcbiAgICBjYXNlICdwYXNzd29yZCc6XG4gICAgICB1cmxbcGFydF0gPSBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdhdXRoJzpcbiAgICAgIHZhciBpbmRleCA9IHZhbHVlLmluZGV4T2YoJzonKTtcblxuICAgICAgaWYgKH5pbmRleCkge1xuICAgICAgICB1cmwudXNlcm5hbWUgPSB2YWx1ZS5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIHVybC51c2VybmFtZSA9IGVuY29kZVVSSUNvbXBvbmVudChkZWNvZGVVUklDb21wb25lbnQodXJsLnVzZXJuYW1lKSk7XG5cbiAgICAgICAgdXJsLnBhc3N3b3JkID0gdmFsdWUuc2xpY2UoaW5kZXggKyAxKTtcbiAgICAgICAgdXJsLnBhc3N3b3JkID0gZW5jb2RlVVJJQ29tcG9uZW50KGRlY29kZVVSSUNvbXBvbmVudCh1cmwucGFzc3dvcmQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVybC51c2VybmFtZSA9IGVuY29kZVVSSUNvbXBvbmVudChkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcbiAgICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaW5zID0gcnVsZXNbaV07XG5cbiAgICBpZiAoaW5zWzRdKSB1cmxbaW5zWzFdXSA9IHVybFtpbnNbMV1dLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICB1cmwuYXV0aCA9IHVybC5wYXNzd29yZCA/IHVybC51c2VybmFtZSArJzonKyB1cmwucGFzc3dvcmQgOiB1cmwudXNlcm5hbWU7XG5cbiAgdXJsLm9yaWdpbiA9IHVybC5wcm90b2NvbCAhPT0gJ2ZpbGU6JyAmJiBpc1NwZWNpYWwodXJsLnByb3RvY29sKSAmJiB1cmwuaG9zdFxuICAgID8gdXJsLnByb3RvY29sICsnLy8nKyB1cmwuaG9zdFxuICAgIDogJ251bGwnO1xuXG4gIHVybC5ocmVmID0gdXJsLnRvU3RyaW5nKCk7XG5cbiAgcmV0dXJuIHVybDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIHByb3BlcnRpZXMgYmFjayBpbiB0byBhIHZhbGlkIGFuZCBmdWxsIFVSTCBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5naWZ5IE9wdGlvbmFsIHF1ZXJ5IHN0cmluZ2lmeSBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtTdHJpbmd9IENvbXBpbGVkIHZlcnNpb24gb2YgdGhlIFVSTC5cbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcoc3RyaW5naWZ5KSB7XG4gIGlmICghc3RyaW5naWZ5IHx8ICdmdW5jdGlvbicgIT09IHR5cGVvZiBzdHJpbmdpZnkpIHN0cmluZ2lmeSA9IHFzLnN0cmluZ2lmeTtcblxuICB2YXIgcXVlcnlcbiAgICAsIHVybCA9IHRoaXNcbiAgICAsIGhvc3QgPSB1cmwuaG9zdFxuICAgICwgcHJvdG9jb2wgPSB1cmwucHJvdG9jb2w7XG5cbiAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLmNoYXJBdChwcm90b2NvbC5sZW5ndGggLSAxKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgdmFyIHJlc3VsdCA9XG4gICAgcHJvdG9jb2wgK1xuICAgICgodXJsLnByb3RvY29sICYmIHVybC5zbGFzaGVzKSB8fCBpc1NwZWNpYWwodXJsLnByb3RvY29sKSA/ICcvLycgOiAnJyk7XG5cbiAgaWYgKHVybC51c2VybmFtZSkge1xuICAgIHJlc3VsdCArPSB1cmwudXNlcm5hbWU7XG4gICAgaWYgKHVybC5wYXNzd29yZCkgcmVzdWx0ICs9ICc6JysgdXJsLnBhc3N3b3JkO1xuICAgIHJlc3VsdCArPSAnQCc7XG4gIH0gZWxzZSBpZiAodXJsLnBhc3N3b3JkKSB7XG4gICAgcmVzdWx0ICs9ICc6JysgdXJsLnBhc3N3b3JkO1xuICAgIHJlc3VsdCArPSAnQCc7XG4gIH0gZWxzZSBpZiAoXG4gICAgdXJsLnByb3RvY29sICE9PSAnZmlsZTonICYmXG4gICAgaXNTcGVjaWFsKHVybC5wcm90b2NvbCkgJiZcbiAgICAhaG9zdCAmJlxuICAgIHVybC5wYXRobmFtZSAhPT0gJy8nXG4gICkge1xuICAgIC8vXG4gICAgLy8gQWRkIGJhY2sgdGhlIGVtcHR5IHVzZXJpbmZvLCBvdGhlcndpc2UgdGhlIG9yaWdpbmFsIGludmFsaWQgVVJMXG4gICAgLy8gbWlnaHQgYmUgdHJhbnNmb3JtZWQgaW50byBhIHZhbGlkIG9uZSB3aXRoIGB1cmwucGF0aG5hbWVgIGFzIGhvc3QuXG4gICAgLy9cbiAgICByZXN1bHQgKz0gJ0AnO1xuICB9XG5cbiAgLy9cbiAgLy8gVHJhaWxpbmcgY29sb24gaXMgcmVtb3ZlZCBmcm9tIGB1cmwuaG9zdGAgd2hlbiBpdCBpcyBwYXJzZWQuIElmIGl0IHN0aWxsXG4gIC8vIGVuZHMgd2l0aCBhIGNvbG9uLCB0aGVuIGFkZCBiYWNrIHRoZSB0cmFpbGluZyBjb2xvbiB0aGF0IHdhcyByZW1vdmVkLiBUaGlzXG4gIC8vIHByZXZlbnRzIGFuIGludmFsaWQgVVJMIGZyb20gYmVpbmcgdHJhbnNmb3JtZWQgaW50byBhIHZhbGlkIG9uZS5cbiAgLy9cbiAgaWYgKGhvc3RbaG9zdC5sZW5ndGggLSAxXSA9PT0gJzonIHx8IChwb3J0LnRlc3QodXJsLmhvc3RuYW1lKSAmJiAhdXJsLnBvcnQpKSB7XG4gICAgaG9zdCArPSAnOic7XG4gIH1cblxuICByZXN1bHQgKz0gaG9zdCArIHVybC5wYXRobmFtZTtcblxuICBxdWVyeSA9ICdvYmplY3QnID09PSB0eXBlb2YgdXJsLnF1ZXJ5ID8gc3RyaW5naWZ5KHVybC5xdWVyeSkgOiB1cmwucXVlcnk7XG4gIGlmIChxdWVyeSkgcmVzdWx0ICs9ICc/JyAhPT0gcXVlcnkuY2hhckF0KDApID8gJz8nKyBxdWVyeSA6IHF1ZXJ5O1xuXG4gIGlmICh1cmwuaGFzaCkgcmVzdWx0ICs9IHVybC5oYXNoO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblVybC5wcm90b3R5cGUgPSB7IHNldDogc2V0LCB0b1N0cmluZzogdG9TdHJpbmcgfTtcblxuLy9cbi8vIEV4cG9zZSB0aGUgVVJMIHBhcnNlciBhbmQgc29tZSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdGhhdCBtaWdodCBiZSB1c2VmdWwgZm9yXG4vLyBvdGhlcnMgb3IgdGVzdGluZy5cbi8vXG5VcmwuZXh0cmFjdFByb3RvY29sID0gZXh0cmFjdFByb3RvY29sO1xuVXJsLmxvY2F0aW9uID0gbG9sY2F0aW9uO1xuVXJsLnRyaW1MZWZ0ID0gdHJpbUxlZnQ7XG5VcmwucXMgPSBxcztcblxubW9kdWxlLmV4cG9ydHMgPSBVcmw7XG4iLCIvKiBqc2hpbnQgbm9kZTogdHJ1ZSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAgIyB3aWxkY2FyZFxuXG4gIFZlcnkgc2ltcGxlIHdpbGRjYXJkIG1hdGNoaW5nLCB3aGljaCBpcyBkZXNpZ25lZCB0byBwcm92aWRlIHRoZSBzYW1lXG4gIGZ1bmN0aW9uYWxpdHkgdGhhdCBpcyBmb3VuZCBpbiB0aGVcbiAgW2V2ZV0oaHR0cHM6Ly9naXRodWIuY29tL2Fkb2JlLXdlYnBsYXRmb3JtL2V2ZSkgZXZlbnRpbmcgbGlicmFyeS5cblxuICAjIyBVc2FnZVxuXG4gIEl0IHdvcmtzIHdpdGggc3RyaW5nczpcblxuICA8PDwgZXhhbXBsZXMvc3RyaW5ncy5qc1xuXG4gIEFycmF5czpcblxuICA8PDwgZXhhbXBsZXMvYXJyYXlzLmpzXG5cbiAgT2JqZWN0cyAobWF0Y2hpbmcgYWdhaW5zdCBrZXlzKTpcblxuICA8PDwgZXhhbXBsZXMvb2JqZWN0cy5qc1xuXG4gIFdoaWxlIHRoZSBsaWJyYXJ5IHdvcmtzIGluIE5vZGUsIGlmIHlvdSBhcmUgYXJlIGxvb2tpbmcgZm9yIGZpbGUtYmFzZWRcbiAgd2lsZGNhcmQgbWF0Y2hpbmcgdGhlbiB5b3Ugc2hvdWxkIGhhdmUgYSBsb29rIGF0OlxuXG4gIDxodHRwczovL2dpdGh1Yi5jb20vaXNhYWNzL25vZGUtZ2xvYj5cbioqL1xuXG5mdW5jdGlvbiBXaWxkY2FyZE1hdGNoZXIodGV4dCwgc2VwYXJhdG9yKSB7XG4gIHRoaXMudGV4dCA9IHRleHQgPSB0ZXh0IHx8ICcnO1xuICB0aGlzLmhhc1dpbGQgPSB+dGV4dC5pbmRleE9mKCcqJyk7XG4gIHRoaXMuc2VwYXJhdG9yID0gc2VwYXJhdG9yO1xuICB0aGlzLnBhcnRzID0gdGV4dC5zcGxpdChzZXBhcmF0b3IpO1xufVxuXG5XaWxkY2FyZE1hdGNoZXIucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgdmFyIG1hdGNoZXMgPSB0cnVlO1xuICB2YXIgcGFydHMgPSB0aGlzLnBhcnRzO1xuICB2YXIgaWk7XG4gIHZhciBwYXJ0c0NvdW50ID0gcGFydHMubGVuZ3RoO1xuICB2YXIgdGVzdFBhcnRzO1xuXG4gIGlmICh0eXBlb2YgaW5wdXQgPT0gJ3N0cmluZycgfHwgaW5wdXQgaW5zdGFuY2VvZiBTdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMuaGFzV2lsZCAmJiB0aGlzLnRleHQgIT0gaW5wdXQpIHtcbiAgICAgIG1hdGNoZXMgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGVzdFBhcnRzID0gKGlucHV0IHx8ICcnKS5zcGxpdCh0aGlzLnNlcGFyYXRvcik7XG4gICAgICBmb3IgKGlpID0gMDsgbWF0Y2hlcyAmJiBpaSA8IHBhcnRzQ291bnQ7IGlpKyspIHtcbiAgICAgICAgaWYgKHBhcnRzW2lpXSA9PT0gJyonKSAge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGlpIDwgdGVzdFBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgIG1hdGNoZXMgPSBwYXJ0c1tpaV0gPT09IHRlc3RQYXJ0c1tpaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF0Y2hlcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG1hdGNoZXMsIHRoZW4gcmV0dXJuIHRoZSBjb21wb25lbnQgcGFydHNcbiAgICAgIG1hdGNoZXMgPSBtYXRjaGVzICYmIHRlc3RQYXJ0cztcbiAgICB9XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIGlucHV0LnNwbGljZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgbWF0Y2hlcyA9IFtdO1xuXG4gICAgZm9yIChpaSA9IGlucHV0Lmxlbmd0aDsgaWktLTsgKSB7XG4gICAgICBpZiAodGhpcy5tYXRjaChpbnB1dFtpaV0pKSB7XG4gICAgICAgIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGhdID0gaW5wdXRbaWldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT0gJ29iamVjdCcpIHtcbiAgICBtYXRjaGVzID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gaW5wdXQpIHtcbiAgICAgIGlmICh0aGlzLm1hdGNoKGtleSkpIHtcbiAgICAgICAgbWF0Y2hlc1trZXldID0gaW5wdXRba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlcztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGV4dCwgdGVzdCwgc2VwYXJhdG9yKSB7XG4gIHZhciBtYXRjaGVyID0gbmV3IFdpbGRjYXJkTWF0Y2hlcih0ZXh0LCBzZXBhcmF0b3IgfHwgL1tcXC9cXC5dLyk7XG4gIGlmICh0eXBlb2YgdGVzdCAhPSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBtYXRjaGVyLm1hdGNoKHRlc3QpO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoZXI7XG59O1xuIiwiZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTsgfSByZXR1cm4gcmVjZWl2ZXI7IH1cblxudmFyIGlkID0gMDtcblxuZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkobmFtZSkgeyByZXR1cm4gXCJfX3ByaXZhdGVfXCIgKyBpZCsrICsgXCJfXCIgKyBuYW1lOyB9XG5cbmltcG9ydCB7IEFib3J0Q29udHJvbGxlciB9IGZyb20gJ0B1cHB5L3V0aWxzL2xpYi9BYm9ydENvbnRyb2xsZXInO1xuY29uc3QgTUIgPSAxMDI0ICogMTAyNDtcbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICBnZXRDaHVua1NpemUoZmlsZSkge1xuICAgIHJldHVybiBNYXRoLmNlaWwoZmlsZS5zaXplIC8gMTAwMDApO1xuICB9LFxuXG4gIG9uUHJvZ3Jlc3MoKSB7fSxcblxuICBvblBhcnRDb21wbGV0ZSgpIHt9LFxuXG4gIG9uU3VjY2VzcygpIHt9LFxuXG4gIG9uRXJyb3IoZXJyKSB7XG4gICAgdGhyb3cgZXJyO1xuICB9XG5cbn07XG5cbmZ1bmN0aW9uIGVuc3VyZUludCh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhIG51bWJlcicpO1xufVxuXG5jb25zdCBwYXVzaW5nVXBsb2FkUmVhc29uID0gU3ltYm9sKCdwYXVzaW5nIHVwbG9hZCwgbm90IGFuIGFjdHVhbCBlcnJvcicpO1xuXG52YXIgX2Fib3J0Q29udHJvbGxlciA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFib3J0Q29udHJvbGxlclwiKTtcblxudmFyIF9jaHVua3MgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJjaHVua3NcIik7XG5cbnZhciBfY2h1bmtTdGF0ZSA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImNodW5rU3RhdGVcIik7XG5cbnZhciBfZGF0YSA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRhdGFcIik7XG5cbnZhciBfZmlsZSA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImZpbGVcIik7XG5cbnZhciBfdXBsb2FkUHJvbWlzZSA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInVwbG9hZFByb21pc2VcIik7XG5cbnZhciBfb25FcnJvciA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm9uRXJyb3JcIik7XG5cbnZhciBfb25TdWNjZXNzID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwib25TdWNjZXNzXCIpO1xuXG52YXIgX29uUmVqZWN0ID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwib25SZWplY3RcIik7XG5cbnZhciBfaW5pdENodW5rcyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImluaXRDaHVua3NcIik7XG5cbnZhciBfY3JlYXRlVXBsb2FkID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiY3JlYXRlVXBsb2FkXCIpO1xuXG52YXIgX3Jlc3VtZVVwbG9hZCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlc3VtZVVwbG9hZFwiKTtcblxudmFyIF9vblBhcnRQcm9ncmVzcyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm9uUGFydFByb2dyZXNzXCIpO1xuXG52YXIgX29uUGFydENvbXBsZXRlID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwib25QYXJ0Q29tcGxldGVcIik7XG5cbnZhciBfYWJvcnRVcGxvYWQgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhYm9ydFVwbG9hZFwiKTtcblxuY2xhc3MgTXVsdGlwYXJ0VXBsb2FkZXIge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzJG9wdGlvbnMsIF90aGlzJG9wdGlvbnMkZ2V0Q2h1bjtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYWJvcnRVcGxvYWQsIHtcbiAgICAgIHZhbHVlOiBfYWJvcnRVcGxvYWQyXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZXN1bWVVcGxvYWQsIHtcbiAgICAgIHZhbHVlOiBfcmVzdW1lVXBsb2FkMlxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfY3JlYXRlVXBsb2FkLCB7XG4gICAgICB2YWx1ZTogX2NyZWF0ZVVwbG9hZDJcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2luaXRDaHVua3MsIHtcbiAgICAgIHZhbHVlOiBfaW5pdENodW5rczJcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2Fib3J0Q29udHJvbGxlciwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogbmV3IEFib3J0Q29udHJvbGxlcigpXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9jaHVua3MsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfY2h1bmtTdGF0ZSwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdm9pZCAwXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kYXRhLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2ZpbGUsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfdXBsb2FkUHJvbWlzZSwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdm9pZCAwXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9vbkVycm9yLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX29uU3VjY2Vzcywge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdm9pZCAwXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9vblJlamVjdCwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZXJyID0+IChlcnIgPT0gbnVsbCA/IHZvaWQgMCA6IGVyci5jYXVzZSkgPT09IHBhdXNpbmdVcGxvYWRSZWFzb24gPyBudWxsIDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbkVycm9yKVtfb25FcnJvcl0oZXJyKVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfb25QYXJ0UHJvZ3Jlc3MsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGluZGV4ID0+IGV2ID0+IHtcbiAgICAgICAgaWYgKCFldi5sZW5ndGhDb21wdXRhYmxlKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHNlbnQgPSBldi5sb2FkZWQ7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2h1bmtTdGF0ZSlbX2NodW5rU3RhdGVdW2luZGV4XS51cGxvYWRlZCA9IGVuc3VyZUludChzZW50KTtcblxuICAgICAgICBjb25zdCB0b3RhbFVwbG9hZGVkID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jaHVua1N0YXRlKVtfY2h1bmtTdGF0ZV0ucmVkdWNlKChuLCBjKSA9PiBuICsgYy51cGxvYWRlZCwgMCk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLm9uUHJvZ3Jlc3ModG90YWxVcGxvYWRlZCwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kYXRhKVtfZGF0YV0uc2l6ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9vblBhcnRDb21wbGV0ZSwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogaW5kZXggPT4gZXRhZyA9PiB7XG4gICAgICAgIC8vIFRoaXMgYXZvaWRzIHRoZSBuZXQ6OkVSUl9PVVRfT0ZfTUVNT1JZIGluIENocm9taXVtIEJyb3dzZXJzLlxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NodW5rcylbX2NodW5rc11baW5kZXhdID0gbnVsbDtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jaHVua1N0YXRlKVtfY2h1bmtTdGF0ZV1baW5kZXhdLmV0YWcgPSBldGFnO1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NodW5rU3RhdGUpW19jaHVua1N0YXRlXVtpbmRleF0uZG9uZSA9IHRydWU7XG4gICAgICAgIGNvbnN0IHBhcnQgPSB7XG4gICAgICAgICAgUGFydE51bWJlcjogaW5kZXggKyAxLFxuICAgICAgICAgIEVUYWc6IGV0YWdcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uUGFydENvbXBsZXRlKHBhcnQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMub3B0aW9ucyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTsgLy8gVXNlIGRlZmF1bHQgYGdldENodW5rU2l6ZWAgaWYgaXQgd2FzIG51bGwgb3Igc29tZXRoaW5nXG5cbiAgICAoX3RoaXMkb3B0aW9ucyRnZXRDaHVuID0gKF90aGlzJG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMpLmdldENodW5rU2l6ZSkgIT0gbnVsbCA/IF90aGlzJG9wdGlvbnMkZ2V0Q2h1biA6IF90aGlzJG9wdGlvbnMuZ2V0Q2h1bmtTaXplID0gZGVmYXVsdE9wdGlvbnMuZ2V0Q2h1bmtTaXplO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGF0YSlbX2RhdGFdID0gZGF0YTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZpbGUpW19maWxlXSA9IG9wdGlvbnMuZmlsZTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29uU3VjY2VzcylbX29uU3VjY2Vzc10gPSB0aGlzLm9wdGlvbnMub25TdWNjZXNzO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25FcnJvcilbX29uRXJyb3JdID0gdGhpcy5vcHRpb25zLm9uRXJyb3I7XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2luaXRDaHVua3MpW19pbml0Q2h1bmtzXSgpO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdXBsb2FkUHJvbWlzZSlbX3VwbG9hZFByb21pc2VdKSB7XG4gICAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWJvcnRDb250cm9sbGVyKVtfYWJvcnRDb250cm9sbGVyXS5zaWduYWwuYWJvcnRlZCkgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hYm9ydENvbnRyb2xsZXIpW19hYm9ydENvbnRyb2xsZXJdLmFib3J0KHBhdXNpbmdVcGxvYWRSZWFzb24pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hYm9ydENvbnRyb2xsZXIpW19hYm9ydENvbnRyb2xsZXJdID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Jlc3VtZVVwbG9hZClbX3Jlc3VtZVVwbG9hZF0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jcmVhdGVVcGxvYWQpW19jcmVhdGVVcGxvYWRdKCk7XG4gICAgfVxuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hYm9ydENvbnRyb2xsZXIpW19hYm9ydENvbnRyb2xsZXJdLmFib3J0KHBhdXNpbmdVcGxvYWRSZWFzb24pOyAvLyBTd2FwIGl0IG91dCBmb3IgYSBuZXcgY29udHJvbGxlciwgYmVjYXVzZSB0aGlzIGluc3RhbmNlIG1heSBiZSByZXN1bWVkIGxhdGVyLlxuXG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2Fib3J0Q29udHJvbGxlcilbX2Fib3J0Q29udHJvbGxlcl0gPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIH1cblxuICBhYm9ydChvcHRzKSB7XG4gICAgdmFyIF9vcHRzO1xuXG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoKF9vcHRzID0gb3B0cykgIT0gbnVsbCAmJiBfb3B0cy5yZWFsbHkpIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWJvcnRVcGxvYWQpW19hYm9ydFVwbG9hZF0oKTtlbHNlIHRoaXMucGF1c2UoKTtcbiAgfSAvLyBUT0RPOiByZW1vdmUgdGhpcyBpbiB0aGUgbmV4dCBtYWpvclxuXG5cbiAgZ2V0IGNodW5rU3RhdGUoKSB7XG4gICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2h1bmtTdGF0ZSlbX2NodW5rU3RhdGVdO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gX2luaXRDaHVua3MyKCkge1xuICBjb25zdCBkZXNpcmVkQ2h1bmtTaXplID0gdGhpcy5vcHRpb25zLmdldENodW5rU2l6ZShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RhdGEpW19kYXRhXSk7IC8vIGF0IGxlYXN0IDVNQiBwZXIgcmVxdWVzdCwgYXQgbW9zdCAxMGsgcmVxdWVzdHNcblxuICBjb25zdCBmaWxlU2l6ZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGF0YSlbX2RhdGFdLnNpemU7XG5cbiAgY29uc3QgbWluQ2h1bmtTaXplID0gTWF0aC5tYXgoNSAqIE1CLCBNYXRoLmNlaWwoZmlsZVNpemUgLyAxMDAwMCkpO1xuICBjb25zdCBjaHVua1NpemUgPSBNYXRoLm1heChkZXNpcmVkQ2h1bmtTaXplLCBtaW5DaHVua1NpemUpOyAvLyBVcGxvYWQgemVyby1zaXplZCBmaWxlcyBpbiBvbmUgemVyby1zaXplZCBjaHVua1xuXG4gIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RhdGEpW19kYXRhXS5zaXplID09PSAwKSB7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jaHVua3MpW19jaHVua3NdID0gW19jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGF0YSlbX2RhdGFdXTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RhdGEpW19kYXRhXS5vblByb2dyZXNzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vblBhcnRQcm9ncmVzcylbX29uUGFydFByb2dyZXNzXSgwKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RhdGEpW19kYXRhXS5vbkNvbXBsZXRlID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vblBhcnRDb21wbGV0ZSlbX29uUGFydENvbXBsZXRlXSgwKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBhcnJheVNpemUgPSBNYXRoLmNlaWwoZmlsZVNpemUgLyBjaHVua1NpemUpO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2h1bmtzKVtfY2h1bmtzXSA9IEFycmF5KGFycmF5U2l6ZSk7XG4gICAgbGV0IGogPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlU2l6ZTsgaSArPSBjaHVua1NpemUpIHtcbiAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKGZpbGVTaXplLCBpICsgY2h1bmtTaXplKTtcblxuICAgICAgY29uc3QgY2h1bmsgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RhdGEpW19kYXRhXS5zbGljZShpLCBlbmQpO1xuXG4gICAgICBjaHVuay5vblByb2dyZXNzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vblBhcnRQcm9ncmVzcylbX29uUGFydFByb2dyZXNzXShqKTtcbiAgICAgIGNodW5rLm9uQ29tcGxldGUgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29uUGFydENvbXBsZXRlKVtfb25QYXJ0Q29tcGxldGVdKGopO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jaHVua3MpW19jaHVua3NdW2orK10gPSBjaHVuaztcbiAgICB9XG4gIH1cblxuICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NodW5rU3RhdGUpW19jaHVua1N0YXRlXSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2h1bmtzKVtfY2h1bmtzXS5tYXAoKCkgPT4gKHtcbiAgICB1cGxvYWRlZDogMFxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVVcGxvYWQyKCkge1xuICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3VwbG9hZFByb21pc2UpW191cGxvYWRQcm9taXNlXSA9IHRoaXMub3B0aW9ucy5jb21wYW5pb25Db21tLnVwbG9hZEZpbGUoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9maWxlKVtfZmlsZV0sIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2h1bmtzKVtfY2h1bmtzXSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hYm9ydENvbnRyb2xsZXIpW19hYm9ydENvbnRyb2xsZXJdLnNpZ25hbCkudGhlbihfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29uU3VjY2VzcylbX29uU3VjY2Vzc10sIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25SZWplY3QpW19vblJlamVjdF0pO1xufVxuXG5mdW5jdGlvbiBfcmVzdW1lVXBsb2FkMigpIHtcbiAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF91cGxvYWRQcm9taXNlKVtfdXBsb2FkUHJvbWlzZV0gPSB0aGlzLm9wdGlvbnMuY29tcGFuaW9uQ29tbS5yZXN1bWVVcGxvYWRGaWxlKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZmlsZSlbX2ZpbGVdLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NodW5rcylbX2NodW5rc10sIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWJvcnRDb250cm9sbGVyKVtfYWJvcnRDb250cm9sbGVyXS5zaWduYWwpLnRoZW4oX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vblN1Y2Nlc3MpW19vblN1Y2Nlc3NdLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29uUmVqZWN0KVtfb25SZWplY3RdKTtcbn1cblxuZnVuY3Rpb24gX2Fib3J0VXBsb2FkMigpIHtcbiAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hYm9ydENvbnRyb2xsZXIpW19hYm9ydENvbnRyb2xsZXJdLmFib3J0KCk7XG5cbiAgdGhpcy5vcHRpb25zLmNvbXBhbmlvbkNvbW0uYWJvcnRGaWxlVXBsb2FkKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZmlsZSlbX2ZpbGVdKS5jYXRjaChlcnIgPT4gdGhpcy5vcHRpb25zLmxvZyhlcnIpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTXVsdGlwYXJ0VXBsb2FkZXI7IiwibGV0IF9TeW1ib2wkZm9yO1xuXG5mdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVjZWl2ZXIsIHByaXZhdGVLZXkpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gdXNlIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpOyB9IHJldHVybiByZWNlaXZlcjsgfVxuXG52YXIgaWQgPSAwO1xuXG5mdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShuYW1lKSB7IHJldHVybiBcIl9fcHJpdmF0ZV9cIiArIGlkKysgKyBcIl9cIiArIG5hbWU7IH1cblxuaW1wb3J0IEJhc2VQbHVnaW4gZnJvbSAnQHVwcHkvY29yZS9saWIvQmFzZVBsdWdpbi5qcyc7XG5pbXBvcnQgeyBTb2NrZXQsIFByb3ZpZGVyLCBSZXF1ZXN0Q2xpZW50IH0gZnJvbSAnQHVwcHkvY29tcGFuaW9uLWNsaWVudCc7XG5pbXBvcnQgRXZlbnRUcmFja2VyIGZyb20gJ0B1cHB5L3V0aWxzL2xpYi9FdmVudFRyYWNrZXInO1xuaW1wb3J0IGVtaXRTb2NrZXRQcm9ncmVzcyBmcm9tICdAdXBweS91dGlscy9saWIvZW1pdFNvY2tldFByb2dyZXNzJztcbmltcG9ydCBnZXRTb2NrZXRIb3N0IGZyb20gJ0B1cHB5L3V0aWxzL2xpYi9nZXRTb2NrZXRIb3N0JztcbmltcG9ydCB7IFJhdGVMaW1pdGVkUXVldWUgfSBmcm9tICdAdXBweS91dGlscy9saWIvUmF0ZUxpbWl0ZWRRdWV1ZSc7XG5pbXBvcnQgeyBjcmVhdGVBYm9ydEVycm9yIH0gZnJvbSAnQHVwcHkvdXRpbHMvbGliL0Fib3J0Q29udHJvbGxlcic7XG5jb25zdCBwYWNrYWdlSnNvbiA9IHtcbiAgXCJ2ZXJzaW9uXCI6IFwiMy4xLjNcIlxufTtcbmltcG9ydCBNdWx0aXBhcnRVcGxvYWRlciBmcm9tICcuL011bHRpcGFydFVwbG9hZGVyLmpzJztcblxuZnVuY3Rpb24gYXNzZXJ0U2VydmVyRXJyb3IocmVzKSB7XG4gIGlmIChyZXMgJiYgcmVzLmVycm9yKSB7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IocmVzLm1lc3NhZ2UpO1xuICAgIE9iamVjdC5hc3NpZ24oZXJyb3IsIHJlcy5lcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiB0aHJvd0lmQWJvcnRlZChzaWduYWwpIHtcbiAgaWYgKHNpZ25hbCAhPSBudWxsICYmIHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgdGhyb3cgY3JlYXRlQWJvcnRFcnJvcignVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZCcsIHtcbiAgICAgIGNhdXNlOiBzaWduYWwucmVhc29uXG4gICAgfSk7XG4gIH1cbn1cblxudmFyIF9hYm9ydE11bHRpcGFydFVwbG9hZCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFib3J0TXVsdGlwYXJ0VXBsb2FkXCIpO1xuXG52YXIgX2NhY2hlID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiY2FjaGVcIik7XG5cbnZhciBfY3JlYXRlTXVsdGlwYXJ0VXBsb2FkID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiY3JlYXRlTXVsdGlwYXJ0VXBsb2FkXCIpO1xuXG52YXIgX2ZldGNoU2lnbmF0dXJlID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZmV0Y2hTaWduYXR1cmVcIik7XG5cbnZhciBfbGlzdFBhcnRzID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibGlzdFBhcnRzXCIpO1xuXG52YXIgX3ByZXZpb3VzUmV0cnlEZWxheSA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInByZXZpb3VzUmV0cnlEZWxheVwiKTtcblxudmFyIF9yZXF1ZXN0cyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlcXVlc3RzXCIpO1xuXG52YXIgX3JldHJ5RGVsYXlJdGVyYXRvciA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJldHJ5RGVsYXlJdGVyYXRvclwiKTtcblxudmFyIF9zZW5kQ29tcGxldGlvblJlcXVlc3QgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZW5kQ29tcGxldGlvblJlcXVlc3RcIik7XG5cbnZhciBfc2V0UzNNdWx0aXBhcnRTdGF0ZSA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNldFMzTXVsdGlwYXJ0U3RhdGVcIik7XG5cbnZhciBfdXBsb2FkUGFydEJ5dGVzID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwidXBsb2FkUGFydEJ5dGVzXCIpO1xuXG52YXIgX3Nob3VsZFJldHJ5ID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2hvdWxkUmV0cnlcIik7XG5cbmNsYXNzIEhUVFBDb21tdW5pY2F0aW9uUXVldWUge1xuICBjb25zdHJ1Y3RvcihfcmVxdWVzdHMyLCBvcHRpb25zLCBzZXRTM011bHRpcGFydFN0YXRlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zaG91bGRSZXRyeSwge1xuICAgICAgdmFsdWU6IF9zaG91bGRSZXRyeTJcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2Fib3J0TXVsdGlwYXJ0VXBsb2FkLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2NhY2hlLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBuZXcgV2Vha01hcCgpXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9jcmVhdGVNdWx0aXBhcnRVcGxvYWQsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZmV0Y2hTaWduYXR1cmUsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbGlzdFBhcnRzLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3ByZXZpb3VzUmV0cnlEZWxheSwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdm9pZCAwXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZXF1ZXN0cywge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdm9pZCAwXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZXRyeURlbGF5SXRlcmF0b3IsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2VuZENvbXBsZXRpb25SZXF1ZXN0LCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3NldFMzTXVsdGlwYXJ0U3RhdGUsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfdXBsb2FkUGFydEJ5dGVzLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3RzKVtfcmVxdWVzdHNdID0gX3JlcXVlc3RzMjtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NldFMzTXVsdGlwYXJ0U3RhdGUpW19zZXRTM011bHRpcGFydFN0YXRlXSA9IHNldFMzTXVsdGlwYXJ0U3RhdGU7XG4gICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICB9XG5cbiAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgY29uc3QgcmVxdWVzdHMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3RzKVtfcmVxdWVzdHNdO1xuXG4gICAgaWYgKCdhYm9ydE11bHRpcGFydFVwbG9hZCcgaW4gb3B0aW9ucykge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hYm9ydE11bHRpcGFydFVwbG9hZClbX2Fib3J0TXVsdGlwYXJ0VXBsb2FkXSA9IHJlcXVlc3RzLndyYXBQcm9taXNlRnVuY3Rpb24ob3B0aW9ucy5hYm9ydE11bHRpcGFydFVwbG9hZCk7XG4gICAgfVxuXG4gICAgaWYgKCdjcmVhdGVNdWx0aXBhcnRVcGxvYWQnIGluIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY3JlYXRlTXVsdGlwYXJ0VXBsb2FkKVtfY3JlYXRlTXVsdGlwYXJ0VXBsb2FkXSA9IHJlcXVlc3RzLndyYXBQcm9taXNlRnVuY3Rpb24ob3B0aW9ucy5jcmVhdGVNdWx0aXBhcnRVcGxvYWQsIHtcbiAgICAgICAgcHJpb3JpdHk6IC0xXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoJ3NpZ25QYXJ0JyBpbiBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZldGNoU2lnbmF0dXJlKVtfZmV0Y2hTaWduYXR1cmVdID0gcmVxdWVzdHMud3JhcFByb21pc2VGdW5jdGlvbihvcHRpb25zLnNpZ25QYXJ0KTtcbiAgICB9XG5cbiAgICBpZiAoJ2xpc3RQYXJ0cycgaW4gb3B0aW9ucykge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9saXN0UGFydHMpW19saXN0UGFydHNdID0gcmVxdWVzdHMud3JhcFByb21pc2VGdW5jdGlvbihvcHRpb25zLmxpc3RQYXJ0cyk7XG4gICAgfVxuXG4gICAgaWYgKCdjb21wbGV0ZU11bHRpcGFydFVwbG9hZCcgaW4gb3B0aW9ucykge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZW5kQ29tcGxldGlvblJlcXVlc3QpW19zZW5kQ29tcGxldGlvblJlcXVlc3RdID0gcmVxdWVzdHMud3JhcFByb21pc2VGdW5jdGlvbihvcHRpb25zLmNvbXBsZXRlTXVsdGlwYXJ0VXBsb2FkKTtcbiAgICB9XG5cbiAgICBpZiAoJ3JldHJ5RGVsYXlzJyBpbiBvcHRpb25zKSB7XG4gICAgICB2YXIgX29wdGlvbnMkcmV0cnlEZWxheXM7XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmV0cnlEZWxheUl0ZXJhdG9yKVtfcmV0cnlEZWxheUl0ZXJhdG9yXSA9IChfb3B0aW9ucyRyZXRyeURlbGF5cyA9IG9wdGlvbnMucmV0cnlEZWxheXMpID09IG51bGwgPyB2b2lkIDAgOiBfb3B0aW9ucyRyZXRyeURlbGF5cy52YWx1ZXMoKTtcbiAgICB9XG5cbiAgICBpZiAoJ3VwbG9hZFBhcnRCeXRlcycgaW4gb3B0aW9ucykge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF91cGxvYWRQYXJ0Qnl0ZXMpW191cGxvYWRQYXJ0Qnl0ZXNdID0gcmVxdWVzdHMud3JhcFByb21pc2VGdW5jdGlvbihvcHRpb25zLnVwbG9hZFBhcnRCeXRlcywge1xuICAgICAgICBwcmlvcml0eTogSW5maW5pdHlcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFVwbG9hZElkKGZpbGUsIHNpZ25hbCkge1xuICAgIGNvbnN0IGNhY2hlZFJlc3VsdCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2FjaGUpW19jYWNoZV0uZ2V0KGZpbGUuZGF0YSk7XG5cbiAgICBpZiAoY2FjaGVkUmVzdWx0ICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBjYWNoZWRSZXN1bHQ7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvbWlzZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY3JlYXRlTXVsdGlwYXJ0VXBsb2FkKVtfY3JlYXRlTXVsdGlwYXJ0VXBsb2FkXShmaWxlLCBzaWduYWwpO1xuXG4gICAgY29uc3QgYWJvcnRQcm9taXNlID0gKCkgPT4ge1xuICAgICAgcHJvbWlzZS5hYm9ydChzaWduYWwucmVhc29uKTtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jYWNoZSlbX2NhY2hlXS5kZWxldGUoZmlsZS5kYXRhKTtcbiAgICB9O1xuXG4gICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRQcm9taXNlLCB7XG4gICAgICBvbmNlOiB0cnVlXG4gICAgfSk7XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NhY2hlKVtfY2FjaGVdLnNldChmaWxlLmRhdGEsIHByb21pc2UpO1xuXG4gICAgcHJvbWlzZS50aGVuKGFzeW5jIHJlc3VsdCA9PiB7XG4gICAgICBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydFByb21pc2UpO1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NldFMzTXVsdGlwYXJ0U3RhdGUpW19zZXRTM011bHRpcGFydFN0YXRlXShmaWxlLCByZXN1bHQpO1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NhY2hlKVtfY2FjaGVdLnNldChmaWxlLmRhdGEsIHJlc3VsdCk7XG4gICAgfSwgKCkgPT4ge1xuICAgICAgc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRQcm9taXNlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGFzeW5jIGFib3J0RmlsZVVwbG9hZChmaWxlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jYWNoZSlbX2NhY2hlXS5nZXQoZmlsZS5kYXRhKTtcblxuICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgLy8gSWYgdGhlIGNyZWF0ZU11bHRpcGFydFVwbG9hZCByZXF1ZXN0IG5ldmVyIHdhcyBtYWRlLCB3ZSBkb24ndFxuICAgICAgLy8gbmVlZCB0byBzZW5kIHRoZSBhYm9ydE11bHRpcGFydFVwbG9hZCByZXF1ZXN0LlxuICAgICAgYXdhaXQgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hYm9ydE11bHRpcGFydFVwbG9hZClbX2Fib3J0TXVsdGlwYXJ0VXBsb2FkXShmaWxlLCBhd2FpdCByZXN1bHQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVwbG9hZEZpbGUoZmlsZSwgY2h1bmtzLCBzaWduYWwpIHtcbiAgICB0aHJvd0lmQWJvcnRlZChzaWduYWwpO1xuICAgIGNvbnN0IHtcbiAgICAgIHVwbG9hZElkLFxuICAgICAga2V5XG4gICAgfSA9IGF3YWl0IHRoaXMuZ2V0VXBsb2FkSWQoZmlsZSwgc2lnbmFsKTtcbiAgICB0aHJvd0lmQWJvcnRlZChzaWduYWwpO1xuICAgIGNvbnN0IHBhcnRzID0gYXdhaXQgUHJvbWlzZS5hbGwoY2h1bmtzLm1hcCgoY2h1bmssIGkpID0+IHRoaXMudXBsb2FkQ2h1bmsoZmlsZSwgaSArIDEsIGNodW5rLCBzaWduYWwpKSk7XG4gICAgdGhyb3dJZkFib3J0ZWQoc2lnbmFsKTtcbiAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZW5kQ29tcGxldGlvblJlcXVlc3QpW19zZW5kQ29tcGxldGlvblJlcXVlc3RdKGZpbGUsIHtcbiAgICAgIGtleSxcbiAgICAgIHVwbG9hZElkLFxuICAgICAgcGFydHMsXG4gICAgICBzaWduYWxcbiAgICB9KS5hYm9ydE9uKHNpZ25hbCk7XG4gIH1cblxuICBhc3luYyByZXN1bWVVcGxvYWRGaWxlKGZpbGUsIGNodW5rcywgc2lnbmFsKSB7XG4gICAgdGhyb3dJZkFib3J0ZWQoc2lnbmFsKTtcbiAgICBjb25zdCB7XG4gICAgICB1cGxvYWRJZCxcbiAgICAgIGtleVxuICAgIH0gPSBhd2FpdCB0aGlzLmdldFVwbG9hZElkKGZpbGUsIHNpZ25hbCk7XG4gICAgdGhyb3dJZkFib3J0ZWQoc2lnbmFsKTtcbiAgICBjb25zdCBhbHJlYWR5VXBsb2FkZWRQYXJ0cyA9IGF3YWl0IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbGlzdFBhcnRzKVtfbGlzdFBhcnRzXShmaWxlLCB7XG4gICAgICB1cGxvYWRJZCxcbiAgICAgIGtleSxcbiAgICAgIHNpZ25hbFxuICAgIH0pLmFib3J0T24oc2lnbmFsKTtcbiAgICB0aHJvd0lmQWJvcnRlZChzaWduYWwpO1xuICAgIGNvbnN0IHBhcnRzID0gYXdhaXQgUHJvbWlzZS5hbGwoY2h1bmtzLm1hcCgoY2h1bmssIGkpID0+IHtcbiAgICAgIGNvbnN0IHBhcnROdW1iZXIgPSBpICsgMTtcbiAgICAgIGNvbnN0IGFscmVhZHlVcGxvYWRlZEluZm8gPSBhbHJlYWR5VXBsb2FkZWRQYXJ0cy5maW5kKF9yZWYgPT4ge1xuICAgICAgICBsZXQge1xuICAgICAgICAgIFBhcnROdW1iZXJcbiAgICAgICAgfSA9IF9yZWY7XG4gICAgICAgIHJldHVybiBQYXJ0TnVtYmVyID09PSBwYXJ0TnVtYmVyO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWxyZWFkeVVwbG9hZGVkSW5mbyA9PSBudWxsID8gdGhpcy51cGxvYWRDaHVuayhmaWxlLCBwYXJ0TnVtYmVyLCBjaHVuaywgc2lnbmFsKSA6IHtcbiAgICAgICAgUGFydE51bWJlcjogcGFydE51bWJlcixcbiAgICAgICAgRVRhZzogYWxyZWFkeVVwbG9hZGVkSW5mby5FVGFnXG4gICAgICB9O1xuICAgIH0pKTtcbiAgICB0aHJvd0lmQWJvcnRlZChzaWduYWwpO1xuICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NlbmRDb21wbGV0aW9uUmVxdWVzdClbX3NlbmRDb21wbGV0aW9uUmVxdWVzdF0oZmlsZSwge1xuICAgICAga2V5LFxuICAgICAgdXBsb2FkSWQsXG4gICAgICBwYXJ0cyxcbiAgICAgIHNpZ25hbFxuICAgIH0pLmFib3J0T24oc2lnbmFsKTtcbiAgfVxuXG4gIGFzeW5jIHVwbG9hZENodW5rKGZpbGUsIHBhcnROdW1iZXIsIGJvZHksIHNpZ25hbCkge1xuICAgIHRocm93SWZBYm9ydGVkKHNpZ25hbCk7XG4gICAgY29uc3Qge1xuICAgICAgdXBsb2FkSWQsXG4gICAgICBrZXlcbiAgICB9ID0gYXdhaXQgdGhpcy5nZXRVcGxvYWRJZChmaWxlLCBzaWduYWwpO1xuICAgIHRocm93SWZBYm9ydGVkKHNpZ25hbCk7XG5cbiAgICBmb3IgKDs7KSB7XG4gICAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZldGNoU2lnbmF0dXJlKVtfZmV0Y2hTaWduYXR1cmVdKGZpbGUsIHtcbiAgICAgICAgdXBsb2FkSWQsXG4gICAgICAgIGtleSxcbiAgICAgICAgcGFydE51bWJlcixcbiAgICAgICAgYm9keSxcbiAgICAgICAgc2lnbmFsXG4gICAgICB9KS5hYm9ydE9uKHNpZ25hbCk7XG4gICAgICB0aHJvd0lmQWJvcnRlZChzaWduYWwpO1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIFBhcnROdW1iZXI6IHBhcnROdW1iZXIsXG4gICAgICAgICAgLi4uKGF3YWl0IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdXBsb2FkUGFydEJ5dGVzKVtfdXBsb2FkUGFydEJ5dGVzXShzaWduYXR1cmUsIGJvZHksIHNpZ25hbCkuYWJvcnRPbihzaWduYWwpKVxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmICghKGF3YWl0IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2hvdWxkUmV0cnkpW19zaG91bGRSZXRyeV0oZXJyKSkpIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuXG5hc3luYyBmdW5jdGlvbiBfc2hvdWxkUmV0cnkyKGVycikge1xuICB2YXIgX2VyciRzb3VyY2U7XG5cbiAgY29uc3QgcmVxdWVzdHMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3RzKVtfcmVxdWVzdHNdO1xuXG4gIGNvbnN0IHN0YXR1cyA9IGVyciA9PSBudWxsID8gdm9pZCAwIDogKF9lcnIkc291cmNlID0gZXJyLnNvdXJjZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lcnIkc291cmNlLnN0YXR1czsgLy8gVE9ETzogdGhpcyByZXRyeSBsb2dpYyBpcyB0YWtlbiBvdXQgb2YgVHVzLiBXZSBzaG91bGQgaGF2ZSBhIGNlbnRyYWxpemVkIHBsYWNlIGZvciByZXRyeWluZyxcbiAgLy8gcGVyaGFwcyB0aGUgcmF0ZSBsaW1pdGVkIHF1ZXVlLCBhbmQgZGVkdXBlIGFsbCBwbHVnaW5zIHdpdGggdGhhdC5cblxuICBpZiAoc3RhdHVzID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoc3RhdHVzID09PSA0MDMgJiYgZXJyLm1lc3NhZ2UgPT09ICdSZXF1ZXN0IGhhcyBleHBpcmVkJykge1xuICAgIGlmICghcmVxdWVzdHMuaXNQYXVzZWQpIHtcbiAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gZXhoYXVzdCB0aGUgcmV0cnlEZWxheUl0ZXJhdG9yIGFzIGxvbmcgYXMgdGhlcmUgYXJlXG4gICAgICAvLyBtb3JlIHRoYW4gb25lIHJlcXVlc3QgaW4gcGFyYWxsZWwsIHRvIGdpdmUgc2xvd2VyIGNvbm5lY3Rpb24gYSBjaGFuY2VcbiAgICAgIC8vIHRvIGNhdGNoIHVwIHdpdGggdGhlIGV4cGlyeSBzZXQgaW4gQ29tcGFuaW9uLlxuICAgICAgaWYgKHJlcXVlc3RzLmxpbWl0ID09PSAxIHx8IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJldmlvdXNSZXRyeURlbGF5KVtfcHJldmlvdXNSZXRyeURlbGF5XSA9PSBudWxsKSB7XG4gICAgICAgIHZhciBfY2xhc3NQcml2YXRlRmllbGRMb287XG5cbiAgICAgICAgY29uc3QgbmV4dCA9IChfY2xhc3NQcml2YXRlRmllbGRMb28gPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JldHJ5RGVsYXlJdGVyYXRvcilbX3JldHJ5RGVsYXlJdGVyYXRvcl0pID09IG51bGwgPyB2b2lkIDAgOiBfY2xhc3NQcml2YXRlRmllbGRMb28ubmV4dCgpO1xuXG4gICAgICAgIGlmIChuZXh0ID09IG51bGwgfHwgbmV4dC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IC8vIElmIHRoZXJlIGFyZSBtb3JlIHRoYW4gMSByZXF1ZXN0IGRvbmUgaW4gcGFyYWxsZWwsIHRoZSBSTFEgbGltaXQgaXNcbiAgICAgICAgLy8gZGVjcmVhc2VkIGFuZCB0aGUgZmFpbGVkIHJlcXVlc3QgaXMgcmVxdWV1ZWQgYWZ0ZXIgd2FpdGluZyBmb3IgYSBiaXQuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG9ubHkgb25lIHJlcXVlc3QgaW4gcGFyYWxsZWwsIHRoZSBsaW1pdCBjYW4ndCBiZVxuICAgICAgICAvLyBkZWNyZWFzZWQsIHNvIHdlIGl0ZXJhdGUgb3ZlciBgcmV0cnlEZWxheUl0ZXJhdG9yYCBhcyB3ZSBkbyBmb3JcbiAgICAgICAgLy8gb3RoZXIgZmFpbHVyZXMuXG4gICAgICAgIC8vIGAjcHJldmlvdXNSZXRyeURlbGF5YCBjYWNoZXMgdGhlIHZhbHVlIHNvIHdlIGNhbiByZS11c2UgaXQgbmV4dCB0aW1lLlxuXG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcmV2aW91c1JldHJ5RGVsYXkpW19wcmV2aW91c1JldHJ5RGVsYXldID0gbmV4dC52YWx1ZTtcbiAgICAgIH0gLy8gTm8gbmVlZCB0byBzdG9wIHRoZSBvdGhlciByZXF1ZXN0cywgd2UganVzdCB3YW50IHRvIGxvd2VyIHRoZSBsaW1pdC5cblxuXG4gICAgICByZXF1ZXN0cy5yYXRlTGltaXQoMCk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcmV2aW91c1JldHJ5RGVsYXkpW19wcmV2aW91c1JldHJ5RGVsYXldKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gNDI5KSB7XG4gICAgLy8gSFRUUCA0MjkgVG9vIE1hbnkgUmVxdWVzdHMgPT4gdG8gYXZvaWQgdGhlIHdob2xlIGRvd25sb2FkIHRvIGZhaWwsIHBhdXNlIGFsbCByZXF1ZXN0cy5cbiAgICBpZiAoIXJlcXVlc3RzLmlzUGF1c2VkKSB7XG4gICAgICB2YXIgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vMjtcblxuICAgICAgY29uc3QgbmV4dCA9IChfY2xhc3NQcml2YXRlRmllbGRMb28yID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXRyeURlbGF5SXRlcmF0b3IpW19yZXRyeURlbGF5SXRlcmF0b3JdKSA9PSBudWxsID8gdm9pZCAwIDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vMi5uZXh0KCk7XG5cbiAgICAgIGlmIChuZXh0ID09IG51bGwgfHwgbmV4dC5kb25lKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdHMucmF0ZUxpbWl0KG5leHQudmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzdGF0dXMgPiA0MDAgJiYgc3RhdHVzIDwgNTAwICYmIHN0YXR1cyAhPT0gNDA5KSB7XG4gICAgLy8gSFRUUCA0eHgsIHRoZSBzZXJ2ZXIgd29uJ3Qgc2VuZCBhbnl0aGluZywgaXQncyBkb2Vzbid0IG1ha2Ugc2Vuc2UgdG8gcmV0cnlcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLm9uTGluZSA9PT0gZmFsc2UpIHtcbiAgICAvLyBUaGUgbmF2aWdhdG9yIGlzIG9mZmxpbmUsIGxldCdzIHdhaXQgZm9yIGl0IHRvIGNvbWUgYmFjayBvbmxpbmUuXG4gICAgaWYgKCFyZXF1ZXN0cy5pc1BhdXNlZCkge1xuICAgICAgcmVxdWVzdHMucGF1c2UoKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCAoKSA9PiB7XG4gICAgICAgIHJlcXVlc3RzLnJlc3VtZSgpO1xuICAgICAgfSwge1xuICAgICAgICBvbmNlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIF9jbGFzc1ByaXZhdGVGaWVsZExvbzM7XG5cbiAgICAvLyBPdGhlciBlcnJvciBjb2RlIG1lYW5zIHRoZSByZXF1ZXN0IGNhbiBiZSByZXRyaWVkIGxhdGVyLlxuICAgIGNvbnN0IG5leHQgPSAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vMyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmV0cnlEZWxheUl0ZXJhdG9yKVtfcmV0cnlEZWxheUl0ZXJhdG9yXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jbGFzc1ByaXZhdGVGaWVsZExvbzMubmV4dCgpO1xuXG4gICAgaWYgKG5leHQgPT0gbnVsbCB8fCBuZXh0LmRvbmUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbmV4dC52YWx1ZSkpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbnZhciBfcXVldWVSZXF1ZXN0U29ja2V0VG9rZW4gPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJxdWV1ZVJlcXVlc3RTb2NrZXRUb2tlblwiKTtcblxudmFyIF9jb21wYW5pb25Db21tdW5pY2F0aW9uUXVldWUgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJjb21wYW5pb25Db21tdW5pY2F0aW9uUXVldWVcIik7XG5cbnZhciBfY2xpZW50ID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiY2xpZW50XCIpO1xuXG52YXIgX3NldFMzTXVsdGlwYXJ0U3RhdGUyID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2V0UzNNdWx0aXBhcnRTdGF0ZVwiKTtcblxudmFyIF9yZXF1ZXN0U29ja2V0VG9rZW4gPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXF1ZXN0U29ja2V0VG9rZW5cIik7XG5cbnZhciBfc2V0Q29tcGFuaW9uSGVhZGVycyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNldENvbXBhbmlvbkhlYWRlcnNcIik7XG5cbl9TeW1ib2wkZm9yID0gU3ltYm9sLmZvcigndXBweSB0ZXN0OiBnZXRDbGllbnQnKTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF3c1MzTXVsdGlwYXJ0IGV4dGVuZHMgQmFzZVBsdWdpbiB7XG4gIGNvbnN0cnVjdG9yKHVwcHksIF9vcHRzKSB7XG4gICAgdmFyIF90aGlzJG9wdHMkcmF0ZUxpbWl0ZTtcblxuICAgIHN1cGVyKHVwcHksIF9vcHRzKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3F1ZXVlUmVxdWVzdFNvY2tldFRva2VuLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2NvbXBhbmlvbkNvbW11bmljYXRpb25RdWV1ZSwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdm9pZCAwXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9jbGllbnQsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2V0UzNNdWx0aXBhcnRTdGF0ZTIsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IChmaWxlLCBfcmVmMikgPT4ge1xuICAgICAgICBsZXQge1xuICAgICAgICAgIGtleSxcbiAgICAgICAgICB1cGxvYWRJZFxuICAgICAgICB9ID0gX3JlZjI7XG4gICAgICAgIGNvbnN0IGNGaWxlID0gdGhpcy51cHB5LmdldEZpbGUoZmlsZS5pZCk7XG4gICAgICAgIHRoaXMudXBweS5zZXRGaWxlU3RhdGUoZmlsZS5pZCwge1xuICAgICAgICAgIHMzTXVsdGlwYXJ0OiB7IC4uLmNGaWxlLnMzTXVsdGlwYXJ0LFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdXBsb2FkSWRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcmVxdWVzdFNvY2tldFRva2VuLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBhc3luYyBmaWxlID0+IHtcbiAgICAgICAgY29uc3QgQ2xpZW50ID0gZmlsZS5yZW1vdGUucHJvdmlkZXJPcHRpb25zLnByb3ZpZGVyID8gUHJvdmlkZXIgOiBSZXF1ZXN0Q2xpZW50O1xuICAgICAgICBjb25zdCBjbGllbnQgPSBuZXcgQ2xpZW50KHRoaXMudXBweSwgZmlsZS5yZW1vdGUucHJvdmlkZXJPcHRpb25zKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHsgLi4udGhpcy5vcHRzXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGZpbGUudHVzKSB7XG4gICAgICAgICAgLy8gSW5zdGFsbCBmaWxlLXNwZWNpZmljIHVwbG9hZCBvdmVycmlkZXMuXG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRzLCBmaWxlLnR1cyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsZS5yZW1vdGUudXJsID09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb25uZWN0IHRvIGFuIHVuZGVmaW5lZCBVUkwnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNsaWVudC5wb3N0KGZpbGUucmVtb3RlLnVybCwgeyAuLi5maWxlLnJlbW90ZS5ib2R5LFxuICAgICAgICAgIHByb3RvY29sOiAnczMtbXVsdGlwYXJ0JyxcbiAgICAgICAgICBzaXplOiBmaWxlLmRhdGEuc2l6ZSxcbiAgICAgICAgICBtZXRhZGF0YTogZmlsZS5tZXRhXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzLnRva2VuO1xuICAgICAgfVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2V0Q29tcGFuaW9uSGVhZGVycywge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogKCkgPT4ge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NsaWVudClbX2NsaWVudF0uc2V0Q29tcGFuaW9uSGVhZGVycyh0aGlzLm9wdHMuY29tcGFuaW9uSGVhZGVycyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy50eXBlID0gJ3VwbG9hZGVyJztcbiAgICB0aGlzLmlkID0gdGhpcy5vcHRzLmlkIHx8ICdBd3NTM011bHRpcGFydCc7XG4gICAgdGhpcy50aXRsZSA9ICdBV1MgUzMgTXVsdGlwYXJ0JztcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NsaWVudClbX2NsaWVudF0gPSBuZXcgUmVxdWVzdENsaWVudCh1cHB5LCBfb3B0cyk7XG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAvLyBUT0RPOiB0aGlzIGlzIGN1cnJlbnRseSBvcHQtaW4gZm9yIGJhY2t3YXJkIGNvbXBhdCwgc3dpdGNoIHRvIG9wdC1vdXQgaW4gdGhlIG5leHQgbWFqb3JcbiAgICAgIGFsbG93ZWRNZXRhRmllbGRzOiBudWxsLFxuICAgICAgbGltaXQ6IDYsXG4gICAgICByZXRyeURlbGF5czogWzAsIDEwMDAsIDMwMDAsIDUwMDBdLFxuICAgICAgY3JlYXRlTXVsdGlwYXJ0VXBsb2FkOiB0aGlzLmNyZWF0ZU11bHRpcGFydFVwbG9hZC5iaW5kKHRoaXMpLFxuICAgICAgbGlzdFBhcnRzOiB0aGlzLmxpc3RQYXJ0cy5iaW5kKHRoaXMpLFxuICAgICAgYWJvcnRNdWx0aXBhcnRVcGxvYWQ6IHRoaXMuYWJvcnRNdWx0aXBhcnRVcGxvYWQuYmluZCh0aGlzKSxcbiAgICAgIGNvbXBsZXRlTXVsdGlwYXJ0VXBsb2FkOiB0aGlzLmNvbXBsZXRlTXVsdGlwYXJ0VXBsb2FkLmJpbmQodGhpcyksXG4gICAgICBzaWduUGFydDogdGhpcy5zaWduUGFydC5iaW5kKHRoaXMpLFxuICAgICAgdXBsb2FkUGFydEJ5dGVzOiBBd3NTM011bHRpcGFydC51cGxvYWRQYXJ0Qnl0ZXMsXG4gICAgICBjb21wYW5pb25IZWFkZXJzOiB7fVxuICAgIH07XG4gICAgdGhpcy5vcHRzID0geyAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIC4uLl9vcHRzXG4gICAgfTtcblxuICAgIGlmICgoX29wdHMgPT0gbnVsbCA/IHZvaWQgMCA6IF9vcHRzLnByZXBhcmVVcGxvYWRQYXJ0cykgIT0gbnVsbCAmJiBfb3B0cy5zaWduUGFydCA9PSBudWxsKSB7XG4gICAgICB0aGlzLm9wdHMuc2lnblBhcnQgPSBhc3luYyAoZmlsZSwgX3JlZjMpID0+IHtcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICB1cGxvYWRJZCxcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgcGFydE51bWJlcixcbiAgICAgICAgICBib2R5LFxuICAgICAgICAgIHNpZ25hbFxuICAgICAgICB9ID0gX3JlZjM7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBwcmVzaWduZWRVcmxzLFxuICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgfSA9IGF3YWl0IF9vcHRzLnByZXBhcmVVcGxvYWRQYXJ0cyhmaWxlLCB7XG4gICAgICAgICAgdXBsb2FkSWQsXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIHBhcnRzOiBbe1xuICAgICAgICAgICAgbnVtYmVyOiBwYXJ0TnVtYmVyLFxuICAgICAgICAgICAgY2h1bms6IGJvZHlcbiAgICAgICAgICB9XSxcbiAgICAgICAgICBzaWduYWxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdXJsOiBwcmVzaWduZWRVcmxzID09IG51bGwgPyB2b2lkIDAgOiBwcmVzaWduZWRVcmxzW3BhcnROdW1iZXJdLFxuICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IGhlYWRlcnNbcGFydE51bWJlcl1cbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy51cGxvYWQgPSB0aGlzLnVwbG9hZC5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFNpbXVsdGFuZW91cyB1cGxvYWQgbGltaXRpbmcgaXMgc2hhcmVkIGFjcm9zcyBhbGwgdXBsb2FkcyB3aXRoIHRoaXMgcGx1Z2luLlxuICAgICAqXG4gICAgICogQHR5cGUge1JhdGVMaW1pdGVkUXVldWV9XG4gICAgICovXG5cbiAgICB0aGlzLnJlcXVlc3RzID0gKF90aGlzJG9wdHMkcmF0ZUxpbWl0ZSA9IHRoaXMub3B0cy5yYXRlTGltaXRlZFF1ZXVlKSAhPSBudWxsID8gX3RoaXMkb3B0cyRyYXRlTGltaXRlIDogbmV3IFJhdGVMaW1pdGVkUXVldWUodGhpcy5vcHRzLmxpbWl0KTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NvbXBhbmlvbkNvbW11bmljYXRpb25RdWV1ZSlbX2NvbXBhbmlvbkNvbW11bmljYXRpb25RdWV1ZV0gPSBuZXcgSFRUUENvbW11bmljYXRpb25RdWV1ZSh0aGlzLnJlcXVlc3RzLCB0aGlzLm9wdHMsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0UzNNdWx0aXBhcnRTdGF0ZTIpW19zZXRTM011bHRpcGFydFN0YXRlMl0pO1xuICAgIHRoaXMudXBsb2FkZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLnVwbG9hZGVyRXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLnVwbG9hZGVyU29ja2V0cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9xdWV1ZVJlcXVlc3RTb2NrZXRUb2tlbilbX3F1ZXVlUmVxdWVzdFNvY2tldFRva2VuXSA9IHRoaXMucmVxdWVzdHMud3JhcFByb21pc2VGdW5jdGlvbihfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3RTb2NrZXRUb2tlbilbX3JlcXVlc3RTb2NrZXRUb2tlbl0sIHtcbiAgICAgIHByaW9yaXR5OiAtMVxuICAgIH0pO1xuICB9XG5cbiAgW19TeW1ib2wkZm9yXSgpIHtcbiAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jbGllbnQpW19jbGllbnRdO1xuICB9XG5cbiAgc2V0T3B0aW9ucyhuZXdPcHRpb25zKSB7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jb21wYW5pb25Db21tdW5pY2F0aW9uUXVldWUpW19jb21wYW5pb25Db21tdW5pY2F0aW9uUXVldWVdLnNldE9wdGlvbnMobmV3T3B0aW9ucyk7XG5cbiAgICByZXR1cm4gc3VwZXIuc2V0T3B0aW9ucyhuZXdPcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYW4gdXAgYWxsIHJlZmVyZW5jZXMgZm9yIGEgZmlsZSdzIHVwbG9hZDogdGhlIE11bHRpcGFydFVwbG9hZGVyIGluc3RhbmNlLFxuICAgKiBhbnkgZXZlbnRzIHJlbGF0ZWQgdG8gdGhlIGZpbGUsIGFuZCB0aGUgQ29tcGFuaW9uIFdlYlNvY2tldCBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBTZXQgYG9wdHMuYWJvcnRgIHRvIHRlbGwgUzMgdGhhdCB0aGUgbXVsdGlwYXJ0IHVwbG9hZCBpcyBjYW5jZWxsZWQgYW5kIG11c3QgYmUgcmVtb3ZlZC5cbiAgICogVGhpcyBzaG91bGQgYmUgZG9uZSB3aGVuIHRoZSB1c2VyIGNhbmNlbHMgdGhlIHVwbG9hZCwgbm90IHdoZW4gdGhlIHVwbG9hZCBpcyBjb21wbGV0ZWQgb3IgZXJyb3JlZC5cbiAgICovXG5cblxuICByZXNldFVwbG9hZGVyUmVmZXJlbmNlcyhmaWxlSUQsIG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudXBsb2FkZXJzW2ZpbGVJRF0pIHtcbiAgICAgIHRoaXMudXBsb2FkZXJzW2ZpbGVJRF0uYWJvcnQoe1xuICAgICAgICByZWFsbHk6IG9wdHMuYWJvcnQgfHwgZmFsc2VcbiAgICAgIH0pO1xuICAgICAgdGhpcy51cGxvYWRlcnNbZmlsZUlEXSA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudXBsb2FkZXJFdmVudHNbZmlsZUlEXSkge1xuICAgICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlSURdLnJlbW92ZSgpO1xuICAgICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlSURdID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy51cGxvYWRlclNvY2tldHNbZmlsZUlEXSkge1xuICAgICAgdGhpcy51cGxvYWRlclNvY2tldHNbZmlsZUlEXS5jbG9zZSgpO1xuICAgICAgdGhpcy51cGxvYWRlclNvY2tldHNbZmlsZUlEXSA9IG51bGw7XG4gICAgfVxuICB9IC8vIFRPRE86IG1ha2UgdGhpcyBhIHByaXZhdGUgbWV0aG9kIGluIHRoZSBuZXh0IG1ham9yXG5cblxuICBhc3NlcnRIb3N0KG1ldGhvZCkge1xuICAgIGlmICghdGhpcy5vcHRzLmNvbXBhbmlvblVybCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhIFxcYGNvbXBhbmlvblVybFxcYCBvcHRpb24gY29udGFpbmluZyBhIENvbXBhbmlvbiBhZGRyZXNzLCBvciBpZiB5b3UgYXJlIG5vdCB1c2luZyBDb21wYW5pb24sIGEgY3VzdG9tIFxcYCR7bWV0aG9kfVxcYCBpbXBsZW1lbnRhdGlvbi5gKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVNdWx0aXBhcnRVcGxvYWQoZmlsZSwgc2lnbmFsKSB7XG4gICAgdmFyIF90aGlzJG9wdHMkYWxsb3dlZE1ldDtcblxuICAgIHRoaXMuYXNzZXJ0SG9zdCgnY3JlYXRlTXVsdGlwYXJ0VXBsb2FkJyk7XG4gICAgdGhyb3dJZkFib3J0ZWQoc2lnbmFsKTtcbiAgICBjb25zdCBtZXRhZGF0YSA9IGZpbGUubWV0YSA/IE9iamVjdC5mcm9tRW50cmllcygoKF90aGlzJG9wdHMkYWxsb3dlZE1ldCA9IHRoaXMub3B0cy5hbGxvd2VkTWV0YUZpZWxkcykgIT0gbnVsbCA/IF90aGlzJG9wdHMkYWxsb3dlZE1ldCA6IE9iamVjdC5rZXlzKGZpbGUubWV0YSkpLmZpbHRlcihrZXkgPT4gZmlsZS5tZXRhW2tleV0gIT0gbnVsbCkubWFwKGtleSA9PiBba2V5LCBTdHJpbmcoZmlsZS5tZXRhW2tleV0pXSkpIDoge307XG4gICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2xpZW50KVtfY2xpZW50XS5wb3N0KCdzMy9tdWx0aXBhcnQnLCB7XG4gICAgICBmaWxlbmFtZTogZmlsZS5uYW1lLFxuICAgICAgdHlwZTogZmlsZS50eXBlLFxuICAgICAgbWV0YWRhdGFcbiAgICB9LCB7XG4gICAgICBzaWduYWxcbiAgICB9KS50aGVuKGFzc2VydFNlcnZlckVycm9yKTtcbiAgfVxuXG4gIGxpc3RQYXJ0cyhmaWxlLCBfcmVmNCwgc2lnbmFsKSB7XG4gICAgbGV0IHtcbiAgICAgIGtleSxcbiAgICAgIHVwbG9hZElkXG4gICAgfSA9IF9yZWY0O1xuICAgIHRoaXMuYXNzZXJ0SG9zdCgnbGlzdFBhcnRzJyk7XG4gICAgdGhyb3dJZkFib3J0ZWQoc2lnbmFsKTtcbiAgICBjb25zdCBmaWxlbmFtZSA9IGVuY29kZVVSSUNvbXBvbmVudChrZXkpO1xuICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NsaWVudClbX2NsaWVudF0uZ2V0KGBzMy9tdWx0aXBhcnQvJHt1cGxvYWRJZH0/a2V5PSR7ZmlsZW5hbWV9YCwge1xuICAgICAgc2lnbmFsXG4gICAgfSkudGhlbihhc3NlcnRTZXJ2ZXJFcnJvcik7XG4gIH1cblxuICBjb21wbGV0ZU11bHRpcGFydFVwbG9hZChmaWxlLCBfcmVmNSwgc2lnbmFsKSB7XG4gICAgbGV0IHtcbiAgICAgIGtleSxcbiAgICAgIHVwbG9hZElkLFxuICAgICAgcGFydHNcbiAgICB9ID0gX3JlZjU7XG4gICAgdGhpcy5hc3NlcnRIb3N0KCdjb21wbGV0ZU11bHRpcGFydFVwbG9hZCcpO1xuICAgIHRocm93SWZBYm9ydGVkKHNpZ25hbCk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBlbmNvZGVVUklDb21wb25lbnQoa2V5KTtcbiAgICBjb25zdCB1cGxvYWRJZEVuYyA9IGVuY29kZVVSSUNvbXBvbmVudCh1cGxvYWRJZCk7XG4gICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2xpZW50KVtfY2xpZW50XS5wb3N0KGBzMy9tdWx0aXBhcnQvJHt1cGxvYWRJZEVuY30vY29tcGxldGU/a2V5PSR7ZmlsZW5hbWV9YCwge1xuICAgICAgcGFydHNcbiAgICB9LCB7XG4gICAgICBzaWduYWxcbiAgICB9KS50aGVuKGFzc2VydFNlcnZlckVycm9yKTtcbiAgfVxuXG4gIHNpZ25QYXJ0KGZpbGUsIF9yZWY2KSB7XG4gICAgbGV0IHtcbiAgICAgIHVwbG9hZElkLFxuICAgICAga2V5LFxuICAgICAgcGFydE51bWJlcixcbiAgICAgIHNpZ25hbFxuICAgIH0gPSBfcmVmNjtcbiAgICB0aGlzLmFzc2VydEhvc3QoJ3NpZ25QYXJ0Jyk7XG4gICAgdGhyb3dJZkFib3J0ZWQoc2lnbmFsKTtcblxuICAgIGlmICh1cGxvYWRJZCA9PSBudWxsIHx8IGtleSA9PSBudWxsIHx8IHBhcnROdW1iZXIgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2lnbiB3aXRob3V0IGEga2V5LCBhbiB1cGxvYWRJZCwgYW5kIGEgcGFydE51bWJlcicpO1xuICAgIH1cblxuICAgIGNvbnN0IGZpbGVuYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSk7XG4gICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2xpZW50KVtfY2xpZW50XS5nZXQoYHMzL211bHRpcGFydC8ke3VwbG9hZElkfS8ke3BhcnROdW1iZXJ9P2tleT0ke2ZpbGVuYW1lfWAsIHtcbiAgICAgIHNpZ25hbFxuICAgIH0pLnRoZW4oYXNzZXJ0U2VydmVyRXJyb3IpO1xuICB9XG5cbiAgYWJvcnRNdWx0aXBhcnRVcGxvYWQoZmlsZSwgX3JlZjcsIHNpZ25hbCkge1xuICAgIGxldCB7XG4gICAgICBrZXksXG4gICAgICB1cGxvYWRJZFxuICAgIH0gPSBfcmVmNztcbiAgICB0aGlzLmFzc2VydEhvc3QoJ2Fib3J0TXVsdGlwYXJ0VXBsb2FkJyk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBlbmNvZGVVUklDb21wb25lbnQoa2V5KTtcbiAgICBjb25zdCB1cGxvYWRJZEVuYyA9IGVuY29kZVVSSUNvbXBvbmVudCh1cGxvYWRJZCk7XG4gICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2xpZW50KVtfY2xpZW50XS5kZWxldGUoYHMzL211bHRpcGFydC8ke3VwbG9hZElkRW5jfT9rZXk9JHtmaWxlbmFtZX1gLCB1bmRlZmluZWQsIHtcbiAgICAgIHNpZ25hbFxuICAgIH0pLnRoZW4oYXNzZXJ0U2VydmVyRXJyb3IpO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIHVwbG9hZFBhcnRCeXRlcyhfcmVmOCwgYm9keSwgc2lnbmFsKSB7XG4gICAgbGV0IHtcbiAgICAgIHVybCxcbiAgICAgIGV4cGlyZXMsXG4gICAgICBoZWFkZXJzXG4gICAgfSA9IF9yZWY4O1xuICAgIHRocm93SWZBYm9ydGVkKHNpZ25hbCk7XG5cbiAgICBpZiAodXJsID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHVwbG9hZCB0byBhbiB1bmRlZmluZWQgVVJMJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oJ1BVVCcsIHVybCwgdHJ1ZSk7XG5cbiAgICAgIGlmIChoZWFkZXJzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ3RleHQnO1xuXG4gICAgICBpZiAodHlwZW9mIGV4cGlyZXMgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHhoci50aW1lb3V0ID0gZXhwaXJlcyAqIDEwMDA7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uYWJvcnQoKSB7XG4gICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KTtcbiAgICAgIH1cblxuICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25hYm9ydCk7XG4gICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgYm9keS5vblByb2dyZXNzKTtcbiAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHtcbiAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICByZWplY3QoY3JlYXRlQWJvcnRFcnJvcigpKTtcbiAgICAgIH0pO1xuICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCAoKSA9PiB7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1JlcXVlc3QgaGFzIGV4cGlyZWQnKTtcbiAgICAgICAgZXJyb3Iuc291cmNlID0ge1xuICAgICAgICAgIHN0YXR1czogNDAzXG4gICAgICAgIH07XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZXYgPT4ge1xuICAgICAgICBjbGVhbnVwKCk7XG5cbiAgICAgICAgaWYgKGV2LnRhcmdldC5zdGF0dXMgPT09IDQwMyAmJiBldi50YXJnZXQucmVzcG9uc2VUZXh0LmluY2x1ZGVzKCc8TWVzc2FnZT5SZXF1ZXN0IGhhcyBleHBpcmVkPC9NZXNzYWdlPicpKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1JlcXVlc3QgaGFzIGV4cGlyZWQnKTtcbiAgICAgICAgICBlcnJvci5zb3VyY2UgPSBldi50YXJnZXQ7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXYudGFyZ2V0LnN0YXR1cyA8IDIwMCB8fCBldi50YXJnZXQuc3RhdHVzID49IDMwMCkge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdOb24gMnh4Jyk7XG4gICAgICAgICAgZXJyb3Iuc291cmNlID0gZXYudGFyZ2V0O1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYm9keS5vblByb2dyZXNzID09IG51bGwgPyB2b2lkIDAgOiBib2R5Lm9uUHJvZ3Jlc3MoYm9keS5zaXplKTsgLy8gTk9URSBUaGlzIG11c3QgYmUgYWxsb3dlZCBieSBDT1JTLlxuXG4gICAgICAgIGNvbnN0IGV0YWcgPSBldi50YXJnZXQuZ2V0UmVzcG9uc2VIZWFkZXIoJ0VUYWcnKTtcblxuICAgICAgICBpZiAoZXRhZyA9PT0gbnVsbCkge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0F3c1MzL011bHRpcGFydDogQ291bGQgbm90IHJlYWQgdGhlIEVUYWcgaGVhZGVyLiBUaGlzIGxpa2VseSBtZWFucyBDT1JTIGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseSBvbiB0aGUgUzMgQnVja2V0LiBTZWUgaHR0cHM6Ly91cHB5LmlvL2RvY3MvYXdzLXMzLW11bHRpcGFydCNTMy1CdWNrZXQtQ29uZmlndXJhdGlvbiBmb3IgaW5zdHJ1Y3Rpb25zLicpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBib2R5Lm9uQ29tcGxldGUgPT0gbnVsbCA/IHZvaWQgMCA6IGJvZHkub25Db21wbGV0ZShldGFnKTtcbiAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgRVRhZzogZXRhZ1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXYgPT4ge1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdVbmtub3duIGVycm9yJyk7XG4gICAgICAgIGVycm9yLnNvdXJjZSA9IGV2LnRhcmdldDtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH0pO1xuICAgICAgeGhyLnNlbmQoYm9keSk7XG4gICAgfSk7XG4gIH1cblxuICB1cGxvYWRGaWxlKGZpbGUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IG9uUHJvZ3Jlc3MgPSAoYnl0ZXNVcGxvYWRlZCwgYnl0ZXNUb3RhbCkgPT4ge1xuICAgICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLXByb2dyZXNzJywgZmlsZSwge1xuICAgICAgICAgIHVwbG9hZGVyOiB0aGlzLFxuICAgICAgICAgIGJ5dGVzVXBsb2FkZWQsXG4gICAgICAgICAgYnl0ZXNUb3RhbFxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG9uRXJyb3IgPSBlcnIgPT4ge1xuICAgICAgICB0aGlzLnVwcHkubG9nKGVycik7XG4gICAgICAgIHRoaXMudXBweS5lbWl0KCd1cGxvYWQtZXJyb3InLCBmaWxlLCBlcnIpO1xuICAgICAgICB0aGlzLnJlc2V0VXBsb2FkZXJSZWZlcmVuY2VzKGZpbGUuaWQpO1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG9uU3VjY2VzcyA9IHJlc3VsdCA9PiB7XG4gICAgICAgIGNvbnN0IHVwbG9hZE9iamVjdCA9IHVwbG9hZDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuXG4gICAgICAgIGNvbnN0IHVwbG9hZFJlc3AgPSB7XG4gICAgICAgICAgYm9keTogeyAuLi5yZXN1bHRcbiAgICAgICAgICB9LFxuICAgICAgICAgIHVwbG9hZFVSTDogcmVzdWx0LmxvY2F0aW9uXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVzZXRVcGxvYWRlclJlZmVyZW5jZXMoZmlsZS5pZCk7XG4gICAgICAgIGNvbnN0IGNGaWxlID0gdGhpcy51cHB5LmdldEZpbGUoZmlsZS5pZCk7XG4gICAgICAgIHRoaXMudXBweS5lbWl0KCd1cGxvYWQtc3VjY2VzcycsIGNGaWxlIHx8IGZpbGUsIHVwbG9hZFJlc3ApO1xuXG4gICAgICAgIGlmIChyZXN1bHQubG9jYXRpb24pIHtcbiAgICAgICAgICB0aGlzLnVwcHkubG9nKGBEb3dubG9hZCAke2ZpbGUubmFtZX0gZnJvbSAke3Jlc3VsdC5sb2NhdGlvbn1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc29sdmUodXBsb2FkT2JqZWN0KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG9uUGFydENvbXBsZXRlID0gcGFydCA9PiB7XG4gICAgICAgIGNvbnN0IGNGaWxlID0gdGhpcy51cHB5LmdldEZpbGUoZmlsZS5pZCk7XG5cbiAgICAgICAgaWYgKCFjRmlsZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBweS5lbWl0KCdzMy1tdWx0aXBhcnQ6cGFydC11cGxvYWRlZCcsIGNGaWxlLCBwYXJ0KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVwbG9hZCA9IG5ldyBNdWx0aXBhcnRVcGxvYWRlcihmaWxlLmRhdGEsIHtcbiAgICAgICAgLy8gLmJpbmQgdG8gcGFzcyB0aGUgZmlsZSBvYmplY3QgdG8gZWFjaCBoYW5kbGVyLlxuICAgICAgICBjb21wYW5pb25Db21tOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NvbXBhbmlvbkNvbW11bmljYXRpb25RdWV1ZSlbX2NvbXBhbmlvbkNvbW11bmljYXRpb25RdWV1ZV0sXG4gICAgICAgIGxvZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy51cHB5LmxvZyguLi5hcmd1bWVudHMpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRDaHVua1NpemU6IHRoaXMub3B0cy5nZXRDaHVua1NpemUgPyB0aGlzLm9wdHMuZ2V0Q2h1bmtTaXplLmJpbmQodGhpcykgOiBudWxsLFxuICAgICAgICBvblByb2dyZXNzLFxuICAgICAgICBvbkVycm9yLFxuICAgICAgICBvblN1Y2Nlc3MsXG4gICAgICAgIG9uUGFydENvbXBsZXRlLFxuICAgICAgICBmaWxlLFxuICAgICAgICAuLi5maWxlLnMzTXVsdGlwYXJ0XG4gICAgICB9KTtcbiAgICAgIHRoaXMudXBsb2FkZXJzW2ZpbGUuaWRdID0gdXBsb2FkO1xuICAgICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlLmlkXSA9IG5ldyBFdmVudFRyYWNrZXIodGhpcy51cHB5KTtcbiAgICAgIHRoaXMub25GaWxlUmVtb3ZlKGZpbGUuaWQsIHJlbW92ZWQgPT4ge1xuICAgICAgICB1cGxvYWQuYWJvcnQoKTtcbiAgICAgICAgdGhpcy5yZXNldFVwbG9hZGVyUmVmZXJlbmNlcyhmaWxlLmlkLCB7XG4gICAgICAgICAgYWJvcnQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc29sdmUoYHVwbG9hZCAke3JlbW92ZWQuaWR9IHdhcyByZW1vdmVkYCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMub25DYW5jZWxBbGwoZmlsZS5pZCwgZnVuY3Rpb24gKF90ZW1wKSB7XG4gICAgICAgIGxldCB7XG4gICAgICAgICAgcmVhc29uXG4gICAgICAgIH0gPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDtcblxuICAgICAgICBpZiAocmVhc29uID09PSAndXNlcicpIHtcbiAgICAgICAgICB1cGxvYWQuYWJvcnQoKTtcblxuICAgICAgICAgIF90aGlzLnJlc2V0VXBsb2FkZXJSZWZlcmVuY2VzKGZpbGUuaWQsIHtcbiAgICAgICAgICAgIGFib3J0OiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNvbHZlKGB1cGxvYWQgJHtmaWxlLmlkfSB3YXMgY2FuY2VsZWRgKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5vbkZpbGVQYXVzZShmaWxlLmlkLCBpc1BhdXNlZCA9PiB7XG4gICAgICAgIGlmIChpc1BhdXNlZCkge1xuICAgICAgICAgIHVwbG9hZC5wYXVzZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwbG9hZC5zdGFydCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMub25QYXVzZUFsbChmaWxlLmlkLCAoKSA9PiB7XG4gICAgICAgIHVwbG9hZC5wYXVzZSgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLm9uUmVzdW1lQWxsKGZpbGUuaWQsICgpID0+IHtcbiAgICAgICAgdXBsb2FkLnN0YXJ0KCk7XG4gICAgICB9KTsgLy8gRG9uJ3QgZG91YmxlLWVtaXQgdXBsb2FkLXN0YXJ0ZWQgZm9yIEdvbGRlbiBSZXRyaWV2ZXItcmVzdG9yZWQgZmlsZXMgdGhhdCB3ZXJlIGFscmVhZHkgc3RhcnRlZFxuXG4gICAgICBpZiAoIWZpbGUucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZCB8fCAhZmlsZS5pc1Jlc3RvcmVkKSB7XG4gICAgICAgIHVwbG9hZC5zdGFydCgpO1xuICAgICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLXN0YXJ0ZWQnLCBmaWxlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIE5PVEUhIEtlZXAgdGhpcyBkdXBsaWNhdGVkIGNvZGUgaW4gc3luYyB3aXRoIG90aGVyIHBsdWdpbnNcbiAgLy8gVE9ETyB3ZSBzaG91bGQgcHJvYmFibHkgYWJzdHJhY3QgdGhpcyBpbnRvIGEgY29tbW9uIGZ1bmN0aW9uXG4gIGFzeW5jIHVwbG9hZFJlbW90ZShmaWxlKSB7XG4gICAgdGhpcy5yZXNldFVwbG9hZGVyUmVmZXJlbmNlcyhmaWxlLmlkKTsgLy8gRG9uJ3QgZG91YmxlLWVtaXQgdXBsb2FkLXN0YXJ0ZWQgZm9yIEdvbGRlbiBSZXRyaWV2ZXItcmVzdG9yZWQgZmlsZXMgdGhhdCB3ZXJlIGFscmVhZHkgc3RhcnRlZFxuXG4gICAgaWYgKCFmaWxlLnByb2dyZXNzLnVwbG9hZFN0YXJ0ZWQgfHwgIWZpbGUuaXNSZXN0b3JlZCkge1xuICAgICAgdGhpcy51cHB5LmVtaXQoJ3VwbG9hZC1zdGFydGVkJywgZmlsZSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChmaWxlLnNlcnZlclRva2VuKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNvbm5lY3RUb1NlcnZlclNvY2tldChmaWxlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2VydmVyVG9rZW4gPSBhd2FpdCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3F1ZXVlUmVxdWVzdFNvY2tldFRva2VuKVtfcXVldWVSZXF1ZXN0U29ja2V0VG9rZW5dKGZpbGUpO1xuICAgICAgaWYgKCF0aGlzLnVwcHkuZ2V0U3RhdGUoKS5maWxlc1tmaWxlLmlkXSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIHRoaXMudXBweS5zZXRGaWxlU3RhdGUoZmlsZS5pZCwge1xuICAgICAgICBzZXJ2ZXJUb2tlblxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5jb25uZWN0VG9TZXJ2ZXJTb2NrZXQodGhpcy51cHB5LmdldEZpbGUoZmlsZS5pZCkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy51cHB5LnNldEZpbGVTdGF0ZShmaWxlLmlkLCB7XG4gICAgICAgIHNlcnZlclRva2VuOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgICAgdGhpcy51cHB5LmVtaXQoJ3VwbG9hZC1lcnJvcicsIGZpbGUsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY29ubmVjdFRvU2VydmVyU29ja2V0KGZpbGUpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgcXVldWVkUmVxdWVzdDtcbiAgICAgIGNvbnN0IHRva2VuID0gZmlsZS5zZXJ2ZXJUb2tlbjtcbiAgICAgIGNvbnN0IGhvc3QgPSBnZXRTb2NrZXRIb3N0KGZpbGUucmVtb3RlLmNvbXBhbmlvblVybCk7XG4gICAgICBjb25zdCBzb2NrZXQgPSBuZXcgU29ja2V0KHtcbiAgICAgICAgdGFyZ2V0OiBgJHtob3N0fS9hcGkvJHt0b2tlbn1gLFxuICAgICAgICBhdXRvT3BlbjogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgdGhpcy51cGxvYWRlclNvY2tldHNbZmlsZS5pZF0gPSBzb2NrZXQ7XG4gICAgICB0aGlzLnVwbG9hZGVyRXZlbnRzW2ZpbGUuaWRdID0gbmV3IEV2ZW50VHJhY2tlcih0aGlzLnVwcHkpO1xuICAgICAgdGhpcy5vbkZpbGVSZW1vdmUoZmlsZS5pZCwgKCkgPT4ge1xuICAgICAgICBxdWV1ZWRSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHNvY2tldC5zZW5kKCdjYW5jZWwnLCB7fSk7XG4gICAgICAgIHRoaXMucmVzZXRVcGxvYWRlclJlZmVyZW5jZXMoZmlsZS5pZCwge1xuICAgICAgICAgIGFib3J0OiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXNvbHZlKGB1cGxvYWQgJHtmaWxlLmlkfSB3YXMgcmVtb3ZlZGApO1xuICAgICAgfSk7XG4gICAgICB0aGlzLm9uRmlsZVBhdXNlKGZpbGUuaWQsIGlzUGF1c2VkID0+IHtcbiAgICAgICAgaWYgKGlzUGF1c2VkKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIHRoaXMgZmlsZSBmcm9tIHRoZSBxdWV1ZSBzbyBhbm90aGVyIGZpbGUgY2FuIHN0YXJ0IGluIGl0cyBwbGFjZS5cbiAgICAgICAgICBxdWV1ZWRSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgc29ja2V0LnNlbmQoJ3BhdXNlJywge30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJlc3VtaW5nIGFuIHVwbG9hZCBzaG91bGQgYmUgcXVldWVkLCBlbHNlIHlvdSBjb3VsZCBwYXVzZSBhbmQgdGhlblxuICAgICAgICAgIC8vIHJlc3VtZSBhIHF1ZXVlZCB1cGxvYWQgdG8gbWFrZSBpdCBza2lwIHRoZSBxdWV1ZS5cbiAgICAgICAgICBxdWV1ZWRSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgcXVldWVkUmVxdWVzdCA9IHRoaXMucmVxdWVzdHMucnVuKCgpID0+IHtcbiAgICAgICAgICAgIHNvY2tldC5vcGVuKCk7XG4gICAgICAgICAgICBzb2NrZXQuc2VuZCgncmVzdW1lJywge30pO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMub25QYXVzZUFsbChmaWxlLmlkLCAoKSA9PiB7XG4gICAgICAgIHF1ZXVlZFJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgc29ja2V0LnNlbmQoJ3BhdXNlJywge30pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLm9uQ2FuY2VsQWxsKGZpbGUuaWQsIGZ1bmN0aW9uIChfdGVtcDIpIHtcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICByZWFzb25cbiAgICAgICAgfSA9IF90ZW1wMiA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDI7XG5cbiAgICAgICAgaWYgKHJlYXNvbiA9PT0gJ3VzZXInKSB7XG4gICAgICAgICAgcXVldWVkUmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgIHNvY2tldC5zZW5kKCdjYW5jZWwnLCB7fSk7XG5cbiAgICAgICAgICBfdGhpczIucmVzZXRVcGxvYWRlclJlZmVyZW5jZXMoZmlsZS5pZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNvbHZlKGB1cGxvYWQgJHtmaWxlLmlkfSB3YXMgY2FuY2VsZWRgKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5vblJlc3VtZUFsbChmaWxlLmlkLCAoKSA9PiB7XG4gICAgICAgIHF1ZXVlZFJlcXVlc3QuYWJvcnQoKTtcblxuICAgICAgICBpZiAoZmlsZS5lcnJvcikge1xuICAgICAgICAgIHNvY2tldC5zZW5kKCdwYXVzZScsIHt9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHF1ZXVlZFJlcXVlc3QgPSB0aGlzLnJlcXVlc3RzLnJ1bigoKSA9PiB7XG4gICAgICAgICAgc29ja2V0Lm9wZW4oKTtcbiAgICAgICAgICBzb2NrZXQuc2VuZCgncmVzdW1lJywge30pO1xuICAgICAgICAgIHJldHVybiAoKSA9PiBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMub25SZXRyeShmaWxlLmlkLCAoKSA9PiB7XG4gICAgICAgIC8vIE9ubHkgZG8gdGhlIHJldHJ5IGlmIHRoZSB1cGxvYWQgaXMgYWN0dWFsbHkgaW4gcHJvZ3Jlc3M7XG4gICAgICAgIC8vIGVsc2Ugd2UgY291bGQgdHJ5IHRvIHNlbmQgdGhlc2UgbWVzc2FnZXMgd2hlbiB0aGUgdXBsb2FkIGlzIHN0aWxsIHF1ZXVlZC5cbiAgICAgICAgLy8gV2UgbWF5IG5lZWQgYSBiZXR0ZXIgY2hlY2sgZm9yIHRoaXMgc2luY2UgdGhlIHNvY2tldCBtYXkgYWxzbyBiZSBjbG9zZWRcbiAgICAgICAgLy8gZm9yIG90aGVyIHJlYXNvbnMsIGxpa2UgbmV0d29yayBmYWlsdXJlcy5cbiAgICAgICAgaWYgKHNvY2tldC5pc09wZW4pIHtcbiAgICAgICAgICBzb2NrZXQuc2VuZCgncGF1c2UnLCB7fSk7XG4gICAgICAgICAgc29ja2V0LnNlbmQoJ3Jlc3VtZScsIHt9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLm9uUmV0cnlBbGwoZmlsZS5pZCwgKCkgPT4ge1xuICAgICAgICBpZiAoc29ja2V0LmlzT3Blbikge1xuICAgICAgICAgIHNvY2tldC5zZW5kKCdwYXVzZScsIHt9KTtcbiAgICAgICAgICBzb2NrZXQuc2VuZCgncmVzdW1lJywge30pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNvY2tldC5vbigncHJvZ3Jlc3MnLCBwcm9ncmVzc0RhdGEgPT4gZW1pdFNvY2tldFByb2dyZXNzKHRoaXMsIHByb2dyZXNzRGF0YSwgZmlsZSkpO1xuICAgICAgc29ja2V0Lm9uKCdlcnJvcicsIGVyckRhdGEgPT4ge1xuICAgICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLWVycm9yJywgZmlsZSwgbmV3IEVycm9yKGVyckRhdGEuZXJyb3IpKTtcbiAgICAgICAgdGhpcy5yZXNldFVwbG9hZGVyUmVmZXJlbmNlcyhmaWxlLmlkKTtcbiAgICAgICAgcXVldWVkUmVxdWVzdC5kb25lKCk7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoZXJyRGF0YS5lcnJvcikpO1xuICAgICAgfSk7XG4gICAgICBzb2NrZXQub24oJ3N1Y2Nlc3MnLCBkYXRhID0+IHtcbiAgICAgICAgY29uc3QgdXBsb2FkUmVzcCA9IHtcbiAgICAgICAgICB1cGxvYWRVUkw6IGRhdGEudXJsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBweS5lbWl0KCd1cGxvYWQtc3VjY2VzcycsIGZpbGUsIHVwbG9hZFJlc3ApO1xuICAgICAgICB0aGlzLnJlc2V0VXBsb2FkZXJSZWZlcmVuY2VzKGZpbGUuaWQpO1xuICAgICAgICBxdWV1ZWRSZXF1ZXN0LmRvbmUoKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgICBxdWV1ZWRSZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0cy5ydW4oKCkgPT4ge1xuICAgICAgICBpZiAoZmlsZS5pc1BhdXNlZCkge1xuICAgICAgICAgIHNvY2tldC5zZW5kKCdwYXVzZScsIHt9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzb2NrZXQub3BlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHNvY2tldC5jbG9zZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyB1cGxvYWQoZmlsZUlEcykge1xuICAgIGlmIChmaWxlSURzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCBwcm9taXNlcyA9IGZpbGVJRHMubWFwKGlkID0+IHtcbiAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnVwcHkuZ2V0RmlsZShpZCk7XG5cbiAgICAgIGlmIChmaWxlLmlzUmVtb3RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwbG9hZFJlbW90ZShmaWxlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMudXBsb2FkRmlsZShmaWxlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICB9XG5cbiAgb25GaWxlUmVtb3ZlKGZpbGVJRCwgY2IpIHtcbiAgICB0aGlzLnVwbG9hZGVyRXZlbnRzW2ZpbGVJRF0ub24oJ2ZpbGUtcmVtb3ZlZCcsIGZpbGUgPT4ge1xuICAgICAgaWYgKGZpbGVJRCA9PT0gZmlsZS5pZCkgY2IoZmlsZS5pZCk7XG4gICAgfSk7XG4gIH1cblxuICBvbkZpbGVQYXVzZShmaWxlSUQsIGNiKSB7XG4gICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlSURdLm9uKCd1cGxvYWQtcGF1c2UnLCAodGFyZ2V0RmlsZUlELCBpc1BhdXNlZCkgPT4ge1xuICAgICAgaWYgKGZpbGVJRCA9PT0gdGFyZ2V0RmlsZUlEKSB7XG4gICAgICAgIGNiKGlzUGF1c2VkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uUmV0cnkoZmlsZUlELCBjYikge1xuICAgIHRoaXMudXBsb2FkZXJFdmVudHNbZmlsZUlEXS5vbigndXBsb2FkLXJldHJ5JywgdGFyZ2V0RmlsZUlEID0+IHtcbiAgICAgIGlmIChmaWxlSUQgPT09IHRhcmdldEZpbGVJRCkge1xuICAgICAgICBjYigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25SZXRyeUFsbChmaWxlSUQsIGNiKSB7XG4gICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlSURdLm9uKCdyZXRyeS1hbGwnLCAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMudXBweS5nZXRGaWxlKGZpbGVJRCkpIHJldHVybjtcbiAgICAgIGNiKCk7XG4gICAgfSk7XG4gIH1cblxuICBvblBhdXNlQWxsKGZpbGVJRCwgY2IpIHtcbiAgICB0aGlzLnVwbG9hZGVyRXZlbnRzW2ZpbGVJRF0ub24oJ3BhdXNlLWFsbCcsICgpID0+IHtcbiAgICAgIGlmICghdGhpcy51cHB5LmdldEZpbGUoZmlsZUlEKSkgcmV0dXJuO1xuICAgICAgY2IoKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uQ2FuY2VsQWxsKGZpbGVJRCwgZXZlbnRIYW5kbGVyKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB0aGlzLnVwbG9hZGVyRXZlbnRzW2ZpbGVJRF0ub24oJ2NhbmNlbC1hbGwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzMy51cHB5LmdldEZpbGUoZmlsZUlEKSkgcmV0dXJuO1xuICAgICAgZXZlbnRIYW5kbGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgfSk7XG4gIH1cblxuICBvblJlc3VtZUFsbChmaWxlSUQsIGNiKSB7XG4gICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlSURdLm9uKCdyZXN1bWUtYWxsJywgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnVwcHkuZ2V0RmlsZShmaWxlSUQpKSByZXR1cm47XG4gICAgICBjYigpO1xuICAgIH0pO1xuICB9XG5cbiAgaW5zdGFsbCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBjYXBhYmlsaXRpZXNcbiAgICB9ID0gdGhpcy51cHB5LmdldFN0YXRlKCk7XG4gICAgdGhpcy51cHB5LnNldFN0YXRlKHtcbiAgICAgIGNhcGFiaWxpdGllczogeyAuLi5jYXBhYmlsaXRpZXMsXG4gICAgICAgIHJlc3VtYWJsZVVwbG9hZHM6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnVwcHkuYWRkUHJlUHJvY2Vzc29yKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0Q29tcGFuaW9uSGVhZGVycylbX3NldENvbXBhbmlvbkhlYWRlcnNdKTtcbiAgICB0aGlzLnVwcHkuYWRkVXBsb2FkZXIodGhpcy51cGxvYWQpO1xuICB9XG5cbiAgdW5pbnN0YWxsKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNhcGFiaWxpdGllc1xuICAgIH0gPSB0aGlzLnVwcHkuZ2V0U3RhdGUoKTtcbiAgICB0aGlzLnVwcHkuc2V0U3RhdGUoe1xuICAgICAgY2FwYWJpbGl0aWVzOiB7IC4uLmNhcGFiaWxpdGllcyxcbiAgICAgICAgcmVzdW1hYmxlVXBsb2FkczogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnVwcHkucmVtb3ZlUHJlUHJvY2Vzc29yKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0Q29tcGFuaW9uSGVhZGVycylbX3NldENvbXBhbmlvbkhlYWRlcnNdKTtcbiAgICB0aGlzLnVwcHkucmVtb3ZlVXBsb2FkZXIodGhpcy51cGxvYWQpO1xuICB9XG5cbn1cbkF3c1MzTXVsdGlwYXJ0LlZFUlNJT04gPSBwYWNrYWdlSnNvbi52ZXJzaW9uOyIsIid1c2Ugc3RyaWN0JztcblxuY2xhc3MgQXV0aEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignQXV0aG9yaXphdGlvbiByZXF1aXJlZCcpO1xuICAgIHRoaXMubmFtZSA9ICdBdXRoRXJyb3InO1xuICAgIHRoaXMuaXNBdXRoRXJyb3IgPSB0cnVlO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXV0aEVycm9yOyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFJlcXVlc3RDbGllbnQgZnJvbSAnLi9SZXF1ZXN0Q2xpZW50LmpzJztcbmltcG9ydCAqIGFzIHRva2VuU3RvcmFnZSBmcm9tICcuL3Rva2VuU3RvcmFnZS5qcyc7XG5cbmNvbnN0IGdldE5hbWUgPSBpZCA9PiB7XG4gIHJldHVybiBpZC5zcGxpdCgnLScpLm1hcChzID0+IHMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzLnNsaWNlKDEpKS5qb2luKCcgJyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm92aWRlciBleHRlbmRzIFJlcXVlc3RDbGllbnQge1xuICBjb25zdHJ1Y3Rvcih1cHB5LCBvcHRzKSB7XG4gICAgc3VwZXIodXBweSwgb3B0cyk7XG4gICAgdGhpcy5wcm92aWRlciA9IG9wdHMucHJvdmlkZXI7XG4gICAgdGhpcy5pZCA9IHRoaXMucHJvdmlkZXI7XG4gICAgdGhpcy5uYW1lID0gdGhpcy5vcHRzLm5hbWUgfHwgZ2V0TmFtZSh0aGlzLmlkKTtcbiAgICB0aGlzLnBsdWdpbklkID0gdGhpcy5vcHRzLnBsdWdpbklkO1xuICAgIHRoaXMudG9rZW5LZXkgPSBgY29tcGFuaW9uLSR7dGhpcy5wbHVnaW5JZH0tYXV0aC10b2tlbmA7XG4gICAgdGhpcy5jb21wYW5pb25LZXlzUGFyYW1zID0gdGhpcy5vcHRzLmNvbXBhbmlvbktleXNQYXJhbXM7XG4gICAgdGhpcy5wcmVBdXRoVG9rZW4gPSBudWxsO1xuICB9XG5cbiAgYXN5bmMgaGVhZGVycygpIHtcbiAgICBjb25zdCBbaGVhZGVycywgdG9rZW5dID0gYXdhaXQgUHJvbWlzZS5hbGwoW3N1cGVyLmhlYWRlcnMoKSwgdGhpcy5nZXRBdXRoVG9rZW4oKV0pO1xuICAgIGNvbnN0IGF1dGhIZWFkZXJzID0ge307XG5cbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGF1dGhIZWFkZXJzWyd1cHB5LWF1dGgtdG9rZW4nXSA9IHRva2VuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbXBhbmlvbktleXNQYXJhbXMpIHtcbiAgICAgIGF1dGhIZWFkZXJzWyd1cHB5LWNyZWRlbnRpYWxzLXBhcmFtcyddID0gYnRvYShKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHBhcmFtczogdGhpcy5jb21wYW5pb25LZXlzUGFyYW1zXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgLi4uaGVhZGVycyxcbiAgICAgIC4uLmF1dGhIZWFkZXJzXG4gICAgfTtcbiAgfVxuXG4gIG9uUmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgc3VwZXIub25SZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMudXBweS5nZXRQbHVnaW4odGhpcy5wbHVnaW5JZCk7XG4gICAgY29uc3Qgb2xkQXV0aGVudGljYXRlZCA9IHBsdWdpbi5nZXRQbHVnaW5TdGF0ZSgpLmF1dGhlbnRpY2F0ZWQ7XG4gICAgY29uc3QgYXV0aGVudGljYXRlZCA9IG9sZEF1dGhlbnRpY2F0ZWQgPyByZXNwb25zZS5zdGF0dXMgIT09IDQwMSA6IHJlc3BvbnNlLnN0YXR1cyA8IDQwMDtcbiAgICBwbHVnaW4uc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgYXV0aGVudGljYXRlZFxuICAgIH0pO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIHNldEF1dGhUb2tlbih0b2tlbikge1xuICAgIHJldHVybiB0aGlzLnVwcHkuZ2V0UGx1Z2luKHRoaXMucGx1Z2luSWQpLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnRva2VuS2V5LCB0b2tlbik7XG4gIH1cblxuICBnZXRBdXRoVG9rZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMudXBweS5nZXRQbHVnaW4odGhpcy5wbHVnaW5JZCkuc3RvcmFnZS5nZXRJdGVtKHRoaXMudG9rZW5LZXkpO1xuICB9XG4gIC8qKlxuICAgKiBFbnN1cmUgd2UgaGF2ZSBhIHByZWF1dGggdG9rZW4gaWYgbmVjZXNzYXJ5LiBBdHRlbXB0cyB0byBmZXRjaCBvbmUgaWYgd2UgZG9uJ3QsXG4gICAqIG9yIHJlamVjdHMgaWYgbG9hZGluZyBvbmUgZmFpbHMuXG4gICAqL1xuXG5cbiAgYXN5bmMgZW5zdXJlUHJlQXV0aCgpIHtcbiAgICBpZiAodGhpcy5jb21wYW5pb25LZXlzUGFyYW1zICYmICF0aGlzLnByZUF1dGhUb2tlbikge1xuICAgICAgYXdhaXQgdGhpcy5mZXRjaFByZUF1dGhUb2tlbigpO1xuXG4gICAgICBpZiAoIXRoaXMucHJlQXV0aFRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGxvYWQgYXV0aGVudGljYXRpb24gZGF0YSByZXF1aXJlZCBmb3IgdGhpcmQtcGFydHkgbG9naW4uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXV0aFVybChxdWVyaWVzKSB7XG4gICAgaWYgKHF1ZXJpZXMgPT09IHZvaWQgMCkge1xuICAgICAgcXVlcmllcyA9IHt9O1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcmllcyk7XG5cbiAgICBpZiAodGhpcy5wcmVBdXRoVG9rZW4pIHtcbiAgICAgIHBhcmFtcy5zZXQoJ3VwcHlQcmVBdXRoVG9rZW4nLCB0aGlzLnByZUF1dGhUb2tlbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGAke3RoaXMuaG9zdG5hbWV9LyR7dGhpcy5pZH0vY29ubmVjdD8ke3BhcmFtc31gO1xuICB9XG5cbiAgZmlsZVVybChpZCkge1xuICAgIHJldHVybiBgJHt0aGlzLmhvc3RuYW1lfS8ke3RoaXMuaWR9L2dldC8ke2lkfWA7XG4gIH1cblxuICBhc3luYyBmZXRjaFByZUF1dGhUb2tlbigpIHtcbiAgICBpZiAoIXRoaXMuY29tcGFuaW9uS2V5c1BhcmFtcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnBvc3QoYCR7dGhpcy5pZH0vcHJlYXV0aC9gLCB7XG4gICAgICAgIHBhcmFtczogdGhpcy5jb21wYW5pb25LZXlzUGFyYW1zXG4gICAgICB9KTtcbiAgICAgIHRoaXMucHJlQXV0aFRva2VuID0gcmVzLnRva2VuO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy51cHB5LmxvZyhgW0NvbXBhbmlvbkNsaWVudF0gdW5hYmxlIHRvIGZldGNoIHByZUF1dGhUb2tlbiAke2Vycn1gLCAnd2FybmluZycpO1xuICAgIH1cbiAgfVxuXG4gIGxpc3QoZGlyZWN0b3J5KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAke3RoaXMuaWR9L2xpc3QvJHtkaXJlY3RvcnkgfHwgJyd9YCk7XG4gIH1cblxuICBsb2dvdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAke3RoaXMuaWR9L2xvZ291dGApLnRoZW4ocmVzcG9uc2UgPT4gUHJvbWlzZS5hbGwoW3Jlc3BvbnNlLCB0aGlzLnVwcHkuZ2V0UGx1Z2luKHRoaXMucGx1Z2luSWQpLnN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLnRva2VuS2V5KV0pKS50aGVuKF9yZWYgPT4ge1xuICAgICAgbGV0IFtyZXNwb25zZV0gPSBfcmVmO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGluaXRQbHVnaW4ocGx1Z2luLCBvcHRzLCBkZWZhdWx0T3B0cykge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gICAgcGx1Z2luLnR5cGUgPSAnYWNxdWlyZXInO1xuICAgIHBsdWdpbi5maWxlcyA9IFtdO1xuXG4gICAgaWYgKGRlZmF1bHRPcHRzKSB7XG4gICAgICBwbHVnaW4ub3B0cyA9IHsgLi4uZGVmYXVsdE9wdHMsXG4gICAgICAgIC4uLm9wdHNcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc2VydmVyVXJsIHx8IG9wdHMuc2VydmVyUGF0dGVybikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgc2VydmVyVXJsYCBhbmQgYHNlcnZlclBhdHRlcm5gIGhhdmUgYmVlbiByZW5hbWVkIHRvIGBjb21wYW5pb25VcmxgIGFuZCBgY29tcGFuaW9uQWxsb3dlZEhvc3RzYCByZXNwZWN0aXZlbHkgaW4gdGhlIDAuMzAuNSByZWxlYXNlLiBQbGVhc2UgY29uc3VsdCB0aGUgZG9jcyAoZm9yIGV4YW1wbGUsIGh0dHBzOi8vdXBweS5pby9kb2NzL2luc3RhZ3JhbS8gZm9yIHRoZSBJbnN0YWdyYW0gcGx1Z2luKSBhbmQgdXNlIHRoZSB1cGRhdGVkIG9wdGlvbnMuYCcpO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmNvbXBhbmlvbkFsbG93ZWRIb3N0cykge1xuICAgICAgY29uc3QgcGF0dGVybiA9IG9wdHMuY29tcGFuaW9uQWxsb3dlZEhvc3RzOyAvLyB2YWxpZGF0ZSBjb21wYW5pb25BbGxvd2VkSG9zdHMgcGFyYW1cblxuICAgICAgaWYgKHR5cGVvZiBwYXR0ZXJuICE9PSAnc3RyaW5nJyAmJiAhQXJyYXkuaXNBcnJheShwYXR0ZXJuKSAmJiAhKHBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7cGx1Z2luLmlkfTogdGhlIG9wdGlvbiBcImNvbXBhbmlvbkFsbG93ZWRIb3N0c1wiIG11c3QgYmUgb25lIG9mIHN0cmluZywgQXJyYXksIFJlZ0V4cGApO1xuICAgICAgfVxuXG4gICAgICBwbHVnaW4ub3B0cy5jb21wYW5pb25BbGxvd2VkSG9zdHMgPSBwYXR0ZXJuO1xuICAgIH0gZWxzZSBpZiAoL14oPyFodHRwcz86XFwvXFwvKS4qJC9pLnRlc3Qob3B0cy5jb21wYW5pb25VcmwpKSB7XG4gICAgICAvLyBkb2VzIG5vdCBzdGFydCB3aXRoIGh0dHBzOi8vXG4gICAgICBwbHVnaW4ub3B0cy5jb21wYW5pb25BbGxvd2VkSG9zdHMgPSBgaHR0cHM6Ly8ke29wdHMuY29tcGFuaW9uVXJsLnJlcGxhY2UoL15cXC9cXC8vLCAnJyl9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcGx1Z2luLm9wdHMuY29tcGFuaW9uQWxsb3dlZEhvc3RzID0gbmV3IFVSTChvcHRzLmNvbXBhbmlvblVybCkub3JpZ2luO1xuICAgIH1cblxuICAgIHBsdWdpbi5zdG9yYWdlID0gcGx1Z2luLm9wdHMuc3RvcmFnZSB8fCB0b2tlblN0b3JhZ2U7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuICB9XG5cbn0iLCIndXNlIHN0cmljdCc7XG5cbmxldCBfU3ltYm9sJGZvcjtcblxuZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTsgfSByZXR1cm4gcmVjZWl2ZXI7IH1cblxudmFyIGlkID0gMDtcblxuZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkobmFtZSkgeyByZXR1cm4gXCJfX3ByaXZhdGVfXCIgKyBpZCsrICsgXCJfXCIgKyBuYW1lOyB9XG5cbmltcG9ydCBmZXRjaFdpdGhOZXR3b3JrRXJyb3IgZnJvbSAnQHVwcHkvdXRpbHMvbGliL2ZldGNoV2l0aE5ldHdvcmtFcnJvcic7XG5pbXBvcnQgRXJyb3JXaXRoQ2F1c2UgZnJvbSAnQHVwcHkvdXRpbHMvbGliL0Vycm9yV2l0aENhdXNlJztcbmltcG9ydCBBdXRoRXJyb3IgZnJvbSAnLi9BdXRoRXJyb3IuanMnO1xuY29uc3QgcGFja2FnZUpzb24gPSB7XG4gIFwidmVyc2lvblwiOiBcIjMuMS4yXCJcbn07IC8vIFJlbW92ZSB0aGUgdHJhaWxpbmcgc2xhc2ggc28gd2UgY2FuIGFsd2F5cyBzYWZlbHkgYXBwZW5kIC94eXouXG5cbmZ1bmN0aW9uIHN0cmlwU2xhc2godXJsKSB7XG4gIHJldHVybiB1cmwucmVwbGFjZSgvXFwvJC8sICcnKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlSlNPTlJlc3BvbnNlKHJlcykge1xuICBpZiAocmVzLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgdGhyb3cgbmV3IEF1dGhFcnJvcigpO1xuICB9XG5cbiAgY29uc3QganNvblByb21pc2UgPSByZXMuanNvbigpO1xuXG4gIGlmIChyZXMub2spIHtcbiAgICByZXR1cm4ganNvblByb21pc2U7XG4gIH1cblxuICBsZXQgZXJyTXNnID0gYEZhaWxlZCByZXF1ZXN0IHdpdGggc3RhdHVzOiAke3Jlcy5zdGF0dXN9LiAke3Jlcy5zdGF0dXNUZXh0fWA7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBlcnJEYXRhID0gYXdhaXQganNvblByb21pc2U7XG4gICAgZXJyTXNnID0gZXJyRGF0YS5tZXNzYWdlID8gYCR7ZXJyTXNnfSBtZXNzYWdlOiAke2VyckRhdGEubWVzc2FnZX1gIDogZXJyTXNnO1xuICAgIGVyck1zZyA9IGVyckRhdGEucmVxdWVzdElkID8gYCR7ZXJyTXNnfSByZXF1ZXN0LUlkOiAke2VyckRhdGEucmVxdWVzdElkfWAgOiBlcnJNc2c7XG4gIH0gY2F0Y2gge1xuICAgIC8qIGlmIHRoZSByZXNwb25zZSBjb250YWlucyBpbnZhbGlkIEpTT04sIGxldCdzIGlnbm9yZSB0aGUgZXJyb3IgKi9cbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xufSAvLyB0b2RvIHB1bGwgb3V0IGludG8gY29yZSBpbnN0ZWFkP1xuXG5cbmNvbnN0IGFsbG93ZWRIZWFkZXJzQ2FjaGUgPSBuZXcgTWFwKCk7XG5cbnZhciBfY29tcGFuaW9uSGVhZGVycyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImNvbXBhbmlvbkhlYWRlcnNcIik7XG5cbnZhciBfZ2V0VXJsID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZ2V0VXJsXCIpO1xuXG52YXIgX3JlcXVlc3QgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXF1ZXN0XCIpO1xuXG5fU3ltYm9sJGZvciA9IFN5bWJvbC5mb3IoJ3VwcHkgdGVzdDogZ2V0Q29tcGFuaW9uSGVhZGVycycpO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVxdWVzdENsaWVudCB7XG4gIGNvbnN0cnVjdG9yKHVwcHksIG9wdHMpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlcXVlc3QsIHtcbiAgICAgIHZhbHVlOiBfcmVxdWVzdDJcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2dldFVybCwge1xuICAgICAgdmFsdWU6IF9nZXRVcmwyXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9jb21wYW5pb25IZWFkZXJzLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgICB0aGlzLnVwcHkgPSB1cHB5O1xuICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgdGhpcy5vblJlY2VpdmVSZXNwb25zZSA9IHRoaXMub25SZWNlaXZlUmVzcG9uc2UuYmluZCh0aGlzKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NvbXBhbmlvbkhlYWRlcnMpW19jb21wYW5pb25IZWFkZXJzXSA9IG9wdHMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdHMuY29tcGFuaW9uSGVhZGVycztcbiAgfVxuXG4gIHNldENvbXBhbmlvbkhlYWRlcnMoaGVhZGVycykge1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY29tcGFuaW9uSGVhZGVycylbX2NvbXBhbmlvbkhlYWRlcnNdID0gaGVhZGVycztcbiAgfVxuXG4gIFtfU3ltYm9sJGZvcl0oKSB7XG4gICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY29tcGFuaW9uSGVhZGVycylbX2NvbXBhbmlvbkhlYWRlcnNdO1xuICB9XG5cbiAgZ2V0IGhvc3RuYW1lKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbXBhbmlvblxuICAgIH0gPSB0aGlzLnVwcHkuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBob3N0ID0gdGhpcy5vcHRzLmNvbXBhbmlvblVybDtcbiAgICByZXR1cm4gc3RyaXBTbGFzaChjb21wYW5pb24gJiYgY29tcGFuaW9uW2hvc3RdID8gY29tcGFuaW9uW2hvc3RdIDogaG9zdCk7XG4gIH1cblxuICBhc3luYyBoZWFkZXJzKCkge1xuICAgIGNvbnN0IGRlZmF1bHRIZWFkZXJzID0ge1xuICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgJ1VwcHktVmVyc2lvbnMnOiBgQHVwcHkvY29tcGFuaW9uLWNsaWVudD0ke1JlcXVlc3RDbGllbnQuVkVSU0lPTn1gXG4gICAgfTtcbiAgICByZXR1cm4geyAuLi5kZWZhdWx0SGVhZGVycyxcbiAgICAgIC4uLl9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY29tcGFuaW9uSGVhZGVycylbX2NvbXBhbmlvbkhlYWRlcnNdXG4gICAgfTtcbiAgfVxuXG4gIG9uUmVjZWl2ZVJlc3BvbnNlKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgaGVhZGVyc1xuICAgIH0gPSBfcmVmO1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy51cHB5LmdldFN0YXRlKCk7XG4gICAgY29uc3QgY29tcGFuaW9uID0gc3RhdGUuY29tcGFuaW9uIHx8IHt9O1xuICAgIGNvbnN0IGhvc3QgPSB0aGlzLm9wdHMuY29tcGFuaW9uVXJsOyAvLyBTdG9yZSB0aGUgc2VsZi1pZGVudGlmaWVkIGRvbWFpbiBuYW1lIGZvciB0aGUgQ29tcGFuaW9uIGluc3RhbmNlIHdlIGp1c3QgaGl0LlxuXG4gICAgaWYgKGhlYWRlcnMuaGFzKCdpLWFtJykgJiYgaGVhZGVycy5nZXQoJ2ktYW0nKSAhPT0gY29tcGFuaW9uW2hvc3RdKSB7XG4gICAgICB0aGlzLnVwcHkuc2V0U3RhdGUoe1xuICAgICAgICBjb21wYW5pb246IHsgLi4uY29tcGFuaW9uLFxuICAgICAgICAgIFtob3N0XTogaGVhZGVycy5nZXQoJ2ktYW0nKVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgIFByZWZsaWdodCB3YXMgYWRkZWQgdG8gYXZvaWQgYnJlYWtpbmcgY2hhbmdlIGJldHdlZW4gb2xkZXIgQ29tcGFuaW9uLWNsaWVudCB2ZXJzaW9ucyBhbmRcbiAgICBuZXdlciBDb21wYW5pb24gdmVyc2lvbnMgYW5kIHZpY2UtdmVyc2EuIFVzdWFsbHkgdGhlIGJyZWFrIHdpbGwgbWFuaWZlc3QgdmlhIENPUlMgZXJyb3JzIGJlY2F1c2UgYVxuICAgIHZlcnNpb24gb2YgY29tcGFuaW9uLWNsaWVudCBjb3VsZCBiZSBzZW5kaW5nIGNlcnRhaW4gaGVhZGVycyB0byBhIHZlcnNpb24gb2YgQ29tcGFuaW9uIHNlcnZlciB0aGF0XG4gICAgZG9lcyBub3Qgc3VwcG9ydCB0aG9zZSBoZWFkZXJzLiBJbiB3aGljaCBjYXNlLCB0aGUgZGVmYXVsdCBwcmVmbGlnaHQgd291bGQgbGVhZCB0byBDT1JTLlxuICAgIFNvIHRvIGF2b2lkIHRob3NlIGVycm9ycywgd2UgZG8gcHJlZmxpZ2h0IG91cnNlbHZlcywgdG8gc2VlIHdoYXQgaGVhZGVycyB0aGUgQ29tcGFuaW9uIHNlcnZlclxuICAgIHdlIGFyZSBjb21tdW5pY2F0aW5nIHdpdGggYWxsb3dzLiBBbmQgYmFzZWQgb24gdGhhdCwgY29tcGFuaW9uLWNsaWVudCBrbm93cyB3aGF0IGhlYWRlcnMgdG9cbiAgICBzZW5kIGFuZCB3aGF0IGhlYWRlcnMgdG8gbm90IHNlbmQuXG4gICAgIFRoZSBwcmVmbGlnaHQgb25seSBoYXBwZW5zIG9uY2UgdGhyb3VnaG91dCB0aGUgbGlmZS1jeWNsZSBvZiBhIGNlcnRhaW5cbiAgICBDb21wYW5pb24tY2xpZW50IDwtPiBDb21wYW5pb24tc2VydmVyIHBhaXIgKGFsbG93ZWRIZWFkZXJzQ2FjaGUpLlxuICAgIFN1YnNlcXVlbnQgcmVxdWVzdHMgdXNlIHRoZSBjYWNoZWQgcmVzdWx0IG9mIHRoZSBwcmVmbGlnaHQuXG4gICAgSG93ZXZlciBpZiB0aGVyZSBpcyBhbiBlcnJvciByZXRyaWV2aW5nIHRoZSBhbGxvd2VkIGhlYWRlcnMsIHdlIHdpbGwgdHJ5IGFnYWluIG5leHQgdGltZVxuICAqL1xuICBhc3luYyBwcmVmbGlnaHQocGF0aCkge1xuICAgIGNvbnN0IGFsbG93ZWRIZWFkZXJzQ2FjaGVkID0gYWxsb3dlZEhlYWRlcnNDYWNoZS5nZXQodGhpcy5ob3N0bmFtZSk7XG4gICAgaWYgKGFsbG93ZWRIZWFkZXJzQ2FjaGVkICE9IG51bGwpIHJldHVybiBhbGxvd2VkSGVhZGVyc0NhY2hlZDtcbiAgICBjb25zdCBmYWxsYmFja0FsbG93ZWRIZWFkZXJzID0gWydhY2NlcHQnLCAnY29udGVudC10eXBlJywgJ3VwcHktYXV0aC10b2tlbiddO1xuXG4gICAgY29uc3QgcHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZ2V0VXJsKVtfZ2V0VXJsXShwYXRoKSwge1xuICAgICAgICAgIG1ldGhvZDogJ09QVElPTlMnXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBoZWFkZXIgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnYWNjZXNzLWNvbnRyb2wtYWxsb3ctaGVhZGVycycpO1xuXG4gICAgICAgIGlmIChoZWFkZXIgPT0gbnVsbCB8fCBoZWFkZXIgPT09ICcqJykge1xuICAgICAgICAgIGFsbG93ZWRIZWFkZXJzQ2FjaGUuc2V0KHRoaXMuaG9zdG5hbWUsIGZhbGxiYWNrQWxsb3dlZEhlYWRlcnMpO1xuICAgICAgICAgIHJldHVybiBmYWxsYmFja0FsbG93ZWRIZWFkZXJzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cHB5LmxvZyhgW0NvbXBhbmlvbkNsaWVudF0gYWRkaW5nIGFsbG93ZWQgcHJlZmxpZ2h0IGhlYWRlcnMgdG8gY29tcGFuaW9uIGNhY2hlOiAke3RoaXMuaG9zdG5hbWV9ICR7aGVhZGVyfWApO1xuICAgICAgICBjb25zdCBhbGxvd2VkSGVhZGVycyA9IGhlYWRlci5zcGxpdCgnLCcpLm1hcChoZWFkZXJOYW1lID0+IGhlYWRlck5hbWUudHJpbSgpLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBhbGxvd2VkSGVhZGVyc0NhY2hlLnNldCh0aGlzLmhvc3RuYW1lLCBhbGxvd2VkSGVhZGVycyk7XG4gICAgICAgIHJldHVybiBhbGxvd2VkSGVhZGVycztcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLnVwcHkubG9nKGBbQ29tcGFuaW9uQ2xpZW50XSB1bmFibGUgdG8gbWFrZSBwcmVmbGlnaHQgcmVxdWVzdCAke2Vycn1gLCAnd2FybmluZycpOyAvLyBJZiB0aGUgdXNlciBnZXRzIGEgbmV0d29yayBlcnJvciBvciBzaW1pbGFyLCB3ZSBzaG91bGQgdHJ5IHByZWZsaWdodFxuICAgICAgICAvLyBhZ2FpbiBuZXh0IHRpbWUsIG9yIGVsc2Ugd2UgbWlnaHQgZ2V0IGluY29ycmVjdCBiZWhhdmlvdXIuXG5cbiAgICAgICAgYWxsb3dlZEhlYWRlcnNDYWNoZS5kZWxldGUodGhpcy5ob3N0bmFtZSk7IC8vIHJlLWZldGNoIG5leHQgdGltZVxuXG4gICAgICAgIHJldHVybiBmYWxsYmFja0FsbG93ZWRIZWFkZXJzO1xuICAgICAgfVxuICAgIH0pKCk7XG5cbiAgICBhbGxvd2VkSGVhZGVyc0NhY2hlLnNldCh0aGlzLmhvc3RuYW1lLCBwcm9taXNlKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGFzeW5jIHByZWZsaWdodEFuZEhlYWRlcnMocGF0aCkge1xuICAgIGNvbnN0IFthbGxvd2VkSGVhZGVycywgaGVhZGVyc10gPSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wcmVmbGlnaHQocGF0aCksIHRoaXMuaGVhZGVycygpXSk7IC8vIGZpbHRlciB0byBrZWVwIG9ubHkgYWxsb3dlZCBIZWFkZXJzXG5cbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpLmZpbHRlcihfcmVmMiA9PiB7XG4gICAgICBsZXQgW2hlYWRlcl0gPSBfcmVmMjtcblxuICAgICAgaWYgKCFhbGxvd2VkSGVhZGVycy5pbmNsdWRlcyhoZWFkZXIudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgdGhpcy51cHB5LmxvZyhgW0NvbXBhbmlvbkNsaWVudF0gZXhjbHVkaW5nIGRpc2FsbG93ZWQgaGVhZGVyICR7aGVhZGVyfWApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pKTtcbiAgfVxuXG4gIGFzeW5jIGdldChwYXRoLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiByZW1vdmUgYm9vbGVhbiBzdXBwb3J0IGZvciBvcHRpb25zIHRoYXQgd2FzIGFkZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nKSBvcHRpb25zID0ge1xuICAgICAgc2tpcFBvc3RSZXNwb25zZTogb3B0aW9uc1xuICAgIH07XG4gICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdClbX3JlcXVlc3RdKHsgLi4ub3B0aW9ucyxcbiAgICAgIHBhdGhcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHBvc3QocGF0aCwgZGF0YSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogcmVtb3ZlIGJvb2xlYW4gc3VwcG9ydCBmb3Igb3B0aW9ucyB0aGF0IHdhcyBhZGRlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJykgb3B0aW9ucyA9IHtcbiAgICAgIHNraXBQb3N0UmVzcG9uc2U6IG9wdGlvbnNcbiAgICB9O1xuICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QpW19yZXF1ZXN0XSh7IC4uLm9wdGlvbnMsXG4gICAgICBwYXRoLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBkZWxldGUocGF0aCwgZGF0YSwgb3B0aW9ucykge1xuICAgIGlmIChkYXRhID09PSB2b2lkIDApIHtcbiAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogcmVtb3ZlIGJvb2xlYW4gc3VwcG9ydCBmb3Igb3B0aW9ucyB0aGF0IHdhcyBhZGRlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJykgb3B0aW9ucyA9IHtcbiAgICAgIHNraXBQb3N0UmVzcG9uc2U6IG9wdGlvbnNcbiAgICB9O1xuICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QpW19yZXF1ZXN0XSh7IC4uLm9wdGlvbnMsXG4gICAgICBwYXRoLFxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIF9nZXRVcmwyKHVybCkge1xuICBpZiAoL14oaHR0cHM/OnwpXFwvXFwvLy50ZXN0KHVybCkpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgcmV0dXJuIGAke3RoaXMuaG9zdG5hbWV9LyR7dXJsfWA7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9yZXF1ZXN0MihfcmVmMykge1xuICBsZXQge1xuICAgIHBhdGgsXG4gICAgbWV0aG9kID0gJ0dFVCcsXG4gICAgZGF0YSxcbiAgICBza2lwUG9zdFJlc3BvbnNlLFxuICAgIHNpZ25hbFxuICB9ID0gX3JlZjM7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBoZWFkZXJzID0gYXdhaXQgdGhpcy5wcmVmbGlnaHRBbmRIZWFkZXJzKHBhdGgpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoTmV0d29ya0Vycm9yKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZ2V0VXJsKVtfZ2V0VXJsXShwYXRoKSwge1xuICAgICAgbWV0aG9kLFxuICAgICAgc2lnbmFsLFxuICAgICAgaGVhZGVycyxcbiAgICAgIGNyZWRlbnRpYWxzOiB0aGlzLm9wdHMuY29tcGFuaW9uQ29va2llc1J1bGUgfHwgJ3NhbWUtb3JpZ2luJyxcbiAgICAgIGJvZHk6IGRhdGEgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IG51bGxcbiAgICB9KTtcbiAgICBpZiAoIXNraXBQb3N0UmVzcG9uc2UpIHRoaXMub25SZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIHJldHVybiBoYW5kbGVKU09OUmVzcG9uc2UocmVzcG9uc2UpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoZXJyICE9IG51bGwgJiYgZXJyLmlzQXV0aEVycm9yKSB0aHJvdyBlcnI7XG4gICAgdGhyb3cgbmV3IEVycm9yV2l0aENhdXNlKGBDb3VsZCBub3QgJHttZXRob2R9ICR7X2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9nZXRVcmwpW19nZXRVcmxdKHBhdGgpfWAsIHtcbiAgICAgIGNhdXNlOiBlcnJcbiAgICB9KTtcbiAgfVxufVxuXG5SZXF1ZXN0Q2xpZW50LlZFUlNJT04gPSBwYWNrYWdlSnNvbi52ZXJzaW9uOyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFJlcXVlc3RDbGllbnQgZnJvbSAnLi9SZXF1ZXN0Q2xpZW50LmpzJztcblxuY29uc3QgZ2V0TmFtZSA9IGlkID0+IHtcbiAgcmV0dXJuIGlkLnNwbGl0KCctJykubWFwKHMgPT4gcy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHMuc2xpY2UoMSkpLmpvaW4oJyAnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlYXJjaFByb3ZpZGVyIGV4dGVuZHMgUmVxdWVzdENsaWVudCB7XG4gIGNvbnN0cnVjdG9yKHVwcHksIG9wdHMpIHtcbiAgICBzdXBlcih1cHB5LCBvcHRzKTtcbiAgICB0aGlzLnByb3ZpZGVyID0gb3B0cy5wcm92aWRlcjtcbiAgICB0aGlzLmlkID0gdGhpcy5wcm92aWRlcjtcbiAgICB0aGlzLm5hbWUgPSB0aGlzLm9wdHMubmFtZSB8fCBnZXROYW1lKHRoaXMuaWQpO1xuICAgIHRoaXMucGx1Z2luSWQgPSB0aGlzLm9wdHMucGx1Z2luSWQ7XG4gIH1cblxuICBmaWxlVXJsKGlkKSB7XG4gICAgcmV0dXJuIGAke3RoaXMuaG9zdG5hbWV9L3NlYXJjaC8ke3RoaXMuaWR9L2dldC8ke2lkfWA7XG4gIH1cblxuICBzZWFyY2godGV4dCwgcXVlcmllcykge1xuICAgIHJldHVybiB0aGlzLmdldChgc2VhcmNoLyR7dGhpcy5pZH0vbGlzdD9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpfSR7cXVlcmllcyA/IGAmJHtxdWVyaWVzfWAgOiAnJ31gKTtcbiAgfVxuXG59IiwibGV0IF9TeW1ib2wkZm9yLCBfU3ltYm9sJGZvcjI7XG5cbmZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShyZWNlaXZlciwgcHJpdmF0ZUtleSkgeyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZWNlaXZlciwgcHJpdmF0ZUtleSkpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byB1c2UgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7IH0gcmV0dXJuIHJlY2VpdmVyOyB9XG5cbnZhciBpZCA9IDA7XG5cbmZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KG5hbWUpIHsgcmV0dXJuIFwiX19wcml2YXRlX1wiICsgaWQrKyArIFwiX1wiICsgbmFtZTsgfVxuXG5pbXBvcnQgZWUgZnJvbSAnbmFtZXNwYWNlLWVtaXR0ZXInO1xuXG52YXIgX3F1ZXVlZCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInF1ZXVlZFwiKTtcblxudmFyIF9lbWl0dGVyID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZW1pdHRlclwiKTtcblxudmFyIF9pc09wZW4gPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc09wZW5cIik7XG5cbnZhciBfc29ja2V0ID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic29ja2V0XCIpO1xuXG52YXIgX2hhbmRsZU1lc3NhZ2UgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJoYW5kbGVNZXNzYWdlXCIpO1xuXG5fU3ltYm9sJGZvciA9IFN5bWJvbC5mb3IoJ3VwcHkgdGVzdDogZ2V0U29ja2V0Jyk7XG5fU3ltYm9sJGZvcjIgPSBTeW1ib2wuZm9yKCd1cHB5IHRlc3Q6IGdldFF1ZXVlZCcpO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXBweVNvY2tldCB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3F1ZXVlZCwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogW11cbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2VtaXR0ZXIsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGVlKClcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2lzT3Blbiwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZmFsc2VcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3NvY2tldCwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdm9pZCAwXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9oYW5kbGVNZXNzYWdlLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBlID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShlLmRhdGEpO1xuICAgICAgICAgIHRoaXMuZW1pdChtZXNzYWdlLmFjdGlvbiwgbWVzc2FnZS5wYXlsb2FkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgLy8gVE9ETzogdXNlIGEgbW9yZSByb2J1c3QgZXJyb3IgaGFuZGxlci5cbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMub3B0cyA9IG9wdHM7XG5cbiAgICBpZiAoIW9wdHMgfHwgb3B0cy5hdXRvT3BlbiAhPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBpc09wZW4oKSB7XG4gICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNPcGVuKVtfaXNPcGVuXTtcbiAgfVxuXG4gIFtfU3ltYm9sJGZvcl0oKSB7XG4gICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc29ja2V0KVtfc29ja2V0XTtcbiAgfVxuXG4gIFtfU3ltYm9sJGZvcjJdKCkge1xuICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3F1ZXVlZClbX3F1ZXVlZF07XG4gIH1cblxuICBvcGVuKCkge1xuICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NvY2tldClbX3NvY2tldF0gIT0gbnVsbCkgcmV0dXJuO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc29ja2V0KVtfc29ja2V0XSA9IG5ldyBXZWJTb2NrZXQodGhpcy5vcHRzLnRhcmdldCk7XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NvY2tldClbX3NvY2tldF0ub25vcGVuID0gKCkgPT4ge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc09wZW4pW19pc09wZW5dID0gdHJ1ZTtcblxuICAgICAgd2hpbGUgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcXVldWVkKVtfcXVldWVkXS5sZW5ndGggPiAwICYmIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNPcGVuKVtfaXNPcGVuXSkge1xuICAgICAgICBjb25zdCBmaXJzdCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcXVldWVkKVtfcXVldWVkXS5zaGlmdCgpO1xuXG4gICAgICAgIHRoaXMuc2VuZChmaXJzdC5hY3Rpb24sIGZpcnN0LnBheWxvYWQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NvY2tldClbX3NvY2tldF0ub25jbG9zZSA9ICgpID0+IHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNPcGVuKVtfaXNPcGVuXSA9IGZhbHNlO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zb2NrZXQpW19zb2NrZXRdID0gbnVsbDtcbiAgICB9O1xuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zb2NrZXQpW19zb2NrZXRdLm9ubWVzc2FnZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaGFuZGxlTWVzc2FnZSlbX2hhbmRsZU1lc3NhZ2VdO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdmFyIF9jbGFzc1ByaXZhdGVGaWVsZExvbztcblxuICAgIChfY2xhc3NQcml2YXRlRmllbGRMb28gPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NvY2tldClbX3NvY2tldF0pID09IG51bGwgPyB2b2lkIDAgOiBfY2xhc3NQcml2YXRlRmllbGRMb28uY2xvc2UoKTtcbiAgfVxuXG4gIHNlbmQoYWN0aW9uLCBwYXlsb2FkKSB7XG4gICAgLy8gYXR0YWNoIHV1aWRcbiAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNPcGVuKVtfaXNPcGVuXSkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9xdWV1ZWQpW19xdWV1ZWRdLnB1c2goe1xuICAgICAgICBhY3Rpb24sXG4gICAgICAgIHBheWxvYWRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zb2NrZXQpW19zb2NrZXRdLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgYWN0aW9uLFxuICAgICAgcGF5bG9hZFxuICAgIH0pKTtcbiAgfVxuXG4gIG9uKGFjdGlvbiwgaGFuZGxlcikge1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZW1pdHRlcilbX2VtaXR0ZXJdLm9uKGFjdGlvbiwgaGFuZGxlcik7XG4gIH1cblxuICBlbWl0KGFjdGlvbiwgcGF5bG9hZCkge1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZW1pdHRlcilbX2VtaXR0ZXJdLmVtaXQoYWN0aW9uLCBwYXlsb2FkKTtcbiAgfVxuXG4gIG9uY2UoYWN0aW9uLCBoYW5kbGVyKSB7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9lbWl0dGVyKVtfZW1pdHRlcl0ub25jZShhY3Rpb24sIGhhbmRsZXIpO1xuICB9XG5cbn0iLCIndXNlIHN0cmljdCc7XG4vKipcbiAqIE1hbmFnZXMgY29tbXVuaWNhdGlvbnMgd2l0aCBDb21wYW5pb25cbiAqL1xuXG5leHBvcnQgeyBkZWZhdWx0IGFzIFJlcXVlc3RDbGllbnQgfSBmcm9tICcuL1JlcXVlc3RDbGllbnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQcm92aWRlciB9IGZyb20gJy4vUHJvdmlkZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTZWFyY2hQcm92aWRlciB9IGZyb20gJy4vU2VhcmNoUHJvdmlkZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTb2NrZXQgfSBmcm9tICcuL1NvY2tldC5qcyc7IiwiJ3VzZSBzdHJpY3QnO1xuLyoqXG4gKiBUaGlzIG1vZHVsZSBzZXJ2ZXMgYXMgYW4gQXN5bmMgd3JhcHBlciBmb3IgTG9jYWxTdG9yYWdlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEl0ZW0oa2V5LCB2YWx1ZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgcmVzb2x2ZSgpO1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJdGVtKGtleSkge1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUl0ZW0oa2V5KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgIHJlc29sdmUoKTtcbiAgfSk7XG59IiwiLyoqXG4gKiBDb3JlIHBsdWdpbiBsb2dpYyB0aGF0IGFsbCBwbHVnaW5zIHNoYXJlLlxuICpcbiAqIEJhc2VQbHVnaW4gZG9lcyBub3QgY29udGFpbiBET00gcmVuZGVyaW5nIHNvIGl0IGNhbiBiZSB1c2VkIGZvciBwbHVnaW5zXG4gKiB3aXRob3V0IGEgdXNlciBpbnRlcmZhY2UuXG4gKlxuICogU2VlIGBQbHVnaW5gIGZvciB0aGUgZXh0ZW5kZWQgdmVyc2lvbiB3aXRoIFByZWFjdCByZW5kZXJpbmcgZm9yIGludGVyZmFjZXMuXG4gKi9cbmltcG9ydCBUcmFuc2xhdG9yIGZyb20gJ0B1cHB5L3V0aWxzL2xpYi9UcmFuc2xhdG9yJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VQbHVnaW4ge1xuICBjb25zdHJ1Y3Rvcih1cHB5LCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMudXBweSA9IHVwcHk7XG4gICAgdGhpcy5vcHRzID0gb3B0cztcbiAgfVxuXG4gIGdldFBsdWdpblN0YXRlKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHBsdWdpbnNcbiAgICB9ID0gdGhpcy51cHB5LmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHBsdWdpbnNbdGhpcy5pZF0gfHwge307XG4gIH1cblxuICBzZXRQbHVnaW5TdGF0ZSh1cGRhdGUpIHtcbiAgICBjb25zdCB7XG4gICAgICBwbHVnaW5zXG4gICAgfSA9IHRoaXMudXBweS5nZXRTdGF0ZSgpO1xuICAgIHRoaXMudXBweS5zZXRTdGF0ZSh7XG4gICAgICBwbHVnaW5zOiB7IC4uLnBsdWdpbnMsXG4gICAgICAgIFt0aGlzLmlkXTogeyAuLi5wbHVnaW5zW3RoaXMuaWRdLFxuICAgICAgICAgIC4uLnVwZGF0ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzZXRPcHRpb25zKG5ld09wdHMpIHtcbiAgICB0aGlzLm9wdHMgPSB7IC4uLnRoaXMub3B0cyxcbiAgICAgIC4uLm5ld09wdHNcbiAgICB9O1xuICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoKTsgLy8gc28gdGhhdCBVSSByZS1yZW5kZXJzIHdpdGggbmV3IG9wdGlvbnNcblxuICAgIHRoaXMuaTE4bkluaXQoKTtcbiAgfVxuXG4gIGkxOG5Jbml0KCkge1xuICAgIGNvbnN0IHRyYW5zbGF0b3IgPSBuZXcgVHJhbnNsYXRvcihbdGhpcy5kZWZhdWx0TG9jYWxlLCB0aGlzLnVwcHkubG9jYWxlLCB0aGlzLm9wdHMubG9jYWxlXSk7XG4gICAgdGhpcy5pMThuID0gdHJhbnNsYXRvci50cmFuc2xhdGUuYmluZCh0cmFuc2xhdG9yKTtcbiAgICB0aGlzLmkxOG5BcnJheSA9IHRyYW5zbGF0b3IudHJhbnNsYXRlQXJyYXkuYmluZCh0cmFuc2xhdG9yKTtcbiAgICB0aGlzLnNldFBsdWdpblN0YXRlKCk7IC8vIHNvIHRoYXQgVUkgcmUtcmVuZGVycyBhbmQgd2Ugc2VlIHRoZSB1cGRhdGVkIGxvY2FsZVxuICB9XG4gIC8qKlxuICAgKiBFeHRlbmRhYmxlIG1ldGhvZHNcbiAgICogPT09PT09PT09PT09PT09PT09XG4gICAqIFRoZXNlIG1ldGhvZHMgYXJlIGhlcmUgdG8gc2VydmUgYXMgYW4gb3ZlcnZpZXcgb2YgdGhlIGV4dGVuZGFibGUgbWV0aG9kcyBhcyB3ZWxsIGFzXG4gICAqIG1ha2luZyB0aGVtIG5vdCBjb25kaXRpb25hbCBpbiB1c2UsIHN1Y2ggYXMgYGlmICh0aGlzLmFmdGVyVXBkYXRlKWAuXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuXG5cbiAgYWRkVGFyZ2V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignRXh0ZW5kIHRoZSBhZGRUYXJnZXQgbWV0aG9kIHRvIGFkZCB5b3VyIHBsdWdpbiB0byBhbm90aGVyIHBsdWdpblxcJ3MgdGFyZ2V0Jyk7XG4gIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcblxuXG4gIGluc3RhbGwoKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuXG5cbiAgdW5pbnN0YWxsKCkge31cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHBsdWdpbiBpcyBtb3VudGVkLCB3aGV0aGVyIGluIERPTSBvciBpbnRvIGFub3RoZXIgcGx1Z2luLlxuICAgKiBOZWVkZWQgYmVjYXVzZSBzb21ldGltZXMgcGx1Z2lucyBhcmUgbW91bnRlZCBzZXBhcmF0ZWx5L2FmdGVyIGBpbnN0YWxsYCxcbiAgICogc28gdGhpcy5lbCBhbmQgdGhpcy5wYXJlbnQgbWlnaHQgbm90IGJlIGF2YWlsYWJsZSBpbiBgaW5zdGFsbGAuXG4gICAqIFRoaXMgaXMgdGhlIGNhc2Ugd2l0aCBAdXBweS9yZWFjdCBwbHVnaW5zLCBmb3IgZXhhbXBsZS5cbiAgICovXG5cblxuICByZW5kZXIoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHRlbmQgdGhlIHJlbmRlciBtZXRob2QgdG8gYWRkIHlvdXIgcGx1Z2luIHRvIGEgRE9NIGVsZW1lbnQnKTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuXG5cbiAgdXBkYXRlKCkge30gLy8gQ2FsbGVkIGFmdGVyIGV2ZXJ5IHN0YXRlIHVwZGF0ZSwgYWZ0ZXIgZXZlcnl0aGluZydzIG1vdW50ZWQuIERlYm91bmNlZC5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcblxuXG4gIGFmdGVyVXBkYXRlKCkge31cblxufSIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1jbGFzc2VzLXBlci1maWxlLCBjbGFzcy1tZXRob2RzLXVzZS10aGlzICovXG5pbXBvcnQgcHJldHRpZXJCeXRlcyBmcm9tICdAdHJhbnNsb2FkaXQvcHJldHRpZXItYnl0ZXMnO1xuaW1wb3J0IG1hdGNoIGZyb20gJ21pbWUtbWF0Y2gnO1xuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIG1heEZpbGVTaXplOiBudWxsLFxuICBtaW5GaWxlU2l6ZTogbnVsbCxcbiAgbWF4VG90YWxGaWxlU2l6ZTogbnVsbCxcbiAgbWF4TnVtYmVyT2ZGaWxlczogbnVsbCxcbiAgbWluTnVtYmVyT2ZGaWxlczogbnVsbCxcbiAgYWxsb3dlZEZpbGVUeXBlczogbnVsbCxcbiAgcmVxdWlyZWRNZXRhRmllbGRzOiBbXVxufTtcblxuY2xhc3MgUmVzdHJpY3Rpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmlzUmVzdHJpY3Rpb24gPSB0cnVlO1xuICB9XG5cbn1cblxuY2xhc3MgUmVzdHJpY3RlciB7XG4gIGNvbnN0cnVjdG9yKGdldE9wdHMsIGkxOG4pIHtcbiAgICB0aGlzLmkxOG4gPSBpMThuO1xuXG4gICAgdGhpcy5nZXRPcHRzID0gKCkgPT4ge1xuICAgICAgY29uc3Qgb3B0cyA9IGdldE9wdHMoKTtcblxuICAgICAgaWYgKG9wdHMucmVzdHJpY3Rpb25zLmFsbG93ZWRGaWxlVHlwZXMgIT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShvcHRzLnJlc3RyaWN0aW9ucy5hbGxvd2VkRmlsZVR5cGVzKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgcmVzdHJpY3Rpb25zLmFsbG93ZWRGaWxlVHlwZXNgIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9wdHM7XG4gICAgfTtcbiAgfVxuXG4gIHZhbGlkYXRlKGZpbGUsIGZpbGVzKSB7XG4gICAgY29uc3Qge1xuICAgICAgbWF4RmlsZVNpemUsXG4gICAgICBtaW5GaWxlU2l6ZSxcbiAgICAgIG1heFRvdGFsRmlsZVNpemUsXG4gICAgICBtYXhOdW1iZXJPZkZpbGVzLFxuICAgICAgYWxsb3dlZEZpbGVUeXBlc1xuICAgIH0gPSB0aGlzLmdldE9wdHMoKS5yZXN0cmljdGlvbnM7XG5cbiAgICBpZiAobWF4TnVtYmVyT2ZGaWxlcykge1xuICAgICAgY29uc3Qgbm9uR2hvc3RGaWxlcyA9IGZpbGVzLmZpbHRlcihmID0+ICFmLmlzR2hvc3QpO1xuXG4gICAgICBpZiAobm9uR2hvc3RGaWxlcy5sZW5ndGggKyAxID4gbWF4TnVtYmVyT2ZGaWxlcykge1xuICAgICAgICB0aHJvdyBuZXcgUmVzdHJpY3Rpb25FcnJvcihgJHt0aGlzLmkxOG4oJ3lvdUNhbk9ubHlVcGxvYWRYJywge1xuICAgICAgICAgIHNtYXJ0X2NvdW50OiBtYXhOdW1iZXJPZkZpbGVzXG4gICAgICAgIH0pfWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhbGxvd2VkRmlsZVR5cGVzKSB7XG4gICAgICBjb25zdCBpc0NvcnJlY3RGaWxlVHlwZSA9IGFsbG93ZWRGaWxlVHlwZXMuc29tZSh0eXBlID0+IHtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIG1pbWUtdHlwZVxuICAgICAgICBpZiAodHlwZS5pbmNsdWRlcygnLycpKSB7XG4gICAgICAgICAgaWYgKCFmaWxlLnR5cGUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbWF0Y2goZmlsZS50eXBlLnJlcGxhY2UoLzsuKj8kLywgJycpLCB0eXBlKTtcbiAgICAgICAgfSAvLyBvdGhlcndpc2UgdGhpcyBpcyBsaWtlbHkgYW4gZXh0ZW5zaW9uXG5cblxuICAgICAgICBpZiAodHlwZVswXSA9PT0gJy4nICYmIGZpbGUuZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGZpbGUuZXh0ZW5zaW9uLnRvTG93ZXJDYXNlKCkgPT09IHR5cGUuc2xpY2UoMSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWlzQ29ycmVjdEZpbGVUeXBlKSB7XG4gICAgICAgIGNvbnN0IGFsbG93ZWRGaWxlVHlwZXNTdHJpbmcgPSBhbGxvd2VkRmlsZVR5cGVzLmpvaW4oJywgJyk7XG4gICAgICAgIHRocm93IG5ldyBSZXN0cmljdGlvbkVycm9yKHRoaXMuaTE4bigneW91Q2FuT25seVVwbG9hZEZpbGVUeXBlcycsIHtcbiAgICAgICAgICB0eXBlczogYWxsb3dlZEZpbGVUeXBlc1N0cmluZ1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSAvLyBXZSBjYW4ndCBjaGVjayBtYXhUb3RhbEZpbGVTaXplIGlmIHRoZSBzaXplIGlzIHVua25vd24uXG5cblxuICAgIGlmIChtYXhUb3RhbEZpbGVTaXplICYmIGZpbGUuc2l6ZSAhPSBudWxsKSB7XG4gICAgICBjb25zdCB0b3RhbEZpbGVzU2l6ZSA9IGZpbGVzLnJlZHVjZSgodG90YWwsIGYpID0+IHRvdGFsICsgZi5zaXplLCBmaWxlLnNpemUpO1xuXG4gICAgICBpZiAodG90YWxGaWxlc1NpemUgPiBtYXhUb3RhbEZpbGVTaXplKSB7XG4gICAgICAgIHRocm93IG5ldyBSZXN0cmljdGlvbkVycm9yKHRoaXMuaTE4bignZXhjZWVkc1NpemUnLCB7XG4gICAgICAgICAgc2l6ZTogcHJldHRpZXJCeXRlcyhtYXhUb3RhbEZpbGVTaXplKSxcbiAgICAgICAgICBmaWxlOiBmaWxlLm5hbWVcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0gLy8gV2UgY2FuJ3QgY2hlY2sgbWF4RmlsZVNpemUgaWYgdGhlIHNpemUgaXMgdW5rbm93bi5cblxuXG4gICAgaWYgKG1heEZpbGVTaXplICYmIGZpbGUuc2l6ZSAhPSBudWxsICYmIGZpbGUuc2l6ZSA+IG1heEZpbGVTaXplKSB7XG4gICAgICB0aHJvdyBuZXcgUmVzdHJpY3Rpb25FcnJvcih0aGlzLmkxOG4oJ2V4Y2VlZHNTaXplJywge1xuICAgICAgICBzaXplOiBwcmV0dGllckJ5dGVzKG1heEZpbGVTaXplKSxcbiAgICAgICAgZmlsZTogZmlsZS5uYW1lXG4gICAgICB9KSk7XG4gICAgfSAvLyBXZSBjYW4ndCBjaGVjayBtaW5GaWxlU2l6ZSBpZiB0aGUgc2l6ZSBpcyB1bmtub3duLlxuXG5cbiAgICBpZiAobWluRmlsZVNpemUgJiYgZmlsZS5zaXplICE9IG51bGwgJiYgZmlsZS5zaXplIDwgbWluRmlsZVNpemUpIHtcbiAgICAgIHRocm93IG5ldyBSZXN0cmljdGlvbkVycm9yKHRoaXMuaTE4bignaW5mZXJpb3JTaXplJywge1xuICAgICAgICBzaXplOiBwcmV0dGllckJ5dGVzKG1pbkZpbGVTaXplKVxuICAgICAgfSkpO1xuICAgIH1cbiAgfVxuXG4gIHZhbGlkYXRlTWluTnVtYmVyT2ZGaWxlcyhmaWxlcykge1xuICAgIGNvbnN0IHtcbiAgICAgIG1pbk51bWJlck9mRmlsZXNcbiAgICB9ID0gdGhpcy5nZXRPcHRzKCkucmVzdHJpY3Rpb25zO1xuXG4gICAgaWYgKE9iamVjdC5rZXlzKGZpbGVzKS5sZW5ndGggPCBtaW5OdW1iZXJPZkZpbGVzKSB7XG4gICAgICB0aHJvdyBuZXcgUmVzdHJpY3Rpb25FcnJvcih0aGlzLmkxOG4oJ3lvdUhhdmVUb0F0TGVhc3RTZWxlY3RYJywge1xuICAgICAgICBzbWFydF9jb3VudDogbWluTnVtYmVyT2ZGaWxlc1xuICAgICAgfSkpO1xuICAgIH1cbiAgfVxuXG4gIGdldE1pc3NpbmdSZXF1aXJlZE1ldGFGaWVsZHMoZmlsZSkge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IFJlc3RyaWN0aW9uRXJyb3IodGhpcy5pMThuKCdtaXNzaW5nUmVxdWlyZWRNZXRhRmllbGRPbkZpbGUnLCB7XG4gICAgICBmaWxlTmFtZTogZmlsZS5uYW1lXG4gICAgfSkpO1xuICAgIGNvbnN0IHtcbiAgICAgIHJlcXVpcmVkTWV0YUZpZWxkc1xuICAgIH0gPSB0aGlzLmdldE9wdHMoKS5yZXN0cmljdGlvbnM7XG4gICAgY29uc3QgbWlzc2luZ0ZpZWxkcyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiByZXF1aXJlZE1ldGFGaWVsZHMpIHtcbiAgICAgIGlmICghT2JqZWN0Lmhhc093bihmaWxlLm1ldGEsIGZpZWxkKSB8fCBmaWxlLm1ldGFbZmllbGRdID09PSAnJykge1xuICAgICAgICBtaXNzaW5nRmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBtaXNzaW5nRmllbGRzLFxuICAgICAgZXJyb3JcbiAgICB9O1xuICB9XG5cbn1cblxuZXhwb3J0IHsgUmVzdHJpY3RlciwgZGVmYXVsdE9wdGlvbnMsIFJlc3RyaWN0aW9uRXJyb3IgfTsiLCJmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVjZWl2ZXIsIHByaXZhdGVLZXkpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gdXNlIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpOyB9IHJldHVybiByZWNlaXZlcjsgfVxuXG52YXIgaWQgPSAwO1xuXG5mdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShuYW1lKSB7IHJldHVybiBcIl9fcHJpdmF0ZV9cIiArIGlkKysgKyBcIl9cIiArIG5hbWU7IH1cblxuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBmaW5kRE9NRWxlbWVudCBmcm9tICdAdXBweS91dGlscy9saWIvZmluZERPTUVsZW1lbnQnO1xuaW1wb3J0IGdldFRleHREaXJlY3Rpb24gZnJvbSAnQHVwcHkvdXRpbHMvbGliL2dldFRleHREaXJlY3Rpb24nO1xuaW1wb3J0IEJhc2VQbHVnaW4gZnJvbSAnLi9CYXNlUGx1Z2luLmpzJztcbi8qKlxuICogRGVmZXIgYSBmcmVxdWVudCBjYWxsIHRvIHRoZSBtaWNyb3Rhc2sgcXVldWUuXG4gKlxuICogQHBhcmFtIHsoKSA9PiBUfSBmblxuICogQHJldHVybnMge1Byb21pc2U8VD59XG4gKi9cblxuZnVuY3Rpb24gZGVib3VuY2UoZm4pIHtcbiAgbGV0IGNhbGxpbmcgPSBudWxsO1xuICBsZXQgbGF0ZXN0QXJncyA9IG51bGw7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGxhdGVzdEFyZ3MgPSBhcmdzO1xuXG4gICAgaWYgKCFjYWxsaW5nKSB7XG4gICAgICBjYWxsaW5nID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgIGNhbGxpbmcgPSBudWxsOyAvLyBBdCB0aGlzIHBvaW50IGBhcmdzYCBtYXkgYmUgZGlmZmVyZW50IGZyb20gdGhlIG1vc3RcbiAgICAgICAgLy8gcmVjZW50IHN0YXRlLCBpZiBtdWx0aXBsZSBjYWxscyBoYXBwZW5lZCBzaW5jZSB0aGlzIHRhc2tcbiAgICAgICAgLy8gd2FzIHF1ZXVlZC4gU28gd2UgdXNlIHRoZSBgbGF0ZXN0QXJnc2AsIHdoaWNoIGRlZmluaXRlbHlcbiAgICAgICAgLy8gaXMgdGhlIG1vc3QgcmVjZW50IGNhbGwuXG5cbiAgICAgICAgcmV0dXJuIGZuKC4uLmxhdGVzdEFyZ3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbGxpbmc7XG4gIH07XG59XG4vKipcbiAqIFVJUGx1Z2luIGlzIHRoZSBleHRlbmRlZCB2ZXJzaW9uIG9mIEJhc2VQbHVnaW4gdG8gaW5jb3Jwb3JhdGUgcmVuZGVyaW5nIHdpdGggUHJlYWN0LlxuICogVXNlIHRoaXMgZm9yIHBsdWdpbnMgdGhhdCBuZWVkIGEgdXNlciBpbnRlcmZhY2UuXG4gKlxuICogRm9yIHBsdWdpbnMgd2l0aG91dCBhbiB1c2VyIGludGVyZmFjZSwgc2VlIEJhc2VQbHVnaW4uXG4gKi9cblxuXG52YXIgX3VwZGF0ZVVJID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwidXBkYXRlVUlcIik7XG5cbmNsYXNzIFVJUGx1Z2luIGV4dGVuZHMgQmFzZVBsdWdpbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF91cGRhdGVVSSwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdm9pZCAwXG4gICAgfSk7XG4gIH1cblxuICBnZXRUYXJnZXRQbHVnaW4odGFyZ2V0KSB7XG4gICAgbGV0IHRhcmdldFBsdWdpbjtcblxuICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJiB0YXJnZXQgaW5zdGFuY2VvZiBVSVBsdWdpbikge1xuICAgICAgLy8gVGFyZ2V0aW5nIGEgcGx1Z2luICppbnN0YW5jZSpcbiAgICAgIHRhcmdldFBsdWdpbiA9IHRhcmdldDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIFRhcmdldGluZyBhIHBsdWdpbiB0eXBlXG4gICAgICBjb25zdCBUYXJnZXQgPSB0YXJnZXQ7IC8vIEZpbmQgdGhlIHRhcmdldCBwbHVnaW4gaW5zdGFuY2UuXG5cbiAgICAgIHRoaXMudXBweS5pdGVyYXRlUGx1Z2lucyhwID0+IHtcbiAgICAgICAgaWYgKHAgaW5zdGFuY2VvZiBUYXJnZXQpIHtcbiAgICAgICAgICB0YXJnZXRQbHVnaW4gPSBwO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0UGx1Z2luO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBzdXBwbGllZCBgdGFyZ2V0YCBpcyBhIERPTSBlbGVtZW50IG9yIGFuIGBvYmplY3RgLlxuICAgKiBJZiBpdOKAmXMgYW4gb2JqZWN0IOKAlCB0YXJnZXQgaXMgYSBwbHVnaW4sIGFuZCB3ZSBzZWFyY2ggYHBsdWdpbnNgXG4gICAqIGZvciBhIHBsdWdpbiB3aXRoIHNhbWUgbmFtZSBhbmQgcmV0dXJuIGl0cyB0YXJnZXQuXG4gICAqL1xuXG5cbiAgbW91bnQodGFyZ2V0LCBwbHVnaW4pIHtcbiAgICBjb25zdCBjYWxsZXJQbHVnaW5OYW1lID0gcGx1Z2luLmlkO1xuICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBmaW5kRE9NRWxlbWVudCh0YXJnZXQpO1xuXG4gICAgaWYgKHRhcmdldEVsZW1lbnQpIHtcbiAgICAgIHRoaXMuaXNUYXJnZXRET01FbCA9IHRydWU7IC8vIFdoZW4gdGFyZ2V0IGlzIDxib2R5PiB3aXRoIGEgc2luZ2xlIDxkaXY+IGVsZW1lbnQsXG4gICAgICAvLyBQcmVhY3QgdGhpbmtzIGl04oCZcyB0aGUgVXBweSByb290IGVsZW1lbnQgaW4gdGhlcmUgd2hlbiBkb2luZyBhIGRpZmYsXG4gICAgICAvLyBhbmQgZGVzdHJveXMgaXQuIFNvIHdlIGFyZSBjcmVhdGluZyBhIGZyYWdtZW50IChjb3VsZCBiZSBlbXB0eSBkaXYpXG5cbiAgICAgIGNvbnN0IHVwcHlSb290RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdXBweVJvb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VwcHktUm9vdCcpOyAvLyBBUEkgZm9yIHBsdWdpbnMgdGhhdCByZXF1aXJlIGEgc3luY2hyb25vdXMgcmVyZW5kZXIuXG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdXBkYXRlVUkpW191cGRhdGVVSV0gPSBkZWJvdW5jZShzdGF0ZSA9PiB7XG4gICAgICAgIC8vIHBsdWdpbiBjb3VsZCBiZSByZW1vdmVkLCBidXQgdGhpcy5yZXJlbmRlciBpcyBkZWJvdW5jZWQgYmVsb3csXG4gICAgICAgIC8vIHNvIGl0IGNvdWxkIHN0aWxsIGJlIGNhbGxlZCBldmVuIGFmdGVyIHVwcHkucmVtb3ZlUGx1Z2luIG9yIHVwcHkuY2xvc2VcbiAgICAgICAgLy8gaGVuY2UgdGhlIGNoZWNrXG4gICAgICAgIGlmICghdGhpcy51cHB5LmdldFBsdWdpbih0aGlzLmlkKSkgcmV0dXJuO1xuICAgICAgICByZW5kZXIodGhpcy5yZW5kZXIoc3RhdGUpLCB1cHB5Um9vdEVsZW1lbnQpO1xuICAgICAgICB0aGlzLmFmdGVyVXBkYXRlKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMudXBweS5sb2coYEluc3RhbGxpbmcgJHtjYWxsZXJQbHVnaW5OYW1lfSB0byBhIERPTSBlbGVtZW50ICcke3RhcmdldH0nYCk7XG5cbiAgICAgIGlmICh0aGlzLm9wdHMucmVwbGFjZVRhcmdldENvbnRlbnQpIHtcbiAgICAgICAgLy8gRG9pbmcgcmVuZGVyKGgobnVsbCksIHRhcmdldEVsZW1lbnQpLCB3aGljaCBzaG91bGQgaGF2ZSBiZWVuXG4gICAgICAgIC8vIGEgYmV0dGVyIHdheSwgc2luY2UgYmVjYXVzZSB0aGUgY29tcG9uZW50IG1pZ2h0IG5lZWQgdG8gZG8gYWRkaXRpb25hbCBjbGVhbnVwIHdoZW4gaXQgaXMgcmVtb3ZlZCxcbiAgICAgICAgLy8gc3RvcHBlZCB3b3JraW5nIOKAlCBQcmVhY3QganVzdCBhZGRzIG51bGwgaW50byB0YXJnZXQsIG5vdCByZXBsYWNpbmdcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cblxuICAgICAgcmVuZGVyKHRoaXMucmVuZGVyKHRoaXMudXBweS5nZXRTdGF0ZSgpKSwgdXBweVJvb3RFbGVtZW50KTtcbiAgICAgIHRoaXMuZWwgPSB1cHB5Um9vdEVsZW1lbnQ7XG4gICAgICB0YXJnZXRFbGVtZW50LmFwcGVuZENoaWxkKHVwcHlSb290RWxlbWVudCk7IC8vIFNldCB0aGUgdGV4dCBkaXJlY3Rpb24gaWYgdGhlIHBhZ2UgaGFzIG5vdCBkZWZpbmVkIG9uZS5cblxuICAgICAgdXBweVJvb3RFbGVtZW50LmRpciA9IHRoaXMub3B0cy5kaXJlY3Rpb24gfHwgZ2V0VGV4dERpcmVjdGlvbih1cHB5Um9vdEVsZW1lbnQpIHx8ICdsdHInO1xuICAgICAgdGhpcy5vbk1vdW50KCk7XG4gICAgICByZXR1cm4gdGhpcy5lbDtcbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXRQbHVnaW4gPSB0aGlzLmdldFRhcmdldFBsdWdpbih0YXJnZXQpO1xuXG4gICAgaWYgKHRhcmdldFBsdWdpbikge1xuICAgICAgdGhpcy51cHB5LmxvZyhgSW5zdGFsbGluZyAke2NhbGxlclBsdWdpbk5hbWV9IHRvICR7dGFyZ2V0UGx1Z2luLmlkfWApO1xuICAgICAgdGhpcy5wYXJlbnQgPSB0YXJnZXRQbHVnaW47XG4gICAgICB0aGlzLmVsID0gdGFyZ2V0UGx1Z2luLmFkZFRhcmdldChwbHVnaW4pO1xuICAgICAgdGhpcy5vbk1vdW50KCk7XG4gICAgICByZXR1cm4gdGhpcy5lbDtcbiAgICB9XG5cbiAgICB0aGlzLnVwcHkubG9nKGBOb3QgaW5zdGFsbGluZyAke2NhbGxlclBsdWdpbk5hbWV9YCk7XG4gICAgbGV0IG1lc3NhZ2UgPSBgSW52YWxpZCB0YXJnZXQgb3B0aW9uIGdpdmVuIHRvICR7Y2FsbGVyUGx1Z2luTmFtZX0uYDtcblxuICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBtZXNzYWdlICs9ICcgVGhlIGdpdmVuIHRhcmdldCBpcyBub3QgYSBQbHVnaW4gY2xhc3MuICcgKyAnUGxlYXNlIGNoZWNrIHRoYXQgeW91XFwncmUgbm90IHNwZWNpZnlpbmcgYSBSZWFjdCBDb21wb25lbnQgaW5zdGVhZCBvZiBhIHBsdWdpbi4gJyArICdJZiB5b3UgYXJlIHVzaW5nIEB1cHB5LyogcGFja2FnZXMgZGlyZWN0bHksIG1ha2Ugc3VyZSB5b3UgaGF2ZSBvbmx5IDEgdmVyc2lvbiBvZiBAdXBweS9jb3JlIGluc3RhbGxlZDogJyArICdydW4gYG5wbSBscyBAdXBweS9jb3JlYCBvbiB0aGUgY29tbWFuZCBsaW5lIGFuZCB2ZXJpZnkgdGhhdCBhbGwgdGhlIHZlcnNpb25zIG1hdGNoIGFuZCBhcmUgZGVkdXBlZCBjb3JyZWN0bHkuJztcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZSArPSAnSWYgeW91IG1lYW50IHRvIHRhcmdldCBhbiBIVE1MIGVsZW1lbnQsIHBsZWFzZSBtYWtlIHN1cmUgdGhhdCB0aGUgZWxlbWVudCBleGlzdHMuICcgKyAnQ2hlY2sgdGhhdCB0aGUgPHNjcmlwdD4gdGFnIGluaXRpYWxpemluZyBVcHB5IGlzIHJpZ2h0IGJlZm9yZSB0aGUgY2xvc2luZyA8L2JvZHk+IHRhZyBhdCB0aGUgZW5kIG9mIHRoZSBwYWdlLiAnICsgJyhzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RyYW5zbG9hZGl0L3VwcHkvaXNzdWVzLzEwNDIpXFxuXFxuJyArICdJZiB5b3UgbWVhbnQgdG8gdGFyZ2V0IGEgcGx1Z2luLCBwbGVhc2UgY29uZmlybSB0aGF0IHlvdXIgYGltcG9ydGAgc3RhdGVtZW50cyBvciBgcmVxdWlyZWAgY2FsbHMgYXJlIGNvcnJlY3QuJztcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH1cblxuICB1cGRhdGUoc3RhdGUpIHtcbiAgICBpZiAodGhpcy5lbCAhPSBudWxsKSB7XG4gICAgICB2YXIgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vLCBfY2xhc3NQcml2YXRlRmllbGRMb28yO1xuXG4gICAgICAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vID0gKF9jbGFzc1ByaXZhdGVGaWVsZExvbzIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3VwZGF0ZVVJKSlbX3VwZGF0ZVVJXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jbGFzc1ByaXZhdGVGaWVsZExvby5jYWxsKF9jbGFzc1ByaXZhdGVGaWVsZExvbzIsIHN0YXRlKTtcbiAgICB9XG4gIH1cblxuICB1bm1vdW50KCkge1xuICAgIGlmICh0aGlzLmlzVGFyZ2V0RE9NRWwpIHtcbiAgICAgIHZhciBfdGhpcyRlbDtcblxuICAgICAgKF90aGlzJGVsID0gdGhpcy5lbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJGVsLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHRoaXMub25Vbm1vdW50KCk7XG4gIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcblxuXG4gIG9uTW91bnQoKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuXG5cbiAgb25Vbm1vdW50KCkge31cblxufVxuXG5leHBvcnQgZGVmYXVsdCBVSVBsdWdpbjsiLCJsZXQgX1N5bWJvbCRmb3IsIF9TeW1ib2wkZm9yMjtcblxuZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTsgfSByZXR1cm4gcmVjZWl2ZXI7IH1cblxudmFyIGlkID0gMDtcblxuZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkobmFtZSkgeyByZXR1cm4gXCJfX3ByaXZhdGVfXCIgKyBpZCsrICsgXCJfXCIgKyBuYW1lOyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1jbGFzc2VzLXBlci1maWxlICovXG5cbi8qIGdsb2JhbCBBZ2dyZWdhdGVFcnJvciAqL1xuaW1wb3J0IFRyYW5zbGF0b3IgZnJvbSAnQHVwcHkvdXRpbHMvbGliL1RyYW5zbGF0b3InO1xuaW1wb3J0IGVlIGZyb20gJ25hbWVzcGFjZS1lbWl0dGVyJztcbmltcG9ydCB7IG5hbm9pZCB9IGZyb20gJ25hbm9pZC9ub24tc2VjdXJlJztcbmltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gudGhyb3R0bGUnO1xuaW1wb3J0IERlZmF1bHRTdG9yZSBmcm9tICdAdXBweS9zdG9yZS1kZWZhdWx0JztcbmltcG9ydCBnZXRGaWxlVHlwZSBmcm9tICdAdXBweS91dGlscy9saWIvZ2V0RmlsZVR5cGUnO1xuaW1wb3J0IGdldEZpbGVOYW1lQW5kRXh0ZW5zaW9uIGZyb20gJ0B1cHB5L3V0aWxzL2xpYi9nZXRGaWxlTmFtZUFuZEV4dGVuc2lvbic7XG5pbXBvcnQgeyBnZXRTYWZlRmlsZUlkIH0gZnJvbSAnQHVwcHkvdXRpbHMvbGliL2dlbmVyYXRlRmlsZUlEJztcbmltcG9ydCBzdXBwb3J0c1VwbG9hZFByb2dyZXNzIGZyb20gJy4vc3VwcG9ydHNVcGxvYWRQcm9ncmVzcy5qcyc7XG5pbXBvcnQgZ2V0RmlsZU5hbWUgZnJvbSAnLi9nZXRGaWxlTmFtZS5qcyc7XG5pbXBvcnQgeyBqdXN0RXJyb3JzTG9nZ2VyLCBkZWJ1Z0xvZ2dlciB9IGZyb20gJy4vbG9nZ2Vycy5qcyc7XG5pbXBvcnQgeyBSZXN0cmljdGVyLCBkZWZhdWx0T3B0aW9ucyBhcyBkZWZhdWx0UmVzdHJpY3Rpb25PcHRpb25zLCBSZXN0cmljdGlvbkVycm9yIH0gZnJvbSAnLi9SZXN0cmljdGVyLmpzJztcbmNvbnN0IHBhY2thZ2VKc29uID0ge1xuICBcInZlcnNpb25cIjogXCIzLjEuMlwiXG59O1xuaW1wb3J0IGxvY2FsZSBmcm9tICcuL2xvY2FsZS5qcyc7XG4vKipcbiAqIFVwcHkgQ29yZSBtb2R1bGUuXG4gKiBNYW5hZ2VzIHBsdWdpbnMsIHN0YXRlIHVwZGF0ZXMsIGFjdHMgYXMgYW4gZXZlbnQgYnVzLFxuICogYWRkcy9yZW1vdmVzIGZpbGVzIGFuZCBtZXRhZGF0YS5cbiAqL1xuXG52YXIgX3BsdWdpbnMgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwbHVnaW5zXCIpO1xuXG52YXIgX3Jlc3RyaWN0ZXIgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXN0cmljdGVyXCIpO1xuXG52YXIgX3N0b3JlVW5zdWJzY3JpYmUgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzdG9yZVVuc3Vic2NyaWJlXCIpO1xuXG52YXIgX2VtaXR0ZXIgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJlbWl0dGVyXCIpO1xuXG52YXIgX3ByZVByb2Nlc3NvcnMgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwcmVQcm9jZXNzb3JzXCIpO1xuXG52YXIgX3VwbG9hZGVycyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInVwbG9hZGVyc1wiKTtcblxudmFyIF9wb3N0UHJvY2Vzc29ycyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInBvc3RQcm9jZXNzb3JzXCIpO1xuXG52YXIgX2luZm9ybUFuZEVtaXQgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpbmZvcm1BbmRFbWl0XCIpO1xuXG52YXIgX2NoZWNrUmVxdWlyZWRNZXRhRmllbGRzT25GaWxlID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiY2hlY2tSZXF1aXJlZE1ldGFGaWVsZHNPbkZpbGVcIik7XG5cbnZhciBfY2hlY2tSZXF1aXJlZE1ldGFGaWVsZHMgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJjaGVja1JlcXVpcmVkTWV0YUZpZWxkc1wiKTtcblxudmFyIF9hc3NlcnROZXdVcGxvYWRBbGxvd2VkID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYXNzZXJ0TmV3VXBsb2FkQWxsb3dlZFwiKTtcblxudmFyIF9jaGVja0FuZENyZWF0ZUZpbGVTdGF0ZU9iamVjdCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImNoZWNrQW5kQ3JlYXRlRmlsZVN0YXRlT2JqZWN0XCIpO1xuXG52YXIgX3N0YXJ0SWZBdXRvUHJvY2VlZCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInN0YXJ0SWZBdXRvUHJvY2VlZFwiKTtcblxudmFyIF9hZGRMaXN0ZW5lcnMgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhZGRMaXN0ZW5lcnNcIik7XG5cbnZhciBfdXBkYXRlT25saW5lU3RhdHVzID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwidXBkYXRlT25saW5lU3RhdHVzXCIpO1xuXG52YXIgX2NyZWF0ZVVwbG9hZCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImNyZWF0ZVVwbG9hZFwiKTtcblxudmFyIF9nZXRVcGxvYWQgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJnZXRVcGxvYWRcIik7XG5cbnZhciBfcmVtb3ZlVXBsb2FkID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVtb3ZlVXBsb2FkXCIpO1xuXG52YXIgX3J1blVwbG9hZCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJ1blVwbG9hZFwiKTtcblxuX1N5bWJvbCRmb3IgPSBTeW1ib2wuZm9yKCd1cHB5IHRlc3Q6IGdldFBsdWdpbnMnKTtcbl9TeW1ib2wkZm9yMiA9IFN5bWJvbC5mb3IoJ3VwcHkgdGVzdDogY3JlYXRlVXBsb2FkJyk7XG5cbmNsYXNzIFVwcHkge1xuICAvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEJhc2VQbHVnaW5bXT59ICovXG5cbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIFVwcHlcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdHMg4oCUIFVwcHkgb3B0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3IoX29wdHMpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3J1blVwbG9hZCwge1xuICAgICAgdmFsdWU6IF9ydW5VcGxvYWQyXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZW1vdmVVcGxvYWQsIHtcbiAgICAgIHZhbHVlOiBfcmVtb3ZlVXBsb2FkMlxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZ2V0VXBsb2FkLCB7XG4gICAgICB2YWx1ZTogX2dldFVwbG9hZDJcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2NyZWF0ZVVwbG9hZCwge1xuICAgICAgdmFsdWU6IF9jcmVhdGVVcGxvYWQyXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hZGRMaXN0ZW5lcnMsIHtcbiAgICAgIHZhbHVlOiBfYWRkTGlzdGVuZXJzMlxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc3RhcnRJZkF1dG9Qcm9jZWVkLCB7XG4gICAgICB2YWx1ZTogX3N0YXJ0SWZBdXRvUHJvY2VlZDJcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2NoZWNrQW5kQ3JlYXRlRmlsZVN0YXRlT2JqZWN0LCB7XG4gICAgICB2YWx1ZTogX2NoZWNrQW5kQ3JlYXRlRmlsZVN0YXRlT2JqZWN0MlxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYXNzZXJ0TmV3VXBsb2FkQWxsb3dlZCwge1xuICAgICAgdmFsdWU6IF9hc3NlcnROZXdVcGxvYWRBbGxvd2VkMlxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfY2hlY2tSZXF1aXJlZE1ldGFGaWVsZHMsIHtcbiAgICAgIHZhbHVlOiBfY2hlY2tSZXF1aXJlZE1ldGFGaWVsZHMyXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9jaGVja1JlcXVpcmVkTWV0YUZpZWxkc09uRmlsZSwge1xuICAgICAgdmFsdWU6IF9jaGVja1JlcXVpcmVkTWV0YUZpZWxkc09uRmlsZTJcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2luZm9ybUFuZEVtaXQsIHtcbiAgICAgIHZhbHVlOiBfaW5mb3JtQW5kRW1pdDJcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3BsdWdpbnMsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUobnVsbClcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Jlc3RyaWN0ZXIsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc3RvcmVVbnN1YnNjcmliZSwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdm9pZCAwXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9lbWl0dGVyLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBlZSgpXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9wcmVQcm9jZXNzb3JzLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBuZXcgU2V0KClcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3VwbG9hZGVycywge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogbmV3IFNldCgpXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9wb3N0UHJvY2Vzc29ycywge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogbmV3IFNldCgpXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF91cGRhdGVPbmxpbmVTdGF0dXMsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHRoaXMudXBkYXRlT25saW5lU3RhdHVzLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLmRlZmF1bHRMb2NhbGUgPSBsb2NhbGU7XG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICBpZDogJ3VwcHknLFxuICAgICAgYXV0b1Byb2NlZWQ6IGZhbHNlLFxuICAgICAgYWxsb3dNdWx0aXBsZVVwbG9hZEJhdGNoZXM6IHRydWUsXG4gICAgICBkZWJ1ZzogZmFsc2UsXG4gICAgICByZXN0cmljdGlvbnM6IGRlZmF1bHRSZXN0cmljdGlvbk9wdGlvbnMsXG4gICAgICBtZXRhOiB7fSxcbiAgICAgIG9uQmVmb3JlRmlsZUFkZGVkOiBjdXJyZW50RmlsZSA9PiBjdXJyZW50RmlsZSxcbiAgICAgIG9uQmVmb3JlVXBsb2FkOiBmaWxlcyA9PiBmaWxlcyxcbiAgICAgIHN0b3JlOiBuZXcgRGVmYXVsdFN0b3JlKCksXG4gICAgICBsb2dnZXI6IGp1c3RFcnJvcnNMb2dnZXIsXG4gICAgICBpbmZvVGltZW91dDogNTAwMFxuICAgIH07IC8vIE1lcmdlIGRlZmF1bHQgb3B0aW9ucyB3aXRoIHRoZSBvbmVzIHNldCBieSB1c2VyLFxuICAgIC8vIG1ha2luZyBzdXJlIHRvIG1lcmdlIHJlc3RyaWN0aW9ucyB0b29cblxuICAgIHRoaXMub3B0cyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5fb3B0cyxcbiAgICAgIHJlc3RyaWN0aW9uczogeyAuLi5kZWZhdWx0T3B0aW9ucy5yZXN0cmljdGlvbnMsXG4gICAgICAgIC4uLihfb3B0cyAmJiBfb3B0cy5yZXN0cmljdGlvbnMpXG4gICAgICB9XG4gICAgfTsgLy8gU3VwcG9ydCBkZWJ1ZzogdHJ1ZSBmb3IgYmFja3dhcmRzLWNvbXBhdGFiaWxpdHksIHVubGVzcyBsb2dnZXIgaXMgc2V0IGluIG9wdHNcbiAgICAvLyBvcHRzIGluc3RlYWQgb2YgdGhpcy5vcHRzIHRvIGF2b2lkIGNvbXBhcmluZyBvYmplY3RzIOKAlCB3ZSBzZXQgbG9nZ2VyOiBqdXN0RXJyb3JzTG9nZ2VyIGluIGRlZmF1bHRPcHRpb25zXG5cbiAgICBpZiAoX29wdHMgJiYgX29wdHMubG9nZ2VyICYmIF9vcHRzLmRlYnVnKSB7XG4gICAgICB0aGlzLmxvZygnWW91IGFyZSB1c2luZyBhIGN1c3RvbSBgbG9nZ2VyYCwgYnV0IGFsc28gc2V0IGBkZWJ1ZzogdHJ1ZWAsIHdoaWNoIHVzZXMgYnVpbHQtaW4gbG9nZ2VyIHRvIG91dHB1dCBsb2dzIHRvIGNvbnNvbGUuIElnbm9yaW5nIGBkZWJ1ZzogdHJ1ZWAgYW5kIHVzaW5nIHlvdXIgY3VzdG9tIGBsb2dnZXJgLicsICd3YXJuaW5nJyk7XG4gICAgfSBlbHNlIGlmIChfb3B0cyAmJiBfb3B0cy5kZWJ1Zykge1xuICAgICAgdGhpcy5vcHRzLmxvZ2dlciA9IGRlYnVnTG9nZ2VyO1xuICAgIH1cblxuICAgIHRoaXMubG9nKGBVc2luZyBDb3JlIHYke3RoaXMuY29uc3RydWN0b3IuVkVSU0lPTn1gKTtcbiAgICB0aGlzLmkxOG5Jbml0KCk7IC8vIF9fX1doeSB0aHJvdHRsZSBhdCA1MDBtcz9cbiAgICAvLyAgICAtIFdlIG11c3QgdGhyb3R0bGUgYXQgPjI1MG1zIGZvciBzdXBlcmZvY3VzIGluIERhc2hib2FyZCB0byB3b3JrIHdlbGxcbiAgICAvLyAgICAoYmVjYXVzZSBhbmltYXRpb24gdGFrZXMgMC4yNXMsIGFuZCB3ZSB3YW50IHRvIHdhaXQgZm9yIGFsbCBhbmltYXRpb25zIHRvIGJlIG92ZXIgYmVmb3JlIHJlZm9jdXNpbmcpLlxuICAgIC8vICAgIFtQcmFjdGljYWwgQ2hlY2tdOiBpZiB0aG90dGxlIGlzIGF0IDEwMG1zLCB0aGVuIGlmIHlvdSBhcmUgdXBsb2FkaW5nIGEgZmlsZSxcbiAgICAvLyAgICBhbmQgY2xpY2sgJ0FERCBNT1JFIEZJTEVTJywgLSBmb2N1cyB3b24ndCBhY3RpdmF0ZSBpbiBGaXJlZm94LlxuICAgIC8vICAgIC0gV2UgbXVzdCB0aHJvdHRsZSBhdCBhcm91bmQgPjUwMG1zIHRvIGF2b2lkIHBlcmZvcm1hbmNlIGxhZ3MuXG4gICAgLy8gICAgW1ByYWN0aWNhbCBDaGVja10gRmlyZWZveCwgdHJ5IHRvIHVwbG9hZCBhIGJpZyBmaWxlIGZvciBhIHByb2xvbmdlZCBwZXJpb2Qgb2YgdGltZS4gTGFwdG9wIHdpbGwgc3RhcnQgdG8gaGVhdCB1cC5cblxuICAgIHRoaXMuY2FsY3VsYXRlUHJvZ3Jlc3MgPSB0aHJvdHRsZSh0aGlzLmNhbGN1bGF0ZVByb2dyZXNzLmJpbmQodGhpcyksIDUwMCwge1xuICAgICAgbGVhZGluZzogdHJ1ZSxcbiAgICAgIHRyYWlsaW5nOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5zdG9yZSA9IHRoaXMub3B0cy5zdG9yZTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHBsdWdpbnM6IHt9LFxuICAgICAgZmlsZXM6IHt9LFxuICAgICAgY3VycmVudFVwbG9hZHM6IHt9LFxuICAgICAgYWxsb3dOZXdVcGxvYWQ6IHRydWUsXG4gICAgICBjYXBhYmlsaXRpZXM6IHtcbiAgICAgICAgdXBsb2FkUHJvZ3Jlc3M6IHN1cHBvcnRzVXBsb2FkUHJvZ3Jlc3MoKSxcbiAgICAgICAgaW5kaXZpZHVhbENhbmNlbGxhdGlvbjogdHJ1ZSxcbiAgICAgICAgcmVzdW1hYmxlVXBsb2FkczogZmFsc2VcbiAgICAgIH0sXG4gICAgICB0b3RhbFByb2dyZXNzOiAwLFxuICAgICAgbWV0YTogeyAuLi50aGlzLm9wdHMubWV0YVxuICAgICAgfSxcbiAgICAgIGluZm86IFtdLFxuICAgICAgcmVjb3ZlcmVkU3RhdGU6IG51bGxcbiAgICB9KTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Jlc3RyaWN0ZXIpW19yZXN0cmljdGVyXSA9IG5ldyBSZXN0cmljdGVyKCgpID0+IHRoaXMub3B0cywgdGhpcy5pMThuKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3N0b3JlVW5zdWJzY3JpYmUpW19zdG9yZVVuc3Vic2NyaWJlXSA9IHRoaXMuc3RvcmUuc3Vic2NyaWJlKChwcmV2U3RhdGUsIG5leHRTdGF0ZSwgcGF0Y2gpID0+IHtcbiAgICAgIHRoaXMuZW1pdCgnc3RhdGUtdXBkYXRlJywgcHJldlN0YXRlLCBuZXh0U3RhdGUsIHBhdGNoKTtcbiAgICAgIHRoaXMudXBkYXRlQWxsKG5leHRTdGF0ZSk7XG4gICAgfSk7IC8vIEV4cG9zaW5nIHVwcHkgb2JqZWN0IG9uIHdpbmRvdyBmb3IgZGVidWdnaW5nIGFuZCB0ZXN0aW5nXG5cbiAgICBpZiAodGhpcy5vcHRzLmRlYnVnICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB3aW5kb3dbdGhpcy5vcHRzLmlkXSA9IHRoaXM7XG4gICAgfVxuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hZGRMaXN0ZW5lcnMpW19hZGRMaXN0ZW5lcnNdKCk7XG4gIH1cblxuICBlbWl0KGV2ZW50KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9lbWl0dGVyKVtfZW1pdHRlcl0uZW1pdChldmVudCwgLi4uYXJncyk7XG4gIH1cblxuICBvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2VtaXR0ZXIpW19lbWl0dGVyXS5vbihldmVudCwgY2FsbGJhY2spO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBvbmNlKGV2ZW50LCBjYWxsYmFjaykge1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZW1pdHRlcilbX2VtaXR0ZXJdLm9uY2UoZXZlbnQsIGNhbGxiYWNrKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgb2ZmKGV2ZW50LCBjYWxsYmFjaykge1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZW1pdHRlcilbX2VtaXR0ZXJdLm9mZihldmVudCwgY2FsbGJhY2spO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEl0ZXJhdGUgb24gYWxsIHBsdWdpbnMgYW5kIHJ1biBgdXBkYXRlYCBvbiB0aGVtLlxuICAgKiBDYWxsZWQgZWFjaCB0aW1lIHN0YXRlIGNoYW5nZXMuXG4gICAqXG4gICAqL1xuXG5cbiAgdXBkYXRlQWxsKHN0YXRlKSB7XG4gICAgdGhpcy5pdGVyYXRlUGx1Z2lucyhwbHVnaW4gPT4ge1xuICAgICAgcGx1Z2luLnVwZGF0ZShzdGF0ZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgc3RhdGUgd2l0aCBhIHBhdGNoXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXRjaCB7Zm9vOiAnYmFyJ31cbiAgICovXG5cblxuICBzZXRTdGF0ZShwYXRjaCkge1xuICAgIHRoaXMuc3RvcmUuc2V0U3RhdGUocGF0Y2gpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGN1cnJlbnQgc3RhdGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuXG5cbiAgZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgfVxuICAvKipcbiAgICogU2hvcnRoYW5kIHRvIHNldCBzdGF0ZSBmb3IgYSBzcGVjaWZpYyBmaWxlLlxuICAgKi9cblxuXG4gIHNldEZpbGVTdGF0ZShmaWxlSUQsIHN0YXRlKSB7XG4gICAgaWYgKCF0aGlzLmdldFN0YXRlKCkuZmlsZXNbZmlsZUlEXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW7igJl0IHNldCBzdGF0ZSBmb3IgJHtmaWxlSUR9ICh0aGUgZmlsZSBjb3VsZCBoYXZlIGJlZW4gcmVtb3ZlZClgKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGZpbGVzOiB7IC4uLnRoaXMuZ2V0U3RhdGUoKS5maWxlcyxcbiAgICAgICAgW2ZpbGVJRF06IHsgLi4udGhpcy5nZXRTdGF0ZSgpLmZpbGVzW2ZpbGVJRF0sXG4gICAgICAgICAgLi4uc3RhdGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaTE4bkluaXQoKSB7XG4gICAgY29uc3QgdHJhbnNsYXRvciA9IG5ldyBUcmFuc2xhdG9yKFt0aGlzLmRlZmF1bHRMb2NhbGUsIHRoaXMub3B0cy5sb2NhbGVdKTtcbiAgICB0aGlzLmkxOG4gPSB0cmFuc2xhdG9yLnRyYW5zbGF0ZS5iaW5kKHRyYW5zbGF0b3IpO1xuICAgIHRoaXMuaTE4bkFycmF5ID0gdHJhbnNsYXRvci50cmFuc2xhdGVBcnJheS5iaW5kKHRyYW5zbGF0b3IpO1xuICAgIHRoaXMubG9jYWxlID0gdHJhbnNsYXRvci5sb2NhbGU7XG4gIH1cblxuICBzZXRPcHRpb25zKG5ld09wdHMpIHtcbiAgICB0aGlzLm9wdHMgPSB7IC4uLnRoaXMub3B0cyxcbiAgICAgIC4uLm5ld09wdHMsXG4gICAgICByZXN0cmljdGlvbnM6IHsgLi4udGhpcy5vcHRzLnJlc3RyaWN0aW9ucyxcbiAgICAgICAgLi4uKG5ld09wdHMgJiYgbmV3T3B0cy5yZXN0cmljdGlvbnMpXG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChuZXdPcHRzLm1ldGEpIHtcbiAgICAgIHRoaXMuc2V0TWV0YShuZXdPcHRzLm1ldGEpO1xuICAgIH1cblxuICAgIHRoaXMuaTE4bkluaXQoKTtcblxuICAgIGlmIChuZXdPcHRzLmxvY2FsZSkge1xuICAgICAgdGhpcy5pdGVyYXRlUGx1Z2lucyhwbHVnaW4gPT4ge1xuICAgICAgICBwbHVnaW4uc2V0T3B0aW9ucyhuZXdPcHRzKTtcbiAgICAgIH0pO1xuICAgIH0gLy8gTm90ZTogdGhpcyBpcyBub3QgdGhlIHByZWFjdCBgc2V0U3RhdGVgLCBpdCdzIGFuIGludGVybmFsIGZ1bmN0aW9uIHRoYXQgaGFzIHRoZSBzYW1lIG5hbWUuXG5cblxuICAgIHRoaXMuc2V0U3RhdGUoKTsgLy8gc28gdGhhdCBVSSByZS1yZW5kZXJzIHdpdGggbmV3IG9wdGlvbnNcbiAgfVxuXG4gIHJlc2V0UHJvZ3Jlc3MoKSB7XG4gICAgY29uc3QgZGVmYXVsdFByb2dyZXNzID0ge1xuICAgICAgcGVyY2VudGFnZTogMCxcbiAgICAgIGJ5dGVzVXBsb2FkZWQ6IDAsXG4gICAgICB1cGxvYWRDb21wbGV0ZTogZmFsc2UsXG4gICAgICB1cGxvYWRTdGFydGVkOiBudWxsXG4gICAgfTtcbiAgICBjb25zdCBmaWxlcyA9IHsgLi4udGhpcy5nZXRTdGF0ZSgpLmZpbGVzXG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVkRmlsZXMgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhmaWxlcykuZm9yRWFjaChmaWxlSUQgPT4ge1xuICAgICAgdXBkYXRlZEZpbGVzW2ZpbGVJRF0gPSB7IC4uLmZpbGVzW2ZpbGVJRF0sXG4gICAgICAgIHByb2dyZXNzOiB7IC4uLmZpbGVzW2ZpbGVJRF0ucHJvZ3Jlc3MsXG4gICAgICAgICAgLi4uZGVmYXVsdFByb2dyZXNzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBmaWxlczogdXBkYXRlZEZpbGVzLFxuICAgICAgdG90YWxQcm9ncmVzczogMCxcbiAgICAgIGFsbG93TmV3VXBsb2FkOiB0cnVlLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICByZWNvdmVyZWRTdGF0ZTogbnVsbFxuICAgIH0pO1xuICAgIHRoaXMuZW1pdCgncmVzZXQtcHJvZ3Jlc3MnKTtcbiAgfVxuXG4gIGFkZFByZVByb2Nlc3Nvcihmbikge1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJlUHJvY2Vzc29ycylbX3ByZVByb2Nlc3NvcnNdLmFkZChmbik7XG4gIH1cblxuICByZW1vdmVQcmVQcm9jZXNzb3IoZm4pIHtcbiAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcmVQcm9jZXNzb3JzKVtfcHJlUHJvY2Vzc29yc10uZGVsZXRlKGZuKTtcbiAgfVxuXG4gIGFkZFBvc3RQcm9jZXNzb3IoZm4pIHtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Bvc3RQcm9jZXNzb3JzKVtfcG9zdFByb2Nlc3NvcnNdLmFkZChmbik7XG4gIH1cblxuICByZW1vdmVQb3N0UHJvY2Vzc29yKGZuKSB7XG4gICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcG9zdFByb2Nlc3NvcnMpW19wb3N0UHJvY2Vzc29yc10uZGVsZXRlKGZuKTtcbiAgfVxuXG4gIGFkZFVwbG9hZGVyKGZuKSB7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF91cGxvYWRlcnMpW191cGxvYWRlcnNdLmFkZChmbik7XG4gIH1cblxuICByZW1vdmVVcGxvYWRlcihmbikge1xuICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3VwbG9hZGVycylbX3VwbG9hZGVyc10uZGVsZXRlKGZuKTtcbiAgfVxuXG4gIHNldE1ldGEoZGF0YSkge1xuICAgIGNvbnN0IHVwZGF0ZWRNZXRhID0geyAuLi50aGlzLmdldFN0YXRlKCkubWV0YSxcbiAgICAgIC4uLmRhdGFcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZWRGaWxlcyA9IHsgLi4udGhpcy5nZXRTdGF0ZSgpLmZpbGVzXG4gICAgfTtcbiAgICBPYmplY3Qua2V5cyh1cGRhdGVkRmlsZXMpLmZvckVhY2goZmlsZUlEID0+IHtcbiAgICAgIHVwZGF0ZWRGaWxlc1tmaWxlSURdID0geyAuLi51cGRhdGVkRmlsZXNbZmlsZUlEXSxcbiAgICAgICAgbWV0YTogeyAuLi51cGRhdGVkRmlsZXNbZmlsZUlEXS5tZXRhLFxuICAgICAgICAgIC4uLmRhdGFcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLmxvZygnQWRkaW5nIG1ldGFkYXRhOicpO1xuICAgIHRoaXMubG9nKGRhdGEpO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbWV0YTogdXBkYXRlZE1ldGEsXG4gICAgICBmaWxlczogdXBkYXRlZEZpbGVzXG4gICAgfSk7XG4gIH1cblxuICBzZXRGaWxlTWV0YShmaWxlSUQsIGRhdGEpIHtcbiAgICBjb25zdCB1cGRhdGVkRmlsZXMgPSB7IC4uLnRoaXMuZ2V0U3RhdGUoKS5maWxlc1xuICAgIH07XG5cbiAgICBpZiAoIXVwZGF0ZWRGaWxlc1tmaWxlSURdKSB7XG4gICAgICB0aGlzLmxvZygnV2FzIHRyeWluZyB0byBzZXQgbWV0YWRhdGEgZm9yIGEgZmlsZSB0aGF0IGhhcyBiZWVuIHJlbW92ZWQ6ICcsIGZpbGVJRCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbmV3TWV0YSA9IHsgLi4udXBkYXRlZEZpbGVzW2ZpbGVJRF0ubWV0YSxcbiAgICAgIC4uLmRhdGFcbiAgICB9O1xuICAgIHVwZGF0ZWRGaWxlc1tmaWxlSURdID0geyAuLi51cGRhdGVkRmlsZXNbZmlsZUlEXSxcbiAgICAgIG1ldGE6IG5ld01ldGFcbiAgICB9O1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZmlsZXM6IHVwZGF0ZWRGaWxlc1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBmaWxlIG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVJRCBUaGUgSUQgb2YgdGhlIGZpbGUgb2JqZWN0IHRvIHJldHVybi5cbiAgICovXG5cblxuICBnZXRGaWxlKGZpbGVJRCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0YXRlKCkuZmlsZXNbZmlsZUlEXTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFsbCBmaWxlcyBpbiBhbiBhcnJheS5cbiAgICovXG5cblxuICBnZXRGaWxlcygpIHtcbiAgICBjb25zdCB7XG4gICAgICBmaWxlc1xuICAgIH0gPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoZmlsZXMpO1xuICB9XG5cbiAgZ2V0T2JqZWN0T2ZGaWxlc1BlclN0YXRlKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpbGVzOiBmaWxlc09iamVjdCxcbiAgICAgIHRvdGFsUHJvZ3Jlc3MsXG4gICAgICBlcnJvclxuICAgIH0gPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgY29uc3QgZmlsZXMgPSBPYmplY3QudmFsdWVzKGZpbGVzT2JqZWN0KTtcbiAgICBjb25zdCBpblByb2dyZXNzRmlsZXMgPSBmaWxlcy5maWx0ZXIoX3JlZiA9PiB7XG4gICAgICBsZXQge1xuICAgICAgICBwcm9ncmVzc1xuICAgICAgfSA9IF9yZWY7XG4gICAgICByZXR1cm4gIXByb2dyZXNzLnVwbG9hZENvbXBsZXRlICYmIHByb2dyZXNzLnVwbG9hZFN0YXJ0ZWQ7XG4gICAgfSk7XG4gICAgY29uc3QgbmV3RmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiAhZmlsZS5wcm9ncmVzcy51cGxvYWRTdGFydGVkKTtcbiAgICBjb25zdCBzdGFydGVkRmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBmaWxlLnByb2dyZXNzLnVwbG9hZFN0YXJ0ZWQgfHwgZmlsZS5wcm9ncmVzcy5wcmVwcm9jZXNzIHx8IGZpbGUucHJvZ3Jlc3MucG9zdHByb2Nlc3MpO1xuICAgIGNvbnN0IHVwbG9hZFN0YXJ0ZWRGaWxlcyA9IGZpbGVzLmZpbHRlcihmaWxlID0+IGZpbGUucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZCk7XG4gICAgY29uc3QgcGF1c2VkRmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBmaWxlLmlzUGF1c2VkKTtcbiAgICBjb25zdCBjb21wbGV0ZUZpbGVzID0gZmlsZXMuZmlsdGVyKGZpbGUgPT4gZmlsZS5wcm9ncmVzcy51cGxvYWRDb21wbGV0ZSk7XG4gICAgY29uc3QgZXJyb3JlZEZpbGVzID0gZmlsZXMuZmlsdGVyKGZpbGUgPT4gZmlsZS5lcnJvcik7XG4gICAgY29uc3QgaW5Qcm9ncmVzc05vdFBhdXNlZEZpbGVzID0gaW5Qcm9ncmVzc0ZpbGVzLmZpbHRlcihmaWxlID0+ICFmaWxlLmlzUGF1c2VkKTtcbiAgICBjb25zdCBwcm9jZXNzaW5nRmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBmaWxlLnByb2dyZXNzLnByZXByb2Nlc3MgfHwgZmlsZS5wcm9ncmVzcy5wb3N0cHJvY2Vzcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5ld0ZpbGVzLFxuICAgICAgc3RhcnRlZEZpbGVzLFxuICAgICAgdXBsb2FkU3RhcnRlZEZpbGVzLFxuICAgICAgcGF1c2VkRmlsZXMsXG4gICAgICBjb21wbGV0ZUZpbGVzLFxuICAgICAgZXJyb3JlZEZpbGVzLFxuICAgICAgaW5Qcm9ncmVzc0ZpbGVzLFxuICAgICAgaW5Qcm9ncmVzc05vdFBhdXNlZEZpbGVzLFxuICAgICAgcHJvY2Vzc2luZ0ZpbGVzLFxuICAgICAgaXNVcGxvYWRTdGFydGVkOiB1cGxvYWRTdGFydGVkRmlsZXMubGVuZ3RoID4gMCxcbiAgICAgIGlzQWxsQ29tcGxldGU6IHRvdGFsUHJvZ3Jlc3MgPT09IDEwMCAmJiBjb21wbGV0ZUZpbGVzLmxlbmd0aCA9PT0gZmlsZXMubGVuZ3RoICYmIHByb2Nlc3NpbmdGaWxlcy5sZW5ndGggPT09IDAsXG4gICAgICBpc0FsbEVycm9yZWQ6ICEhZXJyb3IgJiYgZXJyb3JlZEZpbGVzLmxlbmd0aCA9PT0gZmlsZXMubGVuZ3RoLFxuICAgICAgaXNBbGxQYXVzZWQ6IGluUHJvZ3Jlc3NGaWxlcy5sZW5ndGggIT09IDAgJiYgcGF1c2VkRmlsZXMubGVuZ3RoID09PSBpblByb2dyZXNzRmlsZXMubGVuZ3RoLFxuICAgICAgaXNVcGxvYWRJblByb2dyZXNzOiBpblByb2dyZXNzRmlsZXMubGVuZ3RoID4gMCxcbiAgICAgIGlzU29tZUdob3N0OiBmaWxlcy5zb21lKGZpbGUgPT4gZmlsZS5pc0dob3N0KVxuICAgIH07XG4gIH1cbiAgLypcbiAgKiBAY29uc3RydWN0c1xuICAqIEBwYXJhbSB7IEVycm9yIH0gZXJyb3JcbiAgKiBAcGFyYW0geyB1bmRlZmluZWQgfSBmaWxlXG4gICovXG5cbiAgLypcbiAgKiBAY29uc3RydWN0c1xuICAqIEBwYXJhbSB7IFJlc3RyaWN0aW9uRXJyb3IgfSBlcnJvclxuICAqIEBwYXJhbSB7IFVwcHlGaWxlIHwgdW5kZWZpbmVkIH0gZmlsZVxuICAqL1xuXG5cbiAgdmFsaWRhdGVSZXN0cmljdGlvbnMoZmlsZSwgZmlsZXMpIHtcbiAgICBpZiAoZmlsZXMgPT09IHZvaWQgMCkge1xuICAgICAgZmlsZXMgPSB0aGlzLmdldEZpbGVzKCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVzdHJpY3RlcilbX3Jlc3RyaWN0ZXJdLnZhbGlkYXRlKGZpbGUsIGZpbGVzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiBlcnI7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjaGVja0lmRmlsZUFscmVhZHlFeGlzdHMoZmlsZUlEKSB7XG4gICAgY29uc3Qge1xuICAgICAgZmlsZXNcbiAgICB9ID0gdGhpcy5nZXRTdGF0ZSgpO1xuXG4gICAgaWYgKGZpbGVzW2ZpbGVJRF0gJiYgIWZpbGVzW2ZpbGVJRF0uaXNHaG9zdCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBmaWxlIHN0YXRlIG9iamVjdCBiYXNlZCBvbiB1c2VyLXByb3ZpZGVkIGBhZGRGaWxlKClgIG9wdGlvbnMuXG4gICAqXG4gICAqIE5vdGUgdGhpcyBpcyBleHRyZW1lbHkgc2lkZS1lZmZlY3RmdWwgYW5kIHNob3VsZCBvbmx5IGJlIGRvbmUgd2hlbiBhIGZpbGUgc3RhdGUgb2JqZWN0XG4gICAqIHdpbGwgYmUgYWRkZWQgdG8gc3RhdGUgaW1tZWRpYXRlbHkgYWZ0ZXJ3YXJkIVxuICAgKlxuICAgKiBUaGUgYGZpbGVzYCB2YWx1ZSBpcyBwYXNzZWQgaW4gYmVjYXVzZSBpdCBtYXkgYmUgdXBkYXRlZCBieSB0aGUgY2FsbGVyIHdpdGhvdXQgdXBkYXRpbmcgdGhlIHN0b3JlLlxuICAgKi9cblxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgZmlsZSB0byBgc3RhdGUuZmlsZXNgLiBUaGlzIHdpbGwgcnVuIGBvbkJlZm9yZUZpbGVBZGRlZGAsXG4gICAqIHRyeSB0byBndWVzcyBmaWxlIHR5cGUgaW4gYSBjbGV2ZXIgd2F5LCBjaGVjayBmaWxlIGFnYWluc3QgcmVzdHJpY3Rpb25zLFxuICAgKiBhbmQgc3RhcnQgYW4gdXBsb2FkIGlmIGBhdXRvUHJvY2VlZCA9PT0gdHJ1ZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBmaWxlIG9iamVjdCB0byBhZGRcbiAgICogQHJldHVybnMge3N0cmluZ30gaWQgZm9yIHRoZSBhZGRlZCBmaWxlXG4gICAqL1xuICBhZGRGaWxlKGZpbGUpIHtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2Fzc2VydE5ld1VwbG9hZEFsbG93ZWQpW19hc3NlcnROZXdVcGxvYWRBbGxvd2VkXShmaWxlKTtcblxuICAgIGNvbnN0IHtcbiAgICAgIGZpbGVzXG4gICAgfSA9IHRoaXMuZ2V0U3RhdGUoKTtcblxuICAgIGxldCBuZXdGaWxlID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jaGVja0FuZENyZWF0ZUZpbGVTdGF0ZU9iamVjdClbX2NoZWNrQW5kQ3JlYXRlRmlsZVN0YXRlT2JqZWN0XShmaWxlcywgZmlsZSk7IC8vIFVzZXJzIGFyZSBhc2tlZCB0byByZS1zZWxlY3QgcmVjb3ZlcmVkIGZpbGVzIHdpdGhvdXQgZGF0YSxcbiAgICAvLyBhbmQgdG8ga2VlcCB0aGUgcHJvZ3Jlc3MsIG1ldGEgYW5kIGV2ZXJ0aGluZyBlbHNlLCB3ZSBvbmx5IHJlcGxhY2Ugc2FpZCBkYXRhXG5cblxuICAgIGlmIChmaWxlc1tuZXdGaWxlLmlkXSAmJiBmaWxlc1tuZXdGaWxlLmlkXS5pc0dob3N0KSB7XG4gICAgICBuZXdGaWxlID0geyAuLi5maWxlc1tuZXdGaWxlLmlkXSxcbiAgICAgICAgZGF0YTogZmlsZS5kYXRhLFxuICAgICAgICBpc0dob3N0OiBmYWxzZVxuICAgICAgfTtcbiAgICAgIHRoaXMubG9nKGBSZXBsYWNlZCB0aGUgYmxvYiBpbiB0aGUgcmVzdG9yZWQgZ2hvc3QgZmlsZTogJHtuZXdGaWxlLm5hbWV9LCAke25ld0ZpbGUuaWR9YCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBmaWxlczogeyAuLi5maWxlcyxcbiAgICAgICAgW25ld0ZpbGUuaWRdOiBuZXdGaWxlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5lbWl0KCdmaWxlLWFkZGVkJywgbmV3RmlsZSk7XG4gICAgdGhpcy5lbWl0KCdmaWxlcy1hZGRlZCcsIFtuZXdGaWxlXSk7XG4gICAgdGhpcy5sb2coYEFkZGVkIGZpbGU6ICR7bmV3RmlsZS5uYW1lfSwgJHtuZXdGaWxlLmlkfSwgbWltZSB0eXBlOiAke25ld0ZpbGUudHlwZX1gKTtcblxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc3RhcnRJZkF1dG9Qcm9jZWVkKVtfc3RhcnRJZkF1dG9Qcm9jZWVkXSgpO1xuXG4gICAgcmV0dXJuIG5ld0ZpbGUuaWQ7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBtdWx0aXBsZSBmaWxlcyB0byBgc3RhdGUuZmlsZXNgLiBTZWUgdGhlIGBhZGRGaWxlKClgIGRvY3VtZW50YXRpb24uXG4gICAqXG4gICAqIElmIGFuIGVycm9yIG9jY3VycyB3aGlsZSBhZGRpbmcgYSBmaWxlLCBpdCBpcyBsb2dnZWQgYW5kIHRoZSB1c2VyIGlzIG5vdGlmaWVkLlxuICAgKiBUaGlzIGlzIGdvb2QgZm9yIFVJIHBsdWdpbnMsIGJ1dCBub3QgZm9yIHByb2dyYW1tYXRpYyB1c2UuXG4gICAqIFByb2dyYW1tYXRpYyB1c2VycyBzaG91bGQgdXN1YWxseSBzdGlsbCB1c2UgYGFkZEZpbGUoKWAgb24gaW5kaXZpZHVhbCBmaWxlcy5cbiAgICovXG5cblxuICBhZGRGaWxlcyhmaWxlRGVzY3JpcHRvcnMpIHtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2Fzc2VydE5ld1VwbG9hZEFsbG93ZWQpW19hc3NlcnROZXdVcGxvYWRBbGxvd2VkXSgpOyAvLyBjcmVhdGUgYSBjb3B5IG9mIHRoZSBmaWxlcyBvYmplY3Qgb25seSBvbmNlXG5cblxuICAgIGNvbnN0IGZpbGVzID0geyAuLi50aGlzLmdldFN0YXRlKCkuZmlsZXNcbiAgICB9O1xuICAgIGNvbnN0IG5ld0ZpbGVzID0gW107XG4gICAgY29uc3QgZXJyb3JzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVEZXNjcmlwdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IG5ld0ZpbGUgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NoZWNrQW5kQ3JlYXRlRmlsZVN0YXRlT2JqZWN0KVtfY2hlY2tBbmRDcmVhdGVGaWxlU3RhdGVPYmplY3RdKGZpbGVzLCBmaWxlRGVzY3JpcHRvcnNbaV0pOyAvLyBVc2VycyBhcmUgYXNrZWQgdG8gcmUtc2VsZWN0IHJlY292ZXJlZCBmaWxlcyB3aXRob3V0IGRhdGEsXG4gICAgICAgIC8vIGFuZCB0byBrZWVwIHRoZSBwcm9ncmVzcywgbWV0YSBhbmQgZXZlcnRoaW5nIGVsc2UsIHdlIG9ubHkgcmVwbGFjZSBzYWlkIGRhdGFcblxuXG4gICAgICAgIGlmIChmaWxlc1tuZXdGaWxlLmlkXSAmJiBmaWxlc1tuZXdGaWxlLmlkXS5pc0dob3N0KSB7XG4gICAgICAgICAgbmV3RmlsZSA9IHsgLi4uZmlsZXNbbmV3RmlsZS5pZF0sXG4gICAgICAgICAgICBkYXRhOiBmaWxlRGVzY3JpcHRvcnNbaV0uZGF0YSxcbiAgICAgICAgICAgIGlzR2hvc3Q6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLmxvZyhgUmVwbGFjZWQgYmxvYiBpbiBhIGdob3N0IGZpbGU6ICR7bmV3RmlsZS5uYW1lfSwgJHtuZXdGaWxlLmlkfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgZmlsZXNbbmV3RmlsZS5pZF0gPSBuZXdGaWxlO1xuICAgICAgICBuZXdGaWxlcy5wdXNoKG5ld0ZpbGUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmICghZXJyLmlzUmVzdHJpY3Rpb24pIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBmaWxlc1xuICAgIH0pO1xuICAgIG5ld0ZpbGVzLmZvckVhY2gobmV3RmlsZSA9PiB7XG4gICAgICB0aGlzLmVtaXQoJ2ZpbGUtYWRkZWQnLCBuZXdGaWxlKTtcbiAgICB9KTtcbiAgICB0aGlzLmVtaXQoJ2ZpbGVzLWFkZGVkJywgbmV3RmlsZXMpO1xuXG4gICAgaWYgKG5ld0ZpbGVzLmxlbmd0aCA+IDUpIHtcbiAgICAgIHRoaXMubG9nKGBBZGRlZCBiYXRjaCBvZiAke25ld0ZpbGVzLmxlbmd0aH0gZmlsZXNgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmtleXMobmV3RmlsZXMpLmZvckVhY2goZmlsZUlEID0+IHtcbiAgICAgICAgdGhpcy5sb2coYEFkZGVkIGZpbGU6ICR7bmV3RmlsZXNbZmlsZUlEXS5uYW1lfVxcbiBpZDogJHtuZXdGaWxlc1tmaWxlSURdLmlkfVxcbiB0eXBlOiAke25ld0ZpbGVzW2ZpbGVJRF0udHlwZX1gKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChuZXdGaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3N0YXJ0SWZBdXRvUHJvY2VlZClbX3N0YXJ0SWZBdXRvUHJvY2VlZF0oKTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBtZXNzYWdlID0gJ011bHRpcGxlIGVycm9ycyBvY2N1cnJlZCB3aGlsZSBhZGRpbmcgZmlsZXM6XFxuJztcbiAgICAgIGVycm9ycy5mb3JFYWNoKHN1YkVycm9yID0+IHtcbiAgICAgICAgbWVzc2FnZSArPSBgXFxuICogJHtzdWJFcnJvci5tZXNzYWdlfWA7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuaW5mbyh7XG4gICAgICAgIG1lc3NhZ2U6IHRoaXMuaTE4bignYWRkQnVsa0ZpbGVzRmFpbGVkJywge1xuICAgICAgICAgIHNtYXJ0X2NvdW50OiBlcnJvcnMubGVuZ3RoXG4gICAgICAgIH0pLFxuICAgICAgICBkZXRhaWxzOiBtZXNzYWdlXG4gICAgICB9LCAnZXJyb3InLCB0aGlzLm9wdHMuaW5mb1RpbWVvdXQpO1xuXG4gICAgICBpZiAodHlwZW9mIEFnZ3JlZ2F0ZUVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBBZ2dyZWdhdGVFcnJvcihlcnJvcnMsIG1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICBlcnIuZXJyb3JzID0gZXJyb3JzO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlRmlsZXMoZmlsZUlEcywgcmVhc29uKSB7XG4gICAgY29uc3Qge1xuICAgICAgZmlsZXMsXG4gICAgICBjdXJyZW50VXBsb2Fkc1xuICAgIH0gPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgY29uc3QgdXBkYXRlZEZpbGVzID0geyAuLi5maWxlc1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlZFVwbG9hZHMgPSB7IC4uLmN1cnJlbnRVcGxvYWRzXG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVkRmlsZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZpbGVJRHMuZm9yRWFjaChmaWxlSUQgPT4ge1xuICAgICAgaWYgKGZpbGVzW2ZpbGVJRF0pIHtcbiAgICAgICAgcmVtb3ZlZEZpbGVzW2ZpbGVJRF0gPSBmaWxlc1tmaWxlSURdO1xuICAgICAgICBkZWxldGUgdXBkYXRlZEZpbGVzW2ZpbGVJRF07XG4gICAgICB9XG4gICAgfSk7IC8vIFJlbW92ZSBmaWxlcyBmcm9tIHRoZSBgZmlsZUlEc2AgbGlzdCBpbiBlYWNoIHVwbG9hZC5cblxuICAgIGZ1bmN0aW9uIGZpbGVJc05vdFJlbW92ZWQodXBsb2FkRmlsZUlEKSB7XG4gICAgICByZXR1cm4gcmVtb3ZlZEZpbGVzW3VwbG9hZEZpbGVJRF0gPT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyh1cGRhdGVkVXBsb2FkcykuZm9yRWFjaCh1cGxvYWRJRCA9PiB7XG4gICAgICBjb25zdCBuZXdGaWxlSURzID0gY3VycmVudFVwbG9hZHNbdXBsb2FkSURdLmZpbGVJRHMuZmlsdGVyKGZpbGVJc05vdFJlbW92ZWQpOyAvLyBSZW1vdmUgdGhlIHVwbG9hZCBpZiBubyBmaWxlcyBhcmUgYXNzb2NpYXRlZCB3aXRoIGl0IGFueW1vcmUuXG5cbiAgICAgIGlmIChuZXdGaWxlSURzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkZWxldGUgdXBkYXRlZFVwbG9hZHNbdXBsb2FkSURdO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY2FwYWJpbGl0aWVzXG4gICAgICB9ID0gdGhpcy5nZXRTdGF0ZSgpO1xuXG4gICAgICBpZiAobmV3RmlsZUlEcy5sZW5ndGggIT09IGN1cnJlbnRVcGxvYWRzW3VwbG9hZElEXS5maWxlSURzLmxlbmd0aCAmJiAhY2FwYWJpbGl0aWVzLmluZGl2aWR1YWxDYW5jZWxsYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbmRpdmlkdWFsQ2FuY2VsbGF0aW9uIGlzIGRpc2FibGVkJyk7XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZWRVcGxvYWRzW3VwbG9hZElEXSA9IHsgLi4uY3VycmVudFVwbG9hZHNbdXBsb2FkSURdLFxuICAgICAgICBmaWxlSURzOiBuZXdGaWxlSURzXG4gICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHN0YXRlVXBkYXRlID0ge1xuICAgICAgY3VycmVudFVwbG9hZHM6IHVwZGF0ZWRVcGxvYWRzLFxuICAgICAgZmlsZXM6IHVwZGF0ZWRGaWxlc1xuICAgIH07IC8vIElmIGFsbCBmaWxlcyB3ZXJlIHJlbW92ZWQgLSBhbGxvdyBuZXcgdXBsb2FkcyxcbiAgICAvLyBhbmQgY2xlYXIgcmVjb3ZlcmVkU3RhdGVcblxuICAgIGlmIChPYmplY3Qua2V5cyh1cGRhdGVkRmlsZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc3RhdGVVcGRhdGUuYWxsb3dOZXdVcGxvYWQgPSB0cnVlO1xuICAgICAgc3RhdGVVcGRhdGUuZXJyb3IgPSBudWxsO1xuICAgICAgc3RhdGVVcGRhdGUucmVjb3ZlcmVkU3RhdGUgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGVVcGRhdGUpO1xuICAgIHRoaXMuY2FsY3VsYXRlVG90YWxQcm9ncmVzcygpO1xuICAgIGNvbnN0IHJlbW92ZWRGaWxlSURzID0gT2JqZWN0LmtleXMocmVtb3ZlZEZpbGVzKTtcbiAgICByZW1vdmVkRmlsZUlEcy5mb3JFYWNoKGZpbGVJRCA9PiB7XG4gICAgICB0aGlzLmVtaXQoJ2ZpbGUtcmVtb3ZlZCcsIHJlbW92ZWRGaWxlc1tmaWxlSURdLCByZWFzb24pO1xuICAgIH0pO1xuXG4gICAgaWYgKHJlbW92ZWRGaWxlSURzLmxlbmd0aCA+IDUpIHtcbiAgICAgIHRoaXMubG9nKGBSZW1vdmVkICR7cmVtb3ZlZEZpbGVJRHMubGVuZ3RofSBmaWxlc2ApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZyhgUmVtb3ZlZCBmaWxlczogJHtyZW1vdmVkRmlsZUlEcy5qb2luKCcsICcpfWApO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZUZpbGUoZmlsZUlELCByZWFzb24pIHtcbiAgICBpZiAocmVhc29uID09PSB2b2lkIDApIHtcbiAgICAgIHJlYXNvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5yZW1vdmVGaWxlcyhbZmlsZUlEXSwgcmVhc29uKTtcbiAgfVxuXG4gIHBhdXNlUmVzdW1lKGZpbGVJRCkge1xuICAgIGlmICghdGhpcy5nZXRTdGF0ZSgpLmNhcGFiaWxpdGllcy5yZXN1bWFibGVVcGxvYWRzIHx8IHRoaXMuZ2V0RmlsZShmaWxlSUQpLnVwbG9hZENvbXBsZXRlKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGNvbnN0IHdhc1BhdXNlZCA9IHRoaXMuZ2V0RmlsZShmaWxlSUQpLmlzUGF1c2VkIHx8IGZhbHNlO1xuICAgIGNvbnN0IGlzUGF1c2VkID0gIXdhc1BhdXNlZDtcbiAgICB0aGlzLnNldEZpbGVTdGF0ZShmaWxlSUQsIHtcbiAgICAgIGlzUGF1c2VkXG4gICAgfSk7XG4gICAgdGhpcy5lbWl0KCd1cGxvYWQtcGF1c2UnLCBmaWxlSUQsIGlzUGF1c2VkKTtcbiAgICByZXR1cm4gaXNQYXVzZWQ7XG4gIH1cblxuICBwYXVzZUFsbCgpIHtcbiAgICBjb25zdCB1cGRhdGVkRmlsZXMgPSB7IC4uLnRoaXMuZ2V0U3RhdGUoKS5maWxlc1xuICAgIH07XG4gICAgY29uc3QgaW5Qcm9ncmVzc1VwZGF0ZWRGaWxlcyA9IE9iamVjdC5rZXlzKHVwZGF0ZWRGaWxlcykuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgcmV0dXJuICF1cGRhdGVkRmlsZXNbZmlsZV0ucHJvZ3Jlc3MudXBsb2FkQ29tcGxldGUgJiYgdXBkYXRlZEZpbGVzW2ZpbGVdLnByb2dyZXNzLnVwbG9hZFN0YXJ0ZWQ7XG4gICAgfSk7XG4gICAgaW5Qcm9ncmVzc1VwZGF0ZWRGaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZEZpbGUgPSB7IC4uLnVwZGF0ZWRGaWxlc1tmaWxlXSxcbiAgICAgICAgaXNQYXVzZWQ6IHRydWVcbiAgICAgIH07XG4gICAgICB1cGRhdGVkRmlsZXNbZmlsZV0gPSB1cGRhdGVkRmlsZTtcbiAgICB9KTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGZpbGVzOiB1cGRhdGVkRmlsZXNcbiAgICB9KTtcbiAgICB0aGlzLmVtaXQoJ3BhdXNlLWFsbCcpO1xuICB9XG5cbiAgcmVzdW1lQWxsKCkge1xuICAgIGNvbnN0IHVwZGF0ZWRGaWxlcyA9IHsgLi4udGhpcy5nZXRTdGF0ZSgpLmZpbGVzXG4gICAgfTtcbiAgICBjb25zdCBpblByb2dyZXNzVXBkYXRlZEZpbGVzID0gT2JqZWN0LmtleXModXBkYXRlZEZpbGVzKS5maWx0ZXIoZmlsZSA9PiB7XG4gICAgICByZXR1cm4gIXVwZGF0ZWRGaWxlc1tmaWxlXS5wcm9ncmVzcy51cGxvYWRDb21wbGV0ZSAmJiB1cGRhdGVkRmlsZXNbZmlsZV0ucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZDtcbiAgICB9KTtcbiAgICBpblByb2dyZXNzVXBkYXRlZEZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICBjb25zdCB1cGRhdGVkRmlsZSA9IHsgLi4udXBkYXRlZEZpbGVzW2ZpbGVdLFxuICAgICAgICBpc1BhdXNlZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiBudWxsXG4gICAgICB9O1xuICAgICAgdXBkYXRlZEZpbGVzW2ZpbGVdID0gdXBkYXRlZEZpbGU7XG4gICAgfSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBmaWxlczogdXBkYXRlZEZpbGVzXG4gICAgfSk7XG4gICAgdGhpcy5lbWl0KCdyZXN1bWUtYWxsJyk7XG4gIH1cblxuICByZXRyeUFsbCgpIHtcbiAgICBjb25zdCB1cGRhdGVkRmlsZXMgPSB7IC4uLnRoaXMuZ2V0U3RhdGUoKS5maWxlc1xuICAgIH07XG4gICAgY29uc3QgZmlsZXNUb1JldHJ5ID0gT2JqZWN0LmtleXModXBkYXRlZEZpbGVzKS5maWx0ZXIoZmlsZSA9PiB7XG4gICAgICByZXR1cm4gdXBkYXRlZEZpbGVzW2ZpbGVdLmVycm9yO1xuICAgIH0pO1xuICAgIGZpbGVzVG9SZXRyeS5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZEZpbGUgPSB7IC4uLnVwZGF0ZWRGaWxlc1tmaWxlXSxcbiAgICAgICAgaXNQYXVzZWQ6IGZhbHNlLFxuICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgfTtcbiAgICAgIHVwZGF0ZWRGaWxlc1tmaWxlXSA9IHVwZGF0ZWRGaWxlO1xuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZmlsZXM6IHVwZGF0ZWRGaWxlcyxcbiAgICAgIGVycm9yOiBudWxsXG4gICAgfSk7XG4gICAgdGhpcy5lbWl0KCdyZXRyeS1hbGwnLCBmaWxlc1RvUmV0cnkpO1xuXG4gICAgaWYgKGZpbGVzVG9SZXRyeS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICBzdWNjZXNzZnVsOiBbXSxcbiAgICAgICAgZmFpbGVkOiBbXVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXBsb2FkSUQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NyZWF0ZVVwbG9hZClbX2NyZWF0ZVVwbG9hZF0oZmlsZXNUb1JldHJ5LCB7XG4gICAgICBmb3JjZUFsbG93TmV3VXBsb2FkOiB0cnVlIC8vIGNyZWF0ZSBuZXcgdXBsb2FkIGV2ZW4gaWYgYWxsb3dOZXdVcGxvYWQ6IGZhbHNlXG5cbiAgICB9KTtcblxuICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3J1blVwbG9hZClbX3J1blVwbG9hZF0odXBsb2FkSUQpO1xuICB9XG5cbiAgY2FuY2VsQWxsKF90ZW1wKSB7XG4gICAgbGV0IHtcbiAgICAgIHJlYXNvbiA9ICd1c2VyJ1xuICAgIH0gPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDtcbiAgICB0aGlzLmVtaXQoJ2NhbmNlbC1hbGwnLCB7XG4gICAgICByZWFzb25cbiAgICB9KTsgLy8gT25seSByZW1vdmUgZXhpc3RpbmcgdXBsb2FkcyBpZiB1c2VyIGlzIGNhbmNlbGluZ1xuXG4gICAgaWYgKHJlYXNvbiA9PT0gJ3VzZXInKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZpbGVzXG4gICAgICB9ID0gdGhpcy5nZXRTdGF0ZSgpO1xuICAgICAgY29uc3QgZmlsZUlEcyA9IE9iamVjdC5rZXlzKGZpbGVzKTtcblxuICAgICAgaWYgKGZpbGVJRHMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRmlsZXMoZmlsZUlEcywgJ2NhbmNlbC1hbGwnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHRvdGFsUHJvZ3Jlc3M6IDAsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICByZWNvdmVyZWRTdGF0ZTogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0cnlVcGxvYWQoZmlsZUlEKSB7XG4gICAgdGhpcy5zZXRGaWxlU3RhdGUoZmlsZUlELCB7XG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIGlzUGF1c2VkOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMuZW1pdCgndXBsb2FkLXJldHJ5JywgZmlsZUlEKTtcblxuICAgIGNvbnN0IHVwbG9hZElEID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jcmVhdGVVcGxvYWQpW19jcmVhdGVVcGxvYWRdKFtmaWxlSURdLCB7XG4gICAgICBmb3JjZUFsbG93TmV3VXBsb2FkOiB0cnVlIC8vIGNyZWF0ZSBuZXcgdXBsb2FkIGV2ZW4gaWYgYWxsb3dOZXdVcGxvYWQ6IGZhbHNlXG5cbiAgICB9KTtcblxuICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3J1blVwbG9hZClbX3J1blVwbG9hZF0odXBsb2FkSUQpO1xuICB9XG5cbiAgbG9nb3V0KCkge1xuICAgIHRoaXMuaXRlcmF0ZVBsdWdpbnMocGx1Z2luID0+IHtcbiAgICAgIGlmIChwbHVnaW4ucHJvdmlkZXIgJiYgcGx1Z2luLnByb3ZpZGVyLmxvZ291dCkge1xuICAgICAgICBwbHVnaW4ucHJvdmlkZXIubG9nb3V0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjYWxjdWxhdGVQcm9ncmVzcyhmaWxlLCBkYXRhKSB7XG4gICAgaWYgKGZpbGUgPT0gbnVsbCB8fCAhdGhpcy5nZXRGaWxlKGZpbGUuaWQpKSB7XG4gICAgICB0aGlzLmxvZyhgTm90IHNldHRpbmcgcHJvZ3Jlc3MgZm9yIGEgZmlsZSB0aGF0IGhhcyBiZWVuIHJlbW92ZWQ6ICR7ZmlsZSA9PSBudWxsID8gdm9pZCAwIDogZmlsZS5pZH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGJ5dGVzVG90YWwgbWF5IGJlIG51bGwgb3IgemVybzsgaW4gdGhhdCBjYXNlIHdlIGNhbid0IGRpdmlkZSBieSBpdFxuXG5cbiAgICBjb25zdCBjYW5IYXZlUGVyY2VudGFnZSA9IE51bWJlci5pc0Zpbml0ZShkYXRhLmJ5dGVzVG90YWwpICYmIGRhdGEuYnl0ZXNUb3RhbCA+IDA7XG4gICAgdGhpcy5zZXRGaWxlU3RhdGUoZmlsZS5pZCwge1xuICAgICAgcHJvZ3Jlc3M6IHsgLi4udGhpcy5nZXRGaWxlKGZpbGUuaWQpLnByb2dyZXNzLFxuICAgICAgICBieXRlc1VwbG9hZGVkOiBkYXRhLmJ5dGVzVXBsb2FkZWQsXG4gICAgICAgIGJ5dGVzVG90YWw6IGRhdGEuYnl0ZXNUb3RhbCxcbiAgICAgICAgcGVyY2VudGFnZTogY2FuSGF2ZVBlcmNlbnRhZ2UgPyBNYXRoLnJvdW5kKGRhdGEuYnl0ZXNVcGxvYWRlZCAvIGRhdGEuYnl0ZXNUb3RhbCAqIDEwMCkgOiAwXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5jYWxjdWxhdGVUb3RhbFByb2dyZXNzKCk7XG4gIH1cblxuICBjYWxjdWxhdGVUb3RhbFByb2dyZXNzKCkge1xuICAgIC8vIGNhbGN1bGF0ZSB0b3RhbCBwcm9ncmVzcywgdXNpbmcgdGhlIG51bWJlciBvZiBmaWxlcyBjdXJyZW50bHkgdXBsb2FkaW5nLFxuICAgIC8vIG11bHRpcGxpZWQgYnkgMTAwIGFuZCB0aGUgc3VtbSBvZiBpbmRpdmlkdWFsIHByb2dyZXNzIG9mIGVhY2ggZmlsZVxuICAgIGNvbnN0IGZpbGVzID0gdGhpcy5nZXRGaWxlcygpO1xuICAgIGNvbnN0IGluUHJvZ3Jlc3MgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiB7XG4gICAgICByZXR1cm4gZmlsZS5wcm9ncmVzcy51cGxvYWRTdGFydGVkIHx8IGZpbGUucHJvZ3Jlc3MucHJlcHJvY2VzcyB8fCBmaWxlLnByb2dyZXNzLnBvc3Rwcm9jZXNzO1xuICAgIH0pO1xuXG4gICAgaWYgKGluUHJvZ3Jlc3MubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLmVtaXQoJ3Byb2dyZXNzJywgMCk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdG90YWxQcm9ncmVzczogMFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2l6ZWRGaWxlcyA9IGluUHJvZ3Jlc3MuZmlsdGVyKGZpbGUgPT4gZmlsZS5wcm9ncmVzcy5ieXRlc1RvdGFsICE9IG51bGwpO1xuICAgIGNvbnN0IHVuc2l6ZWRGaWxlcyA9IGluUHJvZ3Jlc3MuZmlsdGVyKGZpbGUgPT4gZmlsZS5wcm9ncmVzcy5ieXRlc1RvdGFsID09IG51bGwpO1xuXG4gICAgaWYgKHNpemVkRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBwcm9ncmVzc01heCA9IGluUHJvZ3Jlc3MubGVuZ3RoICogMTAwO1xuICAgICAgY29uc3QgY3VycmVudFByb2dyZXNzID0gdW5zaXplZEZpbGVzLnJlZHVjZSgoYWNjLCBmaWxlKSA9PiB7XG4gICAgICAgIHJldHVybiBhY2MgKyBmaWxlLnByb2dyZXNzLnBlcmNlbnRhZ2U7XG4gICAgICB9LCAwKTtcbiAgICAgIGNvbnN0IHRvdGFsUHJvZ3Jlc3MgPSBNYXRoLnJvdW5kKGN1cnJlbnRQcm9ncmVzcyAvIHByb2dyZXNzTWF4ICogMTAwKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB0b3RhbFByb2dyZXNzXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgdG90YWxTaXplID0gc2l6ZWRGaWxlcy5yZWR1Y2UoKGFjYywgZmlsZSkgPT4ge1xuICAgICAgcmV0dXJuIGFjYyArIGZpbGUucHJvZ3Jlc3MuYnl0ZXNUb3RhbDtcbiAgICB9LCAwKTtcbiAgICBjb25zdCBhdmVyYWdlU2l6ZSA9IHRvdGFsU2l6ZSAvIHNpemVkRmlsZXMubGVuZ3RoO1xuICAgIHRvdGFsU2l6ZSArPSBhdmVyYWdlU2l6ZSAqIHVuc2l6ZWRGaWxlcy5sZW5ndGg7XG4gICAgbGV0IHVwbG9hZGVkU2l6ZSA9IDA7XG4gICAgc2l6ZWRGaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgdXBsb2FkZWRTaXplICs9IGZpbGUucHJvZ3Jlc3MuYnl0ZXNVcGxvYWRlZDtcbiAgICB9KTtcbiAgICB1bnNpemVkRmlsZXMuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgIHVwbG9hZGVkU2l6ZSArPSBhdmVyYWdlU2l6ZSAqIChmaWxlLnByb2dyZXNzLnBlcmNlbnRhZ2UgfHwgMCkgLyAxMDA7XG4gICAgfSk7XG4gICAgbGV0IHRvdGFsUHJvZ3Jlc3MgPSB0b3RhbFNpemUgPT09IDAgPyAwIDogTWF0aC5yb3VuZCh1cGxvYWRlZFNpemUgLyB0b3RhbFNpemUgKiAxMDApOyAvLyBob3QgZml4LCBiZWNhdXNlOlxuICAgIC8vIHVwbG9hZGVkU2l6ZSBlbmRlZCB1cCBsYXJnZXIgdGhhbiB0b3RhbFNpemUsIHJlc3VsdGluZyBpbiAxMzI1JSB0b3RhbFxuXG4gICAgaWYgKHRvdGFsUHJvZ3Jlc3MgPiAxMDApIHtcbiAgICAgIHRvdGFsUHJvZ3Jlc3MgPSAxMDA7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB0b3RhbFByb2dyZXNzXG4gICAgfSk7XG4gICAgdGhpcy5lbWl0KCdwcm9ncmVzcycsIHRvdGFsUHJvZ3Jlc3MpO1xuICB9XG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgbGlzdGVuZXJzIGZvciBhbGwgZ2xvYmFsIGFjdGlvbnMsIGxpa2U6XG4gICAqIGBlcnJvcmAsIGBmaWxlLXJlbW92ZWRgLCBgdXBsb2FkLXByb2dyZXNzYFxuICAgKi9cblxuXG4gIHVwZGF0ZU9ubGluZVN0YXR1cygpIHtcbiAgICBjb25zdCBvbmxpbmUgPSB0eXBlb2Ygd2luZG93Lm5hdmlnYXRvci5vbkxpbmUgIT09ICd1bmRlZmluZWQnID8gd2luZG93Lm5hdmlnYXRvci5vbkxpbmUgOiB0cnVlO1xuXG4gICAgaWYgKCFvbmxpbmUpIHtcbiAgICAgIHRoaXMuZW1pdCgnaXMtb2ZmbGluZScpO1xuICAgICAgdGhpcy5pbmZvKHRoaXMuaTE4bignbm9JbnRlcm5ldENvbm5lY3Rpb24nKSwgJ2Vycm9yJywgMCk7XG4gICAgICB0aGlzLndhc09mZmxpbmUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVtaXQoJ2lzLW9ubGluZScpO1xuXG4gICAgICBpZiAodGhpcy53YXNPZmZsaW5lKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnYmFjay1vbmxpbmUnKTtcbiAgICAgICAgdGhpcy5pbmZvKHRoaXMuaTE4bignY29ubmVjdGVkVG9JbnRlcm5ldCcpLCAnc3VjY2VzcycsIDMwMDApO1xuICAgICAgICB0aGlzLndhc09mZmxpbmUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRJRCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRzLmlkO1xuICB9XG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBwbHVnaW4gd2l0aCBDb3JlLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gUGx1Z2luIG9iamVjdFxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHNdIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gYmUgcGFzc2VkIHRvIFBsdWdpblxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBzZWxmIGZvciBjaGFpbmluZ1xuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuXG5cbiAgdXNlKFBsdWdpbiwgb3B0cykge1xuICAgIGlmICh0eXBlb2YgUGx1Z2luICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zdCBtc2cgPSBgRXhwZWN0ZWQgYSBwbHVnaW4gY2xhc3MsIGJ1dCBnb3QgJHtQbHVnaW4gPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgUGx1Z2lufS5gICsgJyBQbGVhc2UgdmVyaWZ5IHRoYXQgdGhlIHBsdWdpbiB3YXMgaW1wb3J0ZWQgYW5kIHNwZWxsZWQgY29ycmVjdGx5Lic7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKG1zZyk7XG4gICAgfSAvLyBJbnN0YW50aWF0ZVxuXG5cbiAgICBjb25zdCBwbHVnaW4gPSBuZXcgUGx1Z2luKHRoaXMsIG9wdHMpO1xuICAgIGNvbnN0IHBsdWdpbklkID0gcGx1Z2luLmlkO1xuXG4gICAgaWYgKCFwbHVnaW5JZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIHBsdWdpbiBtdXN0IGhhdmUgYW4gaWQnKTtcbiAgICB9XG5cbiAgICBpZiAoIXBsdWdpbi50eXBlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgcGx1Z2luIG11c3QgaGF2ZSBhIHR5cGUnKTtcbiAgICB9XG5cbiAgICBjb25zdCBleGlzdHNQbHVnaW5BbHJlYWR5ID0gdGhpcy5nZXRQbHVnaW4ocGx1Z2luSWQpO1xuXG4gICAgaWYgKGV4aXN0c1BsdWdpbkFscmVhZHkpIHtcbiAgICAgIGNvbnN0IG1zZyA9IGBBbHJlYWR5IGZvdW5kIGEgcGx1Z2luIG5hbWVkICcke2V4aXN0c1BsdWdpbkFscmVhZHkuaWR9Jy4gYCArIGBUcmllZCB0byB1c2U6ICcke3BsdWdpbklkfScuXFxuYCArICdVcHB5IHBsdWdpbnMgbXVzdCBoYXZlIHVuaXF1ZSBgaWRgIG9wdGlvbnMuIFNlZSBodHRwczovL3VwcHkuaW8vZG9jcy9wbHVnaW5zLyNpZC4nO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgfVxuXG4gICAgaWYgKFBsdWdpbi5WRVJTSU9OKSB7XG4gICAgICB0aGlzLmxvZyhgVXNpbmcgJHtwbHVnaW5JZH0gdiR7UGx1Z2luLlZFUlNJT059YCk7XG4gICAgfVxuXG4gICAgaWYgKHBsdWdpbi50eXBlIGluIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcGx1Z2lucylbX3BsdWdpbnNdKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3BsdWdpbnMpW19wbHVnaW5zXVtwbHVnaW4udHlwZV0ucHVzaChwbHVnaW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3BsdWdpbnMpW19wbHVnaW5zXVtwbHVnaW4udHlwZV0gPSBbcGx1Z2luXTtcbiAgICB9XG5cbiAgICBwbHVnaW4uaW5zdGFsbCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kIG9uZSBQbHVnaW4gYnkgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIHBsdWdpbiBpZFxuICAgKiBAcmV0dXJucyB7QmFzZVBsdWdpbnx1bmRlZmluZWR9XG4gICAqL1xuXG5cbiAgZ2V0UGx1Z2luKGlkKSB7XG4gICAgZm9yIChjb25zdCBwbHVnaW5zIG9mIE9iamVjdC52YWx1ZXMoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wbHVnaW5zKVtfcGx1Z2luc10pKSB7XG4gICAgICBjb25zdCBmb3VuZFBsdWdpbiA9IHBsdWdpbnMuZmluZChwbHVnaW4gPT4gcGx1Z2luLmlkID09PSBpZCk7XG4gICAgICBpZiAoZm91bmRQbHVnaW4gIT0gbnVsbCkgcmV0dXJuIGZvdW5kUGx1Z2luO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBbX1N5bWJvbCRmb3JdKHR5cGUpIHtcbiAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wbHVnaW5zKVtfcGx1Z2luc11bdHlwZV07XG4gIH1cbiAgLyoqXG4gICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgYHVzZWBkIHBsdWdpbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG1ldGhvZCB0aGF0IHdpbGwgYmUgcnVuIG9uIGVhY2ggcGx1Z2luXG4gICAqL1xuXG5cbiAgaXRlcmF0ZVBsdWdpbnMobWV0aG9kKSB7XG4gICAgT2JqZWN0LnZhbHVlcyhfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3BsdWdpbnMpW19wbHVnaW5zXSkuZmxhdCgxKS5mb3JFYWNoKG1ldGhvZCk7XG4gIH1cbiAgLyoqXG4gICAqIFVuaW5zdGFsbCBhbmQgcmVtb3ZlIGEgcGx1Z2luLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gaW5zdGFuY2UgVGhlIHBsdWdpbiBpbnN0YW5jZSB0byByZW1vdmUuXG4gICAqL1xuXG5cbiAgcmVtb3ZlUGx1Z2luKGluc3RhbmNlKSB7XG4gICAgdGhpcy5sb2coYFJlbW92aW5nIHBsdWdpbiAke2luc3RhbmNlLmlkfWApO1xuICAgIHRoaXMuZW1pdCgncGx1Z2luLXJlbW92ZScsIGluc3RhbmNlKTtcblxuICAgIGlmIChpbnN0YW5jZS51bmluc3RhbGwpIHtcbiAgICAgIGluc3RhbmNlLnVuaW5zdGFsbCgpO1xuICAgIH1cblxuICAgIGNvbnN0IGxpc3QgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3BsdWdpbnMpW19wbHVnaW5zXVtpbnN0YW5jZS50eXBlXTsgLy8gbGlzdC5pbmRleE9mIGZhaWxlZCBoZXJlLCBiZWNhdXNlIFZ1ZTMgY29udmVydGVkIHRoZSBwbHVnaW4gaW5zdGFuY2VcbiAgICAvLyB0byBhIFByb3h5IG9iamVjdCwgd2hpY2ggZmFpbGVkIHRoZSBzdHJpY3QgY29tcGFyaXNvbiB0ZXN0OlxuICAgIC8vIG9iaiAhPT0gb2JqUHJveHlcblxuXG4gICAgY29uc3QgaW5kZXggPSBsaXN0LmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IGluc3RhbmNlLmlkKTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB1cGRhdGVkU3RhdGUgPSB7XG4gICAgICBwbHVnaW5zOiB7IC4uLnN0YXRlLnBsdWdpbnMsXG4gICAgICAgIFtpbnN0YW5jZS5pZF06IHVuZGVmaW5lZFxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zZXRTdGF0ZSh1cGRhdGVkU3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBVbmluc3RhbGwgYWxsIHBsdWdpbnMgYW5kIGNsb3NlIGRvd24gdGhpcyBVcHB5IGluc3RhbmNlLlxuICAgKi9cblxuXG4gIGNsb3NlKF90ZW1wMikge1xuICAgIGxldCB7XG4gICAgICByZWFzb25cbiAgICB9ID0gX3RlbXAyID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wMjtcbiAgICB0aGlzLmxvZyhgQ2xvc2luZyBVcHB5IGluc3RhbmNlICR7dGhpcy5vcHRzLmlkfTogcmVtb3ZpbmcgYWxsIGZpbGVzIGFuZCB1bmluc3RhbGxpbmcgcGx1Z2luc2ApO1xuICAgIHRoaXMuY2FuY2VsQWxsKHtcbiAgICAgIHJlYXNvblxuICAgIH0pO1xuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zdG9yZVVuc3Vic2NyaWJlKVtfc3RvcmVVbnN1YnNjcmliZV0oKTtcblxuICAgIHRoaXMuaXRlcmF0ZVBsdWdpbnMocGx1Z2luID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlUGx1Z2luKHBsdWdpbik7XG4gICAgfSk7XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3VwZGF0ZU9ubGluZVN0YXR1cylbX3VwZGF0ZU9ubGluZVN0YXR1c10pO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3VwZGF0ZU9ubGluZVN0YXR1cylbX3VwZGF0ZU9ubGluZVN0YXR1c10pO1xuICAgIH1cbiAgfVxuXG4gIGhpZGVJbmZvKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGluZm9cbiAgICB9ID0gdGhpcy5nZXRTdGF0ZSgpO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaW5mbzogaW5mby5zbGljZSgxKVxuICAgIH0pO1xuICAgIHRoaXMuZW1pdCgnaW5mby1oaWRkZW4nKTtcbiAgfVxuICAvKipcbiAgICogU2V0IGluZm8gbWVzc2FnZSBpbiBgc3RhdGUuaW5mb2AsIHNvIHRoYXQgVUkgcGx1Z2lucyBsaWtlIGBJbmZvcm1lcmBcbiAgICogY2FuIGRpc3BsYXkgdGhlIG1lc3NhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgb2JqZWN0fSBtZXNzYWdlIE1lc3NhZ2UgdG8gYmUgZGlzcGxheWVkIGJ5IHRoZSBpbmZvcm1lclxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3R5cGVdXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZHVyYXRpb25dXG4gICAqL1xuXG5cbiAgaW5mbyhtZXNzYWdlLCB0eXBlLCBkdXJhdGlvbikge1xuICAgIGlmICh0eXBlID09PSB2b2lkIDApIHtcbiAgICAgIHR5cGUgPSAnaW5mbyc7XG4gICAgfVxuXG4gICAgaWYgKGR1cmF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgIGR1cmF0aW9uID0gMzAwMDtcbiAgICB9XG5cbiAgICBjb25zdCBpc0NvbXBsZXhNZXNzYWdlID0gdHlwZW9mIG1lc3NhZ2UgPT09ICdvYmplY3QnO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaW5mbzogWy4uLnRoaXMuZ2V0U3RhdGUoKS5pbmZvLCB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIG1lc3NhZ2U6IGlzQ29tcGxleE1lc3NhZ2UgPyBtZXNzYWdlLm1lc3NhZ2UgOiBtZXNzYWdlLFxuICAgICAgICBkZXRhaWxzOiBpc0NvbXBsZXhNZXNzYWdlID8gbWVzc2FnZS5kZXRhaWxzIDogbnVsbFxuICAgICAgfV1cbiAgICB9KTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuaGlkZUluZm8oKSwgZHVyYXRpb24pO1xuICAgIHRoaXMuZW1pdCgnaW5mby12aXNpYmxlJyk7XG4gIH1cbiAgLyoqXG4gICAqIFBhc3NlcyBtZXNzYWdlcyB0byBhIGZ1bmN0aW9uLCBwcm92aWRlZCBpbiBgb3B0cy5sb2dnZXJgLlxuICAgKiBJZiBgb3B0cy5sb2dnZXI6IFVwcHkuZGVidWdMb2dnZXJgIG9yIGBvcHRzLmRlYnVnOiB0cnVlYCwgbG9ncyB0byB0aGUgYnJvd3NlciBjb25zb2xlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IG1lc3NhZ2UgdG8gbG9nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZV0gb3B0aW9uYWwgYGVycm9yYCBvciBgd2FybmluZ2BcbiAgICovXG5cblxuICBsb2cobWVzc2FnZSwgdHlwZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGxvZ2dlclxuICAgIH0gPSB0aGlzLm9wdHM7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgbG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnd2FybmluZyc6XG4gICAgICAgIGxvZ2dlci53YXJuKG1lc3NhZ2UpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9nZ2VyLmRlYnVnKG1lc3NhZ2UpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlc3RvcmUgYW4gdXBsb2FkIGJ5IGl0cyBJRC5cbiAgICovXG5cblxuICByZXN0b3JlKHVwbG9hZElEKSB7XG4gICAgdGhpcy5sb2coYENvcmU6IGF0dGVtcHRpbmcgdG8gcmVzdG9yZSB1cGxvYWQgXCIke3VwbG9hZElEfVwiYCk7XG5cbiAgICBpZiAoIXRoaXMuZ2V0U3RhdGUoKS5jdXJyZW50VXBsb2Fkc1t1cGxvYWRJRF0pIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVtb3ZlVXBsb2FkKVtfcmVtb3ZlVXBsb2FkXSh1cGxvYWRJRCk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ05vbmV4aXN0ZW50IHVwbG9hZCcpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ydW5VcGxvYWQpW19ydW5VcGxvYWRdKHVwbG9hZElEKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIHVwbG9hZCBmb3IgYSBidW5jaCBvZiBmaWxlcy5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBmaWxlSURzIEZpbGUgSURzIHRvIGluY2x1ZGUgaW4gdGhpcyB1cGxvYWQuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IElEIG9mIHRoaXMgdXBsb2FkLlxuICAgKi9cblxuXG4gIFtfU3ltYm9sJGZvcjJdKCkge1xuICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NyZWF0ZVVwbG9hZClbX2NyZWF0ZVVwbG9hZF0oLi4uYXJndW1lbnRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgZGF0YSB0byBhbiB1cGxvYWQncyByZXN1bHQgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXBsb2FkSUQgVGhlIElEIG9mIHRoZSB1cGxvYWQuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIERhdGEgcHJvcGVydGllcyB0byBhZGQgdG8gdGhlIHJlc3VsdCBvYmplY3QuXG4gICAqL1xuICBhZGRSZXN1bHREYXRhKHVwbG9hZElELCBkYXRhKSB7XG4gICAgaWYgKCFfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2dldFVwbG9hZClbX2dldFVwbG9hZF0odXBsb2FkSUQpKSB7XG4gICAgICB0aGlzLmxvZyhgTm90IHNldHRpbmcgcmVzdWx0IGZvciBhbiB1cGxvYWQgdGhhdCBoYXMgYmVlbiByZW1vdmVkOiAke3VwbG9hZElEfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIGN1cnJlbnRVcGxvYWRzXG4gICAgfSA9IHRoaXMuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBjdXJyZW50VXBsb2FkID0geyAuLi5jdXJyZW50VXBsb2Fkc1t1cGxvYWRJRF0sXG4gICAgICByZXN1bHQ6IHsgLi4uY3VycmVudFVwbG9hZHNbdXBsb2FkSURdLnJlc3VsdCxcbiAgICAgICAgLi4uZGF0YVxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjdXJyZW50VXBsb2FkczogeyAuLi5jdXJyZW50VXBsb2FkcyxcbiAgICAgICAgW3VwbG9hZElEXTogY3VycmVudFVwbG9hZFxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gdXBsb2FkLCBlZy4gaWYgaXQgaGFzIGJlZW4gY2FuY2VsZWQgb3IgY29tcGxldGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXBsb2FkSUQgVGhlIElEIG9mIHRoZSB1cGxvYWQuXG4gICAqL1xuXG5cbiAgLyoqXG4gICAqIFN0YXJ0IGFuIHVwbG9hZCBmb3IgYWxsIHRoZSBmaWxlcyB0aGF0IGFyZSBub3QgY3VycmVudGx5IGJlaW5nIHVwbG9hZGVkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIHVwbG9hZCgpIHtcbiAgICB2YXIgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vO1xuXG4gICAgaWYgKCEoKF9jbGFzc1ByaXZhdGVGaWVsZExvbyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcGx1Z2lucylbX3BsdWdpbnNdLnVwbG9hZGVyKSAhPSBudWxsICYmIF9jbGFzc1ByaXZhdGVGaWVsZExvby5sZW5ndGgpKSB7XG4gICAgICB0aGlzLmxvZygnTm8gdXBsb2FkZXIgdHlwZSBwbHVnaW5zIGFyZSB1c2VkJywgJ3dhcm5pbmcnKTtcbiAgICB9XG5cbiAgICBsZXQge1xuICAgICAgZmlsZXNcbiAgICB9ID0gdGhpcy5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IG9uQmVmb3JlVXBsb2FkUmVzdWx0ID0gdGhpcy5vcHRzLm9uQmVmb3JlVXBsb2FkKGZpbGVzKTtcblxuICAgIGlmIChvbkJlZm9yZVVwbG9hZFJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ05vdCBzdGFydGluZyB0aGUgdXBsb2FkIGJlY2F1c2Ugb25CZWZvcmVVcGxvYWQgcmV0dXJuZWQgZmFsc2UnKSk7XG4gICAgfVxuXG4gICAgaWYgKG9uQmVmb3JlVXBsb2FkUmVzdWx0ICYmIHR5cGVvZiBvbkJlZm9yZVVwbG9hZFJlc3VsdCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZpbGVzID0gb25CZWZvcmVVcGxvYWRSZXN1bHQ7IC8vIFVwZGF0aW5nIGZpbGVzIGluIHN0YXRlLCBiZWNhdXNlIHVwbG9hZGVyIHBsdWdpbnMgcmVjZWl2ZSBmaWxlIElEcyxcbiAgICAgIC8vIGFuZCB0aGVuIGZldGNoIHRoZSBhY3R1YWwgZmlsZSBvYmplY3QgZnJvbSBzdGF0ZVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZmlsZXNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVzdHJpY3RlcilbX3Jlc3RyaWN0ZXJdLnZhbGlkYXRlTWluTnVtYmVyT2ZGaWxlcyhmaWxlcykpLmNhdGNoKGVyciA9PiB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2luZm9ybUFuZEVtaXQpW19pbmZvcm1BbmRFbWl0XShlcnIpO1xuXG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2hlY2tSZXF1aXJlZE1ldGFGaWVsZHMpW19jaGVja1JlcXVpcmVkTWV0YUZpZWxkc10oZmlsZXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBSZXN0cmljdGlvbkVycm9yKHRoaXMuaTE4bignbWlzc2luZ1JlcXVpcmVkTWV0YUZpZWxkJykpO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAvLyBEb2luZyB0aGlzIGluIGEgc2VwYXJhdGUgY2F0Y2ggYmVjYXVzZSB3ZSBhbHJlYWR5IGVtaXRlZCBhbmQgbG9nZ2VkXG4gICAgICAvLyBhbGwgdGhlIGVycm9ycyBpbiBgY2hlY2tSZXF1aXJlZE1ldGFGaWVsZHNgIHNvIHdlIG9ubHkgdGhyb3cgYSBnZW5lcmljXG4gICAgICAvLyBtaXNzaW5nIGZpZWxkcyBlcnJvciBoZXJlLlxuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBjdXJyZW50VXBsb2Fkc1xuICAgICAgfSA9IHRoaXMuZ2V0U3RhdGUoKTsgLy8gZ2V0IGEgbGlzdCBvZiBmaWxlcyB0aGF0IGFyZSBjdXJyZW50bHkgYXNzaWduZWQgdG8gdXBsb2Fkc1xuXG4gICAgICBjb25zdCBjdXJyZW50bHlVcGxvYWRpbmdGaWxlcyA9IE9iamVjdC52YWx1ZXMoY3VycmVudFVwbG9hZHMpLmZsYXRNYXAoY3VyciA9PiBjdXJyLmZpbGVJRHMpO1xuICAgICAgY29uc3Qgd2FpdGluZ0ZpbGVJRHMgPSBbXTtcbiAgICAgIE9iamVjdC5rZXlzKGZpbGVzKS5mb3JFYWNoKGZpbGVJRCA9PiB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGUoZmlsZUlEKTsgLy8gaWYgdGhlIGZpbGUgaGFzbid0IHN0YXJ0ZWQgdXBsb2FkaW5nIGFuZCBoYXNuJ3QgYWxyZWFkeSBiZWVuIGFzc2lnbmVkIHRvIGFuIHVwbG9hZC4uXG5cbiAgICAgICAgaWYgKCFmaWxlLnByb2dyZXNzLnVwbG9hZFN0YXJ0ZWQgJiYgY3VycmVudGx5VXBsb2FkaW5nRmlsZXMuaW5kZXhPZihmaWxlSUQpID09PSAtMSkge1xuICAgICAgICAgIHdhaXRpbmdGaWxlSURzLnB1c2goZmlsZS5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB1cGxvYWRJRCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY3JlYXRlVXBsb2FkKVtfY3JlYXRlVXBsb2FkXSh3YWl0aW5nRmlsZUlEcyk7XG5cbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3J1blVwbG9hZClbX3J1blVwbG9hZF0odXBsb2FkSUQpO1xuICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgIHRoaXMubG9nKGVyciwgJ2Vycm9yJyk7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH1cblxufVxuXG5mdW5jdGlvbiBfaW5mb3JtQW5kRW1pdDIoZXJyb3IsIGZpbGUpIHtcbiAgY29uc3Qge1xuICAgIG1lc3NhZ2UsXG4gICAgZGV0YWlscyA9ICcnXG4gIH0gPSBlcnJvcjtcblxuICBpZiAoZXJyb3IuaXNSZXN0cmljdGlvbikge1xuICAgIHRoaXMuZW1pdCgncmVzdHJpY3Rpb24tZmFpbGVkJywgZmlsZSwgZXJyb3IpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gIH1cblxuICB0aGlzLmluZm8oe1xuICAgIG1lc3NhZ2UsXG4gICAgZGV0YWlsc1xuICB9LCAnZXJyb3InLCB0aGlzLm9wdHMuaW5mb1RpbWVvdXQpO1xuICB0aGlzLmxvZyhlcnJvciwgJ3dhcm5pbmcnKTtcbn1cblxuZnVuY3Rpb24gX2NoZWNrUmVxdWlyZWRNZXRhRmllbGRzT25GaWxlMihmaWxlKSB7XG4gIGNvbnN0IHtcbiAgICBtaXNzaW5nRmllbGRzLFxuICAgIGVycm9yXG4gIH0gPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Jlc3RyaWN0ZXIpW19yZXN0cmljdGVyXS5nZXRNaXNzaW5nUmVxdWlyZWRNZXRhRmllbGRzKGZpbGUpO1xuXG4gIGlmIChtaXNzaW5nRmllbGRzLmxlbmd0aCA+IDApIHtcbiAgICB0aGlzLnNldEZpbGVTdGF0ZShmaWxlLmlkLCB7XG4gICAgICBtaXNzaW5nUmVxdWlyZWRNZXRhRmllbGRzOiBtaXNzaW5nRmllbGRzXG4gICAgfSk7XG4gICAgdGhpcy5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgdGhpcy5lbWl0KCdyZXN0cmljdGlvbi1mYWlsZWQnLCBmaWxlLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIF9jaGVja1JlcXVpcmVkTWV0YUZpZWxkczIoZmlsZXMpIHtcbiAgbGV0IHN1Y2Nlc3MgPSB0cnVlO1xuXG4gIGZvciAoY29uc3QgZmlsZSBvZiBPYmplY3QudmFsdWVzKGZpbGVzKSkge1xuICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jaGVja1JlcXVpcmVkTWV0YUZpZWxkc09uRmlsZSlbX2NoZWNrUmVxdWlyZWRNZXRhRmllbGRzT25GaWxlXShmaWxlKSkge1xuICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdWNjZXNzO1xufVxuXG5mdW5jdGlvbiBfYXNzZXJ0TmV3VXBsb2FkQWxsb3dlZDIoZmlsZSkge1xuICBjb25zdCB7XG4gICAgYWxsb3dOZXdVcGxvYWRcbiAgfSA9IHRoaXMuZ2V0U3RhdGUoKTtcblxuICBpZiAoYWxsb3dOZXdVcGxvYWQgPT09IGZhbHNlKSB7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgUmVzdHJpY3Rpb25FcnJvcih0aGlzLmkxOG4oJ25vTW9yZUZpbGVzQWxsb3dlZCcpKTtcblxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaW5mb3JtQW5kRW1pdClbX2luZm9ybUFuZEVtaXRdKGVycm9yLCBmaWxlKTtcblxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jaGVja0FuZENyZWF0ZUZpbGVTdGF0ZU9iamVjdDIoZmlsZXMsIGZpbGVEZXNjcmlwdG9yKSB7XG4gIC8vIFVwcHkgZXhwZWN0cyBmaWxlcyBpbiB7IG5hbWUsIHR5cGUsIHNpemUsIGRhdGEgfSBmb3JtYXQuXG4gIC8vIElmIHRoZSBhY3R1YWwgRmlsZSBvYmplY3QgaXMgcGFzc2VkIGZyb20gaW5wdXRbdHlwZT1maWxlXSBvciBkcmFnLWRyb3AsXG4gIC8vIHdlIG5vcm1hbGl6ZSBpdCB0byBtYXRjaCBVcHB5IGZpbGUgb2JqZWN0XG4gIGlmIChmaWxlRGVzY3JpcHRvciBpbnN0YW5jZW9mIEZpbGUpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBmaWxlRGVzY3JpcHRvciA9IHtcbiAgICAgIG5hbWU6IGZpbGVEZXNjcmlwdG9yLm5hbWUsXG4gICAgICB0eXBlOiBmaWxlRGVzY3JpcHRvci50eXBlLFxuICAgICAgc2l6ZTogZmlsZURlc2NyaXB0b3Iuc2l6ZSxcbiAgICAgIGRhdGE6IGZpbGVEZXNjcmlwdG9yXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IGZpbGVUeXBlID0gZ2V0RmlsZVR5cGUoZmlsZURlc2NyaXB0b3IpO1xuICBjb25zdCBmaWxlTmFtZSA9IGdldEZpbGVOYW1lKGZpbGVUeXBlLCBmaWxlRGVzY3JpcHRvcik7XG4gIGNvbnN0IGZpbGVFeHRlbnNpb24gPSBnZXRGaWxlTmFtZUFuZEV4dGVuc2lvbihmaWxlTmFtZSkuZXh0ZW5zaW9uO1xuICBjb25zdCBpc1JlbW90ZSA9IEJvb2xlYW4oZmlsZURlc2NyaXB0b3IuaXNSZW1vdGUpO1xuICBjb25zdCBpZCA9IGdldFNhZmVGaWxlSWQoZmlsZURlc2NyaXB0b3IpO1xuXG4gIGlmICh0aGlzLmNoZWNrSWZGaWxlQWxyZWFkeUV4aXN0cyhpZCkpIHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBSZXN0cmljdGlvbkVycm9yKHRoaXMuaTE4bignbm9EdXBsaWNhdGVzJywge1xuICAgICAgZmlsZU5hbWVcbiAgICB9KSk7XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2luZm9ybUFuZEVtaXQpW19pbmZvcm1BbmRFbWl0XShlcnJvciwgZmlsZURlc2NyaXB0b3IpO1xuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cblxuICBjb25zdCBtZXRhID0gZmlsZURlc2NyaXB0b3IubWV0YSB8fCB7fTtcbiAgbWV0YS5uYW1lID0gZmlsZU5hbWU7XG4gIG1ldGEudHlwZSA9IGZpbGVUeXBlOyAvLyBgbnVsbGAgbWVhbnMgdGhlIHNpemUgaXMgdW5rbm93bi5cblxuICBjb25zdCBzaXplID0gTnVtYmVyLmlzRmluaXRlKGZpbGVEZXNjcmlwdG9yLmRhdGEuc2l6ZSkgPyBmaWxlRGVzY3JpcHRvci5kYXRhLnNpemUgOiBudWxsO1xuICBsZXQgbmV3RmlsZSA9IHtcbiAgICBzb3VyY2U6IGZpbGVEZXNjcmlwdG9yLnNvdXJjZSB8fCAnJyxcbiAgICBpZCxcbiAgICBuYW1lOiBmaWxlTmFtZSxcbiAgICBleHRlbnNpb246IGZpbGVFeHRlbnNpb24gfHwgJycsXG4gICAgbWV0YTogeyAuLi50aGlzLmdldFN0YXRlKCkubWV0YSxcbiAgICAgIC4uLm1ldGFcbiAgICB9LFxuICAgIHR5cGU6IGZpbGVUeXBlLFxuICAgIGRhdGE6IGZpbGVEZXNjcmlwdG9yLmRhdGEsXG4gICAgcHJvZ3Jlc3M6IHtcbiAgICAgIHBlcmNlbnRhZ2U6IDAsXG4gICAgICBieXRlc1VwbG9hZGVkOiAwLFxuICAgICAgYnl0ZXNUb3RhbDogc2l6ZSxcbiAgICAgIHVwbG9hZENvbXBsZXRlOiBmYWxzZSxcbiAgICAgIHVwbG9hZFN0YXJ0ZWQ6IG51bGxcbiAgICB9LFxuICAgIHNpemUsXG4gICAgaXNSZW1vdGUsXG4gICAgcmVtb3RlOiBmaWxlRGVzY3JpcHRvci5yZW1vdGUgfHwgJycsXG4gICAgcHJldmlldzogZmlsZURlc2NyaXB0b3IucHJldmlld1xuICB9O1xuICBjb25zdCBvbkJlZm9yZUZpbGVBZGRlZFJlc3VsdCA9IHRoaXMub3B0cy5vbkJlZm9yZUZpbGVBZGRlZChuZXdGaWxlLCBmaWxlcyk7XG5cbiAgaWYgKG9uQmVmb3JlRmlsZUFkZGVkUmVzdWx0ID09PSBmYWxzZSkge1xuICAgIC8vIERvbuKAmXQgc2hvdyBVSSBpbmZvIGZvciB0aGlzIGVycm9yLCBhcyBpdCBzaG91bGQgYmUgZG9uZSBieSB0aGUgZGV2ZWxvcGVyXG4gICAgY29uc3QgZXJyb3IgPSBuZXcgUmVzdHJpY3Rpb25FcnJvcignQ2Fubm90IGFkZCB0aGUgZmlsZSBiZWNhdXNlIG9uQmVmb3JlRmlsZUFkZGVkIHJldHVybmVkIGZhbHNlLicpO1xuICAgIHRoaXMuZW1pdCgncmVzdHJpY3Rpb24tZmFpbGVkJywgZmlsZURlc2NyaXB0b3IsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygb25CZWZvcmVGaWxlQWRkZWRSZXN1bHQgPT09ICdvYmplY3QnICYmIG9uQmVmb3JlRmlsZUFkZGVkUmVzdWx0ICE9PSBudWxsKSB7XG4gICAgbmV3RmlsZSA9IG9uQmVmb3JlRmlsZUFkZGVkUmVzdWx0O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBmaWxlc0FycmF5ID0gT2JqZWN0LmtleXMoZmlsZXMpLm1hcChpID0+IGZpbGVzW2ldKTtcblxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVzdHJpY3RlcilbX3Jlc3RyaWN0ZXJdLnZhbGlkYXRlKG5ld0ZpbGUsIGZpbGVzQXJyYXkpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2luZm9ybUFuZEVtaXQpW19pbmZvcm1BbmRFbWl0XShlcnIsIG5ld0ZpbGUpO1xuXG4gICAgdGhyb3cgZXJyO1xuICB9XG5cbiAgcmV0dXJuIG5ld0ZpbGU7XG59XG5cbmZ1bmN0aW9uIF9zdGFydElmQXV0b1Byb2NlZWQyKCkge1xuICBpZiAodGhpcy5vcHRzLmF1dG9Qcm9jZWVkICYmICF0aGlzLnNjaGVkdWxlZEF1dG9Qcm9jZWVkKSB7XG4gICAgdGhpcy5zY2hlZHVsZWRBdXRvUHJvY2VlZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zY2hlZHVsZWRBdXRvUHJvY2VlZCA9IG51bGw7XG4gICAgICB0aGlzLnVwbG9hZCgpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGlmICghZXJyLmlzUmVzdHJpY3Rpb24pIHtcbiAgICAgICAgICB0aGlzLmxvZyhlcnIuc3RhY2sgfHwgZXJyLm1lc3NhZ2UgfHwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgNCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyczIoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0Vycm9yfSBlcnJvclxuICAgKiBAcGFyYW0ge29iamVjdH0gW2ZpbGVdXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbcmVzcG9uc2VdXG4gICAqL1xuICBjb25zdCBlcnJvckhhbmRsZXIgPSAoZXJyb3IsIGZpbGUsIHJlc3BvbnNlKSA9PiB7XG4gICAgbGV0IGVycm9yTXNnID0gZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcic7XG5cbiAgICBpZiAoZXJyb3IuZGV0YWlscykge1xuICAgICAgZXJyb3JNc2cgKz0gYCAke2Vycm9yLmRldGFpbHN9YDtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGVycm9yOiBlcnJvck1zZ1xuICAgIH0pO1xuXG4gICAgaWYgKGZpbGUgIT0gbnVsbCAmJiBmaWxlLmlkIGluIHRoaXMuZ2V0U3RhdGUoKS5maWxlcykge1xuICAgICAgdGhpcy5zZXRGaWxlU3RhdGUoZmlsZS5pZCwge1xuICAgICAgICBlcnJvcjogZXJyb3JNc2csXG4gICAgICAgIHJlc3BvbnNlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5vbignZXJyb3InLCBlcnJvckhhbmRsZXIpO1xuICB0aGlzLm9uKCd1cGxvYWQtZXJyb3InLCAoZmlsZSwgZXJyb3IsIHJlc3BvbnNlKSA9PiB7XG4gICAgZXJyb3JIYW5kbGVyKGVycm9yLCBmaWxlLCByZXNwb25zZSk7XG5cbiAgICBpZiAodHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiBlcnJvci5tZXNzYWdlKSB7XG4gICAgICBjb25zdCBuZXdFcnJvciA9IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIG5ld0Vycm9yLmRldGFpbHMgPSBlcnJvci5tZXNzYWdlO1xuXG4gICAgICBpZiAoZXJyb3IuZGV0YWlscykge1xuICAgICAgICBuZXdFcnJvci5kZXRhaWxzICs9IGAgJHtlcnJvci5kZXRhaWxzfWA7XG4gICAgICB9XG5cbiAgICAgIG5ld0Vycm9yLm1lc3NhZ2UgPSB0aGlzLmkxOG4oJ2ZhaWxlZFRvVXBsb2FkJywge1xuICAgICAgICBmaWxlOiBmaWxlID09IG51bGwgPyB2b2lkIDAgOiBmaWxlLm5hbWVcbiAgICAgIH0pO1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2luZm9ybUFuZEVtaXQpW19pbmZvcm1BbmRFbWl0XShuZXdFcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaW5mb3JtQW5kRW1pdClbX2luZm9ybUFuZEVtaXRdKGVycm9yKTtcbiAgICB9XG4gIH0pO1xuICBsZXQgdXBsb2FkU3RhbGxlZFdhcm5pbmdSZWNlbnRseUVtaXR0ZWQ7XG4gIHRoaXMub24oJ3VwbG9hZC1zdGFsbGVkJywgKGVycm9yLCBmaWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG1lc3NhZ2VcbiAgICB9ID0gZXJyb3I7XG4gICAgY29uc3QgZGV0YWlscyA9IGZpbGVzLm1hcChmaWxlID0+IGZpbGUubWV0YS5uYW1lKS5qb2luKCcsICcpO1xuXG4gICAgaWYgKCF1cGxvYWRTdGFsbGVkV2FybmluZ1JlY2VudGx5RW1pdHRlZCkge1xuICAgICAgdGhpcy5pbmZvKHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgZGV0YWlsc1xuICAgICAgfSwgJ3dhcm5pbmcnLCB0aGlzLm9wdHMuaW5mb1RpbWVvdXQpO1xuICAgICAgdXBsb2FkU3RhbGxlZFdhcm5pbmdSZWNlbnRseUVtaXR0ZWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdXBsb2FkU3RhbGxlZFdhcm5pbmdSZWNlbnRseUVtaXR0ZWQgPSBudWxsO1xuICAgICAgfSwgdGhpcy5vcHRzLmluZm9UaW1lb3V0KTtcbiAgICB9XG5cbiAgICB0aGlzLmxvZyhgJHttZXNzYWdlfSAke2RldGFpbHN9YC50cmltKCksICd3YXJuaW5nJyk7XG4gIH0pO1xuICB0aGlzLm9uKCd1cGxvYWQnLCAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBlcnJvcjogbnVsbFxuICAgIH0pO1xuICB9KTtcbiAgdGhpcy5vbigndXBsb2FkLXN0YXJ0ZWQnLCBmaWxlID0+IHtcbiAgICBpZiAoZmlsZSA9PSBudWxsIHx8ICF0aGlzLmdldEZpbGUoZmlsZS5pZCkpIHtcbiAgICAgIHRoaXMubG9nKGBOb3Qgc2V0dGluZyBwcm9ncmVzcyBmb3IgYSBmaWxlIHRoYXQgaGFzIGJlZW4gcmVtb3ZlZDogJHtmaWxlID09IG51bGwgPyB2b2lkIDAgOiBmaWxlLmlkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0RmlsZVN0YXRlKGZpbGUuaWQsIHtcbiAgICAgIHByb2dyZXNzOiB7XG4gICAgICAgIHVwbG9hZFN0YXJ0ZWQ6IERhdGUubm93KCksXG4gICAgICAgIHVwbG9hZENvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgcGVyY2VudGFnZTogMCxcbiAgICAgICAgYnl0ZXNVcGxvYWRlZDogMCxcbiAgICAgICAgYnl0ZXNUb3RhbDogZmlsZS5zaXplXG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICB0aGlzLm9uKCd1cGxvYWQtcHJvZ3Jlc3MnLCB0aGlzLmNhbGN1bGF0ZVByb2dyZXNzKTtcbiAgdGhpcy5vbigndXBsb2FkLXN1Y2Nlc3MnLCAoZmlsZSwgdXBsb2FkUmVzcCkgPT4ge1xuICAgIGlmIChmaWxlID09IG51bGwgfHwgIXRoaXMuZ2V0RmlsZShmaWxlLmlkKSkge1xuICAgICAgdGhpcy5sb2coYE5vdCBzZXR0aW5nIHByb2dyZXNzIGZvciBhIGZpbGUgdGhhdCBoYXMgYmVlbiByZW1vdmVkOiAke2ZpbGUgPT0gbnVsbCA/IHZvaWQgMCA6IGZpbGUuaWR9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudFByb2dyZXNzID0gdGhpcy5nZXRGaWxlKGZpbGUuaWQpLnByb2dyZXNzO1xuICAgIHRoaXMuc2V0RmlsZVN0YXRlKGZpbGUuaWQsIHtcbiAgICAgIHByb2dyZXNzOiB7IC4uLmN1cnJlbnRQcm9ncmVzcyxcbiAgICAgICAgcG9zdHByb2Nlc3M6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcG9zdFByb2Nlc3NvcnMpW19wb3N0UHJvY2Vzc29yc10uc2l6ZSA+IDAgPyB7XG4gICAgICAgICAgbW9kZTogJ2luZGV0ZXJtaW5hdGUnXG4gICAgICAgIH0gOiBudWxsLFxuICAgICAgICB1cGxvYWRDb21wbGV0ZTogdHJ1ZSxcbiAgICAgICAgcGVyY2VudGFnZTogMTAwLFxuICAgICAgICBieXRlc1VwbG9hZGVkOiBjdXJyZW50UHJvZ3Jlc3MuYnl0ZXNUb3RhbFxuICAgICAgfSxcbiAgICAgIHJlc3BvbnNlOiB1cGxvYWRSZXNwLFxuICAgICAgdXBsb2FkVVJMOiB1cGxvYWRSZXNwLnVwbG9hZFVSTCxcbiAgICAgIGlzUGF1c2VkOiBmYWxzZVxuICAgIH0pOyAvLyBSZW1vdGUgcHJvdmlkZXJzIHNvbWV0aW1lcyBkb24ndCB0ZWxsIHVzIHRoZSBmaWxlIHNpemUsXG4gICAgLy8gYnV0IHdlIGNhbiBrbm93IGhvdyBtYW55IGJ5dGVzIHdlIHVwbG9hZGVkIG9uY2UgdGhlIHVwbG9hZCBpcyBjb21wbGV0ZS5cblxuICAgIGlmIChmaWxlLnNpemUgPT0gbnVsbCkge1xuICAgICAgdGhpcy5zZXRGaWxlU3RhdGUoZmlsZS5pZCwge1xuICAgICAgICBzaXplOiB1cGxvYWRSZXNwLmJ5dGVzVXBsb2FkZWQgfHwgY3VycmVudFByb2dyZXNzLmJ5dGVzVG90YWxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuY2FsY3VsYXRlVG90YWxQcm9ncmVzcygpO1xuICB9KTtcbiAgdGhpcy5vbigncHJlcHJvY2Vzcy1wcm9ncmVzcycsIChmaWxlLCBwcm9ncmVzcykgPT4ge1xuICAgIGlmIChmaWxlID09IG51bGwgfHwgIXRoaXMuZ2V0RmlsZShmaWxlLmlkKSkge1xuICAgICAgdGhpcy5sb2coYE5vdCBzZXR0aW5nIHByb2dyZXNzIGZvciBhIGZpbGUgdGhhdCBoYXMgYmVlbiByZW1vdmVkOiAke2ZpbGUgPT0gbnVsbCA/IHZvaWQgMCA6IGZpbGUuaWR9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRGaWxlU3RhdGUoZmlsZS5pZCwge1xuICAgICAgcHJvZ3Jlc3M6IHsgLi4udGhpcy5nZXRGaWxlKGZpbGUuaWQpLnByb2dyZXNzLFxuICAgICAgICBwcmVwcm9jZXNzOiBwcm9ncmVzc1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgdGhpcy5vbigncHJlcHJvY2Vzcy1jb21wbGV0ZScsIGZpbGUgPT4ge1xuICAgIGlmIChmaWxlID09IG51bGwgfHwgIXRoaXMuZ2V0RmlsZShmaWxlLmlkKSkge1xuICAgICAgdGhpcy5sb2coYE5vdCBzZXR0aW5nIHByb2dyZXNzIGZvciBhIGZpbGUgdGhhdCBoYXMgYmVlbiByZW1vdmVkOiAke2ZpbGUgPT0gbnVsbCA/IHZvaWQgMCA6IGZpbGUuaWR9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZmlsZXMgPSB7IC4uLnRoaXMuZ2V0U3RhdGUoKS5maWxlc1xuICAgIH07XG4gICAgZmlsZXNbZmlsZS5pZF0gPSB7IC4uLmZpbGVzW2ZpbGUuaWRdLFxuICAgICAgcHJvZ3Jlc3M6IHsgLi4uZmlsZXNbZmlsZS5pZF0ucHJvZ3Jlc3NcbiAgICAgIH1cbiAgICB9O1xuICAgIGRlbGV0ZSBmaWxlc1tmaWxlLmlkXS5wcm9ncmVzcy5wcmVwcm9jZXNzO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZmlsZXNcbiAgICB9KTtcbiAgfSk7XG4gIHRoaXMub24oJ3Bvc3Rwcm9jZXNzLXByb2dyZXNzJywgKGZpbGUsIHByb2dyZXNzKSA9PiB7XG4gICAgaWYgKGZpbGUgPT0gbnVsbCB8fCAhdGhpcy5nZXRGaWxlKGZpbGUuaWQpKSB7XG4gICAgICB0aGlzLmxvZyhgTm90IHNldHRpbmcgcHJvZ3Jlc3MgZm9yIGEgZmlsZSB0aGF0IGhhcyBiZWVuIHJlbW92ZWQ6ICR7ZmlsZSA9PSBudWxsID8gdm9pZCAwIDogZmlsZS5pZH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldEZpbGVTdGF0ZShmaWxlLmlkLCB7XG4gICAgICBwcm9ncmVzczogeyAuLi50aGlzLmdldFN0YXRlKCkuZmlsZXNbZmlsZS5pZF0ucHJvZ3Jlc3MsXG4gICAgICAgIHBvc3Rwcm9jZXNzOiBwcm9ncmVzc1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgdGhpcy5vbigncG9zdHByb2Nlc3MtY29tcGxldGUnLCBmaWxlID0+IHtcbiAgICBpZiAoZmlsZSA9PSBudWxsIHx8ICF0aGlzLmdldEZpbGUoZmlsZS5pZCkpIHtcbiAgICAgIHRoaXMubG9nKGBOb3Qgc2V0dGluZyBwcm9ncmVzcyBmb3IgYSBmaWxlIHRoYXQgaGFzIGJlZW4gcmVtb3ZlZDogJHtmaWxlID09IG51bGwgPyB2b2lkIDAgOiBmaWxlLmlkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGZpbGVzID0geyAuLi50aGlzLmdldFN0YXRlKCkuZmlsZXNcbiAgICB9O1xuICAgIGZpbGVzW2ZpbGUuaWRdID0geyAuLi5maWxlc1tmaWxlLmlkXSxcbiAgICAgIHByb2dyZXNzOiB7IC4uLmZpbGVzW2ZpbGUuaWRdLnByb2dyZXNzXG4gICAgICB9XG4gICAgfTtcbiAgICBkZWxldGUgZmlsZXNbZmlsZS5pZF0ucHJvZ3Jlc3MucG9zdHByb2Nlc3M7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBmaWxlc1xuICAgIH0pO1xuICB9KTtcbiAgdGhpcy5vbigncmVzdG9yZWQnLCAoKSA9PiB7XG4gICAgLy8gRmlsZXMgbWF5IGhhdmUgY2hhbmdlZC0tZW5zdXJlIHByb2dyZXNzIGlzIHN0aWxsIGFjY3VyYXRlLlxuICAgIHRoaXMuY2FsY3VsYXRlVG90YWxQcm9ncmVzcygpO1xuICB9KTtcbiAgdGhpcy5vbignZGFzaGJvYXJkOmZpbGUtZWRpdC1jb21wbGV0ZScsIGZpbGUgPT4ge1xuICAgIGlmIChmaWxlKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NoZWNrUmVxdWlyZWRNZXRhRmllbGRzT25GaWxlKVtfY2hlY2tSZXF1aXJlZE1ldGFGaWVsZHNPbkZpbGVdKGZpbGUpO1xuICAgIH1cbiAgfSk7IC8vIHNob3cgaW5mb3JtZXIgaWYgb2ZmbGluZVxuXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3VwZGF0ZU9ubGluZVN0YXR1cylbX3VwZGF0ZU9ubGluZVN0YXR1c10pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF91cGRhdGVPbmxpbmVTdGF0dXMpW191cGRhdGVPbmxpbmVTdGF0dXNdKTtcbiAgICBzZXRUaW1lb3V0KF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdXBkYXRlT25saW5lU3RhdHVzKVtfdXBkYXRlT25saW5lU3RhdHVzXSwgMzAwMCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZVVwbG9hZDIoZmlsZUlEcywgb3B0cykge1xuICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgLy8gdXBweS5yZXRyeUFsbCBzZXRzIHRoaXMgdG8gdHJ1ZSDigJQgd2hlbiByZXRyeWluZyB3ZSB3YW50IHRvIGlnbm9yZSBgYWxsb3dOZXdVcGxvYWQ6IGZhbHNlYFxuICBjb25zdCB7XG4gICAgZm9yY2VBbGxvd05ld1VwbG9hZCA9IGZhbHNlXG4gIH0gPSBvcHRzO1xuICBjb25zdCB7XG4gICAgYWxsb3dOZXdVcGxvYWQsXG4gICAgY3VycmVudFVwbG9hZHNcbiAgfSA9IHRoaXMuZ2V0U3RhdGUoKTtcblxuICBpZiAoIWFsbG93TmV3VXBsb2FkICYmICFmb3JjZUFsbG93TmV3VXBsb2FkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY3JlYXRlIGEgbmV3IHVwbG9hZDogYWxyZWFkeSB1cGxvYWRpbmcuJyk7XG4gIH1cblxuICBjb25zdCB1cGxvYWRJRCA9IG5hbm9pZCgpO1xuICB0aGlzLmVtaXQoJ3VwbG9hZCcsIHtcbiAgICBpZDogdXBsb2FkSUQsXG4gICAgZmlsZUlEc1xuICB9KTtcbiAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgYWxsb3dOZXdVcGxvYWQ6IHRoaXMub3B0cy5hbGxvd011bHRpcGxlVXBsb2FkQmF0Y2hlcyAhPT0gZmFsc2UgJiYgdGhpcy5vcHRzLmFsbG93TXVsdGlwbGVVcGxvYWRzICE9PSBmYWxzZSxcbiAgICBjdXJyZW50VXBsb2FkczogeyAuLi5jdXJyZW50VXBsb2FkcyxcbiAgICAgIFt1cGxvYWRJRF06IHtcbiAgICAgICAgZmlsZUlEcyxcbiAgICAgICAgc3RlcDogMCxcbiAgICAgICAgcmVzdWx0OiB7fVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiB1cGxvYWRJRDtcbn1cblxuZnVuY3Rpb24gX2dldFVwbG9hZDIodXBsb2FkSUQpIHtcbiAgY29uc3Qge1xuICAgIGN1cnJlbnRVcGxvYWRzXG4gIH0gPSB0aGlzLmdldFN0YXRlKCk7XG4gIHJldHVybiBjdXJyZW50VXBsb2Fkc1t1cGxvYWRJRF07XG59XG5cbmZ1bmN0aW9uIF9yZW1vdmVVcGxvYWQyKHVwbG9hZElEKSB7XG4gIGNvbnN0IGN1cnJlbnRVcGxvYWRzID0geyAuLi50aGlzLmdldFN0YXRlKCkuY3VycmVudFVwbG9hZHNcbiAgfTtcbiAgZGVsZXRlIGN1cnJlbnRVcGxvYWRzW3VwbG9hZElEXTtcbiAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgY3VycmVudFVwbG9hZHNcbiAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9ydW5VcGxvYWQyKHVwbG9hZElEKSB7XG4gIGxldCB7XG4gICAgY3VycmVudFVwbG9hZHNcbiAgfSA9IHRoaXMuZ2V0U3RhdGUoKTtcbiAgbGV0IGN1cnJlbnRVcGxvYWQgPSBjdXJyZW50VXBsb2Fkc1t1cGxvYWRJRF07XG4gIGNvbnN0IHJlc3RvcmVTdGVwID0gY3VycmVudFVwbG9hZC5zdGVwIHx8IDA7XG4gIGNvbnN0IHN0ZXBzID0gWy4uLl9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJlUHJvY2Vzc29ycylbX3ByZVByb2Nlc3NvcnNdLCAuLi5fY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3VwbG9hZGVycylbX3VwbG9hZGVyc10sIC4uLl9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcG9zdFByb2Nlc3NvcnMpW19wb3N0UHJvY2Vzc29yc11dO1xuXG4gIHRyeSB7XG4gICAgZm9yIChsZXQgc3RlcCA9IHJlc3RvcmVTdGVwOyBzdGVwIDwgc3RlcHMubGVuZ3RoOyBzdGVwKyspIHtcbiAgICAgIGlmICghY3VycmVudFVwbG9hZCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY29uc3QgZm4gPSBzdGVwc1tzdGVwXTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRVcGxvYWQgPSB7IC4uLmN1cnJlbnRVcGxvYWQsXG4gICAgICAgIHN0ZXBcbiAgICAgIH07XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY3VycmVudFVwbG9hZHM6IHsgLi4uY3VycmVudFVwbG9hZHMsXG4gICAgICAgICAgW3VwbG9hZElEXTogdXBkYXRlZFVwbG9hZFxuICAgICAgICB9XG4gICAgICB9KTsgLy8gVE9ETyBnaXZlIHRoaXMgdGhlIGB1cGRhdGVkVXBsb2FkYCBvYmplY3QgYXMgaXRzIG9ubHkgcGFyYW1ldGVyIG1heWJlP1xuICAgICAgLy8gT3RoZXJ3aXNlIHdoZW4gbW9yZSBtZXRhZGF0YSBtYXkgYmUgYWRkZWQgdG8gdGhlIHVwbG9hZCB0aGlzIHdvdWxkIGtlZXAgZ2V0dGluZyBtb3JlIHBhcmFtZXRlcnNcblxuICAgICAgYXdhaXQgZm4odXBkYXRlZFVwbG9hZC5maWxlSURzLCB1cGxvYWRJRCk7IC8vIFVwZGF0ZSBjdXJyZW50VXBsb2FkIHZhbHVlIGluIGNhc2UgaXQgd2FzIG1vZGlmaWVkIGFzeW5jaHJvbm91c2x5LlxuXG4gICAgICBjdXJyZW50VXBsb2FkcyA9IHRoaXMuZ2V0U3RhdGUoKS5jdXJyZW50VXBsb2FkcztcbiAgICAgIGN1cnJlbnRVcGxvYWQgPSBjdXJyZW50VXBsb2Fkc1t1cGxvYWRJRF07XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlbW92ZVVwbG9hZClbX3JlbW92ZVVwbG9hZF0odXBsb2FkSUQpO1xuXG4gICAgdGhyb3cgZXJyO1xuICB9IC8vIFNldCByZXN1bHQgZGF0YS5cblxuXG4gIGlmIChjdXJyZW50VXBsb2FkKSB7XG4gICAgLy8gTWFyayBwb3N0cHJvY2Vzc2luZyBzdGVwIGFzIGNvbXBsZXRlIGlmIG5lY2Vzc2FyeTsgdGhpcyBhZGRyZXNzZXMgYSBjYXNlIHdoZXJlIHdlIG1pZ2h0IGdldFxuICAgIC8vIHN0dWNrIGluIHRoZSBwb3N0cHJvY2Vzc2luZyBVSSB3aGlsZSB0aGUgdXBsb2FkIGlzIGZ1bGx5IGNvbXBsZXRlLlxuICAgIC8vIElmIHRoZSBwb3N0cHJvY2Vzc2luZyBzdGVwcyBkbyBub3QgZG8gYW55IHdvcmssIHRoZXkgbWF5IG5vdCBlbWl0IHBvc3Rwcm9jZXNzaW5nIGV2ZW50cyBhdFxuICAgIC8vIGFsbCwgYW5kIG5ldmVyIG1hcmsgdGhlIHBvc3Rwcm9jZXNzaW5nIGFzIGNvbXBsZXRlLiBUaGlzIGlzIGZpbmUgb24gaXRzIG93biBidXQgd2VcbiAgICAvLyBpbnRyb2R1Y2VkIGNvZGUgaW4gdGhlIEB1cHB5L2NvcmUgdXBsb2FkLXN1Y2Nlc3MgaGFuZGxlciB0byBwcmVwYXJlIHBvc3Rwcm9jZXNzaW5nIHByb2dyZXNzXG4gICAgLy8gc3RhdGUgaWYgYW55IHBvc3Rwcm9jZXNzb3JzIGFyZSByZWdpc3RlcmVkLiBUaGF0IGlzIHRvIGF2b2lkIGEgXCJmbGFzaCBvZiBjb21wbGV0ZWQgc3RhdGVcIlxuICAgIC8vIGJlZm9yZSB0aGUgcG9zdHByb2Nlc3NpbmcgcGx1Z2lucyBjYW4gZW1pdCBldmVudHMuXG4gICAgLy9cbiAgICAvLyBTbywganVzdCBpbiBjYXNlIGFuIHVwbG9hZCB3aXRoIHBvc3Rwcm9jZXNzaW5nIHBsdWdpbnMgKmhhcyogY29tcGxldGVkICp3aXRob3V0KiBlbWl0dGluZ1xuICAgIC8vIHBvc3Rwcm9jZXNzaW5nIGNvbXBsZXRpb24sIHdlIGRvIGl0IGluc3RlYWQuXG4gICAgY3VycmVudFVwbG9hZC5maWxlSURzLmZvckVhY2goZmlsZUlEID0+IHtcbiAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGUoZmlsZUlEKTtcblxuICAgICAgaWYgKGZpbGUgJiYgZmlsZS5wcm9ncmVzcy5wb3N0cHJvY2Vzcykge1xuICAgICAgICB0aGlzLmVtaXQoJ3Bvc3Rwcm9jZXNzLWNvbXBsZXRlJywgZmlsZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgZmlsZXMgPSBjdXJyZW50VXBsb2FkLmZpbGVJRHMubWFwKGZpbGVJRCA9PiB0aGlzLmdldEZpbGUoZmlsZUlEKSk7XG4gICAgY29uc3Qgc3VjY2Vzc2Z1bCA9IGZpbGVzLmZpbHRlcihmaWxlID0+ICFmaWxlLmVycm9yKTtcbiAgICBjb25zdCBmYWlsZWQgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBmaWxlLmVycm9yKTtcbiAgICBhd2FpdCB0aGlzLmFkZFJlc3VsdERhdGEodXBsb2FkSUQsIHtcbiAgICAgIHN1Y2Nlc3NmdWwsXG4gICAgICBmYWlsZWQsXG4gICAgICB1cGxvYWRJRFxuICAgIH0pOyAvLyBVcGRhdGUgY3VycmVudFVwbG9hZCB2YWx1ZSBpbiBjYXNlIGl0IHdhcyBtb2RpZmllZCBhc3luY2hyb25vdXNseS5cblxuICAgIGN1cnJlbnRVcGxvYWRzID0gdGhpcy5nZXRTdGF0ZSgpLmN1cnJlbnRVcGxvYWRzO1xuICAgIGN1cnJlbnRVcGxvYWQgPSBjdXJyZW50VXBsb2Fkc1t1cGxvYWRJRF07XG4gIH0gLy8gRW1pdCBjb21wbGV0aW9uIGV2ZW50cy5cbiAgLy8gVGhpcyBpcyBpbiBhIHNlcGFyYXRlIGZ1bmN0aW9uIHNvIHRoYXQgdGhlIGBjdXJyZW50VXBsb2Fkc2AgdmFyaWFibGVcbiAgLy8gYWx3YXlzIHJlZmVycyB0byB0aGUgbGF0ZXN0IHN0YXRlLiBJbiB0aGUgaGFuZGxlciByaWdodCBhYm92ZSBpdCByZWZlcnNcbiAgLy8gdG8gYW4gb3V0ZGF0ZWQgb2JqZWN0IHdpdGhvdXQgdGhlIGAucmVzdWx0YCBwcm9wZXJ0eS5cblxuXG4gIGxldCByZXN1bHQ7XG5cbiAgaWYgKGN1cnJlbnRVcGxvYWQpIHtcbiAgICByZXN1bHQgPSBjdXJyZW50VXBsb2FkLnJlc3VsdDtcbiAgICB0aGlzLmVtaXQoJ2NvbXBsZXRlJywgcmVzdWx0KTtcblxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVtb3ZlVXBsb2FkKVtfcmVtb3ZlVXBsb2FkXSh1cGxvYWRJRCk7XG4gIH1cblxuICBpZiAocmVzdWx0ID09IG51bGwpIHtcbiAgICB0aGlzLmxvZyhgTm90IHNldHRpbmcgcmVzdWx0IGZvciBhbiB1cGxvYWQgdGhhdCBoYXMgYmVlbiByZW1vdmVkOiAke3VwbG9hZElEfWApO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuVXBweS5WRVJTSU9OID0gcGFja2FnZUpzb24udmVyc2lvbjtcbmV4cG9ydCBkZWZhdWx0IFVwcHk7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RmlsZU5hbWUoZmlsZVR5cGUsIGZpbGVEZXNjcmlwdG9yKSB7XG4gIGlmIChmaWxlRGVzY3JpcHRvci5uYW1lKSB7XG4gICAgcmV0dXJuIGZpbGVEZXNjcmlwdG9yLm5hbWU7XG4gIH1cblxuICBpZiAoZmlsZVR5cGUuc3BsaXQoJy8nKVswXSA9PT0gJ2ltYWdlJykge1xuICAgIHJldHVybiBgJHtmaWxlVHlwZS5zcGxpdCgnLycpWzBdfS4ke2ZpbGVUeXBlLnNwbGl0KCcvJylbMV19YDtcbiAgfVxuXG4gIHJldHVybiAnbm9uYW1lJztcbn0iLCJleHBvcnQgeyBkZWZhdWx0IH0gZnJvbSAnLi9VcHB5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVXBweSB9IGZyb20gJy4vVXBweS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFVJUGx1Z2luIH0gZnJvbSAnLi9VSVBsdWdpbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhc2VQbHVnaW4gfSBmcm9tICcuL0Jhc2VQbHVnaW4uanMnO1xuZXhwb3J0IHsgZGVidWdMb2dnZXIgfSBmcm9tICcuL2xvZ2dlcnMuanMnOyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgc3RyaW5nczoge1xuICAgIGFkZEJ1bGtGaWxlc0ZhaWxlZDoge1xuICAgICAgMDogJ0ZhaWxlZCB0byBhZGQgJXtzbWFydF9jb3VudH0gZmlsZSBkdWUgdG8gYW4gaW50ZXJuYWwgZXJyb3InLFxuICAgICAgMTogJ0ZhaWxlZCB0byBhZGQgJXtzbWFydF9jb3VudH0gZmlsZXMgZHVlIHRvIGludGVybmFsIGVycm9ycydcbiAgICB9LFxuICAgIHlvdUNhbk9ubHlVcGxvYWRYOiB7XG4gICAgICAwOiAnWW91IGNhbiBvbmx5IHVwbG9hZCAle3NtYXJ0X2NvdW50fSBmaWxlJyxcbiAgICAgIDE6ICdZb3UgY2FuIG9ubHkgdXBsb2FkICV7c21hcnRfY291bnR9IGZpbGVzJ1xuICAgIH0sXG4gICAgeW91SGF2ZVRvQXRMZWFzdFNlbGVjdFg6IHtcbiAgICAgIDA6ICdZb3UgaGF2ZSB0byBzZWxlY3QgYXQgbGVhc3QgJXtzbWFydF9jb3VudH0gZmlsZScsXG4gICAgICAxOiAnWW91IGhhdmUgdG8gc2VsZWN0IGF0IGxlYXN0ICV7c21hcnRfY291bnR9IGZpbGVzJ1xuICAgIH0sXG4gICAgZXhjZWVkc1NpemU6ICcle2ZpbGV9IGV4Y2VlZHMgbWF4aW11bSBhbGxvd2VkIHNpemUgb2YgJXtzaXplfScsXG4gICAgbWlzc2luZ1JlcXVpcmVkTWV0YUZpZWxkOiAnTWlzc2luZyByZXF1aXJlZCBtZXRhIGZpZWxkcycsXG4gICAgbWlzc2luZ1JlcXVpcmVkTWV0YUZpZWxkT25GaWxlOiAnTWlzc2luZyByZXF1aXJlZCBtZXRhIGZpZWxkcyBpbiAle2ZpbGVOYW1lfScsXG4gICAgaW5mZXJpb3JTaXplOiAnVGhpcyBmaWxlIGlzIHNtYWxsZXIgdGhhbiB0aGUgYWxsb3dlZCBzaXplIG9mICV7c2l6ZX0nLFxuICAgIHlvdUNhbk9ubHlVcGxvYWRGaWxlVHlwZXM6ICdZb3UgY2FuIG9ubHkgdXBsb2FkOiAle3R5cGVzfScsXG4gICAgbm9Nb3JlRmlsZXNBbGxvd2VkOiAnQ2Fubm90IGFkZCBtb3JlIGZpbGVzJyxcbiAgICBub0R1cGxpY2F0ZXM6IFwiQ2Fubm90IGFkZCB0aGUgZHVwbGljYXRlIGZpbGUgJyV7ZmlsZU5hbWV9JywgaXQgYWxyZWFkeSBleGlzdHNcIixcbiAgICBjb21wYW5pb25FcnJvcjogJ0Nvbm5lY3Rpb24gd2l0aCBDb21wYW5pb24gZmFpbGVkJyxcbiAgICBhdXRoQWJvcnRlZDogJ0F1dGhlbnRpY2F0aW9uIGFib3J0ZWQnLFxuICAgIGNvbXBhbmlvblVuYXV0aG9yaXplSGludDogJ1RvIHVuYXV0aG9yaXplIHRvIHlvdXIgJXtwcm92aWRlcn0gYWNjb3VudCwgcGxlYXNlIGdvIHRvICV7dXJsfScsXG4gICAgZmFpbGVkVG9VcGxvYWQ6ICdGYWlsZWQgdG8gdXBsb2FkICV7ZmlsZX0nLFxuICAgIG5vSW50ZXJuZXRDb25uZWN0aW9uOiAnTm8gSW50ZXJuZXQgY29ubmVjdGlvbicsXG4gICAgY29ubmVjdGVkVG9JbnRlcm5ldDogJ0Nvbm5lY3RlZCB0byB0aGUgSW50ZXJuZXQnLFxuICAgIC8vIFN0cmluZ3MgZm9yIHJlbW90ZSBwcm92aWRlcnNcbiAgICBub0ZpbGVzRm91bmQ6ICdZb3UgaGF2ZSBubyBmaWxlcyBvciBmb2xkZXJzIGhlcmUnLFxuICAgIG5vU2VhcmNoUmVzdWx0czogJ1VuZm9ydHVuYXRlbHksIHRoZXJlIGFyZSBubyByZXN1bHRzIGZvciB0aGlzIHNlYXJjaCcsXG4gICAgc2VsZWN0WDoge1xuICAgICAgMDogJ1NlbGVjdCAle3NtYXJ0X2NvdW50fScsXG4gICAgICAxOiAnU2VsZWN0ICV7c21hcnRfY291bnR9J1xuICAgIH0sXG4gICAgYWxsRmlsZXNGcm9tRm9sZGVyTmFtZWQ6ICdBbGwgZmlsZXMgZnJvbSBmb2xkZXIgJXtuYW1lfScsXG4gICAgb3BlbkZvbGRlck5hbWVkOiAnT3BlbiBmb2xkZXIgJXtuYW1lfScsXG4gICAgY2FuY2VsOiAnQ2FuY2VsJyxcbiAgICBsb2dPdXQ6ICdMb2cgb3V0JyxcbiAgICBmaWx0ZXI6ICdGaWx0ZXInLFxuICAgIHJlc2V0RmlsdGVyOiAnUmVzZXQgZmlsdGVyJyxcbiAgICBsb2FkaW5nOiAnTG9hZGluZy4uLicsXG4gICAgYXV0aGVudGljYXRlV2l0aFRpdGxlOiAnUGxlYXNlIGF1dGhlbnRpY2F0ZSB3aXRoICV7cGx1Z2luTmFtZX0gdG8gc2VsZWN0IGZpbGVzJyxcbiAgICBhdXRoZW50aWNhdGVXaXRoOiAnQ29ubmVjdCB0byAle3BsdWdpbk5hbWV9JyxcbiAgICBzaWduSW5XaXRoR29vZ2xlOiAnU2lnbiBpbiB3aXRoIEdvb2dsZScsXG4gICAgc2VhcmNoSW1hZ2VzOiAnU2VhcmNoIGZvciBpbWFnZXMnLFxuICAgIGVudGVyVGV4dFRvU2VhcmNoOiAnRW50ZXIgdGV4dCB0byBzZWFyY2ggZm9yIGltYWdlcycsXG4gICAgc2VhcmNoOiAnU2VhcmNoJyxcbiAgICByZXNldFNlYXJjaDogJ1Jlc2V0IHNlYXJjaCcsXG4gICAgZW1wdHlGb2xkZXJBZGRlZDogJ05vIGZpbGVzIHdlcmUgYWRkZWQgZnJvbSBlbXB0eSBmb2xkZXInLFxuICAgIGZvbGRlckFscmVhZHlBZGRlZDogJ1RoZSBmb2xkZXIgXCIle2ZvbGRlcn1cIiB3YXMgYWxyZWFkeSBhZGRlZCcsXG4gICAgZm9sZGVyQWRkZWQ6IHtcbiAgICAgIDA6ICdBZGRlZCAle3NtYXJ0X2NvdW50fSBmaWxlIGZyb20gJXtmb2xkZXJ9JyxcbiAgICAgIDE6ICdBZGRlZCAle3NtYXJ0X2NvdW50fSBmaWxlcyBmcm9tICV7Zm9sZGVyfSdcbiAgICB9XG4gIH1cbn07IiwiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuaW1wb3J0IGdldFRpbWVTdGFtcCBmcm9tICdAdXBweS91dGlscy9saWIvZ2V0VGltZVN0YW1wJzsgLy8gU3dhbGxvdyBhbGwgbG9ncywgZXhjZXB0IGVycm9ycy5cbi8vIGRlZmF1bHQgaWYgbG9nZ2VyIGlzIG5vdCBzZXQgb3IgZGVidWc6IGZhbHNlXG5cbmNvbnN0IGp1c3RFcnJvcnNMb2dnZXIgPSB7XG4gIGRlYnVnOiAoKSA9PiB7fSxcbiAgd2FybjogKCkgPT4ge30sXG4gIGVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBjb25zb2xlLmVycm9yKGBbVXBweV0gWyR7Z2V0VGltZVN0YW1wKCl9XWAsIC4uLmFyZ3MpO1xuICB9XG59OyAvLyBQcmludCBsb2dzIHRvIGNvbnNvbGUgd2l0aCBuYW1lc3BhY2UgKyB0aW1lc3RhbXAsXG4vLyBzZXQgYnkgbG9nZ2VyOiBVcHB5LmRlYnVnTG9nZ2VyIG9yIGRlYnVnOiB0cnVlXG5cbmNvbnN0IGRlYnVnTG9nZ2VyID0ge1xuICBkZWJ1ZzogZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHJldHVybiBjb25zb2xlLmRlYnVnKGBbVXBweV0gWyR7Z2V0VGltZVN0YW1wKCl9XWAsIC4uLmFyZ3MpO1xuICB9LFxuICB3YXJuOiBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnNvbGUud2FybihgW1VwcHldIFske2dldFRpbWVTdGFtcCgpfV1gLCAuLi5hcmdzKTtcbiAgfSxcbiAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uc29sZS5lcnJvcihgW1VwcHldIFske2dldFRpbWVTdGFtcCgpfV1gLCAuLi5hcmdzKTtcbiAgfVxufTtcbmV4cG9ydCB7IGp1c3RFcnJvcnNMb2dnZXIsIGRlYnVnTG9nZ2VyIH07IiwiLy8gRWRnZSAxNS54IGRvZXMgbm90IGZpcmUgJ3Byb2dyZXNzJyBldmVudHMgb24gdXBsb2Fkcy5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdHJhbnNsb2FkaXQvdXBweS9pc3N1ZXMvOTQ1XG4vLyBBbmQgaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvMTIyMjQ1MTAvXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdXBwb3J0c1VwbG9hZFByb2dyZXNzKHVzZXJBZ2VudCkge1xuICAvLyBBbGxvdyBwYXNzaW5nIGluIHVzZXJBZ2VudCBmb3IgdGVzdHNcbiAgaWYgKHVzZXJBZ2VudCA9PSBudWxsICYmIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgfSAvLyBBc3N1bWUgaXQgd29ya3MgYmVjYXVzZSBiYXNpY2FsbHkgZXZlcnl0aGluZyBzdXBwb3J0cyBwcm9ncmVzcyBldmVudHMuXG5cblxuICBpZiAoIXVzZXJBZ2VudCkgcmV0dXJuIHRydWU7XG4gIGNvbnN0IG0gPSAvRWRnZVxcLyhcXGQrXFwuXFxkKykvLmV4ZWModXNlckFnZW50KTtcbiAgaWYgKCFtKSByZXR1cm4gdHJ1ZTtcbiAgY29uc3QgZWRnZVZlcnNpb24gPSBtWzFdO1xuICBsZXQgW21ham9yLCBtaW5vcl0gPSBlZGdlVmVyc2lvbi5zcGxpdCgnLicpO1xuICBtYWpvciA9IHBhcnNlSW50KG1ham9yLCAxMCk7XG4gIG1pbm9yID0gcGFyc2VJbnQobWlub3IsIDEwKTsgLy8gV29ya2VkIGJlZm9yZTpcbiAgLy8gRWRnZSA0MC4xNTA2My4wLjBcbiAgLy8gTWljcm9zb2Z0IEVkZ2VIVE1MIDE1LjE1MDYzXG5cbiAgaWYgKG1ham9yIDwgMTUgfHwgbWFqb3IgPT09IDE1ICYmIG1pbm9yIDwgMTUwNjMpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBGaXhlZCBpbjpcbiAgLy8gTWljcm9zb2Z0IEVkZ2VIVE1MIDE4LjE4MjE4XG5cblxuICBpZiAobWFqb3IgPiAxOCB8fCBtYWpvciA9PT0gMTggJiYgbWlub3IgPj0gMTgyMTgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBvdGhlciB2ZXJzaW9ucyBkb24ndCB3b3JrLlxuXG5cbiAgcmV0dXJuIGZhbHNlO1xufSIsImZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShyZWNlaXZlciwgcHJpdmF0ZUtleSkgeyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZWNlaXZlciwgcHJpdmF0ZUtleSkpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byB1c2UgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7IH0gcmV0dXJuIHJlY2VpdmVyOyB9XG5cbnZhciBpZCA9IDA7XG5cbmZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KG5hbWUpIHsgcmV0dXJuIFwiX19wcml2YXRlX1wiICsgaWQrKyArIFwiX1wiICsgbmFtZTsgfVxuXG5pbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IFVJUGx1Z2luIH0gZnJvbSAnQHVwcHkvY29yZSc7XG5pbXBvcnQgU3RhdHVzQmFyIGZyb20gJ0B1cHB5L3N0YXR1cy1iYXInO1xuaW1wb3J0IEluZm9ybWVyIGZyb20gJ0B1cHB5L2luZm9ybWVyJztcbmltcG9ydCBUaHVtYm5haWxHZW5lcmF0b3IgZnJvbSAnQHVwcHkvdGh1bWJuYWlsLWdlbmVyYXRvcic7XG5pbXBvcnQgZmluZEFsbERPTUVsZW1lbnRzIGZyb20gJ0B1cHB5L3V0aWxzL2xpYi9maW5kQWxsRE9NRWxlbWVudHMnO1xuaW1wb3J0IHRvQXJyYXkgZnJvbSAnQHVwcHkvdXRpbHMvbGliL3RvQXJyYXknO1xuaW1wb3J0IGdldERyb3BwZWRGaWxlcyBmcm9tICdAdXBweS91dGlscy9saWIvZ2V0RHJvcHBlZEZpbGVzJztcbmltcG9ydCB7IG5hbm9pZCB9IGZyb20gJ25hbm9pZC9ub24tc2VjdXJlJztcbmltcG9ydCBtZW1vaXplT25lIGZyb20gJ21lbW9pemUtb25lJztcbmltcG9ydCAqIGFzIHRyYXBGb2N1cyBmcm9tICcuL3V0aWxzL3RyYXBGb2N1cy5qcyc7XG5pbXBvcnQgY3JlYXRlU3VwZXJGb2N1cyBmcm9tICcuL3V0aWxzL2NyZWF0ZVN1cGVyRm9jdXMuanMnO1xuaW1wb3J0IERhc2hib2FyZFVJIGZyb20gXCIuL2NvbXBvbmVudHMvRGFzaGJvYXJkLmpzXCI7XG5jb25zdCBwYWNrYWdlSnNvbiA9IHtcbiAgXCJ2ZXJzaW9uXCI6IFwiMy4zLjJcIlxufTtcbmltcG9ydCBsb2NhbGUgZnJvbSAnLi9sb2NhbGUuanMnO1xuY29uc3QgbWVtb2l6ZSA9IG1lbW9pemVPbmUuZGVmYXVsdCB8fCBtZW1vaXplT25lO1xuY29uc3QgVEFCX0tFWSA9IDk7XG5jb25zdCBFU0NfS0VZID0gMjc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVByb21pc2UoKSB7XG4gIGNvbnN0IG8gPSB7fTtcbiAgby5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIG8ucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgby5yZWplY3QgPSByZWplY3Q7XG4gIH0pO1xuICByZXR1cm4gbztcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFBpY2tlckljb24oKSB7XG4gIHJldHVybiBoKFwic3ZnXCIsIHtcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgIHdpZHRoOiBcIjMwXCIsXG4gICAgaGVpZ2h0OiBcIjMwXCIsXG4gICAgdmlld0JveDogXCIwIDAgMzAgMzBcIlxuICB9LCBoKFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTUgMzBjOC4yODQgMCAxNS02LjcxNiAxNS0xNSAwLTguMjg0LTYuNzE2LTE1LTE1LTE1QzYuNzE2IDAgMCA2LjcxNiAwIDE1YzAgOC4yODQgNi43MTYgMTUgMTUgMTV6bTQuMjU4LTEyLjY3NnY2Ljg0NmgtOC40MjZ2LTYuODQ2SDUuMjA0bDkuODItMTIuMzY0IDkuODIgMTIuMzY0SDE5LjI2elwiXG4gIH0pKTtcbn1cbi8qKlxuICogRGFzaGJvYXJkIFVJIHdpdGggcHJldmlld3MsIG1ldGFkYXRhIGVkaXRpbmcsIHRhYnMgZm9yIHZhcmlvdXMgc2VydmljZXMgYW5kIG1vcmVcbiAqL1xuXG5cbnZhciBfZGlzYWJsZWROb2RlcyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRpc2FibGVkTm9kZXNcIik7XG5cbnZhciBfZ2VuZXJhdGVMYXJnZVRodW1ibmFpbElmU2luZ2xlRmlsZSA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImdlbmVyYXRlTGFyZ2VUaHVtYm5haWxJZlNpbmdsZUZpbGVcIik7XG5cbnZhciBfb3BlbkZpbGVFZGl0b3JXaGVuRmlsZXNBZGRlZCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm9wZW5GaWxlRWRpdG9yV2hlbkZpbGVzQWRkZWRcIik7XG5cbnZhciBfYXR0YWNoUmVuZGVyRnVuY3Rpb25Ub1RhcmdldCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImF0dGFjaFJlbmRlckZ1bmN0aW9uVG9UYXJnZXRcIik7XG5cbnZhciBfaXNUYXJnZXRTdXBwb3J0ZWQgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1RhcmdldFN1cHBvcnRlZFwiKTtcblxudmFyIF9nZXRBY3F1aXJlcnMgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJnZXRBY3F1aXJlcnNcIik7XG5cbnZhciBfZ2V0UHJvZ3Jlc3NJbmRpY2F0b3JzID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZ2V0UHJvZ3Jlc3NJbmRpY2F0b3JzXCIpO1xuXG52YXIgX2dldEVkaXRvcnMgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJnZXRFZGl0b3JzXCIpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXNoYm9hcmQgZXh0ZW5kcyBVSVBsdWdpbiB7XG4gIGNvbnN0cnVjdG9yKHVwcHksIF9vcHRzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgc3VwZXIodXBweSwgX29wdHMpO1xuICAgIF90aGlzID0gdGhpcztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2Rpc2FibGVkTm9kZXMsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9KTtcblxuICAgIHRoaXMucmVtb3ZlVGFyZ2V0ID0gcGx1Z2luID0+IHtcbiAgICAgIGNvbnN0IHBsdWdpblN0YXRlID0gdGhpcy5nZXRQbHVnaW5TdGF0ZSgpOyAvLyBmaWx0ZXIgb3V0IHRoZSBvbmUgd2Ugd2FudCB0byByZW1vdmVcblxuICAgICAgY29uc3QgbmV3VGFyZ2V0cyA9IHBsdWdpblN0YXRlLnRhcmdldHMuZmlsdGVyKHRhcmdldCA9PiB0YXJnZXQuaWQgIT09IHBsdWdpbi5pZCk7XG4gICAgICB0aGlzLnNldFBsdWdpblN0YXRlKHtcbiAgICAgICAgdGFyZ2V0czogbmV3VGFyZ2V0c1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuYWRkVGFyZ2V0ID0gcGx1Z2luID0+IHtcbiAgICAgIGNvbnN0IGNhbGxlclBsdWdpbklkID0gcGx1Z2luLmlkIHx8IHBsdWdpbi5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgY29uc3QgY2FsbGVyUGx1Z2luTmFtZSA9IHBsdWdpbi50aXRsZSB8fCBjYWxsZXJQbHVnaW5JZDtcbiAgICAgIGNvbnN0IGNhbGxlclBsdWdpblR5cGUgPSBwbHVnaW4udHlwZTtcblxuICAgICAgaWYgKGNhbGxlclBsdWdpblR5cGUgIT09ICdhY3F1aXJlcicgJiYgY2FsbGVyUGx1Z2luVHlwZSAhPT0gJ3Byb2dyZXNzaW5kaWNhdG9yJyAmJiBjYWxsZXJQbHVnaW5UeXBlICE9PSAnZWRpdG9yJykge1xuICAgICAgICBjb25zdCBtc2cgPSAnRGFzaGJvYXJkOiBjYW4gb25seSBiZSB0YXJnZXRlZCBieSBwbHVnaW5zIG9mIHR5cGVzOiBhY3F1aXJlciwgcHJvZ3Jlc3NpbmRpY2F0b3IsIGVkaXRvcic7XG4gICAgICAgIHRoaXMudXBweS5sb2cobXNnLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGFyZ2V0ID0ge1xuICAgICAgICBpZDogY2FsbGVyUGx1Z2luSWQsXG4gICAgICAgIG5hbWU6IGNhbGxlclBsdWdpbk5hbWUsXG4gICAgICAgIHR5cGU6IGNhbGxlclBsdWdpblR5cGVcbiAgICAgIH07XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0UGx1Z2luU3RhdGUoKTtcbiAgICAgIGNvbnN0IG5ld1RhcmdldHMgPSBzdGF0ZS50YXJnZXRzLnNsaWNlKCk7XG4gICAgICBuZXdUYXJnZXRzLnB1c2godGFyZ2V0KTtcbiAgICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICB0YXJnZXRzOiBuZXdUYXJnZXRzXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzLmVsO1xuICAgIH07XG5cbiAgICB0aGlzLmhpZGVBbGxQYW5lbHMgPSAoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0UGx1Z2luU3RhdGUoKTtcbiAgICAgIGNvbnN0IHVwZGF0ZSA9IHtcbiAgICAgICAgYWN0aXZlUGlja2VyUGFuZWw6IGZhbHNlLFxuICAgICAgICBzaG93QWRkRmlsZXNQYW5lbDogZmFsc2UsXG4gICAgICAgIGFjdGl2ZU92ZXJsYXlUeXBlOiBudWxsLFxuICAgICAgICBmaWxlQ2FyZEZvcjogbnVsbCxcbiAgICAgICAgc2hvd0ZpbGVFZGl0b3I6IGZhbHNlXG4gICAgICB9O1xuXG4gICAgICBpZiAoc3RhdGUuYWN0aXZlUGlja2VyUGFuZWwgPT09IHVwZGF0ZS5hY3RpdmVQaWNrZXJQYW5lbCAmJiBzdGF0ZS5zaG93QWRkRmlsZXNQYW5lbCA9PT0gdXBkYXRlLnNob3dBZGRGaWxlc1BhbmVsICYmIHN0YXRlLnNob3dGaWxlRWRpdG9yID09PSB1cGRhdGUuc2hvd0ZpbGVFZGl0b3IgJiYgc3RhdGUuYWN0aXZlT3ZlcmxheVR5cGUgPT09IHVwZGF0ZS5hY3RpdmVPdmVybGF5VHlwZSkge1xuICAgICAgICAvLyBhdm9pZCBkb2luZyBhIHN0YXRlIHVwZGF0ZSBpZiBub3RoaW5nIGNoYW5nZWRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFBsdWdpblN0YXRlKHVwZGF0ZSk7XG4gICAgfTtcblxuICAgIHRoaXMuc2hvd1BhbmVsID0gaWQgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICB0YXJnZXRzXG4gICAgICB9ID0gdGhpcy5nZXRQbHVnaW5TdGF0ZSgpO1xuICAgICAgY29uc3QgYWN0aXZlUGlja2VyUGFuZWwgPSB0YXJnZXRzLmZpbHRlcih0YXJnZXQgPT4ge1xuICAgICAgICByZXR1cm4gdGFyZ2V0LnR5cGUgPT09ICdhY3F1aXJlcicgJiYgdGFyZ2V0LmlkID09PSBpZDtcbiAgICAgIH0pWzBdO1xuICAgICAgdGhpcy5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgICAgIGFjdGl2ZVBpY2tlclBhbmVsLFxuICAgICAgICBhY3RpdmVPdmVybGF5VHlwZTogJ1BpY2tlclBhbmVsJ1xuICAgICAgfSk7XG4gICAgICB0aGlzLnVwcHkuZW1pdCgnZGFzaGJvYXJkOnNob3ctcGFuZWwnLCBpZCk7XG4gICAgfTtcblxuICAgIHRoaXMuY2FuRWRpdEZpbGUgPSBmaWxlID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdGFyZ2V0c1xuICAgICAgfSA9IHRoaXMuZ2V0UGx1Z2luU3RhdGUoKTtcblxuICAgICAgY29uc3QgZWRpdG9ycyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZ2V0RWRpdG9ycylbX2dldEVkaXRvcnNdKHRhcmdldHMpO1xuXG4gICAgICByZXR1cm4gZWRpdG9ycy5zb21lKHRhcmdldCA9PiB0aGlzLnVwcHkuZ2V0UGx1Z2luKHRhcmdldC5pZCkuY2FuRWRpdEZpbGUoZmlsZSkpO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5GaWxlRWRpdG9yID0gZmlsZSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHRhcmdldHNcbiAgICAgIH0gPSB0aGlzLmdldFBsdWdpblN0YXRlKCk7XG5cbiAgICAgIGNvbnN0IGVkaXRvcnMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2dldEVkaXRvcnMpW19nZXRFZGl0b3JzXSh0YXJnZXRzKTtcblxuICAgICAgdGhpcy5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgICAgIHNob3dGaWxlRWRpdG9yOiB0cnVlLFxuICAgICAgICBmaWxlQ2FyZEZvcjogZmlsZS5pZCB8fCBudWxsLFxuICAgICAgICBhY3RpdmVPdmVybGF5VHlwZTogJ0ZpbGVFZGl0b3InXG4gICAgICB9KTtcbiAgICAgIGVkaXRvcnMuZm9yRWFjaChlZGl0b3IgPT4ge1xuICAgICAgICB0aGlzLnVwcHkuZ2V0UGx1Z2luKGVkaXRvci5pZCkuc2VsZWN0RmlsZShmaWxlKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNhdmVGaWxlRWRpdG9yID0gKCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICB0YXJnZXRzXG4gICAgICB9ID0gdGhpcy5nZXRQbHVnaW5TdGF0ZSgpO1xuXG4gICAgICBjb25zdCBlZGl0b3JzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9nZXRFZGl0b3JzKVtfZ2V0RWRpdG9yc10odGFyZ2V0cyk7XG5cbiAgICAgIGVkaXRvcnMuZm9yRWFjaChlZGl0b3IgPT4ge1xuICAgICAgICB0aGlzLnVwcHkuZ2V0UGx1Z2luKGVkaXRvci5pZCkuc2F2ZSgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmhpZGVBbGxQYW5lbHMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuTW9kYWwgPSAoKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHByb21pc2UsXG4gICAgICAgIHJlc29sdmVcbiAgICAgIH0gPSBjcmVhdGVQcm9taXNlKCk7IC8vIHNhdmUgc2Nyb2xsIHBvc2l0aW9uXG5cbiAgICAgIHRoaXMuc2F2ZWRTY3JvbGxQb3NpdGlvbiA9IHdpbmRvdy5wYWdlWU9mZnNldDsgLy8gc2F2ZSBhY3RpdmUgZWxlbWVudCwgc28gd2UgY2FuIHJlc3RvcmUgZm9jdXMgd2hlbiBtb2RhbCBpcyBjbG9zZWRcblxuICAgICAgdGhpcy5zYXZlZEFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXG4gICAgICBpZiAodGhpcy5vcHRzLmRpc2FibGVQYWdlU2Nyb2xsV2hlbk1vZGFsT3Blbikge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3VwcHktRGFzaGJvYXJkLWlzRml4ZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub3B0cy5hbmltYXRlT3BlbkNsb3NlICYmIHRoaXMuZ2V0UGx1Z2luU3RhdGUoKS5pc0Nsb3NpbmcpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnNldFBsdWdpblN0YXRlKHtcbiAgICAgICAgICAgIGlzSGlkZGVuOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICAgIGlzSGlkZGVuOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRzLmJyb3dzZXJCYWNrQnV0dG9uQ2xvc2UpIHtcbiAgICAgICAgdGhpcy51cGRhdGVCcm93c2VySGlzdG9yeSgpO1xuICAgICAgfSAvLyBoYW5kbGUgRVNDIGFuZCBUQUIga2V5cyBpbiBtb2RhbCBkaWFsb2dcblxuXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duSW5Nb2RhbCk7XG4gICAgICB0aGlzLnVwcHkuZW1pdCgnZGFzaGJvYXJkOm1vZGFsLW9wZW4nKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlTW9kYWwgPSBmdW5jdGlvbiAob3B0cykge1xuICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRzID0ge307XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgLy8gV2hldGhlciB0aGUgbW9kYWwgaXMgYmVpbmcgY2xvc2VkIGJ5IHRoZSB1c2VyIChgdHJ1ZWApIG9yIGJ5IG90aGVyIG1lYW5zIChlLmcuIGJyb3dzZXIgYmFjayBidXR0b24pXG4gICAgICAgIG1hbnVhbENsb3NlID0gdHJ1ZVxuICAgICAgfSA9IG9wdHM7XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaXNIaWRkZW4sXG4gICAgICAgIGlzQ2xvc2luZ1xuICAgICAgfSA9IF90aGlzLmdldFBsdWdpblN0YXRlKCk7XG5cbiAgICAgIGlmIChpc0hpZGRlbiB8fCBpc0Nsb3NpbmcpIHtcbiAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBpZiBhbmltYXRpb24gaXMgb25nb2luZ1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7XG4gICAgICAgIHByb21pc2UsXG4gICAgICAgIHJlc29sdmVcbiAgICAgIH0gPSBjcmVhdGVQcm9taXNlKCk7XG5cbiAgICAgIGlmIChfdGhpcy5vcHRzLmRpc2FibGVQYWdlU2Nyb2xsV2hlbk1vZGFsT3Blbikge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3VwcHktRGFzaGJvYXJkLWlzRml4ZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLm9wdHMuYW5pbWF0ZU9wZW5DbG9zZSkge1xuICAgICAgICBfdGhpcy5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgICAgICAgaXNDbG9zaW5nOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgX3RoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICAgICAgaXNIaWRkZW46IHRydWUsXG4gICAgICAgICAgICBpc0Nsb3Npbmc6IGZhbHNlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBfdGhpcy5zdXBlckZvY3VzLmNhbmNlbCgpO1xuXG4gICAgICAgICAgX3RoaXMuc2F2ZWRBY3RpdmVFbGVtZW50LmZvY3VzKCk7XG5cbiAgICAgICAgICBfdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBoYW5kbGVyLCBmYWxzZSk7XG5cbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICAgIGlzSGlkZGVuOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLnN1cGVyRm9jdXMuY2FuY2VsKCk7XG5cbiAgICAgICAgX3RoaXMuc2F2ZWRBY3RpdmVFbGVtZW50LmZvY3VzKCk7XG5cbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSAvLyBoYW5kbGUgRVNDIGFuZCBUQUIga2V5cyBpbiBtb2RhbCBkaWFsb2dcblxuXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgX3RoaXMuaGFuZGxlS2V5RG93bkluTW9kYWwpO1xuXG4gICAgICBpZiAobWFudWFsQ2xvc2UpIHtcbiAgICAgICAgaWYgKF90aGlzLm9wdHMuYnJvd3NlckJhY2tCdXR0b25DbG9zZSkge1xuICAgICAgICAgIHZhciBfaGlzdG9yeSRzdGF0ZTtcblxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBsYXRlc3QgZW50cnkgaW4gdGhlIGhpc3Rvcnkgc3RhdGUgaXMgb3VyIG1vZGFsIG5hbWVcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gICAgICAgICAgaWYgKChfaGlzdG9yeSRzdGF0ZSA9IGhpc3Rvcnkuc3RhdGUpICE9IG51bGwgJiYgX2hpc3Rvcnkkc3RhdGVbX3RoaXMubW9kYWxOYW1lXSkge1xuICAgICAgICAgICAgLy8gR28gYmFjayBpbiBoaXN0b3J5IHRvIGNsZWFyIG91dCB0aGUgZW50cnkgd2UgY3JlYXRlZCAodWx0aW1hdGVseSBjbG9zaW5nIHRoZSBtb2RhbClcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgICAgICAgICAgIGhpc3RvcnkuYmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfdGhpcy51cHB5LmVtaXQoJ2Rhc2hib2FyZDptb2RhbC1jbG9zZWQnKTtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcblxuICAgIHRoaXMuaXNNb2RhbE9wZW4gPSAoKSA9PiB7XG4gICAgICByZXR1cm4gIXRoaXMuZ2V0UGx1Z2luU3RhdGUoKS5pc0hpZGRlbiB8fCBmYWxzZTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZXF1ZXN0Q2xvc2VNb2RhbCA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLm9wdHMub25SZXF1ZXN0Q2xvc2VNb2RhbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRzLm9uUmVxdWVzdENsb3NlTW9kYWwoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY2xvc2VNb2RhbCgpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldERhcmtNb2RlQ2FwYWJpbGl0eSA9IGlzRGFya01vZGVPbiA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNhcGFiaWxpdGllc1xuICAgICAgfSA9IHRoaXMudXBweS5nZXRTdGF0ZSgpO1xuICAgICAgdGhpcy51cHB5LnNldFN0YXRlKHtcbiAgICAgICAgY2FwYWJpbGl0aWVzOiB7IC4uLmNhcGFiaWxpdGllcyxcbiAgICAgICAgICBkYXJrTW9kZTogaXNEYXJrTW9kZU9uXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmhhbmRsZVN5c3RlbURhcmtNb2RlQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgICAgY29uc3QgaXNEYXJrTW9kZU9uTm93ID0gZXZlbnQubWF0Y2hlcztcbiAgICAgIHRoaXMudXBweS5sb2coYFtEYXNoYm9hcmRdIERhcmsgbW9kZSBpcyAke2lzRGFya01vZGVPbk5vdyA/ICdvbicgOiAnb2ZmJ31gKTtcbiAgICAgIHRoaXMuc2V0RGFya01vZGVDYXBhYmlsaXR5KGlzRGFya01vZGVPbk5vdyk7XG4gICAgfTtcblxuICAgIHRoaXMudG9nZ2xlRmlsZUNhcmQgPSAoc2hvdywgZmlsZUlEKSA9PiB7XG4gICAgICBjb25zdCBmaWxlID0gdGhpcy51cHB5LmdldEZpbGUoZmlsZUlEKTtcblxuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgdGhpcy51cHB5LmVtaXQoJ2Rhc2hib2FyZDpmaWxlLWVkaXQtc3RhcnQnLCBmaWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudXBweS5lbWl0KCdkYXNoYm9hcmQ6ZmlsZS1lZGl0LWNvbXBsZXRlJywgZmlsZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICBmaWxlQ2FyZEZvcjogc2hvdyA/IGZpbGVJRCA6IG51bGwsXG4gICAgICAgIGFjdGl2ZU92ZXJsYXlUeXBlOiBzaG93ID8gJ0ZpbGVDYXJkJyA6IG51bGxcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnRvZ2dsZUFkZEZpbGVzUGFuZWwgPSBzaG93ID0+IHtcbiAgICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICBzaG93QWRkRmlsZXNQYW5lbDogc2hvdyxcbiAgICAgICAgYWN0aXZlT3ZlcmxheVR5cGU6IHNob3cgPyAnQWRkRmlsZXMnIDogbnVsbFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuYWRkRmlsZXMgPSBmaWxlcyA9PiB7XG4gICAgICBjb25zdCBkZXNjcmlwdG9ycyA9IGZpbGVzLm1hcChmaWxlID0+ICh7XG4gICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgbmFtZTogZmlsZS5uYW1lLFxuICAgICAgICB0eXBlOiBmaWxlLnR5cGUsXG4gICAgICAgIGRhdGE6IGZpbGUsXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICAvLyBwYXRoIG9mIHRoZSBmaWxlIHJlbGF0aXZlIHRvIHRoZSBhbmNlc3RvciBkaXJlY3RvcnkgdGhlIHVzZXIgc2VsZWN0ZWQuXG4gICAgICAgICAgLy8gZS5nLiAnZG9jcy9PbGQgUHJhZ3VlL2FpcmJuYi5wZGYnXG4gICAgICAgICAgcmVsYXRpdmVQYXRoOiBmaWxlLnJlbGF0aXZlUGF0aCB8fCBmaWxlLndlYmtpdFJlbGF0aXZlUGF0aCB8fCBudWxsXG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy51cHB5LmFkZEZpbGVzKGRlc2NyaXB0b3JzKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLnVwcHkubG9nKGVycik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc3RhcnRMaXN0ZW5pbmdUb1Jlc2l6ZSA9ICgpID0+IHtcbiAgICAgIC8vIFdhdGNoIGZvciBEYXNoYm9hcmQgY29udGFpbmVyIChgLnVwcHktRGFzaGJvYXJkLWlubmVyYCkgcmVzaXplXG4gICAgICAvLyBhbmQgdXBkYXRlIGNvbnRhaW5lcldpZHRoL2NvbnRhaW5lckhlaWdodCBpbiBwbHVnaW4gc3RhdGUgYWNjb3JkaW5nbHkuXG4gICAgICAvLyBFbWl0cyBmaXJzdCBldmVudCBvbiBpbml0aWFsaXphdGlvbi5cbiAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICAgIGNvbnN0IHVwcHlEYXNoYm9hcmRJbm5lckVsID0gZW50cmllc1swXTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodFxuICAgICAgICB9ID0gdXBweURhc2hib2FyZElubmVyRWwuY29udGVudFJlY3Q7XG4gICAgICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICAgIGNvbnRhaW5lcldpZHRoOiB3aWR0aCxcbiAgICAgICAgICBjb250YWluZXJIZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICBhcmVJbnNpZGVzUmVhZHlUb0JlVmlzaWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMuZWwucXVlcnlTZWxlY3RvcignLnVwcHktRGFzaGJvYXJkLWlubmVyJykpOyAvLyBJZiBSZXNpemVPYnNlcnZlciBmYWlscyB0byBlbWl0IGFuIGV2ZW50IHRlbGxpbmcgdXMgd2hhdCBzaXplIHRvIHVzZSAtIGRlZmF1bHQgdG8gdGhlIG1vYmlsZSB2aWV3XG5cbiAgICAgIHRoaXMubWFrZURhc2hib2FyZEluc2lkZXNWaXNpYmxlQW55d2F5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBwbHVnaW5TdGF0ZSA9IHRoaXMuZ2V0UGx1Z2luU3RhdGUoKTtcbiAgICAgICAgY29uc3QgaXNNb2RhbEFuZENsb3NlZCA9ICF0aGlzLm9wdHMuaW5saW5lICYmIHBsdWdpblN0YXRlLmlzSGlkZGVuO1xuXG4gICAgICAgIGlmICggLy8gaWYgUmVzaXplT2JzZXJ2ZXIgaGFzbid0IHlldCBmaXJlZCxcbiAgICAgICAgIXBsdWdpblN0YXRlLmFyZUluc2lkZXNSZWFkeVRvQmVWaXNpYmxlIC8vIGFuZCBpdCdzIG5vdCBkdWUgdG8gdGhlIG1vZGFsIGJlaW5nIGNsb3NlZFxuICAgICAgICAmJiAhaXNNb2RhbEFuZENsb3NlZCkge1xuICAgICAgICAgIHRoaXMudXBweS5sb2coJ1tEYXNoYm9hcmRdIHJlc2l6ZSBldmVudCBkaWRu4oCZdCBmaXJlIG9uIHRpbWU6IGRlZmF1bHRlZCB0byBtb2JpbGUgbGF5b3V0JywgJ3dhcm5pbmcnKTtcbiAgICAgICAgICB0aGlzLnNldFBsdWdpblN0YXRlKHtcbiAgICAgICAgICAgIGFyZUluc2lkZXNSZWFkeVRvQmVWaXNpYmxlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMDApO1xuICAgIH07XG5cbiAgICB0aGlzLnN0b3BMaXN0ZW5pbmdUb1Jlc2l6ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubWFrZURhc2hib2FyZEluc2lkZXNWaXNpYmxlQW55d2F5VGltZW91dCk7XG4gICAgfTtcblxuICAgIHRoaXMucmVjb3JkSWZGb2N1c2VkT25VcHB5UmVjZW50bHkgPSBldmVudCA9PiB7XG4gICAgICBpZiAodGhpcy5lbC5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICAgIHRoaXMuaWZGb2N1c2VkT25VcHB5UmVjZW50bHkgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pZkZvY3VzZWRPblVwcHlSZWNlbnRseSA9IGZhbHNlOyAvLyBfX19XaHkgcnVuIHRoaXMuc3VwZXJGb2N1cy5jYW5jZWwgaGVyZSB3aGVuIGl0IGFscmVhZHkgcnVucyBpbiBzdXBlckZvY3VzT25FYWNoVXBkYXRlP1xuICAgICAgICAvLyAgICBCZWNhdXNlIHN1cGVyRm9jdXMgaXMgZGVib3VuY2VkLCB3aGVuIHdlIG1vdmUgZnJvbSBVcHB5IHRvIHNvbWUgb3RoZXIgZWxlbWVudCBvbiB0aGUgcGFnZSxcbiAgICAgICAgLy8gICAgcHJldmlvdXNseSBydW4gc3VwZXJGb2N1cyBzb21ldGltZXMgaGl0cyBhbmQgbW92ZXMgZm9jdXMgYmFjayB0byBVcHB5LlxuXG4gICAgICAgIHRoaXMuc3VwZXJGb2N1cy5jYW5jZWwoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5kaXNhYmxlSW50ZXJhY3RpdmVFbGVtZW50cyA9IGRpc2FibGUgPT4ge1xuICAgICAgdmFyIF9jbGFzc1ByaXZhdGVGaWVsZExvbztcblxuICAgICAgY29uc3QgTk9ERVNfVE9fRElTQUJMRSA9IFsnYVtocmVmXScsICdpbnB1dDpub3QoW2Rpc2FibGVkXSknLCAnc2VsZWN0Om5vdChbZGlzYWJsZWRdKScsICd0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSknLCAnYnV0dG9uOm5vdChbZGlzYWJsZWRdKScsICdbcm9sZT1cImJ1dHRvblwiXTpub3QoW2Rpc2FibGVkXSknXTtcbiAgICAgIGNvbnN0IG5vZGVzVG9EaXNhYmxlID0gKF9jbGFzc1ByaXZhdGVGaWVsZExvbyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGlzYWJsZWROb2RlcylbX2Rpc2FibGVkTm9kZXNdKSAhPSBudWxsID8gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vIDogdG9BcnJheSh0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoTk9ERVNfVE9fRElTQUJMRSkpLmZpbHRlcihub2RlID0+ICFub2RlLmNsYXNzTGlzdC5jb250YWlucygndXBweS1EYXNoYm9hcmQtY2xvc2UnKSk7XG5cbiAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2Rlc1RvRGlzYWJsZSkge1xuICAgICAgICAvLyBMaW5rcyBjYW7igJl0IGhhdmUgYGRpc2FibGVkYCBhdHRyLCBzbyB3ZSB1c2UgYGFyaWEtZGlzYWJsZWRgIGZvciBhMTF5XG4gICAgICAgIGlmIChub2RlLnRhZ05hbWUgPT09ICdBJykge1xuICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgZGlzYWJsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5kaXNhYmxlZCA9IGRpc2FibGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGRpc2FibGUpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kaXNhYmxlZE5vZGVzKVtfZGlzYWJsZWROb2Rlc10gPSBub2Rlc1RvRGlzYWJsZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGlzYWJsZWROb2RlcylbX2Rpc2FibGVkTm9kZXNdID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kYXNoYm9hcmRJc0Rpc2FibGVkID0gZGlzYWJsZTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVCcm93c2VySGlzdG9yeSA9ICgpID0+IHtcbiAgICAgIHZhciBfaGlzdG9yeSRzdGF0ZTI7XG5cbiAgICAgIC8vIEVuc3VyZSBoaXN0b3J5IHN0YXRlIGRvZXMgbm90IGFscmVhZHkgY29udGFpbiBvdXIgbW9kYWwgbmFtZSB0byBhdm9pZCBkb3VibGUtcHVzaGluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgICAgaWYgKCEoKF9oaXN0b3J5JHN0YXRlMiA9IGhpc3Rvcnkuc3RhdGUpICE9IG51bGwgJiYgX2hpc3Rvcnkkc3RhdGUyW3RoaXMubW9kYWxOYW1lXSkpIHtcbiAgICAgICAgLy8gUHVzaCB0byBoaXN0b3J5IHNvIHRoYXQgdGhlIHBhZ2UgaXMgbm90IGxvc3Qgb24gYnJvd3NlciBiYWNrIGJ1dHRvbiBwcmVzc1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKHsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgICAgICAgIC4uLmhpc3Rvcnkuc3RhdGUsXG4gICAgICAgICAgW3RoaXMubW9kYWxOYW1lXTogdHJ1ZVxuICAgICAgICB9LCAnJyk7XG4gICAgICB9IC8vIExpc3RlbiBmb3IgYmFjayBidXR0b24gcHJlc3Nlc1xuXG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHRoaXMuaGFuZGxlUG9wU3RhdGUsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVQb3BTdGF0ZSA9IGV2ZW50ID0+IHtcbiAgICAgIHZhciBfZXZlbnQkc3RhdGU7XG5cbiAgICAgIC8vIENsb3NlIHRoZSBtb2RhbCBpZiB0aGUgaGlzdG9yeSBzdGF0ZSBubyBsb25nZXIgY29udGFpbnMgb3VyIG1vZGFsIG5hbWVcbiAgICAgIGlmICh0aGlzLmlzTW9kYWxPcGVuKCkgJiYgKCFldmVudC5zdGF0ZSB8fCAhZXZlbnQuc3RhdGVbdGhpcy5tb2RhbE5hbWVdKSkge1xuICAgICAgICB0aGlzLmNsb3NlTW9kYWwoe1xuICAgICAgICAgIG1hbnVhbENsb3NlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0gLy8gV2hlbiB0aGUgYnJvd3NlciBiYWNrIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCB1cHB5IGlzIG5vdyB0aGUgbGF0ZXN0IGVudHJ5XG4gICAgICAvLyBpbiB0aGUgaGlzdG9yeSBidXQgdGhlIG1vZGFsIGlzIGNsb3NlZCwgZml4IHRoZSBoaXN0b3J5IGJ5IHJlbW92aW5nIHRoZVxuICAgICAgLy8gdXBweSBoaXN0b3J5IGVudHJ5LlxuICAgICAgLy8gVGhpcyBvY2N1cnMgd2hlbiBhbm90aGVyIGVudHJ5IGlzIGFkZGVkIGludG8gdGhlIGhpc3Rvcnkgc3RhdGUgd2hpbGUgdGhlXG4gICAgICAvLyBtb2RhbCBpcyBvcGVuLCBhbmQgdGhlbiB0aGUgbW9kYWwgZ2V0cyBtYW51YWxseSBjbG9zZWQuXG4gICAgICAvLyBTb2x2ZXMgUFIgIzU3NSAoaHR0cHM6Ly9naXRodWIuY29tL3RyYW5zbG9hZGl0L3VwcHkvcHVsbC81NzUpXG5cblxuICAgICAgaWYgKCF0aGlzLmlzTW9kYWxPcGVuKCkgJiYgKF9ldmVudCRzdGF0ZSA9IGV2ZW50LnN0YXRlKSAhPSBudWxsICYmIF9ldmVudCRzdGF0ZVt0aGlzLm1vZGFsTmFtZV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgICAgICBoaXN0b3J5LmJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVLZXlEb3duSW5Nb2RhbCA9IGV2ZW50ID0+IHtcbiAgICAgIC8vIGNsb3NlIG1vZGFsIG9uIGVzYyBrZXkgcHJlc3NcbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBFU0NfS0VZKSB0aGlzLnJlcXVlc3RDbG9zZU1vZGFsKGV2ZW50KTsgLy8gdHJhcCBmb2N1cyBvbiB0YWIga2V5IHByZXNzXG5cbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBUQUJfS0VZKSB0cmFwRm9jdXMuZm9yTW9kYWwoZXZlbnQsIHRoaXMuZ2V0UGx1Z2luU3RhdGUoKS5hY3RpdmVPdmVybGF5VHlwZSwgdGhpcy5lbCk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlQ2xpY2tPdXRzaWRlID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMub3B0cy5jbG9zZU1vZGFsT25DbGlja091dHNpZGUpIHRoaXMucmVxdWVzdENsb3NlTW9kYWwoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVQYXN0ZSA9IGV2ZW50ID0+IHtcbiAgICAgIC8vIExldCBhbnkgYWNxdWlyZXIgcGx1Z2luIChVcmwvV2ViY2FtL2V0Yy4pIGhhbmRsZSBwYXN0ZXMgdG8gdGhlIHJvb3RcbiAgICAgIHRoaXMudXBweS5pdGVyYXRlUGx1Z2lucyhwbHVnaW4gPT4ge1xuICAgICAgICBpZiAocGx1Z2luLnR5cGUgPT09ICdhY3F1aXJlcicpIHtcbiAgICAgICAgICAvLyBFdmVyeSBQbHVnaW4gd2l0aCAudHlwZSBhY3F1aXJlciBjYW4gZGVmaW5lIGhhbmRsZVJvb3RQYXN0ZShldmVudClcbiAgICAgICAgICBwbHVnaW4uaGFuZGxlUm9vdFBhc3RlID09IG51bGwgPyB2b2lkIDAgOiBwbHVnaW4uaGFuZGxlUm9vdFBhc3RlKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7IC8vIEFkZCBhbGwgZHJvcHBlZCBmaWxlc1xuXG4gICAgICBjb25zdCBmaWxlcyA9IHRvQXJyYXkoZXZlbnQuY2xpcGJvYXJkRGF0YS5maWxlcyk7XG5cbiAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMudXBweS5sb2coJ1tEYXNoYm9hcmRdIEZpbGVzIHBhc3RlZCcpO1xuICAgICAgICB0aGlzLmFkZEZpbGVzKGZpbGVzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVJbnB1dENoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBmaWxlcyA9IHRvQXJyYXkoZXZlbnQudGFyZ2V0LmZpbGVzKTtcblxuICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy51cHB5LmxvZygnW0Rhc2hib2FyZF0gRmlsZXMgc2VsZWN0ZWQgdGhyb3VnaCBpbnB1dCcpO1xuICAgICAgICB0aGlzLmFkZEZpbGVzKGZpbGVzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVEcmFnT3ZlciA9IGV2ZW50ID0+IHtcbiAgICAgIHZhciBfdGhpcyRvcHRzJG9uRHJhZ092ZXIsIF90aGlzJG9wdHM7XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgLy8gQ2hlY2sgaWYgc29tZSBwbHVnaW4gY2FuIGhhbmRsZSB0aGUgZGF0YXRyYW5zZmVyIHdpdGhvdXQgZmlsZXMg4oCUXG4gICAgICAvLyBmb3IgaW5zdGFuY2UsIHRoZSBVcmwgcGx1Z2luIGNhbiBpbXBvcnQgYSB1cmxcblxuICAgICAgY29uc3QgY2FuU29tZVBsdWdpbkhhbmRsZVJvb3REcm9wID0gKCkgPT4ge1xuICAgICAgICBsZXQgc29tZVBsdWdpbkNhbkhhbmRsZVJvb3REcm9wID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51cHB5Lml0ZXJhdGVQbHVnaW5zKHBsdWdpbiA9PiB7XG4gICAgICAgICAgaWYgKHBsdWdpbi5jYW5IYW5kbGVSb290RHJvcCAhPSBudWxsICYmIHBsdWdpbi5jYW5IYW5kbGVSb290RHJvcChldmVudCkpIHtcbiAgICAgICAgICAgIHNvbWVQbHVnaW5DYW5IYW5kbGVSb290RHJvcCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNvbWVQbHVnaW5DYW5IYW5kbGVSb290RHJvcDtcbiAgICAgIH07IC8vIENoZWNrIGlmIHRoZSBcInR5cGVcIiBvZiB0aGUgZGF0YXRyYW5zZmVyIG9iamVjdCBpbmNsdWRlcyBmaWxlc1xuXG5cbiAgICAgIGNvbnN0IGRvZXNFdmVudEhhdmVGaWxlcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHR5cGVzXG4gICAgICAgIH0gPSBldmVudC5kYXRhVHJhbnNmZXI7XG4gICAgICAgIHJldHVybiB0eXBlcy5zb21lKHR5cGUgPT4gdHlwZSA9PT0gJ0ZpbGVzJyk7XG4gICAgICB9OyAvLyBEZW55IGRyb3AsIGlmIG5vIHBsdWdpbnMgY2FuIGhhbmRsZSBkYXRhdHJhbnNmZXIsIHRoZXJlIGFyZSBubyBmaWxlcyxcbiAgICAgIC8vIG9yIHdoZW4gb3B0cy5kaXNhYmxlZCBpcyBzZXQsIG9yIG5ldyB1cGxvYWRzIGFyZSBub3QgYWxsb3dlZFxuXG5cbiAgICAgIGNvbnN0IHNvbWVQbHVnaW5DYW5IYW5kbGVSb290RHJvcCA9IGNhblNvbWVQbHVnaW5IYW5kbGVSb290RHJvcChldmVudCk7XG4gICAgICBjb25zdCBoYXNGaWxlcyA9IGRvZXNFdmVudEhhdmVGaWxlcyhldmVudCk7XG5cbiAgICAgIGlmICghc29tZVBsdWdpbkNhbkhhbmRsZVJvb3REcm9wICYmICFoYXNGaWxlcyB8fCB0aGlzLm9wdHMuZGlzYWJsZWQgLy8gb3B0cy5kaXNhYmxlTG9jYWxGaWxlcyBzaG91bGQgb25seSBiZSB0YWtlbiBpbnRvIGFjY291bnQgaWYgbm8gcGx1Z2luc1xuICAgICAgLy8gY2FuIGhhbmRsZSB0aGUgZGF0YXRyYW5zZmVyXG4gICAgICB8fCB0aGlzLm9wdHMuZGlzYWJsZUxvY2FsRmlsZXMgJiYgKGhhc0ZpbGVzIHx8ICFzb21lUGx1Z2luQ2FuSGFuZGxlUm9vdERyb3ApIHx8ICF0aGlzLnVwcHkuZ2V0U3RhdGUoKS5hbGxvd05ld1VwbG9hZCkge1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdub25lJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlbW92ZURyYWdPdmVyQ2xhc3NUaW1lb3V0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBBZGQgYSBzbWFsbCAoKykgaWNvbiBvbiBkcm9wXG4gICAgICAvLyAoYW5kIHByZXZlbnQgYnJvd3NlcnMgZnJvbSBpbnRlcnByZXRpbmcgdGhpcyBhcyBmaWxlcyBiZWluZyBfbW92ZWRfIGludG8gdGhlXG4gICAgICAvLyBicm93c2VyLCBodHRwczovL2dpdGh1Yi5jb20vdHJhbnNsb2FkaXQvdXBweS9pc3N1ZXMvMTk3OCkuXG5cblxuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cblxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVtb3ZlRHJhZ092ZXJDbGFzc1RpbWVvdXQpO1xuICAgICAgdGhpcy5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgICAgIGlzRHJhZ2dpbmdPdmVyOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIChfdGhpcyRvcHRzJG9uRHJhZ092ZXIgPSAoX3RoaXMkb3B0cyA9IHRoaXMub3B0cykub25EcmFnT3ZlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJG9wdHMkb25EcmFnT3Zlci5jYWxsKF90aGlzJG9wdHMsIGV2ZW50KTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVEcmFnTGVhdmUgPSBldmVudCA9PiB7XG4gICAgICB2YXIgX3RoaXMkb3B0cyRvbkRyYWdMZWF2LCBfdGhpcyRvcHRzMjtcblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVtb3ZlRHJhZ092ZXJDbGFzc1RpbWVvdXQpOyAvLyBUaW1lb3V0IGFnYWluc3QgZmxpY2tlcmluZywgdGhpcyBzb2x1dGlvbiBpcyB0YWtlbiBmcm9tIGRyYWctZHJvcCBsaWJyYXJ5LlxuICAgICAgLy8gU29sdXRpb24gd2l0aCAncG9pbnRlci1ldmVudHM6IG5vbmUnIGRpZG4ndCB3b3JrIGFjcm9zcyBicm93c2Vycy5cblxuICAgICAgdGhpcy5yZW1vdmVEcmFnT3ZlckNsYXNzVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFBsdWdpblN0YXRlKHtcbiAgICAgICAgICBpc0RyYWdnaW5nT3ZlcjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9LCA1MCk7XG4gICAgICAoX3RoaXMkb3B0cyRvbkRyYWdMZWF2ID0gKF90aGlzJG9wdHMyID0gdGhpcy5vcHRzKS5vbkRyYWdMZWF2ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJG9wdHMkb25EcmFnTGVhdi5jYWxsKF90aGlzJG9wdHMyLCBldmVudCk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlRHJvcCA9IGFzeW5jIGV2ZW50ID0+IHtcbiAgICAgIHZhciBfdGhpcyRvcHRzJG9uRHJvcCwgX3RoaXMkb3B0czM7XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlbW92ZURyYWdPdmVyQ2xhc3NUaW1lb3V0KTtcbiAgICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICBpc0RyYWdnaW5nT3ZlcjogZmFsc2VcbiAgICAgIH0pOyAvLyBMZXQgYW55IGFjcXVpcmVyIHBsdWdpbiAoVXJsL1dlYmNhbS9ldGMuKSBoYW5kbGUgZHJvcHMgdG8gdGhlIHJvb3RcblxuICAgICAgdGhpcy51cHB5Lml0ZXJhdGVQbHVnaW5zKHBsdWdpbiA9PiB7XG4gICAgICAgIGlmIChwbHVnaW4udHlwZSA9PT0gJ2FjcXVpcmVyJykge1xuICAgICAgICAgIC8vIEV2ZXJ5IFBsdWdpbiB3aXRoIC50eXBlIGFjcXVpcmVyIGNhbiBkZWZpbmUgaGFuZGxlUm9vdERyb3AoZXZlbnQpXG4gICAgICAgICAgcGx1Z2luLmhhbmRsZVJvb3REcm9wID09IG51bGwgPyB2b2lkIDAgOiBwbHVnaW4uaGFuZGxlUm9vdERyb3AoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gQWRkIGFsbCBkcm9wcGVkIGZpbGVzXG5cbiAgICAgIGxldCBleGVjdXRlZERyb3BFcnJvck9uY2UgPSBmYWxzZTtcblxuICAgICAgY29uc3QgbG9nRHJvcEVycm9yID0gZXJyb3IgPT4ge1xuICAgICAgICB0aGlzLnVwcHkubG9nKGVycm9yLCAnZXJyb3InKTsgLy8gSW4gcHJhY3RpY2UgYWxsIGRyb3AgZXJyb3JzIGFyZSBtb3N0IGxpa2VseSB0aGUgc2FtZSxcbiAgICAgICAgLy8gc28gbGV0J3MganVzdCBzaG93IG9uZSB0byBhdm9pZCBvdmVyd2hlbG1pbmcgdGhlIHVzZXJcblxuICAgICAgICBpZiAoIWV4ZWN1dGVkRHJvcEVycm9yT25jZSkge1xuICAgICAgICAgIHRoaXMudXBweS5pbmZvKGVycm9yLm1lc3NhZ2UsICdlcnJvcicpO1xuICAgICAgICAgIGV4ZWN1dGVkRHJvcEVycm9yT25jZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH07IC8vIEFkZCBhbGwgZHJvcHBlZCBmaWxlc1xuXG5cbiAgICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgZ2V0RHJvcHBlZEZpbGVzKGV2ZW50LmRhdGFUcmFuc2Zlciwge1xuICAgICAgICBsb2dEcm9wRXJyb3JcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnVwcHkubG9nKCdbRGFzaGJvYXJkXSBGaWxlcyBkcm9wcGVkJyk7XG4gICAgICAgIHRoaXMuYWRkRmlsZXMoZmlsZXMpO1xuICAgICAgfVxuXG4gICAgICAoX3RoaXMkb3B0cyRvbkRyb3AgPSAoX3RoaXMkb3B0czMgPSB0aGlzLm9wdHMpLm9uRHJvcCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJG9wdHMkb25Ecm9wLmNhbGwoX3RoaXMkb3B0czMsIGV2ZW50KTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVSZXF1ZXN0VGh1bWJuYWlsID0gZmlsZSA9PiB7XG4gICAgICBpZiAoIXRoaXMub3B0cy53YWl0Rm9yVGh1bWJuYWlsc0JlZm9yZVVwbG9hZCkge1xuICAgICAgICB0aGlzLnVwcHkuZW1pdCgndGh1bWJuYWlsOnJlcXVlc3QnLCBmaWxlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVDYW5jZWxUaHVtYm5haWwgPSBmaWxlID0+IHtcbiAgICAgIGlmICghdGhpcy5vcHRzLndhaXRGb3JUaHVtYm5haWxzQmVmb3JlVXBsb2FkKSB7XG4gICAgICAgIHRoaXMudXBweS5lbWl0KCd0aHVtYm5haWw6Y2FuY2VsJywgZmlsZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlS2V5RG93bkluSW5saW5lID0gZXZlbnQgPT4ge1xuICAgICAgLy8gVHJhcCBmb2N1cyBvbiB0YWIga2V5IHByZXNzLlxuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IFRBQl9LRVkpIHRyYXBGb2N1cy5mb3JJbmxpbmUoZXZlbnQsIHRoaXMuZ2V0UGx1Z2luU3RhdGUoKS5hY3RpdmVPdmVybGF5VHlwZSwgdGhpcy5lbCk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlUGFzdGVPbkJvZHkgPSBldmVudCA9PiB7XG4gICAgICBjb25zdCBpc0ZvY3VzSW5PdmVybGF5ID0gdGhpcy5lbC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcblxuICAgICAgaWYgKGlzRm9jdXNJbk92ZXJsYXkpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVQYXN0ZShldmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlQ29tcGxldGUgPSBfcmVmID0+IHtcbiAgICAgIGxldCB7XG4gICAgICAgIGZhaWxlZFxuICAgICAgfSA9IF9yZWY7XG5cbiAgICAgIGlmICh0aGlzLm9wdHMuY2xvc2VBZnRlckZpbmlzaCAmJiBmYWlsZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIEFsbCB1cGxvYWRzIGFyZSBkb25lXG4gICAgICAgIHRoaXMucmVxdWVzdENsb3NlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVDYW5jZWxSZXN0b3JlID0gKCkgPT4ge1xuICAgICAgdGhpcy51cHB5LmVtaXQoJ3Jlc3RvcmUtY2FuY2VsZWQnKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9nZW5lcmF0ZUxhcmdlVGh1bWJuYWlsSWZTaW5nbGVGaWxlLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLm9wdHMuZGlzYWJsZVRodW1ibmFpbEdlbmVyYXRvcikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IExBUkdFX1RIVU1CTkFJTCA9IDYwMDtcbiAgICAgICAgY29uc3QgZmlsZXMgPSB0aGlzLnVwcHkuZ2V0RmlsZXMoKTtcblxuICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgdGh1bWJuYWlsR2VuZXJhdG9yID0gdGhpcy51cHB5LmdldFBsdWdpbihgJHt0aGlzLmlkfTpUaHVtYm5haWxHZW5lcmF0b3JgKTtcbiAgICAgICAgICB0aHVtYm5haWxHZW5lcmF0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IHRodW1ibmFpbEdlbmVyYXRvci5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgIHRodW1ibmFpbFdpZHRoOiBMQVJHRV9USFVNQk5BSUxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBmaWxlRm9yVGh1bWJuYWlsID0geyAuLi5maWxlc1swXSxcbiAgICAgICAgICAgIHByZXZpZXc6IHVuZGVmaW5lZFxuICAgICAgICAgIH07XG4gICAgICAgICAgdGh1bWJuYWlsR2VuZXJhdG9yLnJlcXVlc3RUaHVtYm5haWwoZmlsZUZvclRodW1ibmFpbCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aHVtYm5haWxHZW5lcmF0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IHRodW1ibmFpbEdlbmVyYXRvci5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgICAgdGh1bWJuYWlsV2lkdGg6IHRoaXMub3B0cy50aHVtYm5haWxXaWR0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX29wZW5GaWxlRWRpdG9yV2hlbkZpbGVzQWRkZWQsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZpbGVzID0+IHtcbiAgICAgICAgY29uc3QgZmlyc3RGaWxlID0gZmlsZXNbMF07XG5cbiAgICAgICAgaWYgKHRoaXMuY2FuRWRpdEZpbGUoZmlyc3RGaWxlKSkge1xuICAgICAgICAgIHRoaXMub3BlbkZpbGVFZGl0b3IoZmlyc3RGaWxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5pbml0RXZlbnRzID0gKCkgPT4ge1xuICAgICAgLy8gTW9kYWwgb3BlbiBidXR0b25cbiAgICAgIGlmICh0aGlzLm9wdHMudHJpZ2dlciAmJiAhdGhpcy5vcHRzLmlubGluZSkge1xuICAgICAgICBjb25zdCBzaG93TW9kYWxUcmlnZ2VyID0gZmluZEFsbERPTUVsZW1lbnRzKHRoaXMub3B0cy50cmlnZ2VyKTtcblxuICAgICAgICBpZiAoc2hvd01vZGFsVHJpZ2dlcikge1xuICAgICAgICAgIHNob3dNb2RhbFRyaWdnZXIuZm9yRWFjaCh0cmlnZ2VyID0+IHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Nb2RhbCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudXBweS5sb2coJ0Rhc2hib2FyZCBtb2RhbCB0cmlnZ2VyIG5vdCBmb3VuZC4gTWFrZSBzdXJlIGB0cmlnZ2VyYCBpcyBzZXQgaW4gRGFzaGJvYXJkIG9wdGlvbnMsIHVubGVzcyB5b3UgYXJlIHBsYW5uaW5nIHRvIGNhbGwgYGRhc2hib2FyZC5vcGVuTW9kYWwoKWAgbWV0aG9kIHlvdXJzZWxmJywgJ3dhcm5pbmcnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXJ0TGlzdGVuaW5nVG9SZXNpemUoKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgdGhpcy5oYW5kbGVQYXN0ZU9uQm9keSk7XG4gICAgICB0aGlzLnVwcHkub24oJ3BsdWdpbi1yZW1vdmUnLCB0aGlzLnJlbW92ZVRhcmdldCk7XG4gICAgICB0aGlzLnVwcHkub24oJ2ZpbGUtYWRkZWQnLCB0aGlzLmhpZGVBbGxQYW5lbHMpO1xuICAgICAgdGhpcy51cHB5Lm9uKCdkYXNoYm9hcmQ6bW9kYWwtY2xvc2VkJywgdGhpcy5oaWRlQWxsUGFuZWxzKTtcbiAgICAgIHRoaXMudXBweS5vbignZmlsZS1lZGl0b3I6Y29tcGxldGUnLCB0aGlzLmhpZGVBbGxQYW5lbHMpO1xuICAgICAgdGhpcy51cHB5Lm9uKCdjb21wbGV0ZScsIHRoaXMuaGFuZGxlQ29tcGxldGUpO1xuICAgICAgdGhpcy51cHB5Lm9uKCdmaWxlcy1hZGRlZCcsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZ2VuZXJhdGVMYXJnZVRodW1ibmFpbElmU2luZ2xlRmlsZSlbX2dlbmVyYXRlTGFyZ2VUaHVtYm5haWxJZlNpbmdsZUZpbGVdKTtcbiAgICAgIHRoaXMudXBweS5vbignZmlsZS1yZW1vdmVkJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9nZW5lcmF0ZUxhcmdlVGh1bWJuYWlsSWZTaW5nbGVGaWxlKVtfZ2VuZXJhdGVMYXJnZVRodW1ibmFpbElmU2luZ2xlRmlsZV0pOyAvLyBfX19XaHkgZmlyZSBvbiBjYXB0dXJlP1xuICAgICAgLy8gICAgQmVjYXVzZSB0aGlzLmlmRm9jdXNlZE9uVXBweVJlY2VudGx5IG5lZWRzIHRvIGNoYW5nZSBiZWZvcmUgb25VcGRhdGUoKSBmaXJlcy5cblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLnJlY29yZElmRm9jdXNlZE9uVXBweVJlY2VudGx5LCB0cnVlKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5yZWNvcmRJZkZvY3VzZWRPblVwcHlSZWNlbnRseSwgdHJ1ZSk7XG5cbiAgICAgIGlmICh0aGlzLm9wdHMuaW5saW5lKSB7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bkluSW5saW5lKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub3B0cy5hdXRvT3BlbkZpbGVFZGl0b3IpIHtcbiAgICAgICAgdGhpcy51cHB5Lm9uKCdmaWxlcy1hZGRlZCcsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb3BlbkZpbGVFZGl0b3JXaGVuRmlsZXNBZGRlZClbX29wZW5GaWxlRWRpdG9yV2hlbkZpbGVzQWRkZWRdKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5yZW1vdmVFdmVudHMgPSAoKSA9PiB7XG4gICAgICBjb25zdCBzaG93TW9kYWxUcmlnZ2VyID0gZmluZEFsbERPTUVsZW1lbnRzKHRoaXMub3B0cy50cmlnZ2VyKTtcblxuICAgICAgaWYgKCF0aGlzLm9wdHMuaW5saW5lICYmIHNob3dNb2RhbFRyaWdnZXIpIHtcbiAgICAgICAgc2hvd01vZGFsVHJpZ2dlci5mb3JFYWNoKHRyaWdnZXIgPT4gdHJpZ2dlci5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3Blbk1vZGFsKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RvcExpc3RlbmluZ1RvUmVzaXplKCk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwYXN0ZScsIHRoaXMuaGFuZGxlUGFzdGVPbkJvZHkpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdGhpcy5oYW5kbGVQb3BTdGF0ZSwgZmFsc2UpO1xuICAgICAgdGhpcy51cHB5Lm9mZigncGx1Z2luLXJlbW92ZScsIHRoaXMucmVtb3ZlVGFyZ2V0KTtcbiAgICAgIHRoaXMudXBweS5vZmYoJ2ZpbGUtYWRkZWQnLCB0aGlzLmhpZGVBbGxQYW5lbHMpO1xuICAgICAgdGhpcy51cHB5Lm9mZignZGFzaGJvYXJkOm1vZGFsLWNsb3NlZCcsIHRoaXMuaGlkZUFsbFBhbmVscyk7XG4gICAgICB0aGlzLnVwcHkub2ZmKCdmaWxlLWVkaXRvcjpjb21wbGV0ZScsIHRoaXMuaGlkZUFsbFBhbmVscyk7XG4gICAgICB0aGlzLnVwcHkub2ZmKCdjb21wbGV0ZScsIHRoaXMuaGFuZGxlQ29tcGxldGUpO1xuICAgICAgdGhpcy51cHB5Lm9mZignZmlsZXMtYWRkZWQnLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2dlbmVyYXRlTGFyZ2VUaHVtYm5haWxJZlNpbmdsZUZpbGUpW19nZW5lcmF0ZUxhcmdlVGh1bWJuYWlsSWZTaW5nbGVGaWxlXSk7XG4gICAgICB0aGlzLnVwcHkub2ZmKCdmaWxlLXJlbW92ZWQnLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2dlbmVyYXRlTGFyZ2VUaHVtYm5haWxJZlNpbmdsZUZpbGUpW19nZW5lcmF0ZUxhcmdlVGh1bWJuYWlsSWZTaW5nbGVGaWxlXSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMucmVjb3JkSWZGb2N1c2VkT25VcHB5UmVjZW50bHkpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnJlY29yZElmRm9jdXNlZE9uVXBweVJlY2VudGx5KTtcblxuICAgICAgaWYgKHRoaXMub3B0cy5pbmxpbmUpIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duSW5JbmxpbmUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRzLmF1dG9PcGVuRmlsZUVkaXRvcikge1xuICAgICAgICB0aGlzLnVwcHkub2ZmKCdmaWxlcy1hZGRlZCcsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb3BlbkZpbGVFZGl0b3JXaGVuRmlsZXNBZGRlZClbX29wZW5GaWxlRWRpdG9yV2hlbkZpbGVzQWRkZWRdKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zdXBlckZvY3VzT25FYWNoVXBkYXRlID0gKCkgPT4ge1xuICAgICAgY29uc3QgaXNGb2N1c0luVXBweSA9IHRoaXMuZWwuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7IC8vIFdoZW4gZm9jdXMgaXMgbG9zdCBvbiB0aGUgcGFnZSAoPT0gZm9jdXMgaXMgb24gYm9keSBmb3IgbW9zdCBicm93c2Vycywgb3IgZm9jdXMgaXMgbnVsbCBmb3IgSUUxMSlcblxuICAgICAgY29uc3QgaXNGb2N1c05vd2hlcmUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IG51bGw7XG4gICAgICBjb25zdCBpc0luZm9ybWVySGlkZGVuID0gdGhpcy51cHB5LmdldFN0YXRlKCkuaW5mby5sZW5ndGggPT09IDA7XG4gICAgICBjb25zdCBpc01vZGFsID0gIXRoaXMub3B0cy5pbmxpbmU7XG5cbiAgICAgIGlmICggLy8gSWYgdXBkYXRlIGlzIGNvbm5lY3RlZCB0byBzaG93aW5nIHRoZSBJbmZvcm1lciAtIGxldCB0aGUgc2NyZWVuIHJlYWRlciBjYWxtbHkgcmVhZCBpdC5cbiAgICAgIGlzSW5mb3JtZXJIaWRkZW4gJiYgKCAvLyBJZiB3ZSBhcmUgaW4gYSBtb2RhbCAtIGFsd2F5cyBzdXBlcmZvY3VzIHdpdGhvdXQgY29uY2VybiBmb3Igb3RoZXIgZWxlbWVudHNcbiAgICAgIC8vIG9uIHRoZSBwYWdlICh1c2VyIGlzIHVubGlrZWx5IHRvIHdhbnQgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgcmVzdCBvZiB0aGUgcGFnZSlcbiAgICAgIGlzTW9kYWwgLy8gSWYgd2UgYXJlIGFscmVhZHkgaW5zaWRlIG9mIFVwcHksIG9yXG4gICAgICB8fCBpc0ZvY3VzSW5VcHB5IC8vIElmIHdlIGFyZSBub3QgZm9jdXNlZCBvbiBhbnl0aGluZyBCVVQgd2UgaGF2ZSBhbHJlYWR5LCBhdCBsZWFzdCBvbmNlLCBmb2N1c2VkIG9uIHVwcHlcbiAgICAgIC8vICAgMS4gV2UgZm9jdXMgd2hlbiBpc0ZvY3VzTm93aGVyZSwgYmVjYXVzZSB3aGVuIHRoZSBlbGVtZW50IHdlIHdlcmUgZm9jdXNlZFxuICAgICAgLy8gICAgICBvbiBkaXNhcHBlYXJzIChlLmcuIGFuIG92ZXJsYXkpLCAtIGZvY3VzIGdldHMgbG9zdC4gSWYgdXNlciBpcyB0eXBpbmdcbiAgICAgIC8vICAgICAgc29tZXRoaW5nIHNvbWV3aGVyZSBlbHNlIG9uIHRoZSBwYWdlLCAtIGZvY3VzIHdvbid0IGJlICdub3doZXJlJy5cbiAgICAgIC8vICAgMi4gV2Ugb25seSBmb2N1cyB3aGVuIGZvY3VzIGlzIG5vd2hlcmUgQU5EIHRoaXMuaWZGb2N1c2VkT25VcHB5UmVjZW50bHksXG4gICAgICAvLyAgICAgIHRvIGF2b2lkIGZvY3VzIGp1bXBzIGlmIHdlIGRvIHNvbWV0aGluZyBlbHNlIG9uIHRoZSBwYWdlLlxuICAgICAgLy8gICBbUHJhY3RpY2FsIGNoZWNrXSBXaXRob3V0ICcmJiB0aGlzLmlmRm9jdXNlZE9uVXBweVJlY2VudGx5JywgaW4gU2FmYXJpLCBpbiBpbmxpbmUgbW9kZSxcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgd2hlbiBmaWxlIGlzIHVwbG9hZGluZywgLSBuYXZpZ2F0ZSB2aWEgdGFiIHRvIHRoZSBjaGVja2JveCxcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdHJ5IHRvIHByZXNzIHNwYWNlIG11bHRpcGxlIHRpbWVzLiBGb2N1cyB3aWxsIGp1bXAgdG8gVXBweS5cbiAgICAgIHx8IGlzRm9jdXNOb3doZXJlICYmIHRoaXMuaWZGb2N1c2VkT25VcHB5UmVjZW50bHkpKSB7XG4gICAgICAgIHRoaXMuc3VwZXJGb2N1cyh0aGlzLmVsLCB0aGlzLmdldFBsdWdpblN0YXRlKCkuYWN0aXZlT3ZlcmxheVR5cGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdXBlckZvY3VzLmNhbmNlbCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmFmdGVyVXBkYXRlID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMub3B0cy5kaXNhYmxlZCAmJiAhdGhpcy5kYXNoYm9hcmRJc0Rpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUludGVyYWN0aXZlRWxlbWVudHModHJ1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLm9wdHMuZGlzYWJsZWQgJiYgdGhpcy5kYXNoYm9hcmRJc0Rpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUludGVyYWN0aXZlRWxlbWVudHMoZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN1cGVyRm9jdXNPbkVhY2hVcGRhdGUoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zYXZlRmlsZUNhcmQgPSAobWV0YSwgZmlsZUlEKSA9PiB7XG4gICAgICB0aGlzLnVwcHkuc2V0RmlsZU1ldGEoZmlsZUlELCBtZXRhKTtcbiAgICAgIHRoaXMudG9nZ2xlRmlsZUNhcmQoZmFsc2UsIGZpbGVJRCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYXR0YWNoUmVuZGVyRnVuY3Rpb25Ub1RhcmdldCwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdGFyZ2V0ID0+IHtcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy51cHB5LmdldFBsdWdpbih0YXJnZXQuaWQpO1xuICAgICAgICByZXR1cm4geyAuLi50YXJnZXQsXG4gICAgICAgICAgaWNvbjogcGx1Z2luLmljb24gfHwgdGhpcy5vcHRzLmRlZmF1bHRQaWNrZXJJY29uLFxuICAgICAgICAgIHJlbmRlcjogcGx1Z2luLnJlbmRlclxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaXNUYXJnZXRTdXBwb3J0ZWQsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHRhcmdldCA9PiB7XG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMudXBweS5nZXRQbHVnaW4odGFyZ2V0LmlkKTsgLy8gSWYgdGhlIHBsdWdpbiBkb2VzIG5vdCBwcm92aWRlIGEgYHN1cHBvcnRlZGAgY2hlY2ssIGFzc3VtZSB0aGUgcGx1Z2luIHdvcmtzIGV2ZXJ5d2hlcmUuXG5cbiAgICAgICAgaWYgKHR5cGVvZiBwbHVnaW4uaXNTdXBwb3J0ZWQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwbHVnaW4uaXNTdXBwb3J0ZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2dldEFjcXVpcmVycywge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogbWVtb2l6ZSh0YXJnZXRzID0+IHtcbiAgICAgICAgcmV0dXJuIHRhcmdldHMuZmlsdGVyKHRhcmdldCA9PiB0YXJnZXQudHlwZSA9PT0gJ2FjcXVpcmVyJyAmJiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzVGFyZ2V0U3VwcG9ydGVkKVtfaXNUYXJnZXRTdXBwb3J0ZWRdKHRhcmdldCkpLm1hcChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2F0dGFjaFJlbmRlckZ1bmN0aW9uVG9UYXJnZXQpW19hdHRhY2hSZW5kZXJGdW5jdGlvblRvVGFyZ2V0XSk7XG4gICAgICB9KVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZ2V0UHJvZ3Jlc3NJbmRpY2F0b3JzLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBtZW1vaXplKHRhcmdldHMgPT4ge1xuICAgICAgICByZXR1cm4gdGFyZ2V0cy5maWx0ZXIodGFyZ2V0ID0+IHRhcmdldC50eXBlID09PSAncHJvZ3Jlc3NpbmRpY2F0b3InKS5tYXAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hdHRhY2hSZW5kZXJGdW5jdGlvblRvVGFyZ2V0KVtfYXR0YWNoUmVuZGVyRnVuY3Rpb25Ub1RhcmdldF0pO1xuICAgICAgfSlcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2dldEVkaXRvcnMsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG1lbW9pemUodGFyZ2V0cyA9PiB7XG4gICAgICAgIHJldHVybiB0YXJnZXRzLmZpbHRlcih0YXJnZXQgPT4gdGFyZ2V0LnR5cGUgPT09ICdlZGl0b3InKS5tYXAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hdHRhY2hSZW5kZXJGdW5jdGlvblRvVGFyZ2V0KVtfYXR0YWNoUmVuZGVyRnVuY3Rpb25Ub1RhcmdldF0pO1xuICAgICAgfSlcbiAgICB9KTtcblxuICAgIHRoaXMucmVuZGVyID0gc3RhdGUgPT4ge1xuICAgICAgY29uc3QgcGx1Z2luU3RhdGUgPSB0aGlzLmdldFBsdWdpblN0YXRlKCk7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZpbGVzLFxuICAgICAgICBjYXBhYmlsaXRpZXMsXG4gICAgICAgIGFsbG93TmV3VXBsb2FkXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG5ld0ZpbGVzLFxuICAgICAgICB1cGxvYWRTdGFydGVkRmlsZXMsXG4gICAgICAgIGNvbXBsZXRlRmlsZXMsXG4gICAgICAgIGVycm9yZWRGaWxlcyxcbiAgICAgICAgaW5Qcm9ncmVzc0ZpbGVzLFxuICAgICAgICBpblByb2dyZXNzTm90UGF1c2VkRmlsZXMsXG4gICAgICAgIHByb2Nlc3NpbmdGaWxlcyxcbiAgICAgICAgaXNVcGxvYWRTdGFydGVkLFxuICAgICAgICBpc0FsbENvbXBsZXRlLFxuICAgICAgICBpc0FsbEVycm9yZWQsXG4gICAgICAgIGlzQWxsUGF1c2VkXG4gICAgICB9ID0gdGhpcy51cHB5LmdldE9iamVjdE9mRmlsZXNQZXJTdGF0ZSgpO1xuXG4gICAgICBjb25zdCBhY3F1aXJlcnMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2dldEFjcXVpcmVycylbX2dldEFjcXVpcmVyc10ocGx1Z2luU3RhdGUudGFyZ2V0cyk7XG5cbiAgICAgIGNvbnN0IHByb2dyZXNzaW5kaWNhdG9ycyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZ2V0UHJvZ3Jlc3NJbmRpY2F0b3JzKVtfZ2V0UHJvZ3Jlc3NJbmRpY2F0b3JzXShwbHVnaW5TdGF0ZS50YXJnZXRzKTtcblxuICAgICAgY29uc3QgZWRpdG9ycyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZ2V0RWRpdG9ycylbX2dldEVkaXRvcnNdKHBsdWdpblN0YXRlLnRhcmdldHMpO1xuXG4gICAgICBsZXQgdGhlbWU7XG5cbiAgICAgIGlmICh0aGlzLm9wdHMudGhlbWUgPT09ICdhdXRvJykge1xuICAgICAgICB0aGVtZSA9IGNhcGFiaWxpdGllcy5kYXJrTW9kZSA/ICdkYXJrJyA6ICdsaWdodCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGVtZSA9IHRoaXMub3B0cy50aGVtZTtcbiAgICAgIH1cblxuICAgICAgaWYgKFsnZmlsZXMnLCAnZm9sZGVycycsICdib3RoJ10uaW5kZXhPZih0aGlzLm9wdHMuZmlsZU1hbmFnZXJTZWxlY3Rpb25UeXBlKSA8IDApIHtcbiAgICAgICAgdGhpcy5vcHRzLmZpbGVNYW5hZ2VyU2VsZWN0aW9uVHlwZSA9ICdmaWxlcyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cbiAgICAgICAgY29uc29sZS53YXJuKGBVbnN1cHBvcnRlZCBvcHRpb24gZm9yIFwiZmlsZU1hbmFnZXJTZWxlY3Rpb25UeXBlXCIuIFVzaW5nIGRlZmF1bHQgb2YgXCIke3RoaXMub3B0cy5maWxlTWFuYWdlclNlbGVjdGlvblR5cGV9XCIuYCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBEYXNoYm9hcmRVSSh7XG4gICAgICAgIHN0YXRlLFxuICAgICAgICBpc0hpZGRlbjogcGx1Z2luU3RhdGUuaXNIaWRkZW4sXG4gICAgICAgIGZpbGVzLFxuICAgICAgICBuZXdGaWxlcyxcbiAgICAgICAgdXBsb2FkU3RhcnRlZEZpbGVzLFxuICAgICAgICBjb21wbGV0ZUZpbGVzLFxuICAgICAgICBlcnJvcmVkRmlsZXMsXG4gICAgICAgIGluUHJvZ3Jlc3NGaWxlcyxcbiAgICAgICAgaW5Qcm9ncmVzc05vdFBhdXNlZEZpbGVzLFxuICAgICAgICBwcm9jZXNzaW5nRmlsZXMsXG4gICAgICAgIGlzVXBsb2FkU3RhcnRlZCxcbiAgICAgICAgaXNBbGxDb21wbGV0ZSxcbiAgICAgICAgaXNBbGxFcnJvcmVkLFxuICAgICAgICBpc0FsbFBhdXNlZCxcbiAgICAgICAgdG90YWxGaWxlQ291bnQ6IE9iamVjdC5rZXlzKGZpbGVzKS5sZW5ndGgsXG4gICAgICAgIHRvdGFsUHJvZ3Jlc3M6IHN0YXRlLnRvdGFsUHJvZ3Jlc3MsXG4gICAgICAgIGFsbG93TmV3VXBsb2FkLFxuICAgICAgICBhY3F1aXJlcnMsXG4gICAgICAgIHRoZW1lLFxuICAgICAgICBkaXNhYmxlZDogdGhpcy5vcHRzLmRpc2FibGVkLFxuICAgICAgICBkaXNhYmxlTG9jYWxGaWxlczogdGhpcy5vcHRzLmRpc2FibGVMb2NhbEZpbGVzLFxuICAgICAgICBkaXJlY3Rpb246IHRoaXMub3B0cy5kaXJlY3Rpb24sXG4gICAgICAgIGFjdGl2ZVBpY2tlclBhbmVsOiBwbHVnaW5TdGF0ZS5hY3RpdmVQaWNrZXJQYW5lbCxcbiAgICAgICAgc2hvd0ZpbGVFZGl0b3I6IHBsdWdpblN0YXRlLnNob3dGaWxlRWRpdG9yLFxuICAgICAgICBzYXZlRmlsZUVkaXRvcjogdGhpcy5zYXZlRmlsZUVkaXRvcixcbiAgICAgICAgZGlzYWJsZUludGVyYWN0aXZlRWxlbWVudHM6IHRoaXMuZGlzYWJsZUludGVyYWN0aXZlRWxlbWVudHMsXG4gICAgICAgIGFuaW1hdGVPcGVuQ2xvc2U6IHRoaXMub3B0cy5hbmltYXRlT3BlbkNsb3NlLFxuICAgICAgICBpc0Nsb3Npbmc6IHBsdWdpblN0YXRlLmlzQ2xvc2luZyxcbiAgICAgICAgcHJvZ3Jlc3NpbmRpY2F0b3JzLFxuICAgICAgICBlZGl0b3JzLFxuICAgICAgICBhdXRvUHJvY2VlZDogdGhpcy51cHB5Lm9wdHMuYXV0b1Byb2NlZWQsXG4gICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICBjbG9zZU1vZGFsOiB0aGlzLnJlcXVlc3RDbG9zZU1vZGFsLFxuICAgICAgICBoYW5kbGVDbGlja091dHNpZGU6IHRoaXMuaGFuZGxlQ2xpY2tPdXRzaWRlLFxuICAgICAgICBoYW5kbGVJbnB1dENoYW5nZTogdGhpcy5oYW5kbGVJbnB1dENoYW5nZSxcbiAgICAgICAgaGFuZGxlUGFzdGU6IHRoaXMuaGFuZGxlUGFzdGUsXG4gICAgICAgIGlubGluZTogdGhpcy5vcHRzLmlubGluZSxcbiAgICAgICAgc2hvd1BhbmVsOiB0aGlzLnNob3dQYW5lbCxcbiAgICAgICAgaGlkZUFsbFBhbmVsczogdGhpcy5oaWRlQWxsUGFuZWxzLFxuICAgICAgICBpMThuOiB0aGlzLmkxOG4sXG4gICAgICAgIGkxOG5BcnJheTogdGhpcy5pMThuQXJyYXksXG4gICAgICAgIHVwcHk6IHRoaXMudXBweSxcbiAgICAgICAgbm90ZTogdGhpcy5vcHRzLm5vdGUsXG4gICAgICAgIHJlY292ZXJlZFN0YXRlOiBzdGF0ZS5yZWNvdmVyZWRTdGF0ZSxcbiAgICAgICAgbWV0YUZpZWxkczogcGx1Z2luU3RhdGUubWV0YUZpZWxkcyxcbiAgICAgICAgcmVzdW1hYmxlVXBsb2FkczogY2FwYWJpbGl0aWVzLnJlc3VtYWJsZVVwbG9hZHMgfHwgZmFsc2UsXG4gICAgICAgIGluZGl2aWR1YWxDYW5jZWxsYXRpb246IGNhcGFiaWxpdGllcy5pbmRpdmlkdWFsQ2FuY2VsbGF0aW9uLFxuICAgICAgICBpc01vYmlsZURldmljZTogY2FwYWJpbGl0aWVzLmlzTW9iaWxlRGV2aWNlLFxuICAgICAgICBmaWxlQ2FyZEZvcjogcGx1Z2luU3RhdGUuZmlsZUNhcmRGb3IsXG4gICAgICAgIHRvZ2dsZUZpbGVDYXJkOiB0aGlzLnRvZ2dsZUZpbGVDYXJkLFxuICAgICAgICB0b2dnbGVBZGRGaWxlc1BhbmVsOiB0aGlzLnRvZ2dsZUFkZEZpbGVzUGFuZWwsXG4gICAgICAgIHNob3dBZGRGaWxlc1BhbmVsOiBwbHVnaW5TdGF0ZS5zaG93QWRkRmlsZXNQYW5lbCxcbiAgICAgICAgc2F2ZUZpbGVDYXJkOiB0aGlzLnNhdmVGaWxlQ2FyZCxcbiAgICAgICAgb3BlbkZpbGVFZGl0b3I6IHRoaXMub3BlbkZpbGVFZGl0b3IsXG4gICAgICAgIGNhbkVkaXRGaWxlOiB0aGlzLmNhbkVkaXRGaWxlLFxuICAgICAgICB3aWR0aDogdGhpcy5vcHRzLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHRoaXMub3B0cy5oZWlnaHQsXG4gICAgICAgIHNob3dMaW5rVG9GaWxlVXBsb2FkUmVzdWx0OiB0aGlzLm9wdHMuc2hvd0xpbmtUb0ZpbGVVcGxvYWRSZXN1bHQsXG4gICAgICAgIGZpbGVNYW5hZ2VyU2VsZWN0aW9uVHlwZTogdGhpcy5vcHRzLmZpbGVNYW5hZ2VyU2VsZWN0aW9uVHlwZSxcbiAgICAgICAgcHJvdWRseURpc3BsYXlQb3dlcmVkQnlVcHB5OiB0aGlzLm9wdHMucHJvdWRseURpc3BsYXlQb3dlcmVkQnlVcHB5LFxuICAgICAgICBoaWRlQ2FuY2VsQnV0dG9uOiB0aGlzLm9wdHMuaGlkZUNhbmNlbEJ1dHRvbixcbiAgICAgICAgaGlkZVJldHJ5QnV0dG9uOiB0aGlzLm9wdHMuaGlkZVJldHJ5QnV0dG9uLFxuICAgICAgICBoaWRlUGF1c2VSZXN1bWVCdXR0b246IHRoaXMub3B0cy5oaWRlUGF1c2VSZXN1bWVCdXR0b24sXG4gICAgICAgIHNob3dSZW1vdmVCdXR0b25BZnRlckNvbXBsZXRlOiB0aGlzLm9wdHMuc2hvd1JlbW92ZUJ1dHRvbkFmdGVyQ29tcGxldGUsXG4gICAgICAgIGNvbnRhaW5lcldpZHRoOiBwbHVnaW5TdGF0ZS5jb250YWluZXJXaWR0aCxcbiAgICAgICAgY29udGFpbmVySGVpZ2h0OiBwbHVnaW5TdGF0ZS5jb250YWluZXJIZWlnaHQsXG4gICAgICAgIGFyZUluc2lkZXNSZWFkeVRvQmVWaXNpYmxlOiBwbHVnaW5TdGF0ZS5hcmVJbnNpZGVzUmVhZHlUb0JlVmlzaWJsZSxcbiAgICAgICAgaXNUYXJnZXRET01FbDogdGhpcy5pc1RhcmdldERPTUVsLFxuICAgICAgICBwYXJlbnRFbGVtZW50OiB0aGlzLmVsLFxuICAgICAgICBhbGxvd2VkRmlsZVR5cGVzOiB0aGlzLnVwcHkub3B0cy5yZXN0cmljdGlvbnMuYWxsb3dlZEZpbGVUeXBlcyxcbiAgICAgICAgbWF4TnVtYmVyT2ZGaWxlczogdGhpcy51cHB5Lm9wdHMucmVzdHJpY3Rpb25zLm1heE51bWJlck9mRmlsZXMsXG4gICAgICAgIHJlcXVpcmVkTWV0YUZpZWxkczogdGhpcy51cHB5Lm9wdHMucmVzdHJpY3Rpb25zLnJlcXVpcmVkTWV0YUZpZWxkcyxcbiAgICAgICAgc2hvd1NlbGVjdGVkRmlsZXM6IHRoaXMub3B0cy5zaG93U2VsZWN0ZWRGaWxlcyxcbiAgICAgICAgc2hvd05hdGl2ZVBob3RvQ2FtZXJhQnV0dG9uOiB0aGlzLm9wdHMuc2hvd05hdGl2ZVBob3RvQ2FtZXJhQnV0dG9uLFxuICAgICAgICBzaG93TmF0aXZlVmlkZW9DYW1lcmFCdXR0b246IHRoaXMub3B0cy5zaG93TmF0aXZlVmlkZW9DYW1lcmFCdXR0b24sXG4gICAgICAgIG5hdGl2ZUNhbWVyYUZhY2luZ01vZGU6IHRoaXMub3B0cy5uYXRpdmVDYW1lcmFGYWNpbmdNb2RlLFxuICAgICAgICBoYW5kbGVDYW5jZWxSZXN0b3JlOiB0aGlzLmhhbmRsZUNhbmNlbFJlc3RvcmUsXG4gICAgICAgIGhhbmRsZVJlcXVlc3RUaHVtYm5haWw6IHRoaXMuaGFuZGxlUmVxdWVzdFRodW1ibmFpbCxcbiAgICAgICAgaGFuZGxlQ2FuY2VsVGh1bWJuYWlsOiB0aGlzLmhhbmRsZUNhbmNlbFRodW1ibmFpbCxcbiAgICAgICAgLy8gZHJhZyBwcm9wc1xuICAgICAgICBpc0RyYWdnaW5nT3ZlcjogcGx1Z2luU3RhdGUuaXNEcmFnZ2luZ092ZXIsXG4gICAgICAgIGhhbmRsZURyYWdPdmVyOiB0aGlzLmhhbmRsZURyYWdPdmVyLFxuICAgICAgICBoYW5kbGVEcmFnTGVhdmU6IHRoaXMuaGFuZGxlRHJhZ0xlYXZlLFxuICAgICAgICBoYW5kbGVEcm9wOiB0aGlzLmhhbmRsZURyb3BcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmRpc2NvdmVyUHJvdmlkZXJQbHVnaW5zID0gKCkgPT4ge1xuICAgICAgdGhpcy51cHB5Lml0ZXJhdGVQbHVnaW5zKHBsdWdpbiA9PiB7XG4gICAgICAgIGlmIChwbHVnaW4gJiYgIXBsdWdpbi50YXJnZXQgJiYgcGx1Z2luLm9wdHMgJiYgcGx1Z2luLm9wdHMudGFyZ2V0ID09PSB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgdGhpcy5hZGRUYXJnZXQocGx1Z2luKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuaW5zdGFsbCA9ICgpID0+IHtcbiAgICAgIC8vIFNldCBkZWZhdWx0IHN0YXRlIGZvciBEYXNoYm9hcmRcbiAgICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICBpc0hpZGRlbjogdHJ1ZSxcbiAgICAgICAgZmlsZUNhcmRGb3I6IG51bGwsXG4gICAgICAgIGFjdGl2ZU92ZXJsYXlUeXBlOiBudWxsLFxuICAgICAgICBzaG93QWRkRmlsZXNQYW5lbDogZmFsc2UsXG4gICAgICAgIGFjdGl2ZVBpY2tlclBhbmVsOiBmYWxzZSxcbiAgICAgICAgc2hvd0ZpbGVFZGl0b3I6IGZhbHNlLFxuICAgICAgICBtZXRhRmllbGRzOiB0aGlzLm9wdHMubWV0YUZpZWxkcyxcbiAgICAgICAgdGFyZ2V0czogW10sXG4gICAgICAgIC8vIFdlJ2xsIG1ha2UgdGhlbSB2aXNpYmxlIG9uY2UgLmNvbnRhaW5lcldpZHRoIGlzIGRldGVybWluZWRcbiAgICAgICAgYXJlSW5zaWRlc1JlYWR5VG9CZVZpc2libGU6IGZhbHNlLFxuICAgICAgICBpc0RyYWdnaW5nT3ZlcjogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgY29uc3Qge1xuICAgICAgICBpbmxpbmUsXG4gICAgICAgIGNsb3NlQWZ0ZXJGaW5pc2hcbiAgICAgIH0gPSB0aGlzLm9wdHM7XG5cbiAgICAgIGlmIChpbmxpbmUgJiYgY2xvc2VBZnRlckZpbmlzaCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tEYXNoYm9hcmRdIGBjbG9zZUFmdGVyRmluaXNoOiB0cnVlYCBjYW5ub3QgYmUgdXNlZCBvbiBhbiBpbmxpbmUgRGFzaGJvYXJkLCBiZWNhdXNlIGFuIGlubGluZSBEYXNoYm9hcmQgY2Fubm90IGJlIGNsb3NlZCBhdCBhbGwuIEVpdGhlciBzZXQgYGlubGluZTogZmFsc2VgLCBvciBkaXNhYmxlIHRoZSBgY2xvc2VBZnRlckZpbmlzaGAgb3B0aW9uLicpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7XG4gICAgICAgIGFsbG93TXVsdGlwbGVVcGxvYWRzLFxuICAgICAgICBhbGxvd011bHRpcGxlVXBsb2FkQmF0Y2hlc1xuICAgICAgfSA9IHRoaXMudXBweS5vcHRzO1xuXG4gICAgICBpZiAoKGFsbG93TXVsdGlwbGVVcGxvYWRzIHx8IGFsbG93TXVsdGlwbGVVcGxvYWRCYXRjaGVzKSAmJiBjbG9zZUFmdGVyRmluaXNoKSB7XG4gICAgICAgIHRoaXMudXBweS5sb2coJ1tEYXNoYm9hcmRdIFdoZW4gdXNpbmcgYGNsb3NlQWZ0ZXJGaW5pc2hgLCB3ZSByZWNvbW1lbmRlZCBzZXR0aW5nIHRoZSBgYWxsb3dNdWx0aXBsZVVwbG9hZEJhdGNoZXNgIG9wdGlvbiB0byBgZmFsc2VgIGluIHRoZSBVcHB5IGNvbnN0cnVjdG9yLiBTZWUgaHR0cHM6Ly91cHB5LmlvL2RvY3MvdXBweS8jYWxsb3dNdWx0aXBsZVVwbG9hZHMtdHJ1ZScsICd3YXJuaW5nJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdGFyZ2V0XG4gICAgICB9ID0gdGhpcy5vcHRzO1xuXG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMubW91bnQodGFyZ2V0LCB0aGlzKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGx1Z2lucyA9IHRoaXMub3B0cy5wbHVnaW5zIHx8IFtdO1xuICAgICAgcGx1Z2lucy5mb3JFYWNoKHBsdWdpbklEID0+IHtcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy51cHB5LmdldFBsdWdpbihwbHVnaW5JRCk7XG5cbiAgICAgICAgaWYgKHBsdWdpbikge1xuICAgICAgICAgIHBsdWdpbi5tb3VudCh0aGlzLCBwbHVnaW4pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKCF0aGlzLm9wdHMuZGlzYWJsZVN0YXR1c0Jhcikge1xuICAgICAgICB0aGlzLnVwcHkudXNlKFN0YXR1c0Jhciwge1xuICAgICAgICAgIGlkOiBgJHt0aGlzLmlkfTpTdGF0dXNCYXJgLFxuICAgICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgICBoaWRlVXBsb2FkQnV0dG9uOiB0aGlzLm9wdHMuaGlkZVVwbG9hZEJ1dHRvbixcbiAgICAgICAgICBoaWRlUmV0cnlCdXR0b246IHRoaXMub3B0cy5oaWRlUmV0cnlCdXR0b24sXG4gICAgICAgICAgaGlkZVBhdXNlUmVzdW1lQnV0dG9uOiB0aGlzLm9wdHMuaGlkZVBhdXNlUmVzdW1lQnV0dG9uLFxuICAgICAgICAgIGhpZGVDYW5jZWxCdXR0b246IHRoaXMub3B0cy5oaWRlQ2FuY2VsQnV0dG9uLFxuICAgICAgICAgIHNob3dQcm9ncmVzc0RldGFpbHM6IHRoaXMub3B0cy5zaG93UHJvZ3Jlc3NEZXRhaWxzLFxuICAgICAgICAgIGhpZGVBZnRlckZpbmlzaDogdGhpcy5vcHRzLmhpZGVQcm9ncmVzc0FmdGVyRmluaXNoLFxuICAgICAgICAgIGxvY2FsZTogdGhpcy5vcHRzLmxvY2FsZSxcbiAgICAgICAgICBkb25lQnV0dG9uSGFuZGxlcjogdGhpcy5vcHRzLmRvbmVCdXR0b25IYW5kbGVyXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMub3B0cy5kaXNhYmxlSW5mb3JtZXIpIHtcbiAgICAgICAgdGhpcy51cHB5LnVzZShJbmZvcm1lciwge1xuICAgICAgICAgIGlkOiBgJHt0aGlzLmlkfTpJbmZvcm1lcmAsXG4gICAgICAgICAgdGFyZ2V0OiB0aGlzXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMub3B0cy5kaXNhYmxlVGh1bWJuYWlsR2VuZXJhdG9yKSB7XG4gICAgICAgIHRoaXMudXBweS51c2UoVGh1bWJuYWlsR2VuZXJhdG9yLCB7XG4gICAgICAgICAgaWQ6IGAke3RoaXMuaWR9OlRodW1ibmFpbEdlbmVyYXRvcmAsXG4gICAgICAgICAgdGh1bWJuYWlsV2lkdGg6IHRoaXMub3B0cy50aHVtYm5haWxXaWR0aCxcbiAgICAgICAgICB0aHVtYm5haWxIZWlnaHQ6IHRoaXMub3B0cy50aHVtYm5haWxIZWlnaHQsXG4gICAgICAgICAgdGh1bWJuYWlsVHlwZTogdGhpcy5vcHRzLnRodW1ibmFpbFR5cGUsXG4gICAgICAgICAgd2FpdEZvclRodW1ibmFpbHNCZWZvcmVVcGxvYWQ6IHRoaXMub3B0cy53YWl0Rm9yVGh1bWJuYWlsc0JlZm9yZVVwbG9hZCxcbiAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBibG9jayBvbiB0aHVtYm5haWxzLCB3ZSBjYW4gbGF6aWx5IGdlbmVyYXRlIHRoZW1cbiAgICAgICAgICBsYXp5OiAhdGhpcy5vcHRzLndhaXRGb3JUaHVtYm5haWxzQmVmb3JlVXBsb2FkXG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBEYXJrIE1vZGUgLyB0aGVtZVxuXG5cbiAgICAgIHRoaXMuZGFya01vZGVNZWRpYVF1ZXJ5ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm1hdGNoTWVkaWEgPyB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpIDogbnVsbDtcbiAgICAgIGNvbnN0IGlzRGFya01vZGVPbkZyb21UaGVTdGFydCA9IHRoaXMuZGFya01vZGVNZWRpYVF1ZXJ5ID8gdGhpcy5kYXJrTW9kZU1lZGlhUXVlcnkubWF0Y2hlcyA6IGZhbHNlO1xuICAgICAgdGhpcy51cHB5LmxvZyhgW0Rhc2hib2FyZF0gRGFyayBtb2RlIGlzICR7aXNEYXJrTW9kZU9uRnJvbVRoZVN0YXJ0ID8gJ29uJyA6ICdvZmYnfWApO1xuICAgICAgdGhpcy5zZXREYXJrTW9kZUNhcGFiaWxpdHkoaXNEYXJrTW9kZU9uRnJvbVRoZVN0YXJ0KTtcblxuICAgICAgaWYgKHRoaXMub3B0cy50aGVtZSA9PT0gJ2F1dG8nKSB7XG4gICAgICAgIHRoaXMuZGFya01vZGVNZWRpYVF1ZXJ5LmFkZExpc3RlbmVyKHRoaXMuaGFuZGxlU3lzdGVtRGFya01vZGVDaGFuZ2UpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmRpc2NvdmVyUHJvdmlkZXJQbHVnaW5zKCk7XG4gICAgICB0aGlzLmluaXRFdmVudHMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy51bmluc3RhbGwgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMub3B0cy5kaXNhYmxlSW5mb3JtZXIpIHtcbiAgICAgICAgY29uc3QgaW5mb3JtZXIgPSB0aGlzLnVwcHkuZ2V0UGx1Z2luKGAke3RoaXMuaWR9OkluZm9ybWVyYCk7IC8vIENoZWNraW5nIGlmIHRoaXMgcGx1Z2luIGV4aXN0cywgaW4gY2FzZSBpdCB3YXMgcmVtb3ZlZCBieSB1cHB5LWNvcmVcbiAgICAgICAgLy8gYmVmb3JlIHRoZSBEYXNoYm9hcmQgd2FzLlxuXG4gICAgICAgIGlmIChpbmZvcm1lcikgdGhpcy51cHB5LnJlbW92ZVBsdWdpbihpbmZvcm1lcik7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5vcHRzLmRpc2FibGVTdGF0dXNCYXIpIHtcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFyID0gdGhpcy51cHB5LmdldFBsdWdpbihgJHt0aGlzLmlkfTpTdGF0dXNCYXJgKTtcbiAgICAgICAgaWYgKHN0YXR1c0JhcikgdGhpcy51cHB5LnJlbW92ZVBsdWdpbihzdGF0dXNCYXIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMub3B0cy5kaXNhYmxlVGh1bWJuYWlsR2VuZXJhdG9yKSB7XG4gICAgICAgIGNvbnN0IHRodW1ibmFpbCA9IHRoaXMudXBweS5nZXRQbHVnaW4oYCR7dGhpcy5pZH06VGh1bWJuYWlsR2VuZXJhdG9yYCk7XG4gICAgICAgIGlmICh0aHVtYm5haWwpIHRoaXMudXBweS5yZW1vdmVQbHVnaW4odGh1bWJuYWlsKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGx1Z2lucyA9IHRoaXMub3B0cy5wbHVnaW5zIHx8IFtdO1xuICAgICAgcGx1Z2lucy5mb3JFYWNoKHBsdWdpbklEID0+IHtcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy51cHB5LmdldFBsdWdpbihwbHVnaW5JRCk7XG4gICAgICAgIGlmIChwbHVnaW4pIHBsdWdpbi51bm1vdW50KCk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMub3B0cy50aGVtZSA9PT0gJ2F1dG8nKSB7XG4gICAgICAgIHRoaXMuZGFya01vZGVNZWRpYVF1ZXJ5LnJlbW92ZUxpc3RlbmVyKHRoaXMuaGFuZGxlU3lzdGVtRGFya01vZGVDaGFuZ2UpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVubW91bnQoKTtcbiAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG4gICAgfTtcblxuICAgIHRoaXMuaWQgPSB0aGlzLm9wdHMuaWQgfHwgJ0Rhc2hib2FyZCc7XG4gICAgdGhpcy50aXRsZSA9ICdEYXNoYm9hcmQnO1xuICAgIHRoaXMudHlwZSA9ICdvcmNoZXN0cmF0b3InO1xuICAgIHRoaXMubW9kYWxOYW1lID0gYHVwcHktRGFzaGJvYXJkLSR7bmFub2lkKCl9YDtcbiAgICB0aGlzLmRlZmF1bHRMb2NhbGUgPSBsb2NhbGU7IC8vIHNldCBkZWZhdWx0IG9wdGlvbnMsIG11c3QgYmUga2VwdCBpbiBzeW5jIHdpdGggcGFja2FnZXMvQHVwcHkvcmVhY3Qvc3JjL0Rhc2hib2FyZE1vZGFsLmpzXG5cbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIHRhcmdldDogJ2JvZHknLFxuICAgICAgbWV0YUZpZWxkczogW10sXG4gICAgICB0cmlnZ2VyOiBudWxsLFxuICAgICAgaW5saW5lOiBmYWxzZSxcbiAgICAgIHdpZHRoOiA3NTAsXG4gICAgICBoZWlnaHQ6IDU1MCxcbiAgICAgIHRodW1ibmFpbFdpZHRoOiAyODAsXG4gICAgICB0aHVtYm5haWxUeXBlOiAnaW1hZ2UvanBlZycsXG4gICAgICB3YWl0Rm9yVGh1bWJuYWlsc0JlZm9yZVVwbG9hZDogZmFsc2UsXG4gICAgICBkZWZhdWx0UGlja2VySWNvbixcbiAgICAgIHNob3dMaW5rVG9GaWxlVXBsb2FkUmVzdWx0OiBmYWxzZSxcbiAgICAgIHNob3dQcm9ncmVzc0RldGFpbHM6IGZhbHNlLFxuICAgICAgaGlkZVVwbG9hZEJ1dHRvbjogZmFsc2UsXG4gICAgICBoaWRlQ2FuY2VsQnV0dG9uOiBmYWxzZSxcbiAgICAgIGhpZGVSZXRyeUJ1dHRvbjogZmFsc2UsXG4gICAgICBoaWRlUGF1c2VSZXN1bWVCdXR0b246IGZhbHNlLFxuICAgICAgaGlkZVByb2dyZXNzQWZ0ZXJGaW5pc2g6IGZhbHNlLFxuICAgICAgZG9uZUJ1dHRvbkhhbmRsZXI6ICgpID0+IHtcbiAgICAgICAgdGhpcy51cHB5LmNhbmNlbEFsbCgpO1xuICAgICAgICB0aGlzLnJlcXVlc3RDbG9zZU1vZGFsKCk7XG4gICAgICB9LFxuICAgICAgbm90ZTogbnVsbCxcbiAgICAgIGNsb3NlTW9kYWxPbkNsaWNrT3V0c2lkZTogZmFsc2UsXG4gICAgICBjbG9zZUFmdGVyRmluaXNoOiBmYWxzZSxcbiAgICAgIGRpc2FibGVTdGF0dXNCYXI6IGZhbHNlLFxuICAgICAgZGlzYWJsZUluZm9ybWVyOiBmYWxzZSxcbiAgICAgIGRpc2FibGVUaHVtYm5haWxHZW5lcmF0b3I6IGZhbHNlLFxuICAgICAgZGlzYWJsZVBhZ2VTY3JvbGxXaGVuTW9kYWxPcGVuOiB0cnVlLFxuICAgICAgYW5pbWF0ZU9wZW5DbG9zZTogdHJ1ZSxcbiAgICAgIGZpbGVNYW5hZ2VyU2VsZWN0aW9uVHlwZTogJ2ZpbGVzJyxcbiAgICAgIHByb3VkbHlEaXNwbGF5UG93ZXJlZEJ5VXBweTogdHJ1ZSxcbiAgICAgIG9uUmVxdWVzdENsb3NlTW9kYWw6ICgpID0+IHRoaXMuY2xvc2VNb2RhbCgpLFxuICAgICAgc2hvd1NlbGVjdGVkRmlsZXM6IHRydWUsXG4gICAgICBzaG93UmVtb3ZlQnV0dG9uQWZ0ZXJDb21wbGV0ZTogZmFsc2UsXG4gICAgICBicm93c2VyQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgIHNob3dOYXRpdmVQaG90b0NhbWVyYUJ1dHRvbjogZmFsc2UsXG4gICAgICBzaG93TmF0aXZlVmlkZW9DYW1lcmFCdXR0b246IGZhbHNlLFxuICAgICAgdGhlbWU6ICdsaWdodCcsXG4gICAgICBhdXRvT3BlbkZpbGVFZGl0b3I6IGZhbHNlLFxuICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgZGlzYWJsZUxvY2FsRmlsZXM6IGZhbHNlXG4gICAgfTsgLy8gbWVyZ2UgZGVmYXVsdCBvcHRpb25zIHdpdGggdGhlIG9uZXMgc2V0IGJ5IHVzZXJcblxuICAgIHRoaXMub3B0cyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5fb3B0c1xuICAgIH07XG4gICAgdGhpcy5pMThuSW5pdCgpO1xuICAgIHRoaXMuc3VwZXJGb2N1cyA9IGNyZWF0ZVN1cGVyRm9jdXMoKTtcbiAgICB0aGlzLmlmRm9jdXNlZE9uVXBweVJlY2VudGx5ID0gZmFsc2U7IC8vIFRpbWVvdXRzXG5cbiAgICB0aGlzLm1ha2VEYXNoYm9hcmRJbnNpZGVzVmlzaWJsZUFueXdheVRpbWVvdXQgPSBudWxsO1xuICAgIHRoaXMucmVtb3ZlRHJhZ092ZXJDbGFzc1RpbWVvdXQgPSBudWxsO1xuICB9XG5cbn1cbkRhc2hib2FyZC5WRVJTSU9OID0gcGFja2FnZUpzb24udmVyc2lvbjsiLCJsZXQgX1N5bWJvbCRmb3I7XG5cbmltcG9ydCB7IGgsIENvbXBvbmVudCwgRnJhZ21lbnQgfSBmcm9tICdwcmVhY3QnO1xuX1N5bWJvbCRmb3IgPSBTeW1ib2wuZm9yKCd1cHB5IHRlc3Q6IGRpc2FibGUgdW51c2VkIGxvY2FsZSBrZXkgd2FybmluZycpO1xuXG5jbGFzcyBBZGRGaWxlcyBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnRyaWdnZXJGaWxlSW5wdXRDbGljayA9ICgpID0+IHtcbiAgICAgIHRoaXMuZmlsZUlucHV0LmNsaWNrKCk7XG4gICAgfTtcblxuICAgIHRoaXMudHJpZ2dlckZvbGRlcklucHV0Q2xpY2sgPSAoKSA9PiB7XG4gICAgICB0aGlzLmZvbGRlcklucHV0LmNsaWNrKCk7XG4gICAgfTtcblxuICAgIHRoaXMudHJpZ2dlclZpZGVvQ2FtZXJhSW5wdXRDbGljayA9ICgpID0+IHtcbiAgICAgIHRoaXMubW9iaWxlVmlkZW9GaWxlSW5wdXQuY2xpY2soKTtcbiAgICB9O1xuXG4gICAgdGhpcy50cmlnZ2VyUGhvdG9DYW1lcmFJbnB1dENsaWNrID0gKCkgPT4ge1xuICAgICAgdGhpcy5tb2JpbGVQaG90b0ZpbGVJbnB1dC5jbGljaygpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uRmlsZUlucHV0Q2hhbmdlID0gZXZlbnQgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5oYW5kbGVJbnB1dENoYW5nZShldmVudCk7IC8vIFdlIGNsZWFyIHRoZSBpbnB1dCBhZnRlciBhIGZpbGUgaXMgc2VsZWN0ZWQsIGJlY2F1c2Ugb3RoZXJ3aXNlXG4gICAgICAvLyBjaGFuZ2UgZXZlbnQgaXMgbm90IGZpcmVkIGluIENocm9tZSBhbmQgU2FmYXJpIHdoZW4gYSBmaWxlXG4gICAgICAvLyB3aXRoIHRoZSBzYW1lIG5hbWUgaXMgc2VsZWN0ZWQuXG4gICAgICAvLyBfX19XaHkgbm90IHVzZSB2YWx1ZT1cIlwiIG9uIDxpbnB1dC8+IGluc3RlYWQ/XG4gICAgICAvLyAgICBCZWNhdXNlIGlmIHdlIHVzZSB0aGF0IG1ldGhvZCBvZiBjbGVhcmluZyB0aGUgaW5wdXQsXG4gICAgICAvLyAgICBDaHJvbWUgd2lsbCBub3QgdHJpZ2dlciBjaGFuZ2UgaWYgd2UgZHJvcCB0aGUgc2FtZSBmaWxlIHR3aWNlIChJc3N1ZSAjNzY4KS5cblxuICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gbnVsbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIH07XG5cbiAgICB0aGlzLnJlbmRlckhpZGRlbklucHV0ID0gKGlzRm9sZGVyLCByZWZDYWxsYmFjaykgPT4ge1xuICAgICAgcmV0dXJuIGgoXCJpbnB1dFwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1pbnB1dFwiLFxuICAgICAgICBoaWRkZW46IHRydWUsXG4gICAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgICAgd2Via2l0ZGlyZWN0b3J5OiBpc0ZvbGRlcixcbiAgICAgICAgdHlwZTogXCJmaWxlXCIsXG4gICAgICAgIG5hbWU6IFwiZmlsZXNbXVwiLFxuICAgICAgICBtdWx0aXBsZTogdGhpcy5wcm9wcy5tYXhOdW1iZXJPZkZpbGVzICE9PSAxLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkZpbGVJbnB1dENoYW5nZSxcbiAgICAgICAgYWNjZXB0OiB0aGlzLnByb3BzLmFsbG93ZWRGaWxlVHlwZXMsXG4gICAgICAgIHJlZjogcmVmQ2FsbGJhY2tcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbmRlckhpZGRlbkNhbWVyYUlucHV0ID0gKHR5cGUsIG5hdGl2ZUNhbWVyYUZhY2luZ01vZGUsIHJlZkNhbGxiYWNrKSA9PiB7XG4gICAgICBjb25zdCB0eXBlVG9BY2NlcHQgPSB7XG4gICAgICAgIHBob3RvOiAnaW1hZ2UvKicsXG4gICAgICAgIHZpZGVvOiAndmlkZW8vKidcbiAgICAgIH07XG4gICAgICBjb25zdCBhY2NlcHQgPSB0eXBlVG9BY2NlcHRbdHlwZV07XG4gICAgICByZXR1cm4gaChcImlucHV0XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLWlucHV0XCIsXG4gICAgICAgIGhpZGRlbjogdHJ1ZSxcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgICAgbmFtZTogYGNhbWVyYS0ke3R5cGV9YCxcbiAgICAgICAgb25DaGFuZ2U6IHRoaXMub25GaWxlSW5wdXRDaGFuZ2UsXG4gICAgICAgIGNhcHR1cmU6IG5hdGl2ZUNhbWVyYUZhY2luZ01vZGUsXG4gICAgICAgIGFjY2VwdDogYWNjZXB0LFxuICAgICAgICByZWY6IHJlZkNhbGxiYWNrXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW5kZXJNeURldmljZUFjcXVpcmVyID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmRUYWJcIixcbiAgICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIixcbiAgICAgICAgXCJkYXRhLXVwcHktYWNxdWlyZXItaWRcIjogXCJNeURldmljZVwiXG4gICAgICB9LCBoKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LWMtYnRuIHVwcHktRGFzaGJvYXJkVGFiLWJ0blwiLFxuICAgICAgICByb2xlOiBcInRhYlwiLFxuICAgICAgICB0YWJJbmRleDogMCxcbiAgICAgICAgXCJkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXCI6IHRydWUsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMudHJpZ2dlckZpbGVJbnB1dENsaWNrXG4gICAgICB9LCBoKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkVGFiLWlubmVyXCJcbiAgICAgIH0sIGgoXCJzdmdcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmRUYWItaWNvbk15RGV2aWNlXCIsXG4gICAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgICAgICB3aWR0aDogXCIzMlwiLFxuICAgICAgICBoZWlnaHQ6IFwiMzJcIixcbiAgICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIlxuICAgICAgfSwgaChcInBhdGhcIiwge1xuICAgICAgICBkOiBcIk04LjQ1IDIyLjA4N2wtMS4zMDUtNi42NzRoMTcuNjc4bC0xLjU3MiA2LjY3NEg4LjQ1em00Ljk3NS0xMi40MTJsMS4wODMgMS43NjVhLjgyMy44MjMgMCAwMC43MTUuMzg2aDcuOTUxVjEzLjVIOC41ODdWOS42NzVoNC44Mzh6TTI2LjA0MyAxMy41aC0xLjE5NXYtMi41OThjMC0uNDYzLS4zMzYtLjc1LS43OTgtLjc1aC04LjM1NmwtMS4wODItMS43NjZBLjgyMy44MjMgMCAwMDEzLjg5NyA4SDcuNzI4Yy0uNDYyIDAtLjgxNS4yNTYtLjgxNS43MThWMTMuNWgtLjk1NmEuOTcuOTcgMCAwMC0uNzQ2LjM3Ljk3Mi45NzIgMCAwMC0uMTkuODFsMS43MjQgOC41NjVjLjA5NS40NC40ODQuNzU1LjkzMy43NTVIMjRjLjQ0IDAgLjgyNC0uMy45MjktLjcyN2wyLjA0My04LjU2OGEuOTcyLjk3MiAwIDAwLS4xNzYtLjgyNS45NjcuOTY3IDAgMDAtLjc1My0uMzh6XCIsXG4gICAgICAgIGZpbGw6IFwiY3VycmVudGNvbG9yXCIsXG4gICAgICAgIFwiZmlsbC1ydWxlXCI6IFwiZXZlbm9kZFwiXG4gICAgICB9KSkpLCBoKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkVGFiLW5hbWVcIlxuICAgICAgfSwgdGhpcy5wcm9wcy5pMThuKCdteURldmljZScpKSkpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbmRlclBob3RvQ2FtZXJhID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmRUYWJcIixcbiAgICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIixcbiAgICAgICAgXCJkYXRhLXVwcHktYWNxdWlyZXItaWRcIjogXCJNb2JpbGVQaG90b0NhbWVyYVwiXG4gICAgICB9LCBoKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LWMtYnRuIHVwcHktRGFzaGJvYXJkVGFiLWJ0blwiLFxuICAgICAgICByb2xlOiBcInRhYlwiLFxuICAgICAgICB0YWJJbmRleDogMCxcbiAgICAgICAgXCJkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXCI6IHRydWUsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMudHJpZ2dlclBob3RvQ2FtZXJhSW5wdXRDbGlja1xuICAgICAgfSwgaChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZFRhYi1pbm5lclwiXG4gICAgICB9LCBoKFwic3ZnXCIsIHtcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICAgICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgICAgIHdpZHRoOiBcIjMyXCIsXG4gICAgICAgIGhlaWdodDogXCIzMlwiLFxuICAgICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiXG4gICAgICB9LCBoKFwicGF0aFwiLCB7XG4gICAgICAgIGQ6IFwiTTIzLjUgOS41YzEuNDE3IDAgMi41IDEuMDgzIDIuNSAyLjV2OS4xNjdjMCAxLjQxNi0xLjA4MyAyLjUtMi41IDIuNWgtMTVjLTEuNDE3IDAtMi41LTEuMDg0LTIuNS0yLjVWMTJjMC0xLjQxNyAxLjA4My0yLjUgMi41LTIuNWgyLjkxN2wxLjQxNi0yLjE2N0MxMyA3LjE2NyAxMy4yNSA3IDEzLjUgN2g1Yy4yNSAwIC41LjE2Ny42NjcuMzMzTDIwLjU4MyA5LjVIMjMuNXpNMTYgMTEuNDE3YTQuNzA2IDQuNzA2IDAgMDAtNC43NSA0Ljc1IDQuNzA0IDQuNzA0IDAgMDA0Ljc1IDQuNzUgNC43MDMgNC43MDMgMCAwMDQuNzUtNC43NWMwLTIuNjYzLTIuMDktNC43NS00Ljc1LTQuNzV6bTAgNy44MjVjLTEuNzQ0IDAtMy4wNzYtMS4zMzItMy4wNzYtMy4wNzQgMC0xLjc0NSAxLjMzMy0zLjA3NyAzLjA3Ni0zLjA3NyAxLjc0NCAwIDMuMDc0IDEuMzMzIDMuMDc0IDMuMDc2cy0xLjMzIDMuMDc1LTMuMDc0IDMuMDc1elwiLFxuICAgICAgICBmaWxsOiBcIiMwMkIzODNcIixcbiAgICAgICAgXCJmaWxsLXJ1bGVcIjogXCJub256ZXJvXCJcbiAgICAgIH0pKSksIGgoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmRUYWItbmFtZVwiXG4gICAgICB9LCB0aGlzLnByb3BzLmkxOG4oJ3Rha2VQaWN0dXJlQnRuJykpKSk7XG4gICAgfTtcblxuICAgIHRoaXMucmVuZGVyVmlkZW9DYW1lcmEgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZFRhYlwiLFxuICAgICAgICByb2xlOiBcInByZXNlbnRhdGlvblwiLFxuICAgICAgICBcImRhdGEtdXBweS1hY3F1aXJlci1pZFwiOiBcIk1vYmlsZVZpZGVvQ2FtZXJhXCJcbiAgICAgIH0sIGgoXCJidXR0b25cIiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG4gdXBweS1EYXNoYm9hcmRUYWItYnRuXCIsXG4gICAgICAgIHJvbGU6IFwidGFiXCIsXG4gICAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgICBcImRhdGEtdXBweS1zdXBlci1mb2N1c2FibGVcIjogdHJ1ZSxcbiAgICAgICAgb25DbGljazogdGhpcy50cmlnZ2VyVmlkZW9DYW1lcmFJbnB1dENsaWNrXG4gICAgICB9LCBoKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkVGFiLWlubmVyXCJcbiAgICAgIH0sIGgoXCJzdmdcIiwge1xuICAgICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgICAgICB3aWR0aDogXCIzMlwiLFxuICAgICAgICBoZWlnaHQ6IFwiMzJcIixcbiAgICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIlxuICAgICAgfSwgaChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcIiNGRjY3NUVcIixcbiAgICAgICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiLFxuICAgICAgICBkOiBcIm0yMS4yNTQgMTQuMjc3IDIuOTQxLTIuNTg4Yy43OTctLjMxMyAxLjI0My44MTggMS4wOSAxLjU1NC0uMDEgMi4wOTQuMDIgNC4xODktLjAxNyA2LjI4Mi0uMTI2LjkxNS0xLjE0NSAxLjA4LTEuNTguMzRsLTIuNDM0LTIuMTQyYy0uMTkyLjI4Ny0uNTA0IDEuMzA1LS43MzguNDY4LS4xMDQtMS4yOTMtLjAyOC0yLjU5Ni0uMDUtMy44OTQuMDQ3LS4zMTIuMzgxLjgyMy40MjYgMS4wNjkuMDYzLS4zODQuMjA2LS43NDQuMzYyLTEuMDl6bS0xMi45MzktMy43M2MzLjg1OC4wMTMgNy43MTctLjAyNSAxMS41NzQuMDIuOTEyLjEyOSAxLjQ5MiAxLjIzNyAxLjM1MSAyLjIxNy0uMDE5IDIuNDEyLjA0IDQuODMtLjAzIDcuMjM5LS4xNyAxLjAyNS0xLjE2NiAxLjU5LTIuMDI5IDEuNDI5LTMuNzA1LS4wMTItNy40MS4wMjUtMTEuMTE0LS4wMTktLjkxMy0uMTI5LTEuNDkyLTEuMjM3LTEuMzUyLTIuMjE3LjAxOC0yLjQwNC0uMDM2LTQuODEzLjAyOS03LjIxNC4xMzYtLjgyLjgzLTEuNDczIDEuNTcxLTEuNDU0eiBcIlxuICAgICAgfSkpKSwgaChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZFRhYi1uYW1lXCJcbiAgICAgIH0sIHRoaXMucHJvcHMuaTE4bigncmVjb3JkVmlkZW9CdG4nKSkpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW5kZXJCcm93c2VCdXR0b24gPSAodGV4dCwgb25DbGlja0ZuKSA9PiB7XG4gICAgICBjb25zdCBudW1iZXJPZkFjcXVpcmVycyA9IHRoaXMucHJvcHMuYWNxdWlyZXJzLmxlbmd0aDtcbiAgICAgIHJldHVybiBoKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LWMtYnRuIHVwcHktRGFzaGJvYXJkLWJyb3dzZVwiLFxuICAgICAgICBvbkNsaWNrOiBvbkNsaWNrRm4sXG4gICAgICAgIFwiZGF0YS11cHB5LXN1cGVyLWZvY3VzYWJsZVwiOiBudW1iZXJPZkFjcXVpcmVycyA9PT0gMFxuICAgICAgfSwgdGV4dCk7XG4gICAgfTtcblxuICAgIHRoaXMucmVuZGVyRHJvcFBhc3RlQnJvd3NlVGFnbGluZSA9IG51bWJlck9mQWNxdWlyZXJzID0+IHtcbiAgICAgIGNvbnN0IGJyb3dzZUZpbGVzID0gdGhpcy5yZW5kZXJCcm93c2VCdXR0b24odGhpcy5wcm9wcy5pMThuKCdicm93c2VGaWxlcycpLCB0aGlzLnRyaWdnZXJGaWxlSW5wdXRDbGljayk7XG4gICAgICBjb25zdCBicm93c2VGb2xkZXJzID0gdGhpcy5yZW5kZXJCcm93c2VCdXR0b24odGhpcy5wcm9wcy5pMThuKCdicm93c2VGb2xkZXJzJyksIHRoaXMudHJpZ2dlckZvbGRlcklucHV0Q2xpY2spOyAvLyBpbiBvcmRlciB0byBrZWVwIHRoZSBpMThuIENhbWVsQ2FzZSBhbmQgb3B0aW9ucyBsb3dlciAoYXMgYXJlIGRlZmF1bHRzKSB3ZSB3aWxsIHdhbnQgdG8gdHJhbnNmb3JtIGEgbG93ZXJcbiAgICAgIC8vIHRvIENhbWVsXG5cbiAgICAgIGNvbnN0IGxvd2VyRk1TZWxlY3Rpb25UeXBlID0gdGhpcy5wcm9wcy5maWxlTWFuYWdlclNlbGVjdGlvblR5cGU7XG4gICAgICBjb25zdCBjYW1lbEZNU2VsZWN0aW9uVHlwZSA9IGxvd2VyRk1TZWxlY3Rpb25UeXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbG93ZXJGTVNlbGVjdGlvblR5cGUuc2xpY2UoMSk7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzOiBcInVwcHktRGFzaGJvYXJkLUFkZEZpbGVzLXRpdGxlXCJcbiAgICAgIH0sIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgdGhpcy5wcm9wcy5kaXNhYmxlTG9jYWxGaWxlcyA/IHRoaXMucHJvcHMuaTE4bignaW1wb3J0RmlsZXMnKSA6IG51bWJlck9mQWNxdWlyZXJzID4gMCA/IHRoaXMucHJvcHMuaTE4bkFycmF5KGBkcm9wUGFzdGVJbXBvcnQke2NhbWVsRk1TZWxlY3Rpb25UeXBlfWAsIHtcbiAgICAgICAgYnJvd3NlRmlsZXMsXG4gICAgICAgIGJyb3dzZUZvbGRlcnMsXG4gICAgICAgIGJyb3dzZTogYnJvd3NlRmlsZXNcbiAgICAgIH0pIDogdGhpcy5wcm9wcy5pMThuQXJyYXkoYGRyb3BQYXN0ZSR7Y2FtZWxGTVNlbGVjdGlvblR5cGV9YCwge1xuICAgICAgICBicm93c2VGaWxlcyxcbiAgICAgICAgYnJvd3NlRm9sZGVycyxcbiAgICAgICAgYnJvd3NlOiBicm93c2VGaWxlc1xuICAgICAgfSkpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbmRlckFjcXVpcmVyID0gYWNxdWlyZXIgPT4ge1xuICAgICAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmRUYWJcIixcbiAgICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIixcbiAgICAgICAgXCJkYXRhLXVwcHktYWNxdWlyZXItaWRcIjogYWNxdWlyZXIuaWRcbiAgICAgIH0sIGgoXCJidXR0b25cIiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG4gdXBweS1EYXNoYm9hcmRUYWItYnRuXCIsXG4gICAgICAgIHJvbGU6IFwidGFiXCIsXG4gICAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgICBcImRhdGEtY3lcIjogYWNxdWlyZXIuaWQsXG4gICAgICAgIFwiYXJpYS1jb250cm9sc1wiOiBgdXBweS1EYXNoYm9hcmRDb250ZW50LXBhbmVsLS0ke2FjcXVpcmVyLmlkfWAsXG4gICAgICAgIFwiYXJpYS1zZWxlY3RlZFwiOiB0aGlzLnByb3BzLmFjdGl2ZVBpY2tlclBhbmVsLmlkID09PSBhY3F1aXJlci5pZCxcbiAgICAgICAgXCJkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXCI6IHRydWUsXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMucHJvcHMuc2hvd1BhbmVsKGFjcXVpcmVyLmlkKVxuICAgICAgfSwgaChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZFRhYi1pbm5lclwiXG4gICAgICB9LCBhY3F1aXJlci5pY29uKCkpLCBoKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkVGFiLW5hbWVcIlxuICAgICAgfSwgYWNxdWlyZXIubmFtZSkpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW5kZXJBY3F1aXJlcnMgPSBhY3F1aXJlcnMgPT4ge1xuICAgICAgLy8gR3JvdXAgbGFzdCB0d28gYnV0dG9ucywgc28gd2UgZG9u4oCZdCBlbmQgdXAgd2l0aFxuICAgICAgLy8ganVzdCBvbmUgYnV0dG9uIG9uIGEgbmV3IGxpbmVcbiAgICAgIGNvbnN0IGFjcXVpcmVyc1dpdGhvdXRMYXN0VHdvID0gWy4uLmFjcXVpcmVyc107XG4gICAgICBjb25zdCBsYXN0VHdvQWNxdWlyZXJzID0gYWNxdWlyZXJzV2l0aG91dExhc3RUd28uc3BsaWNlKGFjcXVpcmVycy5sZW5ndGggLSAyLCBhY3F1aXJlcnMubGVuZ3RoKTtcbiAgICAgIHJldHVybiBoKEZyYWdtZW50LCBudWxsLCBhY3F1aXJlcnNXaXRob3V0TGFzdFR3by5tYXAoYWNxdWlyZXIgPT4gdGhpcy5yZW5kZXJBY3F1aXJlcihhY3F1aXJlcikpLCBoKFwic3BhblwiLCB7XG4gICAgICAgIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgJ3doaXRlLXNwYWNlJzogJ25vd3JhcCdcbiAgICAgICAgfVxuICAgICAgfSwgbGFzdFR3b0FjcXVpcmVycy5tYXAoYWNxdWlyZXIgPT4gdGhpcy5yZW5kZXJBY3F1aXJlcihhY3F1aXJlcikpKSk7XG4gICAgfTtcblxuICAgIHRoaXMucmVuZGVyU291cmNlc0xpc3QgPSAoYWNxdWlyZXJzLCBkaXNhYmxlTG9jYWxGaWxlcykgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBzaG93TmF0aXZlUGhvdG9DYW1lcmFCdXR0b24sXG4gICAgICAgIHNob3dOYXRpdmVWaWRlb0NhbWVyYUJ1dHRvblxuICAgICAgfSA9IHRoaXMucHJvcHM7XG4gICAgICBsZXQgbGlzdCA9IFtdO1xuICAgICAgY29uc3QgbXlEZXZpY2VLZXkgPSAnbXlEZXZpY2UnO1xuXG4gICAgICBpZiAoIWRpc2FibGVMb2NhbEZpbGVzKSB7XG4gICAgICAgIGxpc3QucHVzaCh7XG4gICAgICAgICAga2V5OiBteURldmljZUtleSxcbiAgICAgICAgICBlbGVtZW50czogdGhpcy5yZW5kZXJNeURldmljZUFjcXVpcmVyKClcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzaG93TmF0aXZlUGhvdG9DYW1lcmFCdXR0b24pIGxpc3QucHVzaCh7XG4gICAgICAgICAga2V5OiAnbmF0aXZlUGhvdG9DYW1lcmFCdXR0b24nLFxuICAgICAgICAgIGVsZW1lbnRzOiB0aGlzLnJlbmRlclBob3RvQ2FtZXJhKClcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzaG93TmF0aXZlVmlkZW9DYW1lcmFCdXR0b24pIGxpc3QucHVzaCh7XG4gICAgICAgICAga2V5OiAnbmF0aXZlUGhvdG9DYW1lcmFCdXR0b24nLFxuICAgICAgICAgIGVsZW1lbnRzOiB0aGlzLnJlbmRlclZpZGVvQ2FtZXJhKClcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaCguLi5hY3F1aXJlcnMubWFwKGFjcXVpcmVyID0+ICh7XG4gICAgICAgIGtleTogYWNxdWlyZXIuaWQsXG4gICAgICAgIGVsZW1lbnRzOiB0aGlzLnJlbmRlckFjcXVpcmVyKGFjcXVpcmVyKVxuICAgICAgfSkpKTsgLy8gZG9lc24ndCBtYWtlIHNlbnNlIHRvIHNob3cgb25seSBhIGxvbmVseSBcIk15IERldmljZVwiXG5cbiAgICAgIGNvbnN0IGhhc09ubHlNeURldmljZSA9IGxpc3QubGVuZ3RoID09PSAxICYmIGxpc3RbMF0ua2V5ID09PSBteURldmljZUtleTtcbiAgICAgIGlmIChoYXNPbmx5TXlEZXZpY2UpIGxpc3QgPSBbXTsgLy8gR3JvdXAgbGFzdCB0d28gYnV0dG9ucywgc28gd2UgZG9u4oCZdCBlbmQgdXAgd2l0aFxuICAgICAgLy8ganVzdCBvbmUgYnV0dG9uIG9uIGEgbmV3IGxpbmVcblxuICAgICAgY29uc3QgbGlzdFdpdGhvdXRMYXN0VHdvID0gWy4uLmxpc3RdO1xuICAgICAgY29uc3QgbGFzdFR3byA9IGxpc3RXaXRob3V0TGFzdFR3by5zcGxpY2UobGlzdC5sZW5ndGggLSAyLCBsaXN0Lmxlbmd0aCk7XG5cbiAgICAgIGNvbnN0IHJlbmRlckxpc3QgPSBsID0+IGwubWFwKF9yZWYgPT4ge1xuICAgICAgICBsZXQge1xuICAgICAgICAgIGtleSxcbiAgICAgICAgICBlbGVtZW50c1xuICAgICAgICB9ID0gX3JlZjtcbiAgICAgICAgcmV0dXJuIGgoRnJhZ21lbnQsIHtcbiAgICAgICAgICBrZXk6IGtleVxuICAgICAgICB9LCBlbGVtZW50cyk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGgoRnJhZ21lbnQsIG51bGwsIHRoaXMucmVuZGVyRHJvcFBhc3RlQnJvd3NlVGFnbGluZShsaXN0Lmxlbmd0aCksIGgoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtQWRkRmlsZXMtbGlzdFwiLFxuICAgICAgICByb2xlOiBcInRhYmxpc3RcIlxuICAgICAgfSwgcmVuZGVyTGlzdChsaXN0V2l0aG91dExhc3RUd28pLCBoKFwic3BhblwiLCB7XG4gICAgICAgIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgJ3doaXRlLXNwYWNlJzogJ25vd3JhcCdcbiAgICAgICAgfVxuICAgICAgfSwgcmVuZGVyTGlzdChsYXN0VHdvKSkpKTtcbiAgICB9O1xuICB9XG5cbiAgW19TeW1ib2wkZm9yXSgpIHtcbiAgICAvLyBUaG9zZSBhcmUgYWN0dWFsbHkgdXNlZCBpbiBgcmVuZGVyRHJvcFBhc3RlQnJvd3NlVGFnbGluZWAgbWV0aG9kLlxuICAgIHRoaXMucHJvcHMuaTE4bkFycmF5KCdkcm9wUGFzdGVCb3RoJyk7XG4gICAgdGhpcy5wcm9wcy5pMThuQXJyYXkoJ2Ryb3BQYXN0ZUZpbGVzJyk7XG4gICAgdGhpcy5wcm9wcy5pMThuQXJyYXkoJ2Ryb3BQYXN0ZUZvbGRlcnMnKTtcbiAgICB0aGlzLnByb3BzLmkxOG5BcnJheSgnZHJvcFBhc3RlSW1wb3J0Qm90aCcpO1xuICAgIHRoaXMucHJvcHMuaTE4bkFycmF5KCdkcm9wUGFzdGVJbXBvcnRGaWxlcycpO1xuICAgIHRoaXMucHJvcHMuaTE4bkFycmF5KCdkcm9wUGFzdGVJbXBvcnRGb2xkZXJzJyk7XG4gIH1cblxuICByZW5kZXJQb3dlcmVkQnlVcHB5KCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGkxOG5BcnJheVxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHVwcHlCcmFuZGluZyA9IGgoXCJzcGFuXCIsIG51bGwsIGgoXCJzdmdcIiwge1xuICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uIHVwcHktRGFzaGJvYXJkLXBvd2VyZWRCeUljb25cIixcbiAgICAgIHdpZHRoOiBcIjExXCIsXG4gICAgICBoZWlnaHQ6IFwiMTFcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDExIDExXCJcbiAgICB9LCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk03LjM2NSAxMC41bC0uMDEtNC4wNDVoMi42MTJMNS41LjgwNmwtNC40NjcgNS42NWgyLjYwNGwuMDEgNC4wNDRoMy43MTh6XCIsXG4gICAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgICB9KSksIGgoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1wb3dlcmVkQnlVcHB5XCJcbiAgICB9LCBcIlVwcHlcIikpO1xuICAgIGNvbnN0IGxpbmtUZXh0ID0gaTE4bkFycmF5KCdwb3dlcmVkQnknLCB7XG4gICAgICB1cHB5OiB1cHB5QnJhbmRpbmdcbiAgICB9KTtcbiAgICByZXR1cm4gaChcImFcIiwge1xuICAgICAgdGFiSW5kZXg6IFwiLTFcIixcbiAgICAgIGhyZWY6IFwiaHR0cHM6Ly91cHB5LmlvXCIsXG4gICAgICByZWw6IFwibm9yZWZlcnJlciBub29wZW5lclwiLFxuICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLXBvd2VyZWRCeVwiXG4gICAgfSwgbGlua1RleHQpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNob3dOYXRpdmVQaG90b0NhbWVyYUJ1dHRvbixcbiAgICAgIHNob3dOYXRpdmVWaWRlb0NhbWVyYUJ1dHRvbixcbiAgICAgIG5hdGl2ZUNhbWVyYUZhY2luZ01vZGVcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtQWRkRmlsZXNcIlxuICAgIH0sIHRoaXMucmVuZGVySGlkZGVuSW5wdXQoZmFsc2UsIHJlZiA9PiB7XG4gICAgICB0aGlzLmZpbGVJbnB1dCA9IHJlZjtcbiAgICB9KSwgdGhpcy5yZW5kZXJIaWRkZW5JbnB1dCh0cnVlLCByZWYgPT4ge1xuICAgICAgdGhpcy5mb2xkZXJJbnB1dCA9IHJlZjtcbiAgICB9KSwgc2hvd05hdGl2ZVBob3RvQ2FtZXJhQnV0dG9uICYmIHRoaXMucmVuZGVySGlkZGVuQ2FtZXJhSW5wdXQoJ3Bob3RvJywgbmF0aXZlQ2FtZXJhRmFjaW5nTW9kZSwgcmVmID0+IHtcbiAgICAgIHRoaXMubW9iaWxlUGhvdG9GaWxlSW5wdXQgPSByZWY7XG4gICAgfSksIHNob3dOYXRpdmVWaWRlb0NhbWVyYUJ1dHRvbiAmJiB0aGlzLnJlbmRlckhpZGRlbkNhbWVyYUlucHV0KCd2aWRlbycsIG5hdGl2ZUNhbWVyYUZhY2luZ01vZGUsIHJlZiA9PiB7XG4gICAgICB0aGlzLm1vYmlsZVZpZGVvRmlsZUlucHV0ID0gcmVmO1xuICAgIH0pLCB0aGlzLnJlbmRlclNvdXJjZXNMaXN0KHRoaXMucHJvcHMuYWNxdWlyZXJzLCB0aGlzLnByb3BzLmRpc2FibGVMb2NhbEZpbGVzKSwgaChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtQWRkRmlsZXMtaW5mb1wiXG4gICAgfSwgdGhpcy5wcm9wcy5ub3RlICYmIGgoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLW5vdGVcIlxuICAgIH0sIHRoaXMucHJvcHMubm90ZSksIHRoaXMucHJvcHMucHJvdWRseURpc3BsYXlQb3dlcmVkQnlVcHB5ICYmIHRoaXMucmVuZGVyUG93ZXJlZEJ5VXBweSh0aGlzLnByb3BzKSkpO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQWRkRmlsZXM7IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBBZGRGaWxlcyBmcm9tIFwiLi9BZGRGaWxlcy5qc1wiO1xuXG5jb25zdCBBZGRGaWxlc1BhbmVsID0gcHJvcHMgPT4ge1xuICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKCd1cHB5LURhc2hib2FyZC1BZGRGaWxlc1BhbmVsJywgcHJvcHMuY2xhc3NOYW1lKSxcbiAgICBcImRhdGEtdXBweS1wYW5lbFR5cGVcIjogXCJBZGRGaWxlc1wiLFxuICAgIFwiYXJpYS1oaWRkZW5cIjogcHJvcHMuc2hvd0FkZEZpbGVzUGFuZWxcbiAgfSwgaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkQ29udGVudC1iYXJcIlxuICB9LCBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmRDb250ZW50LXRpdGxlXCIsXG4gICAgcm9sZTogXCJoZWFkaW5nXCIsXG4gICAgXCJhcmlhLWxldmVsXCI6IFwiMVwiXG4gIH0sIHByb3BzLmkxOG4oJ2FkZGluZ01vcmVGaWxlcycpKSwgaChcImJ1dHRvblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkQ29udGVudC1iYWNrXCIsXG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBvbkNsaWNrOiAoKSA9PiBwcm9wcy50b2dnbGVBZGRGaWxlc1BhbmVsKGZhbHNlKVxuICB9LCBwcm9wcy5pMThuKCdiYWNrJykpKSwgaChBZGRGaWxlcywgcHJvcHMpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFkZEZpbGVzUGFuZWw7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgaXNEcmFnRHJvcFN1cHBvcnRlZCBmcm9tICdAdXBweS91dGlscy9saWIvaXNEcmFnRHJvcFN1cHBvcnRlZCc7XG5pbXBvcnQgRmlsZUxpc3QgZnJvbSBcIi4vRmlsZUxpc3QuanNcIjtcbmltcG9ydCBBZGRGaWxlcyBmcm9tIFwiLi9BZGRGaWxlcy5qc1wiO1xuaW1wb3J0IEFkZEZpbGVzUGFuZWwgZnJvbSBcIi4vQWRkRmlsZXNQYW5lbC5qc1wiO1xuaW1wb3J0IFBpY2tlclBhbmVsQ29udGVudCBmcm9tIFwiLi9QaWNrZXJQYW5lbENvbnRlbnQuanNcIjtcbmltcG9ydCBFZGl0b3JQYW5lbCBmcm9tIFwiLi9FZGl0b3JQYW5lbC5qc1wiO1xuaW1wb3J0IFBhbmVsVG9wQmFyIGZyb20gXCIuL1BpY2tlclBhbmVsVG9wQmFyLmpzXCI7XG5pbXBvcnQgRmlsZUNhcmQgZnJvbSBcIi4vRmlsZUNhcmQvaW5kZXguanNcIjtcbmltcG9ydCBTbGlkZSBmcm9tIFwiLi9TbGlkZS5qc1wiOyAvLyBodHRwOi8vZGV2LmVkZW5zcGlla2VybWFubi5jb20vMjAxNi8wMi8xMS9pbnRyb2R1Y2luZy1hY2Nlc3NpYmxlLW1vZGFsLWRpYWxvZ1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2dob3NoL21pY3JvbW9kYWxcblxuY29uc3QgV0lEVEhfWEwgPSA5MDA7XG5jb25zdCBXSURUSF9MRyA9IDcwMDtcbmNvbnN0IFdJRFRIX01EID0gNTc2O1xuY29uc3QgSEVJR0hUX01EID0gNDAwO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGFzaGJvYXJkKHByb3BzKSB7XG4gIGNvbnN0IG5vRmlsZXMgPSBwcm9wcy50b3RhbEZpbGVDb3VudCA9PT0gMDtcbiAgY29uc3Qgc2luZ2xlRmlsZSA9IHByb3BzLnRvdGFsRmlsZUNvdW50ID09PSAxO1xuICBjb25zdCBpc1NpemVNRCA9IHByb3BzLmNvbnRhaW5lcldpZHRoID4gV0lEVEhfTUQ7XG4gIGNvbnN0IGRhc2hib2FyZENsYXNzTmFtZSA9IGNsYXNzTmFtZXMoe1xuICAgICd1cHB5LURhc2hib2FyZCc6IHRydWUsXG4gICAgJ3VwcHktRGFzaGJvYXJkLS1pc0Rpc2FibGVkJzogcHJvcHMuZGlzYWJsZWQsXG4gICAgJ3VwcHktRGFzaGJvYXJkLS1hbmltYXRlT3BlbkNsb3NlJzogcHJvcHMuYW5pbWF0ZU9wZW5DbG9zZSxcbiAgICAndXBweS1EYXNoYm9hcmQtLWlzQ2xvc2luZyc6IHByb3BzLmlzQ2xvc2luZyxcbiAgICAndXBweS1EYXNoYm9hcmQtLWlzRHJhZ2dpbmdPdmVyJzogcHJvcHMuaXNEcmFnZ2luZ092ZXIsXG4gICAgJ3VwcHktRGFzaGJvYXJkLS1tb2RhbCc6ICFwcm9wcy5pbmxpbmUsXG4gICAgJ3VwcHktc2l6ZS0tbWQnOiBwcm9wcy5jb250YWluZXJXaWR0aCA+IFdJRFRIX01ELFxuICAgICd1cHB5LXNpemUtLWxnJzogcHJvcHMuY29udGFpbmVyV2lkdGggPiBXSURUSF9MRyxcbiAgICAndXBweS1zaXplLS14bCc6IHByb3BzLmNvbnRhaW5lcldpZHRoID4gV0lEVEhfWEwsXG4gICAgJ3VwcHktc2l6ZS0taGVpZ2h0LW1kJzogcHJvcHMuY29udGFpbmVySGVpZ2h0ID4gSEVJR0hUX01ELFxuICAgICd1cHB5LURhc2hib2FyZC0taXNBZGRGaWxlc1BhbmVsVmlzaWJsZSc6IHByb3BzLnNob3dBZGRGaWxlc1BhbmVsLFxuICAgICd1cHB5LURhc2hib2FyZC0taXNJbm5lcldyYXBWaXNpYmxlJzogcHJvcHMuYXJlSW5zaWRlc1JlYWR5VG9CZVZpc2libGUsXG4gICAgJ3VwcHktRGFzaGJvYXJkLS1zaW5nbGVGaWxlJzogc2luZ2xlRmlsZVxuICB9KTsgLy8gSW1wb3J0YW50OiBrZWVwIHRoZXNlIGluIHN5bmMgd2l0aCB0aGUgcGVyY2VudCB3aWR0aCB2YWx1ZXMgaW4gYHNyYy9jb21wb25lbnRzL0ZpbGVJdGVtL2luZGV4LnNjc3NgLlxuXG4gIGxldCBpdGVtc1BlclJvdyA9IDE7IC8vIG1vYmlsZVxuXG4gIGlmIChwcm9wcy5jb250YWluZXJXaWR0aCA+IFdJRFRIX1hMKSB7XG4gICAgaXRlbXNQZXJSb3cgPSA1O1xuICB9IGVsc2UgaWYgKHByb3BzLmNvbnRhaW5lcldpZHRoID4gV0lEVEhfTEcpIHtcbiAgICBpdGVtc1BlclJvdyA9IDQ7XG4gIH0gZWxzZSBpZiAocHJvcHMuY29udGFpbmVyV2lkdGggPiBXSURUSF9NRCkge1xuICAgIGl0ZW1zUGVyUm93ID0gMztcbiAgfVxuXG4gIGNvbnN0IHNob3dGaWxlTGlzdCA9IHByb3BzLnNob3dTZWxlY3RlZEZpbGVzICYmICFub0ZpbGVzO1xuICBjb25zdCBudW1iZXJPZkZpbGVzRm9yUmVjb3ZlcnkgPSBwcm9wcy5yZWNvdmVyZWRTdGF0ZSA/IE9iamVjdC5rZXlzKHByb3BzLnJlY292ZXJlZFN0YXRlLmZpbGVzKS5sZW5ndGggOiBudWxsO1xuICBjb25zdCBudW1iZXJPZkdob3N0cyA9IHByb3BzLmZpbGVzID8gT2JqZWN0LmtleXMocHJvcHMuZmlsZXMpLmZpbHRlcihmaWxlSUQgPT4gcHJvcHMuZmlsZXNbZmlsZUlEXS5pc0dob3N0KS5sZW5ndGggOiBudWxsO1xuXG4gIGNvbnN0IHJlbmRlclJlc3RvcmVkVGV4dCA9ICgpID0+IHtcbiAgICBpZiAobnVtYmVyT2ZHaG9zdHMgPiAwKSB7XG4gICAgICByZXR1cm4gcHJvcHMuaTE4bigncmVjb3ZlcmVkWEZpbGVzJywge1xuICAgICAgICBzbWFydF9jb3VudDogbnVtYmVyT2ZHaG9zdHNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9wcy5pMThuKCdyZWNvdmVyZWRBbGxGaWxlcycpO1xuICB9O1xuXG4gIGNvbnN0IGRhc2hib2FyZCA9IGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogZGFzaGJvYXJkQ2xhc3NOYW1lLFxuICAgIFwiZGF0YS11cHB5LXRoZW1lXCI6IHByb3BzLnRoZW1lLFxuICAgIFwiZGF0YS11cHB5LW51bS1hY3F1aXJlcnNcIjogcHJvcHMuYWNxdWlyZXJzLmxlbmd0aCxcbiAgICBcImRhdGEtdXBweS1kcmFnLWRyb3Atc3VwcG9ydGVkXCI6ICFwcm9wcy5kaXNhYmxlTG9jYWxGaWxlcyAmJiBpc0RyYWdEcm9wU3VwcG9ydGVkKCksXG4gICAgXCJhcmlhLWhpZGRlblwiOiBwcm9wcy5pbmxpbmUgPyAnZmFsc2UnIDogcHJvcHMuaXNIaWRkZW4sXG4gICAgXCJhcmlhLWRpc2FibGVkXCI6IHByb3BzLmRpc2FibGVkLFxuICAgIFwiYXJpYS1sYWJlbFwiOiAhcHJvcHMuaW5saW5lID8gcHJvcHMuaTE4bignZGFzaGJvYXJkV2luZG93VGl0bGUnKSA6IHByb3BzLmkxOG4oJ2Rhc2hib2FyZFRpdGxlJyksXG4gICAgb25QYXN0ZTogcHJvcHMuaGFuZGxlUGFzdGUsXG4gICAgb25EcmFnT3ZlcjogcHJvcHMuaGFuZGxlRHJhZ092ZXIsXG4gICAgb25EcmFnTGVhdmU6IHByb3BzLmhhbmRsZURyYWdMZWF2ZSxcbiAgICBvbkRyb3A6IHByb3BzLmhhbmRsZURyb3BcbiAgfSwgaChcImRpdlwiLCB7XG4gICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtb3ZlcmxheVwiLFxuICAgIHRhYkluZGV4OiAtMSxcbiAgICBvbkNsaWNrOiBwcm9wcy5oYW5kbGVDbGlja091dHNpZGVcbiAgfSksIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1pbm5lclwiLFxuICAgIFwiYXJpYS1tb2RhbFwiOiAhcHJvcHMuaW5saW5lICYmICd0cnVlJyxcbiAgICByb2xlOiAhcHJvcHMuaW5saW5lICYmICdkaWFsb2cnLFxuICAgIHN0eWxlOiB7XG4gICAgICB3aWR0aDogcHJvcHMuaW5saW5lICYmIHByb3BzLndpZHRoID8gcHJvcHMud2lkdGggOiAnJyxcbiAgICAgIGhlaWdodDogcHJvcHMuaW5saW5lICYmIHByb3BzLmhlaWdodCA/IHByb3BzLmhlaWdodCA6ICcnXG4gICAgfVxuICB9LCAhcHJvcHMuaW5saW5lID8gaChcImJ1dHRvblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LURhc2hib2FyZC1jbG9zZVwiLFxuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgXCJhcmlhLWxhYmVsXCI6IHByb3BzLmkxOG4oJ2Nsb3NlTW9kYWwnKSxcbiAgICB0aXRsZTogcHJvcHMuaTE4bignY2xvc2VNb2RhbCcpLFxuICAgIG9uQ2xpY2s6IHByb3BzLmNsb3NlTW9kYWxcbiAgfSwgaChcInNwYW5cIiwge1xuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCJcbiAgfSwgXCJcXHhEN1wiKSkgOiBudWxsLCBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtaW5uZXJXcmFwXCJcbiAgfSwgaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLWRyb3BGaWxlc0hlcmVIaW50XCJcbiAgfSwgcHJvcHMuaTE4bignZHJvcEhpbnQnKSksIHNob3dGaWxlTGlzdCAmJiBoKFBhbmVsVG9wQmFyLCBwcm9wcyksIG51bWJlck9mRmlsZXNGb3JSZWNvdmVyeSAmJiBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtc2VydmljZU1zZ1wiXG4gIH0sIGgoXCJzdmdcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1zZXJ2aWNlTXNnLWljb25cIixcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgIHdpZHRoOiBcIjIxXCIsXG4gICAgaGVpZ2h0OiBcIjE2XCIsXG4gICAgdmlld0JveDogXCIwIDAgMjQgMTlcIlxuICB9LCBoKFwiZ1wiLCB7XG4gICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgwIC0xKVwiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICB9LCBoKFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTIuODU3IDEuNDNsMTAuMjM0IDE3LjA1NkExIDEgMCAwMTIyLjIzNCAyMEgxLjc2NmExIDEgMCAwMS0uODU3LTEuNTE0TDExLjE0MyAxLjQyOWExIDEgMCAwMTEuNzE0IDB6XCIsXG4gICAgZmlsbDogXCIjRkZEMzAwXCJcbiAgfSksIGgoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIiMwMDBcIixcbiAgICBkOiBcIk0xMSA2aDJsLS4zIDhoLTEuNHpcIlxuICB9KSwgaChcImNpcmNsZVwiLCB7XG4gICAgZmlsbDogXCIjMDAwXCIsXG4gICAgY3g6IFwiMTJcIixcbiAgICBjeTogXCIxN1wiLFxuICAgIHI6IFwiMVwiXG4gIH0pKSksIGgoXCJzdHJvbmdcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1zZXJ2aWNlTXNnLXRpdGxlXCJcbiAgfSwgcHJvcHMuaTE4bignc2Vzc2lvblJlc3RvcmVkJykpLCBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtc2VydmljZU1zZy10ZXh0XCJcbiAgfSwgcmVuZGVyUmVzdG9yZWRUZXh0KCkpKSwgc2hvd0ZpbGVMaXN0ID8gaChGaWxlTGlzdCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvanN4LXByb3BzLW5vLXNwcmVhZGluZ1xuICAsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgIHNpbmdsZUZpbGU6IHNpbmdsZUZpbGUsXG4gICAgaXRlbXNQZXJSb3c6IGl0ZW1zUGVyUm93XG4gIH0pKSA6IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9qc3gtcHJvcHMtbm8tc3ByZWFkaW5nXG4gIGgoQWRkRmlsZXMsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgIGlzU2l6ZU1EOiBpc1NpemVNRFxuICB9KSksIGgoU2xpZGUsIG51bGwsIHByb3BzLnNob3dBZGRGaWxlc1BhbmVsID8gaChBZGRGaWxlc1BhbmVsLCBfZXh0ZW5kcyh7XG4gICAga2V5OiBcIkFkZEZpbGVzXCJcbiAgfSwgcHJvcHMsIHtcbiAgICBpc1NpemVNRDogaXNTaXplTURcbiAgfSkpIDogbnVsbCksIGgoU2xpZGUsIG51bGwsIHByb3BzLmZpbGVDYXJkRm9yID8gaChGaWxlQ2FyZCwgX2V4dGVuZHMoe1xuICAgIGtleTogXCJGaWxlQ2FyZFwiXG4gIH0sIHByb3BzKSkgOiBudWxsKSwgaChTbGlkZSwgbnVsbCwgcHJvcHMuYWN0aXZlUGlja2VyUGFuZWwgPyBoKFBpY2tlclBhbmVsQ29udGVudCwgX2V4dGVuZHMoe1xuICAgIGtleTogXCJQaWNrZXJcIlxuICB9LCBwcm9wcykpIDogbnVsbCksIGgoU2xpZGUsIG51bGwsIHByb3BzLnNob3dGaWxlRWRpdG9yID8gaChFZGl0b3JQYW5lbCwgX2V4dGVuZHMoe1xuICAgIGtleTogXCJFZGl0b3JcIlxuICB9LCBwcm9wcykpIDogbnVsbCksIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1wcm9ncmVzc2luZGljYXRvcnNcIlxuICB9LCBwcm9wcy5wcm9ncmVzc2luZGljYXRvcnMubWFwKHRhcmdldCA9PiB7XG4gICAgcmV0dXJuIHByb3BzLnVwcHkuZ2V0UGx1Z2luKHRhcmdldC5pZCkucmVuZGVyKHByb3BzLnN0YXRlKTtcbiAgfSkpKSkpO1xuICByZXR1cm4gZGFzaGJvYXJkO1xufSIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmZ1bmN0aW9uIEVkaXRvclBhbmVsKHByb3BzKSB7XG4gIGNvbnN0IGZpbGUgPSBwcm9wcy5maWxlc1twcm9wcy5maWxlQ2FyZEZvcl07XG4gIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoJ3VwcHktRGFzaGJvYXJkQ29udGVudC1wYW5lbCcsIHByb3BzLmNsYXNzTmFtZSksXG4gICAgcm9sZTogXCJ0YWJwYW5lbFwiLFxuICAgIFwiZGF0YS11cHB5LXBhbmVsVHlwZVwiOiBcIkZpbGVFZGl0b3JcIixcbiAgICBpZDogXCJ1cHB5LURhc2hib2FyZENvbnRlbnQtcGFuZWwtLWVkaXRvclwiXG4gIH0sIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZENvbnRlbnQtYmFyXCJcbiAgfSwgaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkQ29udGVudC10aXRsZVwiLFxuICAgIHJvbGU6IFwiaGVhZGluZ1wiLFxuICAgIFwiYXJpYS1sZXZlbFwiOiBcIjFcIlxuICB9LCBwcm9wcy5pMThuQXJyYXkoJ2VkaXRpbmcnLCB7XG4gICAgZmlsZTogaChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkQ29udGVudC10aXRsZUZpbGVcIlxuICAgIH0sIGZpbGUubWV0YSA/IGZpbGUubWV0YS5uYW1lIDogZmlsZS5uYW1lKVxuICB9KSksIGgoXCJidXR0b25cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZENvbnRlbnQtYmFja1wiLFxuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgb25DbGljazogcHJvcHMuaGlkZUFsbFBhbmVsc1xuICB9LCBwcm9wcy5pMThuKCdjYW5jZWwnKSksIGgoXCJidXR0b25cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZENvbnRlbnQtc2F2ZVwiLFxuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgb25DbGljazogcHJvcHMuc2F2ZUZpbGVFZGl0b3JcbiAgfSwgcHJvcHMuaTE4bignc2F2ZScpKSksIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZENvbnRlbnQtcGFuZWxCb2R5XCJcbiAgfSwgcHJvcHMuZWRpdG9ycy5tYXAodGFyZ2V0ID0+IHtcbiAgICByZXR1cm4gcHJvcHMudXBweS5nZXRQbHVnaW4odGFyZ2V0LmlkKS5yZW5kZXIocHJvcHMuc3RhdGUpO1xuICB9KSkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBFZGl0b3JQYW5lbDsiLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlbmRlck1ldGFGaWVsZHMocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGNvbXB1dGVkTWV0YUZpZWxkcyxcbiAgICByZXF1aXJlZE1ldGFGaWVsZHMsXG4gICAgdXBkYXRlTWV0YSxcbiAgICBmb3JtLFxuICAgIGZvcm1TdGF0ZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGZpZWxkQ1NTQ2xhc3NlcyA9IHtcbiAgICB0ZXh0OiAndXBweS11LXJlc2V0IHVwcHktYy10ZXh0SW5wdXQgdXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtaW5wdXQnXG4gIH07XG4gIHJldHVybiBjb21wdXRlZE1ldGFGaWVsZHMubWFwKGZpZWxkID0+IHtcbiAgICBjb25zdCBpZCA9IGB1cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1pbnB1dC0ke2ZpZWxkLmlkfWA7XG4gICAgY29uc3QgcmVxdWlyZWQgPSByZXF1aXJlZE1ldGFGaWVsZHMuaW5jbHVkZXMoZmllbGQuaWQpO1xuICAgIHJldHVybiBoKFwiZmllbGRzZXRcIiwge1xuICAgICAga2V5OiBmaWVsZC5pZCxcbiAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1maWVsZHNldFwiXG4gICAgfSwgaChcImxhYmVsXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1sYWJlbFwiLFxuICAgICAgaHRtbEZvcjogaWRcbiAgICB9LCBmaWVsZC5uYW1lKSwgZmllbGQucmVuZGVyICE9PSB1bmRlZmluZWQgPyBmaWVsZC5yZW5kZXIoe1xuICAgICAgdmFsdWU6IGZvcm1TdGF0ZVtmaWVsZC5pZF0sXG4gICAgICBvbkNoYW5nZTogbmV3VmFsID0+IHVwZGF0ZU1ldGEobmV3VmFsLCBmaWVsZC5pZCksXG4gICAgICBmaWVsZENTU0NsYXNzZXMsXG4gICAgICByZXF1aXJlZCxcbiAgICAgIGZvcm06IGZvcm0uaWRcbiAgICB9LCBoKSA6IGgoXCJpbnB1dFwiLCB7XG4gICAgICBjbGFzc05hbWU6IGZpZWxkQ1NTQ2xhc3Nlcy50ZXh0LFxuICAgICAgaWQ6IGlkLFxuICAgICAgZm9ybTogZm9ybS5pZCxcbiAgICAgIHR5cGU6IGZpZWxkLnR5cGUgfHwgJ3RleHQnLFxuICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLFxuICAgICAgdmFsdWU6IGZvcm1TdGF0ZVtmaWVsZC5pZF0sXG4gICAgICBwbGFjZWhvbGRlcjogZmllbGQucGxhY2Vob2xkZXIsXG4gICAgICBvbklucHV0OiBldiA9PiB1cGRhdGVNZXRhKGV2LnRhcmdldC52YWx1ZSwgZmllbGQuaWQpLFxuICAgICAgXCJkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXCI6IHRydWVcbiAgICB9KSk7XG4gIH0pO1xufSIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBuYW5vaWQgfSBmcm9tICduYW5vaWQvbm9uLXNlY3VyZSc7XG5pbXBvcnQgZ2V0RmlsZVR5cGVJY29uIGZyb20gXCIuLi8uLi91dGlscy9nZXRGaWxlVHlwZUljb24uanNcIjtcbmltcG9ydCBpZ25vcmVFdmVudCBmcm9tICcuLi8uLi91dGlscy9pZ25vcmVFdmVudC5qcyc7XG5pbXBvcnQgRmlsZVByZXZpZXcgZnJvbSBcIi4uL0ZpbGVQcmV2aWV3LmpzXCI7XG5pbXBvcnQgUmVuZGVyTWV0YUZpZWxkcyBmcm9tIFwiLi9SZW5kZXJNZXRhRmllbGRzLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBGaWxlQ2FyZChwcm9wcykge1xuICB2YXIgX2dldE1ldGFGaWVsZHM7XG5cbiAgY29uc3Qge1xuICAgIHVwcHksXG4gICAgZmlsZXMsXG4gICAgZmlsZUNhcmRGb3IsXG4gICAgdG9nZ2xlRmlsZUNhcmQsXG4gICAgc2F2ZUZpbGVDYXJkLFxuICAgIG1ldGFGaWVsZHMsXG4gICAgcmVxdWlyZWRNZXRhRmllbGRzLFxuICAgIG9wZW5GaWxlRWRpdG9yLFxuICAgIGkxOG4sXG4gICAgaTE4bkFycmF5LFxuICAgIGNsYXNzTmFtZSxcbiAgICBjYW5FZGl0RmlsZVxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgZ2V0TWV0YUZpZWxkcyA9ICgpID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIG1ldGFGaWVsZHMgPT09ICdmdW5jdGlvbicgPyBtZXRhRmllbGRzKGZpbGVzW2ZpbGVDYXJkRm9yXSkgOiBtZXRhRmllbGRzO1xuICB9O1xuXG4gIGNvbnN0IGZpbGUgPSBmaWxlc1tmaWxlQ2FyZEZvcl07XG4gIGNvbnN0IGNvbXB1dGVkTWV0YUZpZWxkcyA9IChfZ2V0TWV0YUZpZWxkcyA9IGdldE1ldGFGaWVsZHMoKSkgIT0gbnVsbCA/IF9nZXRNZXRhRmllbGRzIDogW107XG4gIGNvbnN0IHNob3dFZGl0QnV0dG9uID0gY2FuRWRpdEZpbGUoZmlsZSk7XG4gIGNvbnN0IHN0b3JlZE1ldGFEYXRhID0ge307XG4gIGNvbXB1dGVkTWV0YUZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICB2YXIgX2ZpbGUkbWV0YSRmaWVsZCRpZDtcblxuICAgIHN0b3JlZE1ldGFEYXRhW2ZpZWxkLmlkXSA9IChfZmlsZSRtZXRhJGZpZWxkJGlkID0gZmlsZS5tZXRhW2ZpZWxkLmlkXSkgIT0gbnVsbCA/IF9maWxlJG1ldGEkZmllbGQkaWQgOiAnJztcbiAgfSk7XG4gIGNvbnN0IFtmb3JtU3RhdGUsIHNldEZvcm1TdGF0ZV0gPSB1c2VTdGF0ZShzdG9yZWRNZXRhRGF0YSk7XG4gIGNvbnN0IGhhbmRsZVNhdmUgPSB1c2VDYWxsYmFjayhldiA9PiB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBzYXZlRmlsZUNhcmQoZm9ybVN0YXRlLCBmaWxlQ2FyZEZvcik7XG4gIH0sIFtzYXZlRmlsZUNhcmQsIGZvcm1TdGF0ZSwgZmlsZUNhcmRGb3JdKTtcblxuICBjb25zdCB1cGRhdGVNZXRhID0gKG5ld1ZhbCwgbmFtZSkgPT4ge1xuICAgIHNldEZvcm1TdGF0ZSh7XG4gICAgICBbbmFtZV06IG5ld1ZhbFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcbiAgICB1cHB5LmVtaXQoJ2ZpbGUtZWRpdG9yOmNhbmNlbCcsIGZpbGUpO1xuICAgIHRvZ2dsZUZpbGVDYXJkKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBbZm9ybV0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgY29uc3QgZm9ybUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgIGZvcm1FbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgZm9ybUVsLmlkID0gbmFub2lkKCk7XG4gICAgcmV0dXJuIGZvcm1FbDtcbiAgfSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtKTtcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZVNhdmUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBmb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZVNhdmUpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChmb3JtKTtcbiAgICB9O1xuICB9LCBbZm9ybSwgaGFuZGxlU2F2ZV0pO1xuICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKCd1cHB5LURhc2hib2FyZC1GaWxlQ2FyZCcsIGNsYXNzTmFtZSksXG4gICAgXCJkYXRhLXVwcHktcGFuZWxUeXBlXCI6IFwiRmlsZUNhcmRcIixcbiAgICBvbkRyYWdPdmVyOiBpZ25vcmVFdmVudCxcbiAgICBvbkRyYWdMZWF2ZTogaWdub3JlRXZlbnQsXG4gICAgb25Ecm9wOiBpZ25vcmVFdmVudCxcbiAgICBvblBhc3RlOiBpZ25vcmVFdmVudFxuICB9LCBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmRDb250ZW50LWJhclwiXG4gIH0sIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZENvbnRlbnQtdGl0bGVcIixcbiAgICByb2xlOiBcImhlYWRpbmdcIixcbiAgICBcImFyaWEtbGV2ZWxcIjogXCIxXCJcbiAgfSwgaTE4bkFycmF5KCdlZGl0aW5nJywge1xuICAgIGZpbGU6IGgoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZENvbnRlbnQtdGl0bGVGaWxlXCJcbiAgICB9LCBmaWxlLm1ldGEgPyBmaWxlLm1ldGEubmFtZSA6IGZpbGUubmFtZSlcbiAgfSkpLCBoKFwiYnV0dG9uXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmRDb250ZW50LWJhY2tcIixcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGZvcm06IGZvcm0uaWQsXG4gICAgdGl0bGU6IGkxOG4oJ2ZpbmlzaEVkaXRpbmdGaWxlJyksXG4gICAgb25DbGljazogaGFuZGxlQ2FuY2VsXG4gIH0sIGkxOG4oJ2NhbmNlbCcpKSksIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1pbm5lclwiXG4gIH0sIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1wcmV2aWV3XCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogZ2V0RmlsZVR5cGVJY29uKGZpbGUudHlwZSkuY29sb3JcbiAgICB9XG4gIH0sIGgoRmlsZVByZXZpZXcsIHtcbiAgICBmaWxlOiBmaWxlXG4gIH0pLCBzaG93RWRpdEJ1dHRvbiAmJiBoKFwiYnV0dG9uXCIsIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzTmFtZTogXCJ1cHB5LXUtcmVzZXQgdXBweS1jLWJ0biB1cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1lZGl0XCIsXG4gICAgb25DbGljazogZXZlbnQgPT4ge1xuICAgICAgLy8gV2hlbiBvcGVuaW5nIHRoZSBpbWFnZSBlZGl0b3Igd2Ugd2FudCB0byBzYXZlIGFueSBtZXRhIGZpZWxkcyBjaGFuZ2VzLlxuICAgICAgLy8gT3RoZXJ3aXNlIGl0J3MgY29uZnVzaW5nIGZvciB0aGUgdXNlciB0byBjbGljayBzYXZlIGluIHRoZSBlZGl0b3IsXG4gICAgICAvLyBidXQgdGhlIGNoYW5nZXMgaGVyZSBhcmUgZGlzY2FyZGVkLiBUaGlzIGJ5cGFzc2VzIHZhbGlkYXRpb24sXG4gICAgICAvLyBidXQgd2UgYXJlIG9rYXkgd2l0aCB0aGF0LlxuICAgICAgaGFuZGxlU2F2ZShldmVudCk7XG4gICAgICBvcGVuRmlsZUVkaXRvcihmaWxlKTtcbiAgICB9XG4gIH0sIGkxOG4oJ2VkaXRGaWxlJykpKSwgaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLUZpbGVDYXJkLWluZm9cIlxuICB9LCBoKFJlbmRlck1ldGFGaWVsZHMsIHtcbiAgICBjb21wdXRlZE1ldGFGaWVsZHM6IGNvbXB1dGVkTWV0YUZpZWxkcyxcbiAgICByZXF1aXJlZE1ldGFGaWVsZHM6IHJlcXVpcmVkTWV0YUZpZWxkcyxcbiAgICB1cGRhdGVNZXRhOiB1cGRhdGVNZXRhLFxuICAgIGZvcm06IGZvcm0sXG4gICAgZm9ybVN0YXRlOiBmb3JtU3RhdGVcbiAgfSkpLCBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtYWN0aW9uc1wiXG4gIH0sIGgoXCJidXR0b25cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LXUtcmVzZXQgdXBweS1jLWJ0biB1cHB5LWMtYnRuLXByaW1hcnkgdXBweS1EYXNoYm9hcmQtRmlsZUNhcmQtYWN0aW9uc0J0blwiIC8vIElmIGBmb3JtYCBhdHRyaWJ1dGUgaXMgc3VwcG9ydGVkLCB3ZSB3YW50IGEgc3VibWl0IGJ1dHRvbiB0byB0cmlnZ2VyIHRoZSBmb3JtIHZhbGlkYXRpb24uXG4gICAgLy8gT3RoZXJ3aXNlLCBmYWxsYmFjayB0byBhIGNsYXNzaWMgYnV0dG9uIHdpdGggYSBvbkNsaWNrIGV2ZW50IGhhbmRsZXIuXG4gICAgLFxuICAgIHR5cGU6IFwic3VibWl0XCIsXG4gICAgZm9ybTogZm9ybS5pZFxuICB9LCBpMThuKCdzYXZlQ2hhbmdlcycpKSwgaChcImJ1dHRvblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LWMtYnRuIHVwcHktYy1idG4tbGluayB1cHB5LURhc2hib2FyZC1GaWxlQ2FyZC1hY3Rpb25zQnRuXCIsXG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBvbkNsaWNrOiBoYW5kbGVDYW5jZWwsXG4gICAgZm9ybTogZm9ybS5pZFxuICB9LCBpMThuKCdjYW5jZWwnKSkpKSk7XG59IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgY29weVRvQ2xpcGJvYXJkIGZyb20gJy4uLy4uLy4uL3V0aWxzL2NvcHlUb0NsaXBib2FyZC5qcyc7XG5cbmZ1bmN0aW9uIEVkaXRCdXR0b24oX3JlZikge1xuICBsZXQge1xuICAgIGZpbGUsXG4gICAgdXBsb2FkSW5Qcm9ncmVzc09yQ29tcGxldGUsXG4gICAgbWV0YUZpZWxkcyxcbiAgICBjYW5FZGl0RmlsZSxcbiAgICBpMThuLFxuICAgIG9uQ2xpY2tcbiAgfSA9IF9yZWY7XG5cbiAgaWYgKCF1cGxvYWRJblByb2dyZXNzT3JDb21wbGV0ZSAmJiBtZXRhRmllbGRzICYmIG1ldGFGaWVsZHMubGVuZ3RoID4gMCB8fCAhdXBsb2FkSW5Qcm9ncmVzc09yQ29tcGxldGUgJiYgY2FuRWRpdEZpbGUoZmlsZSkpIHtcbiAgICByZXR1cm4gaChcImJ1dHRvblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG4gdXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb24gdXBweS1EYXNoYm9hcmQtSXRlbS1hY3Rpb24tLWVkaXRcIixcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBcImFyaWEtbGFiZWxcIjogaTE4bignZWRpdEZpbGVXaXRoRmlsZW5hbWUnLCB7XG4gICAgICAgIGZpbGU6IGZpbGUubWV0YS5uYW1lXG4gICAgICB9KSxcbiAgICAgIHRpdGxlOiBpMThuKCdlZGl0RmlsZVdpdGhGaWxlbmFtZScsIHtcbiAgICAgICAgZmlsZTogZmlsZS5tZXRhLm5hbWVcbiAgICAgIH0pLFxuICAgICAgb25DbGljazogKCkgPT4gb25DbGljaygpXG4gICAgfSwgaChcInN2Z1wiLCB7XG4gICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgICBjbGFzc05hbWU6IFwidXBweS1jLWljb25cIixcbiAgICAgIHdpZHRoOiBcIjE0XCIsXG4gICAgICBoZWlnaHQ6IFwiMTRcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgICB9LCBoKFwiZ1wiLCB7XG4gICAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgICB9LCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0xLjUgMTAuNzkzaDIuNzkzQTEgMSAwIDAgMCA1IDEwLjVMMTEuNSA0YTEgMSAwIDAgMCAwLTEuNDE0TDkuNzA3Ljc5M2ExIDEgMCAwIDAtMS40MTQgMGwtNi41IDYuNUExIDEgMCAwIDAgMS41IDh2Mi43OTN6bTEtMVY4TDkgMS41bDEuNzkzIDEuNzkzLTYuNSA2LjVIMi41elwiLFxuICAgICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiXG4gICAgfSksIGgoXCJyZWN0XCIsIHtcbiAgICAgIHg6IFwiMVwiLFxuICAgICAgeTogXCIxMi4yOTNcIixcbiAgICAgIHdpZHRoOiBcIjExXCIsXG4gICAgICBoZWlnaHQ6IFwiMVwiLFxuICAgICAgcng6IFwiLjVcIlxuICAgIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgICBmaWxsUnVsZTogXCJub256ZXJvXCIsXG4gICAgICBkOiBcIk02Ljc5MyAyLjVMOS41IDUuMjA3bC43MDctLjcwN0w3LjUgMS43OTN6XCJcbiAgICB9KSkpKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBSZW1vdmVCdXR0b24oX3JlZjIpIHtcbiAgbGV0IHtcbiAgICBpMThuLFxuICAgIG9uQ2xpY2ssXG4gICAgZmlsZVxuICB9ID0gX3JlZjI7XG4gIHJldHVybiBoKFwiYnV0dG9uXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uIHVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uLS1yZW1vdmVcIixcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBpMThuKCdyZW1vdmVGaWxlJywge1xuICAgICAgZmlsZTogZmlsZS5tZXRhLm5hbWVcbiAgICB9KSxcbiAgICB0aXRsZTogaTE4bigncmVtb3ZlRmlsZScsIHtcbiAgICAgIGZpbGU6IGZpbGUubWV0YS5uYW1lXG4gICAgfSksXG4gICAgb25DbGljazogKCkgPT4gb25DbGljaygpXG4gIH0sIGgoXCJzdmdcIiwge1xuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uXCIsXG4gICAgd2lkdGg6IFwiMThcIixcbiAgICBoZWlnaHQ6IFwiMThcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxOCAxOFwiXG4gIH0sIGgoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk05IDBDNC4wMzQgMCAwIDQuMDM0IDAgOXM0LjAzNCA5IDkgOSA5LTQuMDM0IDktOS00LjAzNC05LTktOXpcIlxuICB9KSwgaChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiI0ZGRlwiLFxuICAgIGQ6IFwiTTEzIDEyLjIyMmwtLjc3OC43NzhMOSA5Ljc3OCA1Ljc3OCAxMyA1IDEyLjIyMiA4LjIyMiA5IDUgNS43NzggNS43NzggNSA5IDguMjIyIDEyLjIyMiA1bC43NzguNzc4TDkuNzc4IDl6XCJcbiAgfSkpKTtcbn1cblxuY29uc3QgY29weUxpbmtUb0NsaXBib2FyZCA9IChldmVudCwgcHJvcHMpID0+IHtcbiAgY29weVRvQ2xpcGJvYXJkKHByb3BzLmZpbGUudXBsb2FkVVJMLCBwcm9wcy5pMThuKCdjb3B5TGlua1RvQ2xpcGJvYXJkRmFsbGJhY2snKSkudGhlbigoKSA9PiB7XG4gICAgcHJvcHMudXBweS5sb2coJ0xpbmsgY29waWVkIHRvIGNsaXBib2FyZC4nKTtcbiAgICBwcm9wcy51cHB5LmluZm8ocHJvcHMuaTE4bignY29weUxpbmtUb0NsaXBib2FyZFN1Y2Nlc3MnKSwgJ2luZm8nLCAzMDAwKTtcbiAgfSkuY2F0Y2gocHJvcHMudXBweS5sb2cpIC8vIGF2b2lkIGxvc2luZyBmb2N1c1xuICAudGhlbigoKSA9PiBldmVudC50YXJnZXQuZm9jdXMoe1xuICAgIHByZXZlbnRTY3JvbGw6IHRydWVcbiAgfSkpO1xufTtcblxuZnVuY3Rpb24gQ29weUxpbmtCdXR0b24ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGkxOG5cbiAgfSA9IHByb3BzO1xuICByZXR1cm4gaChcImJ1dHRvblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbiB1cHB5LURhc2hib2FyZC1JdGVtLWFjdGlvbi0tY29weUxpbmtcIixcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBpMThuKCdjb3B5TGluaycpLFxuICAgIHRpdGxlOiBpMThuKCdjb3B5TGluaycpLFxuICAgIG9uQ2xpY2s6IGV2ZW50ID0+IGNvcHlMaW5rVG9DbGlwYm9hcmQoZXZlbnQsIHByb3BzKVxuICB9LCBoKFwic3ZnXCIsIHtcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgIGNsYXNzTmFtZTogXCJ1cHB5LWMtaWNvblwiLFxuICAgIHdpZHRoOiBcIjE0XCIsXG4gICAgaGVpZ2h0OiBcIjE0XCIsXG4gICAgdmlld0JveDogXCIwIDAgMTQgMTJcIlxuICB9LCBoKFwicGF0aFwiLCB7XG4gICAgZDogXCJNNy45NCA3LjcwM2EyLjYxMyAyLjYxMyAwIDAgMS0uNjI2IDIuNjgxbC0uODUyLjg1MWEyLjU5NyAyLjU5NyAwIDAgMS0xLjg0OS43NjZBMi42MTYgMi42MTYgMCAwIDEgMi43NjQgNy41NGwuODUyLS44NTJhMi41OTYgMi41OTYgMCAwIDEgMi42OS0uNjI1TDUuMjY3IDcuMDk5YTEuNDQgMS40NCAwIDAgMC0uODMzLjQwN2wtLjg1Mi44NTFhMS40NTggMS40NTggMCAwIDAgMS4wMyAyLjQ4NmMuMzkgMCAuNzU1LS4xNTIgMS4wMy0uNDI2bC44NTItLjg1MmMuMjMxLS4yMzEuMzYzLS41MjIuNDA2LS44MjRsMS4wNC0xLjAzOHptNC4yOTUtNS45MzdBMi41OTYgMi41OTYgMCAwIDAgMTAuMzg3IDFjLS42OTggMC0xLjM1NS4yNzItMS44NDkuNzY2bC0uODUyLjg1MWEyLjYxNCAyLjYxNCAwIDAgMC0uNjI0IDIuNjg4bDEuMDM2LTEuMDM2Yy4wNDEtLjMwNC4xNzMtLjYuNDA3LS44MzNsLjg1Mi0uODUyYy4yNzUtLjI3NS42NC0uNDI2IDEuMDMtLjQyNmExLjQ1OCAxLjQ1OCAwIDAgMSAxLjAzIDIuNDg2bC0uODUyLjg1MWExLjQ0MiAxLjQ0MiAwIDAgMS0uODI0LjQwNmwtMS4wNCAxLjA0YTIuNTk2IDIuNTk2IDAgMCAwIDIuNjgzLS42MjhsLjg1MS0uODVhMi42MTYgMi42MTYgMCAwIDAgMC0zLjY5N3ptLTYuODggNi44ODNhLjU3Ny41NzcgMCAwIDAgLjgyIDBsMy40NzQtMy40NzRhLjU3OS41NzkgMCAxIDAtLjgxOS0uODJMNS4zNTUgNy44M2EuNTc5LjU3OSAwIDAgMCAwIC44MTl6XCJcbiAgfSkpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQnV0dG9ucyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgdXBweSxcbiAgICBmaWxlLFxuICAgIHVwbG9hZEluUHJvZ3Jlc3NPckNvbXBsZXRlLFxuICAgIGNhbkVkaXRGaWxlLFxuICAgIG1ldGFGaWVsZHMsXG4gICAgc2hvd0xpbmtUb0ZpbGVVcGxvYWRSZXN1bHQsXG4gICAgc2hvd1JlbW92ZUJ1dHRvbixcbiAgICBpMThuLFxuICAgIHRvZ2dsZUZpbGVDYXJkLFxuICAgIG9wZW5GaWxlRWRpdG9yXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBlZGl0QWN0aW9uID0gKCkgPT4ge1xuICAgIGlmIChtZXRhRmllbGRzICYmIG1ldGFGaWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgdG9nZ2xlRmlsZUNhcmQodHJ1ZSwgZmlsZS5pZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wZW5GaWxlRWRpdG9yKGZpbGUpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLUl0ZW0tYWN0aW9uV3JhcHBlclwiXG4gIH0sIGgoRWRpdEJ1dHRvbiwge1xuICAgIGkxOG46IGkxOG4sXG4gICAgZmlsZTogZmlsZSxcbiAgICB1cGxvYWRJblByb2dyZXNzT3JDb21wbGV0ZTogdXBsb2FkSW5Qcm9ncmVzc09yQ29tcGxldGUsXG4gICAgY2FuRWRpdEZpbGU6IGNhbkVkaXRGaWxlLFxuICAgIG1ldGFGaWVsZHM6IG1ldGFGaWVsZHMsXG4gICAgb25DbGljazogZWRpdEFjdGlvblxuICB9KSwgc2hvd0xpbmtUb0ZpbGVVcGxvYWRSZXN1bHQgJiYgZmlsZS51cGxvYWRVUkwgPyBoKENvcHlMaW5rQnV0dG9uLCB7XG4gICAgZmlsZTogZmlsZSxcbiAgICB1cHB5OiB1cHB5LFxuICAgIGkxOG46IGkxOG5cbiAgfSkgOiBudWxsLCBzaG93UmVtb3ZlQnV0dG9uID8gaChSZW1vdmVCdXR0b24sIHtcbiAgICBpMThuOiBpMThuLFxuICAgIGZpbGU6IGZpbGUsXG4gICAgdXBweTogdXBweSxcbiAgICBvbkNsaWNrOiAoKSA9PiBwcm9wcy51cHB5LnJlbW92ZUZpbGUoZmlsZS5pZCwgJ3JlbW92ZWQtYnktdXNlcicpXG4gIH0pIDogbnVsbCk7XG59IiwiaW1wb3J0IHsgaCwgRnJhZ21lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHByZXR0aWVyQnl0ZXMgZnJvbSAnQHRyYW5zbG9hZGl0L3ByZXR0aWVyLWJ5dGVzJztcbmltcG9ydCB0cnVuY2F0ZVN0cmluZyBmcm9tICdAdXBweS91dGlscy9saWIvdHJ1bmNhdGVTdHJpbmcnO1xuaW1wb3J0IE1ldGFFcnJvck1lc3NhZ2UgZnJvbSBcIi4uL01ldGFFcnJvck1lc3NhZ2UuanNcIjtcblxuY29uc3QgcmVuZGVyRmlsZU5hbWUgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBhdXRob3IsXG4gICAgbmFtZVxuICB9ID0gcHJvcHMuZmlsZS5tZXRhO1xuXG4gIGZ1bmN0aW9uIGdldE1heE5hbWVMZW5ndGgoKSB7XG4gICAgaWYgKHByb3BzLnNpbmdsZUZpbGUpIHtcbiAgICAgIHJldHVybiAyMDA7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmNvbnRhaW5lcldpZHRoIDw9IDM1Mikge1xuICAgICAgcmV0dXJuIDM1O1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5jb250YWluZXJXaWR0aCA8PSA1NzYpIHtcbiAgICAgIHJldHVybiA2MDtcbiAgICB9IC8vIFdoZW4gYGF1dGhvcmAgaXMgcHJlc2VudCwgd2Ugd2FudCB0byBtYWtlIHN1cmVcbiAgICAvLyB0aGUgZmlsZSBuYW1lIGZpdHMgb24gb25lIGxpbmUgc28gd2UgY2FuIHBsYWNlXG4gICAgLy8gdGhlIGF1dGhvciBvbiB0aGUgc2Vjb25kIGxpbmUuXG5cblxuICAgIHJldHVybiBhdXRob3IgPyAyMCA6IDMwO1xuICB9XG5cbiAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1JdGVtLW5hbWVcIixcbiAgICB0aXRsZTogbmFtZVxuICB9LCB0cnVuY2F0ZVN0cmluZyhuYW1lLCBnZXRNYXhOYW1lTGVuZ3RoKCkpKTtcbn07XG5cbmNvbnN0IHJlbmRlckF1dGhvciA9IHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIGF1dGhvclxuICB9ID0gcHJvcHMuZmlsZS5tZXRhO1xuICBjb25zdCB7XG4gICAgcHJvdmlkZXJOYW1lXG4gIH0gPSBwcm9wcy5maWxlLnJlbW90ZTtcbiAgY29uc3QgZG90ID0gYFxcdTAwQjdgO1xuXG4gIGlmICghYXV0aG9yKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLUl0ZW0tYXV0aG9yXCJcbiAgfSwgaChcImFcIiwge1xuICAgIGhyZWY6IGAke2F1dGhvci51cmx9P3V0bV9zb3VyY2U9Q29tcGFuaW9uJnV0bV9tZWRpdW09cmVmZXJyYWxgLFxuICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gIH0sIHRydW5jYXRlU3RyaW5nKGF1dGhvci5uYW1lLCAxMykpLCBwcm92aWRlck5hbWUgPyBoKEZyYWdtZW50LCBudWxsLCBgICR7ZG90fSBgLCBwcm92aWRlck5hbWUsIGAgJHtkb3R9IGApIDogbnVsbCk7XG59O1xuXG5jb25zdCByZW5kZXJGaWxlU2l6ZSA9IHByb3BzID0+IHByb3BzLmZpbGUuc2l6ZSAmJiBoKFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLUl0ZW0tc3RhdHVzU2l6ZVwiXG59LCBwcmV0dGllckJ5dGVzKHByb3BzLmZpbGUuc2l6ZSkpO1xuXG5jb25zdCBSZVNlbGVjdEJ1dHRvbiA9IHByb3BzID0+IHByb3BzLmZpbGUuaXNHaG9zdCAmJiBoKFwic3BhblwiLCBudWxsLCAnIFxcdTIwMjIgJywgaChcImJ1dHRvblwiLCB7XG4gIGNsYXNzTmFtZTogXCJ1cHB5LXUtcmVzZXQgdXBweS1jLWJ0biB1cHB5LURhc2hib2FyZC1JdGVtLXJlU2VsZWN0XCIsXG4gIHR5cGU6IFwiYnV0dG9uXCIsXG4gIG9uQ2xpY2s6IHByb3BzLnRvZ2dsZUFkZEZpbGVzUGFuZWxcbn0sIHByb3BzLmkxOG4oJ3JlU2VsZWN0JykpKTtcblxuY29uc3QgRXJyb3JCdXR0b24gPSBfcmVmID0+IHtcbiAgbGV0IHtcbiAgICBmaWxlLFxuICAgIG9uQ2xpY2tcbiAgfSA9IF9yZWY7XG5cbiAgaWYgKGZpbGUuZXJyb3IpIHtcbiAgICByZXR1cm4gaChcImJ1dHRvblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG4gdXBweS1EYXNoYm9hcmQtSXRlbS1lcnJvckRldGFpbHNcIixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBmaWxlLmVycm9yLFxuICAgICAgXCJkYXRhLW1pY3JvdGlwLXBvc2l0aW9uXCI6IFwiYm90dG9tXCIsXG4gICAgICBcImRhdGEtbWljcm90aXAtc2l6ZVwiOiBcIm1lZGl1bVwiLFxuICAgICAgb25DbGljazogb25DbGljayxcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgICB9LCBcIj9cIik7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZpbGVJbmZvKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmaWxlXG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1JdGVtLWZpbGVJbmZvXCIsXG4gICAgXCJkYXRhLXVwcHktZmlsZS1zb3VyY2VcIjogZmlsZS5zb3VyY2VcbiAgfSwgaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLUl0ZW0tZmlsZU5hbWVcIlxuICB9LCByZW5kZXJGaWxlTmFtZShwcm9wcyksIGgoRXJyb3JCdXR0b24sIHtcbiAgICBmaWxlOiBwcm9wcy5maWxlIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hbGVydFxuICAgICxcbiAgICBvbkNsaWNrOiAoKSA9PiBhbGVydChwcm9wcy5maWxlLmVycm9yKSAvLyBUT0RPOiBtb3ZlIHRvIGEgY3VzdG9tIGFsZXJ0IGltcGxlbWVudGF0aW9uXG5cbiAgfSkpLCBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtSXRlbS1zdGF0dXNcIlxuICB9LCByZW5kZXJBdXRob3IocHJvcHMpLCByZW5kZXJGaWxlU2l6ZShwcm9wcyksIFJlU2VsZWN0QnV0dG9uKHByb3BzKSksIGgoTWV0YUVycm9yTWVzc2FnZSwge1xuICAgIGZpbGU6IHByb3BzLmZpbGUsXG4gICAgaTE4bjogcHJvcHMuaTE4bixcbiAgICB0b2dnbGVGaWxlQ2FyZDogcHJvcHMudG9nZ2xlRmlsZUNhcmQsXG4gICAgbWV0YUZpZWxkczogcHJvcHMubWV0YUZpZWxkc1xuICB9KSk7XG59IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgRmlsZVByZXZpZXcgZnJvbSBcIi4uLy4uL0ZpbGVQcmV2aWV3LmpzXCI7XG5pbXBvcnQgTWV0YUVycm9yTWVzc2FnZSBmcm9tIFwiLi4vTWV0YUVycm9yTWVzc2FnZS5qc1wiO1xuaW1wb3J0IGdldEZpbGVUeXBlSWNvbiBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvZ2V0RmlsZVR5cGVJY29uLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBGaWxlUHJldmlld0FuZExpbmsocHJvcHMpIHtcbiAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdJbm5lcldyYXBcIixcbiAgICBzdHlsZToge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiBnZXRGaWxlVHlwZUljb24ocHJvcHMuZmlsZS50eXBlKS5jb2xvclxuICAgIH1cbiAgfSwgcHJvcHMuc2hvd0xpbmtUb0ZpbGVVcGxvYWRSZXN1bHQgJiYgcHJvcHMuZmlsZS51cGxvYWRVUkwgJiYgaChcImFcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdMaW5rXCIsXG4gICAgaHJlZjogcHJvcHMuZmlsZS51cGxvYWRVUkwsXG4gICAgcmVsOiBcIm5vcmVmZXJyZXIgbm9vcGVuZXJcIixcbiAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgXCJhcmlhLWxhYmVsXCI6IHByb3BzLmZpbGUubWV0YS5uYW1lXG4gIH0sIGgoXCJzcGFuXCIsIHtcbiAgICBoaWRkZW46IHRydWVcbiAgfSwgcHJvcHMuZmlsZS5tZXRhLm5hbWUpKSwgaChGaWxlUHJldmlldywge1xuICAgIGZpbGU6IHByb3BzLmZpbGVcbiAgfSksIGgoTWV0YUVycm9yTWVzc2FnZSwge1xuICAgIGZpbGU6IHByb3BzLmZpbGUsXG4gICAgaTE4bjogcHJvcHMuaTE4bixcbiAgICB0b2dnbGVGaWxlQ2FyZDogcHJvcHMudG9nZ2xlRmlsZUNhcmQsXG4gICAgbWV0YUZpZWxkczogcHJvcHMubWV0YUZpZWxkc1xuICB9KSk7XG59IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5cbmZ1bmN0aW9uIG9uUGF1c2VSZXN1bWVDYW5jZWxSZXRyeShwcm9wcykge1xuICBpZiAocHJvcHMuaXNVcGxvYWRlZCkgcmV0dXJuO1xuXG4gIGlmIChwcm9wcy5lcnJvciAmJiAhcHJvcHMuaGlkZVJldHJ5QnV0dG9uKSB7XG4gICAgcHJvcHMudXBweS5yZXRyeVVwbG9hZChwcm9wcy5maWxlLmlkKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocHJvcHMucmVzdW1hYmxlVXBsb2FkcyAmJiAhcHJvcHMuaGlkZVBhdXNlUmVzdW1lQnV0dG9uKSB7XG4gICAgcHJvcHMudXBweS5wYXVzZVJlc3VtZShwcm9wcy5maWxlLmlkKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5pbmRpdmlkdWFsQ2FuY2VsbGF0aW9uICYmICFwcm9wcy5oaWRlQ2FuY2VsQnV0dG9uKSB7XG4gICAgcHJvcHMudXBweS5yZW1vdmVGaWxlKHByb3BzLmZpbGUuaWQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb2dyZXNzSW5kaWNhdG9yVGl0bGUocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzVXBsb2FkZWQpIHtcbiAgICByZXR1cm4gcHJvcHMuaTE4bigndXBsb2FkQ29tcGxldGUnKTtcbiAgfVxuXG4gIGlmIChwcm9wcy5lcnJvcikge1xuICAgIHJldHVybiBwcm9wcy5pMThuKCdyZXRyeVVwbG9hZCcpO1xuICB9XG5cbiAgaWYgKHByb3BzLnJlc3VtYWJsZVVwbG9hZHMpIHtcbiAgICBpZiAocHJvcHMuZmlsZS5pc1BhdXNlZCkge1xuICAgICAgcmV0dXJuIHByb3BzLmkxOG4oJ3Jlc3VtZVVwbG9hZCcpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9wcy5pMThuKCdwYXVzZVVwbG9hZCcpO1xuICB9XG5cbiAgaWYgKHByb3BzLmluZGl2aWR1YWxDYW5jZWxsYXRpb24pIHtcbiAgICByZXR1cm4gcHJvcHMuaTE4bignY2FuY2VsVXBsb2FkJyk7XG4gIH1cblxuICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIFByb2dyZXNzSW5kaWNhdG9yQnV0dG9uKHByb3BzKSB7XG4gIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc1wiXG4gIH0sIGgoXCJidXR0b25cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LXUtcmVzZXQgdXBweS1jLWJ0biB1cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSW5kaWNhdG9yXCIsXG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBcImFyaWEtbGFiZWxcIjogcHJvZ3Jlc3NJbmRpY2F0b3JUaXRsZShwcm9wcyksXG4gICAgdGl0bGU6IHByb2dyZXNzSW5kaWNhdG9yVGl0bGUocHJvcHMpLFxuICAgIG9uQ2xpY2s6ICgpID0+IG9uUGF1c2VSZXN1bWVDYW5jZWxSZXRyeShwcm9wcylcbiAgfSwgcHJvcHMuY2hpbGRyZW4pKTtcbn1cblxuZnVuY3Rpb24gUHJvZ3Jlc3NDaXJjbGVDb250YWluZXIoX3JlZikge1xuICBsZXQge1xuICAgIGNoaWxkcmVuXG4gIH0gPSBfcmVmO1xuICByZXR1cm4gaChcInN2Z1wiLCB7XG4gICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICBmb2N1c2FibGU6IFwiZmFsc2VcIixcbiAgICB3aWR0aDogXCI3MFwiLFxuICAgIGhlaWdodDogXCI3MFwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDM2IDM2XCIsXG4gICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uIHVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJY29uLS1jaXJjbGVcIlxuICB9LCBjaGlsZHJlbik7XG59XG5cbmZ1bmN0aW9uIFByb2dyZXNzQ2lyY2xlKF9yZWYyKSB7XG4gIGxldCB7XG4gICAgcHJvZ3Jlc3NcbiAgfSA9IF9yZWYyO1xuICAvLyBjaXJjbGUgbGVuZ3RoIGVxdWFscyAyICogUEkgKiBSXG4gIGNvbnN0IGNpcmNsZUxlbmd0aCA9IDIgKiBNYXRoLlBJICogMTU7XG4gIHJldHVybiBoKFwiZ1wiLCBudWxsLCBoKFwiY2lyY2xlXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0ljb24tLWJnXCIsXG4gICAgcjogXCIxNVwiLFxuICAgIGN4OiBcIjE4XCIsXG4gICAgY3k6IFwiMThcIixcbiAgICBcInN0cm9rZS13aWR0aFwiOiBcIjJcIixcbiAgICBmaWxsOiBcIm5vbmVcIlxuICB9KSwgaChcImNpcmNsZVwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJY29uLS1wcm9ncmVzc1wiLFxuICAgIHI6IFwiMTVcIixcbiAgICBjeDogXCIxOFwiLFxuICAgIGN5OiBcIjE4XCIsXG4gICAgdHJhbnNmb3JtOiBcInJvdGF0ZSgtOTAsIDE4LCAxOClcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBcInN0cm9rZS13aWR0aFwiOiBcIjJcIixcbiAgICBcInN0cm9rZS1kYXNoYXJyYXlcIjogY2lyY2xlTGVuZ3RoLFxuICAgIFwic3Ryb2tlLWRhc2hvZmZzZXRcIjogY2lyY2xlTGVuZ3RoIC0gY2lyY2xlTGVuZ3RoIC8gMTAwICogcHJvZ3Jlc3NcbiAgfSkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBGaWxlUHJvZ3Jlc3MocHJvcHMpIHtcbiAgLy8gTm90aGluZyBpZiB1cGxvYWQgaGFzIG5vdCBzdGFydGVkXG4gIGlmICghcHJvcHMuZmlsZS5wcm9ncmVzcy51cGxvYWRTdGFydGVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gLy8gR3JlZW4gY2hlY2ttYXJrIHdoZW4gY29tcGxldGVcblxuXG4gIGlmIChwcm9wcy5pc1VwbG9hZGVkKSB7XG4gICAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NcIlxuICAgIH0sIGgoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJbmRpY2F0b3JcIlxuICAgIH0sIGgoUHJvZ3Jlc3NDaXJjbGVDb250YWluZXIsIG51bGwsIGgoXCJjaXJjbGVcIiwge1xuICAgICAgcjogXCIxNVwiLFxuICAgICAgY3g6IFwiMThcIixcbiAgICAgIGN5OiBcIjE4XCIsXG4gICAgICBmaWxsOiBcIiMxYmIyNDBcIlxuICAgIH0pLCBoKFwicG9seWdvblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0ljb24tLWNoZWNrXCIsXG4gICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKDIsIDMpXCIsXG4gICAgICBwb2ludHM6IFwiMTQgMjIuNSA3IDE1LjI0NTcwNjUgOC45OTk4NTg1NyAxMy4xNzMyODE1IDE0IDE4LjM1NDcxMDQgMjIuOTcyOTg4MyA5IDI1IDExLjEwMDU2MzRcIlxuICAgIH0pKSkpO1xuICB9XG5cbiAgaWYgKHByb3BzLnJlY292ZXJlZFN0YXRlKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSAvLyBSZXRyeSBidXR0b24gZm9yIGVycm9yXG5cblxuICBpZiAocHJvcHMuZXJyb3IgJiYgIXByb3BzLmhpZGVSZXRyeUJ1dHRvbikge1xuICAgIHJldHVybiAoLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2pzeC1wcm9wcy1uby1zcHJlYWRpbmdcbiAgICAgIGgoUHJvZ3Jlc3NJbmRpY2F0b3JCdXR0b24sIHByb3BzLCBoKFwic3ZnXCIsIHtcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICAgICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LWMtaWNvbiB1cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzSWNvbi0tcmV0cnlcIixcbiAgICAgICAgd2lkdGg6IFwiMjhcIixcbiAgICAgICAgaGVpZ2h0OiBcIjMxXCIsXG4gICAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE5XCJcbiAgICAgIH0sIGgoXCJwYXRoXCIsIHtcbiAgICAgICAgZDogXCJNMTYgMTFhOCA4IDAgMSAxLTgtOHYyYTYgNiAwIDEgMCA2IDZoMnpcIlxuICAgICAgfSksIGgoXCJwYXRoXCIsIHtcbiAgICAgICAgZDogXCJNNy45IDNIMTB2Mkg3Ljl6XCJcbiAgICAgIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgICAgIGQ6IFwiTTguNTM2LjVsMy41MzUgMy41MzYtMS40MTQgMS40MTRMNy4xMiAxLjkxNHpcIlxuICAgICAgfSksIGgoXCJwYXRoXCIsIHtcbiAgICAgICAgZDogXCJNMTAuNjU3IDIuNjIxbDEuNDE0IDEuNDE1TDguNTM2IDcuNTcgNy4xMiA2LjE1N3pcIlxuICAgICAgfSkpKVxuICAgICk7XG4gIH0gLy8gUGF1c2UvcmVzdW1lIGJ1dHRvbiBmb3IgcmVzdW1hYmxlIHVwbG9hZHNcblxuXG4gIGlmIChwcm9wcy5yZXN1bWFibGVVcGxvYWRzICYmICFwcm9wcy5oaWRlUGF1c2VSZXN1bWVCdXR0b24pIHtcbiAgICByZXR1cm4gKC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9qc3gtcHJvcHMtbm8tc3ByZWFkaW5nXG4gICAgICBoKFByb2dyZXNzSW5kaWNhdG9yQnV0dG9uLCBwcm9wcywgaChQcm9ncmVzc0NpcmNsZUNvbnRhaW5lciwgbnVsbCwgaChQcm9ncmVzc0NpcmNsZSwge1xuICAgICAgICBwcm9ncmVzczogcHJvcHMuZmlsZS5wcm9ncmVzcy5wZXJjZW50YWdlXG4gICAgICB9KSwgcHJvcHMuZmlsZS5pc1BhdXNlZCA/IGgoXCJwb2x5Z29uXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJY29uLS1wbGF5XCIsXG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoMywgMylcIixcbiAgICAgICAgcG9pbnRzOiBcIjEyIDIwIDEyIDEwIDIwIDE1XCJcbiAgICAgIH0pIDogaChcImdcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtSXRlbS1wcm9ncmVzc0ljb24tLXBhdXNlXCIsXG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoMTQuNSwgMTMpXCJcbiAgICAgIH0sIGgoXCJyZWN0XCIsIHtcbiAgICAgICAgeDogXCIwXCIsXG4gICAgICAgIHk6IFwiMFwiLFxuICAgICAgICB3aWR0aDogXCIyXCIsXG4gICAgICAgIGhlaWdodDogXCIxMFwiLFxuICAgICAgICByeDogXCIwXCJcbiAgICAgIH0pLCBoKFwicmVjdFwiLCB7XG4gICAgICAgIHg6IFwiNVwiLFxuICAgICAgICB5OiBcIjBcIixcbiAgICAgICAgd2lkdGg6IFwiMlwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTBcIixcbiAgICAgICAgcng6IFwiMFwiXG4gICAgICB9KSkpKVxuICAgICk7XG4gIH0gLy8gQ2FuY2VsIGJ1dHRvbiBmb3Igbm9uLXJlc3VtYWJsZSB1cGxvYWRzIGlmIGluZGl2aWR1YWxDYW5jZWxsYXRpb24gaXMgc3VwcG9ydGVkIChub3QgYnVuZGxlZClcblxuXG4gIGlmICghcHJvcHMucmVzdW1hYmxlVXBsb2FkcyAmJiBwcm9wcy5pbmRpdmlkdWFsQ2FuY2VsbGF0aW9uICYmICFwcm9wcy5oaWRlQ2FuY2VsQnV0dG9uKSB7XG4gICAgcmV0dXJuICgvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvanN4LXByb3BzLW5vLXNwcmVhZGluZ1xuICAgICAgaChQcm9ncmVzc0luZGljYXRvckJ1dHRvbiwgcHJvcHMsIGgoUHJvZ3Jlc3NDaXJjbGVDb250YWluZXIsIG51bGwsIGgoUHJvZ3Jlc3NDaXJjbGUsIHtcbiAgICAgICAgcHJvZ3Jlc3M6IHByb3BzLmZpbGUucHJvZ3Jlc3MucGVyY2VudGFnZVxuICAgICAgfSksIGgoXCJwb2x5Z29uXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNhbmNlbFwiLFxuICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKDIsIDIpXCIsXG4gICAgICAgIHBvaW50czogXCIxOS44ODU2NTE2IDExLjA2MjUgMTYgMTQuOTQ4MTUxNiAxMi4xMDE5NzM3IDExLjA2MjUgMTEuMDYyNSAxMi4xMTQzNDg0IDE0Ljk0ODE1MTYgMTYgMTEuMDYyNSAxOS44OTgwMjYzIDEyLjEwMTk3MzcgMjAuOTM3NSAxNiAxNy4wNTE4NDg0IDE5Ljg4NTY1MTYgMjAuOTM3NSAyMC45Mzc1IDE5Ljg5ODAyNjMgMTcuMDUxODQ4NCAxNiAyMC45Mzc1IDEyXCJcbiAgICAgIH0pKSlcbiAgICApO1xuICB9IC8vIEp1c3QgcHJvZ3Jlc3Mgd2hlbiBidXR0b25zIGFyZSBkaXNhYmxlZFxuXG5cbiAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1JdGVtLXByb2dyZXNzXCJcbiAgfSwgaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLUl0ZW0tcHJvZ3Jlc3NJbmRpY2F0b3JcIlxuICB9LCBoKFByb2dyZXNzQ2lyY2xlQ29udGFpbmVyLCBudWxsLCBoKFByb2dyZXNzQ2lyY2xlLCB7XG4gICAgcHJvZ3Jlc3M6IHByb3BzLmZpbGUucHJvZ3Jlc3MucGVyY2VudGFnZVxuICB9KSkpKTtcbn0iLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcblxuY29uc3QgbWV0YUZpZWxkSWRUb05hbWUgPSAobWV0YUZpZWxkSWQsIG1ldGFGaWVsZHMpID0+IHtcbiAgY29uc3QgZmllbGRzID0gdHlwZW9mIG1ldGFGaWVsZHMgPT09ICdmdW5jdGlvbicgPyBtZXRhRmllbGRzKCkgOiBtZXRhRmllbGRzO1xuICBjb25zdCBmaWVsZCA9IGZpZWxkcy5maWx0ZXIoZiA9PiBmLmlkID09PSBtZXRhRmllbGRJZCk7XG4gIHJldHVybiBmaWVsZFswXS5uYW1lO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVuZGVyTWlzc2luZ01ldGFGaWVsZHNFcnJvcihwcm9wcykge1xuICBjb25zdCB7XG4gICAgZmlsZSxcbiAgICB0b2dnbGVGaWxlQ2FyZCxcbiAgICBpMThuLFxuICAgIG1ldGFGaWVsZHNcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgbWlzc2luZ1JlcXVpcmVkTWV0YUZpZWxkc1xuICB9ID0gZmlsZTtcblxuICBpZiAoIShtaXNzaW5nUmVxdWlyZWRNZXRhRmllbGRzICE9IG51bGwgJiYgbWlzc2luZ1JlcXVpcmVkTWV0YUZpZWxkcy5sZW5ndGgpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBtZXRhRmllbGRzU3RyaW5nID0gbWlzc2luZ1JlcXVpcmVkTWV0YUZpZWxkcy5tYXAobWlzc2luZ01ldGFGaWVsZCA9PiBtZXRhRmllbGRJZFRvTmFtZShtaXNzaW5nTWV0YUZpZWxkLCBtZXRhRmllbGRzKSkuam9pbignLCAnKTtcbiAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1JdGVtLWVycm9yTWVzc2FnZVwiXG4gIH0sIGkxOG4oJ21pc3NpbmdSZXF1aXJlZE1ldGFGaWVsZHMnLCB7XG4gICAgc21hcnRfY291bnQ6IG1pc3NpbmdSZXF1aXJlZE1ldGFGaWVsZHMubGVuZ3RoLFxuICAgIGZpZWxkczogbWV0YUZpZWxkc1N0cmluZ1xuICB9KSwgJyAnLCBoKFwiYnV0dG9uXCIsIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzOiBcInVwcHktdS1yZXNldCB1cHB5LURhc2hib2FyZC1JdGVtLWVycm9yTWVzc2FnZUJ0blwiLFxuICAgIG9uQ2xpY2s6ICgpID0+IHRvZ2dsZUZpbGVDYXJkKHRydWUsIGZpbGUuaWQpXG4gIH0sIGkxOG4oJ2VkaXRGaWxlJykpKTtcbn0iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgc2hhbGxvd0VxdWFsIGZyb20gJ2lzLXNoYWxsb3ctZXF1YWwnO1xuaW1wb3J0IEZpbGVQcmV2aWV3QW5kTGluayBmcm9tIFwiLi9GaWxlUHJldmlld0FuZExpbmsvaW5kZXguanNcIjtcbmltcG9ydCBGaWxlUHJvZ3Jlc3MgZnJvbSBcIi4vRmlsZVByb2dyZXNzL2luZGV4LmpzXCI7XG5pbXBvcnQgRmlsZUluZm8gZnJvbSBcIi4vRmlsZUluZm8vaW5kZXguanNcIjtcbmltcG9ydCBCdXR0b25zIGZyb20gXCIuL0J1dHRvbnMvaW5kZXguanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbGVJdGVtIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZmlsZVxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKCFmaWxlLnByZXZpZXcpIHtcbiAgICAgIHRoaXMucHJvcHMuaGFuZGxlUmVxdWVzdFRodW1ibmFpbChmaWxlKTtcbiAgICB9XG4gIH1cblxuICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgcmV0dXJuICFzaGFsbG93RXF1YWwodGhpcy5wcm9wcywgbmV4dFByb3BzKTtcbiAgfSAvLyBWaXJ0dWFsTGlzdCBtb3VudHMgRmlsZUl0ZW1zIGFnYWluIGFuZCB0aGV5IGVtaXQgYHRodW1ibmFpbDpyZXF1ZXN0YFxuICAvLyBPdGhlcndpc2UgdGh1bWJuYWlscyBhcmUgYnJva2VuIG9yIG1pc3NpbmcgYWZ0ZXIgR29sZGVuIFJldHJpZXZlciByZXN0b3JlcyBmaWxlc1xuXG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpbGVcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmICghZmlsZS5wcmV2aWV3KSB7XG4gICAgICB0aGlzLnByb3BzLmhhbmRsZVJlcXVlc3RUaHVtYm5haWwoZmlsZSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZmlsZVxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKCFmaWxlLnByZXZpZXcpIHtcbiAgICAgIHRoaXMucHJvcHMuaGFuZGxlQ2FuY2VsVGh1bWJuYWlsKGZpbGUpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBmaWxlXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaXNQcm9jZXNzaW5nID0gZmlsZS5wcm9ncmVzcy5wcmVwcm9jZXNzIHx8IGZpbGUucHJvZ3Jlc3MucG9zdHByb2Nlc3M7XG4gICAgY29uc3QgaXNVcGxvYWRlZCA9IGZpbGUucHJvZ3Jlc3MudXBsb2FkQ29tcGxldGUgJiYgIWlzUHJvY2Vzc2luZyAmJiAhZmlsZS5lcnJvcjtcbiAgICBjb25zdCB1cGxvYWRJblByb2dyZXNzT3JDb21wbGV0ZSA9IGZpbGUucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZCB8fCBpc1Byb2Nlc3Npbmc7XG4gICAgY29uc3QgdXBsb2FkSW5Qcm9ncmVzcyA9IGZpbGUucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZCAmJiAhZmlsZS5wcm9ncmVzcy51cGxvYWRDb21wbGV0ZSB8fCBpc1Byb2Nlc3Npbmc7XG4gICAgY29uc3QgZXJyb3IgPSBmaWxlLmVycm9yIHx8IGZhbHNlOyAvLyBGaWxlIHRoYXQgR29sZGVuIFJldHJpZXZlciB3YXMgYWJsZSB0byBwYXJ0bHkgcmVzdG9yZSAob25seSBtZXRhLCBub3QgYmxvYiksXG4gICAgLy8gdXNlcnMgc3RpbGwgbmVlZCB0byByZS1hZGQgaXQsIHNvIGl04oCZcyBhIGdob3N0XG5cbiAgICBjb25zdCB7XG4gICAgICBpc0dob3N0XG4gICAgfSA9IGZpbGU7XG4gICAgbGV0IHNob3dSZW1vdmVCdXR0b24gPSB0aGlzLnByb3BzLmluZGl2aWR1YWxDYW5jZWxsYXRpb24gPyAhaXNVcGxvYWRlZCA6ICF1cGxvYWRJblByb2dyZXNzICYmICFpc1VwbG9hZGVkO1xuXG4gICAgaWYgKGlzVXBsb2FkZWQgJiYgdGhpcy5wcm9wcy5zaG93UmVtb3ZlQnV0dG9uQWZ0ZXJDb21wbGV0ZSkge1xuICAgICAgc2hvd1JlbW92ZUJ1dHRvbiA9IHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgZGFzaGJvYXJkSXRlbUNsYXNzID0gY2xhc3NOYW1lcyh7XG4gICAgICAndXBweS1EYXNoYm9hcmQtSXRlbSc6IHRydWUsXG4gICAgICAnaXMtaW5wcm9ncmVzcyc6IHVwbG9hZEluUHJvZ3Jlc3MgJiYgIXRoaXMucHJvcHMucmVjb3ZlcmVkU3RhdGUsXG4gICAgICAnaXMtcHJvY2Vzc2luZyc6IGlzUHJvY2Vzc2luZyxcbiAgICAgICdpcy1jb21wbGV0ZSc6IGlzVXBsb2FkZWQsXG4gICAgICAnaXMtZXJyb3InOiAhIWVycm9yLFxuICAgICAgJ2lzLXJlc3VtYWJsZSc6IHRoaXMucHJvcHMucmVzdW1hYmxlVXBsb2FkcyxcbiAgICAgICdpcy1ub0luZGl2aWR1YWxDYW5jZWxsYXRpb24nOiAhdGhpcy5wcm9wcy5pbmRpdmlkdWFsQ2FuY2VsbGF0aW9uLFxuICAgICAgJ2lzLWdob3N0JzogaXNHaG9zdFxuICAgIH0pO1xuICAgIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogZGFzaGJvYXJkSXRlbUNsYXNzLFxuICAgICAgaWQ6IGB1cHB5XyR7ZmlsZS5pZH1gLFxuICAgICAgcm9sZTogdGhpcy5wcm9wcy5yb2xlXG4gICAgfSwgaChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3XCJcbiAgICB9LCBoKEZpbGVQcmV2aWV3QW5kTGluaywge1xuICAgICAgZmlsZTogZmlsZSxcbiAgICAgIHNob3dMaW5rVG9GaWxlVXBsb2FkUmVzdWx0OiB0aGlzLnByb3BzLnNob3dMaW5rVG9GaWxlVXBsb2FkUmVzdWx0LFxuICAgICAgaTE4bjogdGhpcy5wcm9wcy5pMThuLFxuICAgICAgdG9nZ2xlRmlsZUNhcmQ6IHRoaXMucHJvcHMudG9nZ2xlRmlsZUNhcmQsXG4gICAgICBtZXRhRmllbGRzOiB0aGlzLnByb3BzLm1ldGFGaWVsZHNcbiAgICB9KSwgaChGaWxlUHJvZ3Jlc3MsIHtcbiAgICAgIHVwcHk6IHRoaXMucHJvcHMudXBweSxcbiAgICAgIGZpbGU6IGZpbGUsXG4gICAgICBlcnJvcjogZXJyb3IsXG4gICAgICBpc1VwbG9hZGVkOiBpc1VwbG9hZGVkLFxuICAgICAgaGlkZVJldHJ5QnV0dG9uOiB0aGlzLnByb3BzLmhpZGVSZXRyeUJ1dHRvbixcbiAgICAgIGhpZGVDYW5jZWxCdXR0b246IHRoaXMucHJvcHMuaGlkZUNhbmNlbEJ1dHRvbixcbiAgICAgIGhpZGVQYXVzZVJlc3VtZUJ1dHRvbjogdGhpcy5wcm9wcy5oaWRlUGF1c2VSZXN1bWVCdXR0b24sXG4gICAgICByZWNvdmVyZWRTdGF0ZTogdGhpcy5wcm9wcy5yZWNvdmVyZWRTdGF0ZSxcbiAgICAgIHNob3dSZW1vdmVCdXR0b25BZnRlckNvbXBsZXRlOiB0aGlzLnByb3BzLnNob3dSZW1vdmVCdXR0b25BZnRlckNvbXBsZXRlLFxuICAgICAgcmVzdW1hYmxlVXBsb2FkczogdGhpcy5wcm9wcy5yZXN1bWFibGVVcGxvYWRzLFxuICAgICAgaW5kaXZpZHVhbENhbmNlbGxhdGlvbjogdGhpcy5wcm9wcy5pbmRpdmlkdWFsQ2FuY2VsbGF0aW9uLFxuICAgICAgaTE4bjogdGhpcy5wcm9wcy5pMThuXG4gICAgfSkpLCBoKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1JdGVtLWZpbGVJbmZvQW5kQnV0dG9uc1wiXG4gICAgfSwgaChGaWxlSW5mbywge1xuICAgICAgZmlsZTogZmlsZSxcbiAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgYWNxdWlyZXJzOiB0aGlzLnByb3BzLmFjcXVpcmVycyxcbiAgICAgIGNvbnRhaW5lcldpZHRoOiB0aGlzLnByb3BzLmNvbnRhaW5lcldpZHRoLFxuICAgICAgaTE4bjogdGhpcy5wcm9wcy5pMThuLFxuICAgICAgdG9nZ2xlQWRkRmlsZXNQYW5lbDogdGhpcy5wcm9wcy50b2dnbGVBZGRGaWxlc1BhbmVsLFxuICAgICAgdG9nZ2xlRmlsZUNhcmQ6IHRoaXMucHJvcHMudG9nZ2xlRmlsZUNhcmQsXG4gICAgICBtZXRhRmllbGRzOiB0aGlzLnByb3BzLm1ldGFGaWVsZHMsXG4gICAgICBzaW5nbGVGaWxlOiB0aGlzLnByb3BzLnNpbmdsZUZpbGVcbiAgICB9KSwgaChCdXR0b25zLCB7XG4gICAgICBmaWxlOiBmaWxlLFxuICAgICAgbWV0YUZpZWxkczogdGhpcy5wcm9wcy5tZXRhRmllbGRzLFxuICAgICAgc2hvd0xpbmtUb0ZpbGVVcGxvYWRSZXN1bHQ6IHRoaXMucHJvcHMuc2hvd0xpbmtUb0ZpbGVVcGxvYWRSZXN1bHQsXG4gICAgICBzaG93UmVtb3ZlQnV0dG9uOiBzaG93UmVtb3ZlQnV0dG9uLFxuICAgICAgY2FuRWRpdEZpbGU6IHRoaXMucHJvcHMuY2FuRWRpdEZpbGUsXG4gICAgICB1cGxvYWRJblByb2dyZXNzT3JDb21wbGV0ZTogdXBsb2FkSW5Qcm9ncmVzc09yQ29tcGxldGUsXG4gICAgICB0b2dnbGVGaWxlQ2FyZDogdGhpcy5wcm9wcy50b2dnbGVGaWxlQ2FyZCxcbiAgICAgIG9wZW5GaWxlRWRpdG9yOiB0aGlzLnByb3BzLm9wZW5GaWxlRWRpdG9yLFxuICAgICAgdXBweTogdGhpcy5wcm9wcy51cHB5LFxuICAgICAgaTE4bjogdGhpcy5wcm9wcy5pMThuXG4gICAgfSkpKTtcbiAgfVxuXG59IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEZpbGVJdGVtIGZyb20gXCIuL0ZpbGVJdGVtL2luZGV4LmpzXCI7XG5pbXBvcnQgVmlydHVhbExpc3QgZnJvbSBcIi4vVmlydHVhbExpc3QuanNcIjtcblxuZnVuY3Rpb24gY2h1bmtzKGxpc3QsIHNpemUpIHtcbiAgY29uc3QgY2h1bmtlZCA9IFtdO1xuICBsZXQgY3VycmVudENodW5rID0gW107XG4gIGxpc3QuZm9yRWFjaChpdGVtID0+IHtcbiAgICBpZiAoY3VycmVudENodW5rLmxlbmd0aCA8IHNpemUpIHtcbiAgICAgIGN1cnJlbnRDaHVuay5wdXNoKGl0ZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaHVua2VkLnB1c2goY3VycmVudENodW5rKTtcbiAgICAgIGN1cnJlbnRDaHVuayA9IFtpdGVtXTtcbiAgICB9XG4gIH0pO1xuICBpZiAoY3VycmVudENodW5rLmxlbmd0aCkgY2h1bmtlZC5wdXNoKGN1cnJlbnRDaHVuayk7XG4gIHJldHVybiBjaHVua2VkO1xufVxuXG5leHBvcnQgZGVmYXVsdCAocHJvcHMgPT4ge1xuICAvLyBJdCdzIG5vdCBncmVhdCB0aGF0IHRoaXMgaXMgaGFyZGNvZGVkIVxuICAvLyBJdCdzIEVTUEVDSUFMTFkgbm90IGdyZWF0IHRoYXQgdGhpcyBpcyBjaGVja2luZyBhZ2FpbnN0IGBpdGVtc1BlclJvd2AhXG4gIGNvbnN0IHJvd0hlaWdodCA9IHByb3BzLml0ZW1zUGVyUm93ID09PSAxIC8vIE1vYmlsZVxuICA/IDcxIC8vIDE5MHB4IGhlaWdodCArIDIgKiA1cHggbWFyZ2luXG4gIDogMjAwO1xuICBjb25zdCBmaWxlUHJvcHMgPSB7XG4gICAgLy8gRklYTUUgVGhpcyBpcyBjb25mdXNpbmcsIGl0J3MgYWN0dWFsbHkgdGhlIERhc2hib2FyZCdzIHBsdWdpbiBJRFxuICAgIGlkOiBwcm9wcy5pZCxcbiAgICBlcnJvcjogcHJvcHMuZXJyb3IsXG4gICAgLy8gVE9ETyBtb3ZlIHRoaXMgdG8gY29udGV4dFxuICAgIGkxOG46IHByb3BzLmkxOG4sXG4gICAgdXBweTogcHJvcHMudXBweSxcbiAgICAvLyBmZWF0dXJlc1xuICAgIGFjcXVpcmVyczogcHJvcHMuYWNxdWlyZXJzLFxuICAgIHJlc3VtYWJsZVVwbG9hZHM6IHByb3BzLnJlc3VtYWJsZVVwbG9hZHMsXG4gICAgaW5kaXZpZHVhbENhbmNlbGxhdGlvbjogcHJvcHMuaW5kaXZpZHVhbENhbmNlbGxhdGlvbixcbiAgICAvLyB2aXN1YWwgb3B0aW9uc1xuICAgIGhpZGVSZXRyeUJ1dHRvbjogcHJvcHMuaGlkZVJldHJ5QnV0dG9uLFxuICAgIGhpZGVQYXVzZVJlc3VtZUJ1dHRvbjogcHJvcHMuaGlkZVBhdXNlUmVzdW1lQnV0dG9uLFxuICAgIGhpZGVDYW5jZWxCdXR0b246IHByb3BzLmhpZGVDYW5jZWxCdXR0b24sXG4gICAgc2hvd0xpbmtUb0ZpbGVVcGxvYWRSZXN1bHQ6IHByb3BzLnNob3dMaW5rVG9GaWxlVXBsb2FkUmVzdWx0LFxuICAgIHNob3dSZW1vdmVCdXR0b25BZnRlckNvbXBsZXRlOiBwcm9wcy5zaG93UmVtb3ZlQnV0dG9uQWZ0ZXJDb21wbGV0ZSxcbiAgICBpc1dpZGU6IHByb3BzLmlzV2lkZSxcbiAgICBtZXRhRmllbGRzOiBwcm9wcy5tZXRhRmllbGRzLFxuICAgIHJlY292ZXJlZFN0YXRlOiBwcm9wcy5yZWNvdmVyZWRTdGF0ZSxcbiAgICBzaW5nbGVGaWxlOiBwcm9wcy5zaW5nbGVGaWxlLFxuICAgIC8vIGNhbGxiYWNrc1xuICAgIHRvZ2dsZUZpbGVDYXJkOiBwcm9wcy50b2dnbGVGaWxlQ2FyZCxcbiAgICBoYW5kbGVSZXF1ZXN0VGh1bWJuYWlsOiBwcm9wcy5oYW5kbGVSZXF1ZXN0VGh1bWJuYWlsLFxuICAgIGhhbmRsZUNhbmNlbFRodW1ibmFpbDogcHJvcHMuaGFuZGxlQ2FuY2VsVGh1bWJuYWlsXG4gIH07XG5cbiAgY29uc3Qgc29ydEJ5R2hvc3RDb21lc0ZpcnN0ID0gKGZpbGUxLCBmaWxlMikgPT4ge1xuICAgIHJldHVybiBwcm9wcy5maWxlc1tmaWxlMl0uaXNHaG9zdCAtIHByb3BzLmZpbGVzW2ZpbGUxXS5pc0dob3N0O1xuICB9OyAvLyBTb3J0IGZpbGVzIGJ5IGZpbGUuaXNHaG9zdCwgZ2hvc3QgZmlsZXMgZmlyc3QsIG9ubHkgaWYgcmVjb3ZlcmVkU3RhdGUgaXMgcHJlc2VudFxuXG5cbiAgY29uc3QgZmlsZXMgPSBPYmplY3Qua2V5cyhwcm9wcy5maWxlcyk7XG4gIGlmIChwcm9wcy5yZWNvdmVyZWRTdGF0ZSkgZmlsZXMuc29ydChzb3J0QnlHaG9zdENvbWVzRmlyc3QpO1xuICBjb25zdCByb3dzID0gY2h1bmtzKGZpbGVzLCBwcm9wcy5pdGVtc1BlclJvdyk7XG5cbiAgY29uc3QgcmVuZGVyUm93ID0gcm93ID0+IC8vIFRoZSBgcm9sZT1cInByZXNlbnRhdGlvbmAgYXR0cmlidXRlIGVuc3VyZXMgdGhhdCB0aGUgbGlzdCBpdGVtcyBhcmUgcHJvcGVybHlcbiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoZSBgVmlydHVhbExpc3RgIGVsZW1lbnQuXG4gIC8vIFdlIHVzZSB0aGUgZmlyc3QgZmlsZSBJRCBhcyB0aGUga2V54oCUdGhpcyBzaG91bGQgbm90IGNoYW5nZSBhY3Jvc3Mgc2Nyb2xsIHJlcmVuZGVyc1xuICBoKFwiZGl2XCIsIHtcbiAgICBjbGFzczogXCJ1cHB5LURhc2hib2FyZC1maWxlc0lubmVyXCIsXG4gICAgcm9sZTogXCJwcmVzZW50YXRpb25cIixcbiAgICBrZXk6IHJvd1swXVxuICB9LCByb3cubWFwKGZpbGVJRCA9PiBoKEZpbGVJdGVtLCBfZXh0ZW5kcyh7XG4gICAga2V5OiBmaWxlSUQsXG4gICAgdXBweTogcHJvcHMudXBweVxuICB9LCBmaWxlUHJvcHMsIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L2pzeC1wcm9wcy1uby1zcHJlYWRpbmdcbiAgICByb2xlOiBcImxpc3RpdGVtXCIsXG4gICAgb3BlbkZpbGVFZGl0b3I6IHByb3BzLm9wZW5GaWxlRWRpdG9yLFxuICAgIGNhbkVkaXRGaWxlOiBwcm9wcy5jYW5FZGl0RmlsZSxcbiAgICB0b2dnbGVBZGRGaWxlc1BhbmVsOiBwcm9wcy50b2dnbGVBZGRGaWxlc1BhbmVsLFxuICAgIGZpbGU6IHByb3BzLmZpbGVzW2ZpbGVJRF1cbiAgfSkpKSk7XG5cbiAgaWYgKHByb3BzLnNpbmdsZUZpbGUpIHtcbiAgICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJ1cHB5LURhc2hib2FyZC1maWxlc1wiXG4gICAgfSwgcmVuZGVyUm93KHJvd3NbMF0pKTtcbiAgfVxuXG4gIHJldHVybiBoKFZpcnR1YWxMaXN0LCB7XG4gICAgY2xhc3M6IFwidXBweS1EYXNoYm9hcmQtZmlsZXNcIixcbiAgICByb2xlOiBcImxpc3RcIixcbiAgICBkYXRhOiByb3dzLFxuICAgIHJlbmRlclJvdzogcmVuZGVyUm93LFxuICAgIHJvd0hlaWdodDogcm93SGVpZ2h0XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgZ2V0RmlsZVR5cGVJY29uIGZyb20gXCIuLi91dGlscy9nZXRGaWxlVHlwZUljb24uanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZpbGVQcmV2aWV3KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmaWxlXG4gIH0gPSBwcm9wcztcblxuICBpZiAoZmlsZS5wcmV2aWV3KSB7XG4gICAgcmV0dXJuIGgoXCJpbWdcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0ltZ1wiLFxuICAgICAgYWx0OiBmaWxlLm5hbWUsXG4gICAgICBzcmM6IGZpbGUucHJldmlld1xuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qge1xuICAgIGNvbG9yLFxuICAgIGljb25cbiAgfSA9IGdldEZpbGVUeXBlSWNvbihmaWxlLnR5cGUpO1xuICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkLUl0ZW0tcHJldmlld0ljb25XcmFwXCJcbiAgfSwgaChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZC1JdGVtLXByZXZpZXdJY29uXCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIGNvbG9yXG4gICAgfVxuICB9LCBpY29uKSwgaChcInN2Z1wiLCB7XG4gICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICBmb2N1c2FibGU6IFwiZmFsc2VcIixcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmQtSXRlbS1wcmV2aWV3SWNvbkJnXCIsXG4gICAgd2lkdGg6IFwiNThcIixcbiAgICBoZWlnaHQ6IFwiNzZcIixcbiAgICB2aWV3Qm94OiBcIjAgMCA1OCA3NlwiXG4gIH0sIGgoXCJyZWN0XCIsIHtcbiAgICBmaWxsOiBcIiNGRkZcIixcbiAgICB3aWR0aDogXCI1OFwiLFxuICAgIGhlaWdodDogXCI3NlwiLFxuICAgIHJ4OiBcIjNcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgfSkpKTtcbn0iLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IGlnbm9yZUV2ZW50IGZyb20gJy4uL3V0aWxzL2lnbm9yZUV2ZW50LmpzJztcblxuZnVuY3Rpb24gUGlja2VyUGFuZWxDb250ZW50KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBhY3RpdmVQaWNrZXJQYW5lbCxcbiAgICBjbGFzc05hbWUsXG4gICAgaGlkZUFsbFBhbmVscyxcbiAgICBpMThuLFxuICAgIHN0YXRlLFxuICAgIHVwcHlcbiAgfSA9IF9yZWY7XG4gIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoJ3VwcHktRGFzaGJvYXJkQ29udGVudC1wYW5lbCcsIGNsYXNzTmFtZSksXG4gICAgcm9sZTogXCJ0YWJwYW5lbFwiLFxuICAgIFwiZGF0YS11cHB5LXBhbmVsVHlwZVwiOiBcIlBpY2tlclBhbmVsXCIsXG4gICAgaWQ6IGB1cHB5LURhc2hib2FyZENvbnRlbnQtcGFuZWwtLSR7YWN0aXZlUGlja2VyUGFuZWwuaWR9YCxcbiAgICBvbkRyYWdPdmVyOiBpZ25vcmVFdmVudCxcbiAgICBvbkRyYWdMZWF2ZTogaWdub3JlRXZlbnQsXG4gICAgb25Ecm9wOiBpZ25vcmVFdmVudCxcbiAgICBvblBhc3RlOiBpZ25vcmVFdmVudFxuICB9LCBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmRDb250ZW50LWJhclwiXG4gIH0sIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZENvbnRlbnQtdGl0bGVcIixcbiAgICByb2xlOiBcImhlYWRpbmdcIixcbiAgICBcImFyaWEtbGV2ZWxcIjogXCIxXCJcbiAgfSwgaTE4bignaW1wb3J0RnJvbScsIHtcbiAgICBuYW1lOiBhY3RpdmVQaWNrZXJQYW5lbC5uYW1lXG4gIH0pKSwgaChcImJ1dHRvblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkQ29udGVudC1iYWNrXCIsXG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBvbkNsaWNrOiBoaWRlQWxsUGFuZWxzXG4gIH0sIGkxOG4oJ2NhbmNlbCcpKSksIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZENvbnRlbnQtcGFuZWxCb2R5XCJcbiAgfSwgdXBweS5nZXRQbHVnaW4oYWN0aXZlUGlja2VyUGFuZWwuaWQpLnJlbmRlcihzdGF0ZSkpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUGlja2VyUGFuZWxDb250ZW50OyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuY29uc3QgdXBsb2FkU3RhdGVzID0ge1xuICBTVEFURV9FUlJPUjogJ2Vycm9yJyxcbiAgU1RBVEVfV0FJVElORzogJ3dhaXRpbmcnLFxuICBTVEFURV9QUkVQUk9DRVNTSU5HOiAncHJlcHJvY2Vzc2luZycsXG4gIFNUQVRFX1VQTE9BRElORzogJ3VwbG9hZGluZycsXG4gIFNUQVRFX1BPU1RQUk9DRVNTSU5HOiAncG9zdHByb2Nlc3NpbmcnLFxuICBTVEFURV9DT01QTEVURTogJ2NvbXBsZXRlJyxcbiAgU1RBVEVfUEFVU0VEOiAncGF1c2VkJ1xufTtcblxuZnVuY3Rpb24gZ2V0VXBsb2FkaW5nU3RhdGUoaXNBbGxFcnJvcmVkLCBpc0FsbENvbXBsZXRlLCBpc0FsbFBhdXNlZCwgZmlsZXMpIHtcbiAgaWYgKGZpbGVzID09PSB2b2lkIDApIHtcbiAgICBmaWxlcyA9IHt9O1xuICB9XG5cbiAgaWYgKGlzQWxsRXJyb3JlZCkge1xuICAgIHJldHVybiB1cGxvYWRTdGF0ZXMuU1RBVEVfRVJST1I7XG4gIH1cblxuICBpZiAoaXNBbGxDb21wbGV0ZSkge1xuICAgIHJldHVybiB1cGxvYWRTdGF0ZXMuU1RBVEVfQ09NUExFVEU7XG4gIH1cblxuICBpZiAoaXNBbGxQYXVzZWQpIHtcbiAgICByZXR1cm4gdXBsb2FkU3RhdGVzLlNUQVRFX1BBVVNFRDtcbiAgfVxuXG4gIGxldCBzdGF0ZSA9IHVwbG9hZFN0YXRlcy5TVEFURV9XQUlUSU5HO1xuICBjb25zdCBmaWxlSURzID0gT2JqZWN0LmtleXMoZmlsZXMpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZUlEcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHtcbiAgICAgIHByb2dyZXNzXG4gICAgfSA9IGZpbGVzW2ZpbGVJRHNbaV1dOyAvLyBJZiBBTlkgZmlsZXMgYXJlIGJlaW5nIHVwbG9hZGVkIHJpZ2h0IG5vdywgc2hvdyB0aGUgdXBsb2FkaW5nIHN0YXRlLlxuXG4gICAgaWYgKHByb2dyZXNzLnVwbG9hZFN0YXJ0ZWQgJiYgIXByb2dyZXNzLnVwbG9hZENvbXBsZXRlKSB7XG4gICAgICByZXR1cm4gdXBsb2FkU3RhdGVzLlNUQVRFX1VQTE9BRElORztcbiAgICB9IC8vIElmIGZpbGVzIGFyZSBiZWluZyBwcmVwcm9jZXNzZWQgQU5EIHBvc3Rwcm9jZXNzZWQgYXQgdGhpcyB0aW1lLCB3ZSBzaG93IHRoZVxuICAgIC8vIHByZXByb2Nlc3Mgc3RhdGUuIElmIGFueSBmaWxlcyBhcmUgYmVpbmcgdXBsb2FkZWQgd2Ugc2hvdyB1cGxvYWRpbmcuXG5cblxuICAgIGlmIChwcm9ncmVzcy5wcmVwcm9jZXNzICYmIHN0YXRlICE9PSB1cGxvYWRTdGF0ZXMuU1RBVEVfVVBMT0FESU5HKSB7XG4gICAgICBzdGF0ZSA9IHVwbG9hZFN0YXRlcy5TVEFURV9QUkVQUk9DRVNTSU5HO1xuICAgIH0gLy8gSWYgTk8gZmlsZXMgYXJlIGJlaW5nIHByZXByb2Nlc3NlZCBvciB1cGxvYWRlZCByaWdodCBub3csIGJ1dCBzb21lIGZpbGVzIGFyZVxuICAgIC8vIGJlaW5nIHBvc3Rwcm9jZXNzZWQsIHNob3cgdGhlIHBvc3Rwcm9jZXNzIHN0YXRlLlxuXG5cbiAgICBpZiAocHJvZ3Jlc3MucG9zdHByb2Nlc3MgJiYgc3RhdGUgIT09IHVwbG9hZFN0YXRlcy5TVEFURV9VUExPQURJTkcgJiYgc3RhdGUgIT09IHVwbG9hZFN0YXRlcy5TVEFURV9QUkVQUk9DRVNTSU5HKSB7XG4gICAgICBzdGF0ZSA9IHVwbG9hZFN0YXRlcy5TVEFURV9QT1NUUFJPQ0VTU0lORztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59XG5cbmZ1bmN0aW9uIFVwbG9hZFN0YXR1cyhfcmVmKSB7XG4gIGxldCB7XG4gICAgZmlsZXMsXG4gICAgaTE4bixcbiAgICBpc0FsbENvbXBsZXRlLFxuICAgIGlzQWxsRXJyb3JlZCxcbiAgICBpc0FsbFBhdXNlZCxcbiAgICBpblByb2dyZXNzTm90UGF1c2VkRmlsZXMsXG4gICAgbmV3RmlsZXMsXG4gICAgcHJvY2Vzc2luZ0ZpbGVzXG4gIH0gPSBfcmVmO1xuICBjb25zdCB1cGxvYWRpbmdTdGF0ZSA9IGdldFVwbG9hZGluZ1N0YXRlKGlzQWxsRXJyb3JlZCwgaXNBbGxDb21wbGV0ZSwgaXNBbGxQYXVzZWQsIGZpbGVzKTtcblxuICBzd2l0Y2ggKHVwbG9hZGluZ1N0YXRlKSB7XG4gICAgY2FzZSAndXBsb2FkaW5nJzpcbiAgICAgIHJldHVybiBpMThuKCd1cGxvYWRpbmdYRmlsZXMnLCB7XG4gICAgICAgIHNtYXJ0X2NvdW50OiBpblByb2dyZXNzTm90UGF1c2VkRmlsZXMubGVuZ3RoXG4gICAgICB9KTtcblxuICAgIGNhc2UgJ3ByZXByb2Nlc3NpbmcnOlxuICAgIGNhc2UgJ3Bvc3Rwcm9jZXNzaW5nJzpcbiAgICAgIHJldHVybiBpMThuKCdwcm9jZXNzaW5nWEZpbGVzJywge1xuICAgICAgICBzbWFydF9jb3VudDogcHJvY2Vzc2luZ0ZpbGVzLmxlbmd0aFxuICAgICAgfSk7XG5cbiAgICBjYXNlICdwYXVzZWQnOlxuICAgICAgcmV0dXJuIGkxOG4oJ3VwbG9hZFBhdXNlZCcpO1xuXG4gICAgY2FzZSAnd2FpdGluZyc6XG4gICAgICByZXR1cm4gaTE4bigneEZpbGVzU2VsZWN0ZWQnLCB7XG4gICAgICAgIHNtYXJ0X2NvdW50OiBuZXdGaWxlcy5sZW5ndGhcbiAgICAgIH0pO1xuXG4gICAgY2FzZSAnY29tcGxldGUnOlxuICAgICAgcmV0dXJuIGkxOG4oJ3VwbG9hZENvbXBsZXRlJyk7XG5cbiAgICBjYXNlICdlcnJvcic6XG4gICAgICByZXR1cm4gaTE4bignZXJyb3InKTtcblxuICAgIGRlZmF1bHQ6XG4gIH1cbn1cblxuZnVuY3Rpb24gUGFuZWxUb3BCYXIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGkxOG4sXG4gICAgaXNBbGxDb21wbGV0ZSxcbiAgICBoaWRlQ2FuY2VsQnV0dG9uLFxuICAgIG1heE51bWJlck9mRmlsZXMsXG4gICAgdG9nZ2xlQWRkRmlsZXNQYW5lbCxcbiAgICB1cHB5XG4gIH0gPSBwcm9wcztcbiAgbGV0IHtcbiAgICBhbGxvd05ld1VwbG9hZFxuICB9ID0gcHJvcHM7IC8vIFRPRE8gbWF5YmUgdGhpcyBzaG91bGQgYmUgZG9uZSBpbiAuLi9EYXNoYm9hcmQuanN4LCB0aGVuIGp1c3QgcGFzcyB0aGF0IGRvd24gYXMgYGFsbG93TmV3VXBsb2FkYFxuXG4gIGlmIChhbGxvd05ld1VwbG9hZCAmJiBtYXhOdW1iZXJPZkZpbGVzKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2Rlc3RydWN0dXJpbmctYXNzaWdubWVudFxuICAgIGFsbG93TmV3VXBsb2FkID0gcHJvcHMudG90YWxGaWxlQ291bnQgPCBwcm9wcy5tYXhOdW1iZXJPZkZpbGVzO1xuICB9XG5cbiAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZENvbnRlbnQtYmFyXCJcbiAgfSwgIWlzQWxsQ29tcGxldGUgJiYgIWhpZGVDYW5jZWxCdXR0b24gPyBoKFwiYnV0dG9uXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmRDb250ZW50LWJhY2tcIixcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6ICgpID0+IHVwcHkuY2FuY2VsQWxsKClcbiAgfSwgaTE4bignY2FuY2VsJykpIDogaChcImRpdlwiLCBudWxsKSwgaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktRGFzaGJvYXJkQ29udGVudC10aXRsZVwiLFxuICAgIHJvbGU6IFwiaGVhZGluZ1wiLFxuICAgIFwiYXJpYS1sZXZlbFwiOiBcIjFcIlxuICB9LCBoKFVwbG9hZFN0YXR1cywgcHJvcHMpKSwgYWxsb3dOZXdVcGxvYWQgPyBoKFwiYnV0dG9uXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmVcIixcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBpMThuKCdhZGRNb3JlRmlsZXMnKSxcbiAgICB0aXRsZTogaTE4bignYWRkTW9yZUZpbGVzJyksXG4gICAgb25DbGljazogKCkgPT4gdG9nZ2xlQWRkRmlsZXNQYW5lbCh0cnVlKVxuICB9LCBoKFwic3ZnXCIsIHtcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgIGNsYXNzTmFtZTogXCJ1cHB5LWMtaWNvblwiLFxuICAgIHdpZHRoOiBcIjE1XCIsXG4gICAgaGVpZ2h0OiBcIjE1XCIsXG4gICAgdmlld0JveDogXCIwIDAgMTUgMTVcIlxuICB9LCBoKFwicGF0aFwiLCB7XG4gICAgZDogXCJNOCA2LjVoNmEuNS41IDAgMCAxIC41LjV2LjVhLjUuNSAwIDAgMS0uNS41SDh2NmEuNS41IDAgMCAxLS41LjVIN2EuNS41IDAgMCAxLS41LS41VjhoLTZhLjUuNSAwIDAgMS0uNS0uNVY3YS41LjUgMCAwIDEgLjUtLjVoNnYtNkEuNS41IDAgMCAxIDcgMGguNWEuNS41IDAgMCAxIC41LjV2NnpcIlxuICB9KSksIGgoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1EYXNoYm9hcmRDb250ZW50LWFkZE1vcmVDYXB0aW9uXCJcbiAgfSwgaTE4bignYWRkTW9yZScpKSkgOiBoKFwiZGl2XCIsIG51bGwpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUGFuZWxUb3BCYXI7IiwiaW1wb3J0IHsgY2xvbmVFbGVtZW50LCBDb21wb25lbnQsIHRvQ2hpbGRBcnJheSB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmNvbnN0IHRyYW5zaXRpb25OYW1lID0gJ3VwcHktdHJhbnNpdGlvbi1zbGlkZURvd25VcCc7XG5jb25zdCBkdXJhdGlvbiA9IDI1MDtcbi8qKlxuICogVmVydGljYWwgc2xpZGUgdHJhbnNpdGlvbi5cbiAqXG4gKiBUaGlzIGNhbiB0YWtlIGEgX3NpbmdsZV8gY2hpbGQgY29tcG9uZW50LCB3aGljaCBfbXVzdF8gYWNjZXB0IGEgYGNsYXNzTmFtZWAgcHJvcC5cbiAqXG4gKiBDdXJyZW50bHkgdGhpcyBpcyBzcGVjaWZpYyB0byB0aGUgYHVwcHktdHJhbnNpdGlvbi1zbGlkZURvd25VcGAgdHJhbnNpdGlvbixcbiAqIGJ1dCBpdCBzaG91bGQgYmUgc2ltcGxlIHRvIGV4dGVuZCB0aGlzIGZvciBhbnkgdHlwZSBvZiBzaW5nbGUtZWxlbWVudFxuICogdHJhbnNpdGlvbiBieSBzZXR0aW5nIHRoZSBDU1MgbmFtZSBhbmQgZHVyYXRpb24gYXMgcHJvcHMuXG4gKi9cblxuY2xhc3MgU2xpZGUgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY2FjaGVkQ2hpbGRyZW46IG51bGwsXG4gICAgICBjbGFzc05hbWU6ICcnXG4gICAgfTtcbiAgfSAvLyBUT0RPOiByZWZhY3RvciB0byBzdGFibGUgbGlmZWN5Y2xlIG1ldGhvZFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblxuXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2FjaGVkQ2hpbGRyZW5cbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBjaGlsZCA9IHRvQ2hpbGRBcnJheShuZXh0UHJvcHMuY2hpbGRyZW4pWzBdO1xuICAgIGlmIChjYWNoZWRDaGlsZHJlbiA9PT0gY2hpbGQpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHBhdGNoID0ge1xuICAgICAgY2FjaGVkQ2hpbGRyZW46IGNoaWxkXG4gICAgfTsgLy8gRW50ZXIgdHJhbnNpdGlvblxuXG4gICAgaWYgKGNoaWxkICYmICFjYWNoZWRDaGlsZHJlbikge1xuICAgICAgcGF0Y2guY2xhc3NOYW1lID0gYCR7dHJhbnNpdGlvbk5hbWV9LWVudGVyYDtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRnJhbWUpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubGVhdmVUaW1lb3V0KTtcbiAgICAgIHRoaXMubGVhdmVUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIC8vIEZvcmNlIGl0IHRvIHJlbmRlciBiZWZvcmUgd2UgYWRkIHRoZSBhY3RpdmUgY2xhc3NcbiAgICAgICAgLy8gdGhpcy5iYXNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGNsYXNzTmFtZTogYCR7dHJhbnNpdGlvbk5hbWV9LWVudGVyICR7dHJhbnNpdGlvbk5hbWV9LWVudGVyLWFjdGl2ZWBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZW50ZXJUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICcnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIGR1cmF0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0gLy8gTGVhdmUgdHJhbnNpdGlvblxuXG5cbiAgICBpZiAoY2FjaGVkQ2hpbGRyZW4gJiYgIWNoaWxkICYmIHRoaXMubGVhdmVUaW1lb3V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhdGNoLmNhY2hlZENoaWxkcmVuID0gY2FjaGVkQ2hpbGRyZW47XG4gICAgICBwYXRjaC5jbGFzc05hbWUgPSBgJHt0cmFuc2l0aW9uTmFtZX0tbGVhdmVgO1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25GcmFtZSk7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5lbnRlclRpbWVvdXQpO1xuICAgICAgdGhpcy5lbnRlclRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY2xhc3NOYW1lOiBgJHt0cmFuc2l0aW9uTmFtZX0tbGVhdmUgJHt0cmFuc2l0aW9uTmFtZX0tbGVhdmUtYWN0aXZlYFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sZWF2ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGNhY2hlZENoaWxkcmVuOiBudWxsLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCBkdXJhdGlvbik7XG4gICAgICB9KTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG5cbiAgICB0aGlzLnNldFN0YXRlKHBhdGNoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjYWNoZWRDaGlsZHJlbixcbiAgICAgIGNsYXNzTmFtZVxuICAgIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgaWYgKCFjYWNoZWRDaGlsZHJlbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsb25lRWxlbWVudChjYWNoZWRDaGlsZHJlbiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGNsYXNzTmFtZSwgY2FjaGVkQ2hpbGRyZW4ucHJvcHMuY2xhc3NOYW1lKVxuICAgIH0pO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2xpZGU7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbi8qKlxuICogQWRhcHRlZCBmcm9tIHByZWFjdC12aXJ0dWFsLWxpc3Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQvcHJlYWN0LXZpcnR1YWwtbGlzdFxuICpcbiAqIMKpIDIwMTYgSmFzb24gTWlsbGVyXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gKiBTT0ZUV0FSRS5cbiAqXG4gKiBBZGFwdGF0aW9uczpcbiAqIC0gQWRkZWQgcm9sZT1wcmVzZW50YXRpb24gdG8gaGVscGVyIGVsZW1lbnRzXG4gKiAtIFR3ZWFrZWQgc3R5bGVzIGZvciBVcHB5J3MgRGFzaGJvYXJkIHVzZSBjYXNlXG4gKi9cbmltcG9ydCB7IGgsIENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5jb25zdCBTVFlMRV9JTk5FUiA9IHtcbiAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gIC8vIERpc2FibGVkIGZvciBvdXIgdXNlIGNhc2U6IHRoZSB3cmFwcGVyIGVsZW1lbnRzIGFyb3VuZCBGaWxlTGlzdCBhbHJlYWR5IGRlYWwgd2l0aCBvdmVyZmxvdyxcbiAgLy8gYW5kIHRoaXMgYWRkaXRpb25hbCBwcm9wZXJ0eSB3b3VsZCBoaWRlIHRoaW5ncyB0aGF0IHdlIHdhbnQgdG8gc2hvdy5cbiAgLy9cbiAgLy8gb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICB3aWR0aDogJzEwMCUnLFxuICBtaW5IZWlnaHQ6ICcxMDAlJ1xufTtcbmNvbnN0IFNUWUxFX0NPTlRFTlQgPSB7XG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB0b3A6IDAsXG4gIGxlZnQ6IDAsXG4gIC8vIEJlY2F1c2UgdGhlIGB0b3BgIHZhbHVlIGdldHMgc2V0IHRvIHNvbWUgb2Zmc2V0LCB0aGlzIGBoZWlnaHRgIGJlaW5nIDEwMCUgd291bGQgbWFrZSB0aGUgc2Nyb2xsYmFyXG4gIC8vIHN0cmV0Y2ggZmFyIGJleW9uZCB0aGUgY29udGVudC4gRm9yIG91ciB1c2UgY2FzZSwgdGhlIGNvbnRlbnQgZGl2IGFjdHVhbGx5IGNhbiBnZXQgaXRzIGhlaWdodCBmcm9tXG4gIC8vIHRoZSBlbGVtZW50cyBpbnNpZGUgaXQsIHNvIHdlIGRvbid0IG5lZWQgdG8gc3BlY2lmeSBhIGBoZWlnaHRgIHByb3BlcnR5IGF0IGFsbC5cbiAgLy9cbiAgLy8gaGVpZ2h0OiAnMTAwJScsXG4gIHdpZHRoOiAnMTAwJScsXG4gIG92ZXJmbG93OiAndmlzaWJsZSdcbn07XG5cbmNsYXNzIFZpcnR1YWxMaXN0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7IC8vIFRoZSBjdXJyZW50bHkgZm9jdXNlZCBub2RlLCB1c2VkIHRvIHJldGFpbiBmb2N1cyB3aGVuIHRoZSB2aXNpYmxlIHJvd3MgY2hhbmdlLlxuICAgIC8vIFRvIGF2b2lkIHVwZGF0ZSBsb29wcywgdGhpcyBzaG91bGQgbm90IGNhdXNlIHN0YXRlIHVwZGF0ZXMsIHNvIGl0J3Mga2VwdCBhcyBhIHBsYWluIHByb3BlcnR5LlxuXG4gICAgdGhpcy5oYW5kbGVTY3JvbGwgPSAoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb2Zmc2V0OiB0aGlzLmJhc2Uuc2Nyb2xsVG9wXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIH07XG5cbiAgICB0aGlzLmZvY3VzRWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9mZnNldDogMCxcbiAgICAgIGhlaWdodDogMFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSk7XG4gIH0gLy8gVE9ETzogcmVmYWN0b3IgdG8gc3RhYmxlIGxpZmVjeWNsZSBtZXRob2RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cblxuICBjb21wb25lbnRXaWxsVXBkYXRlKCkge1xuICAgIGlmICh0aGlzLmJhc2UuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgIHRoaXMuZm9jdXNFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgLy8gTWFpbnRhaW4gZm9jdXMgd2hlbiByb3dzIGFyZSBhZGRlZCBhbmQgcmVtb3ZlZC5cbiAgICBpZiAodGhpcy5mb2N1c0VsZW1lbnQgJiYgdGhpcy5mb2N1c0VsZW1lbnQucGFyZW50Tm9kZSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSB0aGlzLmZvY3VzRWxlbWVudCkge1xuICAgICAgdGhpcy5mb2N1c0VsZW1lbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICB0aGlzLmZvY3VzRWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5yZXNpemUoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSk7XG4gIH1cblxuICByZXNpemUoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaGVpZ2h0XG4gICAgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAoaGVpZ2h0ICE9PSB0aGlzLmJhc2Uub2Zmc2V0SGVpZ2h0KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmJhc2Uub2Zmc2V0SGVpZ2h0XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoX3JlZikge1xuICAgIGxldCB7XG4gICAgICBkYXRhLFxuICAgICAgcm93SGVpZ2h0LFxuICAgICAgcmVuZGVyUm93LFxuICAgICAgb3ZlcnNjYW5Db3VudCA9IDEwLFxuICAgICAgLi4ucHJvcHNcbiAgICB9ID0gX3JlZjtcbiAgICBjb25zdCB7XG4gICAgICBvZmZzZXQsXG4gICAgICBoZWlnaHRcbiAgICB9ID0gdGhpcy5zdGF0ZTsgLy8gZmlyc3QgdmlzaWJsZSByb3cgaW5kZXhcblxuICAgIGxldCBzdGFydCA9IE1hdGguZmxvb3Iob2Zmc2V0IC8gcm93SGVpZ2h0KTsgLy8gYWN0dWFsIG51bWJlciBvZiB2aXNpYmxlIHJvd3MgKHdpdGhvdXQgb3ZlcnNjYW4pXG5cbiAgICBsZXQgdmlzaWJsZVJvd0NvdW50ID0gTWF0aC5mbG9vcihoZWlnaHQgLyByb3dIZWlnaHQpOyAvLyBPdmVyc2NhbjogcmVuZGVyIGJsb2NrcyBvZiByb3dzIG1vZHVsbyBhbiBvdmVyc2NhbiByb3cgY291bnRcbiAgICAvLyBUaGlzIGRyYW1hdGljYWxseSByZWR1Y2VzIERPTSB3cml0ZXMgZHVyaW5nIHNjcm9sbGluZ1xuXG4gICAgaWYgKG92ZXJzY2FuQ291bnQpIHtcbiAgICAgIHN0YXJ0ID0gTWF0aC5tYXgoMCwgc3RhcnQgLSBzdGFydCAlIG92ZXJzY2FuQ291bnQpO1xuICAgICAgdmlzaWJsZVJvd0NvdW50ICs9IG92ZXJzY2FuQ291bnQ7XG4gICAgfSAvLyBsYXN0IHZpc2libGUgKyBvdmVyc2NhbiByb3cgaW5kZXggKyBwYWRkaW5nIHRvIGFsbG93IGtleWJvYXJkIGZvY3VzIHRvIHRyYXZlbCBwYXN0IHRoZSB2aXNpYmxlIGFyZWFcblxuXG4gICAgY29uc3QgZW5kID0gc3RhcnQgKyB2aXNpYmxlUm93Q291bnQgKyA0OyAvLyBkYXRhIHNsaWNlIGN1cnJlbnRseSBpbiB2aWV3cG9ydCBwbHVzIG92ZXJzY2FuIGl0ZW1zXG5cbiAgICBjb25zdCBzZWxlY3Rpb24gPSBkYXRhLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIGNvbnN0IHN0eWxlSW5uZXIgPSB7IC4uLlNUWUxFX0lOTkVSLFxuICAgICAgaGVpZ2h0OiBkYXRhLmxlbmd0aCAqIHJvd0hlaWdodFxuICAgIH07XG4gICAgY29uc3Qgc3R5bGVDb250ZW50ID0geyAuLi5TVFlMRV9DT05URU5ULFxuICAgICAgdG9wOiBzdGFydCAqIHJvd0hlaWdodFxuICAgIH07IC8vIFRoZSBgcm9sZT1cInByZXNlbnRhdGlvblwiYCBhdHRyaWJ1dGVzIGVuc3VyZSB0aGF0IHRoZXNlIHdyYXBwZXIgZWxlbWVudHMgYXJlIG5vdCB0cmVhdGVkIGFzIGxpc3RcbiAgICAvLyBpdGVtcyBieSBhY2Nlc3NpYmlsaXR5IGFuZCBvdXRsaW5lIHRvb2xzLlxuXG4gICAgcmV0dXJuICgvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvanN4LXByb3BzLW5vLXNwcmVhZGluZ1xuICAgICAgaChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgICAgIG9uU2Nyb2xsOiB0aGlzLmhhbmRsZVNjcm9sbFxuICAgICAgfSwgcHJvcHMpLCBoKFwiZGl2XCIsIHtcbiAgICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIixcbiAgICAgICAgc3R5bGU6IHN0eWxlSW5uZXJcbiAgICAgIH0sIGgoXCJkaXZcIiwge1xuICAgICAgICByb2xlOiBcInByZXNlbnRhdGlvblwiLFxuICAgICAgICBzdHlsZTogc3R5bGVDb250ZW50XG4gICAgICB9LCBzZWxlY3Rpb24ubWFwKHJlbmRlclJvdykpKSlcbiAgICApO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlydHVhbExpc3Q7IiwiZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gXCIuL0Rhc2hib2FyZC5qc1wiOyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgc3RyaW5nczoge1xuICAgIC8vIFdoZW4gYGlubGluZTogZmFsc2VgLCB1c2VkIGFzIHRoZSBzY3JlZW4gcmVhZGVyIGxhYmVsIGZvciB0aGUgYnV0dG9uIHRoYXQgY2xvc2VzIHRoZSBtb2RhbC5cbiAgICBjbG9zZU1vZGFsOiAnQ2xvc2UgTW9kYWwnLFxuICAgIC8vIFVzZWQgYXMgdGhlIHNjcmVlbiByZWFkZXIgbGFiZWwgZm9yIHRoZSBwbHVzICgrKSBidXR0b24gdGhhdCBzaG93cyB0aGUg4oCcQWRkIG1vcmUgZmlsZXPigJ0gc2NyZWVuXG4gICAgYWRkTW9yZUZpbGVzOiAnQWRkIG1vcmUgZmlsZXMnLFxuICAgIGFkZGluZ01vcmVGaWxlczogJ0FkZGluZyBtb3JlIGZpbGVzJyxcbiAgICAvLyBVc2VkIGFzIHRoZSBoZWFkZXIgZm9yIGltcG9ydCBwYW5lbHMsIGUuZy4sIOKAnEltcG9ydCBmcm9tIEdvb2dsZSBEcml2ZeKAnS5cbiAgICBpbXBvcnRGcm9tOiAnSW1wb3J0IGZyb20gJXtuYW1lfScsXG4gICAgLy8gV2hlbiBgaW5saW5lOiBmYWxzZWAsIHVzZWQgYXMgdGhlIHNjcmVlbiByZWFkZXIgbGFiZWwgZm9yIHRoZSBkYXNoYm9hcmQgbW9kYWwuXG4gICAgZGFzaGJvYXJkV2luZG93VGl0bGU6ICdVcHB5IERhc2hib2FyZCBXaW5kb3cgKFByZXNzIGVzY2FwZSB0byBjbG9zZSknLFxuICAgIC8vIFdoZW4gYGlubGluZTogdHJ1ZWAsIHVzZWQgYXMgdGhlIHNjcmVlbiByZWFkZXIgbGFiZWwgZm9yIHRoZSBkYXNoYm9hcmQgYXJlYS5cbiAgICBkYXNoYm9hcmRUaXRsZTogJ1VwcHkgRGFzaGJvYXJkJyxcbiAgICAvLyBTaG93biBpbiB0aGUgSW5mb3JtZXIgd2hlbiBhIGxpbmsgdG8gYSBmaWxlIHdhcyBjb3BpZWQgdG8gdGhlIGNsaXBib2FyZC5cbiAgICBjb3B5TGlua1RvQ2xpcGJvYXJkU3VjY2VzczogJ0xpbmsgY29waWVkIHRvIGNsaXBib2FyZC4nLFxuICAgIC8vIFVzZWQgd2hlbiBhIGxpbmsgY2Fubm90IGJlIGNvcGllZCBhdXRvbWF0aWNhbGx5IOKAlCB0aGUgdXNlciBoYXMgdG8gc2VsZWN0IHRoZSB0ZXh0IGZyb20gdGhlXG4gICAgLy8gaW5wdXQgZWxlbWVudCBiZWxvdyB0aGlzIHN0cmluZy5cbiAgICBjb3B5TGlua1RvQ2xpcGJvYXJkRmFsbGJhY2s6ICdDb3B5IHRoZSBVUkwgYmVsb3cnLFxuICAgIC8vIFVzZWQgYXMgdGhlIGhvdmVyIHRpdGxlIGFuZCBzY3JlZW4gcmVhZGVyIGxhYmVsIGZvciBidXR0b25zIHRoYXQgY29weSBhIGZpbGUgbGluay5cbiAgICBjb3B5TGluazogJ0NvcHkgbGluaycsXG4gICAgYmFjazogJ0JhY2snLFxuICAgIC8vIFVzZWQgYXMgdGhlIHNjcmVlbiByZWFkZXIgbGFiZWwgZm9yIGJ1dHRvbnMgdGhhdCByZW1vdmUgYSBmaWxlLlxuICAgIHJlbW92ZUZpbGU6ICdSZW1vdmUgZmlsZScsXG4gICAgLy8gVXNlZCBhcyB0aGUgc2NyZWVuIHJlYWRlciBsYWJlbCBmb3IgYnV0dG9ucyB0aGF0IG9wZW4gdGhlIG1ldGFkYXRhIGVkaXRvciBwYW5lbCBmb3IgYSBmaWxlLlxuICAgIGVkaXRGaWxlOiAnRWRpdCBmaWxlJyxcbiAgICAvLyBTaG93biBpbiB0aGUgcGFuZWwgaGVhZGVyIGZvciB0aGUgbWV0YWRhdGEgZWRpdG9yLiBSZW5kZXJlZCBhcyDigJxFZGl0aW5nIGltYWdlLnBuZ+KAnS5cbiAgICBlZGl0aW5nOiAnRWRpdGluZyAle2ZpbGV9JyxcbiAgICAvLyBTaG93biBvbiB0aGUgbWFpbiB1cGxvYWQgc2NyZWVuIHdoZW4gYW4gdXBsb2FkIGVycm9yIG9jY3Vyc1xuICAgIGVycm9yOiAnRXJyb3InLFxuICAgIC8vIFVzZWQgYXMgdGhlIHNjcmVlbiByZWFkZXIgbGFiZWwgZm9yIHRoZSBidXR0b24gdGhhdCBzYXZlcyBtZXRhZGF0YSBlZGl0cyBhbmQgcmV0dXJucyB0byB0aGVcbiAgICAvLyBmaWxlIGxpc3Qgdmlldy5cbiAgICBmaW5pc2hFZGl0aW5nRmlsZTogJ0ZpbmlzaCBlZGl0aW5nIGZpbGUnLFxuICAgIHNhdmVDaGFuZ2VzOiAnU2F2ZSBjaGFuZ2VzJyxcbiAgICAvLyBVc2VkIGFzIHRoZSBsYWJlbCBmb3IgdGhlIHRhYiBidXR0b24gdGhhdCBvcGVucyB0aGUgc3lzdGVtIGZpbGUgc2VsZWN0aW9uIGRpYWxvZy5cbiAgICBteURldmljZTogJ015IERldmljZScsXG4gICAgZHJvcEhpbnQ6ICdEcm9wIHlvdXIgZmlsZXMgaGVyZScsXG4gICAgLy8gVXNlZCBhcyB0aGUgaG92ZXIgdGV4dCBhbmQgc2NyZWVuIHJlYWRlciBsYWJlbCBmb3IgZmlsZSBwcm9ncmVzcyBpbmRpY2F0b3JzIHdoZW5cbiAgICAvLyB0aGV5IGhhdmUgYmVlbiBmdWxseSB1cGxvYWRlZC5cbiAgICB1cGxvYWRDb21wbGV0ZTogJ1VwbG9hZCBjb21wbGV0ZScsXG4gICAgdXBsb2FkUGF1c2VkOiAnVXBsb2FkIHBhdXNlZCcsXG4gICAgLy8gVXNlZCBhcyB0aGUgaG92ZXIgdGV4dCBhbmQgc2NyZWVuIHJlYWRlciBsYWJlbCBmb3IgdGhlIGJ1dHRvbnMgdG8gcmVzdW1lIHBhdXNlZCB1cGxvYWRzLlxuICAgIHJlc3VtZVVwbG9hZDogJ1Jlc3VtZSB1cGxvYWQnLFxuICAgIC8vIFVzZWQgYXMgdGhlIGhvdmVyIHRleHQgYW5kIHNjcmVlbiByZWFkZXIgbGFiZWwgZm9yIHRoZSBidXR0b25zIHRvIHBhdXNlIHVwbG9hZHMuXG4gICAgcGF1c2VVcGxvYWQ6ICdQYXVzZSB1cGxvYWQnLFxuICAgIC8vIFVzZWQgYXMgdGhlIGhvdmVyIHRleHQgYW5kIHNjcmVlbiByZWFkZXIgbGFiZWwgZm9yIHRoZSBidXR0b25zIHRvIHJldHJ5IGZhaWxlZCB1cGxvYWRzLlxuICAgIHJldHJ5VXBsb2FkOiAnUmV0cnkgdXBsb2FkJyxcbiAgICAvLyBVc2VkIGFzIHRoZSBob3ZlciB0ZXh0IGFuZCBzY3JlZW4gcmVhZGVyIGxhYmVsIGZvciB0aGUgYnV0dG9ucyB0byBjYW5jZWwgdXBsb2Fkcy5cbiAgICBjYW5jZWxVcGxvYWQ6ICdDYW5jZWwgdXBsb2FkJyxcbiAgICAvLyBVc2VkIGluIGEgdGl0bGUsIGhvdyBtYW55IGZpbGVzIGFyZSBjdXJyZW50bHkgc2VsZWN0ZWRcbiAgICB4RmlsZXNTZWxlY3RlZDoge1xuICAgICAgMDogJyV7c21hcnRfY291bnR9IGZpbGUgc2VsZWN0ZWQnLFxuICAgICAgMTogJyV7c21hcnRfY291bnR9IGZpbGVzIHNlbGVjdGVkJ1xuICAgIH0sXG4gICAgdXBsb2FkaW5nWEZpbGVzOiB7XG4gICAgICAwOiAnVXBsb2FkaW5nICV7c21hcnRfY291bnR9IGZpbGUnLFxuICAgICAgMTogJ1VwbG9hZGluZyAle3NtYXJ0X2NvdW50fSBmaWxlcydcbiAgICB9LFxuICAgIHByb2Nlc3NpbmdYRmlsZXM6IHtcbiAgICAgIDA6ICdQcm9jZXNzaW5nICV7c21hcnRfY291bnR9IGZpbGUnLFxuICAgICAgMTogJ1Byb2Nlc3NpbmcgJXtzbWFydF9jb3VudH0gZmlsZXMnXG4gICAgfSxcbiAgICAvLyBUaGUgXCJwb3dlcmVkIGJ5IFVwcHlcIiBsaW5rIGF0IHRoZSBib3R0b20gb2YgdGhlIERhc2hib2FyZC5cbiAgICBwb3dlcmVkQnk6ICdQb3dlcmVkIGJ5ICV7dXBweX0nLFxuICAgIGFkZE1vcmU6ICdBZGQgbW9yZScsXG4gICAgZWRpdEZpbGVXaXRoRmlsZW5hbWU6ICdFZGl0IGZpbGUgJXtmaWxlfScsXG4gICAgc2F2ZTogJ1NhdmUnLFxuICAgIGNhbmNlbDogJ0NhbmNlbCcsXG4gICAgZHJvcFBhc3RlRmlsZXM6ICdEcm9wIGZpbGVzIGhlcmUgb3IgJXticm93c2VGaWxlc30nLFxuICAgIGRyb3BQYXN0ZUZvbGRlcnM6ICdEcm9wIGZpbGVzIGhlcmUgb3IgJXticm93c2VGb2xkZXJzfScsXG4gICAgZHJvcFBhc3RlQm90aDogJ0Ryb3AgZmlsZXMgaGVyZSwgJXticm93c2VGaWxlc30gb3IgJXticm93c2VGb2xkZXJzfScsXG4gICAgZHJvcFBhc3RlSW1wb3J0RmlsZXM6ICdEcm9wIGZpbGVzIGhlcmUsICV7YnJvd3NlRmlsZXN9IG9yIGltcG9ydCBmcm9tOicsXG4gICAgZHJvcFBhc3RlSW1wb3J0Rm9sZGVyczogJ0Ryb3AgZmlsZXMgaGVyZSwgJXticm93c2VGb2xkZXJzfSBvciBpbXBvcnQgZnJvbTonLFxuICAgIGRyb3BQYXN0ZUltcG9ydEJvdGg6ICdEcm9wIGZpbGVzIGhlcmUsICV7YnJvd3NlRmlsZXN9LCAle2Jyb3dzZUZvbGRlcnN9IG9yIGltcG9ydCBmcm9tOicsXG4gICAgaW1wb3J0RmlsZXM6ICdJbXBvcnQgZmlsZXMgZnJvbTonLFxuICAgIGJyb3dzZUZpbGVzOiAnYnJvd3NlIGZpbGVzJyxcbiAgICBicm93c2VGb2xkZXJzOiAnYnJvd3NlIGZvbGRlcnMnLFxuICAgIHJlY292ZXJlZFhGaWxlczoge1xuICAgICAgMDogJ1dlIGNvdWxkIG5vdCBmdWxseSByZWNvdmVyIDEgZmlsZS4gUGxlYXNlIHJlLXNlbGVjdCBpdCBhbmQgcmVzdW1lIHRoZSB1cGxvYWQuJyxcbiAgICAgIDE6ICdXZSBjb3VsZCBub3QgZnVsbHkgcmVjb3ZlciAle3NtYXJ0X2NvdW50fSBmaWxlcy4gUGxlYXNlIHJlLXNlbGVjdCB0aGVtIGFuZCByZXN1bWUgdGhlIHVwbG9hZC4nXG4gICAgfSxcbiAgICByZWNvdmVyZWRBbGxGaWxlczogJ1dlIHJlc3RvcmVkIGFsbCBmaWxlcy4gWW91IGNhbiBub3cgcmVzdW1lIHRoZSB1cGxvYWQuJyxcbiAgICBzZXNzaW9uUmVzdG9yZWQ6ICdTZXNzaW9uIHJlc3RvcmVkJyxcbiAgICByZVNlbGVjdDogJ1JlLXNlbGVjdCcsXG4gICAgbWlzc2luZ1JlcXVpcmVkTWV0YUZpZWxkczoge1xuICAgICAgMDogJ01pc3NpbmcgcmVxdWlyZWQgbWV0YSBmaWVsZDogJXtmaWVsZHN9LicsXG4gICAgICAxOiAnTWlzc2luZyByZXF1aXJlZCBtZXRhIGZpZWxkczogJXtmaWVsZHN9LidcbiAgICB9LFxuICAgIC8vIFVzZWQgZm9yIG5hdGl2ZSBkZXZpY2UgY2FtZXJhIGJ1dHRvbnMgb24gbW9iaWxlXG4gICAgdGFrZVBpY3R1cmVCdG46ICdUYWtlIFBpY3R1cmUnLFxuICAgIHJlY29yZFZpZGVvQnRuOiAnUmVjb3JkIFZpZGVvJ1xuICB9XG59OyIsIi8qKlxuICogQ29waWVzIHRleHQgdG8gY2xpcGJvYXJkIGJ5IGNyZWF0aW5nIGFuIGFsbW9zdCBpbnZpc2libGUgdGV4dGFyZWEsXG4gKiBhZGRpbmcgdGV4dCB0aGVyZSwgdGhlbiBydW5uaW5nIGV4ZWNDb21tYW5kKCdjb3B5JykuXG4gKiBGYWxscyBiYWNrIHRvIHByb21wdCgpIHdoZW4gdGhlIGVhc3kgd2F5IGZhaWxzIChoZWxsbywgU2FmYXJpISlcbiAqIEZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzA4MTAzMjJcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFRvQ29weVxuICogQHBhcmFtIHtzdHJpbmd9IGZhbGxiYWNrU3RyaW5nXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29weVRvQ2xpcGJvYXJkKHRleHRUb0NvcHksIGZhbGxiYWNrU3RyaW5nKSB7XG4gIGlmIChmYWxsYmFja1N0cmluZyA9PT0gdm9pZCAwKSB7XG4gICAgZmFsbGJhY2tTdHJpbmcgPSAnQ29weSB0aGUgVVJMIGJlbG93JztcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBjb25zdCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgdGV4dEFyZWEuc2V0QXR0cmlidXRlKCdzdHlsZScsIHtcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHdpZHRoOiAnMmVtJyxcbiAgICAgIGhlaWdodDogJzJlbScsXG4gICAgICBwYWRkaW5nOiAwLFxuICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICBib3hTaGFkb3c6ICdub25lJyxcbiAgICAgIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCdcbiAgICB9KTtcbiAgICB0ZXh0QXJlYS52YWx1ZSA9IHRleHRUb0NvcHk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXh0QXJlYSk7XG4gICAgdGV4dEFyZWEuc2VsZWN0KCk7XG5cbiAgICBjb25zdCBtYWdpY0NvcHlGYWlsZWQgPSAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRleHRBcmVhKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFsZXJ0XG5cbiAgICAgIHdpbmRvdy5wcm9tcHQoZmFsbGJhY2tTdHJpbmcsIHRleHRUb0NvcHkpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3VjY2Vzc2Z1bCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XG5cbiAgICAgIGlmICghc3VjY2Vzc2Z1bCkge1xuICAgICAgICByZXR1cm4gbWFnaWNDb3B5RmFpbGVkKCdjb3B5IGNvbW1hbmQgdW5hdmFpbGFibGUnKTtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0QXJlYSk7XG4gICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0QXJlYSk7XG4gICAgICByZXR1cm4gbWFnaWNDb3B5RmFpbGVkKGVycik7XG4gICAgfVxuICB9KTtcbn0iLCJpbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoLmRlYm91bmNlJztcbmltcG9ydCBGT0NVU0FCTEVfRUxFTUVOVFMgZnJvbSAnQHVwcHkvdXRpbHMvbGliL0ZPQ1VTQUJMRV9FTEVNRU5UUyc7XG5pbXBvcnQgZ2V0QWN0aXZlT3ZlcmxheUVsIGZyb20gJy4vZ2V0QWN0aXZlT3ZlcmxheUVsLmpzJztcbi8qXG4gIEZvY3VzZXMgb24gc29tZSBlbGVtZW50IGluIHRoZSBjdXJyZW50bHkgdG9wbW9zdCBvdmVybGF5LlxuXG4gIDEuIElmIHRoZXJlIGFyZSBzb21lIFtkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXSBlbGVtZW50cyByZW5kZXJlZCBhbHJlYWR5IC0gZm9jdXNlc1xuICAgICBvbiB0aGUgZmlyc3Qgc3VwZXJmb2N1c2FibGUgZWxlbWVudCwgYW5kIGxlYXZlcyBmb2N1cyB1cCB0byB0aGUgY29udHJvbCBvZlxuICAgICBhIHVzZXIgKHVudGlsIGN1cnJlbnRseSBmb2N1c2VkIGVsZW1lbnQgZGlzYXBwZWFycyBmcm9tIHRoZSBzY3JlZW4gW3doaWNoXG4gICAgIGNhbiBoYXBwZW4gd2hlbiBvdmVybGF5IGNoYW5nZXMsIG9yLCBlLmcuLCB3aGVuIHdlIGNsaWNrIG9uIGEgZm9sZGVyIGluIGdvb2dsZWRyaXZlXSkuXG4gIDIuIElmIHRoZXJlIGFyZSBubyBbZGF0YS11cHB5LXN1cGVyLWZvY3VzYWJsZV0gZWxlbWVudHMgeWV0IChvciBldmVyKSAtIGZvY3VzZXNcbiAgICAgb24gdGhlIGZpcnN0IGZvY3VzYWJsZSBlbGVtZW50LCBidXQgc3dpdGNoZXMgZm9jdXMgaWYgc3VwZXJmb2N1c2FibGUgZWxlbWVudHMgYXBwZWFyIG9uIG5leHQgcmVuZGVyLlxuKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlU3VwZXJGb2N1cygpIHtcbiAgbGV0IGxhc3RGb2N1c1dhc09uU3VwZXJGb2N1c2FibGVFbCA9IGZhbHNlO1xuXG4gIGNvbnN0IHN1cGVyRm9jdXMgPSAoZGFzaGJvYXJkRWwsIGFjdGl2ZU92ZXJsYXlUeXBlKSA9PiB7XG4gICAgY29uc3Qgb3ZlcmxheUVsID0gZ2V0QWN0aXZlT3ZlcmxheUVsKGRhc2hib2FyZEVsLCBhY3RpdmVPdmVybGF5VHlwZSk7XG4gICAgY29uc3QgaXNGb2N1c0luT3ZlcmxheSA9IG92ZXJsYXlFbC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTsgLy8gSWYgZm9jdXMgaXMgYWxyZWFkeSBpbiB0aGUgdG9wbW9zdCBvdmVybGF5LCBBTkQgb24gbGFzdCB1cGRhdGUgd2UgZm9jdXNlZCBvbiB0aGUgc3VwZXJmb2N1c2FibGVcbiAgICAvLyBlbGVtZW50IC0gdGhlbiBsZWF2ZSBmb2N1cyB1cCB0byB0aGUgdXNlci5cbiAgICAvLyBbUHJhY3RpY2FsIGNoZWNrXSB3aXRob3V0IHRoaXMgbGluZSwgdHlwaW5nIGluIHRoZSBzZWFyY2ggaW5wdXQgaW4gZ29vZ2xlZHJpdmUgb3ZlcmxheSB3b24ndCB3b3JrLlxuXG4gICAgaWYgKGlzRm9jdXNJbk92ZXJsYXkgJiYgbGFzdEZvY3VzV2FzT25TdXBlckZvY3VzYWJsZUVsKSByZXR1cm47XG4gICAgY29uc3Qgc3VwZXJGb2N1c2FibGVFbCA9IG92ZXJsYXlFbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS11cHB5LXN1cGVyLWZvY3VzYWJsZV0nKTsgLy8gSWYgd2UgYXJlIGFscmVhZHkgaW4gdGhlIHRvcG1vc3Qgb3ZlcmxheSwgQU5EIHRoZXJlIGFyZSBubyBzdXBlciBmb2N1c2FibGUgZWxlbWVudHMgeWV0LCAtIGxlYXZlIGZvY3VzIHVwIHRvIHRoZSB1c2VyLlxuICAgIC8vIFtQcmFjdGljYWwgY2hlY2tdIHdpdGhvdXQgdGhpcyBsaW5lLCBpZiB5b3UgYXJlIGluIGFuIGVtcHR5IGZvbGRlciBpbiBnb29nbGUgZHJpdmUsIGFuZCBzb21ldGhpbmcncyB1cGxvYWRpbmcgaW4gdGhlXG4gICAgLy8gYmcsIC0gZm9jdXMgd2lsbCBiZSBqdW1waW5nIHRvIERvbmUgYWxsIHRoZSB0aW1lLlxuXG4gICAgaWYgKGlzRm9jdXNJbk92ZXJsYXkgJiYgIXN1cGVyRm9jdXNhYmxlRWwpIHJldHVybjtcblxuICAgIGlmIChzdXBlckZvY3VzYWJsZUVsKSB7XG4gICAgICBzdXBlckZvY3VzYWJsZUVsLmZvY3VzKHtcbiAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBsYXN0Rm9jdXNXYXNPblN1cGVyRm9jdXNhYmxlRWwgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmaXJzdEVsID0gb3ZlcmxheUVsLnF1ZXJ5U2VsZWN0b3IoRk9DVVNBQkxFX0VMRU1FTlRTKTtcbiAgICAgIGZpcnN0RWwgPT0gbnVsbCA/IHZvaWQgMCA6IGZpcnN0RWwuZm9jdXMoe1xuICAgICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIGxhc3RGb2N1c1dhc09uU3VwZXJGb2N1c2FibGVFbCA9IGZhbHNlO1xuICAgIH1cbiAgfTsgLy8gX19fV2h5IGRvIHdlIG5lZWQgdG8gZGVib3VuY2U/XG4gIC8vICAgIDEuIFRvIGRlYWwgd2l0aCBhbmltYXRpb25zOiBvdmVybGF5IGNoYW5nZXMgdmlhIGFuaW1hdGlvbnMsIHdoaWNoIHJlc3VsdHMgaW4gdGhlIERPTSB1cGRhdGluZyBBRlRFUiBwbHVnaW4udXBkYXRlKClcbiAgLy8gICAgICAgYWxyZWFkeSBleGVjdXRlZC5cbiAgLy8gICAgW1ByYWN0aWNhbCBjaGVja10gd2l0aG91dCBkZWJvdW5jZSwgaWYgd2Ugb3BlbiB0aGUgVXJsIG92ZXJsYXksIGFuZCBjbGljayAnRG9uZScsIERhc2hib2FyZCB3b24ndCBnZXQgZm9jdXNlZCBhZ2Fpbi5cbiAgLy8gICAgW1ByYWN0aWNhbCBjaGVja10gaWYgd2UgZGVsYXkgMjUwbXMgaW5zdGVhZCBvZiAyNjBtcyAtIElFMTEgd29uJ3QgZ2V0IGZvY3VzZWQgaW4gc2FtZSBzaXR1YXRpb24uXG4gIC8vICAgIDIuIFBlcmZvcm1hbmNlOiB0aGVyZSBjYW4gYmUgbWFueSBzdGF0ZSB1cGRhdGUoKXMgaW4gYSBzZWNvbmQsIGFuZCB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBldmVyeSB0aW1lLlxuXG5cbiAgcmV0dXJuIGRlYm91bmNlKHN1cGVyRm9jdXMsIDI2MCk7XG59IiwiLyoqXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IC0gZWl0aGVyIGRhc2hib2FyZCBlbGVtZW50LCBvciB0aGUgb3ZlcmxheSB0aGF0J3MgbW9zdCBvbiB0b3BcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0QWN0aXZlT3ZlcmxheUVsKGRhc2hib2FyZEVsLCBhY3RpdmVPdmVybGF5VHlwZSkge1xuICBpZiAoYWN0aXZlT3ZlcmxheVR5cGUpIHtcbiAgICBjb25zdCBvdmVybGF5RWwgPSBkYXNoYm9hcmRFbC5xdWVyeVNlbGVjdG9yKGBbZGF0YS11cHB5LXBhbmVsdHlwZT1cIiR7YWN0aXZlT3ZlcmxheVR5cGV9XCJdYCk7IC8vIGlmIGFuIG92ZXJsYXkgaXMgYWxyZWFkeSBtb3VudGVkXG5cbiAgICBpZiAob3ZlcmxheUVsKSByZXR1cm4gb3ZlcmxheUVsO1xuICB9XG5cbiAgcmV0dXJuIGRhc2hib2FyZEVsO1xufSIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuXG5mdW5jdGlvbiBpY29uSW1hZ2UoKSB7XG4gIHJldHVybiBoKFwic3ZnXCIsIHtcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgIHdpZHRoOiBcIjI1XCIsXG4gICAgaGVpZ2h0OiBcIjI1XCIsXG4gICAgdmlld0JveDogXCIwIDAgMjUgMjVcIlxuICB9LCBoKFwiZ1wiLCB7XG4gICAgZmlsbDogXCIjNjg2REUwXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0sIGgoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk01IDd2MTBoMTVWN0g1em0wLTFoMTVhMSAxIDAgMCAxIDEgMXYxMGExIDEgMCAwIDEtMSAxSDVhMSAxIDAgMCAxLTEtMVY3YTEgMSAwIDAgMSAxLTF6XCIsXG4gICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiXG4gIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgZDogXCJNNi4zNSAxNy4xNzJsNC45OTQtNS4wMjZhLjUuNSAwIDAgMSAuNzA3IDBsMi4xNiAyLjE2IDMuNTA1LTMuNTA1YS41LjUgMCAwIDEgLjcwNyAwbDIuMzM2IDIuMzEtLjcwNy43Mi0xLjk4My0xLjk3LTMuNTA1IDMuNTA1YS41LjUgMCAwIDEtLjcwNyAwbC0yLjE2LTIuMTU5LTMuOTM4IDMuOTM5LTEuNDA5LjAyNnpcIixcbiAgICBmaWxsUnVsZTogXCJub256ZXJvXCJcbiAgfSksIGgoXCJjaXJjbGVcIiwge1xuICAgIGN4OiBcIjcuNVwiLFxuICAgIGN5OiBcIjkuNVwiLFxuICAgIHI6IFwiMS41XCJcbiAgfSkpKTtcbn1cblxuZnVuY3Rpb24gaWNvbkF1ZGlvKCkge1xuICByZXR1cm4gaChcInN2Z1wiLCB7XG4gICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICBmb2N1c2FibGU6IFwiZmFsc2VcIixcbiAgICBjbGFzc05hbWU6IFwidXBweS1jLWljb25cIixcbiAgICB3aWR0aDogXCIyNVwiLFxuICAgIGhlaWdodDogXCIyNVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCJcbiAgfSwgaChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTkuNSAxOC42NGMwIDEuMTQtMS4xNDUgMi0yLjUgMnMtMi41LS44Ni0yLjUtMmMwLTEuMTQgMS4xNDUtMiAyLjUtMiAuNTU3IDAgMS4wNzkuMTQ1IDEuNS4zOTZWNy4yNWEuNS41IDAgMCAxIC4zNzktLjQ4NWw5LTIuMjVBLjUuNSAwIDAgMSAxOC41IDV2MTEuNjRjMCAxLjE0LTEuMTQ1IDItMi41IDJzLTIuNS0uODYtMi41LTJjMC0xLjE0IDEuMTQ1LTIgMi41LTIgLjU1NyAwIDEuMDc5LjE0NSAxLjUuMzk2VjguNjdsLTggMnY3Ljk3em04LTExdi0ybC04IDJ2Mmw4LTJ6TTcgMTkuNjRjLjg1NSAwIDEuNS0uNDg0IDEuNS0xcy0uNjQ1LTEtMS41LTEtMS41LjQ4NC0xLjUgMSAuNjQ1IDEgMS41IDF6bTktMmMuODU1IDAgMS41LS40ODQgMS41LTFzLS42NDUtMS0xLjUtMS0xLjUuNDg0LTEuNSAxIC42NDUgMSAxLjUgMXpcIixcbiAgICBmaWxsOiBcIiMwNDlCQ0ZcIixcbiAgICBmaWxsUnVsZTogXCJub256ZXJvXCJcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBpY29uVmlkZW8oKSB7XG4gIHJldHVybiBoKFwic3ZnXCIsIHtcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgIGNsYXNzTmFtZTogXCJ1cHB5LWMtaWNvblwiLFxuICAgIHdpZHRoOiBcIjI1XCIsXG4gICAgaGVpZ2h0OiBcIjI1XCIsXG4gICAgdmlld0JveDogXCIwIDAgMjUgMjVcIlxuICB9LCBoKFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTYgMTEuODM0bDQuNDg2LTIuNjkxQTEgMSAwIDAgMSAyMiAxMHY2YTEgMSAwIDAgMS0xLjUxNC44NTdMMTYgMTQuMTY3VjE3YTEgMSAwIDAgMS0xIDFINWExIDEgMCAwIDEtMS0xVjlhMSAxIDAgMCAxIDEtMWgxMGExIDEgMCAwIDEgMSAxdjIuODM0ek0xNSA5SDV2OGgxMFY5em0xIDRsNSAzdi02bC01IDN6XCIsXG4gICAgZmlsbDogXCIjMTlBRjY3XCIsXG4gICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiXG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gaWNvblBERigpIHtcbiAgcmV0dXJuIGgoXCJzdmdcIiwge1xuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uXCIsXG4gICAgd2lkdGg6IFwiMjVcIixcbiAgICBoZWlnaHQ6IFwiMjVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyNSAyNVwiXG4gIH0sIGgoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk05Ljc2NiA4LjI5NWMtLjY5MS0xLjg0My0uNTM5LTMuNDAxLjc0Ny0zLjcyNiAxLjY0My0uNDE0IDIuNTA1LjkzOCAyLjM5IDMuMjk5LS4wMzkuNzktLjE5NCAxLjY2Mi0uNTM3IDMuMTQ4LjMyNC40OS42Ni45NjcgMS4wNTUgMS41MS4xNy4yMzEuMzgyLjQ4OC42MjkuNzU3IDEuODY2LS4xMjggMy42NTMuMTE0IDQuOTE4LjY1NSAxLjQ4Ny42MzUgMi4xOTIgMS42ODUgMS42MTQgMi44NC0uNTY2IDEuMTMzLTEuODM5IDEuMDg0LTMuNDE2LjI0OS0xLjE0MS0uNjA0LTIuNDU3LTEuNjM0LTMuNTEtMi43MDdhMTMuNDY3IDEzLjQ2NyAwIDAgMC0yLjIzOC40MjZjLTEuMzkyIDQuMDUxLTQuNTM0IDYuNDUzLTUuNzA3IDQuNTcyLS45ODYtMS41OCAxLjM4LTQuMjA2IDQuOTE0LTUuMzc1LjA5Ny0uMzIyLjE4NS0uNjU2LjI2NC0xLjAwMS4wOC0uMzUzLjMwNi0xLjMxLjQwNy0xLjczNy0uNjc4LTEuMDU5LTEuMi0yLjAzMS0xLjUzLTIuOTF6bTIuMDk4IDQuODdjLS4wMzMuMTQ0LS4wNjguMjg3LS4xMDQuNDI3bC4wMzMtLjAxLS4wMTIuMDM4YTE0LjA2NSAxNC4wNjUgMCAwIDEgMS4wMi0uMTk3bC0uMDMyLS4wMzMuMDUyLS4wMDRhNy45MDIgNy45MDIgMCAwIDEtLjIwOC0uMjcxYy0uMTk3LS4yNy0uMzgtLjUyNi0uNTU1LS43NzVsLS4wMDYuMDI4LS4wMDItLjAwM2MtLjA3Ni4zMjMtLjE0OC42MzItLjE4Ni44em01Ljc3IDIuOTc4YzEuMTQzLjYwNSAxLjgzMi42MzIgMi4wNTQuMTg3LjI2LS41MTktLjA4Ny0xLjAzNC0xLjExMy0xLjQ3My0uOTExLS4zOS0yLjE3NS0uNjA4LTMuNTUtLjYwOC44NDUuNzY2IDEuNzg3IDEuNDU5IDIuNjA5IDEuODk0ek02LjU1OSAxOC43ODljLjE0LjIyMy42OTMuMTYgMS40MjUtLjQxMy44MjctLjY0OCAxLjYxLTEuNzQ3IDIuMjA4LTMuMjA2LTIuNTYzIDEuMDY0LTQuMTAyIDIuODY3LTMuNjMzIDMuNjJ6bTUuMzQ1LTEwLjk3Yy4wODgtMS43OTMtLjM1MS0yLjQ4LTEuMTQ2LTIuMjgtLjQ3My4xMTktLjU2NCAxLjA1LS4wNTYgMi40MDUuMjEzLjU2Ni41MiAxLjE4OC45MDggMS44NTkuMTgtLjg1OC4yNjgtMS40NTMuMjk0LTEuOTg0elwiLFxuICAgIGZpbGw6IFwiI0UyNTE0QVwiLFxuICAgIGZpbGxSdWxlOiBcIm5vbnplcm9cIlxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGljb25BcmNoaXZlKCkge1xuICByZXR1cm4gaChcInN2Z1wiLCB7XG4gICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICBmb2N1c2FibGU6IFwiZmFsc2VcIixcbiAgICB3aWR0aDogXCIyNVwiLFxuICAgIGhlaWdodDogXCIyNVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI1IDI1XCJcbiAgfSwgaChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEwLjQ1IDIuMDVoMS4wNWEuNS41IDAgMCAxIC41LjV2LjAyNGEuNS41IDAgMCAxLS41LjVoLTEuMDVhLjUuNSAwIDAgMS0uNS0uNVYyLjU1YS41LjUgMCAwIDEgLjUtLjV6bTIuMDUgMS4wMjRoMS4wNWEuNS41IDAgMCAxIC41LjVWMy42YS41LjUgMCAwIDEtLjUuNUgxMi41YS41LjUgMCAwIDEtLjUtLjV2LS4wMjVhLjUuNSAwIDAgMSAuNS0uNXYtLjAwMXpNMTAuNDUgMGgxLjA1YS41LjUgMCAwIDEgLjUuNXYuMDI1YS41LjUgMCAwIDEtLjUuNWgtMS4wNWEuNS41IDAgMCAxLS41LS41Vi41YS41LjUgMCAwIDEgLjUtLjV6bTIuMDUgMS4wMjVoMS4wNWEuNS41IDAgMCAxIC41LjV2LjAyNGEuNS41IDAgMCAxLS41LjVIMTIuNWEuNS41IDAgMCAxLS41LS41di0uMDI0YS41LjUgMCAwIDEgLjUtLjV6bS0yLjA1IDMuMDc0aDEuMDVhLjUuNSAwIDAgMSAuNS41di4wMjVhLjUuNSAwIDAgMS0uNS41aC0xLjA1YS41LjUgMCAwIDEtLjUtLjV2LS4wMjVhLjUuNSAwIDAgMSAuNS0uNXptMi4wNSAxLjAyNWgxLjA1YS41LjUgMCAwIDEgLjUuNXYuMDI0YS41LjUgMCAwIDEtLjUuNUgxMi41YS41LjUgMCAwIDEtLjUtLjV2LS4wMjRhLjUuNSAwIDAgMSAuNS0uNXptLTIuMDUgMS4wMjRoMS4wNWEuNS41IDAgMCAxIC41LjV2LjAyNWEuNS41IDAgMCAxLS41LjVoLTEuMDVhLjUuNSAwIDAgMS0uNS0uNXYtLjAyNWEuNS41IDAgMCAxIC41LS41em0yLjA1IDEuMDI1aDEuMDVhLjUuNSAwIDAgMSAuNS41di4wMjVhLjUuNSAwIDAgMS0uNS41SDEyLjVhLjUuNSAwIDAgMS0uNS0uNXYtLjAyNWEuNS41IDAgMCAxIC41LS41em0tMi4wNSAxLjAyNWgxLjA1YS41LjUgMCAwIDEgLjUuNXYuMDI1YS41LjUgMCAwIDEtLjUuNWgtMS4wNWEuNS41IDAgMCAxLS41LS41di0uMDI1YS41LjUgMCAwIDEgLjUtLjV6bTIuMDUgMS4wMjVoMS4wNWEuNS41IDAgMCAxIC41LjV2LjAyNGEuNS41IDAgMCAxLS41LjVIMTIuNWEuNS41IDAgMCAxLS41LS41di0uMDI0YS41LjUgMCAwIDEgLjUtLjV6bS0xLjY1NiAzLjA3NGwtLjgyIDUuOTQ2Yy41Mi4zMDIgMS4xNzQuNDU4IDEuOTc2LjQ1OC44MDMgMCAxLjQ1NS0uMTU2IDEuOTc1LS40NThsLS44Mi01Ljk0NmgtMi4zMTF6bTAtMS4wMjVoMi4zMTJjLjUxMiAwIC45NDYuMzc4IDEuMDE1Ljg4NWwuODIgNS45NDZjLjA1Ni40MTItLjE0Mi44MTctLjUwMSAxLjAyNi0uNjg2LjM5OC0xLjUxNS41OTctMi40OS41OTctLjk3NCAwLTEuODA0LS4xOTktMi40OS0uNTk3YTEuMDI1IDEuMDI1IDAgMCAxLS41LTEuMDI2bC44MTktNS45NDZjLjA3LS41MDcuNTAzLS44ODUgMS4wMTUtLjg4NXptLjU0NSA2LjZhLjUuNSAwIDAgMS0uMzk3LS41NjFsLjE0My0uOTk5YS41LjUgMCAwIDEgLjQ5NS0uNDI5aC43NGEuNS41IDAgMCAxIC40OTUuNDNsLjE0My45OThhLjUuNSAwIDAgMS0uMzk3LjU2MWMtLjQwNC4wOC0uODE5LjA4LTEuMjIyIDB6XCIsXG4gICAgZmlsbDogXCIjMDBDNDY5XCIsXG4gICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiXG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gaWNvbkZpbGUoKSB7XG4gIHJldHVybiBoKFwic3ZnXCIsIHtcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgIGNsYXNzTmFtZTogXCJ1cHB5LWMtaWNvblwiLFxuICAgIHdpZHRoOiBcIjI1XCIsXG4gICAgaGVpZ2h0OiBcIjI1XCIsXG4gICAgdmlld0JveDogXCIwIDAgMjUgMjVcIlxuICB9LCBoKFwiZ1wiLCB7XG4gICAgZmlsbDogXCIjQTdBRkI3XCIsXG4gICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiXG4gIH0sIGgoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk01LjUgMjJhLjUuNSAwIDAgMS0uNS0uNXYtMThhLjUuNSAwIDAgMSAuNS0uNWgxMC43MTlhLjUuNSAwIDAgMSAuMzY3LjE2bDMuMjgxIDMuNTU2YS41LjUgMCAwIDEgLjEzMy4zMzlWMjEuNWEuNS41IDAgMCAxLS41LjVoLTE0em0uNS0xaDEzVjcuMjVMMTYgNEg2djE3elwiXG4gIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTUgNHYzYTEgMSAwIDAgMCAxIDFoM1Y3aC0zVjRoLTF6XCJcbiAgfSkpKTtcbn1cblxuZnVuY3Rpb24gaWNvblRleHQoKSB7XG4gIHJldHVybiBoKFwic3ZnXCIsIHtcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgIGNsYXNzTmFtZTogXCJ1cHB5LWMtaWNvblwiLFxuICAgIHdpZHRoOiBcIjI1XCIsXG4gICAgaGVpZ2h0OiBcIjI1XCIsXG4gICAgdmlld0JveDogXCIwIDAgMjUgMjVcIlxuICB9LCBoKFwicGF0aFwiLCB7XG4gICAgZDogXCJNNC41IDdoMTNhLjUuNSAwIDEgMSAwIDFoLTEzYS41LjUgMCAwIDEgMC0xem0wIDNoMTVhLjUuNSAwIDEgMSAwIDFoLTE1YS41LjUgMCAxIDEgMC0xem0wIDNoMTVhLjUuNSAwIDEgMSAwIDFoLTE1YS41LjUgMCAxIDEgMC0xem0wIDNoMTBhLjUuNSAwIDEgMSAwIDFoLTEwYS41LjUgMCAxIDEgMC0xelwiLFxuICAgIGZpbGw6IFwiIzVBNUU2OVwiLFxuICAgIGZpbGxSdWxlOiBcIm5vbnplcm9cIlxuICB9KSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEljb25CeU1pbWUoZmlsZVR5cGUpIHtcbiAgY29uc3QgZGVmYXVsdENob2ljZSA9IHtcbiAgICBjb2xvcjogJyM4Mzg5OTknLFxuICAgIGljb246IGljb25GaWxlKClcbiAgfTtcbiAgaWYgKCFmaWxlVHlwZSkgcmV0dXJuIGRlZmF1bHRDaG9pY2U7XG4gIGNvbnN0IGZpbGVUeXBlR2VuZXJhbCA9IGZpbGVUeXBlLnNwbGl0KCcvJylbMF07XG4gIGNvbnN0IGZpbGVUeXBlU3BlY2lmaWMgPSBmaWxlVHlwZS5zcGxpdCgnLycpWzFdOyAvLyBUZXh0XG5cbiAgaWYgKGZpbGVUeXBlR2VuZXJhbCA9PT0gJ3RleHQnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbG9yOiAnIzVhNWU2OScsXG4gICAgICBpY29uOiBpY29uVGV4dCgpXG4gICAgfTtcbiAgfSAvLyBJbWFnZVxuXG5cbiAgaWYgKGZpbGVUeXBlR2VuZXJhbCA9PT0gJ2ltYWdlJykge1xuICAgIHJldHVybiB7XG4gICAgICBjb2xvcjogJyM2ODZkZTAnLFxuICAgICAgaWNvbjogaWNvbkltYWdlKClcbiAgICB9O1xuICB9IC8vIEF1ZGlvXG5cblxuICBpZiAoZmlsZVR5cGVHZW5lcmFsID09PSAnYXVkaW8nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbG9yOiAnIzA2OGRiYicsXG4gICAgICBpY29uOiBpY29uQXVkaW8oKVxuICAgIH07XG4gIH0gLy8gVmlkZW9cblxuXG4gIGlmIChmaWxlVHlwZUdlbmVyYWwgPT09ICd2aWRlbycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sb3I6ICcjMTlhZjY3JyxcbiAgICAgIGljb246IGljb25WaWRlbygpXG4gICAgfTtcbiAgfSAvLyBQREZcblxuXG4gIGlmIChmaWxlVHlwZUdlbmVyYWwgPT09ICdhcHBsaWNhdGlvbicgJiYgZmlsZVR5cGVTcGVjaWZpYyA9PT0gJ3BkZicpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sb3I6ICcjZTI1MTQ5JyxcbiAgICAgIGljb246IGljb25QREYoKVxuICAgIH07XG4gIH0gLy8gQXJjaGl2ZVxuXG5cbiAgY29uc3QgYXJjaGl2ZVR5cGVzID0gWyd6aXAnLCAneC03ei1jb21wcmVzc2VkJywgJ3gtcmFyLWNvbXByZXNzZWQnLCAneC10YXInLCAneC1nemlwJywgJ3gtYXBwbGUtZGlza2ltYWdlJ107XG5cbiAgaWYgKGZpbGVUeXBlR2VuZXJhbCA9PT0gJ2FwcGxpY2F0aW9uJyAmJiBhcmNoaXZlVHlwZXMuaW5kZXhPZihmaWxlVHlwZVNwZWNpZmljKSAhPT0gLTEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sb3I6ICcjMDBDNDY5JyxcbiAgICAgIGljb246IGljb25BcmNoaXZlKClcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGRlZmF1bHRDaG9pY2U7XG59IiwiLy8gaWdub3JlIGRyb3AvcGFzdGUgZXZlbnRzIGlmIHRoZXkgYXJlIG5vdCBpbiBpbnB1dCBvciB0ZXh0YXJlYSDigJRcbi8vIG90aGVyd2lzZSB3aGVuIFVybCBwbHVnaW4gYWRkcyBkcm9wL3Bhc3RlIGxpc3RlbmVycyB0byB0aGlzLmVsLFxuLy8gZHJhZ2luZyBVSSBlbGVtZW50cyBvciBwYXN0aW5nIGFueXRoaW5nIGludG8gYW55IGZpZWxkIHRyaWdnZXJzIHRob3NlIGV2ZW50cyDigJRcbi8vIFVybCB0cmVhdHMgdGhlbSBhcyBVUkxzIHRoYXQgbmVlZCB0byBiZSBpbXBvcnRlZFxuZnVuY3Rpb24gaWdub3JlRXZlbnQoZXYpIHtcbiAgY29uc3Qge1xuICAgIHRhZ05hbWVcbiAgfSA9IGV2LnRhcmdldDtcblxuICBpZiAodGFnTmFtZSA9PT0gJ0lOUFVUJyB8fCB0YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlnbm9yZUV2ZW50OyIsImltcG9ydCB0b0FycmF5IGZyb20gJ0B1cHB5L3V0aWxzL2xpYi90b0FycmF5JztcbmltcG9ydCBGT0NVU0FCTEVfRUxFTUVOVFMgZnJvbSAnQHVwcHkvdXRpbHMvbGliL0ZPQ1VTQUJMRV9FTEVNRU5UUyc7XG5pbXBvcnQgZ2V0QWN0aXZlT3ZlcmxheUVsIGZyb20gJy4vZ2V0QWN0aXZlT3ZlcmxheUVsLmpzJztcblxuZnVuY3Rpb24gZm9jdXNPbkZpcnN0Tm9kZShldmVudCwgbm9kZXMpIHtcbiAgY29uc3Qgbm9kZSA9IG5vZGVzWzBdO1xuXG4gIGlmIChub2RlKSB7XG4gICAgbm9kZS5mb2N1cygpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZm9jdXNPbkxhc3ROb2RlKGV2ZW50LCBub2Rlcykge1xuICBjb25zdCBub2RlID0gbm9kZXNbbm9kZXMubGVuZ3RoIC0gMV07XG5cbiAgaWYgKG5vZGUpIHtcbiAgICBub2RlLmZvY3VzKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxufSAvLyBfX19XaHkgbm90IGp1c3QgdXNlIChmb2N1c2VkSXRlbUluZGV4ID09PSAtMSk/XG4vLyAgICBGaXJlZm94IHRoaW5rcyA8dWw+IGlzIGZvY3VzYWJsZSwgYnV0IHdlIGRvbid0IGhhdmUgPHVsPnMgaW4gb3VyIEZPQ1VTQUJMRV9FTEVNRU5UUy4gV2hpY2ggbWVhbnMgdGhhdCBpZiB3ZSB0YWIgaW50b1xuLy8gICAgdGhlIDx1bD4sIGNvZGUgd2lsbCB0aGluayB0aGF0IHdlIGFyZSBub3QgaW4gdGhlIGFjdGl2ZSBvdmVybGF5LCBhbmQgd2Ugc2hvdWxkIGZvY3VzT25GaXJzdE5vZGUoKSBvZiB0aGUgY3VycmVudGx5XG4vLyAgICBhY3RpdmUgb3ZlcmxheSFcbi8vICAgIFtQcmFjdGljYWwgY2hlY2tdIGlmIHdlIHVzZSAoZm9jdXNlZEl0ZW1JbmRleCA9PT0gLTEpLCBpbnN0YWdyYW0gcHJvdmlkZXIgaW4gZmlyZWZveCB3aWxsIG5ldmVyIGdldCBmb2N1cyBvbiBpdHMgcGljc1xuLy8gICAgaW4gdGhlIDx1bD4uXG5cblxuZnVuY3Rpb24gaXNGb2N1c0luT3ZlcmxheShhY3RpdmVPdmVybGF5RWwpIHtcbiAgcmV0dXJuIGFjdGl2ZU92ZXJsYXlFbC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gdHJhcEZvY3VzKGV2ZW50LCBhY3RpdmVPdmVybGF5VHlwZSwgZGFzaGJvYXJkRWwpIHtcbiAgY29uc3QgYWN0aXZlT3ZlcmxheUVsID0gZ2V0QWN0aXZlT3ZlcmxheUVsKGRhc2hib2FyZEVsLCBhY3RpdmVPdmVybGF5VHlwZSk7XG4gIGNvbnN0IGZvY3VzYWJsZU5vZGVzID0gdG9BcnJheShhY3RpdmVPdmVybGF5RWwucXVlcnlTZWxlY3RvckFsbChGT0NVU0FCTEVfRUxFTUVOVFMpKTtcbiAgY29uc3QgZm9jdXNlZEl0ZW1JbmRleCA9IGZvY3VzYWJsZU5vZGVzLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7IC8vIElmIHdlIHByZXNzZWQgdGFiLCBhbmQgZm9jdXMgaXMgbm90IHlldCB3aXRoaW4gdGhlIGN1cnJlbnQgb3ZlcmxheSAtIGZvY3VzIG9uXG4gIC8vIHRoZSBmaXJzdCBlbGVtZW50IHdpdGhpbiB0aGUgY3VycmVudCBvdmVybGF5LlxuICAvLyBUaGlzIGlzIGEgc2FmZXR5IG1lYXN1cmUgKGZvciB3aGVuIHVzZXIgcmV0dXJucyBmcm9tIGFub3RoZXIgdGFiIGUuZy4pLCBtb3N0XG4gIC8vIHBsdWdpbnMgd2lsbCB0cnkgdG8gZm9jdXMgb24gc29tZSBpbXBvcnRhbnQgZWxlbWVudCBhcyBpdCBsb2Fkcy5cblxuICBpZiAoIWlzRm9jdXNJbk92ZXJsYXkoYWN0aXZlT3ZlcmxheUVsKSkge1xuICAgIGZvY3VzT25GaXJzdE5vZGUoZXZlbnQsIGZvY3VzYWJsZU5vZGVzKTsgLy8gSWYgd2UgcHJlc3NlZCBzaGlmdCArIHRhYiwgYW5kIHdlJ3JlIG9uIHRoZSBmaXJzdCBlbGVtZW50IG9mIGEgbW9kYWxcbiAgfSBlbHNlIGlmIChldmVudC5zaGlmdEtleSAmJiBmb2N1c2VkSXRlbUluZGV4ID09PSAwKSB7XG4gICAgZm9jdXNPbkxhc3ROb2RlKGV2ZW50LCBmb2N1c2FibGVOb2Rlcyk7IC8vIElmIHdlIHByZXNzZWQgdGFiLCBhbmQgd2UncmUgb24gdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgbW9kYWxcbiAgfSBlbHNlIGlmICghZXZlbnQuc2hpZnRLZXkgJiYgZm9jdXNlZEl0ZW1JbmRleCA9PT0gZm9jdXNhYmxlTm9kZXMubGVuZ3RoIC0gMSkge1xuICAgIGZvY3VzT25GaXJzdE5vZGUoZXZlbnQsIGZvY3VzYWJsZU5vZGVzKTtcbiAgfVxufSAvLyBUcmFwcyBmb2N1cyBpbnNpZGUgb2YgdGhlIGN1cnJlbnRseSBvcGVuIG92ZXJsYXkgKGUuZy4gRGFzaGJvYXJkLCBvciBlLmcuIEluc3RhZ3JhbSksXG4vLyBuZXZlciBsZXRzIGZvY3VzIGRpc2FwcGVhciBmcm9tIHRoZSBtb2RhbC5cblxuXG5leHBvcnQgeyB0cmFwRm9jdXMgYXMgZm9yTW9kYWwgfTsgLy8gVHJhcHMgZm9jdXMgaW5zaWRlIG9mIHRoZSBjdXJyZW50bHkgb3BlbiBvdmVybGF5LCB1bmxlc3Mgb3ZlcmxheSBpcyBudWxsIC0gdGhlbiBsZXQgdGhlIHVzZXIgdGFiIGF3YXkuXG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JJbmxpbmUoZXZlbnQsIGFjdGl2ZU92ZXJsYXlUeXBlLCBkYXNoYm9hcmRFbCkge1xuICAvLyBfX19XaGVuIHdlJ3JlIGluIHRoZSBiYXJlICdEcm9wIGZpbGVzIGhlcmUsIHBhc3RlLCBicm93c2Ugb3IgaW1wb3J0IGZyb20nIHNjcmVlblxuICBpZiAoYWN0aXZlT3ZlcmxheVR5cGUgPT09IG51bGwpIHsvLyBEbyBub3RoaW5nIGFuZCBsZXQgdGhlIGJyb3dzZXIgaGFuZGxlIGl0LCB1c2VyIGNhbiB0YWIgYXdheSBmcm9tIFVwcHkgdG8gb3RoZXIgZWxlbWVudHMgb24gdGhlIHBhZ2VcbiAgICAvLyBfX19XaGVuIHRoZXJlIGlzIHNvbWUgb3ZlcmxheSB3aXRoICdEb25lJyBidXR0b25cbiAgfSBlbHNlIHtcbiAgICAvLyBUcmFwIHRoZSBmb2N1cyBpbnNpZGUgdGhpcyBvdmVybGF5IVxuICAgIC8vIFVzZXIgY2FuIGNsb3NlIHRoZSBvdmVybGF5IChjbGljayAnRG9uZScpIGlmIHRoZXkgd2FudCB0byB0cmF2ZWwgYXdheSBmcm9tIFVwcHkuXG4gICAgdHJhcEZvY3VzKGV2ZW50LCBhY3RpdmVPdmVybGF5VHlwZSwgZGFzaGJvYXJkRWwpO1xuICB9XG59IiwiaW1wb3J0IHsgVUlQbHVnaW4gfSBmcm9tICdAdXBweS9jb3JlJztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAnQHVwcHkvY29tcGFuaW9uLWNsaWVudCc7XG5pbXBvcnQgeyBQcm92aWRlclZpZXdzIH0gZnJvbSAnQHVwcHkvcHJvdmlkZXItdmlld3MnO1xuaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5jb25zdCBwYWNrYWdlSnNvbiA9IHtcbiAgXCJ2ZXJzaW9uXCI6IFwiMy4xLjBcIlxufTtcbmltcG9ydCBsb2NhbGUgZnJvbSAnLi9sb2NhbGUuanMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJvcGJveCBleHRlbmRzIFVJUGx1Z2luIHtcbiAgY29uc3RydWN0b3IodXBweSwgb3B0cykge1xuICAgIHN1cGVyKHVwcHksIG9wdHMpO1xuICAgIHRoaXMuaWQgPSB0aGlzLm9wdHMuaWQgfHwgJ0Ryb3Bib3gnO1xuICAgIFByb3ZpZGVyLmluaXRQbHVnaW4odGhpcywgb3B0cyk7XG4gICAgdGhpcy50aXRsZSA9IHRoaXMub3B0cy50aXRsZSB8fCAnRHJvcGJveCc7XG5cbiAgICB0aGlzLmljb24gPSAoKSA9PiBoKFwic3ZnXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LURhc2hib2FyZFRhYi1pY29uRHJvcGJveFwiLFxuICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgICAgd2lkdGg6IFwiMzJcIixcbiAgICAgIGhlaWdodDogXCIzMlwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIlxuICAgIH0sIGgoXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTEwLjUgNy41TDUgMTAuOTU1bDUuNSAzLjQ1NCA1LjUtMy40NTQgNS41IDMuNDU0IDUuNS0zLjQ1NEwyMS41IDcuNSAxNiAxMC45NTV6TTEwLjUgMjEuMzE5TDUgMTcuODY0bDUuNS0zLjQ1NSA1LjUgMy40NTV6TTE2IDE3Ljg2NGw1LjUtMy40NTUgNS41IDMuNDU1LTUuNSAzLjQ1NXpNMTYgMjUuOTI1bC01LjUtMy40NTUgNS41LTMuNDU0IDUuNSAzLjQ1NHpcIixcbiAgICAgIGZpbGw6IFwiY3VycmVudGNvbG9yXCIsXG4gICAgICBmaWxsUnVsZTogXCJub256ZXJvXCJcbiAgICB9KSk7XG5cbiAgICB0aGlzLnByb3ZpZGVyID0gbmV3IFByb3ZpZGVyKHVwcHksIHtcbiAgICAgIGNvbXBhbmlvblVybDogdGhpcy5vcHRzLmNvbXBhbmlvblVybCxcbiAgICAgIGNvbXBhbmlvbkhlYWRlcnM6IHRoaXMub3B0cy5jb21wYW5pb25IZWFkZXJzLFxuICAgICAgY29tcGFuaW9uS2V5c1BhcmFtczogdGhpcy5vcHRzLmNvbXBhbmlvbktleXNQYXJhbXMsXG4gICAgICBjb21wYW5pb25Db29raWVzUnVsZTogdGhpcy5vcHRzLmNvbXBhbmlvbkNvb2tpZXNSdWxlLFxuICAgICAgcHJvdmlkZXI6ICdkcm9wYm94JyxcbiAgICAgIHBsdWdpbklkOiB0aGlzLmlkXG4gICAgfSk7XG4gICAgdGhpcy5kZWZhdWx0TG9jYWxlID0gbG9jYWxlO1xuICAgIHRoaXMuaTE4bkluaXQoKTtcbiAgICB0aGlzLnRpdGxlID0gdGhpcy5pMThuKCdwbHVnaW5OYW1lRHJvcGJveCcpO1xuICAgIHRoaXMub25GaXJzdFJlbmRlciA9IHRoaXMub25GaXJzdFJlbmRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVuZGVyID0gdGhpcy5yZW5kZXIuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGluc3RhbGwoKSB7XG4gICAgdGhpcy52aWV3ID0gbmV3IFByb3ZpZGVyVmlld3ModGhpcywge1xuICAgICAgcHJvdmlkZXI6IHRoaXMucHJvdmlkZXJcbiAgICB9KTtcbiAgICBjb25zdCB7XG4gICAgICB0YXJnZXRcbiAgICB9ID0gdGhpcy5vcHRzO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgdGhpcy5tb3VudCh0YXJnZXQsIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHVuaW5zdGFsbCgpIHtcbiAgICB0aGlzLnZpZXcudGVhckRvd24oKTtcbiAgICB0aGlzLnVubW91bnQoKTtcbiAgfVxuXG4gIG9uRmlyc3RSZW5kZXIoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLnByb3ZpZGVyLmZldGNoUHJlQXV0aFRva2VuKCksIHRoaXMudmlldy5nZXRGb2xkZXIoKV0pO1xuICB9XG5cbiAgcmVuZGVyKHN0YXRlKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5yZW5kZXIoc3RhdGUpO1xuICB9XG5cbn1cbkRyb3Bib3guVkVSU0lPTiA9IHBhY2thZ2VKc29uLnZlcnNpb247IiwiZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gXCIuL0Ryb3Bib3guanNcIjsiLCJleHBvcnQgZGVmYXVsdCB7XG4gIHN0cmluZ3M6IHtcbiAgICBwbHVnaW5OYW1lRHJvcGJveDogJ0Ryb3Bib3gnXG4gIH1cbn07IiwiaW1wb3J0IHsgVUlQbHVnaW4gfSBmcm9tICdAdXBweS9jb3JlJztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAnQHVwcHkvY29tcGFuaW9uLWNsaWVudCc7XG5pbXBvcnQgeyBQcm92aWRlclZpZXdzIH0gZnJvbSAnQHVwcHkvcHJvdmlkZXItdmlld3MnO1xuaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5jb25zdCBwYWNrYWdlSnNvbiA9IHtcbiAgXCJ2ZXJzaW9uXCI6IFwiMy4xLjBcIlxufTtcbmltcG9ydCBsb2NhbGUgZnJvbSAnLi9sb2NhbGUuanMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFjZWJvb2sgZXh0ZW5kcyBVSVBsdWdpbiB7XG4gIGNvbnN0cnVjdG9yKHVwcHksIG9wdHMpIHtcbiAgICBzdXBlcih1cHB5LCBvcHRzKTtcbiAgICB0aGlzLmlkID0gdGhpcy5vcHRzLmlkIHx8ICdGYWNlYm9vayc7XG4gICAgUHJvdmlkZXIuaW5pdFBsdWdpbih0aGlzLCBvcHRzKTtcbiAgICB0aGlzLnRpdGxlID0gdGhpcy5vcHRzLnRpdGxlIHx8ICdGYWNlYm9vayc7XG5cbiAgICB0aGlzLmljb24gPSAoKSA9PiBoKFwic3ZnXCIsIHtcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgICBmb2N1c2FibGU6IFwiZmFsc2VcIixcbiAgICAgIHdpZHRoOiBcIjMyXCIsXG4gICAgICBoZWlnaHQ6IFwiMzJcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCJcbiAgICB9LCBoKFwiZ1wiLCB7XG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICAgIH0sIGgoXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTI3IDE2YzAtNi4wNzUtNC45MjUtMTEtMTEtMTFTNSA5LjkyNSA1IDE2YzAgNS40OSA0LjAyMyAxMC4wNDEgOS4yODEgMTAuODY2VjE5LjE4aC0yLjc5M1YxNmgyLjc5M3YtMi40MjNjMC0yLjc1NyAxLjY0Mi00LjI4IDQuMTU1LTQuMjggMS4yMDQgMCAyLjQ2Mi4yMTUgMi40NjIuMjE1djIuNzA3aC0xLjM4N2MtMS4zNjYgMC0xLjc5Mi44NDgtMS43OTIgMS43MThWMTZoMy4wNWwtLjQ4NyAzLjE4aC0yLjU2M3Y3LjY4NkMyMi45NzcgMjYuMDQxIDI3IDIxLjQ5IDI3IDE2XCIsXG4gICAgICBmaWxsOiBcIiMxNzc3RjJcIlxuICAgIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0yMC4yODIgMTkuMThMMjAuNzcgMTZoLTMuMDUxdi0yLjA2M2MwLS44Ny40MjYtMS43MTggMS43OTItMS43MThoMS4zODdWOS41MTJzLTEuMjU4LS4yMTUtMi40NjItLjIxNWMtMi41MTMgMC00LjE1NSAxLjUyMy00LjE1NSA0LjI4VjE2aC0yLjc5M3YzLjE4aDIuNzkzdjcuNjg2YTExLjA4MiAxMS4wODIgMCAwMDMuNDM4IDBWMTkuMThoMi41NjNcIixcbiAgICAgIGZpbGw6IFwiI0ZGRkZGRVwiXG4gICAgfSkpKTtcblxuICAgIHRoaXMucHJvdmlkZXIgPSBuZXcgUHJvdmlkZXIodXBweSwge1xuICAgICAgY29tcGFuaW9uVXJsOiB0aGlzLm9wdHMuY29tcGFuaW9uVXJsLFxuICAgICAgY29tcGFuaW9uSGVhZGVyczogdGhpcy5vcHRzLmNvbXBhbmlvbkhlYWRlcnMsXG4gICAgICBjb21wYW5pb25LZXlzUGFyYW1zOiB0aGlzLm9wdHMuY29tcGFuaW9uS2V5c1BhcmFtcyxcbiAgICAgIGNvbXBhbmlvbkNvb2tpZXNSdWxlOiB0aGlzLm9wdHMuY29tcGFuaW9uQ29va2llc1J1bGUsXG4gICAgICBwcm92aWRlcjogJ2ZhY2Vib29rJyxcbiAgICAgIHBsdWdpbklkOiB0aGlzLmlkXG4gICAgfSk7XG4gICAgdGhpcy5kZWZhdWx0TG9jYWxlID0gbG9jYWxlO1xuICAgIHRoaXMuaTE4bkluaXQoKTtcbiAgICB0aGlzLnRpdGxlID0gdGhpcy5pMThuKCdwbHVnaW5OYW1lRmFjZWJvb2snKTtcbiAgICB0aGlzLm9uRmlyc3RSZW5kZXIgPSB0aGlzLm9uRmlyc3RSZW5kZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMucmVuZGVyLmJpbmQodGhpcyk7XG4gIH1cblxuICBpbnN0YWxsKCkge1xuICAgIHRoaXMudmlldyA9IG5ldyBQcm92aWRlclZpZXdzKHRoaXMsIHtcbiAgICAgIHByb3ZpZGVyOiB0aGlzLnByb3ZpZGVyXG4gICAgfSk7XG4gICAgY29uc3Qge1xuICAgICAgdGFyZ2V0XG4gICAgfSA9IHRoaXMub3B0cztcblxuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHRoaXMubW91bnQodGFyZ2V0LCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICB1bmluc3RhbGwoKSB7XG4gICAgdGhpcy52aWV3LnRlYXJEb3duKCk7XG4gICAgdGhpcy51bm1vdW50KCk7XG4gIH1cblxuICBvbkZpcnN0UmVuZGVyKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5wcm92aWRlci5mZXRjaFByZUF1dGhUb2tlbigpLCB0aGlzLnZpZXcuZ2V0Rm9sZGVyKCldKTtcbiAgfVxuXG4gIHJlbmRlcihzdGF0ZSkge1xuICAgIGNvbnN0IHZpZXdPcHRpb25zID0ge307XG5cbiAgICBpZiAodGhpcy5nZXRQbHVnaW5TdGF0ZSgpLmZpbGVzLmxlbmd0aCAmJiAhdGhpcy5nZXRQbHVnaW5TdGF0ZSgpLmZvbGRlcnMubGVuZ3RoKSB7XG4gICAgICB2aWV3T3B0aW9ucy52aWV3VHlwZSA9ICdncmlkJztcbiAgICAgIHZpZXdPcHRpb25zLnNob3dGaWx0ZXIgPSBmYWxzZTtcbiAgICAgIHZpZXdPcHRpb25zLnNob3dUaXRsZXMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy52aWV3LnJlbmRlcihzdGF0ZSwgdmlld09wdGlvbnMpO1xuICB9XG5cbn1cbkZhY2Vib29rLlZFUlNJT04gPSBwYWNrYWdlSnNvbi52ZXJzaW9uOyIsImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tIFwiLi9GYWNlYm9vay5qc1wiOyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgc3RyaW5nczoge1xuICAgIHBsdWdpbk5hbWVGYWNlYm9vazogJ0ZhY2Vib29rJ1xuICB9XG59OyIsImNvbnN0IGluZGV4ZWREQiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICh3aW5kb3cuaW5kZXhlZERCIHx8IHdpbmRvdy53ZWJraXRJbmRleGVkREIgfHwgd2luZG93Lm1vekluZGV4ZWREQiB8fCB3aW5kb3cuT0luZGV4ZWREQiB8fCB3aW5kb3cubXNJbmRleGVkREIpO1xuY29uc3QgaXNTdXBwb3J0ZWQgPSAhIWluZGV4ZWREQjtcbmNvbnN0IERCX05BTUUgPSAndXBweS1ibG9icyc7XG5jb25zdCBTVE9SRV9OQU1FID0gJ2ZpbGVzJzsgLy8gbWF5YmUgaGF2ZSBhIHRodW1ibmFpbCBzdG9yZSBpbiB0aGUgZnV0dXJlXG5cbmNvbnN0IERFRkFVTFRfRVhQSVJZID0gMjQgKiA2MCAqIDYwICogMTAwMDsgLy8gMjQgaG91cnNcblxuY29uc3QgREJfVkVSU0lPTiA9IDM7IC8vIFNldCBkZWZhdWx0IGBleHBpcmVzYCBkYXRlcyBvbiBleGlzdGluZyBzdG9yZWQgYmxvYnMuXG5cbmZ1bmN0aW9uIG1pZ3JhdGVFeHBpcmF0aW9uKHN0b3JlKSB7XG4gIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5vcGVuQ3Vyc29yKCk7XG5cbiAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBldmVudCA9PiB7XG4gICAgY29uc3QgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcblxuICAgIGlmICghY3Vyc29yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZW50cnkgPSBjdXJzb3IudmFsdWU7XG4gICAgZW50cnkuZXhwaXJlcyA9IERhdGUubm93KCkgKyBERUZBVUxUX0VYUElSWTtcbiAgICBjdXJzb3IudXBkYXRlKGVudHJ5KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29ubmVjdChkYk5hbWUpIHtcbiAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgREJfVkVSU0lPTik7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSBldmVudCA9PiB7XG4gICAgICBjb25zdCBkYiA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHRyYW5zYWN0aW9uXG4gICAgICB9ID0gZXZlbnQuY3VycmVudFRhcmdldDtcblxuICAgICAgaWYgKGV2ZW50Lm9sZFZlcnNpb24gPCAyKSB7XG4gICAgICAgIC8vIEFkZGVkIGluIHYyOiBEQiBzdHJ1Y3R1cmUgY2hhbmdlZCB0byBhIHNpbmdsZSBzaGFyZWQgb2JqZWN0IHN0b3JlXG4gICAgICAgIGNvbnN0IHN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoU1RPUkVfTkFNRSwge1xuICAgICAgICAgIGtleVBhdGg6ICdpZCdcbiAgICAgICAgfSk7XG4gICAgICAgIHN0b3JlLmNyZWF0ZUluZGV4KCdzdG9yZScsICdzdG9yZScsIHtcbiAgICAgICAgICB1bmlxdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQub2xkVmVyc2lvbiA8IDMpIHtcbiAgICAgICAgLy8gQWRkZWQgaW4gdjNcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShTVE9SRV9OQU1FKTtcbiAgICAgICAgc3RvcmUuY3JlYXRlSW5kZXgoJ2V4cGlyZXMnLCAnZXhwaXJlcycsIHtcbiAgICAgICAgICB1bmlxdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBtaWdyYXRlRXhwaXJhdGlvbihzdG9yZSk7XG4gICAgICB9XG5cbiAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoZGIpO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBldmVudCA9PiB7XG4gICAgICByZXNvbHZlKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgIH07XG5cbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSByZWplY3Q7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB3YWl0Rm9yUmVxdWVzdChyZXF1ZXN0KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBldmVudCA9PiB7XG4gICAgICByZXNvbHZlKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgIH07XG5cbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSByZWplY3Q7XG4gIH0pO1xufVxuXG5sZXQgY2xlYW5lZFVwID0gZmFsc2U7XG5cbmNsYXNzIEluZGV4ZWREQlN0b3JlIHtcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHRoaXMub3B0cyA9IHtcbiAgICAgIGRiTmFtZTogREJfTkFNRSxcbiAgICAgIHN0b3JlTmFtZTogJ2RlZmF1bHQnLFxuICAgICAgZXhwaXJlczogREVGQVVMVF9FWFBJUlksXG4gICAgICAvLyAyNCBob3Vyc1xuICAgICAgbWF4RmlsZVNpemU6IDEwICogMTAyNCAqIDEwMjQsXG4gICAgICAvLyAxMCBNQlxuICAgICAgbWF4VG90YWxTaXplOiAzMDAgKiAxMDI0ICogMTAyNCxcbiAgICAgIC8vIDMwMCBNQlxuICAgICAgLi4ub3B0c1xuICAgIH07XG4gICAgdGhpcy5uYW1lID0gdGhpcy5vcHRzLnN0b3JlTmFtZTtcblxuICAgIGNvbnN0IGNyZWF0ZUNvbm5lY3Rpb24gPSAoKSA9PiB7XG4gICAgICByZXR1cm4gY29ubmVjdCh0aGlzLm9wdHMuZGJOYW1lKTtcbiAgICB9O1xuXG4gICAgaWYgKCFjbGVhbmVkVXApIHtcbiAgICAgIGNsZWFuZWRVcCA9IHRydWU7XG4gICAgICB0aGlzLnJlYWR5ID0gSW5kZXhlZERCU3RvcmUuY2xlYW51cCgpLnRoZW4oY3JlYXRlQ29ubmVjdGlvbiwgY3JlYXRlQ29ubmVjdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVhZHkgPSBjcmVhdGVDb25uZWN0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAga2V5KGZpbGVJRCkge1xuICAgIHJldHVybiBgJHt0aGlzLm5hbWV9ISR7ZmlsZUlEfWA7XG4gIH1cbiAgLyoqXG4gICAqIExpc3QgYWxsIGZpbGUgYmxvYnMgY3VycmVudGx5IGluIHRoZSBzdG9yZS5cbiAgICovXG5cblxuICBsaXN0KCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5LnRoZW4oZGIgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbU1RPUkVfTkFNRV0sICdyZWFkb25seScpO1xuICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShTVE9SRV9OQU1FKTtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5pbmRleCgnc3RvcmUnKS5nZXRBbGwoSURCS2V5UmFuZ2Uub25seSh0aGlzLm5hbWUpKTtcbiAgICAgIHJldHVybiB3YWl0Rm9yUmVxdWVzdChyZXF1ZXN0KTtcbiAgICB9KS50aGVuKGZpbGVzID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgZmlsZXMuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgICAgcmVzdWx0W2ZpbGUuZmlsZUlEXSA9IGZpbGUuZGF0YTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IG9uZSBmaWxlIGJsb2IgZnJvbSB0aGUgc3RvcmUuXG4gICAqL1xuXG5cbiAgZ2V0KGZpbGVJRCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5LnRoZW4oZGIgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbU1RPUkVfTkFNRV0sICdyZWFkb25seScpO1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKFNUT1JFX05BTUUpLmdldCh0aGlzLmtleShmaWxlSUQpKTtcbiAgICAgIHJldHVybiB3YWl0Rm9yUmVxdWVzdChyZXF1ZXN0KTtcbiAgICB9KS50aGVuKHJlc3VsdCA9PiAoe1xuICAgICAgaWQ6IHJlc3VsdC5kYXRhLmZpbGVJRCxcbiAgICAgIGRhdGE6IHJlc3VsdC5kYXRhLmRhdGFcbiAgICB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgdG90YWwgc2l6ZSBvZiBhbGwgc3RvcmVkIGZpbGVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGdldFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkudGhlbihkYiA9PiB7XG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFtTVE9SRV9OQU1FXSwgJ3JlYWRvbmx5Jyk7XG4gICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKFNUT1JFX05BTUUpO1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmluZGV4KCdzdG9yZScpLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2Uub25seSh0aGlzLm5hbWUpKTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxldCBzaXplID0gMDtcblxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGV2ZW50ID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuXG4gICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgc2l6ZSArPSBjdXJzb3IudmFsdWUuZGF0YS5zaXplO1xuICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoc2l6ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDb3VsZCBub3QgcmV0cmlldmUgc3RvcmVkIGJsb2JzIHNpemUnKSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU2F2ZSBhIGZpbGUgaW4gdGhlIHN0b3JlLlxuICAgKi9cblxuXG4gIHB1dChmaWxlKSB7XG4gICAgaWYgKGZpbGUuZGF0YS5zaXplID4gdGhpcy5vcHRzLm1heEZpbGVTaXplKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdGaWxlIGlzIHRvbyBiaWcgdG8gc3RvcmUuJykpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmdldFNpemUoKS50aGVuKHNpemUgPT4ge1xuICAgICAgaWYgKHNpemUgPiB0aGlzLm9wdHMubWF4VG90YWxTaXplKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ05vIHNwYWNlIGxlZnQnKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJlYWR5O1xuICAgIH0pLnRoZW4oZGIgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbU1RPUkVfTkFNRV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShTVE9SRV9OQU1FKS5hZGQoe1xuICAgICAgICBpZDogdGhpcy5rZXkoZmlsZS5pZCksXG4gICAgICAgIGZpbGVJRDogZmlsZS5pZCxcbiAgICAgICAgc3RvcmU6IHRoaXMubmFtZSxcbiAgICAgICAgZXhwaXJlczogRGF0ZS5ub3coKSArIHRoaXMub3B0cy5leHBpcmVzLFxuICAgICAgICBkYXRhOiBmaWxlLmRhdGFcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHdhaXRGb3JSZXF1ZXN0KHJlcXVlc3QpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgYSBmaWxlIGJsb2IgZnJvbSB0aGUgc3RvcmUuXG4gICAqL1xuXG5cbiAgZGVsZXRlKGZpbGVJRCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5LnRoZW4oZGIgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbU1RPUkVfTkFNRV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShTVE9SRV9OQU1FKS5kZWxldGUodGhpcy5rZXkoZmlsZUlEKSk7XG4gICAgICByZXR1cm4gd2FpdEZvclJlcXVlc3QocmVxdWVzdCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhbGwgc3RvcmVkIGJsb2JzIHRoYXQgaGF2ZSBhbiBleHBpcnkgZGF0ZSB0aGF0IGlzIGJlZm9yZSBEYXRlLm5vdygpLlxuICAgKiBUaGlzIGlzIGEgc3RhdGljIG1ldGhvZCBiZWNhdXNlIGl0IGRlbGV0ZXMgZXhwaXJlZCBibG9icyBmcm9tIF9hbGxfIFVwcHkgaW5zdGFuY2VzLlxuICAgKi9cblxuXG4gIHN0YXRpYyBjbGVhbnVwKCkge1xuICAgIHJldHVybiBjb25uZWN0KERCX05BTUUpLnRoZW4oZGIgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbU1RPUkVfTkFNRV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuaW5kZXgoJ2V4cGlyZXMnKS5vcGVuQ3Vyc29yKElEQktleVJhbmdlLnVwcGVyQm91bmQoRGF0ZS5ub3coKSkpO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBldmVudCA9PiB7XG4gICAgICAgICAgY29uc3QgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcblxuICAgICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICAgIGN1cnNvci5kZWxldGUoKTsgLy8gSWdub3JpbmcgcmV0dXJuIHZhbHVlIOKApiBpdCdzIG5vdCB0ZXJyaWJsZSBpZiB0aGlzIGdvZXMgd3JvbmcuXG5cbiAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKGRiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgfSk7XG4gICAgfSkudGhlbihkYiA9PiB7XG4gICAgICBkYi5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG5cbn1cblxuSW5kZXhlZERCU3RvcmUuaXNTdXBwb3J0ZWQgPSBpc1N1cHBvcnRlZDtcbmV4cG9ydCBkZWZhdWx0IEluZGV4ZWREQlN0b3JlOyIsIi8qKlxuICogR2V0IHVwcHkgaW5zdGFuY2UgSURzIGZvciB3aGljaCBzdGF0ZSBpcyBzdG9yZWQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRVcHB5SW5zdGFuY2VzKCkge1xuICBjb25zdCBpbnN0YW5jZXMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XG5cbiAgICBpZiAoL151cHB5U3RhdGU6Ly50ZXN0KGtleSkpIHtcbiAgICAgIGluc3RhbmNlcy5wdXNoKGtleS5zbGljZSgndXBweVN0YXRlOicubGVuZ3RoKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGluc3RhbmNlcztcbn1cbi8qKlxuICogVHJ5IHRvIEpTT04tcGFyc2UgYSBzdHJpbmcsIHJldHVybiBudWxsIG9uIGZhaWx1cmUuXG4gKi9cblxuXG5mdW5jdGlvbiBtYXliZVBhcnNlKHN0cikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHN0cik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmxldCBjbGVhbmVkVXAgPSBmYWxzZTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1ldGFEYXRhU3RvcmUge1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgdGhpcy5vcHRzID0ge1xuICAgICAgZXhwaXJlczogMjQgKiA2MCAqIDYwICogMTAwMCxcbiAgICAgIC8vIDI0IGhvdXJzXG4gICAgICAuLi5vcHRzXG4gICAgfTtcbiAgICB0aGlzLm5hbWUgPSBgdXBweVN0YXRlOiR7b3B0cy5zdG9yZU5hbWV9YDtcblxuICAgIGlmICghY2xlYW5lZFVwKSB7XG4gICAgICBjbGVhbmVkVXAgPSB0cnVlO1xuICAgICAgTWV0YURhdGFTdG9yZS5jbGVhbnVwKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKlxuICAgKi9cblxuXG4gIGxvYWQoKSB7XG4gICAgY29uc3Qgc2F2ZWRTdGF0ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMubmFtZSk7XG4gICAgaWYgKCFzYXZlZFN0YXRlKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBkYXRhID0gbWF5YmVQYXJzZShzYXZlZFN0YXRlKTtcbiAgICBpZiAoIWRhdGEpIHJldHVybiBudWxsOyAvLyBVcGdyYWRlIHByZS0wLjIwLjAgdXBweVN0YXRlOiBpdCB1c2VkIHRvIGJlIGp1c3QgYSBmbGF0IG9iamVjdCxcbiAgICAvLyB3aXRob3V0IGBleHBpcmVzYC5cblxuICAgIGlmICghZGF0YS5tZXRhZGF0YSkge1xuICAgICAgdGhpcy5zYXZlKGRhdGEpO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGEubWV0YWRhdGE7XG4gIH1cblxuICBzYXZlKG1ldGFkYXRhKSB7XG4gICAgY29uc3QgZXhwaXJlcyA9IERhdGUubm93KCkgKyB0aGlzLm9wdHMuZXhwaXJlcztcbiAgICBjb25zdCBzdGF0ZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIG1ldGFkYXRhLFxuICAgICAgZXhwaXJlc1xuICAgIH0pO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMubmFtZSwgc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGV4cGlyZWQgc3RhdGUuXG4gICAqL1xuXG5cbiAgc3RhdGljIGNsZWFudXAoaW5zdGFuY2VJRCkge1xuICAgIGlmIChpbnN0YW5jZUlEKSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShgdXBweVN0YXRlOiR7aW5zdGFuY2VJRH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpbnN0YW5jZUlEcyA9IGZpbmRVcHB5SW5zdGFuY2VzKCk7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpbnN0YW5jZUlEcy5mb3JFYWNoKGlkID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgdXBweVN0YXRlOiR7aWR9YCk7XG4gICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgIGNvbnN0IG9iaiA9IG1heWJlUGFyc2UoZGF0YSk7XG4gICAgICBpZiAoIW9iaikgcmV0dXJuO1xuXG4gICAgICBpZiAob2JqLmV4cGlyZXMgJiYgb2JqLmV4cGlyZXMgPCBub3cpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYHVwcHlTdGF0ZToke2lkfWApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbn0iLCIvKiBnbG9iYWxzIGNsaWVudHMgKi9cbmNvbnN0IGZpbGVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbmZ1bmN0aW9uIGdldENhY2hlKG5hbWUpIHtcbiAgaWYgKCFmaWxlQ2FjaGVbbmFtZV0pIHtcbiAgICBmaWxlQ2FjaGVbbmFtZV0gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB9XG5cbiAgcmV0dXJuIGZpbGVDYWNoZVtuYW1lXTtcbn1cblxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgZXZlbnQgPT4ge1xuICBldmVudC53YWl0VW50aWwoUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBzZWxmLnNraXBXYWl0aW5nKCkpKTtcbn0pO1xuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdhY3RpdmF0ZScsIGV2ZW50ID0+IHtcbiAgZXZlbnQud2FpdFVudGlsKHNlbGYuY2xpZW50cy5jbGFpbSgpKTtcbn0pO1xuXG5mdW5jdGlvbiBzZW5kTWVzc2FnZVRvQWxsQ2xpZW50cyhtc2cpIHtcbiAgY2xpZW50cy5tYXRjaEFsbCgpLnRoZW4oY2xpZW50cyA9PiB7XG4gICAgY2xpZW50cy5mb3JFYWNoKGNsaWVudCA9PiB7XG4gICAgICBjbGllbnQucG9zdE1lc3NhZ2UobXNnKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEZpbGUoc3RvcmUsIGZpbGUpIHtcbiAgZ2V0Q2FjaGUoc3RvcmUpW2ZpbGUuaWRdID0gZmlsZS5kYXRhO1xufVxuXG5mdW5jdGlvbiByZW1vdmVGaWxlKHN0b3JlLCBmaWxlSUQpIHtcbiAgZGVsZXRlIGdldENhY2hlKHN0b3JlKVtmaWxlSURdO1xufVxuXG5mdW5jdGlvbiBnZXRGaWxlcyhzdG9yZSkge1xuICBzZW5kTWVzc2FnZVRvQWxsQ2xpZW50cyh7XG4gICAgdHlwZTogJ3VwcHkvQUxMX0ZJTEVTJyxcbiAgICBzdG9yZSxcbiAgICBmaWxlczogZ2V0Q2FjaGUoc3RvcmUpXG4gIH0pO1xufVxuXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBldmVudCA9PiB7XG4gIHZhciBfZXZlbnQkZGF0YTtcblxuICBzd2l0Y2ggKGV2ZW50LmRhdGEudHlwZSkge1xuICAgIGNhc2UgJ3VwcHkvQUREX0ZJTEUnOlxuICAgICAgYWRkRmlsZShldmVudC5kYXRhLnN0b3JlLCBldmVudC5kYXRhLmZpbGUpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICd1cHB5L1JFTU9WRV9GSUxFJzpcbiAgICAgIHJlbW92ZUZpbGUoZXZlbnQuZGF0YS5zdG9yZSwgZXZlbnQuZGF0YS5maWxlSUQpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICd1cHB5L0dFVF9GSUxFUyc6XG4gICAgICBnZXRGaWxlcyhldmVudC5kYXRhLnN0b3JlKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgW1NlcnZpY2VXb3JrZXJdIFVuc3VwcG9ydGVkIGV2ZW50LmRhdGEudHlwZS4gR290OiAke2V2ZW50ID09IG51bGwgPyB2b2lkIDAgOiAoX2V2ZW50JGRhdGEgPSBldmVudC5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2V2ZW50JGRhdGEudHlwZX1gKTtcbiAgfVxufSk7IiwiY29uc3QgaXNTdXBwb3J0ZWQgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yO1xuXG5mdW5jdGlvbiB3YWl0Rm9yU2VydmljZVdvcmtlcigpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdVbnN1cHBvcnRlZCcpKTtcbiAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIpIHtcbiAgICAgIC8vIEEgc2VydmljZVdvcmtlciBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgYW5kIGFjdGl2ZS5cbiAgICAgIHJlc29sdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udHJvbGxlcmNoYW5nZScsICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuY2xhc3MgU2VydmljZVdvcmtlclN0b3JlIHtcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHRoaXMucmVhZHkgPSB3YWl0Rm9yU2VydmljZVdvcmtlcigpO1xuICAgIHRoaXMubmFtZSA9IG9wdHMuc3RvcmVOYW1lO1xuICB9XG5cbiAgbGlzdCgpIHtcbiAgICBjb25zdCBkZWZlciA9IHt9O1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBkZWZlci5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIGRlZmVyLnJlamVjdCA9IHJlamVjdDtcbiAgICB9KTtcblxuICAgIGNvbnN0IG9uTWVzc2FnZSA9IGV2ZW50ID0+IHtcbiAgICAgIGlmIChldmVudC5kYXRhLnN0b3JlICE9PSB0aGlzLm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGV2ZW50LmRhdGEudHlwZSkge1xuICAgICAgICBjYXNlICd1cHB5L0FMTF9GSUxFUyc6XG4gICAgICAgICAgZGVmZXIucmVzb2x2ZShldmVudC5kYXRhLmZpbGVzKTtcbiAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25NZXNzYWdlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGRlZmVyLnJlamVjdCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnJlYWR5LnRoZW4oKCkgPT4ge1xuICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSk7XG4gICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogJ3VwcHkvR0VUX0ZJTEVTJyxcbiAgICAgICAgc3RvcmU6IHRoaXMubmFtZVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBwdXQoZmlsZSkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5LnRoZW4oKCkgPT4ge1xuICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgIHR5cGU6ICd1cHB5L0FERF9GSUxFJyxcbiAgICAgICAgc3RvcmU6IHRoaXMubmFtZSxcbiAgICAgICAgZmlsZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGUoZmlsZUlEKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkudGhlbigoKSA9PiB7XG4gICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogJ3VwcHkvUkVNT1ZFX0ZJTEUnLFxuICAgICAgICBzdG9yZTogdGhpcy5uYW1lLFxuICAgICAgICBmaWxlSURcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbn1cblxuU2VydmljZVdvcmtlclN0b3JlLmlzU3VwcG9ydGVkID0gaXNTdXBwb3J0ZWQ7XG5leHBvcnQgZGVmYXVsdCBTZXJ2aWNlV29ya2VyU3RvcmU7IiwiaW1wb3J0IHRocm90dGxlIGZyb20gJ2xvZGFzaC50aHJvdHRsZSc7XG5pbXBvcnQgQmFzZVBsdWdpbiBmcm9tICdAdXBweS9jb3JlL2xpYi9CYXNlUGx1Z2luLmpzJztcbmltcG9ydCBTZXJ2aWNlV29ya2VyU3RvcmUgZnJvbSAnLi9TZXJ2aWNlV29ya2VyU3RvcmUuanMnO1xuaW1wb3J0IEluZGV4ZWREQlN0b3JlIGZyb20gJy4vSW5kZXhlZERCU3RvcmUuanMnO1xuaW1wb3J0IE1ldGFEYXRhU3RvcmUgZnJvbSAnLi9NZXRhRGF0YVN0b3JlLmpzJztcbmNvbnN0IHBhY2thZ2VKc29uID0ge1xuICBcInZlcnNpb25cIjogXCIzLjAuMlwiXG59O1xuLyoqXG4gKiBUaGUgR29sZGVuUmV0cmlldmVyIHBsdWdpbiDigJQgcmVzdG9yZXMgc2VsZWN0ZWQgZmlsZXMgYW5kIHJlc3VtZXMgdXBsb2Fkc1xuICogYWZ0ZXIgYSBjbG9zZWQgdGFiIG9yIGEgYnJvd3NlciBjcmFzaCFcbiAqXG4gKiBVc2VzIGxvY2FsU3RvcmFnZSwgSW5kZXhlZERCIGFuZCBTZXJ2aWNlV29ya2VyIHRvIGRvIGl0cyBtYWdpYywgcmVhZCBtb3JlOlxuICogaHR0cHM6Ly91cHB5LmlvL2Jsb2cvMjAxNy8wNy9nb2xkZW4tcmV0cmlldmVyL1xuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdvbGRlblJldHJpZXZlciBleHRlbmRzIEJhc2VQbHVnaW4ge1xuICBjb25zdHJ1Y3Rvcih1cHB5LCBvcHRzKSB7XG4gICAgc3VwZXIodXBweSwgb3B0cyk7XG5cbiAgICB0aGlzLmFkZEJsb2JUb1N0b3JlcyA9IGZpbGUgPT4ge1xuICAgICAgaWYgKGZpbGUuaXNSZW1vdGUpIHJldHVybjtcblxuICAgICAgaWYgKHRoaXMuU2VydmljZVdvcmtlclN0b3JlKSB7XG4gICAgICAgIHRoaXMuU2VydmljZVdvcmtlclN0b3JlLnB1dChmaWxlKS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgIHRoaXMudXBweS5sb2coJ1tHb2xkZW5SZXRyaWV2ZXJdIENvdWxkIG5vdCBzdG9yZSBmaWxlJywgJ3dhcm5pbmcnKTtcbiAgICAgICAgICB0aGlzLnVwcHkubG9nKGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLkluZGV4ZWREQlN0b3JlLnB1dChmaWxlKS5jYXRjaChlcnIgPT4ge1xuICAgICAgICB0aGlzLnVwcHkubG9nKCdbR29sZGVuUmV0cmlldmVyXSBDb3VsZCBub3Qgc3RvcmUgZmlsZScsICd3YXJuaW5nJyk7XG4gICAgICAgIHRoaXMudXBweS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUJsb2JGcm9tU3RvcmVzID0gZmlsZSA9PiB7XG4gICAgICBpZiAodGhpcy5TZXJ2aWNlV29ya2VyU3RvcmUpIHtcbiAgICAgICAgdGhpcy5TZXJ2aWNlV29ya2VyU3RvcmUuZGVsZXRlKGZpbGUuaWQpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgdGhpcy51cHB5LmxvZygnW0dvbGRlblJldHJpZXZlcl0gRmFpbGVkIHRvIHJlbW92ZSBmaWxlJywgJ3dhcm5pbmcnKTtcbiAgICAgICAgICB0aGlzLnVwcHkubG9nKGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLkluZGV4ZWREQlN0b3JlLmRlbGV0ZShmaWxlLmlkKS5jYXRjaChlcnIgPT4ge1xuICAgICAgICB0aGlzLnVwcHkubG9nKCdbR29sZGVuUmV0cmlldmVyXSBGYWlsZWQgdG8gcmVtb3ZlIGZpbGUnLCAnd2FybmluZycpO1xuICAgICAgICB0aGlzLnVwcHkubG9nKGVycik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZXBsYWNlQmxvYkluU3RvcmVzID0gZmlsZSA9PiB7XG4gICAgICB0aGlzLnJlbW92ZUJsb2JGcm9tU3RvcmVzKGZpbGUpO1xuICAgICAgdGhpcy5hZGRCbG9iVG9TdG9yZXMoZmlsZSk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlUmVzdG9yZUNvbmZpcm1lZCA9ICgpID0+IHtcbiAgICAgIHRoaXMudXBweS5sb2coJ1tHb2xkZW5SZXRyaWV2ZXJdIFJlc3RvcmUgY29uZmlybWVkLCBwcm9jZWVkaW5nLi4uJyk7IC8vIHN0YXJ0IGFsbCB1cGxvYWRzIGFnYWluIHdoZW4gZmlsZSBibG9icyBhcmUgcmVzdG9yZWRcblxuICAgICAgY29uc3Qge1xuICAgICAgICBjdXJyZW50VXBsb2Fkc1xuICAgICAgfSA9IHRoaXMudXBweS5nZXRTdGF0ZSgpO1xuXG4gICAgICBpZiAoY3VycmVudFVwbG9hZHMpIHtcbiAgICAgICAgdGhpcy51cHB5LnJlc3VtZUFsbCgpO1xuICAgICAgICBPYmplY3Qua2V5cyhjdXJyZW50VXBsb2FkcykuZm9yRWFjaCh1cGxvYWRJZCA9PiB7XG4gICAgICAgICAgdGhpcy51cHB5LnJlc3RvcmUodXBsb2FkSWQsIGN1cnJlbnRVcGxvYWRzW3VwbG9hZElkXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwcHkuc2V0U3RhdGUoe1xuICAgICAgICByZWNvdmVyZWRTdGF0ZTogbnVsbFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuYWJvcnRSZXN0b3JlID0gKCkgPT4ge1xuICAgICAgdGhpcy51cHB5LmxvZygnW0dvbGRlblJldHJpZXZlcl0gQWJvcnRpbmcgcmVzdG9yZS4uLicpO1xuICAgICAgY29uc3QgZmlsZUlEcyA9IE9iamVjdC5rZXlzKHRoaXMudXBweS5nZXRTdGF0ZSgpLmZpbGVzKTtcbiAgICAgIHRoaXMuZGVsZXRlQmxvYnMoZmlsZUlEcykudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMudXBweS5sb2coYFtHb2xkZW5SZXRyaWV2ZXJdIFJlbW92ZWQgJHtmaWxlSURzLmxlbmd0aH0gZmlsZXNgKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHRoaXMudXBweS5sb2coYFtHb2xkZW5SZXRyaWV2ZXJdIENvdWxkIG5vdCByZW1vdmUgJHtmaWxlSURzLmxlbmd0aH0gZmlsZXNgLCAnd2FybmluZycpO1xuICAgICAgICB0aGlzLnVwcHkubG9nKGVycik7XG4gICAgICB9KTtcbiAgICAgIHRoaXMudXBweS5jYW5jZWxBbGwoKTtcbiAgICAgIHRoaXMudXBweS5zZXRTdGF0ZSh7XG4gICAgICAgIHJlY292ZXJlZFN0YXRlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIE1ldGFEYXRhU3RvcmUuY2xlYW51cCh0aGlzLnVwcHkub3B0cy5pZCk7XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlQ29tcGxldGUgPSBfcmVmID0+IHtcbiAgICAgIGxldCB7XG4gICAgICAgIHN1Y2Nlc3NmdWxcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgY29uc3QgZmlsZUlEcyA9IHN1Y2Nlc3NmdWwubWFwKGZpbGUgPT4gZmlsZS5pZCk7XG4gICAgICB0aGlzLmRlbGV0ZUJsb2JzKGZpbGVJRHMpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLnVwcHkubG9nKGBbR29sZGVuUmV0cmlldmVyXSBSZW1vdmVkICR7c3VjY2Vzc2Z1bC5sZW5ndGh9IGZpbGVzIHRoYXQgZmluaXNoZWQgdXBsb2FkaW5nYCk7XG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICB0aGlzLnVwcHkubG9nKGBbR29sZGVuUmV0cmlldmVyXSBDb3VsZCBub3QgcmVtb3ZlICR7c3VjY2Vzc2Z1bC5sZW5ndGh9IGZpbGVzIHRoYXQgZmluaXNoZWQgdXBsb2FkaW5nYCwgJ3dhcm5pbmcnKTtcbiAgICAgICAgdGhpcy51cHB5LmxvZyhlcnIpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnVwcHkuc2V0U3RhdGUoe1xuICAgICAgICByZWNvdmVyZWRTdGF0ZTogbnVsbFxuICAgICAgfSk7XG4gICAgICBNZXRhRGF0YVN0b3JlLmNsZWFudXAodGhpcy51cHB5Lm9wdHMuaWQpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlc3RvcmVCbG9icyA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnVwcHkuZ2V0RmlsZXMoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIFByb21pc2UuYWxsKFt0aGlzLmxvYWRGaWxlQmxvYnNGcm9tU2VydmljZVdvcmtlcigpLCB0aGlzLmxvYWRGaWxlQmxvYnNGcm9tSW5kZXhlZERCKCldKS50aGVuKHJlc3VsdGluZ0FycmF5T2ZPYmplY3RzID0+IHtcbiAgICAgICAgICBjb25zdCBibG9icyA9IHsgLi4ucmVzdWx0aW5nQXJyYXlPZk9iamVjdHNbMF0sXG4gICAgICAgICAgICAuLi5yZXN1bHRpbmdBcnJheU9mT2JqZWN0c1sxXVxuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5vbkJsb2JzTG9hZGVkKGJsb2JzKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVwcHkubG9nKCdbR29sZGVuUmV0cmlldmVyXSBObyBmaWxlcyBuZWVkIHRvIGJlIGxvYWRlZCwgb25seSByZXN0b3JpbmcgcHJvY2Vzc2luZyBzdGF0ZS4uLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnR5cGUgPSAnZGVidWdnZXInO1xuICAgIHRoaXMuaWQgPSB0aGlzLm9wdHMuaWQgfHwgJ0dvbGRlblJldHJpZXZlcic7XG4gICAgdGhpcy50aXRsZSA9ICdHb2xkZW4gUmV0cmlldmVyJztcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIGV4cGlyZXM6IDI0ICogNjAgKiA2MCAqIDEwMDAsXG4gICAgICAvLyAyNCBob3Vyc1xuICAgICAgc2VydmljZVdvcmtlcjogZmFsc2VcbiAgICB9O1xuICAgIHRoaXMub3B0cyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5vcHRzXG4gICAgfTtcbiAgICB0aGlzLk1ldGFEYXRhU3RvcmUgPSBuZXcgTWV0YURhdGFTdG9yZSh7XG4gICAgICBleHBpcmVzOiB0aGlzLm9wdHMuZXhwaXJlcyxcbiAgICAgIHN0b3JlTmFtZTogdXBweS5nZXRJRCgpXG4gICAgfSk7XG4gICAgdGhpcy5TZXJ2aWNlV29ya2VyU3RvcmUgPSBudWxsO1xuXG4gICAgaWYgKHRoaXMub3B0cy5zZXJ2aWNlV29ya2VyKSB7XG4gICAgICB0aGlzLlNlcnZpY2VXb3JrZXJTdG9yZSA9IG5ldyBTZXJ2aWNlV29ya2VyU3RvcmUoe1xuICAgICAgICBzdG9yZU5hbWU6IHVwcHkuZ2V0SUQoKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5JbmRleGVkREJTdG9yZSA9IG5ldyBJbmRleGVkREJTdG9yZSh7XG4gICAgICBleHBpcmVzOiB0aGlzLm9wdHMuZXhwaXJlcyxcbiAgICAgIC4uLih0aGlzLm9wdHMuaW5kZXhlZERCIHx8IHt9KSxcbiAgICAgIHN0b3JlTmFtZTogdXBweS5nZXRJRCgpXG4gICAgfSk7XG4gICAgdGhpcy5zYXZlRmlsZXNTdGF0ZVRvTG9jYWxTdG9yYWdlID0gdGhyb3R0bGUodGhpcy5zYXZlRmlsZXNTdGF0ZVRvTG9jYWxTdG9yYWdlLmJpbmQodGhpcyksIDUwMCwge1xuICAgICAgbGVhZGluZzogdHJ1ZSxcbiAgICAgIHRyYWlsaW5nOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5yZXN0b3JlU3RhdGUgPSB0aGlzLnJlc3RvcmVTdGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMubG9hZEZpbGVCbG9ic0Zyb21TZXJ2aWNlV29ya2VyID0gdGhpcy5sb2FkRmlsZUJsb2JzRnJvbVNlcnZpY2VXb3JrZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmxvYWRGaWxlQmxvYnNGcm9tSW5kZXhlZERCID0gdGhpcy5sb2FkRmlsZUJsb2JzRnJvbUluZGV4ZWREQi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25CbG9ic0xvYWRlZCA9IHRoaXMub25CbG9ic0xvYWRlZC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgcmVzdG9yZVN0YXRlKCkge1xuICAgIGNvbnN0IHNhdmVkU3RhdGUgPSB0aGlzLk1ldGFEYXRhU3RvcmUubG9hZCgpO1xuXG4gICAgaWYgKHNhdmVkU3RhdGUpIHtcbiAgICAgIHRoaXMudXBweS5sb2coJ1tHb2xkZW5SZXRyaWV2ZXJdIFJlY292ZXJlZCBzb21lIHN0YXRlIGZyb20gTG9jYWwgU3RvcmFnZScpO1xuICAgICAgdGhpcy51cHB5LnNldFN0YXRlKHtcbiAgICAgICAgY3VycmVudFVwbG9hZHM6IHNhdmVkU3RhdGUuY3VycmVudFVwbG9hZHMgfHwge30sXG4gICAgICAgIGZpbGVzOiBzYXZlZFN0YXRlLmZpbGVzIHx8IHt9LFxuICAgICAgICByZWNvdmVyZWRTdGF0ZTogc2F2ZWRTdGF0ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLnNhdmVkUGx1Z2luRGF0YSA9IHNhdmVkU3RhdGUucGx1Z2luRGF0YTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldCBmaWxlIG9iamVjdHMgdGhhdCBhcmUgY3VycmVudGx5IHdhaXRpbmc6IHRoZXkndmUgYmVlbiBzZWxlY3RlZCxcbiAgICogYnV0IGFyZW4ndCB5ZXQgYmVpbmcgdXBsb2FkZWQuXG4gICAqL1xuXG5cbiAgZ2V0V2FpdGluZ0ZpbGVzKCkge1xuICAgIGNvbnN0IHdhaXRpbmdGaWxlcyA9IHt9O1xuICAgIHRoaXMudXBweS5nZXRGaWxlcygpLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICBpZiAoIWZpbGUucHJvZ3Jlc3MgfHwgIWZpbGUucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZCkge1xuICAgICAgICB3YWl0aW5nRmlsZXNbZmlsZS5pZF0gPSBmaWxlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB3YWl0aW5nRmlsZXM7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBmaWxlIG9iamVjdHMgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIHVwbG9hZGVkLiBJZiBhIGZpbGUgaGFzIGZpbmlzaGVkXG4gICAqIHVwbG9hZGluZywgYnV0IHRoZSBvdGhlciBmaWxlcyBpbiB0aGUgc2FtZSBiYXRjaCBoYXZlIG5vdCwgdGhlIGZpbmlzaGVkXG4gICAqIGZpbGUgaXMgYWxzbyByZXR1cm5lZC5cbiAgICovXG5cblxuICBnZXRVcGxvYWRpbmdGaWxlcygpIHtcbiAgICBjb25zdCB1cGxvYWRpbmdGaWxlcyA9IHt9O1xuICAgIGNvbnN0IHtcbiAgICAgIGN1cnJlbnRVcGxvYWRzXG4gICAgfSA9IHRoaXMudXBweS5nZXRTdGF0ZSgpO1xuXG4gICAgaWYgKGN1cnJlbnRVcGxvYWRzKSB7XG4gICAgICBjb25zdCB1cGxvYWRJRHMgPSBPYmplY3Qua2V5cyhjdXJyZW50VXBsb2Fkcyk7XG4gICAgICB1cGxvYWRJRHMuZm9yRWFjaCh1cGxvYWRJRCA9PiB7XG4gICAgICAgIGNvbnN0IGZpbGVzSW5VcGxvYWQgPSBjdXJyZW50VXBsb2Fkc1t1cGxvYWRJRF0uZmlsZUlEcztcbiAgICAgICAgZmlsZXNJblVwbG9hZC5mb3JFYWNoKGZpbGVJRCA9PiB7XG4gICAgICAgICAgdXBsb2FkaW5nRmlsZXNbZmlsZUlEXSA9IHRoaXMudXBweS5nZXRGaWxlKGZpbGVJRCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVwbG9hZGluZ0ZpbGVzO1xuICB9XG5cbiAgc2F2ZUZpbGVzU3RhdGVUb0xvY2FsU3RvcmFnZSgpIHtcbiAgICBjb25zdCBmaWxlc1RvU2F2ZSA9IHsgLi4udGhpcy5nZXRXYWl0aW5nRmlsZXMoKSxcbiAgICAgIC4uLnRoaXMuZ2V0VXBsb2FkaW5nRmlsZXMoKVxuICAgIH07IC8vIElmIGFsbCBmaWxlcyBoYXZlIGJlZW4gcmVtb3ZlZCBieSB0aGUgdXNlciwgY2xlYXIgcmVjb3Zlcnkgc3RhdGVcblxuICAgIGlmIChPYmplY3Qua2V5cyhmaWxlc1RvU2F2ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAodGhpcy51cHB5LmdldFN0YXRlKCkucmVjb3ZlcmVkU3RhdGUgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy51cHB5LnNldFN0YXRlKHtcbiAgICAgICAgICByZWNvdmVyZWRTdGF0ZTogbnVsbFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgTWV0YURhdGFTdG9yZS5jbGVhbnVwKHRoaXMudXBweS5vcHRzLmlkKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFdlIGRvbnTigJl0IG5lZWQgdG8gc3RvcmUgZmlsZS5kYXRhIG9uIGxvY2FsIGZpbGVzLCBiZWNhdXNlIHRoZSBhY3R1YWwgYmxvYiB3aWxsIGJlIHJlc3RvcmVkIGxhdGVyLFxuICAgIC8vIGFuZCB3ZSB3YW50IHRvIGF2b2lkIGhhdmluZyB3ZWlyZCBwcm9wZXJ0aWVzIGluIHRoZSBzZXJpYWxpemVkIG9iamVjdC5cbiAgICAvLyBBbHNvIGFkZGluZyBmaWxlLmlzUmVzdG9yZWQgdG8gYWxsIGZpbGVzLCBzaW5jZSB0aGV5IHdpbGwgYmUgcmVzdG9yZWQgZnJvbSBsb2NhbCBzdG9yYWdlXG5cblxuICAgIGNvbnN0IGZpbGVzVG9TYXZlV2l0aG91dERhdGEgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhmaWxlc1RvU2F2ZSkuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgIGlmIChmaWxlc1RvU2F2ZVtmaWxlXS5pc1JlbW90ZSkge1xuICAgICAgICBmaWxlc1RvU2F2ZVdpdGhvdXREYXRhW2ZpbGVdID0geyAuLi5maWxlc1RvU2F2ZVtmaWxlXSxcbiAgICAgICAgICBpc1Jlc3RvcmVkOiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWxlc1RvU2F2ZVdpdGhvdXREYXRhW2ZpbGVdID0geyAuLi5maWxlc1RvU2F2ZVtmaWxlXSxcbiAgICAgICAgICBpc1Jlc3RvcmVkOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgICAgcHJldmlldzogbnVsbFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHBsdWdpbkRhdGEgPSB7fTsgLy8gVE9ETyBGaW5kIGEgYmV0dGVyIHdheSB0byBkbyB0aGlzP1xuICAgIC8vIE90aGVyIHBsdWdpbnMgY2FuIGF0dGFjaCBhIHJlc3RvcmU6Z2V0LWRhdGEgbGlzdGVuZXIgdGhhdCByZWNlaXZlcyB0aGlzIGNhbGxiYWNrLlxuICAgIC8vIFBsdWdpbnMgY2FuIHRoZW4gdXNlIHRoaXMgY2FsbGJhY2sgKHN5bmMpIHRvIHByb3ZpZGUgZGF0YSB0byBiZSBzdG9yZWQuXG5cbiAgICB0aGlzLnVwcHkuZW1pdCgncmVzdG9yZTpnZXQtZGF0YScsIGRhdGEgPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbihwbHVnaW5EYXRhLCBkYXRhKTtcbiAgICB9KTtcbiAgICBjb25zdCB7XG4gICAgICBjdXJyZW50VXBsb2Fkc1xuICAgIH0gPSB0aGlzLnVwcHkuZ2V0U3RhdGUoKTtcbiAgICB0aGlzLk1ldGFEYXRhU3RvcmUuc2F2ZSh7XG4gICAgICBjdXJyZW50VXBsb2FkcyxcbiAgICAgIGZpbGVzOiBmaWxlc1RvU2F2ZVdpdGhvdXREYXRhLFxuICAgICAgcGx1Z2luRGF0YVxuICAgIH0pO1xuICB9XG5cbiAgbG9hZEZpbGVCbG9ic0Zyb21TZXJ2aWNlV29ya2VyKCkge1xuICAgIGlmICghdGhpcy5TZXJ2aWNlV29ya2VyU3RvcmUpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe30pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLlNlcnZpY2VXb3JrZXJTdG9yZS5saXN0KCkudGhlbihibG9icyA9PiB7XG4gICAgICBjb25zdCBudW1iZXJPZkZpbGVzUmVjb3ZlcmVkID0gT2JqZWN0LmtleXMoYmxvYnMpLmxlbmd0aDtcblxuICAgICAgaWYgKG51bWJlck9mRmlsZXNSZWNvdmVyZWQgPiAwKSB7XG4gICAgICAgIHRoaXMudXBweS5sb2coYFtHb2xkZW5SZXRyaWV2ZXJdIFN1Y2Nlc3NmdWxseSByZWNvdmVyZWQgJHtudW1iZXJPZkZpbGVzUmVjb3ZlcmVkfSBibG9icyBmcm9tIFNlcnZpY2UgV29ya2VyIWApO1xuICAgICAgICByZXR1cm4gYmxvYnM7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXBweS5sb2coJ1tHb2xkZW5SZXRyaWV2ZXJdIE5vIGJsb2JzIGZvdW5kIGluIFNlcnZpY2UgV29ya2VyLCB0cnlpbmcgSW5kZXhlZERCIG5vdy4uLicpO1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICB0aGlzLnVwcHkubG9nKCdbR29sZGVuUmV0cmlldmVyXSBGYWlsZWQgdG8gcmVjb3ZlciBibG9icyBmcm9tIFNlcnZpY2UgV29ya2VyJywgJ3dhcm5pbmcnKTtcbiAgICAgIHRoaXMudXBweS5sb2coZXJyKTtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9KTtcbiAgfVxuXG4gIGxvYWRGaWxlQmxvYnNGcm9tSW5kZXhlZERCKCkge1xuICAgIHJldHVybiB0aGlzLkluZGV4ZWREQlN0b3JlLmxpc3QoKS50aGVuKGJsb2JzID0+IHtcbiAgICAgIGNvbnN0IG51bWJlck9mRmlsZXNSZWNvdmVyZWQgPSBPYmplY3Qua2V5cyhibG9icykubGVuZ3RoO1xuXG4gICAgICBpZiAobnVtYmVyT2ZGaWxlc1JlY292ZXJlZCA+IDApIHtcbiAgICAgICAgdGhpcy51cHB5LmxvZyhgW0dvbGRlblJldHJpZXZlcl0gU3VjY2Vzc2Z1bGx5IHJlY292ZXJlZCAke251bWJlck9mRmlsZXNSZWNvdmVyZWR9IGJsb2JzIGZyb20gSW5kZXhlZERCIWApO1xuICAgICAgICByZXR1cm4gYmxvYnM7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXBweS5sb2coJ1tHb2xkZW5SZXRyaWV2ZXJdIE5vIGJsb2JzIGZvdW5kIGluIEluZGV4ZWREQicpO1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICB0aGlzLnVwcHkubG9nKCdbR29sZGVuUmV0cmlldmVyXSBGYWlsZWQgdG8gcmVjb3ZlciBibG9icyBmcm9tIEluZGV4ZWREQicsICd3YXJuaW5nJyk7XG4gICAgICB0aGlzLnVwcHkubG9nKGVycik7XG4gICAgICByZXR1cm4ge307XG4gICAgfSk7XG4gIH1cblxuICBvbkJsb2JzTG9hZGVkKGJsb2JzKSB7XG4gICAgY29uc3Qgb2Jzb2xldGVCbG9icyA9IFtdO1xuICAgIGNvbnN0IHVwZGF0ZWRGaWxlcyA9IHsgLi4udGhpcy51cHB5LmdldFN0YXRlKCkuZmlsZXNcbiAgICB9OyAvLyBMb29wIHRocm91Z2ggYmxvYnMgdGhhdCB3ZSBjYW4gcmVzdG9yZSwgYWRkIGJsb2JzIHRvIGZpbGUgb2JqZWN0c1xuXG4gICAgT2JqZWN0LmtleXMoYmxvYnMpLmZvckVhY2goZmlsZUlEID0+IHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsRmlsZSA9IHRoaXMudXBweS5nZXRGaWxlKGZpbGVJRCk7XG5cbiAgICAgIGlmICghb3JpZ2luYWxGaWxlKSB7XG4gICAgICAgIG9ic29sZXRlQmxvYnMucHVzaChmaWxlSUQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNhY2hlZERhdGEgPSBibG9ic1tmaWxlSURdO1xuICAgICAgY29uc3QgdXBkYXRlZEZpbGVEYXRhID0ge1xuICAgICAgICBkYXRhOiBjYWNoZWREYXRhLFxuICAgICAgICBpc1Jlc3RvcmVkOiB0cnVlLFxuICAgICAgICBpc0dob3N0OiBmYWxzZVxuICAgICAgfTtcbiAgICAgIHVwZGF0ZWRGaWxlc1tmaWxlSURdID0geyAuLi5vcmlnaW5hbEZpbGUsXG4gICAgICAgIC4uLnVwZGF0ZWRGaWxlRGF0YVxuICAgICAgfTtcbiAgICB9KTsgLy8gTG9vcCB0aHJvdWdoIGZpbGVzIHRoYXQgd2UgY2Fu4oCZdCByZXN0b3JlIGZ1bGx5IOKAlCB3ZSBvbmx5IGhhdmUgbWV0YSwgbm90IGJsb2JzLFxuICAgIC8vIHNldCAuaXNHaG9zdCBvbiB0aGVtLCBhbHNvIHNldCBpc1Jlc3RvcmVkIHRvIGFsbCBmaWxlc1xuXG4gICAgT2JqZWN0LmtleXModXBkYXRlZEZpbGVzKS5mb3JFYWNoKGZpbGVJRCA9PiB7XG4gICAgICBpZiAodXBkYXRlZEZpbGVzW2ZpbGVJRF0uZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICB1cGRhdGVkRmlsZXNbZmlsZUlEXSA9IHsgLi4udXBkYXRlZEZpbGVzW2ZpbGVJRF0sXG4gICAgICAgICAgaXNHaG9zdDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMudXBweS5zZXRTdGF0ZSh7XG4gICAgICBmaWxlczogdXBkYXRlZEZpbGVzXG4gICAgfSk7XG4gICAgdGhpcy51cHB5LmVtaXQoJ3Jlc3RvcmVkJywgdGhpcy5zYXZlZFBsdWdpbkRhdGEpO1xuXG4gICAgaWYgKG9ic29sZXRlQmxvYnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmRlbGV0ZUJsb2JzKG9ic29sZXRlQmxvYnMpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLnVwcHkubG9nKGBbR29sZGVuUmV0cmlldmVyXSBDbGVhbmVkIHVwICR7b2Jzb2xldGVCbG9icy5sZW5ndGh9IG9sZCBmaWxlc2ApO1xuICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgdGhpcy51cHB5LmxvZyhgW0dvbGRlblJldHJpZXZlcl0gQ291bGQgbm90IGNsZWFuIHVwICR7b2Jzb2xldGVCbG9icy5sZW5ndGh9IG9sZCBmaWxlc2AsICd3YXJuaW5nJyk7XG4gICAgICAgIHRoaXMudXBweS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZUJsb2JzKGZpbGVJRHMpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgIGZpbGVJRHMuZm9yRWFjaChpZCA9PiB7XG4gICAgICBpZiAodGhpcy5TZXJ2aWNlV29ya2VyU3RvcmUpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLlNlcnZpY2VXb3JrZXJTdG9yZS5kZWxldGUoaWQpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuSW5kZXhlZERCU3RvcmUpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLkluZGV4ZWREQlN0b3JlLmRlbGV0ZShpZCkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cblxuICBpbnN0YWxsKCkge1xuICAgIHRoaXMucmVzdG9yZVN0YXRlKCk7XG4gICAgdGhpcy5yZXN0b3JlQmxvYnMoKTtcbiAgICB0aGlzLnVwcHkub24oJ2ZpbGUtYWRkZWQnLCB0aGlzLmFkZEJsb2JUb1N0b3Jlcyk7XG4gICAgdGhpcy51cHB5Lm9uKCdmaWxlLWVkaXRvcjpjb21wbGV0ZScsIHRoaXMucmVwbGFjZUJsb2JJblN0b3Jlcyk7XG4gICAgdGhpcy51cHB5Lm9uKCdmaWxlLXJlbW92ZWQnLCB0aGlzLnJlbW92ZUJsb2JGcm9tU3RvcmVzKTsgLy8gVE9ETzogdGhlIGBzdGF0ZS11cGRhdGVgIGlzIGJhZCBwcmFjdGlzZS4gSXQgZmlyZXMgb24gYW55IHN0YXRlIGNoYW5nZSBpbiBVcHB5XG4gICAgLy8gb3IgYW55IHN0YXRlIGNoYW5nZSBpbiBhbnkgb2YgdGhlIHBsdWdpbnMuIFdlIHNob3VsZCB0byBhYmxlIHRvIG9ubHkgbGlzdGVuXG4gICAgLy8gZm9yIHRoZSBzdGF0ZSBjaGFuZ2VzIHdlIG5lZWQsIHNvbWVob3cuXG5cbiAgICB0aGlzLnVwcHkub24oJ3N0YXRlLXVwZGF0ZScsIHRoaXMuc2F2ZUZpbGVzU3RhdGVUb0xvY2FsU3RvcmFnZSk7XG4gICAgdGhpcy51cHB5Lm9uKCdyZXN0b3JlLWNvbmZpcm1lZCcsIHRoaXMuaGFuZGxlUmVzdG9yZUNvbmZpcm1lZCk7XG4gICAgdGhpcy51cHB5Lm9uKCdyZXN0b3JlLWNhbmNlbGVkJywgdGhpcy5hYm9ydFJlc3RvcmUpO1xuICAgIHRoaXMudXBweS5vbignY29tcGxldGUnLCB0aGlzLmhhbmRsZUNvbXBsZXRlKTtcbiAgfVxuXG4gIHVuaW5zdGFsbCgpIHtcbiAgICB0aGlzLnVwcHkub2ZmKCdmaWxlLWFkZGVkJywgdGhpcy5hZGRCbG9iVG9TdG9yZXMpO1xuICAgIHRoaXMudXBweS5vZmYoJ2ZpbGUtZWRpdG9yOmNvbXBsZXRlJywgdGhpcy5yZXBsYWNlQmxvYkluU3RvcmVzKTtcbiAgICB0aGlzLnVwcHkub2ZmKCdmaWxlLXJlbW92ZWQnLCB0aGlzLnJlbW92ZUJsb2JGcm9tU3RvcmVzKTtcbiAgICB0aGlzLnVwcHkub2ZmKCdzdGF0ZS11cGRhdGUnLCB0aGlzLnNhdmVGaWxlc1N0YXRlVG9Mb2NhbFN0b3JhZ2UpO1xuICAgIHRoaXMudXBweS5vZmYoJ3Jlc3RvcmUtY29uZmlybWVkJywgdGhpcy5oYW5kbGVSZXN0b3JlQ29uZmlybWVkKTtcbiAgICB0aGlzLnVwcHkub2ZmKCdyZXN0b3JlLWNhbmNlbGVkJywgdGhpcy5hYm9ydFJlc3RvcmUpO1xuICAgIHRoaXMudXBweS5vZmYoJ2NvbXBsZXRlJywgdGhpcy5oYW5kbGVDb21wbGV0ZSk7XG4gIH1cblxufVxuR29sZGVuUmV0cmlldmVyLlZFUlNJT04gPSBwYWNrYWdlSnNvbi52ZXJzaW9uOyIsImltcG9ydCB7IFByb3ZpZGVyVmlld3MgfSBmcm9tICdAdXBweS9wcm92aWRlci12aWV3cyc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEcml2ZVByb3ZpZGVyVmlld3MgZXh0ZW5kcyBQcm92aWRlclZpZXdzIHtcbiAgdG9nZ2xlQ2hlY2tib3goZSwgZmlsZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBTaGFyZWQgRHJpdmVzIGFyZW4ndCBzZWxlY3RhYmxlOyBmb3IgYWxsIGVsc2UsIGRlZmVyIHRvIHRoZSBiYXNlIFByb3ZpZGVyVmlldy5cblxuICAgIGlmICghZmlsZS5jdXN0b20uaXNTaGFyZWREcml2ZSkge1xuICAgICAgc3VwZXIudG9nZ2xlQ2hlY2tib3goZSwgZmlsZSk7XG4gICAgfVxuICB9XG5cbn0iLCJpbXBvcnQgeyBVSVBsdWdpbiB9IGZyb20gJ0B1cHB5L2NvcmUnO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdAdXBweS9jb21wYW5pb24tY2xpZW50JztcbmltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuY29uc3QgcGFja2FnZUpzb24gPSB7XG4gIFwidmVyc2lvblwiOiBcIjMuMS4wXCJcbn07XG5pbXBvcnQgRHJpdmVQcm92aWRlclZpZXdzIGZyb20gJy4vRHJpdmVQcm92aWRlclZpZXdzLmpzJztcbmltcG9ydCBsb2NhbGUgZnJvbSAnLi9sb2NhbGUuanMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR29vZ2xlRHJpdmUgZXh0ZW5kcyBVSVBsdWdpbiB7XG4gIGNvbnN0cnVjdG9yKHVwcHksIG9wdHMpIHtcbiAgICBzdXBlcih1cHB5LCBvcHRzKTtcbiAgICB0aGlzLmlkID0gdGhpcy5vcHRzLmlkIHx8ICdHb29nbGVEcml2ZSc7XG4gICAgdGhpcy50aXRsZSA9IHRoaXMub3B0cy50aXRsZSB8fCAnR29vZ2xlIERyaXZlJztcbiAgICBQcm92aWRlci5pbml0UGx1Z2luKHRoaXMsIG9wdHMpO1xuICAgIHRoaXMudGl0bGUgPSB0aGlzLm9wdHMudGl0bGUgfHwgJ0dvb2dsZSBEcml2ZSc7XG5cbiAgICB0aGlzLmljb24gPSAoKSA9PiBoKFwic3ZnXCIsIHtcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgICBmb2N1c2FibGU6IFwiZmFsc2VcIixcbiAgICAgIHdpZHRoOiBcIjMyXCIsXG4gICAgICBoZWlnaHQ6IFwiMzJcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCJcbiAgICB9LCBoKFwiZ1wiLCB7XG4gICAgICBmaWxsUnVsZTogXCJub256ZXJvXCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIlxuICAgIH0sIGgoXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTYuNjYzIDIyLjI4NGwuOTcgMS42MmMuMjAyLjM0LjQ5Mi42MDkuODMyLjgwNGwzLjQ2NS01Ljc5OEg1YzAgLjM3OC4xLjc1NS4zMDIgMS4wOTZsMS4zNjEgMi4yNzh6XCIsXG4gICAgICBmaWxsOiBcIiMwMDY2REFcIlxuICAgIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0xNiAxMi4wOWwtMy40NjUtNS43OThjLS4zNC4xOTUtLjYzLjQ2My0uODMyLjgwNGwtNi40IDEwLjcxOEEyLjE1IDIuMTUgMCAwMDUgMTguOTFoNi45M0wxNiAxMi4wOXpcIixcbiAgICAgIGZpbGw6IFwiIzAwQUM0N1wiXG4gICAgfSksIGgoXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTIzLjUzNSAyNC43MDhjLjM0LS4xOTUuNjMtLjQ2My44MzItLjgwNGwuNDAzLS42NyAxLjkyOC0zLjIyOGMuMjAxLS4zNC4zMDItLjcxOC4zMDItMS4wOTZoLTYuOTNsMS40NzQgMi44MDIgMS45OTEgMi45OTZ6XCIsXG4gICAgICBmaWxsOiBcIiNFQTQzMzVcIlxuICAgIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0xNiAxMi4wOWwzLjQ2NS01Ljc5OEEyLjI3NCAyLjI3NCAwIDAwMTguMzMxIDZoLTQuNjYyYy0uNDAzIDAtLjc5NC4xMS0xLjEzNC4yOTJMMTYgMTIuMDl6XCIsXG4gICAgICBmaWxsOiBcIiMwMDgzMkRcIlxuICAgIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0yMC4wNyAxOC45MWgtOC4xNGwtMy40NjUgNS43OThjLjM0LjE5NS43My4yOTIgMS4xMzQuMjkyaDEyLjgwMmMuNDAzIDAgLjc5NC0uMTEgMS4xMzQtLjI5MkwyMC4wNyAxOC45MXpcIixcbiAgICAgIGZpbGw6IFwiIzI2ODRGQ1wiXG4gICAgfSksIGgoXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTIzLjQ5NyAxMi40NTVsLTMuMi01LjM1OWEyLjI1MiAyLjI1MiAwIDAwLS44MzItLjgwNEwxNiAxMi4wOWw0LjA3IDYuODJoNi45MTdjMC0uMzc3LS4xLS43NTUtLjMwMi0xLjA5NmwtMy4xODgtNS4zNTl6XCIsXG4gICAgICBmaWxsOiBcIiNGRkJBMDBcIlxuICAgIH0pKSk7XG5cbiAgICB0aGlzLnByb3ZpZGVyID0gbmV3IFByb3ZpZGVyKHVwcHksIHtcbiAgICAgIGNvbXBhbmlvblVybDogdGhpcy5vcHRzLmNvbXBhbmlvblVybCxcbiAgICAgIGNvbXBhbmlvbkhlYWRlcnM6IHRoaXMub3B0cy5jb21wYW5pb25IZWFkZXJzLFxuICAgICAgY29tcGFuaW9uS2V5c1BhcmFtczogdGhpcy5vcHRzLmNvbXBhbmlvbktleXNQYXJhbXMsXG4gICAgICBjb21wYW5pb25Db29raWVzUnVsZTogdGhpcy5vcHRzLmNvbXBhbmlvbkNvb2tpZXNSdWxlLFxuICAgICAgcHJvdmlkZXI6ICdkcml2ZScsXG4gICAgICBwbHVnaW5JZDogdGhpcy5pZFxuICAgIH0pO1xuICAgIHRoaXMuZGVmYXVsdExvY2FsZSA9IGxvY2FsZTtcbiAgICB0aGlzLmkxOG5Jbml0KCk7XG4gICAgdGhpcy50aXRsZSA9IHRoaXMuaTE4bigncGx1Z2luTmFtZUdvb2dsZURyaXZlJyk7XG4gICAgdGhpcy5vbkZpcnN0UmVuZGVyID0gdGhpcy5vbkZpcnN0UmVuZGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLnJlbmRlci5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaW5zdGFsbCgpIHtcbiAgICB0aGlzLnZpZXcgPSBuZXcgRHJpdmVQcm92aWRlclZpZXdzKHRoaXMsIHtcbiAgICAgIHByb3ZpZGVyOiB0aGlzLnByb3ZpZGVyXG4gICAgfSk7XG4gICAgY29uc3Qge1xuICAgICAgdGFyZ2V0XG4gICAgfSA9IHRoaXMub3B0cztcblxuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHRoaXMubW91bnQodGFyZ2V0LCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICB1bmluc3RhbGwoKSB7XG4gICAgdGhpcy52aWV3LnRlYXJEb3duKCk7XG4gICAgdGhpcy51bm1vdW50KCk7XG4gIH1cblxuICBvbkZpcnN0UmVuZGVyKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5wcm92aWRlci5mZXRjaFByZUF1dGhUb2tlbigpLCB0aGlzLnZpZXcuZ2V0Rm9sZGVyKCdyb290JywgJy8nKV0pO1xuICB9XG5cbiAgcmVuZGVyKHN0YXRlKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5yZW5kZXIoc3RhdGUpO1xuICB9XG5cbn1cbkdvb2dsZURyaXZlLlZFUlNJT04gPSBwYWNrYWdlSnNvbi52ZXJzaW9uOyIsImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tIFwiLi9Hb29nbGVEcml2ZS5qc1wiOyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgc3RyaW5nczoge1xuICAgIHBsdWdpbk5hbWVHb29nbGVEcml2ZTogJ0dvb2dsZSBEcml2ZSdcbiAgfVxufTsiLCJpbXBvcnQgQ3JvcHBlciBmcm9tICdjcm9wcGVyanMnO1xuaW1wb3J0IHsgaCwgQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0JztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRvciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5ncmFudWxhclJvdGF0ZU9uQ2hhbmdlID0gZXYgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICByb3RhdGlvbkFuZ2xlLFxuICAgICAgICByb3RhdGlvbkRlbHRhXG4gICAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgIGNvbnN0IHBlbmRpbmdSb3RhdGlvbkRlbHRhID0gTnVtYmVyKGV2LnRhcmdldC52YWx1ZSkgLSByb3RhdGlvbkRlbHRhO1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5ncmFudWxhclJvdGF0ZU9uSW5wdXROZXh0RnJhbWUpO1xuXG4gICAgICBpZiAocGVuZGluZ1JvdGF0aW9uRGVsdGEgIT09IDApIHtcbiAgICAgICAgY29uc3QgcGVuZGluZ1JvdGF0aW9uQW5nbGUgPSByb3RhdGlvbkFuZ2xlICsgcGVuZGluZ1JvdGF0aW9uRGVsdGE7XG4gICAgICAgIHRoaXMuZ3JhbnVsYXJSb3RhdGVPbklucHV0TmV4dEZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNyb3BwZXIucm90YXRlVG8ocGVuZGluZ1JvdGF0aW9uQW5nbGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHJvdGF0aW9uQW5nbGU6IDAsXG4gICAgICByb3RhdGlvbkRlbHRhOiAwXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHtcbiAgICAgIG9wdHMsXG4gICAgICBzdG9yZUNyb3BwZXJJbnN0YW5jZVxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIHRoaXMuY3JvcHBlciA9IG5ldyBDcm9wcGVyKHRoaXMuaW1nRWxlbWVudCwgb3B0cy5jcm9wcGVyT3B0aW9ucyk7XG4gICAgc3RvcmVDcm9wcGVySW5zdGFuY2UodGhpcy5jcm9wcGVyKTtcblxuICAgIGlmIChvcHRzLmFjdGlvbnMuZ3JhbnVsYXJSb3RhdGUpIHtcbiAgICAgIHRoaXMuaW1nRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjcm9wJywgZXYgPT4ge1xuICAgICAgICBjb25zdCByb3RhdGlvbkFuZ2xlID0gZXYuZGV0YWlsLnJvdGF0ZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgcm90YXRpb25BbmdsZSxcbiAgICAgICAgICAvLyA0MDUgPT0gMzYwICsgNDVcbiAgICAgICAgICByb3RhdGlvbkRlbHRhOiAocm90YXRpb25BbmdsZSArIDQwNSkgJSA5MCAtIDQ1XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5jcm9wcGVyLmRlc3Ryb3koKTtcbiAgfVxuXG4gIHJlbmRlckdyYW51bGFyUm90YXRlKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGkxOG5cbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7XG4gICAgICByb3RhdGlvbkRlbHRhLFxuICAgICAgcm90YXRpb25BbmdsZVxuICAgIH0gPSB0aGlzLnN0YXRlO1xuICAgIHJldHVybiAoLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L2xhYmVsLWhhcy1hc3NvY2lhdGVkLWNvbnRyb2xcbiAgICAgIGgoXCJsYWJlbFwiLCB7XG4gICAgICAgIFwiZGF0YS1taWNyb3RpcC1wb3NpdGlvblwiOiBcInRvcFwiLFxuICAgICAgICByb2xlOiBcInRvb2x0aXBcIixcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IGAke3JvdGF0aW9uQW5nbGV9wrpgLFxuICAgICAgICBjbGFzc05hbWU6IFwidXBweS1JbWFnZUNyb3BwZXItcmFuZ2VXcmFwcGVyIHVwcHktdS1yZXNldFwiXG4gICAgICB9LCBoKFwiaW5wdXRcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwidXBweS1JbWFnZUNyb3BwZXItcmFuZ2UgdXBweS11LXJlc2V0XCIsXG4gICAgICAgIHR5cGU6IFwicmFuZ2VcIixcbiAgICAgICAgb25JbnB1dDogdGhpcy5ncmFudWxhclJvdGF0ZU9uQ2hhbmdlLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5ncmFudWxhclJvdGF0ZU9uQ2hhbmdlLFxuICAgICAgICB2YWx1ZTogcm90YXRpb25EZWx0YSxcbiAgICAgICAgbWluOiBcIi00NVwiLFxuICAgICAgICBtYXg6IFwiNDRcIixcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IGkxOG4oJ3JvdGF0ZScpXG4gICAgICB9KSlcbiAgICApO1xuICB9XG5cbiAgcmVuZGVyUmV2ZXJ0KCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGkxOG5cbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gaChcImJ1dHRvblwiLCB7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LWMtYnRuXCIsXG4gICAgICBcImFyaWEtbGFiZWxcIjogaTE4bigncmV2ZXJ0JyksXG4gICAgICBcImRhdGEtbWljcm90aXAtcG9zaXRpb25cIjogXCJ0b3BcIixcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5jcm9wcGVyLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuY3JvcHBlci5zZXRBc3BlY3RSYXRpbygwKTtcbiAgICAgIH1cbiAgICB9LCBoKFwic3ZnXCIsIHtcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgICBjbGFzc05hbWU6IFwidXBweS1jLWljb25cIixcbiAgICAgIHdpZHRoOiBcIjI0XCIsXG4gICAgICBoZWlnaHQ6IFwiMjRcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCJcbiAgICB9LCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0wIDBoMjR2MjRIMHpcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiXG4gICAgfSksIGgoXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTEzIDNjLTQuOTcgMC05IDQuMDMtOSA5SDFsMy44OSAzLjg5LjA3LjE0TDkgMTJINmMwLTMuODcgMy4xMy03IDctN3M3IDMuMTMgNyA3LTMuMTMgNy03IDdjLTEuOTMgMC0zLjY4LS43OS00Ljk0LTIuMDZsLTEuNDIgMS40MkM4LjI3IDE5Ljk5IDEwLjUxIDIxIDEzIDIxYzQuOTcgMCA5LTQuMDMgOS05cy00LjAzLTktOS05em0tMSA1djVsNC4yOCAyLjU0LjcyLTEuMjEtMy41LTIuMDhWOEgxMnpcIlxuICAgIH0pKSk7XG4gIH1cblxuICByZW5kZXJSb3RhdGUoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaTE4blxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiBoKFwiYnV0dG9uXCIsIHtcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG5cIixcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuY3JvcHBlci5yb3RhdGUoLTkwKSxcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBpMThuKCdyb3RhdGUnKSxcbiAgICAgIFwiZGF0YS1taWNyb3RpcC1wb3NpdGlvblwiOiBcInRvcFwiXG4gICAgfSwgaChcInN2Z1wiLCB7XG4gICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uXCIsXG4gICAgICB3aWR0aDogXCIyNFwiLFxuICAgICAgaGVpZ2h0OiBcIjI0XCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiXG4gICAgfSwgaChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMCAwaDI0djI0SDBWMHptMCAwaDI0djI0SDBWMHpcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiXG4gICAgfSksIGgoXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTE0IDEwYTIgMiAwIDAxMiAydjdhMiAyIDAgMDEtMiAySDZhMiAyIDAgMDEtMi0ydi03YTIgMiAwIDAxMi0yaDh6bTAgMS43NUg2YS4yNS4yNSAwIDAwLS4yNDMuMTkzTDUuNzUgMTJ2N2EuMjUuMjUgMCAwMC4xOTMuMjQzTDYgMTkuMjVoOGEuMjUuMjUgMCAwMC4yNDMtLjE5M0wxNC4yNSAxOXYtN2EuMjUuMjUgMCAwMC0uMTkzLS4yNDNMMTQgMTEuNzV6TTEyIC43NlY0YzIuMyAwIDQuNjEuODggNi4zNiAyLjY0YTguOTUgOC45NSAwIDAxMi42MzQgNi4wMjVMMjEgMTNhMSAxIDAgMDEtMS45OTMuMTE3TDE5IDEzaC0uMDAzYTYuOTc5IDYuOTc5IDAgMDAtMi4wNDctNC45NSA2Ljk3IDYuOTcgMCAwMC00LjY1Mi0yLjA0NEwxMiA2djMuMjRMNy43NiA1IDEyIC43NnpcIlxuICAgIH0pKSk7XG4gIH1cblxuICByZW5kZXJGbGlwKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGkxOG5cbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gaChcImJ1dHRvblwiLCB7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LWMtYnRuXCIsXG4gICAgICBcImFyaWEtbGFiZWxcIjogaTE4bignZmxpcEhvcml6b250YWwnKSxcbiAgICAgIFwiZGF0YS1taWNyb3RpcC1wb3NpdGlvblwiOiBcInRvcFwiLFxuICAgICAgb25DbGljazogKCkgPT4gdGhpcy5jcm9wcGVyLnNjYWxlWCgtdGhpcy5jcm9wcGVyLmdldERhdGEoKS5zY2FsZVggfHwgLTEpXG4gICAgfSwgaChcInN2Z1wiLCB7XG4gICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uXCIsXG4gICAgICB3aWR0aDogXCIyNFwiLFxuICAgICAgaGVpZ2h0OiBcIjI0XCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiXG4gICAgfSwgaChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMCAwaDI0djI0SDB6XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIlxuICAgIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0xNSAyMWgydi0yaC0ydjJ6bTQtMTJoMlY3aC0ydjJ6TTMgNXYxNGMwIDEuMS45IDIgMiAyaDR2LTJINVY1aDRWM0g1Yy0xLjEgMC0yIC45LTIgMnptMTYtMnYyaDJjMC0xLjEtLjktMi0yLTJ6bS04IDIwaDJWMWgtMnYyMnptOC02aDJ2LTJoLTJ2MnpNMTUgNWgyVjNoLTJ2MnptNCA4aDJ2LTJoLTJ2MnptMCA4YzEuMSAwIDItLjkgMi0yaC0ydjJ6XCJcbiAgICB9KSkpO1xuICB9XG5cbiAgcmVuZGVyWm9vbUluKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGkxOG5cbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gaChcImJ1dHRvblwiLCB7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LWMtYnRuXCIsXG4gICAgICBcImFyaWEtbGFiZWxcIjogaTE4bignem9vbUluJyksXG4gICAgICBcImRhdGEtbWljcm90aXAtcG9zaXRpb25cIjogXCJ0b3BcIixcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuY3JvcHBlci56b29tKDAuMSlcbiAgICB9LCBoKFwic3ZnXCIsIHtcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgICBjbGFzc05hbWU6IFwidXBweS1jLWljb25cIixcbiAgICAgIGhlaWdodDogXCIyNFwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICAgIHdpZHRoOiBcIjI0XCJcbiAgICB9LCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0wIDBoMjR2MjRIMFYwelwiLFxuICAgICAgZmlsbDogXCJub25lXCJcbiAgICB9KSwgaChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHpcIlxuICAgIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0xMiAxMGgtMnYySDl2LTJIN1Y5aDJWN2gxdjJoMnYxelwiXG4gICAgfSkpKTtcbiAgfVxuXG4gIHJlbmRlclpvb21PdXQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaTE4blxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiBoKFwiYnV0dG9uXCIsIHtcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG5cIixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBpMThuKCd6b29tT3V0JyksXG4gICAgICBcImRhdGEtbWljcm90aXAtcG9zaXRpb25cIjogXCJ0b3BcIixcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuY3JvcHBlci56b29tKC0wLjEpXG4gICAgfSwgaChcInN2Z1wiLCB7XG4gICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uXCIsXG4gICAgICB3aWR0aDogXCIyNFwiLFxuICAgICAgaGVpZ2h0OiBcIjI0XCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiXG4gICAgfSwgaChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMCAwaDI0djI0SDBWMHpcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiXG4gICAgfSksIGgoXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTE1LjUgMTRoLS43OWwtLjI4LS4yN0MxNS40MSAxMi41OSAxNiAxMS4xMSAxNiA5LjUgMTYgNS45MSAxMy4wOSAzIDkuNSAzUzMgNS45MSAzIDkuNSA1LjkxIDE2IDkuNSAxNmMxLjYxIDAgMy4wOS0uNTkgNC4yMy0xLjU3bC4yNy4yOHYuNzlsNSA0Ljk5TDIwLjQ5IDE5bC00Ljk5LTV6bS02IDBDNy4wMSAxNCA1IDExLjk5IDUgOS41UzcuMDEgNSA5LjUgNSAxNCA3LjAxIDE0IDkuNSAxMS45OSAxNCA5LjUgMTR6TTcgOWg1djFIN3pcIlxuICAgIH0pKSk7XG4gIH1cblxuICByZW5kZXJDcm9wU3F1YXJlKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGkxOG5cbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gaChcImJ1dHRvblwiLCB7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LWMtYnRuXCIsXG4gICAgICBcImFyaWEtbGFiZWxcIjogaTE4bignYXNwZWN0UmF0aW9TcXVhcmUnKSxcbiAgICAgIFwiZGF0YS1taWNyb3RpcC1wb3NpdGlvblwiOiBcInRvcFwiLFxuICAgICAgb25DbGljazogKCkgPT4gdGhpcy5jcm9wcGVyLnNldEFzcGVjdFJhdGlvKDEpXG4gICAgfSwgaChcInN2Z1wiLCB7XG4gICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uXCIsXG4gICAgICB3aWR0aDogXCIyNFwiLFxuICAgICAgaGVpZ2h0OiBcIjI0XCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiXG4gICAgfSwgaChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMCAwaDI0djI0SDB6XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIlxuICAgIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0xOSA1djE0SDVWNWgxNG0wLTJINWMtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMlY1YzAtMS4xLS45LTItMi0yelwiXG4gICAgfSkpKTtcbiAgfVxuXG4gIHJlbmRlckNyb3BXaWRlc2NyZWVuKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGkxOG5cbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gaChcImJ1dHRvblwiLCB7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LWMtYnRuXCIsXG4gICAgICBcImFyaWEtbGFiZWxcIjogaTE4bignYXNwZWN0UmF0aW9MYW5kc2NhcGUnKSxcbiAgICAgIFwiZGF0YS1taWNyb3RpcC1wb3NpdGlvblwiOiBcInRvcFwiLFxuICAgICAgb25DbGljazogKCkgPT4gdGhpcy5jcm9wcGVyLnNldEFzcGVjdFJhdGlvKDE2IC8gOSlcbiAgICB9LCBoKFwic3ZnXCIsIHtcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgICBjbGFzc05hbWU6IFwidXBweS1jLWljb25cIixcbiAgICAgIHdpZHRoOiBcIjI0XCIsXG4gICAgICBoZWlnaHQ6IFwiMjRcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCJcbiAgICB9LCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0gMTksNC45OTk5OTkyIFYgMTcuMDAwMDAxIEggNC45OTk5OTk4IFYgNi45OTk5OTkyIEggMTkgbSAwLC0yIEggNC45OTk5OTk4IGMgLTEuMDk5OTk5OSwwIC0xLjk5OTk5OTksMC45MDAwMDAxIC0xLjk5OTk5OTksMiBWIDE3LjAwMDAwMSBjIDAsMS4xIDAuOSwyIDEuOTk5OTk5OSwyIEggMTkgYyAxLjEsMCAyLC0wLjkgMiwtMiBWIDYuOTk5OTk5MiBjIDAsLTEuMDk5OTk5OSAtMC45LC0yIC0yLC0yIHpcIlxuICAgIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIGQ6IFwiTTAgMGgyNHYyNEgwelwiXG4gICAgfSkpKTtcbiAgfVxuXG4gIHJlbmRlckNyb3BXaWRlc2NyZWVuVmVydGljYWwoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaTE4blxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiBoKFwiYnV0dG9uXCIsIHtcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG5cIixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBpMThuKCdhc3BlY3RSYXRpb1BvcnRyYWl0JyksXG4gICAgICBcImRhdGEtbWljcm90aXAtcG9zaXRpb25cIjogXCJ0b3BcIixcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuY3JvcHBlci5zZXRBc3BlY3RSYXRpbyg5IC8gMTYpXG4gICAgfSwgaChcInN2Z1wiLCB7XG4gICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uXCIsXG4gICAgICB3aWR0aDogXCIyNFwiLFxuICAgICAgaGVpZ2h0OiBcIjI0XCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiXG4gICAgfSwgaChcInBhdGhcIiwge1xuICAgICAgZDogXCJNIDE5LjAwMDAwMSwxOSBIIDYuOTk5OTk5IFYgNSBoIDEwLjAwMDAwMiB2IDE0IG0gMiwwIFYgNSBjIDAsLTEuMDk5OTk5OSAtMC45LC0xLjk5OTk5OTkgLTIsLTEuOTk5OTk5OSBIIDYuOTk5OTk5IGMgLTEuMSwwIC0yLDAuOSAtMiwxLjk5OTk5OTkgdiAxNCBjIDAsMS4xIDAuOSwyIDIsMiBoIDEwLjAwMDAwMiBjIDEuMSwwIDIsLTAuOSAyLC0yIHpcIlxuICAgIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0wIDBoMjR2MjRIMHpcIixcbiAgICAgIGZpbGw6IFwibm9uZVwiXG4gICAgfSkpKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjdXJyZW50SW1hZ2UsXG4gICAgICBvcHRzXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge1xuICAgICAgYWN0aW9uc1xuICAgIH0gPSBvcHRzO1xuICAgIGNvbnN0IGltYWdlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChjdXJyZW50SW1hZ2UuZGF0YSk7XG4gICAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInVwcHktSW1hZ2VDcm9wcGVyXCJcbiAgICB9LCBoKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LUltYWdlQ3JvcHBlci1jb250YWluZXJcIlxuICAgIH0sIGgoXCJpbWdcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInVwcHktSW1hZ2VDcm9wcGVyLWltYWdlXCIsXG4gICAgICBhbHQ6IGN1cnJlbnRJbWFnZS5uYW1lLFxuICAgICAgc3JjOiBpbWFnZVVSTCxcbiAgICAgIHJlZjogcmVmID0+IHtcbiAgICAgICAgdGhpcy5pbWdFbGVtZW50ID0gcmVmO1xuICAgICAgfVxuICAgIH0pKSwgaChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidXBweS1JbWFnZUNyb3BwZXItY29udHJvbHNcIlxuICAgIH0sIGFjdGlvbnMucmV2ZXJ0ICYmIHRoaXMucmVuZGVyUmV2ZXJ0KCksIGFjdGlvbnMucm90YXRlICYmIHRoaXMucmVuZGVyUm90YXRlKCksIGFjdGlvbnMuZ3JhbnVsYXJSb3RhdGUgJiYgdGhpcy5yZW5kZXJHcmFudWxhclJvdGF0ZSgpLCBhY3Rpb25zLmZsaXAgJiYgdGhpcy5yZW5kZXJGbGlwKCksIGFjdGlvbnMuem9vbUluICYmIHRoaXMucmVuZGVyWm9vbUluKCksIGFjdGlvbnMuem9vbU91dCAmJiB0aGlzLnJlbmRlclpvb21PdXQoKSwgYWN0aW9ucy5jcm9wU3F1YXJlICYmIHRoaXMucmVuZGVyQ3JvcFNxdWFyZSgpLCBhY3Rpb25zLmNyb3BXaWRlc2NyZWVuICYmIHRoaXMucmVuZGVyQ3JvcFdpZGVzY3JlZW4oKSwgYWN0aW9ucy5jcm9wV2lkZXNjcmVlblZlcnRpY2FsICYmIHRoaXMucmVuZGVyQ3JvcFdpZGVzY3JlZW5WZXJ0aWNhbCgpKSk7XG4gIH1cblxufSIsImltcG9ydCB7IFVJUGx1Z2luIH0gZnJvbSAnQHVwcHkvY29yZSc7XG5pbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBFZGl0b3IgZnJvbSBcIi4vRWRpdG9yLmpzXCI7XG5jb25zdCBwYWNrYWdlSnNvbiA9IHtcbiAgXCJ2ZXJzaW9uXCI6IFwiMi4xLjFcIlxufTtcbmltcG9ydCBsb2NhbGUgZnJvbSAnLi9sb2NhbGUuanMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VFZGl0b3IgZXh0ZW5kcyBVSVBsdWdpbiB7XG4gIGNvbnN0cnVjdG9yKHVwcHksIG9wdHMpIHtcbiAgICBzdXBlcih1cHB5LCBvcHRzKTtcblxuICAgIHRoaXMuc2F2ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHNhdmVCbG9iQ2FsbGJhY2sgPSBibG9iID0+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGN1cnJlbnRJbWFnZVxuICAgICAgICB9ID0gdGhpcy5nZXRQbHVnaW5TdGF0ZSgpO1xuICAgICAgICB0aGlzLnVwcHkuc2V0RmlsZVN0YXRlKGN1cnJlbnRJbWFnZS5pZCwge1xuICAgICAgICAgIGRhdGE6IGJsb2IsXG4gICAgICAgICAgc2l6ZTogYmxvYi5zaXplLFxuICAgICAgICAgIHByZXZpZXc6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRGaWxlID0gdGhpcy51cHB5LmdldEZpbGUoY3VycmVudEltYWdlLmlkKTtcbiAgICAgICAgdGhpcy51cHB5LmVtaXQoJ3RodW1ibmFpbDpyZXF1ZXN0JywgdXBkYXRlZEZpbGUpO1xuICAgICAgICB0aGlzLnNldFBsdWdpblN0YXRlKHtcbiAgICAgICAgICBjdXJyZW50SW1hZ2U6IHVwZGF0ZWRGaWxlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwcHkuZW1pdCgnZmlsZS1lZGl0b3I6Y29tcGxldGUnLCB1cGRhdGVkRmlsZSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7XG4gICAgICAgIGN1cnJlbnRJbWFnZVxuICAgICAgfSA9IHRoaXMuZ2V0UGx1Z2luU3RhdGUoKTtcbiAgICAgIHRoaXMuY3JvcHBlci5nZXRDcm9wcGVkQ2FudmFzKHRoaXMub3B0cy5jcm9wcGVyT3B0aW9ucy5jcm9wcGVkQ2FudmFzT3B0aW9ucykudG9CbG9iKHNhdmVCbG9iQ2FsbGJhY2ssIGN1cnJlbnRJbWFnZS50eXBlLCB0aGlzLm9wdHMucXVhbGl0eSk7XG4gICAgfTtcblxuICAgIHRoaXMuc3RvcmVDcm9wcGVySW5zdGFuY2UgPSBjcm9wcGVyID0+IHtcbiAgICAgIHRoaXMuY3JvcHBlciA9IGNyb3BwZXI7XG4gICAgfTtcblxuICAgIHRoaXMuc2VsZWN0RmlsZSA9IGZpbGUgPT4ge1xuICAgICAgdGhpcy51cHB5LmVtaXQoJ2ZpbGUtZWRpdG9yOnN0YXJ0JywgZmlsZSk7XG4gICAgICB0aGlzLnNldFBsdWdpblN0YXRlKHtcbiAgICAgICAgY3VycmVudEltYWdlOiBmaWxlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5pZCA9IHRoaXMub3B0cy5pZCB8fCAnSW1hZ2VFZGl0b3InO1xuICAgIHRoaXMudGl0bGUgPSAnSW1hZ2UgRWRpdG9yJztcbiAgICB0aGlzLnR5cGUgPSAnZWRpdG9yJztcbiAgICB0aGlzLmRlZmF1bHRMb2NhbGUgPSBsb2NhbGU7XG4gICAgY29uc3QgZGVmYXVsdENyb3BwZXJPcHRpb25zID0ge1xuICAgICAgdmlld01vZGU6IDEsXG4gICAgICBiYWNrZ3JvdW5kOiBmYWxzZSxcbiAgICAgIGF1dG9Dcm9wQXJlYTogMSxcbiAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG4gICAgICBjcm9wcGVkQ2FudmFzT3B0aW9uczoge31cbiAgICB9O1xuICAgIGNvbnN0IGRlZmF1bHRBY3Rpb25zID0ge1xuICAgICAgcmV2ZXJ0OiB0cnVlLFxuICAgICAgcm90YXRlOiB0cnVlLFxuICAgICAgZ3JhbnVsYXJSb3RhdGU6IHRydWUsXG4gICAgICBmbGlwOiB0cnVlLFxuICAgICAgem9vbUluOiB0cnVlLFxuICAgICAgem9vbU91dDogdHJ1ZSxcbiAgICAgIGNyb3BTcXVhcmU6IHRydWUsXG4gICAgICBjcm9wV2lkZXNjcmVlbjogdHJ1ZSxcbiAgICAgIGNyb3BXaWRlc2NyZWVuVmVydGljYWw6IHRydWVcbiAgICB9O1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgcXVhbGl0eTogMC44XG4gICAgfTtcbiAgICB0aGlzLm9wdHMgPSB7IC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgLi4ub3B0cyxcbiAgICAgIGFjdGlvbnM6IHsgLi4uZGVmYXVsdEFjdGlvbnMsXG4gICAgICAgIC4uLm9wdHMuYWN0aW9uc1xuICAgICAgfSxcbiAgICAgIGNyb3BwZXJPcHRpb25zOiB7IC4uLmRlZmF1bHRDcm9wcGVyT3B0aW9ucyxcbiAgICAgICAgLi4ub3B0cy5jcm9wcGVyT3B0aW9uc1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5pMThuSW5pdCgpO1xuICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG5cblxuICBjYW5FZGl0RmlsZShmaWxlKSB7XG4gICAgaWYgKCFmaWxlLnR5cGUgfHwgZmlsZS5pc1JlbW90ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGZpbGVUeXBlU3BlY2lmaWMgPSBmaWxlLnR5cGUuc3BsaXQoJy8nKVsxXTtcblxuICAgIGlmICgvXihqcGU/Z3xnaWZ8cG5nfGJtcHx3ZWJwKSQvLnRlc3QoZmlsZVR5cGVTcGVjaWZpYykpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGluc3RhbGwoKSB7XG4gICAgdGhpcy5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgICBjdXJyZW50SW1hZ2U6IG51bGxcbiAgICB9KTtcbiAgICBjb25zdCB7XG4gICAgICB0YXJnZXRcbiAgICB9ID0gdGhpcy5vcHRzO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgdGhpcy5tb3VudCh0YXJnZXQsIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHVuaW5zdGFsbCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBjdXJyZW50SW1hZ2VcbiAgICB9ID0gdGhpcy5nZXRQbHVnaW5TdGF0ZSgpO1xuXG4gICAgaWYgKGN1cnJlbnRJbWFnZSkge1xuICAgICAgY29uc3QgZmlsZSA9IHRoaXMudXBweS5nZXRGaWxlKGN1cnJlbnRJbWFnZS5pZCk7XG4gICAgICB0aGlzLnVwcHkuZW1pdCgnZmlsZS1lZGl0b3I6Y2FuY2VsJywgZmlsZSk7XG4gICAgfVxuXG4gICAgdGhpcy51bm1vdW50KCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY3VycmVudEltYWdlXG4gICAgfSA9IHRoaXMuZ2V0UGx1Z2luU3RhdGUoKTtcblxuICAgIGlmIChjdXJyZW50SW1hZ2UgPT09IG51bGwgfHwgY3VycmVudEltYWdlLmlzUmVtb3RlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gaChFZGl0b3IsIHtcbiAgICAgIGN1cnJlbnRJbWFnZTogY3VycmVudEltYWdlLFxuICAgICAgc3RvcmVDcm9wcGVySW5zdGFuY2U6IHRoaXMuc3RvcmVDcm9wcGVySW5zdGFuY2UsXG4gICAgICBzYXZlOiB0aGlzLnNhdmUsXG4gICAgICBvcHRzOiB0aGlzLm9wdHMsXG4gICAgICBpMThuOiB0aGlzLmkxOG5cbiAgICB9KTtcbiAgfVxuXG59XG5JbWFnZUVkaXRvci5WRVJTSU9OID0gcGFja2FnZUpzb24udmVyc2lvbjsiLCJleHBvcnQgeyBkZWZhdWx0IH0gZnJvbSBcIi4vSW1hZ2VFZGl0b3IuanNcIjsiLCJleHBvcnQgZGVmYXVsdCB7XG4gIHN0cmluZ3M6IHtcbiAgICByZXZlcnQ6ICdSZXZlcnQnLFxuICAgIHJvdGF0ZTogJ1JvdGF0ZScsXG4gICAgem9vbUluOiAnWm9vbSBpbicsXG4gICAgem9vbU91dDogJ1pvb20gb3V0JyxcbiAgICBmbGlwSG9yaXpvbnRhbDogJ0ZsaXAgaG9yaXpvbnRhbCcsXG4gICAgYXNwZWN0UmF0aW9TcXVhcmU6ICdDcm9wIHNxdWFyZScsXG4gICAgYXNwZWN0UmF0aW9MYW5kc2NhcGU6ICdDcm9wIGxhbmRzY2FwZSAoMTY6OSknLFxuICAgIGFzcGVjdFJhdGlvUG9ydHJhaXQ6ICdDcm9wIHBvcnRyYWl0ICg5OjE2KSdcbiAgfVxufTsiLCJpbXBvcnQgeyBoLCBDb21wb25lbnQsIGNyZWF0ZVJlZiB9IGZyb20gJ3ByZWFjdCc7XG5jb25zdCBUUkFOU0lUSU9OX01TID0gMzAwO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFkZUluIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnJlZiA9IGNyZWF0ZVJlZigpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbEVudGVyKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5yZWYuY3VycmVudC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICAgIHRoaXMucmVmLmN1cnJlbnQuc3R5bGUudHJhbnNmb3JtID0gJ25vbmUnO1xuICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIFRSQU5TSVRJT05fTVMpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbExlYXZlKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5yZWYuY3VycmVudC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgIHRoaXMucmVmLmN1cnJlbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMzUwJSknO1xuICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIFRSQU5TSVRJT05fTVMpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInVwcHktSW5mb3JtZXItYW5pbWF0ZWRcIixcbiAgICAgIHJlZjogdGhpcy5yZWZcbiAgICB9LCBjaGlsZHJlbik7XG4gIH1cblxufSIsIi8qIGVzbGludC1kaXNhYmxlIGpzeC1hMTF5L25vLW5vbmludGVyYWN0aXZlLWVsZW1lbnQtaW50ZXJhY3Rpb25zICAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBqc3gtYTExeS9jbGljay1ldmVudHMtaGF2ZS1rZXktZXZlbnRzICovXG5pbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IFVJUGx1Z2luIH0gZnJvbSAnQHVwcHkvY29yZSc7XG5pbXBvcnQgRmFkZUluIGZyb20gXCIuL0ZhZGVJbi5qc1wiO1xuaW1wb3J0IFRyYW5zaXRpb25Hcm91cCBmcm9tICcuL1RyYW5zaXRpb25Hcm91cC5qcyc7XG5jb25zdCBwYWNrYWdlSnNvbiA9IHtcbiAgXCJ2ZXJzaW9uXCI6IFwiMy4wLjFcIlxufTtcbi8qKlxuICogSW5mb3JtZXJcbiAqIFNob3dzIHJhZCBtZXNzYWdlIGJ1YmJsZXNcbiAqIHVzZWQgbGlrZSB0aGlzOiBgdXBweS5pbmZvKCdoZWxsbyB3b3JsZCcsICdpbmZvJywgNTAwMClgXG4gKiBvciBmb3IgZXJyb3JzOiBgdXBweS5pbmZvKCdFcnJvciB1cGxvYWRpbmcgaW1nLmpwZycsICdlcnJvcicsIDUwMDApYFxuICpcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbmZvcm1lciBleHRlbmRzIFVJUGx1Z2luIHtcbiAgY29uc3RydWN0b3IodXBweSwgb3B0cykge1xuICAgIHN1cGVyKHVwcHksIG9wdHMpO1xuXG4gICAgdGhpcy5yZW5kZXIgPSBzdGF0ZSA9PiB7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ1cHB5IHVwcHktSW5mb3JtZXJcIlxuICAgICAgfSwgaChUcmFuc2l0aW9uR3JvdXAsIG51bGwsIHN0YXRlLmluZm8ubWFwKGluZm8gPT4gaChGYWRlSW4sIHtcbiAgICAgICAga2V5OiBpbmZvLm1lc3NhZ2VcbiAgICAgIH0sIGgoXCJwXCIsIHtcbiAgICAgICAgcm9sZTogXCJhbGVydFwiXG4gICAgICB9LCBpbmZvLm1lc3NhZ2UsICcgJywgaW5mby5kZXRhaWxzICYmIGgoXCJzcGFuXCIsIHtcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IGluZm8uZGV0YWlscyxcbiAgICAgICAgXCJkYXRhLW1pY3JvdGlwLXBvc2l0aW9uXCI6IFwidG9wLWxlZnRcIixcbiAgICAgICAgXCJkYXRhLW1pY3JvdGlwLXNpemVcIjogXCJtZWRpdW1cIixcbiAgICAgICAgcm9sZTogXCJ0b29sdGlwXCIgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFsZXJ0XG4gICAgICAgICxcbiAgICAgICAgb25DbGljazogKCkgPT4gYWxlcnQoYCR7aW5mby5tZXNzYWdlfSBcXG5cXG4gJHtpbmZvLmRldGFpbHN9YClcbiAgICAgIH0sIFwiP1wiKSkpKSkpO1xuICAgIH07XG5cbiAgICB0aGlzLnR5cGUgPSAncHJvZ3Jlc3NpbmRpY2F0b3InO1xuICAgIHRoaXMuaWQgPSB0aGlzLm9wdHMuaWQgfHwgJ0luZm9ybWVyJztcbiAgICB0aGlzLnRpdGxlID0gJ0luZm9ybWVyJzsgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuXG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7fTsgLy8gbWVyZ2UgZGVmYXVsdCBvcHRpb25zIHdpdGggdGhlIG9uZXMgc2V0IGJ5IHVzZXJcblxuICAgIHRoaXMub3B0cyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5vcHRzXG4gICAgfTtcbiAgfVxuXG4gIGluc3RhbGwoKSB7XG4gICAgY29uc3Qge1xuICAgICAgdGFyZ2V0XG4gICAgfSA9IHRoaXMub3B0cztcblxuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHRoaXMubW91bnQodGFyZ2V0LCB0aGlzKTtcbiAgICB9XG4gIH1cblxufVxuSW5mb3JtZXIuVkVSU0lPTiA9IHBhY2thZ2VKc29uLnZlcnNpb247IiwiLyogZXNsaW50LWRpc2FibGUgKi9cblxuLyoqXG4gKiBAc291cmNlIGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQvcHJlYWN0LXRyYW5zaXRpb24tZ3JvdXBcbiAqL1xuaW1wb3J0IHsgQ29tcG9uZW50LCBjbG9uZUVsZW1lbnQsIGgsIHRvQ2hpbGRBcnJheSB9IGZyb20gJ3ByZWFjdCc7XG5cbmZ1bmN0aW9uIGFzc2lnbihvYmosIHByb3BzKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKG9iaiwgcHJvcHMpO1xufVxuXG5mdW5jdGlvbiBnZXRLZXkodm5vZGUsIGZhbGxiYWNrKSB7XG4gIHZhciBfdm5vZGUka2V5O1xuXG4gIHJldHVybiAoX3Zub2RlJGtleSA9IHZub2RlID09IG51bGwgPyB2b2lkIDAgOiB2bm9kZS5rZXkpICE9IG51bGwgPyBfdm5vZGUka2V5IDogZmFsbGJhY2s7XG59XG5cbmZ1bmN0aW9uIGxpbmtSZWYoY29tcG9uZW50LCBuYW1lKSB7XG4gIGNvbnN0IGNhY2hlID0gY29tcG9uZW50Ll9wdGdMaW5rZWRSZWZzIHx8IChjb21wb25lbnQuX3B0Z0xpbmtlZFJlZnMgPSB7fSk7XG4gIHJldHVybiBjYWNoZVtuYW1lXSB8fCAoY2FjaGVbbmFtZV0gPSBjID0+IHtcbiAgICBjb21wb25lbnQucmVmc1tuYW1lXSA9IGM7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRDaGlsZE1hcHBpbmcoY2hpbGRyZW4pIHtcbiAgY29uc3Qgb3V0ID0ge307XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGlmIChjaGlsZHJlbltpXSAhPSBudWxsKSB7XG4gICAgICBjb25zdCBrZXkgPSBnZXRLZXkoY2hpbGRyZW5baV0sIGkudG9TdHJpbmcoMzYpKTtcbiAgICAgIG91dFtrZXldID0gY2hpbGRyZW5baV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gbWVyZ2VDaGlsZE1hcHBpbmdzKHByZXYsIG5leHQpIHtcbiAgcHJldiA9IHByZXYgfHwge307XG4gIG5leHQgPSBuZXh0IHx8IHt9O1xuXG4gIGNvbnN0IGdldFZhbHVlRm9yS2V5ID0ga2V5ID0+IG5leHQuaGFzT3duUHJvcGVydHkoa2V5KSA/IG5leHRba2V5XSA6IHByZXZba2V5XTsgLy8gRm9yIGVhY2gga2V5IG9mIGBuZXh0YCwgdGhlIGxpc3Qgb2Yga2V5cyB0byBpbnNlcnQgYmVmb3JlIHRoYXQga2V5IGluXG4gIC8vIHRoZSBjb21iaW5lZCBsaXN0XG5cblxuICBjb25zdCBuZXh0S2V5c1BlbmRpbmcgPSB7fTtcbiAgbGV0IHBlbmRpbmdLZXlzID0gW107XG5cbiAgZm9yIChjb25zdCBwcmV2S2V5IGluIHByZXYpIHtcbiAgICBpZiAobmV4dC5oYXNPd25Qcm9wZXJ0eShwcmV2S2V5KSkge1xuICAgICAgaWYgKHBlbmRpbmdLZXlzLmxlbmd0aCkge1xuICAgICAgICBuZXh0S2V5c1BlbmRpbmdbcHJldktleV0gPSBwZW5kaW5nS2V5cztcbiAgICAgICAgcGVuZGluZ0tleXMgPSBbXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVuZGluZ0tleXMucHVzaChwcmV2S2V5KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBjaGlsZE1hcHBpbmcgPSB7fTtcblxuICBmb3IgKGNvbnN0IG5leHRLZXkgaW4gbmV4dCkge1xuICAgIGlmIChuZXh0S2V5c1BlbmRpbmcuaGFzT3duUHJvcGVydHkobmV4dEtleSkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dEtleXNQZW5kaW5nW25leHRLZXldLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBlbmRpbmdOZXh0S2V5ID0gbmV4dEtleXNQZW5kaW5nW25leHRLZXldW2ldO1xuICAgICAgICBjaGlsZE1hcHBpbmdbbmV4dEtleXNQZW5kaW5nW25leHRLZXldW2ldXSA9IGdldFZhbHVlRm9yS2V5KHBlbmRpbmdOZXh0S2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjaGlsZE1hcHBpbmdbbmV4dEtleV0gPSBnZXRWYWx1ZUZvcktleShuZXh0S2V5KTtcbiAgfSAvLyBGaW5hbGx5LCBhZGQgdGhlIGtleXMgd2hpY2ggZGlkbid0IGFwcGVhciBiZWZvcmUgYW55IGtleSBpbiBgbmV4dGBcblxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGVuZGluZ0tleXMubGVuZ3RoOyBpKyspIHtcbiAgICBjaGlsZE1hcHBpbmdbcGVuZGluZ0tleXNbaV1dID0gZ2V0VmFsdWVGb3JLZXkocGVuZGluZ0tleXNbaV0pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkTWFwcGluZztcbn1cblxuY29uc3QgaWRlbnRpdHkgPSBpID0+IGk7XG5cbmNsYXNzIFRyYW5zaXRpb25Hcm91cCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgc3VwZXIocHJvcHMsIGNvbnRleHQpO1xuICAgIHRoaXMucmVmcyA9IHt9O1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjaGlsZHJlbjogZ2V0Q2hpbGRNYXBwaW5nKHRvQ2hpbGRBcnJheSh0b0NoaWxkQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbikpIHx8IFtdKVxuICAgIH07XG4gICAgdGhpcy5wZXJmb3JtQXBwZWFyID0gdGhpcy5wZXJmb3JtQXBwZWFyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5wZXJmb3JtRW50ZXIgPSB0aGlzLnBlcmZvcm1FbnRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMucGVyZm9ybUxlYXZlID0gdGhpcy5wZXJmb3JtTGVhdmUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzID0ge307XG4gICAgdGhpcy5rZXlzVG9BYm9ydExlYXZlID0gW107XG4gICAgdGhpcy5rZXlzVG9FbnRlciA9IFtdO1xuICAgIHRoaXMua2V5c1RvTGVhdmUgPSBbXTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IGluaXRpYWxDaGlsZE1hcHBpbmcgPSB0aGlzLnN0YXRlLmNoaWxkcmVuO1xuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gaW5pdGlhbENoaWxkTWFwcGluZykge1xuICAgICAgaWYgKGluaXRpYWxDaGlsZE1hcHBpbmdba2V5XSkge1xuICAgICAgICAvLyB0aGlzLnBlcmZvcm1BcHBlYXIoZ2V0S2V5KGluaXRpYWxDaGlsZE1hcHBpbmdba2V5XSwga2V5KSk7XG4gICAgICAgIHRoaXMucGVyZm9ybUFwcGVhcihrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgY29uc3QgbmV4dENoaWxkTWFwcGluZyA9IGdldENoaWxkTWFwcGluZyh0b0NoaWxkQXJyYXkobmV4dFByb3BzLmNoaWxkcmVuKSB8fCBbXSk7XG4gICAgY29uc3QgcHJldkNoaWxkTWFwcGluZyA9IHRoaXMuc3RhdGUuY2hpbGRyZW47XG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcbiAgICAgIGNoaWxkcmVuOiBtZXJnZUNoaWxkTWFwcGluZ3MocHJldlN0YXRlLmNoaWxkcmVuLCBuZXh0Q2hpbGRNYXBwaW5nKVxuICAgIH0pKTtcbiAgICBsZXQga2V5O1xuXG4gICAgZm9yIChrZXkgaW4gbmV4dENoaWxkTWFwcGluZykge1xuICAgICAgaWYgKG5leHRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBjb25zdCBoYXNQcmV2ID0gcHJldkNoaWxkTWFwcGluZyAmJiBwcmV2Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSk7IC8vIFdlIHNob3VsZCByZS1lbnRlciB0aGUgY29tcG9uZW50IGFuZCBhYm9ydCBpdHMgbGVhdmUgZnVuY3Rpb25cblxuICAgICAgICBpZiAobmV4dENoaWxkTWFwcGluZ1trZXldICYmIGhhc1ByZXYgJiYgdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldKSB7XG4gICAgICAgICAgdGhpcy5rZXlzVG9FbnRlci5wdXNoKGtleSk7XG4gICAgICAgICAgdGhpcy5rZXlzVG9BYm9ydExlYXZlLnB1c2goa2V5KTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0Q2hpbGRNYXBwaW5nW2tleV0gJiYgIWhhc1ByZXYgJiYgIXRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSkge1xuICAgICAgICAgIHRoaXMua2V5c1RvRW50ZXIucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChrZXkgaW4gcHJldkNoaWxkTWFwcGluZykge1xuICAgICAgaWYgKHByZXZDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBjb25zdCBoYXNOZXh0ID0gbmV4dENoaWxkTWFwcGluZyAmJiBuZXh0Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSk7XG5cbiAgICAgICAgaWYgKHByZXZDaGlsZE1hcHBpbmdba2V5XSAmJiAhaGFzTmV4dCAmJiAhdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldKSB7XG4gICAgICAgICAgdGhpcy5rZXlzVG9MZWF2ZS5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgY29uc3Qge1xuICAgICAga2V5c1RvRW50ZXJcbiAgICB9ID0gdGhpcztcbiAgICB0aGlzLmtleXNUb0VudGVyID0gW107XG4gICAga2V5c1RvRW50ZXIuZm9yRWFjaCh0aGlzLnBlcmZvcm1FbnRlcik7XG4gICAgY29uc3Qge1xuICAgICAga2V5c1RvTGVhdmVcbiAgICB9ID0gdGhpcztcbiAgICB0aGlzLmtleXNUb0xlYXZlID0gW107XG4gICAga2V5c1RvTGVhdmUuZm9yRWFjaCh0aGlzLnBlcmZvcm1MZWF2ZSk7XG4gIH1cblxuICBfZmluaXNoQWJvcnQoa2V5KSB7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5rZXlzVG9BYm9ydExlYXZlLmluZGV4T2Yoa2V5KTtcblxuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICB0aGlzLmtleXNUb0Fib3J0TGVhdmUuc3BsaWNlKGlkeCwgMSk7XG4gICAgfVxuICB9XG5cbiAgcGVyZm9ybUFwcGVhcihrZXkpIHtcbiAgICB0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0gPSB0cnVlO1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMucmVmc1trZXldO1xuXG4gICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsQXBwZWFyKSB7XG4gICAgICBjb21wb25lbnQuY29tcG9uZW50V2lsbEFwcGVhcih0aGlzLl9oYW5kbGVEb25lQXBwZWFyaW5nLmJpbmQodGhpcywga2V5KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hhbmRsZURvbmVBcHBlYXJpbmcoa2V5KTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlRG9uZUFwcGVhcmluZyhrZXkpIHtcbiAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLnJlZnNba2V5XTtcblxuICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkQXBwZWFyKSB7XG4gICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkQXBwZWFyKCk7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XTtcblxuICAgIHRoaXMuX2ZpbmlzaEFib3J0KGtleSk7XG5cbiAgICBjb25zdCBjdXJyZW50Q2hpbGRNYXBwaW5nID0gZ2V0Q2hpbGRNYXBwaW5nKHRvQ2hpbGRBcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKSB8fCBbXSk7XG5cbiAgICBpZiAoIWN1cnJlbnRDaGlsZE1hcHBpbmcgfHwgIWN1cnJlbnRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgLy8gVGhpcyB3YXMgcmVtb3ZlZCBiZWZvcmUgaXQgaGFkIGZ1bGx5IGFwcGVhcmVkLiBSZW1vdmUgaXQuXG4gICAgICB0aGlzLnBlcmZvcm1MZWF2ZShrZXkpO1xuICAgIH1cbiAgfVxuXG4gIHBlcmZvcm1FbnRlcihrZXkpIHtcbiAgICB0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0gPSB0cnVlO1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMucmVmc1trZXldO1xuXG4gICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsRW50ZXIpIHtcbiAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsRW50ZXIodGhpcy5faGFuZGxlRG9uZUVudGVyaW5nLmJpbmQodGhpcywga2V5KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hhbmRsZURvbmVFbnRlcmluZyhrZXkpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVEb25lRW50ZXJpbmcoa2V5KSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5yZWZzW2tleV07XG5cbiAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZEVudGVyKSB7XG4gICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkRW50ZXIoKTtcbiAgICB9XG5cbiAgICBkZWxldGUgdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldO1xuXG4gICAgdGhpcy5fZmluaXNoQWJvcnQoa2V5KTtcblxuICAgIGNvbnN0IGN1cnJlbnRDaGlsZE1hcHBpbmcgPSBnZXRDaGlsZE1hcHBpbmcodG9DaGlsZEFycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pIHx8IFtdKTtcblxuICAgIGlmICghY3VycmVudENoaWxkTWFwcGluZyB8fCAhY3VycmVudENoaWxkTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAvLyBUaGlzIHdhcyByZW1vdmVkIGJlZm9yZSBpdCBoYWQgZnVsbHkgZW50ZXJlZC4gUmVtb3ZlIGl0LlxuICAgICAgdGhpcy5wZXJmb3JtTGVhdmUoa2V5KTtcbiAgICB9XG4gIH1cblxuICBwZXJmb3JtTGVhdmUoa2V5KSB7XG4gICAgLy8gSWYgd2Ugc2hvdWxkIGltbWVkaWF0ZWx5IGFib3J0IHRoaXMgbGVhdmUgZnVuY3Rpb24sXG4gICAgLy8gZG9uJ3QgcnVuIHRoZSBsZWF2ZSB0cmFuc2l0aW9uIGF0IGFsbC5cbiAgICBjb25zdCBpZHggPSB0aGlzLmtleXNUb0Fib3J0TGVhdmUuaW5kZXhPZihrZXkpO1xuXG4gICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0gPSB0cnVlO1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMucmVmc1trZXldO1xuXG4gICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsTGVhdmUpIHtcbiAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsTGVhdmUodGhpcy5faGFuZGxlRG9uZUxlYXZpbmcuYmluZCh0aGlzLCBrZXkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgaXMgc29tZXdoYXQgZGFuZ2Vyb3VzIGIvYyBpdCBjYWxscyBzZXRTdGF0ZSgpXG4gICAgICAvLyBhZ2FpbiwgZWZmZWN0aXZlbHkgbXV0YXRpbmcgdGhlIGNvbXBvbmVudCBiZWZvcmUgYWxsIHRoZSB3b3JrXG4gICAgICAvLyBpcyBkb25lLlxuICAgICAgdGhpcy5faGFuZGxlRG9uZUxlYXZpbmcoa2V5KTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlRG9uZUxlYXZpbmcoa2V5KSB7XG4gICAgLy8gSWYgd2Ugc2hvdWxkIGltbWVkaWF0ZWx5IGFib3J0IHRoZSBsZWF2ZSxcbiAgICAvLyB0aGVuIHNraXAgdGhpcyBhbHRvZ2V0aGVyXG4gICAgY29uc3QgaWR4ID0gdGhpcy5rZXlzVG9BYm9ydExlYXZlLmluZGV4T2Yoa2V5KTtcblxuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5yZWZzW2tleV07XG5cbiAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZExlYXZlKSB7XG4gICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkTGVhdmUoKTtcbiAgICB9XG5cbiAgICBkZWxldGUgdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldO1xuICAgIGNvbnN0IGN1cnJlbnRDaGlsZE1hcHBpbmcgPSBnZXRDaGlsZE1hcHBpbmcodG9DaGlsZEFycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pIHx8IFtdKTtcblxuICAgIGlmIChjdXJyZW50Q2hpbGRNYXBwaW5nICYmIGN1cnJlbnRDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgLy8gVGhpcyBlbnRlcmVkIGFnYWluIGJlZm9yZSBpdCBmdWxseSBsZWZ0LiBBZGQgaXQgYWdhaW4uXG4gICAgICB0aGlzLnBlcmZvcm1FbnRlcihrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IGFzc2lnbih7fSwgdGhpcy5zdGF0ZS5jaGlsZHJlbik7XG4gICAgICBkZWxldGUgY2hpbGRyZW5ba2V5XTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjaGlsZHJlblxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKF9yZWYsIF9yZWYyKSB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkRmFjdG9yeSxcbiAgICAgIHRyYW5zaXRpb25MZWF2ZSxcbiAgICAgIHRyYW5zaXRpb25OYW1lLFxuICAgICAgdHJhbnNpdGlvbkFwcGVhcixcbiAgICAgIHRyYW5zaXRpb25FbnRlcixcbiAgICAgIHRyYW5zaXRpb25MZWF2ZVRpbWVvdXQsXG4gICAgICB0cmFuc2l0aW9uRW50ZXJUaW1lb3V0LFxuICAgICAgdHJhbnNpdGlvbkFwcGVhclRpbWVvdXQsXG4gICAgICBjb21wb25lbnQsXG4gICAgICAuLi5wcm9wc1xuICAgIH0gPSBfcmVmO1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmMjtcbiAgICAvLyBUT0RPOiB3ZSBjb3VsZCBnZXQgcmlkIG9mIHRoZSBuZWVkIGZvciB0aGUgd3JhcHBlciBub2RlXG4gICAgLy8gYnkgY2xvbmluZyBhIHNpbmdsZSBjaGlsZFxuICAgIGNvbnN0IGNoaWxkcmVuVG9SZW5kZXIgPSBPYmplY3QuZW50cmllcyhjaGlsZHJlbikubWFwKF9yZWYzID0+IHtcbiAgICAgIGxldCBba2V5LCBjaGlsZF0gPSBfcmVmMztcbiAgICAgIGlmICghY2hpbGQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCByZWYgPSBsaW5rUmVmKHRoaXMsIGtleSk7XG4gICAgICByZXR1cm4gY2xvbmVFbGVtZW50KGNoaWxkRmFjdG9yeShjaGlsZCksIHtcbiAgICAgICAgcmVmLFxuICAgICAgICBrZXlcbiAgICAgIH0pO1xuICAgIH0pLmZpbHRlcihCb29sZWFuKTtcbiAgICByZXR1cm4gaChjb21wb25lbnQsIHByb3BzLCBjaGlsZHJlblRvUmVuZGVyKTtcbiAgfVxuXG59XG5cblRyYW5zaXRpb25Hcm91cC5kZWZhdWx0UHJvcHMgPSB7XG4gIGNvbXBvbmVudDogJ3NwYW4nLFxuICBjaGlsZEZhY3Rvcnk6IGlkZW50aXR5XG59O1xuZXhwb3J0IGRlZmF1bHQgVHJhbnNpdGlvbkdyb3VwOyIsImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tIFwiLi9JbmZvcm1lci5qc1wiOyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgVUlQbHVnaW4gfSBmcm9tICdAdXBweS9jb3JlJztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAnQHVwcHkvY29tcGFuaW9uLWNsaWVudCc7XG5pbXBvcnQgeyBQcm92aWRlclZpZXdzIH0gZnJvbSAnQHVwcHkvcHJvdmlkZXItdmlld3MnO1xuY29uc3QgcGFja2FnZUpzb24gPSB7XG4gIFwidmVyc2lvblwiOiBcIjMuMS4wXCJcbn07XG5pbXBvcnQgbG9jYWxlIGZyb20gJy4vbG9jYWxlLmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluc3RhZ3JhbSBleHRlbmRzIFVJUGx1Z2luIHtcbiAgY29uc3RydWN0b3IodXBweSwgb3B0cykge1xuICAgIHN1cGVyKHVwcHksIG9wdHMpO1xuICAgIHRoaXMuaWQgPSB0aGlzLm9wdHMuaWQgfHwgJ0luc3RhZ3JhbSc7XG4gICAgUHJvdmlkZXIuaW5pdFBsdWdpbih0aGlzLCBvcHRzKTtcblxuICAgIHRoaXMuaWNvbiA9ICgpID0+IGgoXCJzdmdcIiwge1xuICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgICAgd2lkdGg6IFwiMzJcIixcbiAgICAgIGhlaWdodDogXCIzMlwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIlxuICAgIH0sIGgoXCJkZWZzXCIsIG51bGwsIGgoXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTE2LjgyNSA1bC40ODMtLjAwMS43OTkuMDAyYzEuMTY4LjAwNSAxLjU5OC4wMjEgMi40MDcuMDU3IDEuMTcuMDUgMS45Ny4yMzUgMi42Ny41MDYuNzI1LjI4IDEuMzQuNjU1IDEuOTUxIDEuMjY1LjYxMy42MS45OSAxLjIyMyAxLjI3MyAxLjk0Ni4yNzMuNy40NiAxLjQ5OC41MTYgMi42N2wuMDI1LjU1Mi4wMDguMjA1Yy4wMjkuNzQ4LjAzNyAxLjUxLjA0MiAzLjc3N2wuMDAxLjg0NnYuNzAzbC0uMDAxLjM5OGE1MC44MiA1MC44MiAwIDAxLS4wNTggMi41ODhjLS4wNSAxLjE3LS4yMzUgMS45Ny0uNTA2IDIuNjdhNS4zOTQgNS4zOTQgMCAwMS0xLjI2NSAxLjk1MWMtLjYxLjYxMy0xLjIyMi45OS0xLjk0NiAxLjI3My0uNjk5LjI3My0xLjQ5OC40Ni0yLjY2OC41MTYtLjI0My4wMTItLjQ1MS4wMjItLjY1Ni4wM2wtLjIwNC4wMDdjLS43MTkuMDI2LTEuNTEyLjAzNC0zLjY3Ni4wMzhsLS44NDcuMDAxaC0xLjFhNTAuMjc5IDUwLjI3OSAwIDAxLTIuNTg3LS4wNTljLTEuMTcxLS4wNS0xLjk3MS0uMjM1LTIuNjcxLS41MDZhNS4zOTQgNS4zOTQgMCAwMS0xLjk1MS0xLjI2NSA1LjM4NSA1LjM4NSAwIDAxLTEuMjcyLTEuOTQ2Yy0uMjc0LS42OTktLjQ2LTEuNDk4LS41MTctMi42NjhhODguMTUgODguMTUgMCAwMS0uMDMtLjY1NmwtLjAwNy0uMjA1Yy0uMDI2LS43MTgtLjAzNC0xLjUxMi0uMDM4LTMuNjc0di0yLjEyOWMuMDA2LTEuMTY4LjAyMi0xLjU5Ny4wNTgtMi40MDYuMDUxLTEuMTcxLjIzNS0xLjk3MS41MDYtMi42NzJhNS4zOSA1LjM5IDAgMDExLjI2NS0xLjk1IDUuMzgxIDUuMzgxIDAgMDExLjk0Ni0xLjI3MmMuNjk5LS4yNzQgMS40OTgtLjQ2MiAyLjY2OS0uNTE3bC42NTYtLjAzLjIwNC0uMDA3Yy43MTgtLjAyNiAxLjUxMS0uMDM0IDMuNjc0LS4wMzh6bS42NzggMS45ODFoLTEuMjI2bC0uMjk1LjAwMWMtMi4zMDcuMDA1LTMuMDE2LjAxMy0zLjc3Ny4wNDNsLS4yMS4wMDktLjQ1Ny4wMmMtMS4wNzIuMDUyLTEuNjU0LjIzMi0yLjA0Mi4zODMtLjUxMy4yLS44NzkuNDQtMS4yNjMuODI1YTMuNDEzIDMuNDEzIDAgMDAtLjgyIDEuMjY3Yy0uMTUuMzg4LS4zMy45Ny0uMzc1IDIuMDQzYTQ4Ljg5IDQ4Ljg5IDAgMDAtLjA1NiAyLjQ4MnYuMzk4IDEuNTY1Yy4wMDYgMi45MzcuMDE4IDMuMjg1LjA3MyA0LjQ0NC4wNSAxLjA3My4yMzEgMS42NTQuMzgyIDIuMDQzLjIuNTEyLjQ0Ljg3OC44MjUgMS4yNjMuMzg2LjM4My43NTMuNjIxIDEuMjY3LjgyLjM4OC4xNS45Ny4zMjggMi4wNDMuMzc0LjIwNy4wMS4zODguMDE3LjU2My4wMjRsLjIwOC4wMDdhNjMuMjggNjMuMjggMCAwMDIuMTA5LjAyNmgxLjU2NGMyLjkzOC0uMDA2IDMuMjg2LS4wMTkgNC40NDYtLjA3MyAxLjA3MS0uMDUxIDEuNjU0LS4yMzIgMi4wNC0uMzgzLjUxNC0uMi44OC0uNDQgMS4yNjQtLjgyNS4zODQtLjM4Ni42MjItLjc1My44Mi0xLjI2Ni4xNS0uMzg5LjMyOC0uOTcxLjM3NS0yLjA0NC4wMzktLjg4LjA1NC0xLjI5Mi4wNTctMi43MjN2LTEuMTUtLjU3MmMtLjAwNi0yLjkzNi0uMDE5LTMuMjg0LS4wNzQtNC40NDUtLjA1LTEuMDcxLS4yMy0xLjY1NC0uMzgyLTIuMDQtLjItLjUxNS0uNDQtLjg4LS44MjUtMS4yNjRhMy40MDUgMy40MDUgMCAwMC0xLjI2Ny0uODJjLS4zODgtLjE1LS45Ny0uMzI4LTIuMDQyLS4zNzVhNDguOTg3IDQ4Ljk4NyAwIDAwLTIuNTM1LS4wNTZ6bS0xLjUxNSAzLjM3YTUuNjUgNS42NSAwIDExLjAyMSAxMS4yOTkgNS42NSA1LjY1IDAgMDEtLjAyLTExLjN6bS4wMDQgMS45ODJhMy42NjcgMy42NjcgMCAxMC4wMTUgNy4zMzQgMy42NjcgMy42NjcgMCAwMC0uMDE1LTcuMzM0em01Ljg2NS0zLjUzNmExLjMyIDEuMzIgMCAxMS4wMDUgMi42NCAxLjMyIDEuMzIgMCAwMS0uMDA1LTIuNjR6XCIsXG4gICAgICBpZDogXCJhXCJcbiAgICB9KSksIGgoXCJnXCIsIHtcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgXCJmaWxsLXJ1bGVcIjogXCJldmVub2RkXCJcbiAgICB9LCBoKFwibWFza1wiLCB7XG4gICAgICBpZDogXCJiXCIsXG4gICAgICBmaWxsOiBcIiNmZmZcIlxuICAgIH0sIGgoXCJ1c2VcIiwge1xuICAgICAgeGxpbmtIcmVmOiBcIiNhXCJcbiAgICB9KSksIGgoXCJpbWFnZVwiLCB7XG4gICAgICBtYXNrOiBcInVybCgjYilcIixcbiAgICAgIHg6IFwiNFwiLFxuICAgICAgeTogXCI0XCIsXG4gICAgICB3aWR0aDogXCIyNFwiLFxuICAgICAgaGVpZ2h0OiBcIjI0XCIsXG4gICAgICB4bGlua0hyZWY6IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDd0FBQUFzQ0FZQUFBQWVoRm9CQUFBQUFYTlNSMElBcnM0YzZRQUFBRVJsV0VsbVRVMEFLZ0FBQUFnQUFZZHBBQVFBQUFBQkFBQUFHZ0FBQUFBQUE2QUJBQU1BQUFBQkFBRUFBS0FDQUFRQUFBQUJBQUFBTEtBREFBUUFBQUFCQUFBQUxBQUFBQUQ4YnVlakFBQUxaa2xFUVZSWUNWV1pDMkxiTmhBRkNSS3lrdlAwYkQxNTA2U3hSS0l6YndISm9VM2p2NWg5V0lDVTNQNys2emxHMnpadnI4cy9yVzF0TjdVMHJNbGw4YURZdWZkemJMZmMxSkhtcHYzanBQeTh0c08rM08ycy9PNllNU2pUbC9xZENkczRtSUlHNjBtOHZkcTJaK3BobTJWNHZBYjkrbzdCYlpldW9NME55WWF6dlR2YnZsTjFNR2pIVUFlc1ovSVdXT3NDZUYwQk93QUs0SVRSMFdZZC9RS0hFUHYyREV5bW1vclp0aXViak9IRU1ZRXpYbUM5R014dSs5NUt6K2t1d3hqREJLYjhpVW9DQWRxWm9BZXlBTHJlVzZaTng5WTRKejhjTHdqVFpPRW9SK0hVMDVrMlJ6Z1AyaWFmR2dmWmlFZFpiRXI5NHpwWC94a1B0RHRHQXhGK0xSY2dUc3A5Q0FaZzBybkVuWG1QcUZzaFk1dkxuVld4TFhPL2JhaDJzWlFnQlpwcEdTZThOYmpOUE41a2MvV2JJWUVuOFUralhDT2V6VDR6ZmdTMWVvVkVoY2VWZUs3NEZlNE42Q29ZRW9MV3lrekhzZCtHTUFVcWRUVFZ2dnFUMXVXcUIzbFZDTGIxMi9PUkFlOC81WnU5bXA3bHFvRUZVQ0FGREl4cXo3aTFicTJBWTFVOWpxcTJRSy83RFlsKzFBZVpsQUZjRWMrVS9qa1JVcXN2Q0hRL255R3Zqck9sNkV1WldSV1ZHQ0tVTUNrbnRRNW8rdTJBWjNPeGFrYlRjb0JablkweGhnR0NVTTRLcDF4dEJUbkJuWE01QVNSbXMvRnM3ZDlPcFg4YlhONDVwaWJRWS9NTDFNbUE1RzlDSU5CdUNwZGZ0ZXhyNmkyYzVxZDlKNDQxTE5KbTN6azFHVnVzSjd2Nm1QSjdIUHhKUjBMaS92ZzlPMVhIVEVndnNRb1NnRXhVME5ubExGMHBhSys2ZDA2YU9NS0UybkNLVjBvZk53NFdzV21Mc1dydjZsUExuaEdwcjlFMTM3UWtIT01CL2poL1Q4TU9xT2FkWGFyUjQ0elBCVzVOdkRjY25CeFZtZEs4MSs3UlE1cDZxblFvUkRaUGg5K3hXajBOMlhwcXhYMUh6TXR5OVVsRm5LeWEvaDNndWx6aUFzeXh3a1NtcFRJUEI4dmFnS0x5a3RSZER1QkVITkdaTW00b0NGV2dqcTMxV1BIcGFDOTNnR05xcE9wUDRFejRzcGErbk1OdmhUV2N1UEtBSjc5ZnFJeFZvVXZkakVHOXFTeTJXaHBRbHo2MXlHL2duS0VBMjVJcklPWUs2RElzUXMyRUU5TFIvc1RLcTM4TmQxeS9YLy9GWEcwUURIa0VxU3ozRVlWVjJkaGIwMHJnTFBTRGNxbXJTY3M1NU5OT0QyelZxS21ZbllURm5rQUNwNTIwZGtXNXZCeEs5OUJWenI3OTIvaVorVlZvOTJVa0tVMm9HNVdGVGI2bU5pQTFIMkM4S0MwRTQ0cWFRbGVSM0VRdlFOd0xyRUNPVkFpU3dNNWdwRjdudkRORDBsWnZZdVE5SmJaZnFkVHJxQ2d3TWNWclJTMHo5UWtMdTlOV21rZ0VIYjhwMnpEUnlsajlWV0EzbFhEMnZPYkVkV3BUM3c1TWlGcVExVy9sdGVHNGVpcGFzdHh2MncrVGVUQlAweXBLODRIaU9XOWZVekxjalJEd0NXMmIyVnhtbkdTS1RYNnVSU3dNbkM5WVg0bDA1TWgydXdJK1FWV2RXVU9TVFdkNVhqamY3L3RQWWsyc3RTaDA1M1hUR041UkpNQ01TYWpNY1M4VHJuM2ovRTFhanRobHhDa21KWFZpNDdQU1VzeXlxK2p5ZXhzYXlRTnV2NUdWWUphc3pwck5zUUQzUmtnWWl5NDlrRmwySmxKSnhsZjhVdS9scGtxNythV3F6RXpqcjVjVFZwRmFKdlNWcjhBS1J0aVRsVlBGazV0MW5PMzBXK282anJiQWs3Nmt4RmEvdFgrZG9tNEMxd0RQazAzZ3FDdzhIVEJTeHg0Rkh4SUErbWgycE0zckt1NVNOcUJBdU9TWm5IenNCOUp3VzdEVi9nZThkbFZzT2gzNzVQdkg4WU84RUFMVTFIdWVjSUM2cVFnWGlmTnVTeDlYQW9MYW9HSVlEamtXRnJhd1gxVTFYcmtudU1GdzdRQlNQdGc3OVhvdm1CdndxbkRJQ3JoQ2xFTzZ3Z0tGajl2UHFKV2x0aFV2ZGdIMURPQTgrd0ZNZXh6UWM1QlVTMWQxSXNkQlNqRXY0RmUxTGdCTzFDcEZQVHBWMUp1UFNGTnQ0eS90cnpidGFVZndCV3dNMy82SnNyTDZNU1FZd0xLWEFtOVlKQnhzTTg5OTJNYmxaNjNHYW1pMCtybndPTXlQeWtWcFFzeWw5ZVlOT2ZWQzZrUkJrd2FvcC8vTGdjQUtXaXZrSEY3OTFnMEpLNWtNbUNnS1BhczJRUmtVRlFzdVR2bTZSMTk0NldnOTVrNzY0WlJMVzU5eU81VVZHc2F3d0VMdXBDZkFiZEN1QXd2Y3o1WGsxOHJJVkVkZ1NSQlJnTzc3UjIwNlFkWEh1QTJnb2FHaUNRMEdtVWZOMUpsbUZheWp2MEljS0drZll0NEhBajB5dVFCUkdEanp1Uy9yVG1BZjI5R292MVMrRkY3UUJheU5jcG9CT0VzTXQzdkZjSVVDN1Z4T25FK3B4bWtncUV6ZHV6d3NQeWtyakJzekN1c2dkYXJzUklBTDZDTS9LcXNxY0FmMXZqOFAxVFhGeU42ZTVHOGFvNDhmaktmRFFKWWl6SWRJZmIrWHdwNloyZkUyQzdtVWZVRXpNS3FTQnA0VlVWMUE0OVN6MU0yTHpWemFoRWZ5SFVBY1FObHRSMG5BRFlrQnZIWERaUW84SDlkUXZIRjdxaGpQdFNvbEJKMEEvdmFMd2RSejVZRkZHb1dCeThFLzRhS2NqcWltYVVCWFhuakJwek9abk1sSVZYc1RWRUJCVWErZEQwQlIweFZvcGdBRDcwcHNZMEtqTUhwbUhCMmtBcGVhOW8yM05TODNtcHNyZWY1T1pldDRVLzBDTWhTRURwd254QjlsVktTZms1ZGpsbFhSRlBpelFtS2NxTXBueVozeWNQbnRmOTZZbTlDaHpVOHZDUW5oZ1daMlV1eVNBcncrY1ZCRzRncU5DUzZZb1NFRXppUldWU3RLVXBlNEZmQ2Q5MVYwWEEvcWdPSnVGN0ZwR2pqeVFnc0ZvTkR0aWJwOGNtK2N5WHhiQjZ6aDRwTVVPNEgwNnl6c3Y0RS9BNnJnL3VSSlJuTVJtcmhNREloeU9qQUJYOUNNREZoQkZ4eDE5S3VqanFXZWltNVB3VkZVNklCaWV3ZnlrN0lQRVRjZzUya2pYTjduc2Jhb0V5a0tmL2NqVWdWeHBUWlpWdG5xRk1ndjRGSGE4b1NPaXNhd2luTUxIZlVCekpjSzFqOEJlcXF1ZWRLRHRnY2duQTRieW00UDZnQldZVk0zVy9wbjQxa3U1TDRSRWxGV3RsazVTWEhFVGhoT1dEaUl5VlJPbFFOTSt3eUhpbWxnQVRJL1BQSW00QkI4cWZxd0huaGdMODlnenMrV3cxeFFiNDgyMVNaLzRJd09KaVJxSC9YOXU3SGowOEpMU1pmYXdPUWNwUnp3Z2sxb0JOenpjZ0xuMUZCTkhzcE1FTmlrOU9HNGF3SURhVWp3OXJLTlQxS1hQbDluZXVhNnNTYmtncWZzL0NOZkJkTmZERGhRdUw0QUtYRVhlT2daSUQ5MWVPaVJVbkVGT0lBNXJuVGtCVTAvSVQwNWdCeW9xNUtCSkY0SHltNFB4aDNVY3haN0hqZGhFaEtXVVJiaGF2TlI5cmpMQndrM3J5RGNyR3pmdms5STY5YjF5aE1HV1E0YnFNd3YvUk1TcGxRa2pqVktYelpYOHdFU1ZjdUI3UUcwWVVDTWprL2FPbVdnYy92QzRvTUNWWWZnaElHUDZNVDF6cGVVaE0xclF6T25HeG1GS3dUQ2lyMVhhajV2TjdUN25EWnZuYkRHSGJDS253amkyem9mTnNPdmJvbGQzemxVdEtHb3NCdW4zUGJKU3JyUmVIRWFDUVZDSURFTWFDQ0JzK1ArQWJ5YmtiSWhtYk5lY0d3RitFNS9MMkVDdVBLQ1dzVUVTUWtLbnl5SjkzVEdBQ2s3T3JBWTlQOFhHLy9mR0NvTTdEQUVVR25qNU13N2FRZmVseVNXT205aVB1Rnl2ckw4cktRUjZtTTZxZENVRFFzZk5QVnU0eXYvSGFQT1QxZS95RGF2aU1LbVRrZy9JL0Y3TVVHOU9scm1EckJMUlZkM2M4S0JKbFBFS29WUmNJSnVob1FBbVpEVWtQQzAwVzVPSTFkT3BRMUY2MWtGTnFyOVNtRmNhSGRCaGVPYURIRjZRWk1PUDZReWlaODA0b2o5OHdMaUFNSWdjV3c0VURZa0RBV2ZSKzRkNXMwelAyR2dVWlgwNGkrTmVTZ1lHb2t2YkRoSVpZVVdIZ2Q5Szh6WnppcjI2NE54WlVGYnNmTTFqZHFwVjJuYUE0OHR4NmhzdkJTYWJFNElNdGxjT0dncThQcUNqb2x5MnJ3MnNvcXk0UkpXUXRQWmw2UFVDVTE0WlVXRU51WlYySG9ubjNmK2s2UjZ3cmtxZ1RTdHlRMGJGWStYQWFhZk1SRmdVbFZlWHhYRlVjcExFWWZaejNGclZVelpyT09KSys0Qi93bklaOFRHUnZiOU9COEVVTTB3OHVOWWovb2E5aUs5QU1veTZnQTcybzAyc3JNeHBBUFVEK0VEblZFRjdQNXh3ODk2VnlBYkZrOE1nbnBWcFIzZ2ZMbnQvd0VDcTNyWUZ2WUxjS0NwcXZjSSsvaFZsOEF1bVhEZUFwa2xEUlJLSlNTK0tPYXExUmdnNGlnT1l0aVFLMWhKeTQ2VEJ0RGp6bkRwM2lxSmZmNWowL0xmU1piWVZkYXVxWGNjSjlXK2N6dXBwMHNVOWdNbHFrUTUybFUxRTZ0VXdvRFV1a0FENllScEF3cURyQUVyekE4UUNSdlhtOThLRWVwMHhJZFkxQ04xeWUyN0lQMElIdnZZSVcxOHFHejhTN1ZXVVp1TWtVT2IzUDhESFRsNjd1ci9pMVVBQUFBQVNVVk9SSzVDWUlJPVwiXG4gICAgfSkpKTtcblxuICAgIHRoaXMuZGVmYXVsdExvY2FsZSA9IGxvY2FsZTtcbiAgICB0aGlzLmkxOG5Jbml0KCk7XG4gICAgdGhpcy50aXRsZSA9IHRoaXMuaTE4bigncGx1Z2luTmFtZUluc3RhZ3JhbScpO1xuICAgIHRoaXMucHJvdmlkZXIgPSBuZXcgUHJvdmlkZXIodXBweSwge1xuICAgICAgY29tcGFuaW9uVXJsOiB0aGlzLm9wdHMuY29tcGFuaW9uVXJsLFxuICAgICAgY29tcGFuaW9uSGVhZGVyczogdGhpcy5vcHRzLmNvbXBhbmlvbkhlYWRlcnMsXG4gICAgICBjb21wYW5pb25LZXlzUGFyYW1zOiB0aGlzLm9wdHMuY29tcGFuaW9uS2V5c1BhcmFtcyxcbiAgICAgIGNvbXBhbmlvbkNvb2tpZXNSdWxlOiB0aGlzLm9wdHMuY29tcGFuaW9uQ29va2llc1J1bGUsXG4gICAgICBwcm92aWRlcjogJ2luc3RhZ3JhbScsXG4gICAgICBwbHVnaW5JZDogdGhpcy5pZFxuICAgIH0pO1xuICAgIHRoaXMub25GaXJzdFJlbmRlciA9IHRoaXMub25GaXJzdFJlbmRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVuZGVyID0gdGhpcy5yZW5kZXIuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGluc3RhbGwoKSB7XG4gICAgdGhpcy52aWV3ID0gbmV3IFByb3ZpZGVyVmlld3ModGhpcywge1xuICAgICAgcHJvdmlkZXI6IHRoaXMucHJvdmlkZXIsXG4gICAgICB2aWV3VHlwZTogJ2dyaWQnLFxuICAgICAgc2hvd1RpdGxlczogZmFsc2UsXG4gICAgICBzaG93RmlsdGVyOiBmYWxzZSxcbiAgICAgIHNob3dCcmVhZGNydW1iczogZmFsc2VcbiAgICB9KTtcbiAgICBjb25zdCB7XG4gICAgICB0YXJnZXRcbiAgICB9ID0gdGhpcy5vcHRzO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgdGhpcy5tb3VudCh0YXJnZXQsIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHVuaW5zdGFsbCgpIHtcbiAgICB0aGlzLnZpZXcudGVhckRvd24oKTtcbiAgICB0aGlzLnVubW91bnQoKTtcbiAgfVxuXG4gIG9uRmlyc3RSZW5kZXIoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLnByb3ZpZGVyLmZldGNoUHJlQXV0aFRva2VuKCksIHRoaXMudmlldy5nZXRGb2xkZXIoJ3JlY2VudCcpXSk7XG4gIH1cblxuICByZW5kZXIoc3RhdGUpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3LnJlbmRlcihzdGF0ZSk7XG4gIH1cblxufVxuSW5zdGFncmFtLlZFUlNJT04gPSBwYWNrYWdlSnNvbi52ZXJzaW9uOyIsImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tIFwiLi9JbnN0YWdyYW0uanNcIjsiLCJleHBvcnQgZGVmYXVsdCB7XG4gIHN0cmluZ3M6IHtcbiAgICBwbHVnaW5OYW1lSW5zdGFncmFtOiAnSW5zdGFncmFtJ1xuICB9XG59OyIsImNvbnN0IGVzX0VTID0ge1xuICBwbHVyYWxpemUobikge1xuICAgIGlmIChuID09PSAxKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gMTtcbiAgfVxuXG59O1xuZXNfRVMuc3RyaW5ncyA9IHtcbiAgYWRkTW9yZUZpbGVzOiAnQWdyZWdhciBtw6FzIGFyY2hpdm9zJyxcbiAgYWRkaW5nTW9yZUZpbGVzOiAnQWdyZWdhbmRvIG3DoXMgYXJjaGl2b3MnLFxuICBhbGxvd0FjY2Vzc0Rlc2NyaXB0aW9uOiAnUGFyYSB0b21hciBmb3RvcyBvIGdyYWJhciB2aWRlbyBjb24gdHUgY8OhbWFyYSwgcG9yIGZhdm9yIHBlcm1pdGUgYSBlc3RlIHNpdGlvIGVsIGFjY2VzbyBhIGxhIGPDoW1hcmEuJyxcbiAgYWxsb3dBY2Nlc3NUaXRsZTogJ1BvciBmYXZvciBwZXJtaXRlIGVsIGFjY2VzbyBhIHR1IGPDoW1hcmEnLFxuICBhdXRoZW50aWNhdGVXaXRoOiAnQ29uZWN0YXIgYSAle3BsdWdpbk5hbWV9JyxcbiAgYXV0aGVudGljYXRlV2l0aFRpdGxlOiAnUG9yIGZhdm9yIGF1dGVudMOtY2F0ZSBjb24gJXtwbHVnaW5OYW1lfSBwYXJhIHNlbGVjY2lvbmFyIGFyY2hpdm9zJyxcbiAgYmFjazogJ0F0csOhcycsXG4gIGFkZE1vcmU6ICdBZ3JlZ2FyIG3DoXMnLFxuICBicm93c2U6ICduYXZlZ2FyJyxcbiAgYnJvd3NlRmlsZXM6ICduYXZlZ2FyJyxcbiAgY2FuY2VsOiAnQ2FuY2VsYXInLFxuICBjYW5jZWxVcGxvYWQ6ICdDYW5jZWxhciBzdWJpZGEnLFxuICBjaG9vc2VGaWxlczogJ1NlbGVjY2lvbmFyIGFyY2hpdm9zJyxcbiAgY2xvc2VNb2RhbDogJ0NlcnJhciB2ZW50YW5hIGZsb3RhbnRlJyxcbiAgY29tcGFuaW9uRXJyb3I6ICdDb25leGnDs24gY29uIENvbXBhbmlvbiBmYWxsw7MnLFxuICBjb21wbGV0ZTogJ0NvbXBsZXRhZG8nLFxuICBjb25uZWN0ZWRUb0ludGVybmV0OiAnQ29uZWN0YWRvIGEgSW50ZXJuZXQnLFxuICBjb3B5TGluazogJ0NvcGlhciBlbmxhY2UnLFxuICBjb3B5TGlua1RvQ2xpcGJvYXJkRmFsbGJhY2s6ICdDb3BpYSBsYSBzaWd1aWVudGUgVVJMJyxcbiAgY29weUxpbmtUb0NsaXBib2FyZFN1Y2Nlc3M6ICdFbmxhY2UgY29waWFkbyBhbCBwb3J0YXBhcGVsZXMnLFxuICBjcmVhdGluZ0Fzc2VtYmx5OiAnUHJlcGFyYW5kbyBzdWJpZGEuLi4nLFxuICBjcmVhdGluZ0Fzc2VtYmx5RmFpbGVkOiAnVHJhbnNsb2FkaXQ6IE5vIHNlIHB1ZG8gY3JlYXIgdW4gQXNzZW1ibHknLFxuICBkYXNoYm9hcmRUaXRsZTogJ0NhcmdhZG9yIGRlIGFyY2hpdm9zJyxcbiAgZGFzaGJvYXJkV2luZG93VGl0bGU6ICdWZW50YW5hIHBhcmEgY2FyZ2FyIGFyY2hpdm9zIChQcmVzaW9uYSBlc2NhcGUgcGFyYSBjZXJyYXIpJyxcbiAgZGF0YVVwbG9hZGVkT2ZUb3RhbDogJyV7Y29tcGxldGV9IGRlICV7dG90YWx9JyxcbiAgZG9uZTogJ0hlY2hvJyxcbiAgZHJvcEhlcmVPcjogJ1NvbHRhciBhcmNoaXZvcyBhcXXDrSBvICV7YnJvd3NlfScsXG4gIGRyb3BIaW50OiAnU3VlbHRhIHR1cyBhcmNoaXZvcyBhcXXDrScsXG4gIGRyb3BQYXN0ZUJvdGg6ICdTb2x0YXIgYXJjaGl2b3MgYXF1w60sIHBlZ2FyIG8gJXticm93c2V9JyxcbiAgZHJvcFBhc3RlRmlsZXM6ICdTb2x0YXIgYXJjaGl2b3MgYXF1w60sIHBlZ2FyIG8gJXticm93c2V9JyxcbiAgZHJvcFBhc3RlRm9sZGVyczogJ1NvbHRhciBhcmNoaXZvcyBhcXXDrSwgcGVnYXIgbyAle2Jyb3dzZX0nLFxuICBkcm9wUGFzdGVJbXBvcnRCb3RoOiAnU29sdGFyIGFyY2hpdm9zIGFxdcOtLCBwZWdhciwgJXticm93c2V9IG8gaW1wb3J0YXIgZGVzZGUnLFxuICBkcm9wUGFzdGVJbXBvcnRGaWxlczogJ1NvbHRhciBhcmNoaXZvcyBhcXXDrSwgcGVnYXIsICV7YnJvd3NlfSBvIGltcG9ydGFyIGRlc2RlJyxcbiAgZHJvcFBhc3RlSW1wb3J0Rm9sZGVyczogJ1NvbHRhciBhcmNoaXZvcyBhcXXDrSwgcGVnYXIsICV7YnJvd3NlfSBvIGltcG9ydGFyIGRlc2RlJyxcbiAgZWRpdEZpbGU6ICdFZGl0YXIgYXJjaGl2bycsXG4gIGVkaXRpbmc6ICdFZGl0YW5kbyAle2ZpbGV9JyxcbiAgZW1wdHlGb2xkZXJBZGRlZDogJ05pbmfDum4gYXJjaGl2byBmdWUgYWdyZWdhZG8gZGVzZGUgbGEgY2FycGV0YSB2YWPDrWEnLFxuICBlbmNvZGluZzogJ0NvZGlmaWNhbmRvLi4uJyxcbiAgZW50ZXJDb3JyZWN0VXJsOiAnVVJMIGluY29ycmVjdGE6IFBvciBmYXZvciBhc2Vnw7pyYXRlIHF1ZSBlc3TDoXMgaW5ncmVzYW5kbyB1biBlbmxhY2UgYSB1biBhcmNoaXZvJyxcbiAgZW50ZXJVcmxUb0ltcG9ydDogJ0luZ3Jlc2EgdW5hIFVSTCBwYXJhIGltcG9ydGFyIHVuIGFyY2hpdm8nLFxuICBleGNlZWRzU2l6ZTogJ0VzdGUgYXJjaGl2byBleGNlZGUgZWwgdGFtYcOxbyBtw6F4aW1vIGRlICV7c2l6ZX0nLFxuICBmYWlsZWRUb0ZldGNoOiAnQ29tcGFuaW9uIG5vIGhhIHBvZGlkbyByZWN1cGVyYXIgZXN0YSBVUkwsIHBvciBmYXZvciBhc2Vnw7pyYXRlIHF1ZSBzZWEgY29ycmVjdGEnLFxuICBmYWlsZWRUb1VwbG9hZDogJ0Vycm9yIGFsIHN1YmlyICV7ZmlsZX0nLFxuICBmaWxlU291cmNlOiAnRnVlbnRlIGRlIGFyY2hpdm86ICV7bmFtZX0nLFxuICBmaWxlc1VwbG9hZGVkT2ZUb3RhbDoge1xuICAgICcwJzogJyV7Y29tcGxldGV9IGRlICV7c21hcnRfY291bnR9IGFyY2hpdm8gc3ViaWRvJyxcbiAgICAnMSc6ICcle2NvbXBsZXRlfSBkZSAle3NtYXJ0X2NvdW50fSBhcmNoaXZvcyBzdWJpZG9zJyxcbiAgICAnMic6ICcle2NvbXBsZXRlfSBkZSAle3NtYXJ0X2NvdW50fSBhcmNoaXZvcyBzdWJpZG9zJ1xuICB9LFxuICBmaWx0ZXI6ICdGaWx0cmFyJyxcbiAgZmluaXNoRWRpdGluZ0ZpbGU6ICdUZXJtaW5hciBlZGljacOzbiBkZSBhcmNoaXZvJyxcbiAgZm9sZGVyQWRkZWQ6IHtcbiAgICAnMCc6ICdBZ3JlZ2FkbyAle3NtYXJ0X2NvdW50fSBhcmNoaXZvIGRlc2RlICV7Zm9sZGVyfScsXG4gICAgJzEnOiAnQWdyZWdhZG9zICV7c21hcnRfY291bnR9IGFyY2hpdm9zIGRlc2RlICV7Zm9sZGVyfScsXG4gICAgJzInOiAnQWdyZWdhZG9zICV7c21hcnRfY291bnR9IGFyY2hpdm9zIGRlc2RlICV7Zm9sZGVyfSdcbiAgfSxcbiAgaW1wb3J0OiAnSW1wb3J0YXInLFxuICBpbXBvcnRGcm9tOiAnSW1wb3J0YXIgZGVzZGUgJXtuYW1lfScsXG4gIGxvYWRpbmc6ICdDYXJnYW5kby4uLicsXG4gIGxvZ091dDogJ0NlcnJhciBzZXNpw7NuJyxcbiAgbWlzc2luZ1JlcXVpcmVkTWV0YUZpZWxkOiAnRmFsdGFuIG1ldGFjYW1wb3Mgb2JsaWdhdG9yaW9zJyxcbiAgbWlzc2luZ1JlcXVpcmVkTWV0YUZpZWxkT25GaWxlOiAnRmFsdGFuIG1ldGFjYW1wb3Mgb2JsaWdhdG9yaW9zIGVuICV7ZmlsZU5hbWV9JyxcbiAgbXlEZXZpY2U6ICdNaSBEaXNwb3NpdGl2bycsXG4gIG5vRmlsZXNGb3VuZDogJ05vIGV4aXN0ZW4gYXJjaGl2b3MgbyBjYXJwZXRhcyBhcXXDrScsXG4gIG5vSW50ZXJuZXRDb25uZWN0aW9uOiAnU2luIGNvbmV4acOzbiBhIEludGVybmV0JyxcbiAgcGF1c2U6ICdQYXVzYXInLFxuICBwYXVzZVVwbG9hZDogJ1BhdXNhciBzdWJpZGEnLFxuICBwYXVzZWQ6ICdFbiBwYXVzYScsXG4gIHBvd2VyZWRCeTogJ1NvcG9ydGFkbyBwb3IgJXt1cHB5fScsXG4gIHByb2Nlc3NpbmdYRmlsZXM6IHtcbiAgICAnMCc6ICdQcm9jZXNhbmRvICV7c21hcnRfY291bnR9IGFyY2hpdm8nLFxuICAgICcxJzogJ1Byb2Nlc2FuZG8gJXtzbWFydF9jb3VudH0gYXJjaGl2b3MnLFxuICAgICcyJzogJ1Byb2Nlc2FuZG8gJXtzbWFydF9jb3VudH0gYXJjaGl2b3MnXG4gIH0sXG4gIHJlY29yZGluZ0xlbmd0aDogJ0R1cmFjacOzbiBkZSBncmFiYWNpw7NuICV7cmVjb3JkaW5nX2xlbmd0aH0nLFxuICByZW1vdmVGaWxlOiAnRWxpbWluYXIgYXJjaGl2bycsXG4gIHJlc2V0RmlsdGVyOiAnTGltcGlhciBmaWx0cm8nLFxuICByZXN1bWU6ICdSZWFudWRhcicsXG4gIHJlc3VtZVVwbG9hZDogJ1JlYW51ZGFyIHN1YmlkYScsXG4gIHJldHJ5OiAnSW50ZW50YXIgbnVldmFtZW50ZScsXG4gIHJldHJ5VXBsb2FkOiAnSW50ZW50YXIgc3ViaWRhIG51ZXZhbWVudGUnLFxuICBzYXZlOiAnR3VhcmRhcicsXG4gIHNhdmVDaGFuZ2VzOiAnR3VhcmRhciBjYW1iaW9zJyxcbiAgc2VsZWN0WDoge1xuICAgICcwJzogJ1NlbGVjY2lvbmFyICV7c21hcnRfY291bnR9JyxcbiAgICAnMSc6ICdTZWxlY2Npb25hciAle3NtYXJ0X2NvdW50fScsXG4gICAgJzInOiAnU2VsZWNjaW9uYXIgJXtzbWFydF9jb3VudH0nXG4gIH0sXG4gIHNtaWxlOiAnU29ucsOtZSEnLFxuICBzdGFydFJlY29yZGluZzogJ0NvbWVuemFyIGxhIGdyYWJhY2nDs24gZGUgdmlkZW8nLFxuICBzdG9wUmVjb3JkaW5nOiAnRGV0ZW5lciBsYSBncmFiYWNpw7NuIGRlIHZpZGVvJyxcbiAgdGFrZVBpY3R1cmU6ICdUb21hciB1bmEgZm90bycsXG4gIHRpbWVkT3V0OiAnU3ViaWRhIGVzdGFuY2FkYSBwb3IgJXtzZWNvbmRzfSBzZWd1bmRvcywgYW51bGFuZG8uJyxcbiAgdXBsb2FkOiAnU3ViaXInLFxuICB1cGxvYWRDb21wbGV0ZTogJ1N1YmlkYSB0ZXJtaW5hZGEnLFxuICB1cGxvYWRGYWlsZWQ6ICdTdWJpZGEgZmFsbMOzJyxcbiAgdXBsb2FkUGF1c2VkOiAnU3ViaWRhIHBhdXNhZGEnLFxuICB1cGxvYWRYRmlsZXM6IHtcbiAgICAnMCc6ICdTdWJpciAle3NtYXJ0X2NvdW50fSBhcmNoaXZvJyxcbiAgICAnMSc6ICdTdWJpciAle3NtYXJ0X2NvdW50fSBhcmNoaXZvcycsXG4gICAgJzInOiAnU3ViaXIgJXtzbWFydF9jb3VudH0gYXJjaGl2b3MnXG4gIH0sXG4gIHVwbG9hZFhOZXdGaWxlczoge1xuICAgICcwJzogJ1N1YmlyICsle3NtYXJ0X2NvdW50fSBhcmNoaXZvJyxcbiAgICAnMSc6ICdTdWJpciArJXtzbWFydF9jb3VudH0gYXJjaGl2b3MnLFxuICAgICcyJzogJ1N1YmlyICsle3NtYXJ0X2NvdW50fSBhcmNoaXZvcydcbiAgfSxcbiAgdXBsb2FkaW5nOiAnU3ViaWVuZG8nLFxuICB1cGxvYWRpbmdYRmlsZXM6IHtcbiAgICAnMCc6ICdTdWJpZW5kbyAle3NtYXJ0X2NvdW50fSBhcmNoaXZvJyxcbiAgICAnMSc6ICdTdWJpZW5kbyAle3NtYXJ0X2NvdW50fSBhcmNoaXZvcycsXG4gICAgJzInOiAnU3ViaWVuZG8gJXtzbWFydF9jb3VudH0gYXJjaGl2b3MnXG4gIH0sXG4gIHhGaWxlc1NlbGVjdGVkOiB7XG4gICAgJzAnOiAnJXtzbWFydF9jb3VudH0gYXJjaGl2byBzZWxlY2Npb25hZG8nLFxuICAgICcxJzogJyV7c21hcnRfY291bnR9IGFyY2hpdm9zIHNlbGVjY2lvbmFkb3MnLFxuICAgICcyJzogJyV7c21hcnRfY291bnR9IGFyY2hpdm9zIHNlbGVjY2lvbmFkb3MnXG4gIH0sXG4gIHhNb3JlRmlsZXNBZGRlZDoge1xuICAgICcwJzogJyV7c21hcnRfY291bnR9IGFyY2hpdm8gbcOhcyBhZ3JlZ2FkbycsXG4gICAgJzEnOiAnJXtzbWFydF9jb3VudH0gYXJjaGl2b3MgbcOhcyBhZ3JlZ2Fkb3MnLFxuICAgICcyJzogJyV7c21hcnRfY291bnR9IGFyY2hpdm9zIG3DoXMgYWdyZWdhZG9zJ1xuICB9LFxuICB4VGltZUxlZnQ6ICcle3RpbWV9IHJlc3RhbnRlcycsXG4gIHlvdUNhbk9ubHlVcGxvYWRGaWxlVHlwZXM6ICdTb2xvIHB1ZWRlcyBzdWJpcjogJXt0eXBlc30nLFxuICB5b3VDYW5Pbmx5VXBsb2FkWDoge1xuICAgICcwJzogJ1NvbG8gcHVlZGVzIHN1YmlyICV7c21hcnRfY291bnR9IGFyY2hpdm8nLFxuICAgICcxJzogJ1NvbG8gcHVlZGVzIHN1YmlyICV7c21hcnRfY291bnR9IGFyY2hpdm9zJyxcbiAgICAnMic6ICdTb2xvIHB1ZWRlcyBzdWJpciAle3NtYXJ0X2NvdW50fSBhcmNoaXZvcydcbiAgfSxcbiAgeW91SGF2ZVRvQXRMZWFzdFNlbGVjdFg6IHtcbiAgICAnMCc6ICdUaWVuZXMgcXVlIHNlbGVjY2lvbmFyIGFsIG1lbm9zICV7c21hcnRfY291bnR9IGFyY2hpdm8nLFxuICAgICcxJzogJ1RpZW5lcyBxdWUgc2VsZWNjaW9uYXIgYWwgbWVub3MgJXtzbWFydF9jb3VudH0gYXJjaGl2b3MnLFxuICAgICcyJzogJ1RpZW5lcyBxdWUgc2VsZWNjaW9uYXIgYWwgbWVub3MgJXtzbWFydF9jb3VudH0gYXJjaGl2b3MnXG4gIH0sXG4gIHNlbGVjdEZpbGVOYW1lZDogJ1NlbGVjY2lvbmUgYXJjaGl2byAle25hbWV9JyxcbiAgdW5zZWxlY3RGaWxlTmFtZWQ6ICdEZXNlbGVjY2lvbmFyIGFyY2hpdm8gJXtuYW1lfScsXG4gIG9wZW5Gb2xkZXJOYW1lZDogJ0NhcnBldGEgYWJpZXJ0YSAle25hbWV9J1xufTtcblxuaWYgKHR5cGVvZiBVcHB5ICE9PSAndW5kZWZpbmVkJykge1xuICBnbG9iYWxUaGlzLlVwcHkubG9jYWxlcy5lc19FUyA9IGVzX0VTO1xufVxuXG5leHBvcnQgZGVmYXVsdCBlc19FUzsiLCJjb25zdCBmcl9GUiA9IHtcbiAgcGx1cmFsaXplKG4pIHtcbiAgICBpZiAobiA9PT0gMSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIDE7XG4gIH1cblxufTtcbmZyX0ZSLnN0cmluZ3MgPSB7XG4gIGFkZEJ1bGtGaWxlc0ZhaWxlZDoge1xuICAgICcwJzogJ0xcXCdham91dCBkZSAle3NtYXJ0X2NvdW50fSBmaWNoaWVyIGEgw6ljaG91w6knLFxuICAgICcxJzogJ0xcXCdham91dCBkZSAle3NtYXJ0X2NvdW50fSBmaWNoaWVycyBhIMOpY2hvdcOpJ1xuICB9LFxuICBhZGRNb3JlOiAnQWpvdXRlciBkXFwnYXV0cmVzJyxcbiAgYWRkTW9yZUZpbGVzOiAnQWpvdXRlciBkXFwnYXV0cmVzIGZpY2hpZXJzJyxcbiAgYWRkaW5nTW9yZUZpbGVzOiAnRW4gdHJhaW4gZFxcJ2Fqb3V0ZXIgZGVzIGZpY2hpZXJzJyxcbiAgYWxsRmlsZXNGcm9tRm9sZGVyTmFtZWQ6ICdUb3VzIGxlcyBmaWNoaWVycyBkdSBkb3NzaWVyICV7bmFtZX0nLFxuICBhbGxvd0FjY2Vzc0Rlc2NyaXB0aW9uOiAnUG91ciBwcmVuZHJlIGRlcyBwaG90b3Mgb3UgZW5yZWdpc3RyZXIgdW5lIHZpZMOpbyBhdmVjIHZvdHJlIGNhbcOpcmEsIHZldWlsbGV6IGF1dG9yaXNlciBsXFwnYWNjw6hzIMOgIHZvdHJlIGNhbcOpcmEgcG91ciBjZSBzaXRlLicsXG4gIGFsbG93QWNjZXNzVGl0bGU6ICdWZXVpbGxleiBhdXRvcmlzZXIgbFxcJ2FjY8OocyDDoCB2b3RyZSBjYW3DqXJhJyxcbiAgYXV0aEFib3J0ZWQ6ICdBdXRoZW50aWZpY2F0aW9uIGludGVycm9tcHVlJyxcbiAgYXV0aGVudGljYXRlV2l0aDogJ1NlIGNvbm5lY3RlciDDoCAle3BsdWdpbk5hbWV9JyxcbiAgYXV0aGVudGljYXRlV2l0aFRpdGxlOiAnVmV1aWxsZXogdm91cyBhdXRoZW50aWZpZXIgYXZlYyAle3BsdWdpbk5hbWV9IHBvdXIgc8OpbGVjdGlvbm5lciBsZXMgZmljaGllcnMnLFxuICBiYWNrOiAnUmV0b3VyJyxcbiAgYnJvd3NlOiAnbmF2aWd1ZXInLFxuICBicm93c2VGaWxlczogJ25hdmlndWVyJyxcbiAgY2FuY2VsOiAnQW5udWxlcicsXG4gIGNhbmNlbFVwbG9hZDogJ0FubnVsZXIgdMOpbMOpY2hhcmdlbWVudCcsXG4gIGNob29zZUZpbGVzOiAnQ2hvaXNpciBkZXMgZmljaGllcnMnLFxuICBjbG9zZU1vZGFsOiAnRmVybWVyIEZlbsOqdHJlJyxcbiAgY29tcGFuaW9uRXJyb3I6ICdDb25uZXhpb24gw6AgQ29tcGFuaW9uIGEgw6ljaG91w6knLFxuICBjb21wYW5pb25VbmF1dGhvcml6ZUhpbnQ6ICdQb3VyIHZvdXMgZMOpY29ubmVjdGVyIGRlIHZvdHJlIGNvbXB0ZSAle3Byb3ZpZGVyfSwgdmV1aWxsZXogYWxsZXIgw6AgJXt1cmx9JyxcbiAgY29tcGxldGU6ICdUZXJtaW7DqScsXG4gIGNvbXByZXNzZWRYOiAnJXtzaXplfSDDqWNvbm9taXPDqShzKSBwYXIgbGEgY29tcHJlc3Npb24nLFxuICBjb21wcmVzc2luZ0ltYWdlczogJ0NvbXByZXNzaW9uIGRlcyBpbWFnZXMuLi4nLFxuICBjb25uZWN0ZWRUb0ludGVybmV0OiAnQ29ubmVjdMOpIMOgIEludGVybmV0JyxcbiAgY29weUxpbms6ICdDb3BpZXIgbGllbicsXG4gIGNvcHlMaW5rVG9DbGlwYm9hcmRGYWxsYmFjazogJ0NvcGllciBsZSBsaWVuIGNpLWRlc3NvdXMnLFxuICBjb3B5TGlua1RvQ2xpcGJvYXJkU3VjY2VzczogJ0xpZW4gY29wacOpJyxcbiAgY3JlYXRpbmdBc3NlbWJseTogJ1Byw6lwYXJhdGlvbiBkdSB0w6lsw6ljaGFyZ2VtZW50Li4uJyxcbiAgY3JlYXRpbmdBc3NlbWJseUZhaWxlZDogJ1RyYW5zbG9hZGl0OiBJbXBvc3NpYmxlIGRlIGNyw6llciBBc3NlbWJseScsXG4gIGRhc2hib2FyZFRpdGxlOiAnVMOpbMOpY2hhcmdldXIgZGUgZmljaGllcicsXG4gIGRhc2hib2FyZFdpbmRvd1RpdGxlOiAnRmVuw6p0cmUgZGUgdMOpbMOpY2hhcmdldXIgZGUgZmljaGllciAoQXBwdXlleiBzdXIgZWNoYXAgcG91ciBmZXJtZXIpJyxcbiAgZGF0YVVwbG9hZGVkT2ZUb3RhbDogJyV7Y29tcGxldGV9IHN1ciAle3RvdGFsfScsXG4gIGRvbmU6ICdUZXJtaW7DqScsXG4gIGRyb3BIZXJlT3I6ICdEw6lwb3NlciBsZXMgZmljaGllcnMgaWNpIG91ICV7YnJvd3NlfScsXG4gIGRyb3BIaW50OiAnRMOpcG9zZXogdm9zIGZpY2hpZXJzIGljaScsXG4gIGRyb3BQYXN0ZUJvdGg6ICdEw6lwb3NlciBsZXMgZmljaGllcnMgaWNpLCBjb2xsZXIgb3UgJXticm93c2V9JyxcbiAgZHJvcFBhc3RlRmlsZXM6ICdEw6lwb3NlciBsZXMgZmljaGllcnMgaWNpLCBjb2xsZXIgb3UgJXticm93c2V9JyxcbiAgZHJvcFBhc3RlRm9sZGVyczogJ0TDqXBvc2VyIGxlcyBmaWNoaWVycyBpY2ksIGNvbGxlciBvdSAle2Jyb3dzZX0nLFxuICBkcm9wUGFzdGVJbXBvcnRCb3RoOiAnRMOpcG9zZXIgbGVzIGZpY2hpZXJzIGljaSwgY29sbGVyLCAle2Jyb3dzZX0gb3UgaW1wb3J0ZXIgZGUnLFxuICBkcm9wUGFzdGVJbXBvcnRGaWxlczogJ0TDqXBvc2VyIGxlcyBmaWNoaWVycyBpY2ksIGNvbGxlciwgJXticm93c2V9IG91IGltcG9ydGVyIGRlJyxcbiAgZHJvcFBhc3RlSW1wb3J0Rm9sZGVyczogJ0TDqXBvc2VyIGxlcyBmaWNoaWVycyBpY2ksIGNvbGxlciwgJXticm93c2V9IG91IGltcG9ydGVyIGRlJyxcbiAgZWRpdEZpbGU6ICdNb2RpZmllciBsZSBmaWNoaWVyJyxcbiAgZWRpdEZpbGVXaXRoRmlsZW5hbWU6ICdNb2RpZmllciBsZSBmaWNoaWVyICV7ZmlsZX0nLFxuICBlZGl0aW5nOiAnTW9kaWZpY2F0aW9uIGVuIGNvdXJzIGRlICV7ZmlsZX0nLFxuICBlbXB0eUZvbGRlckFkZGVkOiAnQXVjdW4gZmljaGllciBuXFwnYSDDqXTDqSBham91dMOpIGRlcHVpcyB1biBkb3NzaWVyIHZpZGUnLFxuICBlbmNvZGluZzogJ1RyYWl0ZW1lbnQuLi4nLFxuICBlbnRlckNvcnJlY3RVcmw6ICdMaWVuIGluY29ycmVjdDogQXNzdXJlei12b3VzIHF1ZSB2b3VzIGVudHJleiB1biBsaWVuIGRpcmVjdCB2ZXJzIGxlIGZpY2hpZXInLFxuICBlbnRlclVybFRvSW1wb3J0OiAnRW50cmV6IGxlIGxpZW4gcG91ciBpbXBvcnRlciB1biBmaWNoaWVyJyxcbiAgZXhjZWVkc1NpemU6ICdDZSBmaWNoaWVyIGTDqXBhc3NlIGxhIHRhaWxsZSBtYXhpbWFsZSBhdXRvcmlzw6llIGRlICV7c2l6ZX0nLFxuICBmYWlsZWRUb0ZldGNoOiAnQ29tcGFuaW9uIGEgw6ljaG91w6kgw6AgcsOpY3Vww6lyZXIgY2UgbGllbiwgYXNzdXJlei12b3VzIHF1XFwnaWwgZXN0IGNvcnJlY3QnLFxuICBmYWlsZWRUb1VwbG9hZDogJ0xlIHTDqWzDqWNoYXJnZW1lbnQgZGUgJXtmaWxlfSBhIMOpY2hvdcOpJyxcbiAgZmlsZVNvdXJjZTogJ0ZpY2hpZXIgc291cmNlOiAle25hbWV9JyxcbiAgZmlsZXNVcGxvYWRlZE9mVG90YWw6IHtcbiAgICAnMCc6ICcle2NvbXBsZXRlfSBzdXIgJXtzbWFydF9jb3VudH0gZmljaGllciB0w6lsw6ljaGFyZ8OpJyxcbiAgICAnMSc6ICcle2NvbXBsZXRlfSBzdXIgJXtzbWFydF9jb3VudH0gZmljaGllcnMgdMOpbMOpY2hhcmfDqXMnLFxuICAgICcyJzogJyV7Y29tcGxldGV9IHN1ciAle3NtYXJ0X2NvdW50fSBmaWNoaWVycyB0w6lsw6ljaGFyZ8OpcydcbiAgfSxcbiAgZmlsdGVyOiAnRmlsdHJlcicsXG4gIGZpbmlzaEVkaXRpbmdGaWxlOiAnVGVybWluZXIgbFxcJ8OpZGl0aW9uIGR1IGZpY2hpZXInLFxuICBmb2xkZXJBZGRlZDoge1xuICAgICcwJzogJyV7c21hcnRfY291bnR9IGZpY2hpZXIgYWpvdXTDqSBkZSAle2ZvbGRlcn0nLFxuICAgICcxJzogJyV7c21hcnRfY291bnR9IGZpY2hpZXJzIGFqb3V0w6lzIGRlICV7Zm9sZGVyfScsXG4gICAgJzInOiAnJXtzbWFydF9jb3VudH0gZmljaGllcnMgYWpvdXTDqXMgZGUgJXtmb2xkZXJ9J1xuICB9LFxuICBnZW5lcmF0aW5nVGh1bWJuYWlsczogJ0dlbmVyYXRpbmcgdGh1bWJuYWlscy4uLicsXG4gIGltcG9ydDogJ0ltcG9ydGVyJyxcbiAgaW1wb3J0RnJvbTogJ0ltcG9ydGVyIGRlICV7bmFtZX0nLFxuICBsb2FkaW5nOiAnQ2hhcmdlbWVudC4uLicsXG4gIGxvZ091dDogJ0TDqWNvbm5leGlvbicsXG4gIG1pY0Rpc2FibGVkOiAnQWNjw6hzIGF1IG1pY3JvIHJlZnVzw6kgcGFyIGxcXCd1dGlsaXNhdGV1cicsXG4gIG15RGV2aWNlOiAnTW9uIEFwcGFyZWlsJyxcbiAgbm9EdXBsaWNhdGVzOiAnSW1wb3NzaWJsZSBkXFwnYWpvdXRlciBsZSBmaWNoaWVyIFwiJXtmaWxlTmFtZX1cIiwgaWwgZXhpc3RlIGTDqWrDoCcsXG4gIG5vRmlsZXNGb3VuZDogJ1ZvdXMgblxcJ2F2ZXogYXVjdW4gZmljaGllciBvdSBkb3NzaWVyIGljaScsXG4gIG5vSW50ZXJuZXRDb25uZWN0aW9uOiAnUGFzIGRlIGNvbm5leGlvbiDDoCBJbnRlcm5ldCcsXG4gIG5vTW9yZUZpbGVzQWxsb3dlZDogJ0ltcG9zc2libGUgZFxcJ2Fqb3V0ZXIgZGUgbm91dmVhdXggZmljaGllcnM6IGVuIGNvdXJzIGRlIGNoYXJnZW1lbnQgJyxcbiAgb3BlbkZvbGRlck5hbWVkOiAnT3V2cmlyICV7bmFtZX0nLFxuICBwYXVzZTogJ1BhdXNlJyxcbiAgcGF1c2VVcGxvYWQ6ICdNZXR0cmUgZW4gcGF1c2UgbGUgdMOpbMOpY2hhcmdlbWVudCcsXG4gIHBhdXNlZDogJ0VuIHBhdXNlJyxcbiAgcG93ZXJlZEJ5OiAnUHJvcHVsc8OpIHBhciAle3VwcHl9JyxcbiAgcHJvY2Vzc2luZ1hGaWxlczoge1xuICAgICcwJzogJ1RyYWl0ZW1lbnQgZGUgJXtzbWFydF9jb3VudH0gZmljaGllcicsXG4gICAgJzEnOiAnVHJhaXRlbWVudCBkZSAle3NtYXJ0X2NvdW50fSBmaWNoaWVycycsXG4gICAgJzInOiAnVHJhaXRlbWVudCBkZSAle3NtYXJ0X2NvdW50fSBmaWNoaWVycydcbiAgfSxcbiAgcmVjb3JkaW5nOiAnRW5yZWdpc3RyZW1lbnQnLFxuICByZWNvcmRpbmdMZW5ndGg6ICdEdXLDqWUgZFxcJ2VucmVnaXN0cmVtZW50ICV7cmVjb3JkaW5nX2xlbmd0aH0nLFxuICByZWNvcmRpbmdTdG9wcGVkTWF4U2l6ZTogJ0xcXCdlbnJlZ2lzdHJlbWVudCBzXFwnZXN0IGFycsOpdMOpIGNhciBsYSB0YWlsbGUgZHUgZmljaGllciBkw6lwYXNzZSBsYSBsaW1pdGUnLFxuICByZW1vdmVGaWxlOiAnRWZmYWNlciBsZSBmaWNoaWVyICV7ZmlsZX0nLFxuICByZXNldEZpbHRlcjogJ1LDqWluaXRpYWxpc2VyIGZpbHRyZScsXG4gIHJlc3VtZTogJ1JlcHJlbmRyZScsXG4gIHJlc3VtZVVwbG9hZDogJ1JlcHJlbmRyZSBsZSB0w6lsw6ljaGFyZ2VtZW50JyxcbiAgcmV0cnk6ICdSw6llc3NheWVyJyxcbiAgcmV0cnlVcGxvYWQ6ICdSw6llc3NheWVyIGxlIHTDqWzDqWNoYXJnZW1lbnQnLFxuICBzYXZlOiAnU2F1dmVnYXJkZXInLFxuICBzYXZlQ2hhbmdlczogJ1NhdXZlZ2FyZGVyIGxlcyBtb2RpZmljYXRpb25zJyxcbiAgc2VsZWN0RmlsZU5hbWVkOiAnU8OpbGVjdGlvbm5lciBsZSBmaWNoaWVyICV7bmFtZX0nLFxuICBzZWxlY3RYOiB7XG4gICAgJzAnOiAnU8OpbGVjdGlvbm5lciAle3NtYXJ0X2NvdW50fScsXG4gICAgJzEnOiAnU8OpbGVjdGlvbm5lciAle3NtYXJ0X2NvdW50fScsXG4gICAgJzInOiAnU8OpbGVjdGlvbm5lciAle3NtYXJ0X2NvdW50fSdcbiAgfSxcbiAgc21pbGU6ICdTb3VyaWV6ICEnLFxuICBzdGFydFJlY29yZGluZzogJ0NvbW1lbmNlciBsXFwnZW5yZWdpc3RyZW1lbnQgdmlkw6lvJyxcbiAgc3RvcFJlY29yZGluZzogJ0FycsOqdGVyIGxcXCdlbnJlZ2lzdHJlbWVudCB2aWTDqW8nLFxuICBzdHJlYW1BY3RpdmU6ICdTdHJlYW0gYWN0aWYnLFxuICBzdHJlYW1QYXNzaXZlOiAnU3RyZWFtIHBhc3NpZicsXG4gIHN1Ym1pdFJlY29yZGVkRmlsZTogJ0Vudm95ZXIgbGEgdmlkw6lvIGVucmVnaXN0csOpZScsXG4gIHRha2VQaWN0dXJlOiAnUHJlbmRyZSB1bmUgcGhvdG8nLFxuICB0aW1lZE91dDogJ1TDqWzDqWNoYXJnZW1lbnQgYmxvcXXDqSBkdXJhbnQgJXtzZWNvbmRzfSBzZWNvbmRlcywgYW5udWxhdGlvbi4nLFxuICB1bnNlbGVjdEZpbGVOYW1lZDogJ0TDqXPDqWxlY3Rpb25uZXIgbGUgZmljaGllciAle25hbWV9JyxcbiAgdXBsb2FkOiAnVMOpbMOpY2hhcmdlcicsXG4gIHVwbG9hZENvbXBsZXRlOiAnVMOpbMOpY2hhcmdlbWVudCB0ZXJtaW7DqScsXG4gIHVwbG9hZEZhaWxlZDogJ0xlIHTDqWzDqWNoYXJnZW1lbnQgYSDDqWNob3XDqScsXG4gIHVwbG9hZFBhdXNlZDogJ1TDqWzDqWNoYXJnZW1lbnQgbWlzIGVuIHBhdXNlJyxcbiAgdXBsb2FkU3RhbGxlZDogJ1TDqWzDqWNoYXJnZW1lbnQgYmxvcXXDqSBkZXB1aXMgJXtzZWNvbmRzfSBzZWNvbmRlcy4gSWwgZXN0IHBldXQtw6p0cmUgbsOpY2Vzc2FpcmUgZGUgcmVjb21tZW5jZXIgbFxcJ29ww6lyYXRpb24uJyxcbiAgdXBsb2FkWEZpbGVzOiB7XG4gICAgJzAnOiAnVMOpbMOpY2hhcmdlciAle3NtYXJ0X2NvdW50fSBmaWNoaWVyJyxcbiAgICAnMSc6ICdUw6lsw6ljaGFyZ2VyICV7c21hcnRfY291bnR9IGZpY2hpZXJzJyxcbiAgICAnMic6ICdUw6lsw6ljaGFyZ2VyICV7c21hcnRfY291bnR9IGZpY2hpZXJzJ1xuICB9LFxuICB1cGxvYWRYTmV3RmlsZXM6IHtcbiAgICAnMCc6ICdUw6lsw6ljaGFyZ2VyICsle3NtYXJ0X2NvdW50fSBmaWNoaWVyJyxcbiAgICAnMSc6ICdUw6lsw6ljaGFyZ2VyICsle3NtYXJ0X2NvdW50fSBmaWNoaWVycycsXG4gICAgJzInOiAnVMOpbMOpY2hhcmdlciArJXtzbWFydF9jb3VudH0gZmljaGllcnMnXG4gIH0sXG4gIHVwbG9hZGluZzogJ1TDqWzDqWNoYXJnZW1lbnQgZW4gY291cnMnLFxuICB1cGxvYWRpbmdYRmlsZXM6IHtcbiAgICAnMCc6ICdUw6lsw6ljaGFyZ2VtZW50IGRlICV7c21hcnRfY291bnR9IGZpY2hpZXInLFxuICAgICcxJzogJ1TDqWzDqWNoYXJnZW1lbnQgZGUgJXtzbWFydF9jb3VudH0gZmljaGllcnMnLFxuICAgICcyJzogJ1TDqWzDqWNoYXJnZW1lbnQgZGUgJXtzbWFydF9jb3VudH0gZmljaGllcnMnXG4gIH0sXG4gIHhGaWxlc1NlbGVjdGVkOiB7XG4gICAgJzAnOiAnJXtzbWFydF9jb3VudH0gZmljaGllciBzw6lsZWN0aW9ubsOpJyxcbiAgICAnMSc6ICcle3NtYXJ0X2NvdW50fSBmaWNoaWVycyBzw6lsZWN0aW9ubsOpcycsXG4gICAgJzInOiAnJXtzbWFydF9jb3VudH0gZmljaGllcnMgc8OpbGVjdGlvbm7DqXMnXG4gIH0sXG4gIHhNb3JlRmlsZXNBZGRlZDoge1xuICAgICcwJzogJyV7c21hcnRfY291bnR9IGF1dHJlIGZpY2hpZXIgYWpvdXTDqScsXG4gICAgJzEnOiAnJXtzbWFydF9jb3VudH0gYXV0cmVzIGZpY2hpZXJzIGFqb3V0w6lzJyxcbiAgICAnMic6ICcle3NtYXJ0X2NvdW50fSBhdXRyZXMgZmljaGllcnMgYWpvdXTDqXMnXG4gIH0sXG4gIHhUaW1lTGVmdDogJyV7dGltZX0gcmVzdGFudGVzJyxcbiAgeW91Q2FuT25seVVwbG9hZEZpbGVUeXBlczogJ1ZvdXMgcG91dmV6IHNldWxlbWVudCB0w6lsw6ljaGFyZ2VyOiAle3R5cGVzfScsXG4gIHlvdUNhbk9ubHlVcGxvYWRYOiB7XG4gICAgJzAnOiAnVm91cyBwb3V2ZXogc2V1bGVtZW50IHTDqWzDqWNoYXJnZXIgJXtzbWFydF9jb3VudH0gZmljaGllcicsXG4gICAgJzEnOiAnVm91cyBwb3V2ZXogc2V1bGVtZW50IHTDqWzDqWNoYXJnZXIgJXtzbWFydF9jb3VudH0gZmljaGllcnMnLFxuICAgICcyJzogJ1ZvdXMgcG91dmV6IHNldWxlbWVudCB0w6lsw6ljaGFyZ2VyICV7c21hcnRfY291bnR9IGZpY2hpZXJzJ1xuICB9LFxuICB5b3VIYXZlVG9BdExlYXN0U2VsZWN0WDoge1xuICAgICcwJzogJ1ZvdXMgZGV2ZXogc8OpbGVjdGlvbm5lciBhdSBtb2lucyAle3NtYXJ0X2NvdW50fSBmaWNoaWVyJyxcbiAgICAnMSc6ICdWb3VzIGRldmV6IHPDqWxlY3Rpb25uZXIgYXUgbW9pbnMgJXtzbWFydF9jb3VudH0gZmljaGllcnMnLFxuICAgICcyJzogJ1ZvdXMgZGV2ZXogc8OpbGVjdGlvbm5lciBhdSBtb2lucyAle3NtYXJ0X2NvdW50fSBmaWNoaWVycydcbiAgfVxufTtcblxuaWYgKHR5cGVvZiBVcHB5ICE9PSAndW5kZWZpbmVkJykge1xuICBnbG9iYWxUaGlzLlVwcHkubG9jYWxlcy5mcl9GUiA9IGZyX0ZSO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmcl9GUjsiLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IFVJUGx1Z2luIH0gZnJvbSAnQHVwcHkvY29yZSc7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ0B1cHB5L2NvbXBhbmlvbi1jbGllbnQnO1xuaW1wb3J0IHsgUHJvdmlkZXJWaWV3cyB9IGZyb20gJ0B1cHB5L3Byb3ZpZGVyLXZpZXdzJztcbmNvbnN0IHBhY2thZ2VKc29uID0ge1xuICBcInZlcnNpb25cIjogXCIzLjEuMFwiXG59O1xuaW1wb3J0IGxvY2FsZSBmcm9tICcuL2xvY2FsZS5qcyc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPbmVEcml2ZSBleHRlbmRzIFVJUGx1Z2luIHtcbiAgY29uc3RydWN0b3IodXBweSwgb3B0cykge1xuICAgIHN1cGVyKHVwcHksIG9wdHMpO1xuICAgIHRoaXMuaWQgPSB0aGlzLm9wdHMuaWQgfHwgJ09uZURyaXZlJztcbiAgICBQcm92aWRlci5pbml0UGx1Z2luKHRoaXMsIG9wdHMpO1xuICAgIHRoaXMudGl0bGUgPSB0aGlzLm9wdHMudGl0bGUgfHwgJ09uZURyaXZlJztcblxuICAgIHRoaXMuaWNvbiA9ICgpID0+IGgoXCJzdmdcIiwge1xuICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgICAgd2lkdGg6IFwiMzJcIixcbiAgICAgIGhlaWdodDogXCIzMlwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIlxuICAgIH0sIGgoXCJnXCIsIHtcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgZmlsbFJ1bGU6IFwibm9uemVyb1wiXG4gICAgfSwgaChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMTMuMzkgMTIuODg4bDQuNjE4IDIuNzQ3IDIuNzUyLTEuMTVhNC40NzggNC40NzggMCAwMTIuMDczLS4zNTIgNi44NTggNi44NTggMCAwMC01LjUyNy01LjA0IDYuODk1IDYuODk1IDAgMDAtNi44NzYgMi45ODJsLjA3LS4wMDJhNS41IDUuNSAwIDAxMi44OS44MTV6XCIsXG4gICAgICBmaWxsOiBcIiMwMzY0QjhcIlxuICAgIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0xMy4zOSAxMi44ODd2LjAwMWE1LjUgNS41IDAgMDAtMi44OS0uODE1bC0uMDcuMDAyYTUuNTAyIDUuNTAyIDAgMDAtNC44MjIgMi45NjQgNS40MyA1LjQzIDAgMDAuMzggNS42Mmw0LjA3My0xLjcwMiAxLjgxLS43NTcgNC4wMzItMS42ODUgMi4xMDUtLjg4LTQuNjE5LTIuNzQ4elwiLFxuICAgICAgZmlsbDogXCIjMDA3OEQ0XCJcbiAgICB9KSwgaChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMjIuODMzIDE0LjEzM2E0LjQ3OSA0LjQ3OSAwIDAwLTIuMDczLjM1MmwtMi43NTIgMS4xNS43OTguNDc1IDIuNjE2IDEuNTU2IDEuMTQxLjY4IDMuOTAyIDIuMzIxYTQuNDEzIDQuNDEzIDAgMDAtLjAyMi00LjI1IDQuNDcxIDQuNDcxIDAgMDAtMy42MS0yLjI4NHpcIixcbiAgICAgIGZpbGw6IFwiIzE0OTBERlwiXG4gICAgfSksIGgoXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTIyLjU2MyAxOC4zNDZsLTEuMTQxLS42OC0yLjYxNi0xLjU1Ni0uNzk4LS40NzUtMi4xMDUuODhMMTEuODcgMTguMmwtMS44MS43NTctNC4wNzMgMS43MDJBNS41MDMgNS41MDMgMCAwMDEwLjUgMjNoMTIuMDMxYTQuNDcyIDQuNDcyIDAgMDAzLjkzNC0yLjMzM2wtMy45MDItMi4zMjF6XCIsXG4gICAgICBmaWxsOiBcIiMyOEE4RUFcIlxuICAgIH0pKSk7XG5cbiAgICB0aGlzLnByb3ZpZGVyID0gbmV3IFByb3ZpZGVyKHVwcHksIHtcbiAgICAgIGNvbXBhbmlvblVybDogdGhpcy5vcHRzLmNvbXBhbmlvblVybCxcbiAgICAgIGNvbXBhbmlvbkhlYWRlcnM6IHRoaXMub3B0cy5jb21wYW5pb25IZWFkZXJzLFxuICAgICAgY29tcGFuaW9uQ29va2llc1J1bGU6IHRoaXMub3B0cy5jb21wYW5pb25Db29raWVzUnVsZSxcbiAgICAgIHByb3ZpZGVyOiAnb25lZHJpdmUnLFxuICAgICAgcGx1Z2luSWQ6IHRoaXMuaWRcbiAgICB9KTtcbiAgICB0aGlzLmRlZmF1bHRMb2NhbGUgPSBsb2NhbGU7XG4gICAgdGhpcy5pMThuSW5pdCgpO1xuICAgIHRoaXMudGl0bGUgPSB0aGlzLmkxOG4oJ3BsdWdpbk5hbWVPbmVEcml2ZScpO1xuICAgIHRoaXMub25GaXJzdFJlbmRlciA9IHRoaXMub25GaXJzdFJlbmRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVuZGVyID0gdGhpcy5yZW5kZXIuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGluc3RhbGwoKSB7XG4gICAgdGhpcy52aWV3ID0gbmV3IFByb3ZpZGVyVmlld3ModGhpcywge1xuICAgICAgcHJvdmlkZXI6IHRoaXMucHJvdmlkZXJcbiAgICB9KTtcbiAgICBjb25zdCB7XG4gICAgICB0YXJnZXRcbiAgICB9ID0gdGhpcy5vcHRzO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgdGhpcy5tb3VudCh0YXJnZXQsIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHVuaW5zdGFsbCgpIHtcbiAgICB0aGlzLnZpZXcudGVhckRvd24oKTtcbiAgICB0aGlzLnVubW91bnQoKTtcbiAgfVxuXG4gIG9uRmlyc3RSZW5kZXIoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLnByb3ZpZGVyLmZldGNoUHJlQXV0aFRva2VuKCksIHRoaXMudmlldy5nZXRGb2xkZXIoKV0pO1xuICB9XG5cbiAgcmVuZGVyKHN0YXRlKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5yZW5kZXIoc3RhdGUpO1xuICB9XG5cbn1cbk9uZURyaXZlLlZFUlNJT04gPSBwYWNrYWdlSnNvbi52ZXJzaW9uOyIsImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tIFwiLi9PbmVEcml2ZS5qc1wiOyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgc3RyaW5nczoge1xuICAgIHBsdWdpbk5hbWVPbmVEcml2ZTogJ09uZURyaXZlJ1xuICB9XG59OyIsImltcG9ydCB7IGgsIEZyYWdtZW50IH0gZnJvbSAncHJlYWN0JztcblxuY29uc3QgQnJlYWRjcnVtYiA9IHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIGdldEZvbGRlcixcbiAgICB0aXRsZSxcbiAgICBpc0xhc3RcbiAgfSA9IHByb3BzO1xuICByZXR1cm4gaChGcmFnbWVudCwgbnVsbCwgaChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG5cIixcbiAgICBvbkNsaWNrOiBnZXRGb2xkZXJcbiAgfSwgdGl0bGUpLCAhaXNMYXN0ID8gJyAvICcgOiAnJyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCAocHJvcHMgPT4ge1xuICBjb25zdCB7XG4gICAgZ2V0Rm9sZGVyLFxuICAgIHRpdGxlLFxuICAgIGJyZWFkY3J1bWJzSWNvbixcbiAgICBkaXJlY3Rvcmllc1xuICB9ID0gcHJvcHM7XG4gIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1Qcm92aWRlci1icmVhZGNydW1ic1wiXG4gIH0sIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LVByb3ZpZGVyLWJyZWFkY3J1bWJzSWNvblwiXG4gIH0sIGJyZWFkY3J1bWJzSWNvbiksIGRpcmVjdG9yaWVzLm1hcCgoZGlyZWN0b3J5LCBpKSA9PiBoKEJyZWFkY3J1bWIsIHtcbiAgICBrZXk6IGRpcmVjdG9yeS5pZCxcbiAgICBnZXRGb2xkZXI6ICgpID0+IGdldEZvbGRlcihkaXJlY3RvcnkuaWQpLFxuICAgIHRpdGxlOiBpID09PSAwID8gdGl0bGUgOiBkaXJlY3RvcnkudGl0bGUsXG4gICAgaXNMYXN0OiBpICsgMSA9PT0gZGlyZWN0b3JpZXMubGVuZ3RoXG4gIH0pKSk7XG59KTsiLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHJlbW90ZUZpbGVPYmpUb0xvY2FsIGZyb20gJ0B1cHB5L3V0aWxzL2xpYi9yZW1vdGVGaWxlT2JqVG9Mb2NhbCc7XG5pbXBvcnQgU2VhcmNoRmlsdGVySW5wdXQgZnJvbSBcIi4vU2VhcmNoRmlsdGVySW5wdXQuanNcIjtcbmltcG9ydCBGb290ZXJBY3Rpb25zIGZyb20gXCIuL0Zvb3RlckFjdGlvbnMuanNcIjtcbmltcG9ydCBJdGVtIGZyb20gXCIuL0l0ZW0vaW5kZXguanNcIjtcbmNvbnN0IFZJUlRVQUxfU0hBUkVEX0RJUiA9ICdzaGFyZWQtd2l0aC1tZSc7XG5cbmZ1bmN0aW9uIEJyb3dzZXIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGN1cnJlbnRTZWxlY3Rpb24sXG4gICAgZm9sZGVycyxcbiAgICBmaWxlcyxcbiAgICB1cHB5RmlsZXMsXG4gICAgdmlld1R5cGUsXG4gICAgaGVhZGVyQ29tcG9uZW50LFxuICAgIHNob3dCcmVhZGNydW1icyxcbiAgICBpc0NoZWNrZWQsXG4gICAgdG9nZ2xlQ2hlY2tib3gsXG4gICAgcmVjb3JkU2hpZnRLZXlQcmVzcyxcbiAgICBoYW5kbGVTY3JvbGwsXG4gICAgc2hvd1RpdGxlcyxcbiAgICBpMThuLFxuICAgIHZhbGlkYXRlUmVzdHJpY3Rpb25zLFxuICAgIGlzTG9hZGluZyxcbiAgICBzaG93U2VhcmNoRmlsdGVyLFxuICAgIHNlYXJjaCxcbiAgICBzZWFyY2hUZXJtLFxuICAgIGNsZWFyU2VhcmNoLFxuICAgIHNlYXJjaE9uSW5wdXQsXG4gICAgc2VhcmNoSW5wdXRMYWJlbCxcbiAgICBjbGVhclNlYXJjaExhYmVsLFxuICAgIGdldE5leHRGb2xkZXIsXG4gICAgY2FuY2VsLFxuICAgIGRvbmUsXG4gICAgY29sdW1ucyxcbiAgICBub1Jlc3VsdHNMYWJlbFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHNlbGVjdGVkID0gY3VycmVudFNlbGVjdGlvbi5sZW5ndGg7XG4gIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoJ3VwcHktUHJvdmlkZXJCcm93c2VyJywgYHVwcHktUHJvdmlkZXJCcm93c2VyLXZpZXdUeXBlLS0ke3ZpZXdUeXBlfWApXG4gIH0sIGhlYWRlckNvbXBvbmVudCAmJiBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1Qcm92aWRlckJyb3dzZXItaGVhZGVyXCJcbiAgfSwgaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKCd1cHB5LVByb3ZpZGVyQnJvd3Nlci1oZWFkZXJCYXInLCAhc2hvd0JyZWFkY3J1bWJzICYmICd1cHB5LVByb3ZpZGVyQnJvd3Nlci1oZWFkZXJCYXItLXNpbXBsZScpXG4gIH0sIGhlYWRlckNvbXBvbmVudCkpLCBzaG93U2VhcmNoRmlsdGVyICYmIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzOiBcInVwcHktUHJvdmlkZXJCcm93c2VyLXNlYXJjaEZpbHRlclwiXG4gIH0sIGgoU2VhcmNoRmlsdGVySW5wdXQsIHtcbiAgICBzZWFyY2g6IHNlYXJjaCxcbiAgICBzZWFyY2hUZXJtOiBzZWFyY2hUZXJtLFxuICAgIGNsZWFyU2VhcmNoOiBjbGVhclNlYXJjaCxcbiAgICBpbnB1dExhYmVsOiBzZWFyY2hJbnB1dExhYmVsLFxuICAgIGNsZWFyU2VhcmNoTGFiZWw6IGNsZWFyU2VhcmNoTGFiZWwsXG4gICAgaW5wdXRDbGFzc05hbWU6IFwidXBweS1Qcm92aWRlckJyb3dzZXItc2VhcmNoRmlsdGVySW5wdXRcIixcbiAgICBzZWFyY2hPbklucHV0OiBzZWFyY2hPbklucHV0XG4gIH0pKSwgKCgpID0+IHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LVByb3ZpZGVyLWxvYWRpbmdcIlxuICAgICAgfSwgaChcInNwYW5cIiwgbnVsbCwgaTE4bignbG9hZGluZycpKSk7XG4gICAgfVxuXG4gICAgaWYgKCFmb2xkZXJzLmxlbmd0aCAmJiAhZmlsZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LVByb3ZpZGVyLWVtcHR5XCJcbiAgICAgIH0sIG5vUmVzdWx0c0xhYmVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidXBweS1Qcm92aWRlckJyb3dzZXItYm9keVwiXG4gICAgfSwgaChcInVsXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LVByb3ZpZGVyQnJvd3Nlci1saXN0XCIsXG4gICAgICBvblNjcm9sbDogaGFuZGxlU2Nyb2xsLFxuICAgICAgcm9sZTogXCJsaXN0Ym94XCIgLy8gbWFraW5nIDx1bD4gbm90IGZvY3VzYWJsZSBmb3IgZmlyZWZveFxuICAgICAgLFxuICAgICAgdGFiSW5kZXg6IFwiLTFcIlxuICAgIH0sIGZvbGRlcnMubWFwKGZvbGRlciA9PiB7XG4gICAgICB2YXIgX2lzQ2hlY2tlZDtcblxuICAgICAgcmV0dXJuIEl0ZW0oe1xuICAgICAgICBjb2x1bW5zLFxuICAgICAgICBzaG93VGl0bGVzLFxuICAgICAgICB2aWV3VHlwZSxcbiAgICAgICAgaTE4bixcbiAgICAgICAgaWQ6IGZvbGRlci5pZCxcbiAgICAgICAgdGl0bGU6IGZvbGRlci5uYW1lLFxuICAgICAgICBnZXRJdGVtSWNvbjogKCkgPT4gZm9sZGVyLmljb24sXG4gICAgICAgIGlzQ2hlY2tlZDogaXNDaGVja2VkKGZvbGRlciksXG4gICAgICAgIHRvZ2dsZUNoZWNrYm94OiBldmVudCA9PiB0b2dnbGVDaGVja2JveChldmVudCwgZm9sZGVyKSxcbiAgICAgICAgcmVjb3JkU2hpZnRLZXlQcmVzcyxcbiAgICAgICAgdHlwZTogJ2ZvbGRlcicsXG4gICAgICAgIGlzRGlzYWJsZWQ6IChfaXNDaGVja2VkID0gaXNDaGVja2VkKGZvbGRlcikpID09IG51bGwgPyB2b2lkIDAgOiBfaXNDaGVja2VkLmxvYWRpbmcsXG4gICAgICAgIGlzQ2hlY2tib3hEaXNhYmxlZDogZm9sZGVyLmlkID09PSBWSVJUVUFMX1NIQVJFRF9ESVIsXG4gICAgICAgIGhhbmRsZUZvbGRlckNsaWNrOiAoKSA9PiBnZXROZXh0Rm9sZGVyKGZvbGRlcilcbiAgICAgIH0pO1xuICAgIH0pLCBmaWxlcy5tYXAoZmlsZSA9PiB7XG4gICAgICBjb25zdCByZXN0cmljdGlvbkVycm9yID0gdmFsaWRhdGVSZXN0cmljdGlvbnMocmVtb3RlRmlsZU9ialRvTG9jYWwoZmlsZSksIFsuLi51cHB5RmlsZXMsIC4uLmN1cnJlbnRTZWxlY3Rpb25dKTtcbiAgICAgIHJldHVybiBJdGVtKHtcbiAgICAgICAgaWQ6IGZpbGUuaWQsXG4gICAgICAgIHRpdGxlOiBmaWxlLm5hbWUsXG4gICAgICAgIGF1dGhvcjogZmlsZS5hdXRob3IsXG4gICAgICAgIGdldEl0ZW1JY29uOiAoKSA9PiBmaWxlLmljb24sXG4gICAgICAgIGlzQ2hlY2tlZDogaXNDaGVja2VkKGZpbGUpLFxuICAgICAgICB0b2dnbGVDaGVja2JveDogZXZlbnQgPT4gdG9nZ2xlQ2hlY2tib3goZXZlbnQsIGZpbGUpLFxuICAgICAgICByZWNvcmRTaGlmdEtleVByZXNzLFxuICAgICAgICBjb2x1bW5zLFxuICAgICAgICBzaG93VGl0bGVzLFxuICAgICAgICB2aWV3VHlwZSxcbiAgICAgICAgaTE4bixcbiAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICBpc0Rpc2FibGVkOiByZXN0cmljdGlvbkVycm9yICYmICFpc0NoZWNrZWQoZmlsZSksXG4gICAgICAgIHJlc3RyaWN0aW9uRXJyb3JcbiAgICAgIH0pO1xuICAgIH0pKSk7XG4gIH0pKCksIHNlbGVjdGVkID4gMCAmJiBoKEZvb3RlckFjdGlvbnMsIHtcbiAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgZG9uZTogZG9uZSxcbiAgICBjYW5jZWw6IGNhbmNlbCxcbiAgICBpMThuOiBpMThuXG4gIH0pKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQnJvd3NlcjsiLCJpbXBvcnQgeyBDb21wb25lbnQsIHRvQ2hpbGRBcnJheSB9IGZyb20gJ3ByZWFjdCc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbG9zZVdyYXBwZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBvblVubW91bnRcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBvblVubW91bnQoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiB0b0NoaWxkQXJyYXkoY2hpbGRyZW4pWzBdO1xuICB9XG5cbn0iLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcbmV4cG9ydCBkZWZhdWx0IChfcmVmID0+IHtcbiAgbGV0IHtcbiAgICBjYW5jZWwsXG4gICAgZG9uZSxcbiAgICBpMThuLFxuICAgIHNlbGVjdGVkXG4gIH0gPSBfcmVmO1xuICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktUHJvdmlkZXJCcm93c2VyLWZvb3RlclwiXG4gIH0sIGgoXCJidXR0b25cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LXUtcmVzZXQgdXBweS1jLWJ0biB1cHB5LWMtYnRuLXByaW1hcnlcIixcbiAgICBvbkNsaWNrOiBkb25lLFxuICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgfSwgaTE4bignc2VsZWN0WCcsIHtcbiAgICBzbWFydF9jb3VudDogc2VsZWN0ZWRcbiAgfSkpLCBoKFwiYnV0dG9uXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG4gdXBweS1jLWJ0bi1saW5rXCIsXG4gICAgb25DbGljazogY2FuY2VsLFxuICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgfSwgaTE4bignY2FuY2VsJykpKTtcbn0pOyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmZ1bmN0aW9uIEdyaWRMaXN0SXRlbShwcm9wcykge1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lLFxuICAgIGlzRGlzYWJsZWQsXG4gICAgcmVzdHJpY3Rpb25FcnJvcixcbiAgICBpc0NoZWNrZWQsXG4gICAgdGl0bGUsXG4gICAgaXRlbUljb25FbCxcbiAgICBzaG93VGl0bGVzLFxuICAgIHRvZ2dsZUNoZWNrYm94LFxuICAgIHJlY29yZFNoaWZ0S2V5UHJlc3MsXG4gICAgaWQsXG4gICAgY2hpbGRyZW5cbiAgfSA9IHByb3BzO1xuICBjb25zdCBjaGVja0JveENsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3VwcHktdS1yZXNldCcsICd1cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3gnLCAndXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94LS1ncmlkJywge1xuICAgICd1cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tY2hlY2tib3gtLWlzLWNoZWNrZWQnOiBpc0NoZWNrZWRcbiAgfSk7XG4gIHJldHVybiBoKFwibGlcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIHRpdGxlOiBpc0Rpc2FibGVkID8gcmVzdHJpY3Rpb25FcnJvciA9PSBudWxsID8gdm9pZCAwIDogcmVzdHJpY3Rpb25FcnJvci5tZXNzYWdlIDogbnVsbFxuICB9LCBoKFwiaW5wdXRcIiwge1xuICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICBjbGFzc05hbWU6IGNoZWNrQm94Q2xhc3NOYW1lLFxuICAgIG9uQ2hhbmdlOiB0b2dnbGVDaGVja2JveCxcbiAgICBvbktleURvd246IHJlY29yZFNoaWZ0S2V5UHJlc3MsXG4gICAgbmFtZTogXCJsaXN0aXRlbVwiLFxuICAgIGlkOiBpZCxcbiAgICBjaGVja2VkOiBpc0NoZWNrZWQsXG4gICAgZGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgXCJkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXCI6IHRydWVcbiAgfSksIGgoXCJsYWJlbFwiLCB7XG4gICAgaHRtbEZvcjogaWQsXG4gICAgXCJhcmlhLWxhYmVsXCI6IHRpdGxlLFxuICAgIGNsYXNzTmFtZTogXCJ1cHB5LXUtcmVzZXQgdXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyXCJcbiAgfSwgaXRlbUljb25FbCwgc2hvd1RpdGxlcyAmJiB0aXRsZSwgY2hpbGRyZW4pKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JpZExpc3RJdGVtOyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuXG5mdW5jdGlvbiBGaWxlSWNvbigpIHtcbiAgcmV0dXJuIGgoXCJzdmdcIiwge1xuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uXCIsXG4gICAgd2lkdGg6IDExLFxuICAgIGhlaWdodDogMTQuNSxcbiAgICB2aWV3Qm94OiBcIjAgMCA0NCA1OFwiXG4gIH0sIGgoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0yNy40MzcuNTE3YTEgMSAwIDAgMC0uMDk0LjAzSDQuMjVDMi4wMzcuNTQ4LjIxNyAyLjM2OC4yMTcgNC41OHY0OC40MDVjMCAyLjIxMiAxLjgyIDQuMDMgNC4wMyA0LjAzSDM5LjAzYzIuMjEgMCA0LjAzLTEuODE4IDQuMDMtNC4wM1YxNS42MWExIDEgMCAwIDAtLjAzLS4yOCAxIDEgMCAwIDAgMC0uMDkzIDEgMSAwIDAgMC0uMDMtLjAzMiAxIDEgMCAwIDAgMC0uMDMgMSAxIDAgMCAwLS4wMzItLjA2MyAxIDEgMCAwIDAtLjAzLS4wNjMgMSAxIDAgMCAwLS4wMzIgMCAxIDEgMCAwIDAtLjAzLS4wNjMgMSAxIDAgMCAwLS4wMzItLjAzIDEgMSAwIDAgMC0uMDMtLjA2MyAxIDEgMCAwIDAtLjA2My0uMDYybC0xNC41OTMtMTRhMSAxIDAgMCAwLS4wNjItLjA2MkExIDEgMCAwIDAgMjggLjcwOGExIDEgMCAwIDAtLjM3NC0uMTU3IDEgMSAwIDAgMC0uMTU2IDAgMSAxIDAgMCAwLS4wMy0uMDNsLS4wMDMtLjAwM3pNNC4yNSAyLjU0N2gyMi4yMTh2OS45N2MwIDIuMjEgMS44MiA0LjAzIDQuMDMgNC4wM2gxMC41NjR2MzYuNDM4YTIuMDIgMi4wMiAwIDAgMS0yLjAzMiAyLjAzMkg0LjI1Yy0xLjEzIDAtMi4wMzItLjktMi4wMzItMi4wMzJWNC41OGMwLTEuMTMuOTAyLTIuMDMyIDIuMDMtMi4wMzJ6bTI0LjIxOCAxLjM0NWwxMC4zNzUgOS45MzcuNzUuNzE4SDMwLjVjLTEuMTMgMC0yLjAzMi0uOS0yLjAzMi0yLjAzVjMuODl6XCJcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBGb2xkZXJJY29uKCkge1xuICByZXR1cm4gaChcInN2Z1wiLCB7XG4gICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICBmb2N1c2FibGU6IFwiZmFsc2VcIixcbiAgICBjbGFzc05hbWU6IFwidXBweS1jLWljb25cIixcbiAgICBzdHlsZToge1xuICAgICAgbWluV2lkdGg6IDE2LFxuICAgICAgbWFyZ2luUmlnaHQ6IDNcbiAgICB9LFxuICAgIHZpZXdCb3g6IFwiMCAwIDI3Ni4xNTcgMjc2LjE1N1wiXG4gIH0sIGgoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0yNzMuMDggMTAxLjM3OGMtMy4zLTQuNjUtOC44Ni03LjMyLTE1LjI1NC03LjMyaC0yNC4zNFY2Ny41OWMwLTEwLjItOC4zLTE4LjUtMTguNS0xOC41aC04NS4zMjJjLTMuNjMgMC05LjI5NS0yLjg3NS0xMS40MzYtNS44MDVsLTYuMzg2LTguNzM1Yy00Ljk4Mi02LjgxNC0xNS4xMDQtMTEuOTU0LTIzLjU0Ni0xMS45NTRINTguNzNjLTkuMjkyIDAtMTguNjM4IDYuNjA4LTIxLjczNyAxNS4zNzJsLTIuMDMzIDUuNzUyYy0uOTU4IDIuNzEtNC43MiA1LjM3LTcuNTk2IDUuMzdIMTguNUM4LjMgNDkuMDkgMCA1Ny4zOSAwIDY3LjU5djE2Ny4wN2MwIC44ODYuMTYgMS43My40NDMgMi41Mi4xNTIgMy4zMDYgMS4xOCA2LjQyNCAzLjA1MyA5LjA2NCAzLjMgNC42NTIgOC44NiA3LjMyIDE1LjI1NSA3LjMyaDE4OC40ODdjMTEuMzk1IDAgMjMuMjctOC40MjUgMjcuMDM1LTE5LjE4bDQwLjY3Ny0xMTYuMTg4YzIuMTEtNi4wMzUgMS40My0xMi4xNjQtMS44Ny0xNi44MTZ6TTE4LjUgNjQuMDg4aDguODY0YzkuMjk1IDAgMTguNjQtNi42MDcgMjEuNzM4LTE1LjM3bDIuMDMyLTUuNzVjLjk2LTIuNzEyIDQuNzIyLTUuMzczIDcuNTk3LTUuMzczaDI5LjU2NWMzLjYzIDAgOS4yOTUgMi44NzYgMTEuNDM3IDUuODA2bDYuMzg2IDguNzM1YzQuOTgyIDYuODE1IDE1LjEwNCAxMS45NTQgMjMuNTQ2IDExLjk1NGg4NS4zMjJjMS44OTggMCAzLjUgMS42MDIgMy41IDMuNXYyNi40N0g2OS4zNGMtMTEuMzk1IDAtMjMuMjcgOC40MjMtMjcuMDM1IDE5LjE3OEwxNSAxOTEuMjNWNjcuNTljMC0xLjg5OCAxLjYwMy0zLjUgMy41LTMuNXptMjQyLjI5IDQ5LjE1bC00MC42NzYgMTE2LjE4OGMtMS42NzQgNC43OC03LjgxMiA5LjEzNS0xMi44NzcgOS4xMzVIMTguNzVjLTEuNDQ3IDAtMi41NzYtLjM3Mi0zLjAyLS45OTctLjQ0Mi0uNjI1LS40MjItMS44MTQuMDU3LTMuMThsNDAuNjc3LTExNi4xOWMxLjY3NC00Ljc4IDcuODEyLTkuMTM0IDEyLjg3Ny05LjEzNGgxODguNDg3YzEuNDQ4IDAgMi41NzcuMzcyIDMuMDIuOTk3LjQ0My42MjUuNDIzIDEuODE0LS4wNTYgMy4xOHpcIlxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIFZpZGVvSWNvbigpIHtcbiAgcmV0dXJuIGgoXCJzdmdcIiwge1xuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIHdpZHRoOiAxNixcbiAgICAgIG1hcmdpblJpZ2h0OiA0XG4gICAgfSxcbiAgICB2aWV3Qm94OiBcIjAgMCA1OCA1OFwiXG4gIH0sIGgoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0zNi41MzcgMjguMTU2bC0xMS03YTEuMDA1IDEuMDA1IDAgMCAwLTEuMDItLjAzM0MyNC4yIDIxLjMgMjQgMjEuNjM1IDI0IDIydjE0YTEgMSAwIDAgMCAxLjUzNy44NDRsMTEtN2ExLjAwMiAxLjAwMiAwIDAgMCAwLTEuNjg4ek0yNiAzNC4xOFYyMy44MkwzNC4xMzcgMjkgMjYgMzQuMTh6XCJcbiAgfSksIGgoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk01NyA2SDFhMSAxIDAgMCAwLTEgMXY0NGExIDEgMCAwIDAgMSAxaDU2YTEgMSAwIDAgMCAxLTFWN2ExIDEgMCAwIDAtMS0xek0xMCAyOEgydi05aDh2OXptLTggMmg4djlIMnYtOXptMTAgMTBWOGgzNHY0MkgxMlY0MHptNDQtMTJoLTh2LTloOHY5em0tOCAyaDh2OWgtOHYtOXptOC0yMnY5aC04VjhoOHpNMiA4aDh2OUgyVjh6bTAgNDJ2LTloOHY5SDJ6bTU0IDBoLTh2LTloOHY5elwiXG4gIH0pKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgKHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIGl0ZW1JY29uU3RyaW5nXG4gIH0gPSBwcm9wcztcbiAgaWYgKGl0ZW1JY29uU3RyaW5nID09PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gIHN3aXRjaCAoaXRlbUljb25TdHJpbmcpIHtcbiAgICBjYXNlICdmaWxlJzpcbiAgICAgIHJldHVybiBoKEZpbGVJY29uLCBudWxsKTtcblxuICAgIGNhc2UgJ2ZvbGRlcic6XG4gICAgICByZXR1cm4gaChGb2xkZXJJY29uLCBudWxsKTtcblxuICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgIHJldHVybiBoKFZpZGVvSWNvbiwgbnVsbCk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgYWx0XG4gICAgICAgIH0gPSBwcm9wcztcbiAgICAgICAgcmV0dXJuIGgoXCJpbWdcIiwge1xuICAgICAgICAgIHNyYzogaXRlbUljb25TdHJpbmcsXG4gICAgICAgICAgYWx0OiBhbHRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gIH1cbn0pOyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnOyAvLyBpZiBmb2xkZXI6XG4vLyAgICsgY2hlY2tib3ggKHNlbGVjdHMgYWxsIGZpbGVzIGZyb20gZm9sZGVyKVxuLy8gICArIGZvbGRlciBuYW1lIChvcGVucyBmb2xkZXIpXG4vLyBpZiBmaWxlOlxuLy8gICArIGNoZWNrYm94IChzZWxlY3RzIGZpbGUpXG4vLyAgICsgZmlsZSBuYW1lIChzZWxlY3RzIGZpbGUpXG5cbmZ1bmN0aW9uIExpc3RJdGVtKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjbGFzc05hbWUsXG4gICAgaXNEaXNhYmxlZCxcbiAgICByZXN0cmljdGlvbkVycm9yLFxuICAgIGlzQ2hlY2tib3hEaXNhYmxlZCxcbiAgICBpc0NoZWNrZWQsXG4gICAgdG9nZ2xlQ2hlY2tib3gsXG4gICAgcmVjb3JkU2hpZnRLZXlQcmVzcyxcbiAgICB0eXBlLFxuICAgIGlkLFxuICAgIGl0ZW1JY29uRWwsXG4gICAgdGl0bGUsXG4gICAgaGFuZGxlRm9sZGVyQ2xpY2ssXG4gICAgc2hvd1RpdGxlcyxcbiAgICBpMThuXG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIGgoXCJsaVwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgdGl0bGU6IGlzRGlzYWJsZWQgPyByZXN0cmljdGlvbkVycm9yID09IG51bGwgPyB2b2lkIDAgOiByZXN0cmljdGlvbkVycm9yLm1lc3NhZ2UgOiBudWxsXG4gIH0sICFpc0NoZWNrYm94RGlzYWJsZWQgPyBoKFwiaW5wdXRcIiwge1xuICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICBjbGFzc05hbWU6IGB1cHB5LXUtcmVzZXQgdXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWNoZWNrYm94ICR7aXNDaGVja2VkID8gJ3VwcHktUHJvdmlkZXJCcm93c2VySXRlbS1jaGVja2JveC0taXMtY2hlY2tlZCcgOiAnJ31gLFxuICAgIG9uQ2hhbmdlOiB0b2dnbGVDaGVja2JveCxcbiAgICBvbktleURvd246IHJlY29yZFNoaWZ0S2V5UHJlc3MgLy8gZm9yIHRoZSA8bGFiZWwvPlxuICAgICxcbiAgICBuYW1lOiBcImxpc3RpdGVtXCIsXG4gICAgaWQ6IGlkLFxuICAgIGNoZWNrZWQ6IGlzQ2hlY2tlZCxcbiAgICBcImFyaWEtbGFiZWxcIjogdHlwZSA9PT0gJ2ZpbGUnID8gbnVsbCA6IGkxOG4oJ2FsbEZpbGVzRnJvbUZvbGRlck5hbWVkJywge1xuICAgICAgbmFtZTogdGl0bGVcbiAgICB9KSxcbiAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICBcImRhdGEtdXBweS1zdXBlci1mb2N1c2FibGVcIjogdHJ1ZVxuICB9KSA6IG51bGwsIHR5cGUgPT09ICdmaWxlJyA/IC8vIGxhYmVsIGZvciBhIGNoZWNrYm94XG4gIGgoXCJsYWJlbFwiLCB7XG4gICAgaHRtbEZvcjogaWQsXG4gICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0taW5uZXJcIlxuICB9LCBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWljb25XcmFwXCJcbiAgfSwgaXRlbUljb25FbCksIHNob3dUaXRsZXMgJiYgdGl0bGUpIDogLy8gYnV0dG9uIHRvIG9wZW4gYSBmb2xkZXJcbiAgaChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG4gdXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLWlubmVyXCIsXG4gICAgb25DbGljazogaGFuZGxlRm9sZGVyQ2xpY2ssXG4gICAgXCJhcmlhLWxhYmVsXCI6IGkxOG4oJ29wZW5Gb2xkZXJOYW1lZCcsIHtcbiAgICAgIG5hbWU6IHRpdGxlXG4gICAgfSlcbiAgfSwgaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktUHJvdmlkZXJCcm93c2VySXRlbS1pY29uV3JhcFwiXG4gIH0sIGl0ZW1JY29uRWwpLCBzaG93VGl0bGVzICYmIGgoXCJzcGFuXCIsIG51bGwsIHRpdGxlKSkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBMaXN0SXRlbTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBJdGVtSWNvbiBmcm9tIFwiLi9jb21wb25lbnRzL0l0ZW1JY29uLmpzXCI7XG5pbXBvcnQgR3JpZExpc3RJdGVtIGZyb20gXCIuL2NvbXBvbmVudHMvR3JpZExpLmpzXCI7XG5pbXBvcnQgTGlzdEl0ZW0gZnJvbSBcIi4vY29tcG9uZW50cy9MaXN0TGkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IChwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBhdXRob3IsXG4gICAgZ2V0SXRlbUljb24sXG4gICAgaXNDaGVja2VkLFxuICAgIGlzRGlzYWJsZWQsXG4gICAgdmlld1R5cGVcbiAgfSA9IHByb3BzO1xuICBjb25zdCBpdGVtSWNvblN0cmluZyA9IGdldEl0ZW1JY29uKCk7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMoJ3VwcHktUHJvdmlkZXJCcm93c2VySXRlbScsIHtcbiAgICAndXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLS1zZWxlY3RlZCc6IGlzQ2hlY2tlZFxuICB9LCB7XG4gICAgJ3VwcHktUHJvdmlkZXJCcm93c2VySXRlbS0tZGlzYWJsZWQnOiBpc0Rpc2FibGVkXG4gIH0sIHtcbiAgICAndXBweS1Qcm92aWRlckJyb3dzZXJJdGVtLS1ub1ByZXZpZXcnOiBpdGVtSWNvblN0cmluZyA9PT0gJ3ZpZGVvJ1xuICB9KTtcbiAgY29uc3QgaXRlbUljb25FbCA9IGgoSXRlbUljb24sIHtcbiAgICBpdGVtSWNvblN0cmluZzogaXRlbUljb25TdHJpbmdcbiAgfSk7XG5cbiAgc3dpdGNoICh2aWV3VHlwZSkge1xuICAgIGNhc2UgJ2dyaWQnOlxuICAgICAgcmV0dXJuIGgoR3JpZExpc3RJdGVtIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9qc3gtcHJvcHMtbm8tc3ByZWFkaW5nXG4gICAgICAsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgaXRlbUljb25FbDogaXRlbUljb25FbFxuICAgICAgfSkpO1xuXG4gICAgY2FzZSAnbGlzdCc6XG4gICAgICByZXR1cm4gKC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9qc3gtcHJvcHMtbm8tc3ByZWFkaW5nXG4gICAgICAgIGgoTGlzdEl0ZW0sIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgIGl0ZW1JY29uRWw6IGl0ZW1JY29uRWxcbiAgICAgICAgfSkpXG4gICAgICApO1xuXG4gICAgY2FzZSAndW5zcGxhc2gnOlxuICAgICAgcmV0dXJuICgvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvanN4LXByb3BzLW5vLXNwcmVhZGluZ1xuICAgICAgICBoKEdyaWRMaXN0SXRlbSwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgICAgaXRlbUljb25FbDogaXRlbUljb25FbFxuICAgICAgICB9KSwgaChcImFcIiwge1xuICAgICAgICAgIGhyZWY6IGAke2F1dGhvci51cmx9P3V0bV9zb3VyY2U9Q29tcGFuaW9uJnV0bV9tZWRpdW09cmVmZXJyYWxgLFxuICAgICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgICByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LVByb3ZpZGVyQnJvd3Nlckl0ZW0tYXV0aG9yXCIsXG4gICAgICAgICAgdGFiSW5kZXg6IFwiLTFcIlxuICAgICAgICB9LCBhdXRob3IubmFtZSkpXG4gICAgICApO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gc3VjaCB0eXBlICR7dmlld1R5cGV9YCk7XG4gIH1cbn0pOyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuZXhwb3J0IGRlZmF1bHQgKF9yZWYgPT4ge1xuICBsZXQge1xuICAgIGkxOG5cbiAgfSA9IF9yZWY7XG4gIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1Qcm92aWRlci1sb2FkaW5nXCJcbiAgfSwgaChcInNwYW5cIiwgbnVsbCwgaTE4bignbG9hZGluZycpKSk7XG59KTsiLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcblxuZnVuY3Rpb24gR29vZ2xlSWNvbigpIHtcbiAgcmV0dXJuIGgoXCJzdmdcIiwge1xuICAgIHdpZHRoOiBcIjI2XCIsXG4gICAgaGVpZ2h0OiBcIjI2XCIsXG4gICAgdmlld0JveDogXCIwIDAgMjYgMjZcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gIH0sIGgoXCJnXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBcImZpbGwtcnVsZVwiOiBcImV2ZW5vZGRcIlxuICB9LCBoKFwiY2lyY2xlXCIsIHtcbiAgICBmaWxsOiBcIiNGRkZcIixcbiAgICBjeDogXCIxM1wiLFxuICAgIGN5OiBcIjEzXCIsXG4gICAgcjogXCIxM1wiXG4gIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgZDogXCJNMjEuNjQgMTMuMjA1YzAtLjYzOS0uMDU3LTEuMjUyLS4xNjQtMS44NDFIMTN2My40ODFoNC44NDRhNC4xNCA0LjE0IDAgMDEtMS43OTYgMi43MTZ2Mi4yNTloMi45MDhjMS43MDItMS41NjcgMi42ODQtMy44NzUgMi42ODQtNi42MTV6XCIsXG4gICAgZmlsbDogXCIjNDI4NUY0XCIsXG4gICAgXCJmaWxsLXJ1bGVcIjogXCJub256ZXJvXCJcbiAgfSksIGgoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMyAyMmMyLjQzIDAgNC40NjctLjgwNiA1Ljk1Ni0yLjE4bC0yLjkwOC0yLjI1OWMtLjgwNi41NC0xLjgzNy44Ni0zLjA0OC44Ni0yLjM0NCAwLTQuMzI4LTEuNTg0LTUuMDM2LTMuNzExSDQuOTU3djIuMzMyQTguOTk3IDguOTk3IDAgMDAxMyAyMnpcIixcbiAgICBmaWxsOiBcIiMzNEE4NTNcIixcbiAgICBcImZpbGwtcnVsZVwiOiBcIm5vbnplcm9cIlxuICB9KSwgaChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTcuOTY0IDE0LjcxQTUuNDEgNS40MSAwIDAxNy42ODIgMTNjMC0uNTkzLjEwMi0xLjE3LjI4Mi0xLjcxVjguOTU4SDQuOTU3QTguOTk2IDguOTk2IDAgMDA0IDEzYzAgMS40NTIuMzQ4IDIuODI3Ljk1NyA0LjA0MmwzLjAwNy0yLjMzMnpcIixcbiAgICBmaWxsOiBcIiNGQkJDMDVcIixcbiAgICBcImZpbGwtcnVsZVwiOiBcIm5vbnplcm9cIlxuICB9KSwgaChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEzIDcuNThjMS4zMjEgMCAyLjUwOC40NTQgMy40NCAxLjM0NWwyLjU4Mi0yLjU4QzE3LjQ2MyA0Ljg5MSAxNS40MjYgNCAxMyA0YTguOTk3IDguOTk3IDAgMDAtOC4wNDMgNC45NThsMy4wMDcgMi4zMzJDOC42NzIgOS4xNjMgMTAuNjU2IDcuNTggMTMgNy41OHpcIixcbiAgICBmaWxsOiBcIiNFQTQzMzVcIixcbiAgICBcImZpbGwtcnVsZVwiOiBcIm5vbnplcm9cIlxuICB9KSwgaChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTQgNGgxOHYxOEg0elwiXG4gIH0pKSk7XG59XG5cbmZ1bmN0aW9uIEF1dGhWaWV3KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBwbHVnaW5OYW1lLFxuICAgIHBsdWdpbkljb24sXG4gICAgaTE4bkFycmF5LFxuICAgIGhhbmRsZUF1dGhcbiAgfSA9IHByb3BzOyAvLyBJbiBvcmRlciB0byBjb21wbHkgd2l0aCBHb29nbGUncyBicmFuZCB3ZSBuZWVkIHRvIGNyZWF0ZSBhIGRpZmZlcmVudCBidXR0b25cbiAgLy8gZm9yIHRoZSBHb29nbGUgRHJpdmUgcGx1Z2luXG5cbiAgY29uc3QgaXNHb29nbGVEcml2ZSA9IHBsdWdpbk5hbWUgPT09ICdHb29nbGUgRHJpdmUnO1xuICBjb25zdCBwbHVnaW5OYW1lQ29tcG9uZW50ID0gaChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LVByb3ZpZGVyLWF1dGhUaXRsZU5hbWVcIlxuICB9LCBwbHVnaW5OYW1lLCBoKFwiYnJcIiwgbnVsbCkpO1xuICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktUHJvdmlkZXItYXV0aFwiXG4gIH0sIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LVByb3ZpZGVyLWF1dGhJY29uXCJcbiAgfSwgcGx1Z2luSWNvbigpKSwgaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktUHJvdmlkZXItYXV0aFRpdGxlXCJcbiAgfSwgaTE4bkFycmF5KCdhdXRoZW50aWNhdGVXaXRoVGl0bGUnLCB7XG4gICAgcGx1Z2luTmFtZTogcGx1Z2luTmFtZUNvbXBvbmVudFxuICB9KSksIGlzR29vZ2xlRHJpdmUgPyBoKFwiYnV0dG9uXCIsIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzTmFtZTogXCJ1cHB5LXUtcmVzZXQgdXBweS1jLWJ0biB1cHB5LWMtYnRuLXByaW1hcnkgdXBweS1Qcm92aWRlci1hdXRoQnRuIHVwcHktUHJvdmlkZXItYnRuLWdvb2dsZVwiLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUF1dGgsXG4gICAgXCJkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXCI6IHRydWVcbiAgfSwgaChHb29nbGVJY29uLCBudWxsKSwgaTE4bkFycmF5KCdzaWduSW5XaXRoR29vZ2xlJykpIDogaChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG4gdXBweS1jLWJ0bi1wcmltYXJ5IHVwcHktUHJvdmlkZXItYXV0aEJ0blwiLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUF1dGgsXG4gICAgXCJkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXCI6IHRydWVcbiAgfSwgaTE4bkFycmF5KCdhdXRoZW50aWNhdGVXaXRoJywge1xuICAgIHBsdWdpbk5hbWVcbiAgfSkpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXV0aFZpZXc7IiwiaW1wb3J0IFVzZXIgZnJvbSBcIi4vVXNlci5qc1wiO1xuaW1wb3J0IEJyZWFkY3J1bWJzIGZyb20gXCIuLi9CcmVhZGNydW1icy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgKHByb3BzID0+IHtcbiAgY29uc3QgY29tcG9uZW50cyA9IFtdO1xuXG4gIGlmIChwcm9wcy5zaG93QnJlYWRjcnVtYnMpIHtcbiAgICBjb21wb25lbnRzLnB1c2goQnJlYWRjcnVtYnMoe1xuICAgICAgZ2V0Rm9sZGVyOiBwcm9wcy5nZXRGb2xkZXIsXG4gICAgICBkaXJlY3RvcmllczogcHJvcHMuZGlyZWN0b3JpZXMsXG4gICAgICBicmVhZGNydW1ic0ljb246IHByb3BzLnBsdWdpbkljb24gJiYgcHJvcHMucGx1Z2luSWNvbigpLFxuICAgICAgdGl0bGU6IHByb3BzLnRpdGxlXG4gICAgfSkpO1xuICB9XG5cbiAgY29tcG9uZW50cy5wdXNoKFVzZXIoe1xuICAgIGxvZ291dDogcHJvcHMubG9nb3V0LFxuICAgIHVzZXJuYW1lOiBwcm9wcy51c2VybmFtZSxcbiAgICBpMThuOiBwcm9wcy5pMThuXG4gIH0pKTtcbiAgcmV0dXJuIGNvbXBvbmVudHM7XG59KTsiLCJmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVjZWl2ZXIsIHByaXZhdGVLZXkpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gdXNlIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpOyB9IHJldHVybiByZWNlaXZlcjsgfVxuXG52YXIgaWQgPSAwO1xuXG5mdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShuYW1lKSB7IHJldHVybiBcIl9fcHJpdmF0ZV9cIiArIGlkKysgKyBcIl9cIiArIG5hbWU7IH1cblxuaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBnZXRTYWZlRmlsZUlkIH0gZnJvbSAnQHVwcHkvdXRpbHMvbGliL2dlbmVyYXRlRmlsZUlEJztcbmltcG9ydCBBdXRoVmlldyBmcm9tIFwiLi9BdXRoVmlldy5qc1wiO1xuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9IZWFkZXIuanNcIjtcbmltcG9ydCBCcm93c2VyIGZyb20gXCIuLi9Ccm93c2VyLmpzXCI7XG5pbXBvcnQgTG9hZGVyVmlldyBmcm9tIFwiLi4vTG9hZGVyLmpzXCI7XG5pbXBvcnQgQ2xvc2VXcmFwcGVyIGZyb20gJy4uL0Nsb3NlV3JhcHBlci5qcyc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi9WaWV3LmpzJztcbmNvbnN0IHBhY2thZ2VKc29uID0ge1xuICBcInZlcnNpb25cIjogXCIzLjIuMFwiXG59O1xuXG5mdW5jdGlvbiBnZXRPcmlnaW4oKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgcmV0dXJuIGxvY2F0aW9uLm9yaWdpbjtcbn1cblxuZnVuY3Rpb24gZ2V0UmVnZXgodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7dmFsdWV9JGApO1xuICB9XG5cbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaXNPcmlnaW5BbGxvd2VkKG9yaWdpbiwgYWxsb3dlZE9yaWdpbikge1xuICBjb25zdCBwYXR0ZXJucyA9IEFycmF5LmlzQXJyYXkoYWxsb3dlZE9yaWdpbikgPyBhbGxvd2VkT3JpZ2luLm1hcChnZXRSZWdleCkgOiBbZ2V0UmVnZXgoYWxsb3dlZE9yaWdpbildO1xuICByZXR1cm4gcGF0dGVybnMuc29tZShwYXR0ZXJuID0+IChwYXR0ZXJuID09IG51bGwgPyB2b2lkIDAgOiBwYXR0ZXJuLnRlc3Qob3JpZ2luKSkgfHwgKHBhdHRlcm4gPT0gbnVsbCA/IHZvaWQgMCA6IHBhdHRlcm4udGVzdChgJHtvcmlnaW59L2ApKSk7IC8vIGFsbG93aW5nIGZvciB0cmFpbGluZyAnLydcbn1cbi8qKlxuICogQ2xhc3MgdG8gZWFzaWx5IGdlbmVyYXRlIGdlbmVyaWMgdmlld3MgZm9yIFByb3ZpZGVyIHBsdWdpbnNcbiAqL1xuXG5cbnZhciBfdXBkYXRlRmlsZXNBbmRGb2xkZXJzID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwidXBkYXRlRmlsZXNBbmRGb2xkZXJzXCIpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm92aWRlclZpZXcgZXh0ZW5kcyBWaWV3IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwbHVnaW4gaW5zdGFuY2Ugb2YgdGhlIHBsdWdpblxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0c1xuICAgKi9cbiAgY29uc3RydWN0b3IocGx1Z2luLCBvcHRzKSB7XG4gICAgc3VwZXIocGx1Z2luLCBvcHRzKTsgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF91cGRhdGVGaWxlc0FuZEZvbGRlcnMsIHtcbiAgICAgIHZhbHVlOiBfdXBkYXRlRmlsZXNBbmRGb2xkZXJzMlxuICAgIH0pO1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgdmlld1R5cGU6ICdsaXN0JyxcbiAgICAgIHNob3dUaXRsZXM6IHRydWUsXG4gICAgICBzaG93RmlsdGVyOiB0cnVlLFxuICAgICAgc2hvd0JyZWFkY3J1bWJzOiB0cnVlXG4gICAgfTsgLy8gbWVyZ2UgZGVmYXVsdCBvcHRpb25zIHdpdGggdGhlIG9uZXMgc2V0IGJ5IHVzZXJcblxuICAgIHRoaXMub3B0cyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5vcHRzXG4gICAgfTsgLy8gTG9naWNcblxuICAgIHRoaXMuZmlsdGVyUXVlcnkgPSB0aGlzLmZpbHRlclF1ZXJ5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5jbGVhckZpbHRlciA9IHRoaXMuY2xlYXJGaWx0ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmdldEZvbGRlciA9IHRoaXMuZ2V0Rm9sZGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5nZXROZXh0Rm9sZGVyID0gdGhpcy5nZXROZXh0Rm9sZGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5sb2dvdXQgPSB0aGlzLmxvZ291dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlQXV0aCA9IHRoaXMuaGFuZGxlQXV0aC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlU2Nyb2xsID0gdGhpcy5oYW5kbGVTY3JvbGwuYmluZCh0aGlzKTtcbiAgICB0aGlzLmRvbmVQaWNraW5nID0gdGhpcy5kb25lUGlja2luZy5iaW5kKHRoaXMpOyAvLyBWaXN1YWxcblxuICAgIHRoaXMucmVuZGVyID0gdGhpcy5yZW5kZXIuYmluZCh0aGlzKTsgLy8gU2V0IGRlZmF1bHQgc3RhdGUgZm9yIHRoZSBwbHVnaW5cblxuICAgIHRoaXMucGx1Z2luLnNldFBsdWdpblN0YXRlKHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgZmlsZXM6IFtdLFxuICAgICAgZm9sZGVyczogW10sXG4gICAgICBkaXJlY3RvcmllczogW10sXG4gICAgICBmaWx0ZXJJbnB1dDogJycsXG4gICAgICBpc1NlYXJjaFZpc2libGU6IGZhbHNlLFxuICAgICAgY3VycmVudFNlbGVjdGlvbjogW11cbiAgICB9KTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuXG5cbiAgdGVhckRvd24oKSB7Ly8gTm90aGluZy5cbiAgfVxuXG4gIC8qKlxuICAgKiBCYXNlZCBvbiBmb2xkZXIgSUQsIGZldGNoIGEgbmV3IGZvbGRlciBhbmQgdXBkYXRlIGl0IHRvIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gaWQgRm9sZGVyIGlkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSAgIEZvbGRlcnMvZmlsZXMgaW4gZm9sZGVyXG4gICAqL1xuICBhc3luYyBnZXRGb2xkZXIoaWQsIG5hbWUpIHtcbiAgICB0aGlzLnNldExvYWRpbmcodHJ1ZSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5wcm92aWRlci5saXN0KGlkKTtcbiAgICAgIGNvbnN0IGZvbGRlcnMgPSBbXTtcbiAgICAgIGNvbnN0IGZpbGVzID0gW107XG4gICAgICBsZXQgdXBkYXRlZERpcmVjdG9yaWVzO1xuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBsdWdpbi5nZXRQbHVnaW5TdGF0ZSgpO1xuICAgICAgY29uc3QgaW5kZXggPSBzdGF0ZS5kaXJlY3Rvcmllcy5maW5kSW5kZXgoZGlyID0+IGlkID09PSBkaXIuaWQpO1xuXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHVwZGF0ZWREaXJlY3RvcmllcyA9IHN0YXRlLmRpcmVjdG9yaWVzLnNsaWNlKDAsIGluZGV4ICsgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVkRGlyZWN0b3JpZXMgPSBzdGF0ZS5kaXJlY3Rvcmllcy5jb25jYXQoW3tcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB0aXRsZTogbmFtZVxuICAgICAgICB9XSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXNlcm5hbWUgPSByZXMudXNlcm5hbWUgfHwgdGhpcy51c2VybmFtZTtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF91cGRhdGVGaWxlc0FuZEZvbGRlcnMpW191cGRhdGVGaWxlc0FuZEZvbGRlcnNdKHJlcywgZmlsZXMsIGZvbGRlcnMpO1xuXG4gICAgICB0aGlzLnBsdWdpbi5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgICAgIGRpcmVjdG9yaWVzOiB1cGRhdGVkRGlyZWN0b3JpZXMsXG4gICAgICAgIGZpbHRlcklucHV0OiAnJ1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmhhbmRsZUVycm9yKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBGZXRjaGVzIG5ldyBmb2xkZXJcbiAgICpcbiAgICogQHBhcmFtICB7b2JqZWN0fSBmb2xkZXJcbiAgICovXG5cblxuICBnZXROZXh0Rm9sZGVyKGZvbGRlcikge1xuICAgIHRoaXMuZ2V0Rm9sZGVyKGZvbGRlci5yZXF1ZXN0UGF0aCwgZm9sZGVyLm5hbWUpO1xuICAgIHRoaXMubGFzdENoZWNrYm94ID0gdW5kZWZpbmVkO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIHNlc3Npb24gdG9rZW4gb24gY2xpZW50IHNpZGUuXG4gICAqL1xuXG5cbiAgbG9nb3V0KCkge1xuICAgIHRoaXMucHJvdmlkZXIubG9nb3V0KCkudGhlbihyZXMgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICBpZiAoIXJlcy5yZXZva2VkKSB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMucGx1Z2luLnVwcHkuaTE4bignY29tcGFuaW9uVW5hdXRob3JpemVIaW50Jywge1xuICAgICAgICAgICAgcHJvdmlkZXI6IHRoaXMucGx1Z2luLnRpdGxlLFxuICAgICAgICAgICAgdXJsOiByZXMubWFudWFsX3Jldm9rZV91cmxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLnBsdWdpbi51cHB5LmluZm8obWVzc2FnZSwgJ2luZm8nLCA3MDAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld1N0YXRlID0ge1xuICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGZpbGVzOiBbXSxcbiAgICAgICAgICBmb2xkZXJzOiBbXSxcbiAgICAgICAgICBkaXJlY3RvcmllczogW10sXG4gICAgICAgICAgZmlsdGVySW5wdXQ6ICcnXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucGx1Z2luLnNldFBsdWdpblN0YXRlKG5ld1N0YXRlKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCh0aGlzLmhhbmRsZUVycm9yKTtcbiAgfVxuXG4gIGZpbHRlclF1ZXJ5KGlucHV0KSB7XG4gICAgdGhpcy5wbHVnaW4uc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgZmlsdGVySW5wdXQ6IGlucHV0XG4gICAgfSk7XG4gIH1cblxuICBjbGVhckZpbHRlcigpIHtcbiAgICB0aGlzLnBsdWdpbi5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgICBmaWx0ZXJJbnB1dDogJydcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGhhbmRsZUF1dGgoKSB7XG4gICAgYXdhaXQgdGhpcy5wcm92aWRlci5lbnN1cmVQcmVBdXRoKCk7XG4gICAgY29uc3QgYXV0aFN0YXRlID0gYnRvYShKU09OLnN0cmluZ2lmeSh7XG4gICAgICBvcmlnaW46IGdldE9yaWdpbigpXG4gICAgfSkpO1xuICAgIGNvbnN0IGNsaWVudFZlcnNpb24gPSBgQHVwcHkvcHJvdmlkZXItdmlld3M9JHtQcm92aWRlclZpZXcuVkVSU0lPTn1gO1xuICAgIGNvbnN0IGxpbmsgPSB0aGlzLnByb3ZpZGVyLmF1dGhVcmwoe1xuICAgICAgc3RhdGU6IGF1dGhTdGF0ZSxcbiAgICAgIHVwcHlWZXJzaW9uczogY2xpZW50VmVyc2lvblxuICAgIH0pO1xuICAgIGNvbnN0IGF1dGhXaW5kb3cgPSB3aW5kb3cub3BlbihsaW5rLCAnX2JsYW5rJyk7XG5cbiAgICBjb25zdCBoYW5kbGVUb2tlbiA9IGUgPT4ge1xuICAgICAgaWYgKGUuc291cmNlICE9PSBhdXRoV2luZG93KSB7XG4gICAgICAgIHRoaXMucGx1Z2luLnVwcHkubG9nKCdyZWplY3RpbmcgZXZlbnQgZnJvbSB1bmtub3duIHNvdXJjZScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNPcmlnaW5BbGxvd2VkKGUub3JpZ2luLCB0aGlzLnBsdWdpbi5vcHRzLmNvbXBhbmlvbkFsbG93ZWRIb3N0cykgfHwgZS5zb3VyY2UgIT09IGF1dGhXaW5kb3cpIHtcbiAgICAgICAgdGhpcy5wbHVnaW4udXBweS5sb2coYHJlamVjdGluZyBldmVudCBmcm9tICR7ZS5vcmlnaW59IHZzIGFsbG93ZWQgcGF0dGVybiAke3RoaXMucGx1Z2luLm9wdHMuY29tcGFuaW9uQWxsb3dlZEhvc3RzfWApO1xuICAgICAgfSAvLyBDaGVjayBpZiBpdCdzIGEgc3RyaW5nIGJlZm9yZSBkb2luZyB0aGUgSlNPTi5wYXJzZSB0byBtYWludGFpbiBzdXBwb3J0XG4gICAgICAvLyBmb3Igb2xkZXIgQ29tcGFuaW9uIHZlcnNpb25zIHRoYXQgdXNlZCBvYmplY3QgcmVmZXJlbmNlc1xuXG5cbiAgICAgIGNvbnN0IGRhdGEgPSB0eXBlb2YgZS5kYXRhID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoZS5kYXRhKSA6IGUuZGF0YTtcblxuICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgdGhpcy5wbHVnaW4udXBweS5sb2coJ2F1dGggYWJvcnRlZCcsICd3YXJuaW5nJyk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICB1cHB5XG4gICAgICAgIH0gPSB0aGlzLnBsdWdpbjtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHVwcHkuaTE4bignYXV0aEFib3J0ZWQnKTtcbiAgICAgICAgdXBweS5pbmZvKHtcbiAgICAgICAgICBtZXNzYWdlXG4gICAgICAgIH0sICd3YXJuaW5nJywgNTAwMCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFkYXRhLnRva2VuKSB7XG4gICAgICAgIHRoaXMucGx1Z2luLnVwcHkubG9nKCdkaWQgbm90IHJlY2VpdmUgdG9rZW4gZnJvbSBhdXRoIHdpbmRvdycsICdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGF1dGhXaW5kb3cuY2xvc2UoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlVG9rZW4pO1xuICAgICAgdGhpcy5wcm92aWRlci5zZXRBdXRoVG9rZW4oZGF0YS50b2tlbik7XG4gICAgICB0aGlzLnByZUZpcnN0UmVuZGVyKCk7XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlVG9rZW4pO1xuICB9XG5cbiAgYXN5bmMgaGFuZGxlU2Nyb2xsKGV2ZW50KSB7XG4gICAgY29uc3QgcGF0aCA9IHRoaXMubmV4dFBhZ2VQYXRoIHx8IG51bGw7XG5cbiAgICBpZiAodGhpcy5zaG91bGRIYW5kbGVTY3JvbGwoZXZlbnQpICYmIHBhdGgpIHtcbiAgICAgIHRoaXMuaXNIYW5kbGluZ1Njcm9sbCA9IHRydWU7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wcm92aWRlci5saXN0KHBhdGgpO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgZmlsZXMsXG4gICAgICAgICAgZm9sZGVyc1xuICAgICAgICB9ID0gdGhpcy5wbHVnaW4uZ2V0UGx1Z2luU3RhdGUoKTtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3VwZGF0ZUZpbGVzQW5kRm9sZGVycylbX3VwZGF0ZUZpbGVzQW5kRm9sZGVyc10ocmVzcG9uc2UsIGZpbGVzLCBmb2xkZXJzKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdGhpcy5pc0hhbmRsaW5nU2Nyb2xsID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgKnJlY3Vyc2l2ZWx5TGlzdEFsbEZpbGVzKHBhdGgpIHtcbiAgICBsZXQgY3VyUGF0aCA9IHBhdGg7IC8vIG5lZWQgdG8gcmVwZWF0IHRoZSBsaXN0IGNhbGwgdW50aWwgdGhlcmUgYXJlIG5vIG1vcmUgcGFnZXNcblxuICAgIHdoaWxlIChjdXJQYXRoKSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnByb3ZpZGVyLmxpc3QoY3VyUGF0aCk7XG5cbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiByZXMuaXRlbXMpIHtcbiAgICAgICAgaWYgKGl0ZW0uaXNGb2xkZXIpIHtcbiAgICAgICAgICAvLyByZWN1cnNpdmVseSBjYWxsIHNlbGYgZm9yIGZvbGRlclxuICAgICAgICAgIHlpZWxkKiB0aGlzLnJlY3Vyc2l2ZWx5TGlzdEFsbEZpbGVzKGl0ZW0ucmVxdWVzdFBhdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHlpZWxkIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY3VyUGF0aCA9IHJlcy5uZXh0UGFnZVBhdGg7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZG9uZVBpY2tpbmcoKSB7XG4gICAgdGhpcy5zZXRMb2FkaW5nKHRydWUpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY3VycmVudFNlbGVjdGlvblxuICAgICAgfSA9IHRoaXMucGx1Z2luLmdldFBsdWdpblN0YXRlKCk7XG4gICAgICBjb25zdCBtZXNzYWdlcyA9IFtdO1xuICAgICAgY29uc3QgbmV3RmlsZXMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVucmVhY2hhYmxlLWxvb3BcblxuICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGN1cnJlbnRTZWxlY3Rpb24pIHtcbiAgICAgICAgaWYgKGZpbGUuaXNGb2xkZXIpIHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICByZXF1ZXN0UGF0aCxcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICB9ID0gZmlsZTtcbiAgICAgICAgICBsZXQgaXNFbXB0eSA9IHRydWU7XG4gICAgICAgICAgbGV0IG51bU5ld0ZpbGVzID0gMDtcblxuICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgZmlsZUluRm9sZGVyIG9mIHRoaXMucmVjdXJzaXZlbHlMaXN0QWxsRmlsZXMocmVxdWVzdFBhdGgpKSB7XG4gICAgICAgICAgICBjb25zdCB0YWdGaWxlID0gdGhpcy5nZXRUYWdGaWxlKGZpbGVJbkZvbGRlcik7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGdldFNhZmVGaWxlSWQodGFnRmlsZSk7IC8vIElmIHRoZSBzYW1lIGZvbGRlciBpcyBhZGRlZCBhZ2Fpbiwgd2UgZG9uJ3Qgd2FudCB0byBzZW5kXG4gICAgICAgICAgICAvLyBYIGFtb3VudCBvZiBkdXBsaWNhdGUgZmlsZSBub3RpZmljYXRpb25zLCB3ZSB3YW50IHRvIHNheVxuICAgICAgICAgICAgLy8gdGhlIGZvbGRlciB3YXMgYWxyZWFkeSBhZGRlZC4gVGhpcyBjaGVja3MgaWYgYWxsIGZpbGVzIGFyZSBkdXBsaWNhdGUsXG4gICAgICAgICAgICAvLyBpZiB0aGF0J3MgdGhlIGNhc2UsIHdlIGRvbid0IGFkZCB0aGUgZmlsZXMuXG5cbiAgICAgICAgICAgIGlmICghdGhpcy5wbHVnaW4udXBweS5jaGVja0lmRmlsZUFscmVhZHlFeGlzdHMoaWQpKSB7XG4gICAgICAgICAgICAgIG5ld0ZpbGVzLnB1c2goZmlsZUluRm9sZGVyKTtcbiAgICAgICAgICAgICAgbnVtTmV3RmlsZXMrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXNFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCBtZXNzYWdlO1xuXG4gICAgICAgICAgaWYgKGlzRW1wdHkpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB0aGlzLnBsdWdpbi51cHB5LmkxOG4oJ2VtcHR5Rm9sZGVyQWRkZWQnKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG51bU5ld0ZpbGVzID09PSAwKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5wbHVnaW4udXBweS5pMThuKCdmb2xkZXJBbHJlYWR5QWRkZWQnLCB7XG4gICAgICAgICAgICAgIGZvbGRlcjogbmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB0aGlzLnBsdWdpbi51cHB5LmkxOG4oJ2ZvbGRlckFkZGVkJywge1xuICAgICAgICAgICAgICBzbWFydF9jb3VudDogbnVtTmV3RmlsZXMsXG4gICAgICAgICAgICAgIGZvbGRlcjogbmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdGaWxlcy5wdXNoKGZpbGUpO1xuICAgICAgICB9XG4gICAgICB9IC8vIE5vdGU6IHRoaXMucGx1Z2luLnVwcHkuYWRkRmlsZXMgbXVzdCBiZSBvbmx5IHJ1biBvbmNlIHdlIGFyZSBkb25lIGZldGNoaW5nIGFsbCBmaWxlcyxcbiAgICAgIC8vIGJlY2F1c2UgaXQgd2lsbCBjYXVzZSB0aGUgbG9hZGluZyBzY3JlZW4gdG8gZGlzYXBwZWFyLFxuICAgICAgLy8gYW5kIHRoYXQgd2lsbCBhbGxvdyB0aGUgdXNlciB0byBzdGFydCB0aGUgdXBsb2FkLCBzbyB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB3ZSBoYXZlXG4gICAgICAvLyBmaW5pc2hlZCBhbGwgYXN5bmMgb3BlcmF0aW9ucyBiZWZvcmUgd2UgYWRkIGFueSBmaWxlXG4gICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RyYW5zbG9hZGl0L3VwcHkvcHVsbC80Mzg0XG5cblxuICAgICAgdGhpcy5wbHVnaW4udXBweS5sb2coJ0FkZGluZyByZW1vdGUgcHJvdmlkZXIgZmlsZXMnKTtcbiAgICAgIHRoaXMucGx1Z2luLnVwcHkuYWRkRmlsZXMobmV3RmlsZXMubWFwKGZpbGUgPT4gdGhpcy5nZXRUYWdGaWxlKGZpbGUpKSk7XG4gICAgICB0aGlzLnBsdWdpbi5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgICAgIGZpbHRlcklucHV0OiAnJ1xuICAgICAgfSk7XG4gICAgICBtZXNzYWdlcy5mb3JFYWNoKG1lc3NhZ2UgPT4gdGhpcy5wbHVnaW4udXBweS5pbmZvKG1lc3NhZ2UpKTtcbiAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoc3RhdGUsIHZpZXdPcHRpb25zKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmICh2aWV3T3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICB2aWV3T3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQsXG4gICAgICBkaWRGaXJzdFJlbmRlclxuICAgIH0gPSB0aGlzLnBsdWdpbi5nZXRQbHVnaW5TdGF0ZSgpO1xuICAgIGNvbnN0IHtcbiAgICAgIGkxOG5cbiAgICB9ID0gdGhpcy5wbHVnaW4udXBweTtcblxuICAgIGlmICghZGlkRmlyc3RSZW5kZXIpIHtcbiAgICAgIHRoaXMucHJlRmlyc3RSZW5kZXIoKTtcbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXRWaWV3T3B0aW9ucyA9IHsgLi4udGhpcy5vcHRzLFxuICAgICAgLi4udmlld09wdGlvbnNcbiAgICB9O1xuICAgIGNvbnN0IHtcbiAgICAgIGZpbGVzLFxuICAgICAgZm9sZGVycyxcbiAgICAgIGZpbHRlcklucHV0LFxuICAgICAgbG9hZGluZyxcbiAgICAgIGN1cnJlbnRTZWxlY3Rpb25cbiAgICB9ID0gdGhpcy5wbHVnaW4uZ2V0UGx1Z2luU3RhdGUoKTtcbiAgICBjb25zdCB7XG4gICAgICBpc0NoZWNrZWQsXG4gICAgICB0b2dnbGVDaGVja2JveCxcbiAgICAgIHJlY29yZFNoaWZ0S2V5UHJlc3MsXG4gICAgICBmaWx0ZXJJdGVtc1xuICAgIH0gPSB0aGlzO1xuICAgIGNvbnN0IGhhc0lucHV0ID0gZmlsdGVySW5wdXQgIT09ICcnO1xuICAgIGNvbnN0IGhlYWRlclByb3BzID0ge1xuICAgICAgc2hvd0JyZWFkY3J1bWJzOiB0YXJnZXRWaWV3T3B0aW9ucy5zaG93QnJlYWRjcnVtYnMsXG4gICAgICBnZXRGb2xkZXI6IHRoaXMuZ2V0Rm9sZGVyLFxuICAgICAgZGlyZWN0b3JpZXM6IHRoaXMucGx1Z2luLmdldFBsdWdpblN0YXRlKCkuZGlyZWN0b3JpZXMsXG4gICAgICBwbHVnaW5JY29uOiB0aGlzLnBsdWdpbi5pY29uLFxuICAgICAgdGl0bGU6IHRoaXMucGx1Z2luLnRpdGxlLFxuICAgICAgbG9nb3V0OiB0aGlzLmxvZ291dCxcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLFxuICAgICAgaTE4blxuICAgIH07XG4gICAgY29uc3QgYnJvd3NlclByb3BzID0ge1xuICAgICAgaXNDaGVja2VkLFxuICAgICAgdG9nZ2xlQ2hlY2tib3gsXG4gICAgICByZWNvcmRTaGlmdEtleVByZXNzLFxuICAgICAgY3VycmVudFNlbGVjdGlvbixcbiAgICAgIGZpbGVzOiBoYXNJbnB1dCA/IGZpbHRlckl0ZW1zKGZpbGVzKSA6IGZpbGVzLFxuICAgICAgZm9sZGVyczogaGFzSW5wdXQgPyBmaWx0ZXJJdGVtcyhmb2xkZXJzKSA6IGZvbGRlcnMsXG4gICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSxcbiAgICAgIGdldE5leHRGb2xkZXI6IHRoaXMuZ2V0TmV4dEZvbGRlcixcbiAgICAgIGdldEZvbGRlcjogdGhpcy5nZXRGb2xkZXIsXG4gICAgICAvLyBGb3IgU2VhcmNoRmlsdGVySW5wdXQgY29tcG9uZW50XG4gICAgICBzaG93U2VhcmNoRmlsdGVyOiB0YXJnZXRWaWV3T3B0aW9ucy5zaG93RmlsdGVyLFxuICAgICAgc2VhcmNoOiB0aGlzLmZpbHRlclF1ZXJ5LFxuICAgICAgY2xlYXJTZWFyY2g6IHRoaXMuY2xlYXJGaWx0ZXIsXG4gICAgICBzZWFyY2hUZXJtOiBmaWx0ZXJJbnB1dCxcbiAgICAgIHNlYXJjaE9uSW5wdXQ6IHRydWUsXG4gICAgICBzZWFyY2hJbnB1dExhYmVsOiBpMThuKCdmaWx0ZXInKSxcbiAgICAgIGNsZWFyU2VhcmNoTGFiZWw6IGkxOG4oJ3Jlc2V0RmlsdGVyJyksXG4gICAgICBub1Jlc3VsdHNMYWJlbDogaTE4bignbm9GaWxlc0ZvdW5kJyksXG4gICAgICBsb2dvdXQ6IHRoaXMubG9nb3V0LFxuICAgICAgaGFuZGxlU2Nyb2xsOiB0aGlzLmhhbmRsZVNjcm9sbCxcbiAgICAgIGRvbmU6IHRoaXMuZG9uZVBpY2tpbmcsXG4gICAgICBjYW5jZWw6IHRoaXMuY2FuY2VsUGlja2luZyxcbiAgICAgIGhlYWRlckNvbXBvbmVudDogSGVhZGVyKGhlYWRlclByb3BzKSxcbiAgICAgIHRpdGxlOiB0aGlzLnBsdWdpbi50aXRsZSxcbiAgICAgIHZpZXdUeXBlOiB0YXJnZXRWaWV3T3B0aW9ucy52aWV3VHlwZSxcbiAgICAgIHNob3dUaXRsZXM6IHRhcmdldFZpZXdPcHRpb25zLnNob3dUaXRsZXMsXG4gICAgICBzaG93QnJlYWRjcnVtYnM6IHRhcmdldFZpZXdPcHRpb25zLnNob3dCcmVhZGNydW1icyxcbiAgICAgIHBsdWdpbkljb246IHRoaXMucGx1Z2luLmljb24sXG4gICAgICBpMThuOiB0aGlzLnBsdWdpbi51cHB5LmkxOG4sXG4gICAgICB1cHB5RmlsZXM6IHRoaXMucGx1Z2luLnVwcHkuZ2V0RmlsZXMoKSxcbiAgICAgIHZhbGlkYXRlUmVzdHJpY3Rpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5wbHVnaW4udXBweS52YWxpZGF0ZVJlc3RyaWN0aW9ucyguLi5hcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAobG9hZGluZykge1xuICAgICAgcmV0dXJuIGgoQ2xvc2VXcmFwcGVyLCB7XG4gICAgICAgIG9uVW5tb3VudDogdGhpcy5jbGVhclNlbGVjdGlvblxuICAgICAgfSwgaChMb2FkZXJWaWV3LCB7XG4gICAgICAgIGkxOG46IHRoaXMucGx1Z2luLnVwcHkuaTE4blxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIGlmICghYXV0aGVudGljYXRlZCkge1xuICAgICAgcmV0dXJuIGgoQ2xvc2VXcmFwcGVyLCB7XG4gICAgICAgIG9uVW5tb3VudDogdGhpcy5jbGVhclNlbGVjdGlvblxuICAgICAgfSwgaChBdXRoVmlldywge1xuICAgICAgICBwbHVnaW5OYW1lOiB0aGlzLnBsdWdpbi50aXRsZSxcbiAgICAgICAgcGx1Z2luSWNvbjogdGhpcy5wbHVnaW4uaWNvbixcbiAgICAgICAgaGFuZGxlQXV0aDogdGhpcy5oYW5kbGVBdXRoLFxuICAgICAgICBpMThuOiB0aGlzLnBsdWdpbi51cHB5LmkxOG4sXG4gICAgICAgIGkxOG5BcnJheTogdGhpcy5wbHVnaW4udXBweS5pMThuQXJyYXlcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaChDbG9zZVdyYXBwZXIsIHtcbiAgICAgIG9uVW5tb3VudDogdGhpcy5jbGVhclNlbGVjdGlvblxuICAgIH0sIGgoQnJvd3NlciwgYnJvd3NlclByb3BzKSk7XG4gIH1cblxufVxuXG5mdW5jdGlvbiBfdXBkYXRlRmlsZXNBbmRGb2xkZXJzMihyZXMsIGZpbGVzLCBmb2xkZXJzKSB7XG4gIHRoaXMubmV4dFBhZ2VQYXRoID0gcmVzLm5leHRQYWdlUGF0aDtcbiAgcmVzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgaWYgKGl0ZW0uaXNGb2xkZXIpIHtcbiAgICAgIGZvbGRlcnMucHVzaChpdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlsZXMucHVzaChpdGVtKTtcbiAgICB9XG4gIH0pO1xuICB0aGlzLnBsdWdpbi5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgZm9sZGVycyxcbiAgICBmaWxlc1xuICB9KTtcbn1cblxuUHJvdmlkZXJWaWV3LlZFUlNJT04gPSBwYWNrYWdlSnNvbi52ZXJzaW9uOyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuZXhwb3J0IGRlZmF1bHQgKF9yZWYgPT4ge1xuICBsZXQge1xuICAgIGkxOG4sXG4gICAgbG9nb3V0LFxuICAgIHVzZXJuYW1lXG4gIH0gPSBfcmVmO1xuICByZXR1cm4gW2goXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1Qcm92aWRlckJyb3dzZXItdXNlclwiLFxuICAgIGtleTogXCJ1c2VybmFtZVwiXG4gIH0sIHVzZXJuYW1lKSwgaChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBvbkNsaWNrOiBsb2dvdXQsXG4gICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LWMtYnRuIHVwcHktUHJvdmlkZXJCcm93c2VyLXVzZXJMb2dvdXRcIixcbiAgICBrZXk6IFwibG9nb3V0XCJcbiAgfSwgaTE4bignbG9nT3V0JykpXTtcbn0pOyIsImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tIFwiLi9Qcm92aWRlclZpZXcuanNcIjsiLCJpbXBvcnQgeyBoLCBGcmFnbWVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3ByZWFjdC9ob29rcyc7XG5pbXBvcnQgeyBuYW5vaWQgfSBmcm9tICduYW5vaWQvbm9uLXNlY3VyZSc7IC8vIGltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2guZGVib3VuY2UnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNlYXJjaEZpbHRlcklucHV0KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBzZWFyY2gsXG4gICAgc2VhcmNoT25JbnB1dCxcbiAgICBzZWFyY2hUZXJtLFxuICAgIHNob3dCdXR0b24sXG4gICAgaW5wdXRMYWJlbCxcbiAgICBjbGVhclNlYXJjaExhYmVsLFxuICAgIGJ1dHRvbkxhYmVsLFxuICAgIGNsZWFyU2VhcmNoLFxuICAgIGlucHV0Q2xhc3NOYW1lLFxuICAgIGJ1dHRvbkNTU0NsYXNzTmFtZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IFtzZWFyY2hUZXh0LCBzZXRTZWFyY2hUZXh0XSA9IHVzZVN0YXRlKHNlYXJjaFRlcm0gIT0gbnVsbCA/IHNlYXJjaFRlcm0gOiAnJyk7IC8vIGNvbnN0IGRlYm91bmNlZFNlYXJjaCA9IGRlYm91bmNlKChxKSA9PiBzZWFyY2gocSksIDEwMDApXG5cbiAgY29uc3QgdmFsaWRhdGVBbmRTZWFyY2ggPSB1c2VDYWxsYmFjayhldiA9PiB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBzZWFyY2goc2VhcmNoVGV4dCk7XG4gIH0sIFtzZWFyY2gsIHNlYXJjaFRleHRdKTtcbiAgY29uc3QgaGFuZGxlSW5wdXQgPSB1c2VDYWxsYmFjayhldiA9PiB7XG4gICAgY29uc3QgaW5wdXRWYWx1ZSA9IGV2LnRhcmdldC52YWx1ZTtcbiAgICBzZXRTZWFyY2hUZXh0KGlucHV0VmFsdWUpO1xuICAgIGlmIChzZWFyY2hPbklucHV0KSBzZWFyY2goaW5wdXRWYWx1ZSk7XG4gIH0sIFtzZXRTZWFyY2hUZXh0LCBzZWFyY2hPbklucHV0LCBzZWFyY2hdKTtcblxuICBjb25zdCBoYW5kbGVSZXNldCA9ICgpID0+IHtcbiAgICBzZXRTZWFyY2hUZXh0KCcnKTtcbiAgICBpZiAoY2xlYXJTZWFyY2gpIGNsZWFyU2VhcmNoKCk7XG4gIH07XG5cbiAgY29uc3QgW2Zvcm1dID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgIGNvbnN0IGZvcm1FbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICBmb3JtRWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgIGZvcm1FbC5pZCA9IG5hbm9pZCgpO1xuICAgIHJldHVybiBmb3JtRWw7XG4gIH0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB2YWxpZGF0ZUFuZFNlYXJjaCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdmFsaWRhdGVBbmRTZWFyY2gpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChmb3JtKTtcbiAgICB9O1xuICB9LCBbZm9ybSwgdmFsaWRhdGVBbmRTZWFyY2hdKTtcbiAgcmV0dXJuIGgoRnJhZ21lbnQsIG51bGwsIGgoXCJpbnB1dFwiLCB7XG4gICAgY2xhc3NOYW1lOiBgdXBweS11LXJlc2V0ICR7aW5wdXRDbGFzc05hbWV9YCxcbiAgICB0eXBlOiBcInNlYXJjaFwiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBpbnB1dExhYmVsLFxuICAgIHBsYWNlaG9sZGVyOiBpbnB1dExhYmVsLFxuICAgIHZhbHVlOiBzZWFyY2hUZXh0LFxuICAgIG9uSW5wdXQ6IGhhbmRsZUlucHV0LFxuICAgIGZvcm06IGZvcm0uaWQsXG4gICAgXCJkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXCI6IHRydWVcbiAgfSksICFzaG93QnV0dG9uICYmIGgoXCJzdmdcIiwge1xuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgY2xhc3M6IFwidXBweS1jLWljb24gdXBweS1Qcm92aWRlckJyb3dzZXItc2VhcmNoRmlsdGVySWNvblwiLFxuICAgIHdpZHRoOiBcIjEyXCIsXG4gICAgaGVpZ2h0OiBcIjEyXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTIgMTJcIlxuICB9LCBoKFwicGF0aFwiLCB7XG4gICAgZDogXCJNOC42MzggNy45OWwzLjE3MiAzLjE3MmEuNDkyLjQ5MiAwIDEgMS0uNjk3LjY5N0w3LjkxIDguNjU2YTQuOTc3IDQuOTc3IDAgMCAxLTIuOTgzLjk4M0MyLjIwNiA5LjYzOSAwIDcuNDgxIDAgNC44MTkgMCAyLjE1OCAyLjIwNiAwIDQuOTI3IDBjMi43MjEgMCA0LjkyNyAyLjE1OCA0LjkyNyA0LjgyYTQuNzQgNC43NCAwIDAgMS0xLjIxNiAzLjE3em0tMy43MS42ODVjMi4xNzYgMCAzLjk0LTEuNzI2IDMuOTQtMy44NTYgMC0yLjEyOS0xLjc2NC0zLjg1NS0zLjk0LTMuODU1QzIuNzUuOTY0Ljk4NCAyLjY5Ljk4NCA0LjgxOWMwIDIuMTMgMS43NjUgMy44NTYgMy45NDIgMy44NTZ6XCJcbiAgfSkpLCAhc2hvd0J1dHRvbiAmJiBzZWFyY2hUZXh0ICYmIGgoXCJidXR0b25cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LXUtcmVzZXQgdXBweS1Qcm92aWRlckJyb3dzZXItc2VhcmNoRmlsdGVyUmVzZXRcIixcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBjbGVhclNlYXJjaExhYmVsLFxuICAgIHRpdGxlOiBjbGVhclNlYXJjaExhYmVsLFxuICAgIG9uQ2xpY2s6IGhhbmRsZVJlc2V0XG4gIH0sIGgoXCJzdmdcIiwge1xuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTkgMTlcIlxuICB9LCBoKFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTcuMzE4IDE3LjIzMkw5Ljk0IDkuODU0IDkuNTg2IDkuNWwtLjM1NC4zNTQtNy4zNzggNy4zNzhoLjcwN2wtLjYyLS42MnYuNzA2TDkuMzE4IDkuOTRsLjM1NC0uMzU0LS4zNTQtLjM1NEwxLjk0IDEuODU0di43MDdsLjYyLS42MmgtLjcwNmw3LjM3OCA3LjM3OC4zNTQuMzU0LjM1NC0uMzU0IDcuMzc4LTcuMzc4aC0uNzA3bC42MjIuNjJ2LS43MDZMOS44NTQgOS4yMzJsLS4zNTQuMzU0LjM1NC4zNTQgNy4zNzggNy4zNzguNzA4LS43MDctNy4zOC03LjM3OHYuNzA4bDcuMzgtNy4zOC4zNTMtLjM1My0uMzUzLS4zNTMtLjYyMi0uNjIyLS4zNTMtLjM1My0uMzU0LjM1Mi03LjM3OCA3LjM4aC43MDhMMi41NiAxLjIzIDIuMjA4Ljg4bC0uMzUzLjM1My0uNjIyLjYyLS4zNTMuMzU1LjM1Mi4zNTMgNy4zOCA3LjM4di0uNzA4bC03LjM4IDcuMzgtLjM1My4zNTMuMzUyLjM1My42MjIuNjIyLjM1My4zNTMuMzU0LS4zNTMgNy4zOC03LjM4aC0uNzA4bDcuMzggNy4zOHpcIlxuICB9KSkpLCBzaG93QnV0dG9uICYmIGgoXCJidXR0b25cIiwge1xuICAgIGNsYXNzTmFtZTogYHVwcHktdS1yZXNldCB1cHB5LWMtYnRuIHVwcHktYy1idG4tcHJpbWFyeSAke2J1dHRvbkNTU0NsYXNzTmFtZX1gLFxuICAgIHR5cGU6IFwic3VibWl0XCIsXG4gICAgZm9ybTogZm9ybS5pZFxuICB9LCBidXR0b25MYWJlbCkpO1xufSIsImZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShyZWNlaXZlciwgcHJpdmF0ZUtleSkgeyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZWNlaXZlciwgcHJpdmF0ZUtleSkpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byB1c2UgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7IH0gcmV0dXJuIHJlY2VpdmVyOyB9XG5cbnZhciBpZCA9IDA7XG5cbmZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KG5hbWUpIHsgcmV0dXJuIFwiX19wcml2YXRlX1wiICsgaWQrKyArIFwiX1wiICsgbmFtZTsgfVxuXG5pbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBTZWFyY2hGaWx0ZXJJbnB1dCBmcm9tIFwiLi4vU2VhcmNoRmlsdGVySW5wdXQuanNcIjtcbmltcG9ydCBCcm93c2VyIGZyb20gXCIuLi9Ccm93c2VyLmpzXCI7XG5pbXBvcnQgQ2xvc2VXcmFwcGVyIGZyb20gJy4uL0Nsb3NlV3JhcHBlci5qcyc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi9WaWV3LmpzJztcbmNvbnN0IHBhY2thZ2VKc29uID0ge1xuICBcInZlcnNpb25cIjogXCIzLjIuMFwiXG59O1xuLyoqXG4gKiBTZWFyY2hQcm92aWRlclZpZXcsIHVzZWQgZm9yIFVuc3BsYXNoIGFuZCBmdXR1cmUgaW1hZ2Ugc2VhcmNoIHByb3ZpZGVycy5cbiAqIEV4dGVuZHMgZ2VuZXJpYyBWaWV3LCBzaGFyZWQgd2l0aCByZWd1bGFyIHByb3ZpZGVycyBsaWtlIEdvb2dsZSBEcml2ZSBhbmQgSW5zdGFncmFtLlxuICovXG5cbnZhciBfdXBkYXRlRmlsZXNBbmRJbnB1dE1vZGUgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJ1cGRhdGVGaWxlc0FuZElucHV0TW9kZVwiKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VhcmNoUHJvdmlkZXJWaWV3IGV4dGVuZHMgVmlldyB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGx1Z2luIGluc3RhbmNlIG9mIHRoZSBwbHVnaW5cbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdHNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHBsdWdpbiwgb3B0cykge1xuICAgIHN1cGVyKHBsdWdpbiwgb3B0cyk7IC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfdXBkYXRlRmlsZXNBbmRJbnB1dE1vZGUsIHtcbiAgICAgIHZhbHVlOiBfdXBkYXRlRmlsZXNBbmRJbnB1dE1vZGUyXG4gICAgfSk7XG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICB2aWV3VHlwZTogJ2dyaWQnLFxuICAgICAgc2hvd1RpdGxlczogZmFsc2UsXG4gICAgICBzaG93RmlsdGVyOiBmYWxzZSxcbiAgICAgIHNob3dCcmVhZGNydW1iczogZmFsc2VcbiAgICB9OyAvLyBtZXJnZSBkZWZhdWx0IG9wdGlvbnMgd2l0aCB0aGUgb25lcyBzZXQgYnkgdXNlclxuXG4gICAgdGhpcy5vcHRzID0geyAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIC4uLm9wdHNcbiAgICB9OyAvLyBMb2dpY1xuXG4gICAgdGhpcy5zZWFyY2ggPSB0aGlzLnNlYXJjaC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2xlYXJTZWFyY2ggPSB0aGlzLmNsZWFyU2VhcmNoLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZXNldFBsdWdpblN0YXRlID0gdGhpcy5yZXNldFBsdWdpblN0YXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVTY3JvbGwgPSB0aGlzLmhhbmRsZVNjcm9sbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZG9uZVBpY2tpbmcgPSB0aGlzLmRvbmVQaWNraW5nLmJpbmQodGhpcyk7IC8vIFZpc3VhbFxuXG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLnJlbmRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVmYXVsdFN0YXRlID0ge1xuICAgICAgaXNJbnB1dE1vZGU6IHRydWUsXG4gICAgICBmaWxlczogW10sXG4gICAgICBmb2xkZXJzOiBbXSxcbiAgICAgIGRpcmVjdG9yaWVzOiBbXSxcbiAgICAgIGZpbHRlcklucHV0OiAnJyxcbiAgICAgIGN1cnJlbnRTZWxlY3Rpb246IFtdLFxuICAgICAgc2VhcmNoVGVybTogbnVsbFxuICAgIH07IC8vIFNldCBkZWZhdWx0IHN0YXRlIGZvciB0aGUgcGx1Z2luXG5cbiAgICB0aGlzLnBsdWdpbi5zZXRQbHVnaW5TdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcblxuXG4gIHRlYXJEb3duKCkgey8vIE5vdGhpbmcuXG4gIH1cblxuICByZXNldFBsdWdpblN0YXRlKCkge1xuICAgIHRoaXMucGx1Z2luLnNldFBsdWdpblN0YXRlKHRoaXMuZGVmYXVsdFN0YXRlKTtcbiAgfVxuXG4gIGFzeW5jIHNlYXJjaChxdWVyeSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNlYXJjaFRlcm1cbiAgICB9ID0gdGhpcy5wbHVnaW4uZ2V0UGx1Z2luU3RhdGUoKTtcblxuICAgIGlmIChxdWVyeSAmJiBxdWVyeSA9PT0gc2VhcmNoVGVybSkge1xuICAgICAgLy8gbm8gbmVlZCB0byBzZWFyY2ggYWdhaW4gYXMgdGhpcyBpcyB0aGUgc2FtZSBhcyB0aGUgcHJldmlvdXMgc2VhcmNoXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRMb2FkaW5nKHRydWUpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMucHJvdmlkZXIuc2VhcmNoKHF1ZXJ5KTtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF91cGRhdGVGaWxlc0FuZElucHV0TW9kZSlbX3VwZGF0ZUZpbGVzQW5kSW5wdXRNb2RlXShyZXMsIFtdKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBjbGVhclNlYXJjaCgpIHtcbiAgICB0aGlzLnBsdWdpbi5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgICBjdXJyZW50U2VsZWN0aW9uOiBbXSxcbiAgICAgIGZpbGVzOiBbXSxcbiAgICAgIHNlYXJjaFRlcm06IG51bGxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGhhbmRsZVNjcm9sbChldmVudCkge1xuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5uZXh0UGFnZVF1ZXJ5IHx8IG51bGw7XG5cbiAgICBpZiAodGhpcy5zaG91bGRIYW5kbGVTY3JvbGwoZXZlbnQpICYmIHF1ZXJ5KSB7XG4gICAgICB0aGlzLmlzSGFuZGxpbmdTY3JvbGwgPSB0cnVlO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgZmlsZXMsXG4gICAgICAgICAgc2VhcmNoVGVybVxuICAgICAgICB9ID0gdGhpcy5wbHVnaW4uZ2V0UGx1Z2luU3RhdGUoKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnByb3ZpZGVyLnNlYXJjaChzZWFyY2hUZXJtLCBxdWVyeSk7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF91cGRhdGVGaWxlc0FuZElucHV0TW9kZSlbX3VwZGF0ZUZpbGVzQW5kSW5wdXRNb2RlXShyZXNwb25zZSwgZmlsZXMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0aGlzLmlzSGFuZGxpbmdTY3JvbGwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkb25lUGlja2luZygpIHtcbiAgICBjb25zdCB7XG4gICAgICBjdXJyZW50U2VsZWN0aW9uXG4gICAgfSA9IHRoaXMucGx1Z2luLmdldFBsdWdpblN0YXRlKCk7XG4gICAgdGhpcy5wbHVnaW4udXBweS5sb2coJ0FkZGluZyByZW1vdGUgc2VhcmNoIHByb3ZpZGVyIGZpbGVzJyk7XG4gICAgdGhpcy5wbHVnaW4udXBweS5hZGRGaWxlcyhjdXJyZW50U2VsZWN0aW9uLm1hcChmaWxlID0+IHRoaXMuZ2V0VGFnRmlsZShmaWxlKSkpO1xuICAgIHRoaXMucmVzZXRQbHVnaW5TdGF0ZSgpO1xuICB9XG5cbiAgcmVuZGVyKHN0YXRlLCB2aWV3T3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodmlld09wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgdmlld09wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBkaWRGaXJzdFJlbmRlcixcbiAgICAgIGlzSW5wdXRNb2RlLFxuICAgICAgc2VhcmNoVGVybVxuICAgIH0gPSB0aGlzLnBsdWdpbi5nZXRQbHVnaW5TdGF0ZSgpO1xuICAgIGNvbnN0IHtcbiAgICAgIGkxOG5cbiAgICB9ID0gdGhpcy5wbHVnaW4udXBweTtcblxuICAgIGlmICghZGlkRmlyc3RSZW5kZXIpIHtcbiAgICAgIHRoaXMucHJlRmlyc3RSZW5kZXIoKTtcbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXRWaWV3T3B0aW9ucyA9IHsgLi4udGhpcy5vcHRzLFxuICAgICAgLi4udmlld09wdGlvbnNcbiAgICB9O1xuICAgIGNvbnN0IHtcbiAgICAgIGZpbGVzLFxuICAgICAgZm9sZGVycyxcbiAgICAgIGZpbHRlcklucHV0LFxuICAgICAgbG9hZGluZyxcbiAgICAgIGN1cnJlbnRTZWxlY3Rpb25cbiAgICB9ID0gdGhpcy5wbHVnaW4uZ2V0UGx1Z2luU3RhdGUoKTtcbiAgICBjb25zdCB7XG4gICAgICBpc0NoZWNrZWQsXG4gICAgICB0b2dnbGVDaGVja2JveCxcbiAgICAgIGZpbHRlckl0ZW1zXG4gICAgfSA9IHRoaXM7XG4gICAgY29uc3QgaGFzSW5wdXQgPSBmaWx0ZXJJbnB1dCAhPT0gJyc7XG4gICAgY29uc3QgYnJvd3NlclByb3BzID0ge1xuICAgICAgaXNDaGVja2VkLFxuICAgICAgdG9nZ2xlQ2hlY2tib3gsXG4gICAgICBjdXJyZW50U2VsZWN0aW9uLFxuICAgICAgZmlsZXM6IGhhc0lucHV0ID8gZmlsdGVySXRlbXMoZmlsZXMpIDogZmlsZXMsXG4gICAgICBmb2xkZXJzOiBoYXNJbnB1dCA/IGZpbHRlckl0ZW1zKGZvbGRlcnMpIDogZm9sZGVycyxcbiAgICAgIGhhbmRsZVNjcm9sbDogdGhpcy5oYW5kbGVTY3JvbGwsXG4gICAgICBkb25lOiB0aGlzLmRvbmVQaWNraW5nLFxuICAgICAgY2FuY2VsOiB0aGlzLmNhbmNlbFBpY2tpbmcsXG4gICAgICAvLyBGb3IgU2VhcmNoRmlsdGVySW5wdXQgY29tcG9uZW50XG4gICAgICBzaG93U2VhcmNoRmlsdGVyOiB0YXJnZXRWaWV3T3B0aW9ucy5zaG93RmlsdGVyLFxuICAgICAgc2VhcmNoOiB0aGlzLnNlYXJjaCxcbiAgICAgIGNsZWFyU2VhcmNoOiB0aGlzLmNsZWFyU2VhcmNoLFxuICAgICAgc2VhcmNoVGVybSxcbiAgICAgIHNlYXJjaE9uSW5wdXQ6IGZhbHNlLFxuICAgICAgc2VhcmNoSW5wdXRMYWJlbDogaTE4bignc2VhcmNoJyksXG4gICAgICBjbGVhclNlYXJjaExhYmVsOiBpMThuKCdyZXNldFNlYXJjaCcpLFxuICAgICAgbm9SZXN1bHRzTGFiZWw6IGkxOG4oJ25vU2VhcmNoUmVzdWx0cycpLFxuICAgICAgdGl0bGU6IHRoaXMucGx1Z2luLnRpdGxlLFxuICAgICAgdmlld1R5cGU6IHRhcmdldFZpZXdPcHRpb25zLnZpZXdUeXBlLFxuICAgICAgc2hvd1RpdGxlczogdGFyZ2V0Vmlld09wdGlvbnMuc2hvd1RpdGxlcyxcbiAgICAgIHNob3dGaWx0ZXI6IHRhcmdldFZpZXdPcHRpb25zLnNob3dGaWx0ZXIsXG4gICAgICBpc0xvYWRpbmc6IGxvYWRpbmcsXG4gICAgICBzaG93QnJlYWRjcnVtYnM6IHRhcmdldFZpZXdPcHRpb25zLnNob3dCcmVhZGNydW1icyxcbiAgICAgIHBsdWdpbkljb246IHRoaXMucGx1Z2luLmljb24sXG4gICAgICBpMThuLFxuICAgICAgdXBweUZpbGVzOiB0aGlzLnBsdWdpbi51cHB5LmdldEZpbGVzKCksXG4gICAgICB2YWxpZGF0ZVJlc3RyaWN0aW9uczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMucGx1Z2luLnVwcHkudmFsaWRhdGVSZXN0cmljdGlvbnMoLi4uYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGlzSW5wdXRNb2RlKSB7XG4gICAgICByZXR1cm4gaChDbG9zZVdyYXBwZXIsIHtcbiAgICAgICAgb25Vbm1vdW50OiB0aGlzLnJlc2V0UGx1Z2luU3RhdGVcbiAgICAgIH0sIGgoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwidXBweS1TZWFyY2hQcm92aWRlclwiXG4gICAgICB9LCBoKFNlYXJjaEZpbHRlcklucHV0LCB7XG4gICAgICAgIHNlYXJjaDogdGhpcy5zZWFyY2gsXG4gICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLFxuICAgICAgICBpbnB1dExhYmVsOiBpMThuKCdlbnRlclRleHRUb1NlYXJjaCcpLFxuICAgICAgICBidXR0b25MYWJlbDogaTE4bignc2VhcmNoSW1hZ2VzJyksXG4gICAgICAgIGlucHV0Q2xhc3NOYW1lOiBcInVwcHktYy10ZXh0SW5wdXQgdXBweS1TZWFyY2hQcm92aWRlci1pbnB1dFwiLFxuICAgICAgICBidXR0b25DU1NDbGFzc05hbWU6IFwidXBweS1TZWFyY2hQcm92aWRlci1zZWFyY2hCdXR0b25cIixcbiAgICAgICAgc2hvd0J1dHRvbjogdHJ1ZVxuICAgICAgfSkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaChDbG9zZVdyYXBwZXIsIHtcbiAgICAgIG9uVW5tb3VudDogdGhpcy5yZXNldFBsdWdpblN0YXRlXG4gICAgfSwgaChCcm93c2VyLCBicm93c2VyUHJvcHMpKTtcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIF91cGRhdGVGaWxlc0FuZElucHV0TW9kZTIocmVzLCBmaWxlcykge1xuICB0aGlzLm5leHRQYWdlUXVlcnkgPSByZXMubmV4dFBhZ2VRdWVyeTtcbiAgcmVzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgZmlsZXMucHVzaChpdGVtKTtcbiAgfSk7XG4gIHRoaXMucGx1Z2luLnNldFBsdWdpblN0YXRlKHtcbiAgICBjdXJyZW50U2VsZWN0aW9uOiBbXSxcbiAgICBpc0lucHV0TW9kZTogZmFsc2UsXG4gICAgZmlsZXMsXG4gICAgc2VhcmNoVGVybTogcmVzLnNlYXJjaGVkRm9yXG4gIH0pO1xufVxuXG5TZWFyY2hQcm92aWRlclZpZXcuVkVSU0lPTiA9IHBhY2thZ2VKc29uLnZlcnNpb247IiwiZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gXCIuL1NlYXJjaFByb3ZpZGVyVmlldy5qc1wiOyIsImltcG9ydCBnZXRGaWxlVHlwZSBmcm9tICdAdXBweS91dGlscy9saWIvZ2V0RmlsZVR5cGUnO1xuaW1wb3J0IGlzUHJldmlld1N1cHBvcnRlZCBmcm9tICdAdXBweS91dGlscy9saWIvaXNQcmV2aWV3U3VwcG9ydGVkJztcbmltcG9ydCByZW1vdGVGaWxlT2JqVG9Mb2NhbCBmcm9tICdAdXBweS91dGlscy9saWIvcmVtb3RlRmlsZU9ialRvTG9jYWwnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlldyB7XG4gIGNvbnN0cnVjdG9yKHBsdWdpbiwgb3B0cykge1xuICAgIHRoaXMuZmlsdGVySXRlbXMgPSBpdGVtcyA9PiB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGx1Z2luLmdldFBsdWdpblN0YXRlKCk7XG5cbiAgICAgIGlmICghc3RhdGUuZmlsdGVySW5wdXQgfHwgc3RhdGUuZmlsdGVySW5wdXQgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGl0ZW1zLmZpbHRlcihmb2xkZXIgPT4ge1xuICAgICAgICByZXR1cm4gZm9sZGVyLm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHN0YXRlLmZpbHRlcklucHV0LnRvTG93ZXJDYXNlKCkpICE9PSAtMTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnJlY29yZFNoaWZ0S2V5UHJlc3MgPSBlID0+IHtcbiAgICAgIHRoaXMuaXNTaGlmdEtleVByZXNzZWQgPSBlLnNoaWZ0S2V5O1xuICAgIH07XG5cbiAgICB0aGlzLnRvZ2dsZUNoZWNrYm94ID0gKGUsIGZpbGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLmN1cnJlbnRUYXJnZXQuZm9jdXMoKTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZm9sZGVycyxcbiAgICAgICAgZmlsZXNcbiAgICAgIH0gPSB0aGlzLnBsdWdpbi5nZXRQbHVnaW5TdGF0ZSgpO1xuICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLmZpbHRlckl0ZW1zKGZvbGRlcnMuY29uY2F0KGZpbGVzKSk7IC8vIFNoaWZ0LWNsaWNraW5nIHNlbGVjdHMgYSBzaW5nbGUgY29uc2VjdXRpdmUgbGlzdCBvZiBpdGVtc1xuICAgICAgLy8gc3RhcnRpbmcgYXQgdGhlIHByZXZpb3VzIGNsaWNrIGFuZCBkZXNlbGVjdHMgZXZlcnl0aGluZyBlbHNlLlxuXG4gICAgICBpZiAodGhpcy5sYXN0Q2hlY2tib3ggJiYgdGhpcy5pc1NoaWZ0S2V5UHJlc3NlZCkge1xuICAgICAgICBjb25zdCBwcmV2SW5kZXggPSBpdGVtcy5pbmRleE9mKHRoaXMubGFzdENoZWNrYm94KTtcbiAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gaXRlbXMuaW5kZXhPZihmaWxlKTtcbiAgICAgICAgY29uc3QgY3VycmVudFNlbGVjdGlvbiA9IHByZXZJbmRleCA8IGN1cnJlbnRJbmRleCA/IGl0ZW1zLnNsaWNlKHByZXZJbmRleCwgY3VycmVudEluZGV4ICsgMSkgOiBpdGVtcy5zbGljZShjdXJyZW50SW5kZXgsIHByZXZJbmRleCArIDEpO1xuICAgICAgICBjb25zdCByZWR1Y2VkQ3VycmVudFNlbGVjdGlvbiA9IFtdOyAvLyBDaGVjayByZXN0cmljdGlvbnMgb24gZWFjaCBmaWxlIGluIGN1cnJlbnRTZWxlY3Rpb24sXG4gICAgICAgIC8vIHJlZHVjZSBpdCB0byBvbmx5IGNvbnRhaW4gZmlsZXMgdGhhdCBwYXNzIHJlc3RyaWN0aW9uc1xuXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBjdXJyZW50U2VsZWN0aW9uKSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgdXBweVxuICAgICAgICAgIH0gPSB0aGlzLnBsdWdpbjtcbiAgICAgICAgICBjb25zdCByZXN0cmljdGlvbkVycm9yID0gdXBweS52YWxpZGF0ZVJlc3RyaWN0aW9ucyhyZW1vdGVGaWxlT2JqVG9Mb2NhbChpdGVtKSwgWy4uLnVwcHkuZ2V0RmlsZXMoKSwgLi4ucmVkdWNlZEN1cnJlbnRTZWxlY3Rpb25dKTtcblxuICAgICAgICAgIGlmICghcmVzdHJpY3Rpb25FcnJvcikge1xuICAgICAgICAgICAgcmVkdWNlZEN1cnJlbnRTZWxlY3Rpb24ucHVzaChpdGVtKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXBweS5pbmZvKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzdHJpY3Rpb25FcnJvci5tZXNzYWdlXG4gICAgICAgICAgICB9LCAnZXJyb3InLCB1cHB5Lm9wdHMuaW5mb1RpbWVvdXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGx1Z2luLnNldFBsdWdpblN0YXRlKHtcbiAgICAgICAgICBjdXJyZW50U2VsZWN0aW9uOiByZWR1Y2VkQ3VycmVudFNlbGVjdGlvblxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxhc3RDaGVja2JveCA9IGZpbGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGN1cnJlbnRTZWxlY3Rpb25cbiAgICAgIH0gPSB0aGlzLnBsdWdpbi5nZXRQbHVnaW5TdGF0ZSgpO1xuXG4gICAgICBpZiAodGhpcy5pc0NoZWNrZWQoZmlsZSkpIHtcbiAgICAgICAgdGhpcy5wbHVnaW4uc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICAgIGN1cnJlbnRTZWxlY3Rpb246IGN1cnJlbnRTZWxlY3Rpb24uZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPT0gZmlsZS5pZClcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBsdWdpbi5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgICAgICAgY3VycmVudFNlbGVjdGlvbjogY3VycmVudFNlbGVjdGlvbi5jb25jYXQoW2ZpbGVdKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5pc0NoZWNrZWQgPSBmaWxlID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY3VycmVudFNlbGVjdGlvblxuICAgICAgfSA9IHRoaXMucGx1Z2luLmdldFBsdWdpblN0YXRlKCk7IC8vIGNvbXBhcmluZyBpZCBpbnN0ZWFkIG9mIHRoZSBmaWxlIG9iamVjdCwgYmVjYXVzZSB0aGUgcmVmZXJlbmNlIHRvIHRoZSBvYmplY3RcbiAgICAgIC8vIGNoYW5nZXMgd2hlbiB3ZSBzd2l0Y2ggZm9sZGVycywgYW5kIHRoZSBmaWxlIGxpc3QgaXMgdXBkYXRlZFxuXG4gICAgICByZXR1cm4gY3VycmVudFNlbGVjdGlvbi5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gZmlsZS5pZCk7XG4gICAgfTtcblxuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIHRoaXMucHJvdmlkZXIgPSBvcHRzLnByb3ZpZGVyO1xuICAgIHRoaXMuaXNIYW5kbGluZ1Njcm9sbCA9IGZhbHNlO1xuICAgIHRoaXMucHJlRmlyc3RSZW5kZXIgPSB0aGlzLnByZUZpcnN0UmVuZGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVFcnJvciA9IHRoaXMuaGFuZGxlRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNsZWFyU2VsZWN0aW9uID0gdGhpcy5jbGVhclNlbGVjdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2FuY2VsUGlja2luZyA9IHRoaXMuY2FuY2VsUGlja2luZy5iaW5kKHRoaXMpO1xuICB9XG5cbiAgcHJlRmlyc3RSZW5kZXIoKSB7XG4gICAgdGhpcy5wbHVnaW4uc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgZGlkRmlyc3RSZW5kZXI6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLnBsdWdpbi5vbkZpcnN0UmVuZGVyKCk7XG4gIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcblxuXG4gIHNob3VsZEhhbmRsZVNjcm9sbChldmVudCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbEhlaWdodCxcbiAgICAgIHNjcm9sbFRvcCxcbiAgICAgIG9mZnNldEhlaWdodFxuICAgIH0gPSBldmVudC50YXJnZXQ7XG4gICAgY29uc3Qgc2Nyb2xsUG9zaXRpb24gPSBzY3JvbGxIZWlnaHQgLSAoc2Nyb2xsVG9wICsgb2Zmc2V0SGVpZ2h0KTtcbiAgICByZXR1cm4gc2Nyb2xsUG9zaXRpb24gPCA1MCAmJiAhdGhpcy5pc0hhbmRsaW5nU2Nyb2xsO1xuICB9XG5cbiAgY2xlYXJTZWxlY3Rpb24oKSB7XG4gICAgdGhpcy5wbHVnaW4uc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgY3VycmVudFNlbGVjdGlvbjogW10sXG4gICAgICBmaWx0ZXJJbnB1dDogJydcbiAgICB9KTtcbiAgfVxuXG4gIGNhbmNlbFBpY2tpbmcoKSB7XG4gICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIGNvbnN0IGRhc2hib2FyZCA9IHRoaXMucGx1Z2luLnVwcHkuZ2V0UGx1Z2luKCdEYXNoYm9hcmQnKTtcblxuICAgIGlmIChkYXNoYm9hcmQpIHtcbiAgICAgIGRhc2hib2FyZC5oaWRlQWxsUGFuZWxzKCk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAgICBjb25zdCB7XG4gICAgICB1cHB5XG4gICAgfSA9IHRoaXMucGx1Z2luO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB1cHB5LmkxOG4oJ2NvbXBhbmlvbkVycm9yJyk7XG4gICAgdXBweS5sb2coZXJyb3IudG9TdHJpbmcoKSk7XG5cbiAgICBpZiAoZXJyb3IuaXNBdXRoRXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cHB5LmluZm8oe1xuICAgICAgbWVzc2FnZSxcbiAgICAgIGRldGFpbHM6IGVycm9yLnRvU3RyaW5nKClcbiAgICB9LCAnZXJyb3InLCA1MDAwKTtcbiAgfSAvLyB0b2RvIGRvY3VtZW50IHdoYXQgaXMgYSBcInRhZ0ZpbGVcIiBvciBnZXQgcmlkIG9mIHRoaXMgY29uY2VwdFxuXG5cbiAgZ2V0VGFnRmlsZShmaWxlKSB7XG4gICAgY29uc3QgdGFnRmlsZSA9IHtcbiAgICAgIGlkOiBmaWxlLmlkLFxuICAgICAgc291cmNlOiB0aGlzLnBsdWdpbi5pZCxcbiAgICAgIGRhdGE6IGZpbGUsXG4gICAgICBuYW1lOiBmaWxlLm5hbWUgfHwgZmlsZS5pZCxcbiAgICAgIHR5cGU6IGZpbGUubWltZVR5cGUsXG4gICAgICBpc1JlbW90ZTogdHJ1ZSxcbiAgICAgIG1ldGE6IHt9LFxuICAgICAgYm9keToge1xuICAgICAgICBmaWxlSWQ6IGZpbGUuaWRcbiAgICAgIH0sXG4gICAgICByZW1vdGU6IHtcbiAgICAgICAgY29tcGFuaW9uVXJsOiB0aGlzLnBsdWdpbi5vcHRzLmNvbXBhbmlvblVybCxcbiAgICAgICAgdXJsOiBgJHt0aGlzLnByb3ZpZGVyLmZpbGVVcmwoZmlsZS5yZXF1ZXN0UGF0aCl9YCxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIGZpbGVJZDogZmlsZS5pZFxuICAgICAgICB9LFxuICAgICAgICBwcm92aWRlck9wdGlvbnM6IHRoaXMucHJvdmlkZXIub3B0cyxcbiAgICAgICAgcHJvdmlkZXJOYW1lOiB0aGlzLnByb3ZpZGVyLm5hbWUsXG4gICAgICAgIHByb3ZpZGVyOiB0aGlzLnByb3ZpZGVyLnByb3ZpZGVyXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBmaWxlVHlwZSA9IGdldEZpbGVUeXBlKHRhZ0ZpbGUpOyAvLyBUT0RPIFNob3VsZCB3ZSBqdXN0IGFsd2F5cyB1c2UgdGhlIHRodW1ibmFpbCBVUkwgaWYgaXQgZXhpc3RzP1xuXG4gICAgaWYgKGZpbGVUeXBlICYmIGlzUHJldmlld1N1cHBvcnRlZChmaWxlVHlwZSkpIHtcbiAgICAgIHRhZ0ZpbGUucHJldmlldyA9IGZpbGUudGh1bWJuYWlsO1xuICAgIH1cblxuICAgIGlmIChmaWxlLmF1dGhvcikge1xuICAgICAgaWYgKGZpbGUuYXV0aG9yLm5hbWUgIT0gbnVsbCkgdGFnRmlsZS5tZXRhLmF1dGhvck5hbWUgPSBTdHJpbmcoZmlsZS5hdXRob3IubmFtZSk7XG4gICAgICBpZiAoZmlsZS5hdXRob3IudXJsKSB0YWdGaWxlLm1ldGEuYXV0aG9yVXJsID0gZmlsZS5hdXRob3IudXJsO1xuICAgIH1cblxuICAgIHJldHVybiB0YWdGaWxlO1xuICB9XG5cbiAgc2V0TG9hZGluZyhsb2FkaW5nKSB7XG4gICAgdGhpcy5wbHVnaW4uc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgbG9hZGluZ1xuICAgIH0pO1xuICB9XG5cbn0iLCJleHBvcnQgeyBkZWZhdWx0IGFzIFByb3ZpZGVyVmlld3MgfSBmcm9tICcuL1Byb3ZpZGVyVmlldy9pbmRleC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNlYXJjaFByb3ZpZGVyVmlld3MgfSBmcm9tICcuL1NlYXJjaFByb3ZpZGVyVmlldy9pbmRleC5qcyc7IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gudGhyb3R0bGUnO1xuaW1wb3J0IHByZXR0aWVyQnl0ZXMgZnJvbSAnQHRyYW5zbG9hZGl0L3ByZXR0aWVyLWJ5dGVzJztcbmltcG9ydCBwcmV0dHlFVEEgZnJvbSAnQHVwcHkvdXRpbHMvbGliL3ByZXR0eUVUQSc7XG5pbXBvcnQgc3RhdHVzQmFyU3RhdGVzIGZyb20gJy4vU3RhdHVzQmFyU3RhdGVzLmpzJztcbmNvbnN0IERPVCA9IGBcXHUwMEI3YDtcblxuY29uc3QgcmVuZGVyRG90ID0gKCkgPT4gYCAke0RPVH0gYDtcblxuZnVuY3Rpb24gVXBsb2FkQnRuKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBuZXdGaWxlcyxcbiAgICBpc1VwbG9hZFN0YXJ0ZWQsXG4gICAgcmVjb3ZlcmVkU3RhdGUsXG4gICAgaTE4bixcbiAgICB1cGxvYWRTdGF0ZSxcbiAgICBpc1NvbWVHaG9zdCxcbiAgICBzdGFydFVwbG9hZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHVwbG9hZEJ0bkNsYXNzTmFtZXMgPSBjbGFzc05hbWVzKCd1cHB5LXUtcmVzZXQnLCAndXBweS1jLWJ0bicsICd1cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4nLCAndXBweS1TdGF0dXNCYXItYWN0aW9uQnRuLS11cGxvYWQnLCB7XG4gICAgJ3VwcHktYy1idG4tcHJpbWFyeSc6IHVwbG9hZFN0YXRlID09PSBzdGF0dXNCYXJTdGF0ZXMuU1RBVEVfV0FJVElOR1xuICB9LCB7XG4gICAgJ3VwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tZGlzYWJsZWQnOiBpc1NvbWVHaG9zdFxuICB9KTtcbiAgY29uc3QgdXBsb2FkQnRuVGV4dCA9IG5ld0ZpbGVzICYmIGlzVXBsb2FkU3RhcnRlZCAmJiAhcmVjb3ZlcmVkU3RhdGUgPyBpMThuKCd1cGxvYWRYTmV3RmlsZXMnLCB7XG4gICAgc21hcnRfY291bnQ6IG5ld0ZpbGVzXG4gIH0pIDogaTE4bigndXBsb2FkWEZpbGVzJywge1xuICAgIHNtYXJ0X2NvdW50OiBuZXdGaWxlc1xuICB9KTtcbiAgcmV0dXJuIGgoXCJidXR0b25cIiwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgY2xhc3NOYW1lOiB1cGxvYWRCdG5DbGFzc05hbWVzLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBpMThuKCd1cGxvYWRYRmlsZXMnLCB7XG4gICAgICBzbWFydF9jb3VudDogbmV3RmlsZXNcbiAgICB9KSxcbiAgICBvbkNsaWNrOiBzdGFydFVwbG9hZCxcbiAgICBkaXNhYmxlZDogaXNTb21lR2hvc3QsXG4gICAgXCJkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXCI6IHRydWVcbiAgfSwgdXBsb2FkQnRuVGV4dCk7XG59XG5cbmZ1bmN0aW9uIFJldHJ5QnRuKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBpMThuLFxuICAgIHVwcHlcbiAgfSA9IHByb3BzO1xuICByZXR1cm4gaChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG4gdXBweS1TdGF0dXNCYXItYWN0aW9uQnRuIHVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tcmV0cnlcIixcbiAgICBcImFyaWEtbGFiZWxcIjogaTE4bigncmV0cnlVcGxvYWQnKSxcbiAgICBvbkNsaWNrOiAoKSA9PiB1cHB5LnJldHJ5QWxsKCksXG4gICAgXCJkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXCI6IHRydWVcbiAgfSwgaChcInN2Z1wiLCB7XG4gICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICBmb2N1c2FibGU6IFwiZmFsc2VcIixcbiAgICBjbGFzc05hbWU6IFwidXBweS1jLWljb25cIixcbiAgICB3aWR0aDogXCI4XCIsXG4gICAgaGVpZ2h0OiBcIjEwXCIsXG4gICAgdmlld0JveDogXCIwIDAgOCAxMFwiXG4gIH0sIGgoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk00IDIuNDA4YTIuNzUgMi43NSAwIDEgMCAyLjc1IDIuNzUuNjI2LjYyNiAwIDAgMSAxLjI1LjAxOHYuMDIzYTQgNCAwIDEgMS00LTQuMDQxVi4yNWEuMjUuMjUgMCAwIDEgLjM4OS0uMjA4bDIuMjk5IDEuNTMzYS4yNS4yNSAwIDAgMSAwIC40MTZsLTIuMyAxLjUzM0EuMjUuMjUgMCAwIDEgNCAzLjMxNnYtLjkwOHpcIlxuICB9KSksIGkxOG4oJ3JldHJ5JykpO1xufVxuXG5mdW5jdGlvbiBDYW5jZWxCdG4ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGkxOG4sXG4gICAgdXBweVxuICB9ID0gcHJvcHM7XG4gIHJldHVybiBoKFwiYnV0dG9uXCIsIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzTmFtZTogXCJ1cHB5LXUtcmVzZXQgdXBweS1TdGF0dXNCYXItYWN0aW9uQ2lyY2xlQnRuXCIsXG4gICAgdGl0bGU6IGkxOG4oJ2NhbmNlbCcpLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBpMThuKCdjYW5jZWwnKSxcbiAgICBvbkNsaWNrOiAoKSA9PiB1cHB5LmNhbmNlbEFsbCgpLFxuICAgIFwiZGF0YS1jeVwiOiBcImNhbmNlbFwiLFxuICAgIFwiZGF0YS11cHB5LXN1cGVyLWZvY3VzYWJsZVwiOiB0cnVlXG4gIH0sIGgoXCJzdmdcIiwge1xuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uXCIsXG4gICAgd2lkdGg6IFwiMTZcIixcbiAgICBoZWlnaHQ6IFwiMTZcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiXG4gIH0sIGgoXCJnXCIsIHtcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCJcbiAgfSwgaChcImNpcmNsZVwiLCB7XG4gICAgZmlsbDogXCIjODg4XCIsXG4gICAgY3g6IFwiOFwiLFxuICAgIGN5OiBcIjhcIixcbiAgICByOiBcIjhcIlxuICB9KSwgaChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiI0ZGRlwiLFxuICAgIGQ6IFwiTTkuMjgzIDhsMi41NjcgMi41NjctMS4yODMgMS4yODNMOCA5LjI4MyA1LjQzMyAxMS44NSA0LjE1IDEwLjU2NyA2LjcxNyA4IDQuMTUgNS40MzMgNS40MzMgNC4xNSA4IDYuNzE3bDIuNTY3LTIuNTY3IDEuMjgzIDEuMjgzelwiXG4gIH0pKSkpO1xufVxuXG5mdW5jdGlvbiBQYXVzZVJlc3VtZUJ1dHRvbihwcm9wcykge1xuICBjb25zdCB7XG4gICAgaXNBbGxQYXVzZWQsXG4gICAgaTE4bixcbiAgICBpc0FsbENvbXBsZXRlLFxuICAgIHJlc3VtYWJsZVVwbG9hZHMsXG4gICAgdXBweVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHRpdGxlID0gaXNBbGxQYXVzZWQgPyBpMThuKCdyZXN1bWUnKSA6IGkxOG4oJ3BhdXNlJyk7XG5cbiAgZnVuY3Rpb24gdG9nZ2xlUGF1c2VSZXN1bWUoKSB7XG4gICAgaWYgKGlzQWxsQ29tcGxldGUpIHJldHVybiBudWxsO1xuXG4gICAgaWYgKCFyZXN1bWFibGVVcGxvYWRzKSB7XG4gICAgICByZXR1cm4gdXBweS5jYW5jZWxBbGwoKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBbGxQYXVzZWQpIHtcbiAgICAgIHJldHVybiB1cHB5LnJlc3VtZUFsbCgpO1xuICAgIH1cblxuICAgIHJldHVybiB1cHB5LnBhdXNlQWxsKCk7XG4gIH1cblxuICByZXR1cm4gaChcImJ1dHRvblwiLCB7XG4gICAgdGl0bGU6IHRpdGxlLFxuICAgIFwiYXJpYS1sYWJlbFwiOiB0aXRsZSxcbiAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktU3RhdHVzQmFyLWFjdGlvbkNpcmNsZUJ0blwiLFxuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgb25DbGljazogdG9nZ2xlUGF1c2VSZXN1bWUsXG4gICAgXCJkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXCI6IHRydWVcbiAgfSwgaChcInN2Z1wiLCB7XG4gICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICBmb2N1c2FibGU6IFwiZmFsc2VcIixcbiAgICBjbGFzc05hbWU6IFwidXBweS1jLWljb25cIixcbiAgICB3aWR0aDogXCIxNlwiLFxuICAgIGhlaWdodDogXCIxNlwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCJcbiAgfSwgaChcImdcIiwge1xuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICB9LCBoKFwiY2lyY2xlXCIsIHtcbiAgICBmaWxsOiBcIiM4ODhcIixcbiAgICBjeDogXCI4XCIsXG4gICAgY3k6IFwiOFwiLFxuICAgIHI6IFwiOFwiXG4gIH0pLCBoKFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCIjRkZGXCIsXG4gICAgZDogaXNBbGxQYXVzZWQgPyAnTTYgNC4yNUwxMS41IDggNiAxMS43NXonIDogJ001IDQuNWgydjdINXYtN3ptNCAwaDJ2N0g5di03eidcbiAgfSkpKSk7XG59XG5cbmZ1bmN0aW9uIERvbmVCdG4ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGkxOG4sXG4gICAgZG9uZUJ1dHRvbkhhbmRsZXJcbiAgfSA9IHByb3BzO1xuICByZXR1cm4gaChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG4gdXBweS1TdGF0dXNCYXItYWN0aW9uQnRuIHVwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bi0tZG9uZVwiLFxuICAgIG9uQ2xpY2s6IGRvbmVCdXR0b25IYW5kbGVyLFxuICAgIFwiZGF0YS11cHB5LXN1cGVyLWZvY3VzYWJsZVwiOiB0cnVlXG4gIH0sIGkxOG4oJ2RvbmUnKSk7XG59XG5cbmZ1bmN0aW9uIExvYWRpbmdTcGlubmVyKCkge1xuICByZXR1cm4gaChcInN2Z1wiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktU3RhdHVzQmFyLXNwaW5uZXJcIixcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgIHdpZHRoOiBcIjE0XCIsXG4gICAgaGVpZ2h0OiBcIjE0XCJcbiAgfSwgaChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEzLjk4MyA2LjU0N2MtLjEyLTIuNTA5LTEuNjQtNC44OTMtMy45MzktNS45MzYtMi40OC0xLjEyNy01LjQ4OC0uNjU2LTcuNTU2IDEuMDk0Qy41MjQgMy4zNjctLjM5OCA2LjA0OC4xNjIgOC41NjJjLjU1NiAyLjQ5NSAyLjQ2IDQuNTIgNC45NCA1LjE4MyAyLjkzMi43ODQgNS42MS0uNjAyIDcuMjU2LTMuMDE1LTEuNDkzIDEuOTkzLTMuNzQ1IDMuMzA5LTYuMjk4IDIuODY4LTIuNTE0LS40MzQtNC41NzgtMi4zNDktNS4xNTMtNC44NGE2LjIyNiA2LjIyNiAwIDAgMSAyLjk4LTYuNzc4QzYuMzQuNTg2IDkuNzQgMS4xIDExLjM3MyAzLjQ5M2MuNDA3LjU5Ni42OTMgMS4yODIuODQyIDEuOTg4LjEyNy41OTguMDczIDEuMTk3LjE2MSAxLjc5NC4wNzguNTI1LjU0MyAxLjI1NyAxLjE1Ljg2NC41MjUtLjM0MS40OS0xLjA1LjQ1Ni0xLjU5Mi0uMDA3LS4xNS4wMi4zIDAgMFwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIFByb2dyZXNzQmFyUHJvY2Vzc2luZyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgcHJvZ3Jlc3NcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgdmFsdWUsXG4gICAgbW9kZSxcbiAgICBtZXNzYWdlXG4gIH0gPSBwcm9ncmVzcztcbiAgY29uc3Qgcm91bmRlZFZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSAqIDEwMCk7XG4gIGNvbnN0IGRvdCA9IGBcXHUwMEI3YDtcbiAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LVN0YXR1c0Jhci1jb250ZW50XCJcbiAgfSwgaChMb2FkaW5nU3Bpbm5lciwgbnVsbCksIG1vZGUgPT09ICdkZXRlcm1pbmF0ZScgPyBgJHtyb3VuZGVkVmFsdWV9JSAke2RvdH0gYCA6ICcnLCBtZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gUHJvZ3Jlc3NEZXRhaWxzKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBudW1VcGxvYWRzLFxuICAgIGNvbXBsZXRlLFxuICAgIHRvdGFsVXBsb2FkZWRTaXplLFxuICAgIHRvdGFsU2l6ZSxcbiAgICB0b3RhbEVUQSxcbiAgICBpMThuXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgaWZTaG93RmlsZXNVcGxvYWRlZE9mVG90YWwgPSBudW1VcGxvYWRzID4gMTtcbiAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LVN0YXR1c0Jhci1zdGF0dXNTZWNvbmRhcnlcIlxuICB9LCBpZlNob3dGaWxlc1VwbG9hZGVkT2ZUb3RhbCAmJiBpMThuKCdmaWxlc1VwbG9hZGVkT2ZUb3RhbCcsIHtcbiAgICBjb21wbGV0ZSxcbiAgICBzbWFydF9jb3VudDogbnVtVXBsb2Fkc1xuICB9KSwgaChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LVN0YXR1c0Jhci1hZGRpdGlvbmFsSW5mb1wiXG4gIH0sIGlmU2hvd0ZpbGVzVXBsb2FkZWRPZlRvdGFsICYmIHJlbmRlckRvdCgpLCBpMThuKCdkYXRhVXBsb2FkZWRPZlRvdGFsJywge1xuICAgIGNvbXBsZXRlOiBwcmV0dGllckJ5dGVzKHRvdGFsVXBsb2FkZWRTaXplKSxcbiAgICB0b3RhbDogcHJldHRpZXJCeXRlcyh0b3RhbFNpemUpXG4gIH0pLCByZW5kZXJEb3QoKSwgaTE4bigneFRpbWVMZWZ0Jywge1xuICAgIHRpbWU6IHByZXR0eUVUQSh0b3RhbEVUQSlcbiAgfSkpKTtcbn1cblxuZnVuY3Rpb24gRmlsZVVwbG9hZENvdW50KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBpMThuLFxuICAgIGNvbXBsZXRlLFxuICAgIG51bVVwbG9hZHNcbiAgfSA9IHByb3BzO1xuICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktU3RhdHVzQmFyLXN0YXR1c1NlY29uZGFyeVwiXG4gIH0sIGkxOG4oJ2ZpbGVzVXBsb2FkZWRPZlRvdGFsJywge1xuICAgIGNvbXBsZXRlLFxuICAgIHNtYXJ0X2NvdW50OiBudW1VcGxvYWRzXG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gVXBsb2FkTmV3bHlBZGRlZEZpbGVzKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBpMThuLFxuICAgIG5ld0ZpbGVzLFxuICAgIHN0YXJ0VXBsb2FkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgdXBsb2FkQnRuQ2xhc3NOYW1lcyA9IGNsYXNzTmFtZXMoJ3VwcHktdS1yZXNldCcsICd1cHB5LWMtYnRuJywgJ3VwcHktU3RhdHVzQmFyLWFjdGlvbkJ0bicsICd1cHB5LVN0YXR1c0Jhci1hY3Rpb25CdG4tLXVwbG9hZE5ld2x5QWRkZWQnKTtcbiAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LVN0YXR1c0Jhci1zdGF0dXNTZWNvbmRhcnlcIlxuICB9LCBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1TdGF0dXNCYXItc3RhdHVzU2Vjb25kYXJ5SGludFwiXG4gIH0sIGkxOG4oJ3hNb3JlRmlsZXNBZGRlZCcsIHtcbiAgICBzbWFydF9jb3VudDogbmV3RmlsZXNcbiAgfSkpLCBoKFwiYnV0dG9uXCIsIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzTmFtZTogdXBsb2FkQnRuQ2xhc3NOYW1lcyxcbiAgICBcImFyaWEtbGFiZWxcIjogaTE4bigndXBsb2FkWEZpbGVzJywge1xuICAgICAgc21hcnRfY291bnQ6IG5ld0ZpbGVzXG4gICAgfSksXG4gICAgb25DbGljazogc3RhcnRVcGxvYWRcbiAgfSwgaTE4bigndXBsb2FkJykpKTtcbn1cblxuY29uc3QgVGhyb3R0bGVkUHJvZ3Jlc3NEZXRhaWxzID0gdGhyb3R0bGUoUHJvZ3Jlc3NEZXRhaWxzLCA1MDAsIHtcbiAgbGVhZGluZzogdHJ1ZSxcbiAgdHJhaWxpbmc6IHRydWVcbn0pO1xuXG5mdW5jdGlvbiBQcm9ncmVzc0JhclVwbG9hZGluZyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgaTE4bixcbiAgICBzdXBwb3J0c1VwbG9hZFByb2dyZXNzLFxuICAgIHRvdGFsUHJvZ3Jlc3MsXG4gICAgc2hvd1Byb2dyZXNzRGV0YWlscyxcbiAgICBpc1VwbG9hZFN0YXJ0ZWQsXG4gICAgaXNBbGxDb21wbGV0ZSxcbiAgICBpc0FsbFBhdXNlZCxcbiAgICBuZXdGaWxlcyxcbiAgICBudW1VcGxvYWRzLFxuICAgIGNvbXBsZXRlLFxuICAgIHRvdGFsVXBsb2FkZWRTaXplLFxuICAgIHRvdGFsU2l6ZSxcbiAgICB0b3RhbEVUQSxcbiAgICBzdGFydFVwbG9hZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHNob3dVcGxvYWROZXdseUFkZGVkRmlsZXMgPSBuZXdGaWxlcyAmJiBpc1VwbG9hZFN0YXJ0ZWQ7XG5cbiAgaWYgKCFpc1VwbG9hZFN0YXJ0ZWQgfHwgaXNBbGxDb21wbGV0ZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgdGl0bGUgPSBpc0FsbFBhdXNlZCA/IGkxOG4oJ3BhdXNlZCcpIDogaTE4bigndXBsb2FkaW5nJyk7XG5cbiAgZnVuY3Rpb24gcmVuZGVyUHJvZ3Jlc3NEZXRhaWxzKCkge1xuICAgIGlmICghaXNBbGxQYXVzZWQgJiYgIXNob3dVcGxvYWROZXdseUFkZGVkRmlsZXMgJiYgc2hvd1Byb2dyZXNzRGV0YWlscykge1xuICAgICAgaWYgKHN1cHBvcnRzVXBsb2FkUHJvZ3Jlc3MpIHtcbiAgICAgICAgcmV0dXJuIGgoVGhyb3R0bGVkUHJvZ3Jlc3NEZXRhaWxzLCB7XG4gICAgICAgICAgbnVtVXBsb2FkczogbnVtVXBsb2FkcyxcbiAgICAgICAgICBjb21wbGV0ZTogY29tcGxldGUsXG4gICAgICAgICAgdG90YWxVcGxvYWRlZFNpemU6IHRvdGFsVXBsb2FkZWRTaXplLFxuICAgICAgICAgIHRvdGFsU2l6ZTogdG90YWxTaXplLFxuICAgICAgICAgIHRvdGFsRVRBOiB0b3RhbEVUQSxcbiAgICAgICAgICBpMThuOiBpMThuXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaChGaWxlVXBsb2FkQ291bnQsIHtcbiAgICAgICAgaTE4bjogaTE4bixcbiAgICAgICAgY29tcGxldGU6IGNvbXBsZXRlLFxuICAgICAgICBudW1VcGxvYWRzOiBudW1VcGxvYWRzXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1TdGF0dXNCYXItY29udGVudFwiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiB0aXRsZSxcbiAgICB0aXRsZTogdGl0bGVcbiAgfSwgIWlzQWxsUGF1c2VkID8gaChMb2FkaW5nU3Bpbm5lciwgbnVsbCkgOiBudWxsLCBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1TdGF0dXNCYXItc3RhdHVzXCJcbiAgfSwgaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktU3RhdHVzQmFyLXN0YXR1c1ByaW1hcnlcIlxuICB9LCBzdXBwb3J0c1VwbG9hZFByb2dyZXNzID8gYCR7dGl0bGV9OiAke3RvdGFsUHJvZ3Jlc3N9JWAgOiB0aXRsZSksIHJlbmRlclByb2dyZXNzRGV0YWlscygpLCBzaG93VXBsb2FkTmV3bHlBZGRlZEZpbGVzID8gaChVcGxvYWROZXdseUFkZGVkRmlsZXMsIHtcbiAgICBpMThuOiBpMThuLFxuICAgIG5ld0ZpbGVzOiBuZXdGaWxlcyxcbiAgICBzdGFydFVwbG9hZDogc3RhcnRVcGxvYWRcbiAgfSkgOiBudWxsKSk7XG59XG5cbmZ1bmN0aW9uIFByb2dyZXNzQmFyQ29tcGxldGUocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGkxOG5cbiAgfSA9IHByb3BzO1xuICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktU3RhdHVzQmFyLWNvbnRlbnRcIixcbiAgICByb2xlOiBcInN0YXR1c1wiLFxuICAgIHRpdGxlOiBpMThuKCdjb21wbGV0ZScpXG4gIH0sIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LVN0YXR1c0Jhci1zdGF0dXNcIlxuICB9LCBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1TdGF0dXNCYXItc3RhdHVzUHJpbWFyeVwiXG4gIH0sIGgoXCJzdmdcIiwge1xuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgY2xhc3NOYW1lOiBcInVwcHktU3RhdHVzQmFyLXN0YXR1c0luZGljYXRvciB1cHB5LWMtaWNvblwiLFxuICAgIHdpZHRoOiBcIjE1XCIsXG4gICAgaGVpZ2h0OiBcIjExXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTUgMTFcIlxuICB9LCBoKFwicGF0aFwiLCB7XG4gICAgZDogXCJNLjQxNCA1Ljg0M0wxLjYyNyA0LjYzbDMuNDcyIDMuNDcyTDEzLjIwMiAwbDEuMjEyIDEuMjEzTDUuMSAxMC41Mjh6XCJcbiAgfSkpLCBpMThuKCdjb21wbGV0ZScpKSkpO1xufVxuXG5mdW5jdGlvbiBQcm9ncmVzc0JhckVycm9yKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlcnJvcixcbiAgICBpMThuLFxuICAgIGNvbXBsZXRlLFxuICAgIG51bVVwbG9hZHNcbiAgfSA9IHByb3BzO1xuXG4gIGZ1bmN0aW9uIGRpc3BsYXlFcnJvckFsZXJ0KCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGAke2kxOG4oJ3VwbG9hZEZhaWxlZCcpfSBcXG5cXG4gJHtlcnJvcn1gOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYWxlcnRcblxuICAgIGFsZXJ0KGVycm9yTWVzc2FnZSk7IC8vIFRPRE86IG1vdmUgdG8gY3VzdG9tIGFsZXJ0IGltcGxlbWVudGF0aW9uXG4gIH1cblxuICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktU3RhdHVzQmFyLWNvbnRlbnRcIixcbiAgICB0aXRsZTogaTE4bigndXBsb2FkRmFpbGVkJylcbiAgfSwgaChcInN2Z1wiLCB7XG4gICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICBmb2N1c2FibGU6IFwiZmFsc2VcIixcbiAgICBjbGFzc05hbWU6IFwidXBweS1TdGF0dXNCYXItc3RhdHVzSW5kaWNhdG9yIHVwcHktYy1pY29uXCIsXG4gICAgd2lkdGg6IFwiMTFcIixcbiAgICBoZWlnaHQ6IFwiMTFcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxMSAxMVwiXG4gIH0sIGgoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk00LjI3OCA1LjVMMCAxLjIyMiAxLjIyMiAwIDUuNSA0LjI3OCA5Ljc3OCAwIDExIDEuMjIyIDYuNzIyIDUuNSAxMSA5Ljc3OCA5Ljc3OCAxMSA1LjUgNi43MjIgMS4yMjIgMTEgMCA5Ljc3OHpcIlxuICB9KSksIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LVN0YXR1c0Jhci1zdGF0dXNcIlxuICB9LCBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1TdGF0dXNCYXItc3RhdHVzUHJpbWFyeVwiXG4gIH0sIGkxOG4oJ3VwbG9hZEZhaWxlZCcpLCBoKFwiYnV0dG9uXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktU3RhdHVzQmFyLWRldGFpbHNcIixcbiAgICBcImFyaWEtbGFiZWxcIjogaTE4bignc2hvd0Vycm9yRGV0YWlscycpLFxuICAgIFwiZGF0YS1taWNyb3RpcC1wb3NpdGlvblwiOiBcInRvcC1yaWdodFwiLFxuICAgIFwiZGF0YS1taWNyb3RpcC1zaXplXCI6IFwibWVkaXVtXCIsXG4gICAgb25DbGljazogZGlzcGxheUVycm9yQWxlcnQsXG4gICAgdHlwZTogXCJidXR0b25cIlxuICB9LCBcIj9cIikpLCBoKEZpbGVVcGxvYWRDb3VudCwge1xuICAgIGkxOG46IGkxOG4sXG4gICAgY29tcGxldGU6IGNvbXBsZXRlLFxuICAgIG51bVVwbG9hZHM6IG51bVVwbG9hZHNcbiAgfSkpKTtcbn1cblxuZXhwb3J0IHsgVXBsb2FkQnRuLCBSZXRyeUJ0biwgQ2FuY2VsQnRuLCBQYXVzZVJlc3VtZUJ1dHRvbiwgRG9uZUJ0biwgTG9hZGluZ1NwaW5uZXIsIFByb2dyZXNzRGV0YWlscywgUHJvZ3Jlc3NCYXJQcm9jZXNzaW5nLCBQcm9ncmVzc0JhckVycm9yLCBQcm9ncmVzc0JhclVwbG9hZGluZywgUHJvZ3Jlc3NCYXJDb21wbGV0ZSB9OyIsImltcG9ydCB7IFVJUGx1Z2luIH0gZnJvbSAnQHVwcHkvY29yZSc7XG5pbXBvcnQgZ2V0U3BlZWQgZnJvbSAnQHVwcHkvdXRpbHMvbGliL2dldFNwZWVkJztcbmltcG9ydCBnZXRCeXRlc1JlbWFpbmluZyBmcm9tICdAdXBweS91dGlscy9saWIvZ2V0Qnl0ZXNSZW1haW5pbmcnO1xuaW1wb3J0IGdldFRleHREaXJlY3Rpb24gZnJvbSAnQHVwcHkvdXRpbHMvbGliL2dldFRleHREaXJlY3Rpb24nO1xuaW1wb3J0IHN0YXR1c0JhclN0YXRlcyBmcm9tICcuL1N0YXR1c0JhclN0YXRlcy5qcyc7XG5pbXBvcnQgU3RhdHVzQmFyVUkgZnJvbSBcIi4vU3RhdHVzQmFyVUkuanNcIjtcbmNvbnN0IHBhY2thZ2VKc29uID0ge1xuICBcInZlcnNpb25cIjogXCIzLjEuMFwiXG59O1xuaW1wb3J0IGxvY2FsZSBmcm9tICcuL2xvY2FsZS5qcyc7XG5cbmZ1bmN0aW9uIGdldFRvdGFsU3BlZWQoZmlsZXMpIHtcbiAgbGV0IHRvdGFsU3BlZWQgPSAwO1xuICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgIHRvdGFsU3BlZWQgKz0gZ2V0U3BlZWQoZmlsZS5wcm9ncmVzcyk7XG4gIH0pO1xuICByZXR1cm4gdG90YWxTcGVlZDtcbn1cblxuZnVuY3Rpb24gZ2V0VG90YWxFVEEoZmlsZXMpIHtcbiAgY29uc3QgdG90YWxTcGVlZCA9IGdldFRvdGFsU3BlZWQoZmlsZXMpO1xuXG4gIGlmICh0b3RhbFNwZWVkID09PSAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBjb25zdCB0b3RhbEJ5dGVzUmVtYWluaW5nID0gZmlsZXMucmVkdWNlKCh0b3RhbCwgZmlsZSkgPT4ge1xuICAgIHJldHVybiB0b3RhbCArIGdldEJ5dGVzUmVtYWluaW5nKGZpbGUucHJvZ3Jlc3MpO1xuICB9LCAwKTtcbiAgcmV0dXJuIE1hdGgucm91bmQodG90YWxCeXRlc1JlbWFpbmluZyAvIHRvdGFsU3BlZWQgKiAxMCkgLyAxMDtcbn1cblxuZnVuY3Rpb24gZ2V0VXBsb2FkaW5nU3RhdGUoZXJyb3IsIGlzQWxsQ29tcGxldGUsIHJlY292ZXJlZFN0YXRlLCBmaWxlcykge1xuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gc3RhdHVzQmFyU3RhdGVzLlNUQVRFX0VSUk9SO1xuICB9XG5cbiAgaWYgKGlzQWxsQ29tcGxldGUpIHtcbiAgICByZXR1cm4gc3RhdHVzQmFyU3RhdGVzLlNUQVRFX0NPTVBMRVRFO1xuICB9XG5cbiAgaWYgKHJlY292ZXJlZFN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXR1c0JhclN0YXRlcy5TVEFURV9XQUlUSU5HO1xuICB9XG5cbiAgbGV0IHN0YXRlID0gc3RhdHVzQmFyU3RhdGVzLlNUQVRFX1dBSVRJTkc7XG4gIGNvbnN0IGZpbGVJRHMgPSBPYmplY3Qua2V5cyhmaWxlcyk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlSURzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qge1xuICAgICAgcHJvZ3Jlc3NcbiAgICB9ID0gZmlsZXNbZmlsZUlEc1tpXV07IC8vIElmIEFOWSBmaWxlcyBhcmUgYmVpbmcgdXBsb2FkZWQgcmlnaHQgbm93LCBzaG93IHRoZSB1cGxvYWRpbmcgc3RhdGUuXG5cbiAgICBpZiAocHJvZ3Jlc3MudXBsb2FkU3RhcnRlZCAmJiAhcHJvZ3Jlc3MudXBsb2FkQ29tcGxldGUpIHtcbiAgICAgIHJldHVybiBzdGF0dXNCYXJTdGF0ZXMuU1RBVEVfVVBMT0FESU5HO1xuICAgIH0gLy8gSWYgZmlsZXMgYXJlIGJlaW5nIHByZXByb2Nlc3NlZCBBTkQgcG9zdHByb2Nlc3NlZCBhdCB0aGlzIHRpbWUsIHdlIHNob3cgdGhlXG4gICAgLy8gcHJlcHJvY2VzcyBzdGF0ZS4gSWYgYW55IGZpbGVzIGFyZSBiZWluZyB1cGxvYWRlZCB3ZSBzaG93IHVwbG9hZGluZy5cblxuXG4gICAgaWYgKHByb2dyZXNzLnByZXByb2Nlc3MgJiYgc3RhdGUgIT09IHN0YXR1c0JhclN0YXRlcy5TVEFURV9VUExPQURJTkcpIHtcbiAgICAgIHN0YXRlID0gc3RhdHVzQmFyU3RhdGVzLlNUQVRFX1BSRVBST0NFU1NJTkc7XG4gICAgfSAvLyBJZiBOTyBmaWxlcyBhcmUgYmVpbmcgcHJlcHJvY2Vzc2VkIG9yIHVwbG9hZGVkIHJpZ2h0IG5vdywgYnV0IHNvbWUgZmlsZXMgYXJlXG4gICAgLy8gYmVpbmcgcG9zdHByb2Nlc3NlZCwgc2hvdyB0aGUgcG9zdHByb2Nlc3Mgc3RhdGUuXG5cblxuICAgIGlmIChwcm9ncmVzcy5wb3N0cHJvY2VzcyAmJiBzdGF0ZSAhPT0gc3RhdHVzQmFyU3RhdGVzLlNUQVRFX1VQTE9BRElORyAmJiBzdGF0ZSAhPT0gc3RhdHVzQmFyU3RhdGVzLlNUQVRFX1BSRVBST0NFU1NJTkcpIHtcbiAgICAgIHN0YXRlID0gc3RhdHVzQmFyU3RhdGVzLlNUQVRFX1BPU1RQUk9DRVNTSU5HO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdGF0ZTtcbn1cbi8qKlxuICogU3RhdHVzQmFyOiByZW5kZXJzIGEgc3RhdHVzIGJhciB3aXRoIHVwbG9hZC9wYXVzZS9yZXN1bWUvY2FuY2VsL3JldHJ5IGJ1dHRvbnMsXG4gKiBwcm9ncmVzcyBwZXJjZW50YWdlIGFuZCB0aW1lIHJlbWFpbmluZy5cbiAqL1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXR1c0JhciBleHRlbmRzIFVJUGx1Z2luIHtcbiAgY29uc3RydWN0b3IodXBweSwgb3B0cykge1xuICAgIHN1cGVyKHVwcHksIG9wdHMpO1xuXG4gICAgdGhpcy5zdGFydFVwbG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVjb3ZlcmVkU3RhdGVcbiAgICAgIH0gPSB0aGlzLnVwcHkuZ2V0U3RhdGUoKTtcblxuICAgICAgaWYgKHJlY292ZXJlZFN0YXRlKSB7XG4gICAgICAgIHRoaXMudXBweS5lbWl0KCdyZXN0b3JlLWNvbmZpcm1lZCcpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy51cHB5LnVwbG9hZCgpLmNhdGNoKCgpID0+IHsvLyBFcnJvciBsb2dnZWQgaW4gQ29yZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuaWQgPSB0aGlzLm9wdHMuaWQgfHwgJ1N0YXR1c0Jhcic7XG4gICAgdGhpcy50aXRsZSA9ICdTdGF0dXNCYXInO1xuICAgIHRoaXMudHlwZSA9ICdwcm9ncmVzc2luZGljYXRvcic7XG4gICAgdGhpcy5kZWZhdWx0TG9jYWxlID0gbG9jYWxlOyAvLyBzZXQgZGVmYXVsdCBvcHRpb25zLCBtdXN0IGJlIGtlcHQgaW4gc3luYyB3aXRoIEB1cHB5L3JlYWN0L3NyYy9TdGF0dXNCYXIuanNcblxuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgdGFyZ2V0OiAnYm9keScsXG4gICAgICBoaWRlVXBsb2FkQnV0dG9uOiBmYWxzZSxcbiAgICAgIGhpZGVSZXRyeUJ1dHRvbjogZmFsc2UsXG4gICAgICBoaWRlUGF1c2VSZXN1bWVCdXR0b246IGZhbHNlLFxuICAgICAgaGlkZUNhbmNlbEJ1dHRvbjogZmFsc2UsXG4gICAgICBzaG93UHJvZ3Jlc3NEZXRhaWxzOiBmYWxzZSxcbiAgICAgIGhpZGVBZnRlckZpbmlzaDogdHJ1ZSxcbiAgICAgIGRvbmVCdXR0b25IYW5kbGVyOiBudWxsXG4gICAgfTtcbiAgICB0aGlzLm9wdHMgPSB7IC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgLi4ub3B0c1xuICAgIH07XG4gICAgdGhpcy5pMThuSW5pdCgpO1xuICAgIHRoaXMucmVuZGVyID0gdGhpcy5yZW5kZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmluc3RhbGwgPSB0aGlzLmluc3RhbGwuYmluZCh0aGlzKTtcbiAgfVxuXG4gIHJlbmRlcihzdGF0ZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNhcGFiaWxpdGllcyxcbiAgICAgIGZpbGVzLFxuICAgICAgYWxsb3dOZXdVcGxvYWQsXG4gICAgICB0b3RhbFByb2dyZXNzLFxuICAgICAgZXJyb3IsXG4gICAgICByZWNvdmVyZWRTdGF0ZVxuICAgIH0gPSBzdGF0ZTtcbiAgICBjb25zdCB7XG4gICAgICBuZXdGaWxlcyxcbiAgICAgIHN0YXJ0ZWRGaWxlcyxcbiAgICAgIGNvbXBsZXRlRmlsZXMsXG4gICAgICBpblByb2dyZXNzTm90UGF1c2VkRmlsZXMsXG4gICAgICBpc1VwbG9hZFN0YXJ0ZWQsXG4gICAgICBpc0FsbENvbXBsZXRlLFxuICAgICAgaXNBbGxFcnJvcmVkLFxuICAgICAgaXNBbGxQYXVzZWQsXG4gICAgICBpc1VwbG9hZEluUHJvZ3Jlc3MsXG4gICAgICBpc1NvbWVHaG9zdFxuICAgIH0gPSB0aGlzLnVwcHkuZ2V0T2JqZWN0T2ZGaWxlc1BlclN0YXRlKCk7IC8vIElmIHNvbWUgc3RhdGUgd2FzIHJlY292ZXJlZCwgd2Ugd2FudCB0byBzaG93IFVwbG9hZCBidXR0b24vY291bnRlclxuICAgIC8vIGZvciBhbGwgdGhlIGZpbGVzLCBiZWNhdXNlIGluIHRoaXMgY2FzZSBpdOKAmXMgbm90IGFuIFVwbG9hZCBidXR0b24sXG4gICAgLy8gYnV0IOKAnENvbmZpcm0gUmVzdG9yZSBCdXR0b27igJ1cblxuICAgIGNvbnN0IG5ld0ZpbGVzT3JSZWNvdmVyZWQgPSByZWNvdmVyZWRTdGF0ZSA/IE9iamVjdC52YWx1ZXMoZmlsZXMpIDogbmV3RmlsZXM7XG4gICAgY29uc3QgdG90YWxFVEEgPSBnZXRUb3RhbEVUQShpblByb2dyZXNzTm90UGF1c2VkRmlsZXMpO1xuICAgIGNvbnN0IHJlc3VtYWJsZVVwbG9hZHMgPSAhIWNhcGFiaWxpdGllcy5yZXN1bWFibGVVcGxvYWRzO1xuICAgIGNvbnN0IHN1cHBvcnRzVXBsb2FkUHJvZ3Jlc3MgPSBjYXBhYmlsaXRpZXMudXBsb2FkUHJvZ3Jlc3MgIT09IGZhbHNlO1xuICAgIGxldCB0b3RhbFNpemUgPSAwO1xuICAgIGxldCB0b3RhbFVwbG9hZGVkU2l6ZSA9IDA7XG4gICAgc3RhcnRlZEZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICB0b3RhbFNpemUgKz0gZmlsZS5wcm9ncmVzcy5ieXRlc1RvdGFsIHx8IDA7XG4gICAgICB0b3RhbFVwbG9hZGVkU2l6ZSArPSBmaWxlLnByb2dyZXNzLmJ5dGVzVXBsb2FkZWQgfHwgMDtcbiAgICB9KTtcbiAgICByZXR1cm4gU3RhdHVzQmFyVUkoe1xuICAgICAgZXJyb3IsXG4gICAgICB1cGxvYWRTdGF0ZTogZ2V0VXBsb2FkaW5nU3RhdGUoZXJyb3IsIGlzQWxsQ29tcGxldGUsIHJlY292ZXJlZFN0YXRlLCBzdGF0ZS5maWxlcyB8fCB7fSksXG4gICAgICBhbGxvd05ld1VwbG9hZCxcbiAgICAgIHRvdGFsUHJvZ3Jlc3MsXG4gICAgICB0b3RhbFNpemUsXG4gICAgICB0b3RhbFVwbG9hZGVkU2l6ZSxcbiAgICAgIGlzQWxsQ29tcGxldGU6IGZhbHNlLFxuICAgICAgaXNBbGxQYXVzZWQsXG4gICAgICBpc0FsbEVycm9yZWQsXG4gICAgICBpc1VwbG9hZFN0YXJ0ZWQsXG4gICAgICBpc1VwbG9hZEluUHJvZ3Jlc3MsXG4gICAgICBpc1NvbWVHaG9zdCxcbiAgICAgIHJlY292ZXJlZFN0YXRlLFxuICAgICAgY29tcGxldGU6IGNvbXBsZXRlRmlsZXMubGVuZ3RoLFxuICAgICAgbmV3RmlsZXM6IG5ld0ZpbGVzT3JSZWNvdmVyZWQubGVuZ3RoLFxuICAgICAgbnVtVXBsb2Fkczogc3RhcnRlZEZpbGVzLmxlbmd0aCxcbiAgICAgIHRvdGFsRVRBLFxuICAgICAgZmlsZXMsXG4gICAgICBpMThuOiB0aGlzLmkxOG4sXG4gICAgICB1cHB5OiB0aGlzLnVwcHksXG4gICAgICBzdGFydFVwbG9hZDogdGhpcy5zdGFydFVwbG9hZCxcbiAgICAgIGRvbmVCdXR0b25IYW5kbGVyOiB0aGlzLm9wdHMuZG9uZUJ1dHRvbkhhbmRsZXIsXG4gICAgICByZXN1bWFibGVVcGxvYWRzLFxuICAgICAgc3VwcG9ydHNVcGxvYWRQcm9ncmVzcyxcbiAgICAgIHNob3dQcm9ncmVzc0RldGFpbHM6IHRoaXMub3B0cy5zaG93UHJvZ3Jlc3NEZXRhaWxzLFxuICAgICAgaGlkZVVwbG9hZEJ1dHRvbjogdGhpcy5vcHRzLmhpZGVVcGxvYWRCdXR0b24sXG4gICAgICBoaWRlUmV0cnlCdXR0b246IHRoaXMub3B0cy5oaWRlUmV0cnlCdXR0b24sXG4gICAgICBoaWRlUGF1c2VSZXN1bWVCdXR0b246IHRoaXMub3B0cy5oaWRlUGF1c2VSZXN1bWVCdXR0b24sXG4gICAgICBoaWRlQ2FuY2VsQnV0dG9uOiB0aGlzLm9wdHMuaGlkZUNhbmNlbEJ1dHRvbixcbiAgICAgIGhpZGVBZnRlckZpbmlzaDogdGhpcy5vcHRzLmhpZGVBZnRlckZpbmlzaCxcbiAgICAgIGlzVGFyZ2V0RE9NRWw6IHRoaXMuaXNUYXJnZXRET01FbFxuICAgIH0pO1xuICB9XG5cbiAgb25Nb3VudCgpIHtcbiAgICAvLyBTZXQgdGhlIHRleHQgZGlyZWN0aW9uIGlmIHRoZSBwYWdlIGhhcyBub3QgZGVmaW5lZCBvbmUuXG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWw7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gZ2V0VGV4dERpcmVjdGlvbihlbGVtZW50KTtcblxuICAgIGlmICghZGlyZWN0aW9uKSB7XG4gICAgICBlbGVtZW50LmRpciA9ICdsdHInO1xuICAgIH1cbiAgfVxuXG4gIGluc3RhbGwoKSB7XG4gICAgY29uc3Qge1xuICAgICAgdGFyZ2V0XG4gICAgfSA9IHRoaXMub3B0cztcblxuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHRoaXMubW91bnQodGFyZ2V0LCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICB1bmluc3RhbGwoKSB7XG4gICAgdGhpcy51bm1vdW50KCk7XG4gIH1cblxufVxuU3RhdHVzQmFyLlZFUlNJT04gPSBwYWNrYWdlSnNvbi52ZXJzaW9uOyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgU1RBVEVfRVJST1I6ICdlcnJvcicsXG4gIFNUQVRFX1dBSVRJTkc6ICd3YWl0aW5nJyxcbiAgU1RBVEVfUFJFUFJPQ0VTU0lORzogJ3ByZXByb2Nlc3NpbmcnLFxuICBTVEFURV9VUExPQURJTkc6ICd1cGxvYWRpbmcnLFxuICBTVEFURV9QT1NUUFJPQ0VTU0lORzogJ3Bvc3Rwcm9jZXNzaW5nJyxcbiAgU1RBVEVfQ09NUExFVEU6ICdjb21wbGV0ZSdcbn07IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBzdGF0dXNCYXJTdGF0ZXMgZnJvbSAnLi9TdGF0dXNCYXJTdGF0ZXMuanMnO1xuaW1wb3J0IGNhbGN1bGF0ZVByb2Nlc3NpbmdQcm9ncmVzcyBmcm9tICcuL2NhbGN1bGF0ZVByb2Nlc3NpbmdQcm9ncmVzcy5qcyc7XG5pbXBvcnQgeyBVcGxvYWRCdG4sIFJldHJ5QnRuLCBDYW5jZWxCdG4sIFBhdXNlUmVzdW1lQnV0dG9uLCBEb25lQnRuLCBQcm9ncmVzc0JhclByb2Nlc3NpbmcsIFByb2dyZXNzQmFyRXJyb3IsIFByb2dyZXNzQmFyVXBsb2FkaW5nLCBQcm9ncmVzc0JhckNvbXBsZXRlIH0gZnJvbSBcIi4vQ29tcG9uZW50cy5qc1wiO1xuY29uc3Qge1xuICBTVEFURV9FUlJPUixcbiAgU1RBVEVfV0FJVElORyxcbiAgU1RBVEVfUFJFUFJPQ0VTU0lORyxcbiAgU1RBVEVfVVBMT0FESU5HLFxuICBTVEFURV9QT1NUUFJPQ0VTU0lORyxcbiAgU1RBVEVfQ09NUExFVEVcbn0gPSBzdGF0dXNCYXJTdGF0ZXM7IC8vIFRPRE86IHJlbmFtZSB0aGUgZnVuY3Rpb24gdG8gU3RhdHVzQmFyVUkgb24gdGhlIG5leHQgbWFqb3IuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFN0YXR1c0Jhcihwcm9wcykge1xuICBjb25zdCB7XG4gICAgbmV3RmlsZXMsXG4gICAgYWxsb3dOZXdVcGxvYWQsXG4gICAgaXNVcGxvYWRJblByb2dyZXNzLFxuICAgIGlzQWxsUGF1c2VkLFxuICAgIHJlc3VtYWJsZVVwbG9hZHMsXG4gICAgZXJyb3IsXG4gICAgaGlkZVVwbG9hZEJ1dHRvbixcbiAgICBoaWRlUGF1c2VSZXN1bWVCdXR0b24sXG4gICAgaGlkZUNhbmNlbEJ1dHRvbixcbiAgICBoaWRlUmV0cnlCdXR0b24sXG4gICAgcmVjb3ZlcmVkU3RhdGUsXG4gICAgdXBsb2FkU3RhdGUsXG4gICAgdG90YWxQcm9ncmVzcyxcbiAgICBmaWxlcyxcbiAgICBzdXBwb3J0c1VwbG9hZFByb2dyZXNzLFxuICAgIGhpZGVBZnRlckZpbmlzaCxcbiAgICBpc1NvbWVHaG9zdCxcbiAgICBkb25lQnV0dG9uSGFuZGxlcixcbiAgICBpc1VwbG9hZFN0YXJ0ZWQsXG4gICAgaTE4bixcbiAgICBzdGFydFVwbG9hZCxcbiAgICB1cHB5LFxuICAgIGlzQWxsQ29tcGxldGUsXG4gICAgc2hvd1Byb2dyZXNzRGV0YWlscyxcbiAgICBudW1VcGxvYWRzLFxuICAgIGNvbXBsZXRlLFxuICAgIHRvdGFsU2l6ZSxcbiAgICB0b3RhbEVUQSxcbiAgICB0b3RhbFVwbG9hZGVkU2l6ZVxuICB9ID0gcHJvcHM7XG5cbiAgZnVuY3Rpb24gZ2V0UHJvZ3Jlc3NWYWx1ZSgpIHtcbiAgICBzd2l0Y2ggKHVwbG9hZFN0YXRlKSB7XG4gICAgICBjYXNlIFNUQVRFX1BPU1RQUk9DRVNTSU5HOlxuICAgICAgY2FzZSBTVEFURV9QUkVQUk9DRVNTSU5HOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBjYWxjdWxhdGVQcm9jZXNzaW5nUHJvZ3Jlc3MoZmlsZXMpO1xuXG4gICAgICAgICAgaWYgKHByb2dyZXNzLm1vZGUgPT09ICdkZXRlcm1pbmF0ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9ncmVzcy52YWx1ZSAqIDEwMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdG90YWxQcm9ncmVzcztcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIFNUQVRFX0VSUk9SOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBTVEFURV9VUExPQURJTkc6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoIXN1cHBvcnRzVXBsb2FkUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB0b3RhbFByb2dyZXNzO1xuICAgICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0b3RhbFByb2dyZXNzO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldElzSW5kZXRlcm1pbmF0ZSgpIHtcbiAgICBzd2l0Y2ggKHVwbG9hZFN0YXRlKSB7XG4gICAgICBjYXNlIFNUQVRFX1BPU1RQUk9DRVNTSU5HOlxuICAgICAgY2FzZSBTVEFURV9QUkVQUk9DRVNTSU5HOlxuICAgICAgICB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgbW9kZVxuICAgICAgICAgIH0gPSBjYWxjdWxhdGVQcm9jZXNzaW5nUHJvZ3Jlc3MoZmlsZXMpO1xuICAgICAgICAgIHJldHVybiBtb2RlID09PSAnaW5kZXRlcm1pbmF0ZSc7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBTVEFURV9VUExPQURJTkc6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoIXN1cHBvcnRzVXBsb2FkUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SXNIaWRkZW4oKSB7XG4gICAgaWYgKHJlY292ZXJlZFN0YXRlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc3dpdGNoICh1cGxvYWRTdGF0ZSkge1xuICAgICAgY2FzZSBTVEFURV9XQUlUSU5HOlxuICAgICAgICByZXR1cm4gaGlkZVVwbG9hZEJ1dHRvbiB8fCBuZXdGaWxlcyA9PT0gMDtcblxuICAgICAgY2FzZSBTVEFURV9DT01QTEVURTpcbiAgICAgICAgcmV0dXJuIGhpZGVBZnRlckZpbmlzaDtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHByb2dyZXNzVmFsdWUgPSBnZXRQcm9ncmVzc1ZhbHVlKCk7XG4gIGNvbnN0IGlzSGlkZGVuID0gZ2V0SXNIaWRkZW4oKTtcbiAgY29uc3Qgd2lkdGggPSBwcm9ncmVzc1ZhbHVlICE9IG51bGwgPyBwcm9ncmVzc1ZhbHVlIDogMTAwO1xuICBjb25zdCBzaG93VXBsb2FkQnRuID0gIWVycm9yICYmIG5ld0ZpbGVzICYmICFpc1VwbG9hZEluUHJvZ3Jlc3MgJiYgIWlzQWxsUGF1c2VkICYmIGFsbG93TmV3VXBsb2FkICYmICFoaWRlVXBsb2FkQnV0dG9uO1xuICBjb25zdCBzaG93Q2FuY2VsQnRuID0gIWhpZGVDYW5jZWxCdXR0b24gJiYgdXBsb2FkU3RhdGUgIT09IFNUQVRFX1dBSVRJTkcgJiYgdXBsb2FkU3RhdGUgIT09IFNUQVRFX0NPTVBMRVRFO1xuICBjb25zdCBzaG93UGF1c2VSZXN1bWVCdG4gPSByZXN1bWFibGVVcGxvYWRzICYmICFoaWRlUGF1c2VSZXN1bWVCdXR0b24gJiYgdXBsb2FkU3RhdGUgPT09IFNUQVRFX1VQTE9BRElORztcbiAgY29uc3Qgc2hvd1JldHJ5QnRuID0gZXJyb3IgJiYgIWlzQWxsQ29tcGxldGUgJiYgIWhpZGVSZXRyeUJ1dHRvbjtcbiAgY29uc3Qgc2hvd0RvbmVCdG4gPSBkb25lQnV0dG9uSGFuZGxlciAmJiB1cGxvYWRTdGF0ZSA9PT0gU1RBVEVfQ09NUExFVEU7XG4gIGNvbnN0IHByb2dyZXNzQ2xhc3NOYW1lcyA9IGNsYXNzTmFtZXMoJ3VwcHktU3RhdHVzQmFyLXByb2dyZXNzJywge1xuICAgICdpcy1pbmRldGVybWluYXRlJzogZ2V0SXNJbmRldGVybWluYXRlKClcbiAgfSk7XG4gIGNvbnN0IHN0YXR1c0JhckNsYXNzTmFtZXMgPSBjbGFzc05hbWVzKCd1cHB5LVN0YXR1c0JhcicsIGBpcy0ke3VwbG9hZFN0YXRlfWAsIHtcbiAgICAnaGFzLWdob3N0cyc6IGlzU29tZUdob3N0XG4gIH0pO1xuICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBzdGF0dXNCYXJDbGFzc05hbWVzLFxuICAgIFwiYXJpYS1oaWRkZW5cIjogaXNIaWRkZW5cbiAgfSwgaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBwcm9ncmVzc0NsYXNzTmFtZXMsXG4gICAgc3R5bGU6IHtcbiAgICAgIHdpZHRoOiBgJHt3aWR0aH0lYFxuICAgIH0sXG4gICAgcm9sZTogXCJwcm9ncmVzc2JhclwiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBgJHt3aWR0aH0lYCxcbiAgICBcImFyaWEtdmFsdWV0ZXh0XCI6IGAke3dpZHRofSVgLFxuICAgIFwiYXJpYS12YWx1ZW1pblwiOiBcIjBcIixcbiAgICBcImFyaWEtdmFsdWVtYXhcIjogXCIxMDBcIixcbiAgICBcImFyaWEtdmFsdWVub3dcIjogcHJvZ3Jlc3NWYWx1ZVxuICB9KSwgKCgpID0+IHtcbiAgICBzd2l0Y2ggKHVwbG9hZFN0YXRlKSB7XG4gICAgICBjYXNlIFNUQVRFX1BSRVBST0NFU1NJTkc6XG4gICAgICBjYXNlIFNUQVRFX1BPU1RQUk9DRVNTSU5HOlxuICAgICAgICByZXR1cm4gaChQcm9ncmVzc0JhclByb2Nlc3NpbmcsIHtcbiAgICAgICAgICBwcm9ncmVzczogY2FsY3VsYXRlUHJvY2Vzc2luZ1Byb2dyZXNzKGZpbGVzKVxuICAgICAgICB9KTtcblxuICAgICAgY2FzZSBTVEFURV9DT01QTEVURTpcbiAgICAgICAgcmV0dXJuIGgoUHJvZ3Jlc3NCYXJDb21wbGV0ZSwge1xuICAgICAgICAgIGkxOG46IGkxOG5cbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgU1RBVEVfRVJST1I6XG4gICAgICAgIHJldHVybiBoKFByb2dyZXNzQmFyRXJyb3IsIHtcbiAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgaTE4bjogaTE4bixcbiAgICAgICAgICBudW1VcGxvYWRzOiBudW1VcGxvYWRzLFxuICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZVxuICAgICAgICB9KTtcblxuICAgICAgY2FzZSBTVEFURV9VUExPQURJTkc6XG4gICAgICAgIHJldHVybiBoKFByb2dyZXNzQmFyVXBsb2FkaW5nLCB7XG4gICAgICAgICAgaTE4bjogaTE4bixcbiAgICAgICAgICBzdXBwb3J0c1VwbG9hZFByb2dyZXNzOiBzdXBwb3J0c1VwbG9hZFByb2dyZXNzLFxuICAgICAgICAgIHRvdGFsUHJvZ3Jlc3M6IHRvdGFsUHJvZ3Jlc3MsXG4gICAgICAgICAgc2hvd1Byb2dyZXNzRGV0YWlsczogc2hvd1Byb2dyZXNzRGV0YWlscyxcbiAgICAgICAgICBpc1VwbG9hZFN0YXJ0ZWQ6IGlzVXBsb2FkU3RhcnRlZCxcbiAgICAgICAgICBpc0FsbENvbXBsZXRlOiBpc0FsbENvbXBsZXRlLFxuICAgICAgICAgIGlzQWxsUGF1c2VkOiBpc0FsbFBhdXNlZCxcbiAgICAgICAgICBuZXdGaWxlczogbmV3RmlsZXMsXG4gICAgICAgICAgbnVtVXBsb2FkczogbnVtVXBsb2FkcyxcbiAgICAgICAgICBjb21wbGV0ZTogY29tcGxldGUsXG4gICAgICAgICAgdG90YWxVcGxvYWRlZFNpemU6IHRvdGFsVXBsb2FkZWRTaXplLFxuICAgICAgICAgIHRvdGFsU2l6ZTogdG90YWxTaXplLFxuICAgICAgICAgIHRvdGFsRVRBOiB0b3RhbEVUQSxcbiAgICAgICAgICBzdGFydFVwbG9hZDogc3RhcnRVcGxvYWRcbiAgICAgICAgfSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSkoKSwgaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktU3RhdHVzQmFyLWFjdGlvbnNcIlxuICB9LCByZWNvdmVyZWRTdGF0ZSB8fCBzaG93VXBsb2FkQnRuID8gaChVcGxvYWRCdG4sIHtcbiAgICBuZXdGaWxlczogbmV3RmlsZXMsXG4gICAgaXNVcGxvYWRTdGFydGVkOiBpc1VwbG9hZFN0YXJ0ZWQsXG4gICAgcmVjb3ZlcmVkU3RhdGU6IHJlY292ZXJlZFN0YXRlLFxuICAgIGkxOG46IGkxOG4sXG4gICAgaXNTb21lR2hvc3Q6IGlzU29tZUdob3N0LFxuICAgIHN0YXJ0VXBsb2FkOiBzdGFydFVwbG9hZCxcbiAgICB1cGxvYWRTdGF0ZTogdXBsb2FkU3RhdGVcbiAgfSkgOiBudWxsLCBzaG93UmV0cnlCdG4gPyBoKFJldHJ5QnRuLCB7XG4gICAgaTE4bjogaTE4bixcbiAgICB1cHB5OiB1cHB5XG4gIH0pIDogbnVsbCwgc2hvd1BhdXNlUmVzdW1lQnRuID8gaChQYXVzZVJlc3VtZUJ1dHRvbiwge1xuICAgIGlzQWxsUGF1c2VkOiBpc0FsbFBhdXNlZCxcbiAgICBpMThuOiBpMThuLFxuICAgIGlzQWxsQ29tcGxldGU6IGlzQWxsQ29tcGxldGUsXG4gICAgcmVzdW1hYmxlVXBsb2FkczogcmVzdW1hYmxlVXBsb2FkcyxcbiAgICB1cHB5OiB1cHB5XG4gIH0pIDogbnVsbCwgc2hvd0NhbmNlbEJ0biA/IGgoQ2FuY2VsQnRuLCB7XG4gICAgaTE4bjogaTE4bixcbiAgICB1cHB5OiB1cHB5XG4gIH0pIDogbnVsbCwgc2hvd0RvbmVCdG4gPyBoKERvbmVCdG4sIHtcbiAgICBpMThuOiBpMThuLFxuICAgIGRvbmVCdXR0b25IYW5kbGVyOiBkb25lQnV0dG9uSGFuZGxlclxuICB9KSA6IG51bGwpKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjYWxjdWxhdGVQcm9jZXNzaW5nUHJvZ3Jlc3MoZmlsZXMpIHtcbiAgY29uc3QgdmFsdWVzID0gW107XG4gIGxldCBtb2RlO1xuICBsZXQgbWVzc2FnZTtcblxuICBmb3IgKGNvbnN0IHtcbiAgICBwcm9ncmVzc1xuICB9IG9mIE9iamVjdC52YWx1ZXMoZmlsZXMpKSB7XG4gICAgY29uc3Qge1xuICAgICAgcHJlcHJvY2VzcyxcbiAgICAgIHBvc3Rwcm9jZXNzXG4gICAgfSA9IHByb2dyZXNzOyAvLyBJbiB0aGUgZnV0dXJlIHdlIHNob3VsZCBwcm9iYWJseSBkbyB0aGlzIGRpZmZlcmVudGx5LiBGb3Igbm93IHdlJ2xsIHRha2UgdGhlXG4gICAgLy8gbW9kZSBhbmQgbWVzc2FnZSBmcm9tIHRoZSBmaXJzdCBmaWxl4oCmXG5cbiAgICBpZiAobWVzc2FnZSA9PSBudWxsICYmIChwcmVwcm9jZXNzIHx8IHBvc3Rwcm9jZXNzKSkge1xuICAgICAgKHtcbiAgICAgICAgbW9kZSxcbiAgICAgICAgbWVzc2FnZVxuICAgICAgfSA9IHByZXByb2Nlc3MgfHwgcG9zdHByb2Nlc3MpO1xuICAgIH1cblxuICAgIGlmICgocHJlcHJvY2VzcyA9PSBudWxsID8gdm9pZCAwIDogcHJlcHJvY2Vzcy5tb2RlKSA9PT0gJ2RldGVybWluYXRlJykgdmFsdWVzLnB1c2gocHJlcHJvY2Vzcy52YWx1ZSk7XG4gICAgaWYgKChwb3N0cHJvY2VzcyA9PSBudWxsID8gdm9pZCAwIDogcG9zdHByb2Nlc3MubW9kZSkgPT09ICdkZXRlcm1pbmF0ZScpIHZhbHVlcy5wdXNoKHBvc3Rwcm9jZXNzLnZhbHVlKTtcbiAgfVxuXG4gIGNvbnN0IHZhbHVlID0gdmFsdWVzLnJlZHVjZSgodG90YWwsIHByb2dyZXNzVmFsdWUpID0+IHtcbiAgICByZXR1cm4gdG90YWwgKyBwcm9ncmVzc1ZhbHVlIC8gdmFsdWVzLmxlbmd0aDtcbiAgfSwgMCk7XG4gIHJldHVybiB7XG4gICAgbW9kZSxcbiAgICBtZXNzYWdlLFxuICAgIHZhbHVlXG4gIH07XG59IiwiZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gXCIuL1N0YXR1c0Jhci5qc1wiOyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgc3RyaW5nczoge1xuICAgIC8vIFNob3duIGluIHRoZSBzdGF0dXMgYmFyIHdoaWxlIGZpbGVzIGFyZSBiZWluZyB1cGxvYWRlZC5cbiAgICB1cGxvYWRpbmc6ICdVcGxvYWRpbmcnLFxuICAgIC8vIFNob3duIGluIHRoZSBzdGF0dXMgYmFyIG9uY2UgYWxsIGZpbGVzIGhhdmUgYmVlbiB1cGxvYWRlZC5cbiAgICBjb21wbGV0ZTogJ0NvbXBsZXRlJyxcbiAgICAvLyBTaG93biBpbiB0aGUgc3RhdHVzIGJhciBpZiBhbiB1cGxvYWQgZmFpbGVkLlxuICAgIHVwbG9hZEZhaWxlZDogJ1VwbG9hZCBmYWlsZWQnLFxuICAgIC8vIFNob3duIGluIHRoZSBzdGF0dXMgYmFyIHdoaWxlIHRoZSB1cGxvYWQgaXMgcGF1c2VkLlxuICAgIHBhdXNlZDogJ1BhdXNlZCcsXG4gICAgLy8gVXNlZCBhcyB0aGUgbGFiZWwgZm9yIHRoZSBidXR0b24gdGhhdCByZXRyaWVzIGFuIHVwbG9hZC5cbiAgICByZXRyeTogJ1JldHJ5JyxcbiAgICAvLyBVc2VkIGFzIHRoZSBsYWJlbCBmb3IgdGhlIGJ1dHRvbiB0aGF0IGNhbmNlbHMgYW4gdXBsb2FkLlxuICAgIGNhbmNlbDogJ0NhbmNlbCcsXG4gICAgLy8gVXNlZCBhcyB0aGUgbGFiZWwgZm9yIHRoZSBidXR0b24gdGhhdCBwYXVzZXMgYW4gdXBsb2FkLlxuICAgIHBhdXNlOiAnUGF1c2UnLFxuICAgIC8vIFVzZWQgYXMgdGhlIGxhYmVsIGZvciB0aGUgYnV0dG9uIHRoYXQgcmVzdW1lcyBhbiB1cGxvYWQuXG4gICAgcmVzdW1lOiAnUmVzdW1lJyxcbiAgICAvLyBVc2VkIGFzIHRoZSBsYWJlbCBmb3IgdGhlIGJ1dHRvbiB0aGF0IHJlc2V0cyB0aGUgdXBsb2FkIHN0YXRlIGFmdGVyIGFuIHVwbG9hZFxuICAgIGRvbmU6ICdEb25lJyxcbiAgICAvLyBXaGVuIGBzaG93UHJvZ3Jlc3NEZXRhaWxzYCBpcyBzZXQsIHNob3dzIHRoZSBudW1iZXIgb2YgZmlsZXMgdGhhdCBoYXZlIGJlZW4gZnVsbHkgdXBsb2FkZWQgc28gZmFyLlxuICAgIGZpbGVzVXBsb2FkZWRPZlRvdGFsOiB7XG4gICAgICAwOiAnJXtjb21wbGV0ZX0gb2YgJXtzbWFydF9jb3VudH0gZmlsZSB1cGxvYWRlZCcsXG4gICAgICAxOiAnJXtjb21wbGV0ZX0gb2YgJXtzbWFydF9jb3VudH0gZmlsZXMgdXBsb2FkZWQnXG4gICAgfSxcbiAgICAvLyBXaGVuIGBzaG93UHJvZ3Jlc3NEZXRhaWxzYCBpcyBzZXQsIHNob3dzIHRoZSBhbW91bnQgb2YgYnl0ZXMgdGhhdCBoYXZlIGJlZW4gdXBsb2FkZWQgc28gZmFyLlxuICAgIGRhdGFVcGxvYWRlZE9mVG90YWw6ICcle2NvbXBsZXRlfSBvZiAle3RvdGFsfScsXG4gICAgLy8gV2hlbiBgc2hvd1Byb2dyZXNzRGV0YWlsc2AgaXMgc2V0LCBzaG93cyBhbiBlc3RpbWF0aW9uIG9mIGhvdyBsb25nIHRoZSB1cGxvYWQgd2lsbCB0YWtlIHRvIGNvbXBsZXRlLlxuICAgIHhUaW1lTGVmdDogJyV7dGltZX0gbGVmdCcsXG4gICAgLy8gVXNlZCBhcyB0aGUgbGFiZWwgZm9yIHRoZSBidXR0b24gdGhhdCBzdGFydHMgYW4gdXBsb2FkLlxuICAgIHVwbG9hZFhGaWxlczoge1xuICAgICAgMDogJ1VwbG9hZCAle3NtYXJ0X2NvdW50fSBmaWxlJyxcbiAgICAgIDE6ICdVcGxvYWQgJXtzbWFydF9jb3VudH0gZmlsZXMnXG4gICAgfSxcbiAgICAvLyBVc2VkIGFzIHRoZSBsYWJlbCBmb3IgdGhlIGJ1dHRvbiB0aGF0IHN0YXJ0cyBhbiB1cGxvYWQsIGlmIGFub3RoZXIgdXBsb2FkIGhhcyBiZWVuIHN0YXJ0ZWQgaW4gdGhlIHBhc3RcbiAgICAvLyBhbmQgbmV3IGZpbGVzIHdlcmUgYWRkZWQgbGF0ZXIuXG4gICAgdXBsb2FkWE5ld0ZpbGVzOiB7XG4gICAgICAwOiAnVXBsb2FkICsle3NtYXJ0X2NvdW50fSBmaWxlJyxcbiAgICAgIDE6ICdVcGxvYWQgKyV7c21hcnRfY291bnR9IGZpbGVzJ1xuICAgIH0sXG4gICAgdXBsb2FkOiAnVXBsb2FkJyxcbiAgICByZXRyeVVwbG9hZDogJ1JldHJ5IHVwbG9hZCcsXG4gICAgeE1vcmVGaWxlc0FkZGVkOiB7XG4gICAgICAwOiAnJXtzbWFydF9jb3VudH0gbW9yZSBmaWxlIGFkZGVkJyxcbiAgICAgIDE6ICcle3NtYXJ0X2NvdW50fSBtb3JlIGZpbGVzIGFkZGVkJ1xuICAgIH0sXG4gICAgc2hvd0Vycm9yRGV0YWlsczogJ1Nob3cgZXJyb3IgZGV0YWlscydcbiAgfVxufTsiLCJmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVjZWl2ZXIsIHByaXZhdGVLZXkpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gdXNlIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpOyB9IHJldHVybiByZWNlaXZlcjsgfVxuXG52YXIgaWQgPSAwO1xuXG5mdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShuYW1lKSB7IHJldHVybiBcIl9fcHJpdmF0ZV9cIiArIGlkKysgKyBcIl9cIiArIG5hbWU7IH1cblxuY29uc3QgcGFja2FnZUpzb24gPSB7XG4gIFwidmVyc2lvblwiOiBcIjMuMC4yXCJcbn07XG4vKipcbiAqIERlZmF1bHQgc3RvcmUgdGhhdCBrZWVwcyBzdGF0ZSBpbiBhIHNpbXBsZSBvYmplY3QuXG4gKi9cblxudmFyIF9jYWxsYmFja3MgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJjYWxsYmFja3NcIik7XG5cbnZhciBfcHVibGlzaCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInB1Ymxpc2hcIik7XG5cbmNsYXNzIERlZmF1bHRTdG9yZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcHVibGlzaCwge1xuICAgICAgdmFsdWU6IF9wdWJsaXNoMlxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfY2FsbGJhY2tzLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBuZXcgU2V0KClcbiAgICB9KTtcbiAgICB0aGlzLnN0YXRlID0ge307XG4gIH1cblxuICBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIHNldFN0YXRlKHBhdGNoKSB7XG4gICAgY29uc3QgcHJldlN0YXRlID0geyAuLi50aGlzLnN0YXRlXG4gICAgfTtcbiAgICBjb25zdCBuZXh0U3RhdGUgPSB7IC4uLnRoaXMuc3RhdGUsXG4gICAgICAuLi5wYXRjaFxuICAgIH07XG4gICAgdGhpcy5zdGF0ZSA9IG5leHRTdGF0ZTtcblxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHVibGlzaClbX3B1Ymxpc2hdKHByZXZTdGF0ZSwgbmV4dFN0YXRlLCBwYXRjaCk7XG4gIH1cblxuICBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NhbGxiYWNrcylbX2NhbGxiYWNrc10uYWRkKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NhbGxiYWNrcylbX2NhbGxiYWNrc10uZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB9O1xuICB9XG5cbn1cblxuZnVuY3Rpb24gX3B1Ymxpc2gyKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jYWxsYmFja3MpW19jYWxsYmFja3NdLmZvckVhY2gobGlzdGVuZXIgPT4ge1xuICAgIGxpc3RlbmVyKC4uLmFyZ3MpO1xuICB9KTtcbn1cblxuRGVmYXVsdFN0b3JlLlZFUlNJT04gPSBwYWNrYWdlSnNvbi52ZXJzaW9uO1xuZXhwb3J0IGRlZmF1bHQgRGVmYXVsdFN0b3JlOyIsImltcG9ydCB7IFVJUGx1Z2luIH0gZnJvbSAnQHVwcHkvY29yZSc7XG5pbXBvcnQgZGF0YVVSSXRvQmxvYiBmcm9tICdAdXBweS91dGlscy9saWIvZGF0YVVSSXRvQmxvYic7XG5pbXBvcnQgaXNPYmplY3RVUkwgZnJvbSAnQHVwcHkvdXRpbHMvbGliL2lzT2JqZWN0VVJMJztcbmltcG9ydCBpc1ByZXZpZXdTdXBwb3J0ZWQgZnJvbSAnQHVwcHkvdXRpbHMvbGliL2lzUHJldmlld1N1cHBvcnRlZCc7XG5pbXBvcnQgeyByb3RhdGlvbiB9IGZyb20gJ2V4aWZyL2Rpc3QvbWluaS5lc20ubWpzJztcbmltcG9ydCBsb2NhbGUgZnJvbSAnLi9sb2NhbGUuanMnO1xuY29uc3QgcGFja2FnZUpzb24gPSB7XG4gIFwidmVyc2lvblwiOiBcIjMuMC4yXCJcbn07XG4vKipcbiAqIFNhdmUgYSA8Y2FudmFzPiBlbGVtZW50J3MgY29udGVudCB0byBhIEJsb2Igb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhc1xuICogQHJldHVybnMge1Byb21pc2V9XG4gKi9cblxuZnVuY3Rpb24gY2FudmFzVG9CbG9iKGNhbnZhcywgdHlwZSwgcXVhbGl0eSkge1xuICB0cnkge1xuICAgIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKGVyci5jb2RlID09PSAxOCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignY2Fubm90IHJlYWQgaW1hZ2UsIHByb2JhYmx5IGFuIHN2ZyB3aXRoIGV4dGVybmFsIHJlc291cmNlcycpKTtcbiAgICB9XG4gIH1cblxuICBpZiAoY2FudmFzLnRvQmxvYikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGNhbnZhcy50b0Jsb2IocmVzb2x2ZSwgdHlwZSwgcXVhbGl0eSk7XG4gICAgfSkudGhlbihibG9iID0+IHtcbiAgICAgIGlmIChibG9iID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2Fubm90IHJlYWQgaW1hZ2UsIHByb2JhYmx5IGFuIHN2ZyB3aXRoIGV4dGVybmFsIHJlc291cmNlcycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmxvYjtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICByZXR1cm4gZGF0YVVSSXRvQmxvYihjYW52YXMudG9EYXRhVVJMKHR5cGUsIHF1YWxpdHkpLCB7fSk7XG4gIH0pLnRoZW4oYmxvYiA9PiB7XG4gICAgaWYgKGJsb2IgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IGV4dHJhY3QgYmxvYiwgcHJvYmFibHkgYW4gb2xkIGJyb3dzZXInKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmxvYjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJvdGF0ZUltYWdlKGltYWdlLCB0cmFuc2xhdGUpIHtcbiAgbGV0IHcgPSBpbWFnZS53aWR0aDtcbiAgbGV0IGggPSBpbWFnZS5oZWlnaHQ7XG5cbiAgaWYgKHRyYW5zbGF0ZS5kZWcgPT09IDkwIHx8IHRyYW5zbGF0ZS5kZWcgPT09IDI3MCkge1xuICAgIHcgPSBpbWFnZS5oZWlnaHQ7XG4gICAgaCA9IGltYWdlLndpZHRoO1xuICB9XG5cbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIGNhbnZhcy53aWR0aCA9IHc7XG4gIGNhbnZhcy5oZWlnaHQgPSBoO1xuICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gIGNvbnRleHQudHJhbnNsYXRlKHcgLyAyLCBoIC8gMik7XG5cbiAgaWYgKHRyYW5zbGF0ZS5jYW52YXMpIHtcbiAgICBjb250ZXh0LnJvdGF0ZSh0cmFuc2xhdGUucmFkKTtcbiAgICBjb250ZXh0LnNjYWxlKHRyYW5zbGF0ZS5zY2FsZVgsIHRyYW5zbGF0ZS5zY2FsZVkpO1xuICB9XG5cbiAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIC1pbWFnZS53aWR0aCAvIDIsIC1pbWFnZS5oZWlnaHQgLyAyLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTtcbiAgcmV0dXJuIGNhbnZhcztcbn1cbi8qKlxuICogTWFrZSBzdXJlIHRoZSBpbWFnZSBkb2VzbuKAmXQgZXhjZWVkIGJyb3dzZXIvZGV2aWNlIGNhbnZhcyBsaW1pdHMuXG4gKiBGb3IgaW9zIHdpdGggMjU2IFJBTSBhbmQgaWVcbiAqL1xuXG5cbmZ1bmN0aW9uIHByb3RlY3QoaW1hZ2UpIHtcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjA4MTQ4My9tYXhpbXVtLXNpemUtb2YtYS1jYW52YXMtZWxlbWVudFxuICBjb25zdCByYXRpbyA9IGltYWdlLndpZHRoIC8gaW1hZ2UuaGVpZ2h0O1xuICBjb25zdCBtYXhTcXVhcmUgPSA1MDAwMDAwOyAvLyBpb3MgbWF4IGNhbnZhcyBzcXVhcmVcblxuICBjb25zdCBtYXhTaXplID0gNDA5NjsgLy8gaWUgbWF4IGNhbnZhcyBkaW1lbnNpb25zXG5cbiAgbGV0IG1heFcgPSBNYXRoLmZsb29yKE1hdGguc3FydChtYXhTcXVhcmUgKiByYXRpbykpO1xuICBsZXQgbWF4SCA9IE1hdGguZmxvb3IobWF4U3F1YXJlIC8gTWF0aC5zcXJ0KG1heFNxdWFyZSAqIHJhdGlvKSk7XG5cbiAgaWYgKG1heFcgPiBtYXhTaXplKSB7XG4gICAgbWF4VyA9IG1heFNpemU7XG4gICAgbWF4SCA9IE1hdGgucm91bmQobWF4VyAvIHJhdGlvKTtcbiAgfVxuXG4gIGlmIChtYXhIID4gbWF4U2l6ZSkge1xuICAgIG1heEggPSBtYXhTaXplO1xuICAgIG1heFcgPSBNYXRoLnJvdW5kKHJhdGlvICogbWF4SCk7XG4gIH1cblxuICBpZiAoaW1hZ2Uud2lkdGggPiBtYXhXKSB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gbWF4VztcbiAgICBjYW52YXMuaGVpZ2h0ID0gbWF4SDtcbiAgICBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIG1heFcsIG1heEgpO1xuICAgIHJldHVybiBjYW52YXM7XG4gIH1cblxuICByZXR1cm4gaW1hZ2U7XG59XG4vKipcbiAqIFRoZSBUaHVtYm5haWwgR2VuZXJhdG9yIHBsdWdpblxuICovXG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGh1bWJuYWlsR2VuZXJhdG9yIGV4dGVuZHMgVUlQbHVnaW4ge1xuICBjb25zdHJ1Y3Rvcih1cHB5LCBvcHRzKSB7XG4gICAgc3VwZXIodXBweSwgb3B0cyk7XG5cbiAgICB0aGlzLm9uRmlsZUFkZGVkID0gZmlsZSA9PiB7XG4gICAgICBpZiAoIWZpbGUucHJldmlldyAmJiBmaWxlLmRhdGEgJiYgaXNQcmV2aWV3U3VwcG9ydGVkKGZpbGUudHlwZSkgJiYgIWZpbGUuaXNSZW1vdGUpIHtcbiAgICAgICAgdGhpcy5hZGRUb1F1ZXVlKGZpbGUuaWQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm9uQ2FuY2VsUmVxdWVzdCA9IGZpbGUgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnF1ZXVlLmluZGV4T2YoZmlsZS5pZCk7XG5cbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgdGhpcy5xdWV1ZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm9uRmlsZVJlbW92ZWQgPSBmaWxlID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5xdWV1ZS5pbmRleE9mKGZpbGUuaWQpO1xuXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHRoaXMucXVldWUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH0gLy8gQ2xlYW4gdXAgb2JqZWN0IFVSTHMuXG5cblxuICAgICAgaWYgKGZpbGUucHJldmlldyAmJiBpc09iamVjdFVSTChmaWxlLnByZXZpZXcpKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoZmlsZS5wcmV2aWV3KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5vblJlc3RvcmVkID0gKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdG9yZWRGaWxlcyA9IHRoaXMudXBweS5nZXRGaWxlcygpLmZpbHRlcihmaWxlID0+IGZpbGUuaXNSZXN0b3JlZCk7XG4gICAgICByZXN0b3JlZEZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICAgIC8vIE9ubHkgYWRkIGJsb2IgVVJMczsgdGhleSBhcmUgbGlrZWx5IGludmFsaWQgYWZ0ZXIgYmVpbmcgcmVzdG9yZWQuXG4gICAgICAgIGlmICghZmlsZS5wcmV2aWV3IHx8IGlzT2JqZWN0VVJMKGZpbGUucHJldmlldykpIHtcbiAgICAgICAgICB0aGlzLmFkZFRvUXVldWUoZmlsZS5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLm9uQWxsRmlsZXNSZW1vdmVkID0gKCkgPT4ge1xuICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIH07XG5cbiAgICB0aGlzLndhaXRVbnRpbEFsbFByb2Nlc3NlZCA9IGZpbGVJRHMgPT4ge1xuICAgICAgZmlsZUlEcy5mb3JFYWNoKGZpbGVJRCA9PiB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnVwcHkuZ2V0RmlsZShmaWxlSUQpO1xuICAgICAgICB0aGlzLnVwcHkuZW1pdCgncHJlcHJvY2Vzcy1wcm9ncmVzcycsIGZpbGUsIHtcbiAgICAgICAgICBtb2RlOiAnaW5kZXRlcm1pbmF0ZScsXG4gICAgICAgICAgbWVzc2FnZTogdGhpcy5pMThuKCdnZW5lcmF0aW5nVGh1bWJuYWlscycpXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGVtaXRQcmVwcm9jZXNzQ29tcGxldGVGb3JBbGwgPSAoKSA9PiB7XG4gICAgICAgIGZpbGVJRHMuZm9yRWFjaChmaWxlSUQgPT4ge1xuICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnVwcHkuZ2V0RmlsZShmaWxlSUQpO1xuICAgICAgICAgIHRoaXMudXBweS5lbWl0KCdwcmVwcm9jZXNzLWNvbXBsZXRlJywgZmlsZSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICBpZiAodGhpcy5xdWV1ZVByb2Nlc3NpbmcpIHtcbiAgICAgICAgICB0aGlzLnVwcHkub25jZSgndGh1bWJuYWlsOmFsbC1nZW5lcmF0ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICBlbWl0UHJlcHJvY2Vzc0NvbXBsZXRlRm9yQWxsKCk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW1pdFByZXByb2Nlc3NDb21wbGV0ZUZvckFsbCgpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMudHlwZSA9ICdtb2RpZmllcic7XG4gICAgdGhpcy5pZCA9IHRoaXMub3B0cy5pZCB8fCAnVGh1bWJuYWlsR2VuZXJhdG9yJztcbiAgICB0aGlzLnRpdGxlID0gJ1RodW1ibmFpbCBHZW5lcmF0b3InO1xuICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICB0aGlzLnF1ZXVlUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgIHRoaXMuZGVmYXVsdFRodW1ibmFpbERpbWVuc2lvbiA9IDIwMDtcbiAgICB0aGlzLnRodW1ibmFpbFR5cGUgPSB0aGlzLm9wdHMudGh1bWJuYWlsVHlwZSB8fCAnaW1hZ2UvanBlZyc7XG4gICAgdGhpcy5kZWZhdWx0TG9jYWxlID0gbG9jYWxlO1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgdGh1bWJuYWlsV2lkdGg6IG51bGwsXG4gICAgICB0aHVtYm5haWxIZWlnaHQ6IG51bGwsXG4gICAgICB3YWl0Rm9yVGh1bWJuYWlsc0JlZm9yZVVwbG9hZDogZmFsc2UsXG4gICAgICBsYXp5OiBmYWxzZVxuICAgIH07XG4gICAgdGhpcy5vcHRzID0geyAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIC4uLm9wdHNcbiAgICB9O1xuICAgIHRoaXMuaTE4bkluaXQoKTtcblxuICAgIGlmICh0aGlzLm9wdHMubGF6eSAmJiB0aGlzLm9wdHMud2FpdEZvclRodW1ibmFpbHNCZWZvcmVVcGxvYWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGh1bWJuYWlsR2VuZXJhdG9yOiBUaGUgYGxhenlgIGFuZCBgd2FpdEZvclRodW1ibmFpbHNCZWZvcmVVcGxvYWRgIG9wdGlvbnMgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZS4gUGxlYXNlIGVuc3VyZSBhdCBtb3N0IG9uZSBvZiB0aGVtIGlzIHNldCB0byBgdHJ1ZWAuJyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSB0aHVtYm5haWwgZm9yIHRoZSBnaXZlbiBVcHB5IGZpbGUgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge3tkYXRhOiBCbG9ifX0gZmlsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0V2lkdGhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldEhlaWdodFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG5cblxuICBjcmVhdGVUaHVtYm5haWwoZmlsZSwgdGFyZ2V0V2lkdGgsIHRhcmdldEhlaWdodCkge1xuICAgIGNvbnN0IG9yaWdpbmFsVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlLmRhdGEpO1xuICAgIGNvbnN0IG9ubG9hZCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZS5zcmMgPSBvcmlnaW5hbFVybDtcbiAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwob3JpZ2luYWxVcmwpO1xuICAgICAgICByZXNvbHZlKGltYWdlKTtcbiAgICAgIH0pO1xuICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBldmVudCA9PiB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwob3JpZ2luYWxVcmwpO1xuICAgICAgICByZWplY3QoZXZlbnQuZXJyb3IgfHwgbmV3IEVycm9yKCdDb3VsZCBub3QgY3JlYXRlIHRodW1ibmFpbCcpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IG9yaWVudGF0aW9uUHJvbWlzZSA9IHJvdGF0aW9uKGZpbGUuZGF0YSkuY2F0Y2goKCkgPT4gMSk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtvbmxvYWQsIG9yaWVudGF0aW9uUHJvbWlzZV0pLnRoZW4oX3JlZiA9PiB7XG4gICAgICBsZXQgW2ltYWdlLCBvcmllbnRhdGlvbl0gPSBfcmVmO1xuICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMuZ2V0UHJvcG9ydGlvbmFsRGltZW5zaW9ucyhpbWFnZSwgdGFyZ2V0V2lkdGgsIHRhcmdldEhlaWdodCwgb3JpZW50YXRpb24uZGVnKTtcbiAgICAgIGNvbnN0IHJvdGF0ZWRJbWFnZSA9IHJvdGF0ZUltYWdlKGltYWdlLCBvcmllbnRhdGlvbik7XG4gICAgICBjb25zdCByZXNpemVkSW1hZ2UgPSB0aGlzLnJlc2l6ZUltYWdlKHJvdGF0ZWRJbWFnZSwgZGltZW5zaW9ucy53aWR0aCwgZGltZW5zaW9ucy5oZWlnaHQpO1xuICAgICAgcmV0dXJuIGNhbnZhc1RvQmxvYihyZXNpemVkSW1hZ2UsIHRoaXMudGh1bWJuYWlsVHlwZSwgODApO1xuICAgIH0pLnRoZW4oYmxvYiA9PiB7XG4gICAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBuZXcgY2FsY3VsYXRlZCBkaW1lbnNpb25zIGZvciB0aGUgZ2l2ZW4gaW1hZ2UgYW5kIGEgdGFyZ2V0IHdpZHRoXG4gICAqIG9yIGhlaWdodC4gSWYgYm90aCB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBnaXZlbiwgb25seSB3aWR0aCBpcyB0YWtlbiBpbnRvXG4gICAqIGFjY291bnQuIElmIG5laXRoZXIgd2lkdGggbm9yIGhlaWdodCBhcmUgZ2l2ZW4sIHRoZSBkZWZhdWx0IGRpbWVuc2lvblxuICAgKiBpcyB1c2VkLlxuICAgKi9cblxuXG4gIGdldFByb3BvcnRpb25hbERpbWVuc2lvbnMoaW1nLCB3aWR0aCwgaGVpZ2h0LCByb3RhdGlvbikge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2hhZG93XG4gICAgbGV0IGFzcGVjdCA9IGltZy53aWR0aCAvIGltZy5oZWlnaHQ7XG5cbiAgICBpZiAocm90YXRpb24gPT09IDkwIHx8IHJvdGF0aW9uID09PSAyNzApIHtcbiAgICAgIGFzcGVjdCA9IGltZy5oZWlnaHQgLyBpbWcud2lkdGg7XG4gICAgfVxuXG4gICAgaWYgKHdpZHRoICE9IG51bGwpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IE1hdGgucm91bmQod2lkdGggLyBhc3BlY3QpXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChoZWlnaHQgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IE1hdGgucm91bmQoaGVpZ2h0ICogYXNwZWN0KSxcbiAgICAgICAgaGVpZ2h0XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogdGhpcy5kZWZhdWx0VGh1bWJuYWlsRGltZW5zaW9uLFxuICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKHRoaXMuZGVmYXVsdFRodW1ibmFpbERpbWVuc2lvbiAvIGFzcGVjdClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXNpemUgYW4gaW1hZ2UgdG8gdGhlIHRhcmdldCBgd2lkdGhgIGFuZCBgaGVpZ2h0YC5cbiAgICpcbiAgICogUmV0dXJucyBhIENhbnZhcyB3aXRoIHRoZSByZXNpemVkIGltYWdlIG9uIGl0LlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcblxuXG4gIHJlc2l6ZUltYWdlKGltYWdlLCB0YXJnZXRXaWR0aCwgdGFyZ2V0SGVpZ2h0KSB7XG4gICAgLy8gUmVzaXppbmcgaW4gc3RlcHMgcmVmYWN0b3JlZCB0byB1c2UgYSBzb2x1dGlvbiBmcm9tXG4gICAgLy8gaHR0cHM6Ly9ibG9nLnVwbG9hZGNhcmUuY29tL2ltYWdlLXJlc2l6ZS1pbi1icm93c2Vycy1pcy1icm9rZW4tZTM4ZWVkMDhkZjAxXG4gICAgbGV0IGltZyA9IHByb3RlY3QoaW1hZ2UpO1xuICAgIGxldCBzdGVwcyA9IE1hdGguY2VpbChNYXRoLmxvZzIoaW1nLndpZHRoIC8gdGFyZ2V0V2lkdGgpKTtcblxuICAgIGlmIChzdGVwcyA8IDEpIHtcbiAgICAgIHN0ZXBzID0gMTtcbiAgICB9XG5cbiAgICBsZXQgc1cgPSB0YXJnZXRXaWR0aCAqIDIgKiogKHN0ZXBzIC0gMSk7XG4gICAgbGV0IHNIID0gdGFyZ2V0SGVpZ2h0ICogMiAqKiAoc3RlcHMgLSAxKTtcbiAgICBjb25zdCB4ID0gMjtcblxuICAgIHdoaWxlIChzdGVwcy0tKSB7XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHNXO1xuICAgICAgY2FudmFzLmhlaWdodCA9IHNIO1xuICAgICAgY2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKGltZywgMCwgMCwgc1csIHNIKTtcbiAgICAgIGltZyA9IGNhbnZhcztcbiAgICAgIHNXID0gTWF0aC5yb3VuZChzVyAvIHgpO1xuICAgICAgc0ggPSBNYXRoLnJvdW5kKHNIIC8geCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGltZztcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBwcmV2aWV3IFVSTCBmb3IgYSBmaWxlLlxuICAgKi9cblxuXG4gIHNldFByZXZpZXdVUkwoZmlsZUlELCBwcmV2aWV3KSB7XG4gICAgdGhpcy51cHB5LnNldEZpbGVTdGF0ZShmaWxlSUQsIHtcbiAgICAgIHByZXZpZXdcbiAgICB9KTtcbiAgfVxuXG4gIGFkZFRvUXVldWUoaXRlbSkge1xuICAgIHRoaXMucXVldWUucHVzaChpdGVtKTtcblxuICAgIGlmICh0aGlzLnF1ZXVlUHJvY2Vzc2luZyA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvY2Vzc1F1ZXVlKCkge1xuICAgIHRoaXMucXVldWVQcm9jZXNzaW5nID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLnVwcHkuZ2V0RmlsZSh0aGlzLnF1ZXVlLnNoaWZ0KCkpO1xuXG4gICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgdGhpcy51cHB5LmxvZygnW1RodW1ibmFpbEdlbmVyYXRvcl0gZmlsZSB3YXMgcmVtb3ZlZCBiZWZvcmUgYSB0aHVtYm5haWwgY291bGQgYmUgZ2VuZXJhdGVkLCBidXQgbm90IHJlbW92ZWQgZnJvbSB0aGUgcXVldWUuIFRoaXMgaXMgcHJvYmFibHkgYSBidWcnLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0VGh1bWJuYWlsKGN1cnJlbnQpLmNhdGNoKCgpID0+IHt9KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vZGUvaGFuZGxlLWNhbGxiYWNrLWVyclxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5wcm9jZXNzUXVldWUoKSk7XG4gICAgfVxuXG4gICAgdGhpcy5xdWV1ZVByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnVwcHkubG9nKCdbVGh1bWJuYWlsR2VuZXJhdG9yXSBFbXB0aWVkIHRodW1ibmFpbCBxdWV1ZScpO1xuICAgIHRoaXMudXBweS5lbWl0KCd0aHVtYm5haWw6YWxsLWdlbmVyYXRlZCcpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIHJlcXVlc3RUaHVtYm5haWwoZmlsZSkge1xuICAgIGlmIChpc1ByZXZpZXdTdXBwb3J0ZWQoZmlsZS50eXBlKSAmJiAhZmlsZS5pc1JlbW90ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlVGh1bWJuYWlsKGZpbGUsIHRoaXMub3B0cy50aHVtYm5haWxXaWR0aCwgdGhpcy5vcHRzLnRodW1ibmFpbEhlaWdodCkudGhlbihwcmV2aWV3ID0+IHtcbiAgICAgICAgdGhpcy5zZXRQcmV2aWV3VVJMKGZpbGUuaWQsIHByZXZpZXcpO1xuICAgICAgICB0aGlzLnVwcHkubG9nKGBbVGh1bWJuYWlsR2VuZXJhdG9yXSBHZW5lcmF0ZWQgdGh1bWJuYWlsIGZvciAke2ZpbGUuaWR9YCk7XG4gICAgICAgIHRoaXMudXBweS5lbWl0KCd0aHVtYm5haWw6Z2VuZXJhdGVkJywgdGhpcy51cHB5LmdldEZpbGUoZmlsZS5pZCksIHByZXZpZXcpO1xuICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgdGhpcy51cHB5LmxvZyhgW1RodW1ibmFpbEdlbmVyYXRvcl0gRmFpbGVkIHRodW1ibmFpbCBmb3IgJHtmaWxlLmlkfTpgLCAnd2FybmluZycpO1xuICAgICAgICB0aGlzLnVwcHkubG9nKGVyciwgJ3dhcm5pbmcnKTtcbiAgICAgICAgdGhpcy51cHB5LmVtaXQoJ3RodW1ibmFpbDplcnJvcicsIHRoaXMudXBweS5nZXRGaWxlKGZpbGUuaWQpLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgaW5zdGFsbCgpIHtcbiAgICB0aGlzLnVwcHkub24oJ2ZpbGUtcmVtb3ZlZCcsIHRoaXMub25GaWxlUmVtb3ZlZCk7XG4gICAgdGhpcy51cHB5Lm9uKCdjYW5jZWwtYWxsJywgdGhpcy5vbkFsbEZpbGVzUmVtb3ZlZCk7XG5cbiAgICBpZiAodGhpcy5vcHRzLmxhenkpIHtcbiAgICAgIHRoaXMudXBweS5vbigndGh1bWJuYWlsOnJlcXVlc3QnLCB0aGlzLm9uRmlsZUFkZGVkKTtcbiAgICAgIHRoaXMudXBweS5vbigndGh1bWJuYWlsOmNhbmNlbCcsIHRoaXMub25DYW5jZWxSZXF1ZXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cHB5Lm9uKCdmaWxlLWFkZGVkJywgdGhpcy5vbkZpbGVBZGRlZCk7XG4gICAgICB0aGlzLnVwcHkub24oJ3Jlc3RvcmVkJywgdGhpcy5vblJlc3RvcmVkKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRzLndhaXRGb3JUaHVtYm5haWxzQmVmb3JlVXBsb2FkKSB7XG4gICAgICB0aGlzLnVwcHkuYWRkUHJlUHJvY2Vzc29yKHRoaXMud2FpdFVudGlsQWxsUHJvY2Vzc2VkKTtcbiAgICB9XG4gIH1cblxuICB1bmluc3RhbGwoKSB7XG4gICAgdGhpcy51cHB5Lm9mZignZmlsZS1yZW1vdmVkJywgdGhpcy5vbkZpbGVSZW1vdmVkKTtcbiAgICB0aGlzLnVwcHkub2ZmKCdjYW5jZWwtYWxsJywgdGhpcy5vbkFsbEZpbGVzUmVtb3ZlZCk7XG5cbiAgICBpZiAodGhpcy5vcHRzLmxhenkpIHtcbiAgICAgIHRoaXMudXBweS5vZmYoJ3RodW1ibmFpbDpyZXF1ZXN0JywgdGhpcy5vbkZpbGVBZGRlZCk7XG4gICAgICB0aGlzLnVwcHkub2ZmKCd0aHVtYm5haWw6Y2FuY2VsJywgdGhpcy5vbkNhbmNlbFJlcXVlc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVwcHkub2ZmKCdmaWxlLWFkZGVkJywgdGhpcy5vbkZpbGVBZGRlZCk7XG4gICAgICB0aGlzLnVwcHkub2ZmKCdyZXN0b3JlZCcsIHRoaXMub25SZXN0b3JlZCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0cy53YWl0Rm9yVGh1bWJuYWlsc0JlZm9yZVVwbG9hZCkge1xuICAgICAgdGhpcy51cHB5LnJlbW92ZVByZVByb2Nlc3Nvcih0aGlzLndhaXRVbnRpbEFsbFByb2Nlc3NlZCk7XG4gICAgfVxuICB9XG5cbn1cblRodW1ibmFpbEdlbmVyYXRvci5WRVJTSU9OID0gcGFja2FnZUpzb24udmVyc2lvbjsiLCJleHBvcnQgZGVmYXVsdCB7XG4gIHN0cmluZ3M6IHtcbiAgICBnZW5lcmF0aW5nVGh1bWJuYWlsczogJ0dlbmVyYXRpbmcgdGh1bWJuYWlscy4uLidcbiAgfVxufTsiLCJpbXBvcnQgKiBhcyB0dXMgZnJvbSAndHVzLWpzLWNsaWVudCc7XG5cbmZ1bmN0aW9uIGlzQ29yZG92YSgpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICh0eXBlb2Ygd2luZG93LlBob25lR2FwICE9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygd2luZG93LkNvcmRvdmEgIT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cuY29yZG92YSAhPT0gJ3VuZGVmaW5lZCcpO1xufVxuXG5mdW5jdGlvbiBpc1JlYWN0TmF0aXZlKCkge1xuICByZXR1cm4gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnc3RyaW5nJyAmJiBuYXZpZ2F0b3IucHJvZHVjdC50b0xvd2VyQ2FzZSgpID09PSAncmVhY3RuYXRpdmUnO1xufSAvLyBXZSBvdmVycmlkZSB0dXMgZmluZ2VycHJpbnQgdG8gdXBweeKAmXMgYGZpbGUuaWRgLCBzaW5jZSB0aGUgYGZpbGUuaWRgXG4vLyBub3cgYWxzbyBpbmNsdWRlcyBgcmVsYXRpdmVQYXRoYCBmb3IgZmlsZXMgYWRkZWQgZnJvbSBmb2xkZXJzLlxuLy8gVGhpcyBtZWFucyB5b3UgY2FuIGFkZCAyIGlkZW50aWNhbCBmaWxlcywgaWYgb25lIGlzIGluIGZvbGRlciBhLFxuLy8gdGhlIG90aGVyIGluIGZvbGRlciBiIOKAlCBgYS9maWxlLmpwZ2AgYW5kIGBiL2ZpbGUuanBnYCwgd2hlbiBhZGRlZFxuLy8gdG9nZXRoZXIgd2l0aCBhIGZvbGRlciwgd2lsbCBiZSB0cmVhdGVkIGFzIDIgc2VwYXJhdGUgZmlsZXMuXG4vL1xuLy8gRm9yIFJlYWN0IE5hdGl2ZSBhbmQgQ29yZG92YSwgd2UgbGV0IHR1cy1qcy1jbGllbnTigJlzIGRlZmF1bHRcbi8vIGZpbmdlcnByaW50IGhhbmRsaW5nIHRha2UgY2hhcmdlLlxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEZpbmdlcnByaW50KHVwcHlGaWxlT2JqKSB7XG4gIHJldHVybiAoZmlsZSwgb3B0aW9ucykgPT4ge1xuICAgIGlmIChpc0NvcmRvdmEoKSB8fCBpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgIHJldHVybiB0dXMuZGVmYXVsdE9wdGlvbnMuZmluZ2VycHJpbnQoZmlsZSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgY29uc3QgdXBweUZpbmdlcnByaW50ID0gWyd0dXMnLCB1cHB5RmlsZU9iai5pZCwgb3B0aW9ucy5lbmRwb2ludF0uam9pbignLScpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXBweUZpbmdlcnByaW50KTtcbiAgfTtcbn0iLCJmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVjZWl2ZXIsIHByaXZhdGVLZXkpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gdXNlIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpOyB9IHJldHVybiByZWNlaXZlcjsgfVxuXG52YXIgaWQgPSAwO1xuXG5mdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShuYW1lKSB7IHJldHVybiBcIl9fcHJpdmF0ZV9cIiArIGlkKysgKyBcIl9cIiArIG5hbWU7IH1cblxuaW1wb3J0IEJhc2VQbHVnaW4gZnJvbSAnQHVwcHkvY29yZS9saWIvQmFzZVBsdWdpbi5qcyc7XG5pbXBvcnQgKiBhcyB0dXMgZnJvbSAndHVzLWpzLWNsaWVudCc7XG5pbXBvcnQgeyBQcm92aWRlciwgUmVxdWVzdENsaWVudCwgU29ja2V0IH0gZnJvbSAnQHVwcHkvY29tcGFuaW9uLWNsaWVudCc7XG5pbXBvcnQgZW1pdFNvY2tldFByb2dyZXNzIGZyb20gJ0B1cHB5L3V0aWxzL2xpYi9lbWl0U29ja2V0UHJvZ3Jlc3MnO1xuaW1wb3J0IGdldFNvY2tldEhvc3QgZnJvbSAnQHVwcHkvdXRpbHMvbGliL2dldFNvY2tldEhvc3QnO1xuaW1wb3J0IHNldHRsZSBmcm9tICdAdXBweS91dGlscy9saWIvc2V0dGxlJztcbmltcG9ydCBFdmVudFRyYWNrZXIgZnJvbSAnQHVwcHkvdXRpbHMvbGliL0V2ZW50VHJhY2tlcic7XG5pbXBvcnQgTmV0d29ya0Vycm9yIGZyb20gJ0B1cHB5L3V0aWxzL2xpYi9OZXR3b3JrRXJyb3InO1xuaW1wb3J0IGlzTmV0d29ya0Vycm9yIGZyb20gJ0B1cHB5L3V0aWxzL2xpYi9pc05ldHdvcmtFcnJvcic7XG5pbXBvcnQgeyBSYXRlTGltaXRlZFF1ZXVlIH0gZnJvbSAnQHVwcHkvdXRpbHMvbGliL1JhdGVMaW1pdGVkUXVldWUnO1xuaW1wb3J0IGhhc1Byb3BlcnR5IGZyb20gJ0B1cHB5L3V0aWxzL2xpYi9oYXNQcm9wZXJ0eSc7XG5pbXBvcnQgZ2V0RmluZ2VycHJpbnQgZnJvbSAnLi9nZXRGaW5nZXJwcmludC5qcyc7XG5jb25zdCBwYWNrYWdlSnNvbiA9IHtcbiAgXCJ2ZXJzaW9uXCI6IFwiMy4wLjZcIlxufTtcbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLicpLlR1c09wdGlvbnN9IFR1c09wdGlvbnMgKi9cblxuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJ3R1cy1qcy1jbGllbnQnKS5VcGxvYWRPcHRpb25zfSBSYXdUdXNPcHRpb25zICovXG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCdAdXBweS9jb3JlJykuVXBweX0gVXBweSAqL1xuXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnQHVwcHkvY29yZScpLlVwcHlGaWxlfSBVcHB5RmlsZSAqL1xuXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnQHVwcHkvY29yZScpLkZhaWxlZFVwcHlGaWxlPHt9Pn0gRmFpbGVkVXBweUZpbGUgKi9cblxuLyoqXG4gKiBFeHRyYWN0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdHVzL3R1cy1qcy1jbGllbnQvYmxvYi9tYXN0ZXIvbGliL3VwbG9hZC5qcyNMMTNcbiAqIGV4Y2VwdGVkIHdlIHJlbW92ZWQgJ2ZpbmdlcnByaW50JyBrZXkgdG8gYXZvaWQgYWRkaW5nIG1vcmUgZGVwZW5kZW5jaWVzXG4gKlxuICogQHR5cGUge1Jhd1R1c09wdGlvbnN9XG4gKi9cblxuY29uc3QgdHVzRGVmYXVsdE9wdGlvbnMgPSB7XG4gIGVuZHBvaW50OiAnJyxcbiAgdXBsb2FkVXJsOiBudWxsLFxuICBtZXRhZGF0YToge30sXG4gIHVwbG9hZFNpemU6IG51bGwsXG4gIG9uUHJvZ3Jlc3M6IG51bGwsXG4gIG9uQ2h1bmtDb21wbGV0ZTogbnVsbCxcbiAgb25TdWNjZXNzOiBudWxsLFxuICBvbkVycm9yOiBudWxsLFxuICBvdmVycmlkZVBhdGNoTWV0aG9kOiBmYWxzZSxcbiAgaGVhZGVyczoge30sXG4gIGFkZFJlcXVlc3RJZDogZmFsc2UsXG4gIGNodW5rU2l6ZTogSW5maW5pdHksXG4gIHJldHJ5RGVsYXlzOiBbMTAwLCAxMDAwLCAzMDAwLCA1MDAwXSxcbiAgcGFyYWxsZWxVcGxvYWRzOiAxLFxuICByZW1vdmVGaW5nZXJwcmludE9uU3VjY2VzczogZmFsc2UsXG4gIHVwbG9hZExlbmd0aERlZmVycmVkOiBmYWxzZSxcbiAgdXBsb2FkRGF0YUR1cmluZ0NyZWF0aW9uOiBmYWxzZVxufTtcbi8qKlxuICogVHVzIHJlc3VtYWJsZSBmaWxlIHVwbG9hZGVyXG4gKi9cblxudmFyIF9yZXRyeURlbGF5SXRlcmF0b3IgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXRyeURlbGF5SXRlcmF0b3JcIik7XG5cbnZhciBfcXVldWVSZXF1ZXN0U29ja2V0VG9rZW4gPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJxdWV1ZVJlcXVlc3RTb2NrZXRUb2tlblwiKTtcblxudmFyIF9yZXF1ZXN0U29ja2V0VG9rZW4gPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXF1ZXN0U29ja2V0VG9rZW5cIik7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFR1cyBleHRlbmRzIEJhc2VQbHVnaW4ge1xuICAvKipcbiAgICogQHBhcmFtIHtVcHB5fSB1cHB5XG4gICAqIEBwYXJhbSB7VHVzT3B0aW9uc30gb3B0c1xuICAgKi9cbiAgY29uc3RydWN0b3IodXBweSwgX29wdHMpIHtcbiAgICB2YXIgX3RoaXMkb3B0cyRyYXRlTGltaXRlLCBfdGhpcyRvcHRzJHJldHJ5RGVsYXk7XG5cbiAgICBzdXBlcih1cHB5LCBfb3B0cyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZXRyeURlbGF5SXRlcmF0b3IsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcXVldWVSZXF1ZXN0U29ja2V0VG9rZW4sIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcmVxdWVzdFNvY2tldFRva2VuLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBhc3luYyBmaWxlID0+IHtcbiAgICAgICAgY29uc3QgQ2xpZW50ID0gZmlsZS5yZW1vdGUucHJvdmlkZXJPcHRpb25zLnByb3ZpZGVyID8gUHJvdmlkZXIgOiBSZXF1ZXN0Q2xpZW50O1xuICAgICAgICBjb25zdCBjbGllbnQgPSBuZXcgQ2xpZW50KHRoaXMudXBweSwgZmlsZS5yZW1vdGUucHJvdmlkZXJPcHRpb25zKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHsgLi4udGhpcy5vcHRzXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGZpbGUudHVzKSB7XG4gICAgICAgICAgLy8gSW5zdGFsbCBmaWxlLXNwZWNpZmljIHVwbG9hZCBvdmVycmlkZXMuXG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRzLCBmaWxlLnR1cyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjbGllbnQucG9zdChmaWxlLnJlbW90ZS51cmwsIHsgLi4uZmlsZS5yZW1vdGUuYm9keSxcbiAgICAgICAgICBlbmRwb2ludDogb3B0cy5lbmRwb2ludCxcbiAgICAgICAgICB1cGxvYWRVcmw6IG9wdHMudXBsb2FkVXJsLFxuICAgICAgICAgIHByb3RvY29sOiAndHVzJyxcbiAgICAgICAgICBzaXplOiBmaWxlLmRhdGEuc2l6ZSxcbiAgICAgICAgICBoZWFkZXJzOiBvcHRzLmhlYWRlcnMsXG4gICAgICAgICAgbWV0YWRhdGE6IGZpbGUubWV0YVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcy50b2tlbjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnR5cGUgPSAndXBsb2FkZXInO1xuICAgIHRoaXMuaWQgPSB0aGlzLm9wdHMuaWQgfHwgJ1R1cyc7XG4gICAgdGhpcy50aXRsZSA9ICdUdXMnOyAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG5cbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIHVzZUZhc3RSZW1vdGVSZXRyeTogdHJ1ZSxcbiAgICAgIGxpbWl0OiAyMCxcbiAgICAgIHJldHJ5RGVsYXlzOiB0dXNEZWZhdWx0T3B0aW9ucy5yZXRyeURlbGF5cyxcbiAgICAgIHdpdGhDcmVkZW50aWFsczogZmFsc2VcbiAgICB9OyAvLyBtZXJnZSBkZWZhdWx0IG9wdGlvbnMgd2l0aCB0aGUgb25lcyBzZXQgYnkgdXNlclxuXG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLlwiKS5UdXNPcHRpb25zfSAqL1xuXG4gICAgdGhpcy5vcHRzID0geyAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIC4uLl9vcHRzXG4gICAgfTtcblxuICAgIGlmICgoX29wdHMgPT0gbnVsbCA/IHZvaWQgMCA6IF9vcHRzLmFsbG93ZWRNZXRhRmllbGRzKSA9PT0gdW5kZWZpbmVkICYmICdtZXRhRmllbGRzJyBpbiB0aGlzLm9wdHMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGBtZXRhRmllbGRzYCBvcHRpb24gaGFzIGJlZW4gcmVuYW1lZCB0byBgYWxsb3dlZE1ldGFGaWVsZHNgLicpO1xuICAgIH1cblxuICAgIGlmICgnYXV0b1JldHJ5JyBpbiBfb3B0cykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgYGF1dG9SZXRyeWAgb3B0aW9uIHdhcyBkZXByZWNhdGVkIGFuZCBoYXMgYmVlbiByZW1vdmVkLicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaW11bHRhbmVvdXMgdXBsb2FkIGxpbWl0aW5nIGlzIHNoYXJlZCBhY3Jvc3MgYWxsIHVwbG9hZHMgd2l0aCB0aGlzIHBsdWdpbi5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtSYXRlTGltaXRlZFF1ZXVlfVxuICAgICAqL1xuXG5cbiAgICB0aGlzLnJlcXVlc3RzID0gKF90aGlzJG9wdHMkcmF0ZUxpbWl0ZSA9IHRoaXMub3B0cy5yYXRlTGltaXRlZFF1ZXVlKSAhPSBudWxsID8gX3RoaXMkb3B0cyRyYXRlTGltaXRlIDogbmV3IFJhdGVMaW1pdGVkUXVldWUodGhpcy5vcHRzLmxpbWl0KTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JldHJ5RGVsYXlJdGVyYXRvcilbX3JldHJ5RGVsYXlJdGVyYXRvcl0gPSAoX3RoaXMkb3B0cyRyZXRyeURlbGF5ID0gdGhpcy5vcHRzLnJldHJ5RGVsYXlzKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkb3B0cyRyZXRyeURlbGF5LnZhbHVlcygpO1xuICAgIHRoaXMudXBsb2FkZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLnVwbG9hZGVyRXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLnVwbG9hZGVyU29ja2V0cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5oYW5kbGVSZXNldFByb2dyZXNzID0gdGhpcy5oYW5kbGVSZXNldFByb2dyZXNzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVVcGxvYWQgPSB0aGlzLmhhbmRsZVVwbG9hZC5iaW5kKHRoaXMpO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcXVldWVSZXF1ZXN0U29ja2V0VG9rZW4pW19xdWV1ZVJlcXVlc3RTb2NrZXRUb2tlbl0gPSB0aGlzLnJlcXVlc3RzLndyYXBQcm9taXNlRnVuY3Rpb24oX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0U29ja2V0VG9rZW4pW19yZXF1ZXN0U29ja2V0VG9rZW5dLCB7XG4gICAgICBwcmlvcml0eTogLTFcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVJlc2V0UHJvZ3Jlc3MoKSB7XG4gICAgY29uc3QgZmlsZXMgPSB7IC4uLnRoaXMudXBweS5nZXRTdGF0ZSgpLmZpbGVzXG4gICAgfTtcbiAgICBPYmplY3Qua2V5cyhmaWxlcykuZm9yRWFjaChmaWxlSUQgPT4ge1xuICAgICAgLy8gT25seSBjbG9uZSB0aGUgZmlsZSBvYmplY3QgaWYgaXQgaGFzIGEgVHVzIGB1cGxvYWRVcmxgIGF0dGFjaGVkLlxuICAgICAgaWYgKGZpbGVzW2ZpbGVJRF0udHVzICYmIGZpbGVzW2ZpbGVJRF0udHVzLnVwbG9hZFVybCkge1xuICAgICAgICBjb25zdCB0dXNTdGF0ZSA9IHsgLi4uZmlsZXNbZmlsZUlEXS50dXNcbiAgICAgICAgfTtcbiAgICAgICAgZGVsZXRlIHR1c1N0YXRlLnVwbG9hZFVybDtcbiAgICAgICAgZmlsZXNbZmlsZUlEXSA9IHsgLi4uZmlsZXNbZmlsZUlEXSxcbiAgICAgICAgICB0dXM6IHR1c1N0YXRlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy51cHB5LnNldFN0YXRlKHtcbiAgICAgIGZpbGVzXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFuIHVwIGFsbCByZWZlcmVuY2VzIGZvciBhIGZpbGUncyB1cGxvYWQ6IHRoZSB0dXMuVXBsb2FkIGluc3RhbmNlLFxuICAgKiBhbnkgZXZlbnRzIHJlbGF0ZWQgdG8gdGhlIGZpbGUsIGFuZCB0aGUgQ29tcGFuaW9uIFdlYlNvY2tldCBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZUlEXG4gICAqL1xuXG5cbiAgcmVzZXRVcGxvYWRlclJlZmVyZW5jZXMoZmlsZUlELCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIGlmICh0aGlzLnVwbG9hZGVyc1tmaWxlSURdKSB7XG4gICAgICBjb25zdCB1cGxvYWRlciA9IHRoaXMudXBsb2FkZXJzW2ZpbGVJRF07XG4gICAgICB1cGxvYWRlci5hYm9ydCgpO1xuXG4gICAgICBpZiAob3B0cy5hYm9ydCkge1xuICAgICAgICB1cGxvYWRlci5hYm9ydCh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cGxvYWRlcnNbZmlsZUlEXSA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudXBsb2FkZXJFdmVudHNbZmlsZUlEXSkge1xuICAgICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlSURdLnJlbW92ZSgpO1xuICAgICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlSURdID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy51cGxvYWRlclNvY2tldHNbZmlsZUlEXSkge1xuICAgICAgdGhpcy51cGxvYWRlclNvY2tldHNbZmlsZUlEXS5jbG9zZSgpO1xuICAgICAgdGhpcy51cGxvYWRlclNvY2tldHNbZmlsZUlEXSA9IG51bGw7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgVHVzIHVwbG9hZC5cbiAgICpcbiAgICogQSBsb3QgY2FuIGhhcHBlbiBkdXJpbmcgYW4gdXBsb2FkLCBzbyB0aGlzIGlzIHF1aXRlIGhhcmQgdG8gZm9sbG93IVxuICAgKiAtIEZpcnN0LCB0aGUgdXBsb2FkIGlzIHN0YXJ0ZWQuIElmIHRoZSBmaWxlIHdhcyBhbHJlYWR5IHBhdXNlZCBieSB0aGUgdGltZSB0aGUgdXBsb2FkIHN0YXJ0cywgbm90aGluZyBzaG91bGQgaGFwcGVuLlxuICAgKiAgIElmIHRoZSBgbGltaXRgIG9wdGlvbiBpcyB1c2VkLCB0aGUgdXBsb2FkIG11c3QgYmUgcXVldWVkIG9udG8gdGhlIGB0aGlzLnJlcXVlc3RzYCBxdWV1ZS5cbiAgICogICBXaGVuIGFuIHVwbG9hZCBzdGFydHMsIHdlIHN0b3JlIHRoZSB0dXMuVXBsb2FkIGluc3RhbmNlLCBhbmQgYW4gRXZlbnRUcmFja2VyIGluc3RhbmNlIHRoYXQgbWFuYWdlcyB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAqICAgZm9yIHBhdXNpbmcsIGNhbmNlbGxhdGlvbiwgcmVtb3ZhbCwgZXRjLlxuICAgKiAtIFdoaWxlIHRoZSB1cGxvYWQgaXMgaW4gcHJvZ3Jlc3MsIGl0IG1heSBiZSBwYXVzZWQgb3IgY2FuY2VsbGVkLlxuICAgKiAgIFBhdXNpbmcgYWJvcnRzIHRoZSB1bmRlcmx5aW5nIHR1cy5VcGxvYWQsIGFuZCByZW1vdmVzIHRoZSB1cGxvYWQgZnJvbSB0aGUgYHRoaXMucmVxdWVzdHNgIHF1ZXVlLiBBbGwgb3RoZXIgc3RhdGUgaXNcbiAgICogICBtYWludGFpbmVkLlxuICAgKiAgIENhbmNlbGxpbmcgcmVtb3ZlcyB0aGUgdXBsb2FkIGZyb20gdGhlIGB0aGlzLnJlcXVlc3RzYCBxdWV1ZSwgYW5kIGNvbXBsZXRlbHkgYWJvcnRzIHRoZSB1cGxvYWQtLSB0aGUgYHR1cy5VcGxvYWRgXG4gICAqICAgaW5zdGFuY2UgaXMgYWJvcnRlZCBhbmQgZGlzY2FyZGVkLCB0aGUgRXZlbnRUcmFja2VyIGluc3RhbmNlIGlzIGRlc3Ryb3llZCAocmVtb3ZpbmcgYWxsIGxpc3RlbmVycykuXG4gICAqICAgUmVzdW1pbmcgdGhlIHVwbG9hZCB1c2VzIHRoZSBgdGhpcy5yZXF1ZXN0c2AgcXVldWUgYXMgd2VsbCwgdG8gcHJldmVudCBzZWxlY3RpdmVseSBwYXVzaW5nIGFuZCByZXN1bWluZyB1cGxvYWRzIGZyb21cbiAgICogICBieXBhc3NpbmcgdGhlIGxpbWl0LlxuICAgKiAtIEFmdGVyIGNvbXBsZXRpbmcgYW4gdXBsb2FkLCB0aGUgdHVzLlVwbG9hZCBhbmQgRXZlbnRUcmFja2VyIGluc3RhbmNlcyBhcmUgY2xlYW5lZCB1cCwgYW5kIHRoZSB1cGxvYWQgaXMgbWFya2VkIGFzIGRvbmVcbiAgICogICBpbiB0aGUgYHRoaXMucmVxdWVzdHNgIHF1ZXVlLlxuICAgKiAtIFdoZW4gYW4gdXBsb2FkIGNvbXBsZXRlZCB3aXRoIGFuIGVycm9yLCB0aGUgc2FtZSBoYXBwZW5zIGFzIG9uIHN1Y2Nlc3NmdWwgY29tcGxldGlvbiwgYnV0IHRoZSBgdXBsb2FkKClgIHByb21pc2UgaXNcbiAgICogICByZWplY3RlZC5cbiAgICpcbiAgICogV2hlbiB3b3JraW5nIG9uIHRoaXMgZnVuY3Rpb24sIGtlZXAgaW4gbWluZDpcbiAgICogIC0gV2hlbiBhbiB1cGxvYWQgaXMgY29tcGxldGVkIG9yIGNhbmNlbGxlZCBmb3IgYW55IHJlYXNvbiwgdGhlIHR1cy5VcGxvYWQgYW5kIEV2ZW50VHJhY2tlciBpbnN0YW5jZXMgbmVlZCB0byBiZSBjbGVhbmVkXG4gICAqICAgIHVwIHVzaW5nIHRoaXMucmVzZXRVcGxvYWRlclJlZmVyZW5jZXMoKS5cbiAgICogIC0gV2hlbiBhbiB1cGxvYWQgaXMgY2FuY2VsbGVkIG9yIHBhdXNlZCwgZm9yIGFueSByZWFzb24sIGl0IG5lZWRzIHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgYHRoaXMucmVxdWVzdHNgIHF1ZXVlIHVzaW5nXG4gICAqICAgIGBxdWV1ZWRSZXF1ZXN0LmFib3J0KClgLlxuICAgKiAgLSBXaGVuIGFuIHVwbG9hZCBpcyBjb21wbGV0ZWQgZm9yIGFueSByZWFzb24sIGluY2x1ZGluZyBlcnJvcnMsIGl0IG5lZWRzIHRvIGJlIG1hcmtlZCBhcyBzdWNoIHVzaW5nXG4gICAqICAgIGBxdWV1ZWRSZXF1ZXN0LmRvbmUoKWAuXG4gICAqICAtIFdoZW4gYW4gdXBsb2FkIGlzIHN0YXJ0ZWQgb3IgcmVzdW1lZCwgaXQgbmVlZHMgdG8gZ28gdGhyb3VnaCB0aGUgYHRoaXMucmVxdWVzdHNgIHF1ZXVlLiBUaGUgYHF1ZXVlZFJlcXVlc3RgIHZhcmlhYmxlXG4gICAqICAgIG11c3QgYmUgdXBkYXRlZCBzbyB0aGUgb3RoZXIgdXNlcyBvZiBpdCBhcmUgdmFsaWQuXG4gICAqICAtIEJlZm9yZSByZXBsYWNpbmcgdGhlIGBxdWV1ZWRSZXF1ZXN0YCB2YXJpYWJsZSwgdGhlIHByZXZpb3VzIGBxdWV1ZWRSZXF1ZXN0YCBtdXN0IGJlIGFib3J0ZWQsIGVsc2UgaXQgd2lsbCBrZWVwIHRha2luZ1xuICAgKiAgICB1cCBhIHNwb3QgaW4gdGhlIHF1ZXVlLlxuICAgKlxuICAgKiBAcGFyYW0ge1VwcHlGaWxlfSBmaWxlIGZvciB1c2Ugd2l0aCB1cGxvYWRcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuXG5cbiAgdXBsb2FkKGZpbGUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy5yZXNldFVwbG9hZGVyUmVmZXJlbmNlcyhmaWxlLmlkKTsgLy8gQ3JlYXRlIGEgbmV3IHR1cyB1cGxvYWRcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgcXVldWVkUmVxdWVzdDtcbiAgICAgIGxldCBxUmVxdWVzdDtcbiAgICAgIGxldCB1cGxvYWQ7XG4gICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLXN0YXJ0ZWQnLCBmaWxlKTtcbiAgICAgIGNvbnN0IG9wdHMgPSB7IC4uLnRoaXMub3B0cyxcbiAgICAgICAgLi4uKGZpbGUudHVzIHx8IHt9KVxuICAgICAgfTtcblxuICAgICAgaWYgKHR5cGVvZiBvcHRzLmhlYWRlcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3B0cy5oZWFkZXJzID0gb3B0cy5oZWFkZXJzKGZpbGUpO1xuICAgICAgfVxuICAgICAgLyoqIEB0eXBlIHtSYXdUdXNPcHRpb25zfSAqL1xuXG5cbiAgICAgIGNvbnN0IHVwbG9hZE9wdGlvbnMgPSB7IC4uLnR1c0RlZmF1bHRPcHRpb25zLFxuICAgICAgICAuLi5vcHRzXG4gICAgICB9OyAvLyBXZSBvdmVycmlkZSB0dXMgZmluZ2VycHJpbnQgdG8gdXBweeKAmXMgYGZpbGUuaWRgLCBzaW5jZSB0aGUgYGZpbGUuaWRgXG4gICAgICAvLyBub3cgYWxzbyBpbmNsdWRlcyBgcmVsYXRpdmVQYXRoYCBmb3IgZmlsZXMgYWRkZWQgZnJvbSBmb2xkZXJzLlxuICAgICAgLy8gVGhpcyBtZWFucyB5b3UgY2FuIGFkZCAyIGlkZW50aWNhbCBmaWxlcywgaWYgb25lIGlzIGluIGZvbGRlciBhLFxuICAgICAgLy8gdGhlIG90aGVyIGluIGZvbGRlciBiLlxuXG4gICAgICB1cGxvYWRPcHRpb25zLmZpbmdlcnByaW50ID0gZ2V0RmluZ2VycHJpbnQoZmlsZSk7XG5cbiAgICAgIHVwbG9hZE9wdGlvbnMub25CZWZvcmVSZXF1ZXN0ID0gcmVxID0+IHtcbiAgICAgICAgY29uc3QgeGhyID0gcmVxLmdldFVuZGVybHlpbmdPYmplY3QoKTtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9ICEhb3B0cy53aXRoQ3JlZGVudGlhbHM7XG4gICAgICAgIGxldCB1c2VyUHJvdmlkZWRQcm9taXNlO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0cy5vbkJlZm9yZVJlcXVlc3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB1c2VyUHJvdmlkZWRQcm9taXNlID0gb3B0cy5vbkJlZm9yZVJlcXVlc3QocmVxLCBmaWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNQcm9wZXJ0eShxdWV1ZWRSZXF1ZXN0LCAnc2hvdWxkQmVSZXF1ZXVlZCcpKSB7XG4gICAgICAgICAgaWYgKCFxdWV1ZWRSZXF1ZXN0LnNob3VsZEJlUmVxdWV1ZWQpIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgICAgICAgIGxldCBkb25lO1xuICAgICAgICAgIGNvbnN0IHAgPSBuZXcgUHJvbWlzZShyZXMgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcm9taXNlL3BhcmFtLW5hbWVzXG4gICAgICAgICAgICBkb25lID0gcmVzO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHF1ZXVlZFJlcXVlc3QgPSB0aGlzLnJlcXVlc3RzLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmlsZS5pc1BhdXNlZCkge1xuICAgICAgICAgICAgICBxdWV1ZWRSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7fTtcbiAgICAgICAgICB9KTsgLy8gSWYgdGhlIHJlcXVlc3QgaGFzIGJlZW4gcmVxdWV1ZWQgYmVjYXVzZSBpdCB3YXMgcmF0ZSBsaW1pdGVkIGJ5IHRoZVxuICAgICAgICAgIC8vIHJlbW90ZSBzZXJ2ZXIsIHdlIHdhbnQgdG8gd2FpdCBmb3IgYFJhdGVMaW1pdGVkUXVldWVgIHRvIGRpc3BhdGNoXG4gICAgICAgICAgLy8gdGhlIHJlLXRyeSByZXF1ZXN0LlxuICAgICAgICAgIC8vIFRoZXJlZm9yZSB3ZSBjcmVhdGUgYSBwcm9taXNlIHRoYXQgdGhlIHF1ZXVlIHdpbGwgcmVzb2x2ZSB3aGVuXG4gICAgICAgICAgLy8gZW5vdWdoIHRpbWUgaGFzIGVsYXBzZWQgdG8gZXhwZWN0IG5vdCB0byBiZSByYXRlLWxpbWl0ZWQgYWdhaW4uXG4gICAgICAgICAgLy8gVGhpcyBtZWFucyB3ZSBjYW4gaG9sZCB0aGUgVHVzIHJldHJ5IGhlcmUgd2l0aCBhIGBQcm9taXNlLmFsbGAsXG4gICAgICAgICAgLy8gdG9nZXRoZXIgd2l0aCB0aGUgcmV0dXJuZWQgdmFsdWUgb2YgdGhlIHVzZXIgcHJvdmlkZWRcbiAgICAgICAgICAvLyBgb25CZWZvcmVSZXF1ZXN0YCBvcHRpb24gY2FsbGJhY2sgKGluIGNhc2UgaXQgcmV0dXJucyBhIHByb21pc2UpLlxuXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtwLCB1c2VyUHJvdmlkZWRQcm9taXNlXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXNlclByb3ZpZGVkUHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIHVwbG9hZE9wdGlvbnMub25FcnJvciA9IGVyciA9PiB7XG4gICAgICAgIHZhciBfcXVldWVkUmVxdWVzdDtcblxuICAgICAgICB0aGlzLnVwcHkubG9nKGVycik7XG4gICAgICAgIGNvbnN0IHhociA9IGVyci5vcmlnaW5hbFJlcXVlc3QgPyBlcnIub3JpZ2luYWxSZXF1ZXN0LmdldFVuZGVybHlpbmdPYmplY3QoKSA6IG51bGw7XG5cbiAgICAgICAgaWYgKGlzTmV0d29ya0Vycm9yKHhocikpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICBlcnIgPSBuZXcgTmV0d29ya0Vycm9yKGVyciwgeGhyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzZXRVcGxvYWRlclJlZmVyZW5jZXMoZmlsZS5pZCk7XG4gICAgICAgIChfcXVldWVkUmVxdWVzdCA9IHF1ZXVlZFJlcXVlc3QpID09IG51bGwgPyB2b2lkIDAgOiBfcXVldWVkUmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLWVycm9yJywgZmlsZSwgZXJyKTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9O1xuXG4gICAgICB1cGxvYWRPcHRpb25zLm9uUHJvZ3Jlc3MgPSAoYnl0ZXNVcGxvYWRlZCwgYnl0ZXNUb3RhbCkgPT4ge1xuICAgICAgICB0aGlzLm9uUmVjZWl2ZVVwbG9hZFVybChmaWxlLCB1cGxvYWQudXJsKTtcbiAgICAgICAgdGhpcy51cHB5LmVtaXQoJ3VwbG9hZC1wcm9ncmVzcycsIGZpbGUsIHtcbiAgICAgICAgICB1cGxvYWRlcjogdGhpcyxcbiAgICAgICAgICBieXRlc1VwbG9hZGVkLFxuICAgICAgICAgIGJ5dGVzVG90YWxcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICB1cGxvYWRPcHRpb25zLm9uU3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdXBsb2FkUmVzcCA9IHtcbiAgICAgICAgICB1cGxvYWRVUkw6IHVwbG9hZC51cmxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZXNldFVwbG9hZGVyUmVmZXJlbmNlcyhmaWxlLmlkKTtcbiAgICAgICAgcXVldWVkUmVxdWVzdC5kb25lKCk7XG4gICAgICAgIHRoaXMudXBweS5lbWl0KCd1cGxvYWQtc3VjY2VzcycsIGZpbGUsIHVwbG9hZFJlc3ApO1xuXG4gICAgICAgIGlmICh1cGxvYWQudXJsKSB7XG4gICAgICAgICAgdGhpcy51cHB5LmxvZyhgRG93bmxvYWQgJHt1cGxvYWQuZmlsZS5uYW1lfSBmcm9tICR7dXBsb2FkLnVybH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc29sdmUodXBsb2FkKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGRlZmF1bHRPblNob3VsZFJldHJ5ID0gZXJyID0+IHtcbiAgICAgICAgdmFyIF9lcnIkb3JpZ2luYWxSZXNwb25zZTtcblxuICAgICAgICBjb25zdCBzdGF0dXMgPSBlcnIgPT0gbnVsbCA/IHZvaWQgMCA6IChfZXJyJG9yaWdpbmFsUmVzcG9uc2UgPSBlcnIub3JpZ2luYWxSZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lcnIkb3JpZ2luYWxSZXNwb25zZS5nZXRTdGF0dXMoKTtcblxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MjkpIHtcbiAgICAgICAgICAvLyBIVFRQIDQyOSBUb28gTWFueSBSZXF1ZXN0cyA9PiB0byBhdm9pZCB0aGUgd2hvbGUgZG93bmxvYWQgdG8gZmFpbCwgcGF1c2UgYWxsIHJlcXVlc3RzLlxuICAgICAgICAgIGlmICghdGhpcy5yZXF1ZXN0cy5pc1BhdXNlZCkge1xuICAgICAgICAgICAgdmFyIF9jbGFzc1ByaXZhdGVGaWVsZExvbztcblxuICAgICAgICAgICAgY29uc3QgbmV4dCA9IChfY2xhc3NQcml2YXRlRmllbGRMb28gPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JldHJ5RGVsYXlJdGVyYXRvcilbX3JldHJ5RGVsYXlJdGVyYXRvcl0pID09IG51bGwgPyB2b2lkIDAgOiBfY2xhc3NQcml2YXRlRmllbGRMb28ubmV4dCgpO1xuXG4gICAgICAgICAgICBpZiAobmV4dCA9PSBudWxsIHx8IG5leHQuZG9uZSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVxdWVzdHMucmF0ZUxpbWl0KG5leHQudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPiA0MDAgJiYgc3RhdHVzIDwgNTAwICYmIHN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICAgICAgLy8gSFRUUCA0eHgsIHRoZSBzZXJ2ZXIgd29uJ3Qgc2VuZCBhbnl0aGluZywgaXQncyBkb2Vzbid0IG1ha2Ugc2Vuc2UgdG8gcmV0cnlcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLm9uTGluZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAvLyBUaGUgbmF2aWdhdG9yIGlzIG9mZmxpbmUsIGxldCdzIHdhaXQgZm9yIGl0IHRvIGNvbWUgYmFjayBvbmxpbmUuXG4gICAgICAgICAgaWYgKCF0aGlzLnJlcXVlc3RzLmlzUGF1c2VkKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RzLnBhdXNlKCk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RzLnJlc3VtZSgpO1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBxdWV1ZWRSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHF1ZXVlZFJlcXVlc3QgPSB7XG4gICAgICAgICAgc2hvdWxkQmVSZXF1ZXVlZDogdHJ1ZSxcblxuICAgICAgICAgIGFib3J0KCkge1xuICAgICAgICAgICAgdGhpcy5zaG91bGRCZVJlcXVldWVkID0gZmFsc2U7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGRvbmUoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtYXJrIGEgcXVldWVkIHJlcXVlc3QgYXMgZG9uZTogdGhpcyBpbmRpY2F0ZXMgYSBidWcnKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZm4oKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBydW4gYSBxdWV1ZWQgcmVxdWVzdDogdGhpcyBpbmRpY2F0ZXMgYSBidWcnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9O1xuXG4gICAgICBpZiAob3B0cy5vblNob3VsZFJldHJ5ICE9IG51bGwpIHtcbiAgICAgICAgdXBsb2FkT3B0aW9ucy5vblNob3VsZFJldHJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gb3B0cy5vblNob3VsZFJldHJ5KC4uLmFyZ3MsIGRlZmF1bHRPblNob3VsZFJldHJ5KTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwbG9hZE9wdGlvbnMub25TaG91bGRSZXRyeSA9IGRlZmF1bHRPblNob3VsZFJldHJ5O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjb3B5UHJvcCA9IChvYmosIHNyY1Byb3AsIGRlc3RQcm9wKSA9PiB7XG4gICAgICAgIGlmIChoYXNQcm9wZXJ0eShvYmosIHNyY1Byb3ApICYmICFoYXNQcm9wZXJ0eShvYmosIGRlc3RQcm9wKSkge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgIG9ialtkZXN0UHJvcF0gPSBvYmpbc3JjUHJvcF07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIHN0cmluZz59ICovXG5cblxuICAgICAgY29uc3QgbWV0YSA9IHt9O1xuICAgICAgY29uc3QgYWxsb3dlZE1ldGFGaWVsZHMgPSBBcnJheS5pc0FycmF5KG9wdHMuYWxsb3dlZE1ldGFGaWVsZHMpID8gb3B0cy5hbGxvd2VkTWV0YUZpZWxkcyAvLyBTZW5kIGFsb25nIGFsbCBmaWVsZHMgYnkgZGVmYXVsdC5cbiAgICAgIDogT2JqZWN0LmtleXMoZmlsZS5tZXRhKTtcbiAgICAgIGFsbG93ZWRNZXRhRmllbGRzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIG1ldGFbaXRlbV0gPSBmaWxlLm1ldGFbaXRlbV07XG4gICAgICB9KTsgLy8gdHVzZCB1c2VzIG1ldGFkYXRhIGZpZWxkcyAnZmlsZXR5cGUnIGFuZCAnZmlsZW5hbWUnXG5cbiAgICAgIGNvcHlQcm9wKG1ldGEsICd0eXBlJywgJ2ZpbGV0eXBlJyk7XG4gICAgICBjb3B5UHJvcChtZXRhLCAnbmFtZScsICdmaWxlbmFtZScpO1xuICAgICAgdXBsb2FkT3B0aW9ucy5tZXRhZGF0YSA9IG1ldGE7XG4gICAgICB1cGxvYWQgPSBuZXcgdHVzLlVwbG9hZChmaWxlLmRhdGEsIHVwbG9hZE9wdGlvbnMpO1xuICAgICAgdGhpcy51cGxvYWRlcnNbZmlsZS5pZF0gPSB1cGxvYWQ7XG4gICAgICB0aGlzLnVwbG9hZGVyRXZlbnRzW2ZpbGUuaWRdID0gbmV3IEV2ZW50VHJhY2tlcih0aGlzLnVwcHkpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG5cbiAgICAgIHFSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICAgICBpZiAoIWZpbGUuaXNQYXVzZWQpIHtcbiAgICAgICAgICB1cGxvYWQuc3RhcnQoKTtcbiAgICAgICAgfSAvLyBEb24ndCBkbyBhbnl0aGluZyBoZXJlLCB0aGUgY2FsbGVyIHdpbGwgdGFrZSBjYXJlIG9mIGNhbmNlbGxpbmcgdGhlIHVwbG9hZCBpdHNlbGZcbiAgICAgICAgLy8gdXNpbmcgcmVzZXRVcGxvYWRlclJlZmVyZW5jZXMoKS4gVGhpcyBpcyBiZWNhdXNlIHJlc2V0VXBsb2FkZXJSZWZlcmVuY2VzKCkgaGFzIHRvIGJlXG4gICAgICAgIC8vIGNhbGxlZCB3aGVuIHRoaXMgcmVxdWVzdCBpcyBzdGlsbCBpbiB0aGUgcXVldWUsIGFuZCBoYXMgbm90IGJlZW4gc3RhcnRlZCB5ZXQsIHRvby4gQXRcbiAgICAgICAgLy8gdGhhdCBwb2ludCB0aGlzIGNhbmNlbGxhdGlvbiBmdW5jdGlvbiBpcyBub3QgZ29pbmcgdG8gYmUgY2FsbGVkLlxuICAgICAgICAvLyBBbHNvLCB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgcmVxdWVzdCBmcm9tIHRoZSBxdWV1ZSBfd2l0aG91dF8gZGVzdHJveWluZyBldmVyeXRoaW5nXG4gICAgICAgIC8vIHJlbGF0ZWQgdG8gdGhpcyB1cGxvYWQgdG8gaGFuZGxlIHBhdXNlcy5cblxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7fTtcbiAgICAgIH07XG5cbiAgICAgIHVwbG9hZC5maW5kUHJldmlvdXNVcGxvYWRzKCkudGhlbihwcmV2aW91c1VwbG9hZHMgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aW91c1VwbG9hZCA9IHByZXZpb3VzVXBsb2Fkc1swXTtcblxuICAgICAgICBpZiAocHJldmlvdXNVcGxvYWQpIHtcbiAgICAgICAgICB0aGlzLnVwcHkubG9nKGBbVHVzXSBSZXN1bWluZyB1cGxvYWQgb2YgJHtmaWxlLmlkfSBzdGFydGVkIGF0ICR7cHJldmlvdXNVcGxvYWQuY3JlYXRpb25UaW1lfWApO1xuICAgICAgICAgIHVwbG9hZC5yZXN1bWVGcm9tUHJldmlvdXNVcGxvYWQocHJldmlvdXNVcGxvYWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHF1ZXVlZFJlcXVlc3QgPSB0aGlzLnJlcXVlc3RzLnJ1bihxUmVxdWVzdCk7XG4gICAgICB0aGlzLm9uRmlsZVJlbW92ZShmaWxlLmlkLCB0YXJnZXRGaWxlSUQgPT4ge1xuICAgICAgICBxdWV1ZWRSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHRoaXMucmVzZXRVcGxvYWRlclJlZmVyZW5jZXMoZmlsZS5pZCwge1xuICAgICAgICAgIGFib3J0OiAhIXVwbG9hZC51cmxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc29sdmUoYHVwbG9hZCAke3RhcmdldEZpbGVJRH0gd2FzIHJlbW92ZWRgKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5vblBhdXNlKGZpbGUuaWQsIGlzUGF1c2VkID0+IHtcbiAgICAgICAgcXVldWVkUmVxdWVzdC5hYm9ydCgpO1xuXG4gICAgICAgIGlmIChpc1BhdXNlZCkge1xuICAgICAgICAgIC8vIFJlbW92ZSB0aGlzIGZpbGUgZnJvbSB0aGUgcXVldWUgc28gYW5vdGhlciBmaWxlIGNhbiBzdGFydCBpbiBpdHMgcGxhY2UuXG4gICAgICAgICAgdXBsb2FkLmFib3J0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmVzdW1pbmcgYW4gdXBsb2FkIHNob3VsZCBiZSBxdWV1ZWQsIGVsc2UgeW91IGNvdWxkIHBhdXNlIGFuZCB0aGVuXG4gICAgICAgICAgLy8gcmVzdW1lIGEgcXVldWVkIHVwbG9hZCB0byBtYWtlIGl0IHNraXAgdGhlIHF1ZXVlLlxuICAgICAgICAgIHF1ZXVlZFJlcXVlc3QgPSB0aGlzLnJlcXVlc3RzLnJ1bihxUmVxdWVzdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5vblBhdXNlQWxsKGZpbGUuaWQsICgpID0+IHtcbiAgICAgICAgcXVldWVkUmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICB1cGxvYWQuYWJvcnQoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5vbkNhbmNlbEFsbChmaWxlLmlkLCBmdW5jdGlvbiAoX3RlbXApIHtcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICByZWFzb25cbiAgICAgICAgfSA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wO1xuXG4gICAgICAgIGlmIChyZWFzb24gPT09ICd1c2VyJykge1xuICAgICAgICAgIHF1ZXVlZFJlcXVlc3QuYWJvcnQoKTtcblxuICAgICAgICAgIF90aGlzLnJlc2V0VXBsb2FkZXJSZWZlcmVuY2VzKGZpbGUuaWQsIHtcbiAgICAgICAgICAgIGFib3J0OiAhIXVwbG9hZC51cmxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc29sdmUoYHVwbG9hZCAke2ZpbGUuaWR9IHdhcyBjYW5jZWxlZGApO1xuICAgICAgfSk7XG4gICAgICB0aGlzLm9uUmVzdW1lQWxsKGZpbGUuaWQsICgpID0+IHtcbiAgICAgICAgcXVldWVkUmVxdWVzdC5hYm9ydCgpO1xuXG4gICAgICAgIGlmIChmaWxlLmVycm9yKSB7XG4gICAgICAgICAgdXBsb2FkLmFib3J0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBxdWV1ZWRSZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0cy5ydW4ocVJlcXVlc3QpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgIHRoaXMudXBweS5lbWl0KCd1cGxvYWQtZXJyb3InLCBmaWxlLCBlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gTk9URSEgS2VlcCB0aGlzIGR1cGxpY2F0ZWQgY29kZSBpbiBzeW5jIHdpdGggb3RoZXIgcGx1Z2luc1xuICAvLyBUT0RPIHdlIHNob3VsZCBwcm9iYWJseSBhYnN0cmFjdCB0aGlzIGludG8gYSBjb21tb24gZnVuY3Rpb25cblxuICAvKipcbiAgICogQHBhcmFtIHtVcHB5RmlsZX0gZmlsZSBmb3IgdXNlIHdpdGggdXBsb2FkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgYXN5bmMgdXBsb2FkUmVtb3RlKGZpbGUpIHtcbiAgICB0aGlzLnJlc2V0VXBsb2FkZXJSZWZlcmVuY2VzKGZpbGUuaWQpOyAvLyBEb24ndCBkb3VibGUtZW1pdCB1cGxvYWQtc3RhcnRlZCBmb3IgR29sZGVuIFJldHJpZXZlci1yZXN0b3JlZCBmaWxlcyB0aGF0IHdlcmUgYWxyZWFkeSBzdGFydGVkXG5cbiAgICBpZiAoIWZpbGUucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZCB8fCAhZmlsZS5pc1Jlc3RvcmVkKSB7XG4gICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLXN0YXJ0ZWQnLCBmaWxlKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGZpbGUuc2VydmVyVG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY29ubmVjdFRvU2VydmVyU29ja2V0KGZpbGUpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzZXJ2ZXJUb2tlbiA9IGF3YWl0IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcXVldWVSZXF1ZXN0U29ja2V0VG9rZW4pW19xdWV1ZVJlcXVlc3RTb2NrZXRUb2tlbl0oZmlsZSk7XG4gICAgICBpZiAoIXRoaXMudXBweS5nZXRTdGF0ZSgpLmZpbGVzW2ZpbGUuaWRdKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgdGhpcy51cHB5LnNldEZpbGVTdGF0ZShmaWxlLmlkLCB7XG4gICAgICAgIHNlcnZlclRva2VuXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNvbm5lY3RUb1NlcnZlclNvY2tldCh0aGlzLnVwcHkuZ2V0RmlsZShmaWxlLmlkKSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLnVwcHkuc2V0RmlsZVN0YXRlKGZpbGUuaWQsIHtcbiAgICAgICAgc2VydmVyVG9rZW46IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLWVycm9yJywgZmlsZSwgZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNlZSB0aGUgY29tbWVudCBvbiB0aGUgdXBsb2FkKCkgbWV0aG9kLlxuICAgKlxuICAgKiBBZGRpdGlvbmFsbHksIHdoZW4gYW4gdXBsb2FkIGlzIHJlbW92ZWQsIGNvbXBsZXRlZCwgb3IgY2FuY2VsbGVkLCB3ZSBuZWVkIHRvIGNsb3NlIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbi4gVGhpcyBpc1xuICAgKiBoYW5kbGVkIGJ5IHRoZSByZXNldFVwbG9hZGVyUmVmZXJlbmNlcygpIGZ1bmN0aW9uLCBzbyB0aGUgc2FtZSBndWlkZWxpbmVzIGFwcGx5IGFzIGluIHVwbG9hZCgpLlxuICAgKlxuICAgKiBAcGFyYW0ge1VwcHlGaWxlfSBmaWxlXG4gICAqL1xuXG5cbiAgYXN5bmMgY29ubmVjdFRvU2VydmVyU29ja2V0KGZpbGUpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB0b2tlbiA9IGZpbGUuc2VydmVyVG9rZW47XG4gICAgICBjb25zdCBob3N0ID0gZ2V0U29ja2V0SG9zdChmaWxlLnJlbW90ZS5jb21wYW5pb25VcmwpO1xuICAgICAgY29uc3Qgc29ja2V0ID0gbmV3IFNvY2tldCh7XG4gICAgICAgIHRhcmdldDogYCR7aG9zdH0vYXBpLyR7dG9rZW59YCxcbiAgICAgICAgYXV0b09wZW46IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHRoaXMudXBsb2FkZXJTb2NrZXRzW2ZpbGUuaWRdID0gc29ja2V0O1xuICAgICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlLmlkXSA9IG5ldyBFdmVudFRyYWNrZXIodGhpcy51cHB5KTtcbiAgICAgIGxldCBxdWV1ZWRSZXF1ZXN0O1xuICAgICAgdGhpcy5vbkZpbGVSZW1vdmUoZmlsZS5pZCwgKCkgPT4ge1xuICAgICAgICBxdWV1ZWRSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHNvY2tldC5zZW5kKCdjYW5jZWwnLCB7fSk7XG4gICAgICAgIHRoaXMucmVzZXRVcGxvYWRlclJlZmVyZW5jZXMoZmlsZS5pZCk7XG4gICAgICAgIHJlc29sdmUoYHVwbG9hZCAke2ZpbGUuaWR9IHdhcyByZW1vdmVkYCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMub25QYXVzZShmaWxlLmlkLCBpc1BhdXNlZCA9PiB7XG4gICAgICAgIGlmIChpc1BhdXNlZCkge1xuICAgICAgICAgIC8vIFJlbW92ZSB0aGlzIGZpbGUgZnJvbSB0aGUgcXVldWUgc28gYW5vdGhlciBmaWxlIGNhbiBzdGFydCBpbiBpdHMgcGxhY2UuXG4gICAgICAgICAgcXVldWVkUmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgIHNvY2tldC5zZW5kKCdwYXVzZScsIHt9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBSZXN1bWluZyBhbiB1cGxvYWQgc2hvdWxkIGJlIHF1ZXVlZCwgZWxzZSB5b3UgY291bGQgcGF1c2UgYW5kIHRoZW5cbiAgICAgICAgICAvLyByZXN1bWUgYSBxdWV1ZWQgdXBsb2FkIHRvIG1ha2UgaXQgc2tpcCB0aGUgcXVldWUuXG4gICAgICAgICAgcXVldWVkUmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgIHF1ZXVlZFJlcXVlc3QgPSB0aGlzLnJlcXVlc3RzLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICBzb2NrZXQub3BlbigpO1xuICAgICAgICAgICAgc29ja2V0LnNlbmQoJ3Jlc3VtZScsIHt9KTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLm9uUGF1c2VBbGwoZmlsZS5pZCwgKCkgPT4ge1xuICAgICAgICBxdWV1ZWRSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHNvY2tldC5zZW5kKCdwYXVzZScsIHt9KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5vbkNhbmNlbEFsbChmaWxlLmlkLCBmdW5jdGlvbiAoX3RlbXAyKSB7XG4gICAgICAgIGxldCB7XG4gICAgICAgICAgcmVhc29uXG4gICAgICAgIH0gPSBfdGVtcDIgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAyO1xuXG4gICAgICAgIGlmIChyZWFzb24gPT09ICd1c2VyJykge1xuICAgICAgICAgIHF1ZXVlZFJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICBzb2NrZXQuc2VuZCgnY2FuY2VsJywge30pO1xuXG4gICAgICAgICAgX3RoaXMyLnJlc2V0VXBsb2FkZXJSZWZlcmVuY2VzKGZpbGUuaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZShgdXBsb2FkICR7ZmlsZS5pZH0gd2FzIGNhbmNlbGVkYCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMub25SZXN1bWVBbGwoZmlsZS5pZCwgKCkgPT4ge1xuICAgICAgICBxdWV1ZWRSZXF1ZXN0LmFib3J0KCk7XG5cbiAgICAgICAgaWYgKGZpbGUuZXJyb3IpIHtcbiAgICAgICAgICBzb2NrZXQuc2VuZCgncGF1c2UnLCB7fSk7XG4gICAgICAgIH1cblxuICAgICAgICBxdWV1ZWRSZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0cy5ydW4oKCkgPT4ge1xuICAgICAgICAgIHNvY2tldC5vcGVuKCk7XG4gICAgICAgICAgc29ja2V0LnNlbmQoJ3Jlc3VtZScsIHt9KTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4gc29ja2V0LmNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLm9uUmV0cnkoZmlsZS5pZCwgKCkgPT4ge1xuICAgICAgICAvLyBPbmx5IGRvIHRoZSByZXRyeSBpZiB0aGUgdXBsb2FkIGlzIGFjdHVhbGx5IGluIHByb2dyZXNzO1xuICAgICAgICAvLyBlbHNlIHdlIGNvdWxkIHRyeSB0byBzZW5kIHRoZXNlIG1lc3NhZ2VzIHdoZW4gdGhlIHVwbG9hZCBpcyBzdGlsbCBxdWV1ZWQuXG4gICAgICAgIC8vIFdlIG1heSBuZWVkIGEgYmV0dGVyIGNoZWNrIGZvciB0aGlzIHNpbmNlIHRoZSBzb2NrZXQgbWF5IGFsc28gYmUgY2xvc2VkXG4gICAgICAgIC8vIGZvciBvdGhlciByZWFzb25zLCBsaWtlIG5ldHdvcmsgZmFpbHVyZXMuXG4gICAgICAgIGlmIChzb2NrZXQuaXNPcGVuKSB7XG4gICAgICAgICAgc29ja2V0LnNlbmQoJ3BhdXNlJywge30pO1xuICAgICAgICAgIHNvY2tldC5zZW5kKCdyZXN1bWUnLCB7fSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5vblJldHJ5QWxsKGZpbGUuaWQsICgpID0+IHtcbiAgICAgICAgLy8gU2VlIHRoZSBjb21tZW50IGluIHRoZSBvblJldHJ5KCkgY2FsbFxuICAgICAgICBpZiAoc29ja2V0LmlzT3Blbikge1xuICAgICAgICAgIHNvY2tldC5zZW5kKCdwYXVzZScsIHt9KTtcbiAgICAgICAgICBzb2NrZXQuc2VuZCgncmVzdW1lJywge30pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNvY2tldC5vbigncHJvZ3Jlc3MnLCBwcm9ncmVzc0RhdGEgPT4gZW1pdFNvY2tldFByb2dyZXNzKHRoaXMsIHByb2dyZXNzRGF0YSwgZmlsZSkpO1xuICAgICAgc29ja2V0Lm9uKCdlcnJvcicsIGVyckRhdGEgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgbWVzc2FnZVxuICAgICAgICB9ID0gZXJyRGF0YS5lcnJvcjtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBPYmplY3QuYXNzaWduKG5ldyBFcnJvcihtZXNzYWdlKSwge1xuICAgICAgICAgIGNhdXNlOiBlcnJEYXRhLmVycm9yXG4gICAgICAgIH0pOyAvLyBJZiB0aGUgcmVtb3RlIHJldHJ5IG9wdGltaXNhdGlvbiBzaG91bGQgbm90IGJlIHVzZWQsXG4gICAgICAgIC8vIGNsb3NlIHRoZSBzb2NrZXTigJR0aGlzIHdpbGwgdGVsbCBjb21wYW5pb24gdG8gY2xlYXIgc3RhdGUgYW5kIGRlbGV0ZSB0aGUgZmlsZS5cblxuICAgICAgICBpZiAoIXRoaXMub3B0cy51c2VGYXN0UmVtb3RlUmV0cnkpIHtcbiAgICAgICAgICB0aGlzLnJlc2V0VXBsb2FkZXJSZWZlcmVuY2VzKGZpbGUuaWQpOyAvLyBSZW1vdmUgdGhlIHNlcnZlclRva2VuIHNvIHRoYXQgYSBuZXcgb25lIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhlIHJldHJ5LlxuXG4gICAgICAgICAgdGhpcy51cHB5LnNldEZpbGVTdGF0ZShmaWxlLmlkLCB7XG4gICAgICAgICAgICBzZXJ2ZXJUb2tlbjogbnVsbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cHB5LmVtaXQoJ3VwbG9hZC1lcnJvcicsIGZpbGUsIGVycm9yKTtcbiAgICAgICAgcXVldWVkUmVxdWVzdC5kb25lKCk7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgICAgIHNvY2tldC5vbignc3VjY2VzcycsIGRhdGEgPT4ge1xuICAgICAgICBjb25zdCB1cGxvYWRSZXNwID0ge1xuICAgICAgICAgIHVwbG9hZFVSTDogZGF0YS51cmxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cHB5LmVtaXQoJ3VwbG9hZC1zdWNjZXNzJywgZmlsZSwgdXBsb2FkUmVzcCk7XG4gICAgICAgIHRoaXMucmVzZXRVcGxvYWRlclJlZmVyZW5jZXMoZmlsZS5pZCk7XG4gICAgICAgIHF1ZXVlZFJlcXVlc3QuZG9uZSgpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICAgIHF1ZXVlZFJlcXVlc3QgPSB0aGlzLnJlcXVlc3RzLnJ1bigoKSA9PiB7XG4gICAgICAgIGlmIChmaWxlLmlzUGF1c2VkKSB7XG4gICAgICAgICAgc29ja2V0LnNlbmQoJ3BhdXNlJywge30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNvY2tldC5vcGVuKCk7XG4gICAgICAgIH0gLy8gSnVzdCBjbG9zZSB0aGUgc29ja2V0IGhlcmUsIHRoZSBjYWxsZXIgd2lsbCB0YWtlIGNhcmUgb2YgY2FuY2VsbGluZyB0aGUgdXBsb2FkIGl0c2VsZlxuICAgICAgICAvLyB1c2luZyByZXNldFVwbG9hZGVyUmVmZXJlbmNlcygpLiBUaGlzIGlzIGJlY2F1c2UgcmVzZXRVcGxvYWRlclJlZmVyZW5jZXMoKSBoYXMgdG8gYmVcbiAgICAgICAgLy8gY2FsbGVkIHdoZW4gdGhpcyByZXF1ZXN0IGlzIHN0aWxsIGluIHRoZSBxdWV1ZSwgYW5kIGhhcyBub3QgYmVlbiBzdGFydGVkIHlldCwgdG9vLiBBdFxuICAgICAgICAvLyB0aGF0IHBvaW50IHRoaXMgY2FuY2VsbGF0aW9uIGZ1bmN0aW9uIGlzIG5vdCBnb2luZyB0byBiZSBjYWxsZWQuXG4gICAgICAgIC8vIEFsc28sIHdlIG5lZWQgdG8gcmVtb3ZlIHRoZSByZXF1ZXN0IGZyb20gdGhlIHF1ZXVlIF93aXRob3V0XyBkZXN0cm95aW5nIGV2ZXJ5dGhpbmdcbiAgICAgICAgLy8gcmVsYXRlZCB0byB0aGlzIHVwbG9hZCB0byBoYW5kbGUgcGF1c2VzLlxuXG5cbiAgICAgICAgcmV0dXJuICgpID0+IHNvY2tldC5jbG9zZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFN0b3JlIHRoZSB1cGxvYWRVcmwgb24gdGhlIGZpbGUgb3B0aW9ucywgc28gdGhhdCB3aGVuIEdvbGRlbiBSZXRyaWV2ZXJcbiAgICogcmVzdG9yZXMgc3RhdGUsIHdlIHdpbGwgY29udGludWUgdXBsb2FkaW5nIHRvIHRoZSBjb3JyZWN0IFVSTC5cbiAgICpcbiAgICogQHBhcmFtIHtVcHB5RmlsZX0gZmlsZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXBsb2FkVVJMXG4gICAqL1xuXG5cbiAgb25SZWNlaXZlVXBsb2FkVXJsKGZpbGUsIHVwbG9hZFVSTCkge1xuICAgIGNvbnN0IGN1cnJlbnRGaWxlID0gdGhpcy51cHB5LmdldEZpbGUoZmlsZS5pZCk7XG4gICAgaWYgKCFjdXJyZW50RmlsZSkgcmV0dXJuOyAvLyBPbmx5IGRvIHRoZSB1cGRhdGUgaWYgd2UgZGlkbid0IGhhdmUgYW4gdXBsb2FkIFVSTCB5ZXQuXG5cbiAgICBpZiAoIWN1cnJlbnRGaWxlLnR1cyB8fCBjdXJyZW50RmlsZS50dXMudXBsb2FkVXJsICE9PSB1cGxvYWRVUkwpIHtcbiAgICAgIHRoaXMudXBweS5sb2coJ1tUdXNdIFN0b3JpbmcgdXBsb2FkIHVybCcpO1xuICAgICAgdGhpcy51cHB5LnNldEZpbGVTdGF0ZShjdXJyZW50RmlsZS5pZCwge1xuICAgICAgICB0dXM6IHsgLi4uY3VycmVudEZpbGUudHVzLFxuICAgICAgICAgIHVwbG9hZFVybDogdXBsb2FkVVJMXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVJRFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZyk6IHZvaWR9IGNiXG4gICAqL1xuXG5cbiAgb25GaWxlUmVtb3ZlKGZpbGVJRCwgY2IpIHtcbiAgICB0aGlzLnVwbG9hZGVyRXZlbnRzW2ZpbGVJRF0ub24oJ2ZpbGUtcmVtb3ZlZCcsIGZpbGUgPT4ge1xuICAgICAgaWYgKGZpbGVJRCA9PT0gZmlsZS5pZCkgY2IoZmlsZS5pZCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlSURcbiAgICogQHBhcmFtIHtmdW5jdGlvbihib29sZWFuKTogdm9pZH0gY2JcbiAgICovXG5cblxuICBvblBhdXNlKGZpbGVJRCwgY2IpIHtcbiAgICB0aGlzLnVwbG9hZGVyRXZlbnRzW2ZpbGVJRF0ub24oJ3VwbG9hZC1wYXVzZScsICh0YXJnZXRGaWxlSUQsIGlzUGF1c2VkKSA9PiB7XG4gICAgICBpZiAoZmlsZUlEID09PSB0YXJnZXRGaWxlSUQpIHtcbiAgICAgICAgLy8gY29uc3QgaXNQYXVzZWQgPSB0aGlzLnVwcHkucGF1c2VSZXN1bWUoZmlsZUlEKVxuICAgICAgICBjYihpc1BhdXNlZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlSURcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkfSBjYlxuICAgKi9cblxuXG4gIG9uUmV0cnkoZmlsZUlELCBjYikge1xuICAgIHRoaXMudXBsb2FkZXJFdmVudHNbZmlsZUlEXS5vbigndXBsb2FkLXJldHJ5JywgdGFyZ2V0RmlsZUlEID0+IHtcbiAgICAgIGlmIChmaWxlSUQgPT09IHRhcmdldEZpbGVJRCkge1xuICAgICAgICBjYigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZUlEXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogdm9pZH0gY2JcbiAgICovXG5cblxuICBvblJldHJ5QWxsKGZpbGVJRCwgY2IpIHtcbiAgICB0aGlzLnVwbG9hZGVyRXZlbnRzW2ZpbGVJRF0ub24oJ3JldHJ5LWFsbCcsICgpID0+IHtcbiAgICAgIGlmICghdGhpcy51cHB5LmdldEZpbGUoZmlsZUlEKSkgcmV0dXJuO1xuICAgICAgY2IoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVJRFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IHZvaWR9IGNiXG4gICAqL1xuXG5cbiAgb25QYXVzZUFsbChmaWxlSUQsIGNiKSB7XG4gICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlSURdLm9uKCdwYXVzZS1hbGwnLCAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMudXBweS5nZXRGaWxlKGZpbGVJRCkpIHJldHVybjtcbiAgICAgIGNiKCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlSURcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkfSBldmVudEhhbmRsZXJcbiAgICovXG5cblxuICBvbkNhbmNlbEFsbChmaWxlSUQsIGV2ZW50SGFuZGxlcikge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlSURdLm9uKCdjYW5jZWwtYWxsJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFfdGhpczMudXBweS5nZXRGaWxlKGZpbGVJRCkpIHJldHVybjtcbiAgICAgIGV2ZW50SGFuZGxlciguLi5hcmd1bWVudHMpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZUlEXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogdm9pZH0gY2JcbiAgICovXG5cblxuICBvblJlc3VtZUFsbChmaWxlSUQsIGNiKSB7XG4gICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlSURdLm9uKCdyZXN1bWUtYWxsJywgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnVwcHkuZ2V0RmlsZShmaWxlSUQpKSByZXR1cm47XG4gICAgICBjYigpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyhVcHB5RmlsZSB8IEZhaWxlZFVwcHlGaWxlKVtdfSBmaWxlc1xuICAgKi9cblxuXG4gIHVwbG9hZEZpbGVzKGZpbGVzKSB7XG4gICAgY29uc3QgcHJvbWlzZXMgPSBmaWxlcy5tYXAoKGZpbGUsIGkpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSBpICsgMTtcbiAgICAgIGNvbnN0IHRvdGFsID0gZmlsZXMubGVuZ3RoO1xuXG4gICAgICBpZiAoJ2Vycm9yJyBpbiBmaWxlICYmIGZpbGUuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihmaWxlLmVycm9yKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChmaWxlLmlzUmVtb3RlKSB7XG4gICAgICAgIC8vIFdlIGVtaXQgdXBsb2FkLXN0YXJ0ZWQgaGVyZSwgc28gdGhhdCBpdCdzIGFsc28gZW1pdHRlZCBmb3IgZmlsZXNcbiAgICAgICAgLy8gdGhhdCBoYXZlIHRvIHdhaXQgZHVlIHRvIHRoZSBgbGltaXRgIG9wdGlvbi5cbiAgICAgICAgLy8gRG9uJ3QgZG91YmxlLWVtaXQgdXBsb2FkLXN0YXJ0ZWQgZm9yIEdvbGRlbiBSZXRyaWV2ZXItcmVzdG9yZWQgZmlsZXMgdGhhdCB3ZXJlIGFscmVhZHkgc3RhcnRlZFxuICAgICAgICBpZiAoIWZpbGUucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZCB8fCAhZmlsZS5pc1Jlc3RvcmVkKSB7XG4gICAgICAgICAgdGhpcy51cHB5LmVtaXQoJ3VwbG9hZC1zdGFydGVkJywgZmlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy51cGxvYWRSZW1vdGUoZmlsZSwgY3VycmVudCwgdG90YWwpO1xuICAgICAgfSAvLyBEb24ndCBkb3VibGUtZW1pdCB1cGxvYWQtc3RhcnRlZCBmb3IgR29sZGVuIFJldHJpZXZlci1yZXN0b3JlZCBmaWxlcyB0aGF0IHdlcmUgYWxyZWFkeSBzdGFydGVkXG5cblxuICAgICAgaWYgKCFmaWxlLnByb2dyZXNzLnVwbG9hZFN0YXJ0ZWQgfHwgIWZpbGUuaXNSZXN0b3JlZCkge1xuICAgICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLXN0YXJ0ZWQnLCBmaWxlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMudXBsb2FkKGZpbGUsIGN1cnJlbnQsIHRvdGFsKTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2V0dGxlKHByb21pc2VzKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gZmlsZUlEc1xuICAgKi9cblxuXG4gIGhhbmRsZVVwbG9hZChmaWxlSURzKSB7XG4gICAgaWYgKGZpbGVJRHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnVwcHkubG9nKCdbVHVzXSBObyBmaWxlcyB0byB1cGxvYWQnKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRzLmxpbWl0ID09PSAwKSB7XG4gICAgICB0aGlzLnVwcHkubG9nKCdbVHVzXSBXaGVuIHVwbG9hZGluZyBtdWx0aXBsZSBmaWxlcyBhdCBvbmNlLCBjb25zaWRlciBzZXR0aW5nIHRoZSBgbGltaXRgIG9wdGlvbiAodG8gYDEwYCBmb3IgZXhhbXBsZSksIHRvIGxpbWl0IHRoZSBudW1iZXIgb2YgY29uY3VycmVudCB1cGxvYWRzLCB3aGljaCBoZWxwcyBwcmV2ZW50IG1lbW9yeSBhbmQgbmV0d29yayBpc3N1ZXM6IGh0dHBzOi8vdXBweS5pby9kb2NzL3R1cy8jbGltaXQtMCcsICd3YXJuaW5nJyk7XG4gICAgfVxuXG4gICAgdGhpcy51cHB5LmxvZygnW1R1c10gVXBsb2FkaW5nLi4uJyk7XG4gICAgY29uc3QgZmlsZXNUb1VwbG9hZCA9IGZpbGVJRHMubWFwKGZpbGVJRCA9PiB0aGlzLnVwcHkuZ2V0RmlsZShmaWxlSUQpKTtcbiAgICByZXR1cm4gdGhpcy51cGxvYWRGaWxlcyhmaWxlc1RvVXBsb2FkKS50aGVuKCgpID0+IG51bGwpO1xuICB9XG5cbiAgaW5zdGFsbCgpIHtcbiAgICB0aGlzLnVwcHkuc2V0U3RhdGUoe1xuICAgICAgY2FwYWJpbGl0aWVzOiB7IC4uLnRoaXMudXBweS5nZXRTdGF0ZSgpLmNhcGFiaWxpdGllcyxcbiAgICAgICAgcmVzdW1hYmxlVXBsb2FkczogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMudXBweS5hZGRVcGxvYWRlcih0aGlzLmhhbmRsZVVwbG9hZCk7XG4gICAgdGhpcy51cHB5Lm9uKCdyZXNldC1wcm9ncmVzcycsIHRoaXMuaGFuZGxlUmVzZXRQcm9ncmVzcyk7XG4gIH1cblxuICB1bmluc3RhbGwoKSB7XG4gICAgdGhpcy51cHB5LnNldFN0YXRlKHtcbiAgICAgIGNhcGFiaWxpdGllczogeyAuLi50aGlzLnVwcHkuZ2V0U3RhdGUoKS5jYXBhYmlsaXRpZXMsXG4gICAgICAgIHJlc3VtYWJsZVVwbG9hZHM6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy51cHB5LnJlbW92ZVVwbG9hZGVyKHRoaXMuaGFuZGxlVXBsb2FkKTtcbiAgfVxuXG59XG5UdXMuVkVSU0lPTiA9IHBhY2thZ2VKc29uLnZlcnNpb247IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBVSVBsdWdpbiB9IGZyb20gJ0B1cHB5L2NvcmUnO1xuaW1wb3J0IHsgUmVxdWVzdENsaWVudCB9IGZyb20gJ0B1cHB5L2NvbXBhbmlvbi1jbGllbnQnO1xuaW1wb3J0IHRvQXJyYXkgZnJvbSAnQHVwcHkvdXRpbHMvbGliL3RvQXJyYXknO1xuaW1wb3J0IFVybFVJIGZyb20gXCIuL1VybFVJLmpzXCI7XG5pbXBvcnQgZm9yRWFjaERyb3BwZWRPclBhc3RlZFVybCBmcm9tICcuL3V0aWxzL2ZvckVhY2hEcm9wcGVkT3JQYXN0ZWRVcmwuanMnO1xuY29uc3QgcGFja2FnZUpzb24gPSB7XG4gIFwidmVyc2lvblwiOiBcIjMuMy4wXCJcbn07XG5pbXBvcnQgbG9jYWxlIGZyb20gJy4vbG9jYWxlLmpzJztcblxuZnVuY3Rpb24gVXJsSWNvbigpIHtcbiAgcmV0dXJuIGgoXCJzdmdcIiwge1xuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgd2lkdGg6IFwiMzJcIixcbiAgICBoZWlnaHQ6IFwiMzJcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiXG4gIH0sIGgoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0yMy42MzcgMTUuMzEybC0yLjQ3NCAyLjQ2NGEzLjU4MiAzLjU4MiAwIDAxLS41NzcuNDkxYy0uOTA3LjY1Ny0xLjg5Ny45ODYtMi45NjguOTg2YTQuOTI1IDQuOTI1IDAgMDEtMy45NTktMS45NzFjLS4yNDgtLjMyOS0uMTY0LS45MDIuMTY1LTEuMTQ5LjMzLS4yNDcuOTA3LS4xNjQgMS4xNTUuMTY0IDEuMDcyIDEuNDc4IDMuMTMzIDEuNzI0IDQuNjE4LjY1NmEuNjQyLjY0MiAwIDAwLjMzLS4zMjhsMi40NzMtMi40NjNjMS4yMzgtMS4zMTMgMS4yMzgtMy4zNjYtLjA4Mi00LjU5N2EzLjM0OCAzLjM0OCAwIDAwLTQuNjE4IDBsLTEuNDAyIDEuMzk1YS43OTkuNzk5IDAgMDEtMS4xNTQgMCAuNzkuNzkgMCAwMTAtMS4xNWwxLjQwMi0xLjM5NGE0Ljg0MyA0Ljg0MyAwIDAxNi44NDMgMGMyLjA2MiAxLjgwNSAyLjE0NCA1LjAwNy4yNDggNi44OTZ6bS04LjA4MSA1LjY2NGwtMS40MDIgMS4zOTVhMy4zNDggMy4zNDggMCAwMS00LjYxOCAwYy0xLjMxOS0xLjIzLTEuMzE5LTMuMzY1LS4wODItNC41OTZsMi40NzUtMi40NjQuMzI4LS4zMjhjLjc0My0uNDkyIDEuNTY3LS43MzkgMi40NzUtLjY1Ny45MDYuMTY1IDEuNjQ4LjU3NCAyLjE0MyAxLjMxNC4yNDguMzI5LjgyNS40MTEgMS4xNTUuMTY1LjMzLS4yNDguNDEyLS44MjIuMTY1LTEuMTUtLjgyNS0xLjA2OC0xLjk4LTEuNzI0LTMuMjE2LTEuODg4LTEuMjM4LS4yNDctMi41NTYuMDgyLTMuNjI4LjkwMmwtLjQ5NS40OTMtMi40NzQgMi40NjRjLTEuODk3IDEuOTY5LTEuODE0IDUuMDkuMDgzIDYuOTc3Ljk5LjkwNCAyLjIyNiAxLjM5NiAzLjQ2MyAxLjM5NnMyLjQ3My0uNDkyIDMuNDYzLTEuMzk1bDEuNDAyLTEuMzk2YS43OS43OSAwIDAwMC0xLjE1Yy0uMzMtLjMyOC0uOTA4LS40MS0xLjIzNy0uMDgyelwiLFxuICAgIGZpbGw6IFwiI0ZGNzUzRVwiLFxuICAgIFwiZmlsbC1ydWxlXCI6IFwibm9uemVyb1wiXG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gYWRkUHJvdG9jb2xUb1VSTCh1cmwpIHtcbiAgY29uc3QgcHJvdG9jb2xSZWdleCA9IC9eW2EtejAtOV0rOlxcL1xcLy87XG4gIGNvbnN0IGRlZmF1bHRQcm90b2NvbCA9ICdodHRwOi8vJztcblxuICBpZiAocHJvdG9jb2xSZWdleC50ZXN0KHVybCkpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgcmV0dXJuIGRlZmF1bHRQcm90b2NvbCArIHVybDtcbn1cblxuZnVuY3Rpb24gY2FuSGFuZGxlUm9vdERyb3AoZSkge1xuICBjb25zdCBpdGVtcyA9IHRvQXJyYXkoZS5kYXRhVHJhbnNmZXIuaXRlbXMpO1xuICBjb25zdCB1cmxzID0gaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5raW5kID09PSAnc3RyaW5nJyAmJiBpdGVtLnR5cGUgPT09ICd0ZXh0L3VyaS1saXN0Jyk7XG4gIHJldHVybiB1cmxzLmxlbmd0aCA+IDA7XG59XG5cbmZ1bmN0aW9uIGNoZWNrSWZDb3JyZWN0VVJMKHVybCkge1xuICBpZiAoIXVybCkgcmV0dXJuIGZhbHNlO1xuICBjb25zdCBwcm90b2NvbCA9IHVybC5tYXRjaCgvXihbYS16MC05XSspOlxcL1xcLy8pWzFdO1xuXG4gIGlmIChwcm90b2NvbCAhPT0gJ2h0dHAnICYmIHByb3RvY29sICE9PSAnaHR0cHMnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGdldEZpbGVOYW1lRnJvbVVybCh1cmwpIHtcbiAgY29uc3Qge1xuICAgIHBhdGhuYW1lXG4gIH0gPSBuZXcgVVJMKHVybCk7XG4gIHJldHVybiBwYXRobmFtZS5zdWJzdHJpbmcocGF0aG5hbWUubGFzdEluZGV4T2YoJy8nKSArIDEpO1xufVxuLyoqXG4gKiBVcmxcbiAqXG4gKi9cblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVcmwgZXh0ZW5kcyBVSVBsdWdpbiB7XG4gIGNvbnN0cnVjdG9yKHVwcHksIG9wdHMpIHtcbiAgICBzdXBlcih1cHB5LCBvcHRzKTtcbiAgICB0aGlzLmlkID0gdGhpcy5vcHRzLmlkIHx8ICdVcmwnO1xuICAgIHRoaXMudGl0bGUgPSB0aGlzLm9wdHMudGl0bGUgfHwgJ0xpbmsnO1xuICAgIHRoaXMudHlwZSA9ICdhY3F1aXJlcic7XG5cbiAgICB0aGlzLmljb24gPSAoKSA9PiBoKFVybEljb24sIG51bGwpOyAvLyBTZXQgZGVmYXVsdCBvcHRpb25zIGFuZCBsb2NhbGVcblxuXG4gICAgdGhpcy5kZWZhdWx0TG9jYWxlID0gbG9jYWxlO1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge307XG4gICAgdGhpcy5vcHRzID0geyAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIC4uLm9wdHNcbiAgICB9O1xuICAgIHRoaXMuaTE4bkluaXQoKTtcbiAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5vcHRzLmNvbXBhbmlvblVybDtcblxuICAgIGlmICghdGhpcy5ob3N0bmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wYW5pb24gaG9zdG5hbWUgaXMgcmVxdWlyZWQsIHBsZWFzZSBjb25zdWx0IGh0dHBzOi8vdXBweS5pby9kb2NzL2NvbXBhbmlvbicpO1xuICAgIH0gLy8gQmluZCBhbGwgZXZlbnQgaGFuZGxlcnMgZm9yIHJlZmVyZW5jYWJpbGl0eVxuXG5cbiAgICB0aGlzLmdldE1ldGEgPSB0aGlzLmdldE1ldGEuYmluZCh0aGlzKTtcbiAgICB0aGlzLmFkZEZpbGUgPSB0aGlzLmFkZEZpbGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZVJvb3REcm9wID0gdGhpcy5oYW5kbGVSb290RHJvcC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlUm9vdFBhc3RlID0gdGhpcy5oYW5kbGVSb290UGFzdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNsaWVudCA9IG5ldyBSZXF1ZXN0Q2xpZW50KHVwcHksIHtcbiAgICAgIGNvbXBhbmlvblVybDogdGhpcy5vcHRzLmNvbXBhbmlvblVybCxcbiAgICAgIGNvbXBhbmlvbkhlYWRlcnM6IHRoaXMub3B0cy5jb21wYW5pb25IZWFkZXJzLFxuICAgICAgY29tcGFuaW9uQ29va2llc1J1bGU6IHRoaXMub3B0cy5jb21wYW5pb25Db29raWVzUnVsZVxuICAgIH0pO1xuICB9XG5cbiAgZ2V0TWV0YSh1cmwpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQucG9zdCgndXJsL21ldGEnLCB7XG4gICAgICB1cmxcbiAgICB9KS50aGVuKHJlcyA9PiB7XG4gICAgICBpZiAocmVzLmVycm9yKSB7XG4gICAgICAgIHRoaXMudXBweS5sb2coJ1tVUkxdIEVycm9yOicpO1xuICAgICAgICB0aGlzLnVwcHkubG9nKHJlcy5lcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHRoZSBmaWxlJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBhZGRGaWxlKHByb3RvY29sbGVzc1VybCwgb3B0aW9uYWxNZXRhKSB7XG4gICAgaWYgKG9wdGlvbmFsTWV0YSA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25hbE1ldGEgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgdXJsID0gYWRkUHJvdG9jb2xUb1VSTChwcm90b2NvbGxlc3NVcmwpO1xuXG4gICAgaWYgKCFjaGVja0lmQ29ycmVjdFVSTCh1cmwpKSB7XG4gICAgICB0aGlzLnVwcHkubG9nKGBbVVJMXSBJbmNvcnJlY3QgVVJMIGVudGVyZWQ6ICR7dXJsfWApO1xuICAgICAgdGhpcy51cHB5LmluZm8odGhpcy5pMThuKCdlbnRlckNvcnJlY3RVcmwnKSwgJ2Vycm9yJywgNDAwMCk7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZXRhID0gYXdhaXQgdGhpcy5nZXRNZXRhKHVybCk7XG4gICAgICBjb25zdCB0YWdGaWxlID0ge1xuICAgICAgICBtZXRhOiBvcHRpb25hbE1ldGEsXG4gICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgbmFtZTogZ2V0RmlsZU5hbWVGcm9tVXJsKHVybCksXG4gICAgICAgIHR5cGU6IG1ldGEudHlwZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHNpemU6IG1ldGEuc2l6ZVxuICAgICAgICB9LFxuICAgICAgICBpc1JlbW90ZTogdHJ1ZSxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIHVybFxuICAgICAgICB9LFxuICAgICAgICByZW1vdGU6IHtcbiAgICAgICAgICBjb21wYW5pb25Vcmw6IHRoaXMub3B0cy5jb21wYW5pb25VcmwsXG4gICAgICAgICAgdXJsOiBgJHt0aGlzLmhvc3RuYW1lfS91cmwvZ2V0YCxcbiAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICBmaWxlSWQ6IHVybCxcbiAgICAgICAgICAgIHVybFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiB0aGlzLmNsaWVudC5vcHRzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0aGlzLnVwcHkubG9nKCdbVXJsXSBBZGRpbmcgcmVtb3RlIGZpbGUnKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBweS5hZGRGaWxlKHRhZ0ZpbGUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmICghZXJyLmlzUmVzdHJpY3Rpb24pIHtcbiAgICAgICAgICB0aGlzLnVwcHkubG9nKGVycik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXJyO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy51cHB5LmxvZyhlcnIpO1xuICAgICAgdGhpcy51cHB5LmluZm8oe1xuICAgICAgICBtZXNzYWdlOiB0aGlzLmkxOG4oJ2ZhaWxlZFRvRmV0Y2gnKSxcbiAgICAgICAgZGV0YWlsczogZXJyXG4gICAgICB9LCAnZXJyb3InLCA0MDAwKTtcbiAgICAgIHJldHVybiBlcnI7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUm9vdERyb3AoZSkge1xuICAgIGZvckVhY2hEcm9wcGVkT3JQYXN0ZWRVcmwoZS5kYXRhVHJhbnNmZXIsICdkcm9wJywgdXJsID0+IHtcbiAgICAgIHRoaXMudXBweS5sb2coYFtVUkxdIEFkZGluZyBmaWxlIGZyb20gZHJvcHBlZCB1cmw6ICR7dXJsfWApO1xuICAgICAgdGhpcy5hZGRGaWxlKHVybCk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVSb290UGFzdGUoZSkge1xuICAgIGZvckVhY2hEcm9wcGVkT3JQYXN0ZWRVcmwoZS5jbGlwYm9hcmREYXRhLCAncGFzdGUnLCB1cmwgPT4ge1xuICAgICAgdGhpcy51cHB5LmxvZyhgW1VSTF0gQWRkaW5nIGZpbGUgZnJvbSBwYXN0ZWQgdXJsOiAke3VybH1gKTtcbiAgICAgIHRoaXMuYWRkRmlsZSh1cmwpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBoKFVybFVJLCB7XG4gICAgICBpMThuOiB0aGlzLmkxOG4sXG4gICAgICBhZGRGaWxlOiB0aGlzLmFkZEZpbGVcbiAgICB9KTtcbiAgfVxuXG4gIGluc3RhbGwoKSB7XG4gICAgY29uc3Qge1xuICAgICAgdGFyZ2V0XG4gICAgfSA9IHRoaXMub3B0cztcblxuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHRoaXMubW91bnQodGFyZ2V0LCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICB1bmluc3RhbGwoKSB7XG4gICAgdGhpcy51bm1vdW50KCk7XG4gIH1cblxufSAvLyBUaGlzIGlzIGRlZmluZWQgb3V0c2lkZSBvZiB0aGUgY2xhc3MgYm9keSBiZWNhdXNlIGl0J3Mgbm90IHVzaW5nIGB0aGlzYCwgYnV0XG4vLyB3ZSBzdGlsbCB3YW50IGl0IGF2YWlsYWJsZSBvbiB0aGUgcHJvdG90eXBlIHNvIHRoZSBEYXNoYm9hcmQgY2FuIGFjY2VzcyBpdC5cblxuVXJsLlZFUlNJT04gPSBwYWNrYWdlSnNvbi52ZXJzaW9uO1xuVXJsLnByb3RvdHlwZS5jYW5IYW5kbGVSb290RHJvcCA9IGNhbkhhbmRsZVJvb3REcm9wOyIsImZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShyZWNlaXZlciwgcHJpdmF0ZUtleSkgeyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZWNlaXZlciwgcHJpdmF0ZUtleSkpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byB1c2UgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7IH0gcmV0dXJuIHJlY2VpdmVyOyB9XG5cbnZhciBpZCA9IDA7XG5cbmZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KG5hbWUpIHsgcmV0dXJuIFwiX19wcml2YXRlX1wiICsgaWQrKyArIFwiX1wiICsgbmFtZTsgfVxuXG5pbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSAnbmFub2lkL25vbi1zZWN1cmUnO1xuXG52YXIgX2hhbmRsZVN1Ym1pdCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImhhbmRsZVN1Ym1pdFwiKTtcblxuY2xhc3MgVXJsVUkgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9oYW5kbGVTdWJtaXQsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGV2ID0+IHtcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGFkZEZpbGVcbiAgICAgICAgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHByZXBhcmVkVmFsdWUgPSB0aGlzLmlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgYWRkRmlsZShwcmVwYXJlZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmZvcm0uaWQgPSBuYW5vaWQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuaW5wdXQudmFsdWUgPSAnJztcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9oYW5kbGVTdWJtaXQpW19oYW5kbGVTdWJtaXRdKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZm9ybSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLmZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9oYW5kbGVTdWJtaXQpW19oYW5kbGVTdWJtaXRdKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZm9ybSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaTE4blxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LVVybFwiXG4gICAgfSwgaChcImlucHV0XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LXUtcmVzZXQgdXBweS1jLXRleHRJbnB1dCB1cHB5LVVybC1pbnB1dFwiLFxuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICBcImFyaWEtbGFiZWxcIjogaTE4bignZW50ZXJVcmxUb0ltcG9ydCcpLFxuICAgICAgcGxhY2Vob2xkZXI6IGkxOG4oJ2VudGVyVXJsVG9JbXBvcnQnKSxcbiAgICAgIHJlZjogaW5wdXQgPT4ge1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICB9LFxuICAgICAgXCJkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXCI6IHRydWUsXG4gICAgICBmb3JtOiB0aGlzLmZvcm0uaWRcbiAgICB9KSwgaChcImJ1dHRvblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG4gdXBweS1jLWJ0bi1wcmltYXJ5IHVwcHktVXJsLWltcG9ydEJ1dHRvblwiLFxuICAgICAgdHlwZTogXCJzdWJtaXRcIixcbiAgICAgIGZvcm06IHRoaXMuZm9ybS5pZFxuICAgIH0sIGkxOG4oJ2ltcG9ydCcpKSk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBVcmxVSTsiLCJleHBvcnQgeyBkZWZhdWx0IH0gZnJvbSBcIi4vVXJsLmpzXCI7IiwiZXhwb3J0IGRlZmF1bHQge1xuICBzdHJpbmdzOiB7XG4gICAgLy8gTGFiZWwgZm9yIHRoZSBcIkltcG9ydFwiIGJ1dHRvbi5cbiAgICBpbXBvcnQ6ICdJbXBvcnQnLFxuICAgIC8vIFBsYWNlaG9sZGVyIHRleHQgZm9yIHRoZSBVUkwgaW5wdXQuXG4gICAgZW50ZXJVcmxUb0ltcG9ydDogJ0VudGVyIFVSTCB0byBpbXBvcnQgYSBmaWxlJyxcbiAgICAvLyBFcnJvciBtZXNzYWdlIHNob3duIGlmIENvbXBhbmlvbiBjb3VsZCBub3QgbG9hZCBhIFVSTC5cbiAgICBmYWlsZWRUb0ZldGNoOiAnQ29tcGFuaW9uIGZhaWxlZCB0byBmZXRjaCB0aGlzIFVSTCwgcGxlYXNlIG1ha2Ugc3VyZSBpdOKAmXMgY29ycmVjdCcsXG4gICAgLy8gRXJyb3IgbWVzc2FnZSBzaG93biBpZiB0aGUgaW5wdXQgZG9lcyBub3QgbG9vayBsaWtlIGEgVVJMLlxuICAgIGVudGVyQ29ycmVjdFVybDogJ0luY29ycmVjdCBVUkw6IFBsZWFzZSBtYWtlIHN1cmUgeW91IGFyZSBlbnRlcmluZyBhIGRpcmVjdCBsaW5rIHRvIGEgZmlsZSdcbiAgfVxufTsiLCJpbXBvcnQgdG9BcnJheSBmcm9tICdAdXBweS91dGlscy9saWIvdG9BcnJheSc7XG4vKlxuICBTSVRVQVRJT05cblxuICAgIDEuIENyb3NzLWJyb3dzZXIgZGF0YVRyYW5zZmVyLml0ZW1zXG5cbiAgICAgIHBhc3RlIGluIGNocm9tZSBbQ29weSBJbWFnZV06XG4gICAgICAwOiB7a2luZDogXCJmaWxlXCIsIHR5cGU6IFwiaW1hZ2UvcG5nXCJ9XG4gICAgICAxOiB7a2luZDogXCJzdHJpbmdcIiwgdHlwZTogXCJ0ZXh0L2h0bWxcIn1cbiAgICAgIHBhc3RlIGluIHNhZmFyaSBbQ29weSBJbWFnZV06XG4gICAgICAwOiB7a2luZDogXCJmaWxlXCIsIHR5cGU6IFwiaW1hZ2UvcG5nXCJ9XG4gICAgICAxOiB7a2luZDogXCJzdHJpbmdcIiwgdHlwZTogXCJ0ZXh0L2h0bWxcIn1cbiAgICAgIDI6IHtraW5kOiBcInN0cmluZ1wiLCB0eXBlOiBcInRleHQvcGxhaW5cIn1cbiAgICAgIDM6IHtraW5kOiBcInN0cmluZ1wiLCB0eXBlOiBcInRleHQvdXJpLWxpc3RcIn1cbiAgICAgIHBhc3RlIGluIGZpcmVmb3ggW0NvcHkgSW1hZ2VdOlxuICAgICAgMDoge2tpbmQ6IFwiZmlsZVwiLCB0eXBlOiBcImltYWdlL3BuZ1wifVxuICAgICAgMToge2tpbmQ6IFwic3RyaW5nXCIsIHR5cGU6IFwidGV4dC9odG1sXCJ9XG5cbiAgICAgIHBhc3RlIGluIGNocm9tZSBbQ29weSBJbWFnZSBBZGRyZXNzXTpcbiAgICAgIDA6IHtraW5kOiBcInN0cmluZ1wiLCB0eXBlOiBcInRleHQvcGxhaW5cIn1cbiAgICAgIHBhc3RlIGluIHNhZmFyaSBbQ29weSBJbWFnZSBBZGRyZXNzXTpcbiAgICAgIDA6IHtraW5kOiBcInN0cmluZ1wiLCB0eXBlOiBcInRleHQvcGxhaW5cIn1cbiAgICAgIDE6IHtraW5kOiBcInN0cmluZ1wiLCB0eXBlOiBcInRleHQvdXJpLWxpc3RcIn1cbiAgICAgIHBhc3RlIGluIGZpcmVmb3ggW0NvcHkgSW1hZ2UgQWRkcmVzc106XG4gICAgICAwOiB7a2luZDogXCJzdHJpbmdcIiwgdHlwZTogXCJ0ZXh0L3BsYWluXCJ9XG5cbiAgICAgIGRyb3AgaW4gY2hyb21lIFtmcm9tIGJyb3dzZXJdOlxuICAgICAgMDoge2tpbmQ6IFwic3RyaW5nXCIsIHR5cGU6IFwidGV4dC91cmktbGlzdFwifVxuICAgICAgMToge2tpbmQ6IFwic3RyaW5nXCIsIHR5cGU6IFwidGV4dC9odG1sXCJ9XG4gICAgICBkcm9wIGluIHNhZmFyaSBbZnJvbSBicm93c2VyXTpcbiAgICAgIDA6IHtraW5kOiBcInN0cmluZ1wiLCB0eXBlOiBcInRleHQvdXJpLWxpc3RcIn1cbiAgICAgIDE6IHtraW5kOiBcInN0cmluZ1wiLCB0eXBlOiBcInRleHQvaHRtbFwifVxuICAgICAgMjoge2tpbmQ6IFwiZmlsZVwiLCB0eXBlOiBcImltYWdlL3BuZ1wifVxuICAgICAgZHJvcCBpbiBmaXJlZm94IFtmcm9tIGJyb3dzZXJdOlxuICAgICAgMDoge2tpbmQ6IFwic3RyaW5nXCIsIHR5cGU6IFwidGV4dC91cmktbGlzdFwifVxuICAgICAgMToge2tpbmQ6IFwic3RyaW5nXCIsIHR5cGU6IFwidGV4dC94LW1vei11cmxcIn1cbiAgICAgIDI6IHtraW5kOiBcInN0cmluZ1wiLCB0eXBlOiBcInRleHQvcGxhaW5cIn1cblxuICAgIDIuIFdlIGNhbiBkZXRlcm1pbmUgaWYgaXQncyBhICdjb3B5cGFzdGUnIG9yIGEgJ2Ryb3AnLCBidXQgd2UgY2FuJ3QgZGlzY2VybiBiZXR3ZWVuIFtDb3B5IEltYWdlXSBhbmQgW0NvcHkgSW1hZ2UgQWRkcmVzc11cblxuICBDT05DTFVTSU9OXG5cbiAgICAxLiAncGFzdGUnIChbQ29weSBJbWFnZV0gb3IgW0NvcHkgSW1hZ2UgQWRkcmVzc10sIHdlIGNhbid0IGRpc2Nlcm4gYmV0d2VlbiB0aGVzZSB0d28pXG4gICAgICBEb24ndCBkbyBhbnl0aGluZyBpZiB0aGVyZSBpcyAnZmlsZScgaXRlbS4gLmhhbmRsZVBhc3RlIGluIHRoZSBEYXNoYm9hcmRQbHVnaW4gd2lsbCBkZWFsIHdpdGggYWxsICdmaWxlJyBpdGVtcy5cbiAgICAgIElmIHRoZXJlIGFyZSBubyAnZmlsZScgaXRlbXMgLSBoYW5kbGUgJ3RleHQvcGxhaW4nIGl0ZW1zLlxuXG4gICAgMi4gJ2Ryb3AnXG4gICAgICBUYWtlICd0ZXh0L3VyaS1saXN0JyBpdGVtcy4gU2FmYXJpIGhhcyBhbiBhZGRpdGlvbmFsIGl0ZW0gb2YgLmtpbmQgPT09ICdmaWxlJywgYW5kIHlvdSBtYXkgd29ycnkgYWJvdXQgdGhlIGl0ZW0gYmVpbmdcbiAgICAgIGR1cGxpY2F0ZWQgKGZpcnN0IGJ5IERhc2hib2FyZFBsdWdpbiwgYW5kIHRoZW4gYnkgVXJsUGx1Z2luLCBub3cpLCBidXQgZG9uJ3QuIERpcmVjdG9yeSBoYW5kbGluZyBjb2RlIHdvbid0IHBheVxuICAgICAgYXR0ZW50aW9uIHRvIHRoaXMgcGFydGljdWxhciBpdGVtIG9mIGtpbmQgJ2ZpbGUnLlxuKi9cblxuLyoqXG4gKiBGaW5kcyBhbGwgbGlua3MgZHJvcHBlZC9wYXN0ZWQgZnJvbSBvbmUgYnJvd3NlciB3aW5kb3cgdG8gYW5vdGhlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YVRyYW5zZmVyIC0gRGF0YVRyYW5zZmVyIGluc3RhbmNlLCBlLmcuIGUuY2xpcGJvYXJkRGF0YSwgb3IgZS5kYXRhVHJhbnNmZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpc0Ryb3BPclBhc3RlIC0gZWl0aGVyICdkcm9wJyBvciAncGFzdGUnXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtICh1cmxTdHJpbmcpID0+IHt9XG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZm9yRWFjaERyb3BwZWRPclBhc3RlZFVybChkYXRhVHJhbnNmZXIsIGlzRHJvcE9yUGFzdGUsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IGl0ZW1zID0gdG9BcnJheShkYXRhVHJhbnNmZXIuaXRlbXMpO1xuICBsZXQgdXJsSXRlbXM7XG5cbiAgc3dpdGNoIChpc0Ryb3BPclBhc3RlKSB7XG4gICAgY2FzZSAncGFzdGUnOlxuICAgICAge1xuICAgICAgICBjb25zdCBhdExlYXN0T25lRmlsZUlzRHJhZ2dlZCA9IGl0ZW1zLnNvbWUoaXRlbSA9PiBpdGVtLmtpbmQgPT09ICdmaWxlJyk7XG5cbiAgICAgICAgaWYgKGF0TGVhc3RPbmVGaWxlSXNEcmFnZ2VkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdXJsSXRlbXMgPSBpdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmtpbmQgPT09ICdzdHJpbmcnICYmIGl0ZW0udHlwZSA9PT0gJ3RleHQvcGxhaW4nKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICBjYXNlICdkcm9wJzpcbiAgICAgIHtcbiAgICAgICAgdXJsSXRlbXMgPSBpdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmtpbmQgPT09ICdzdHJpbmcnICYmIGl0ZW0udHlwZSA9PT0gJ3RleHQvdXJpLWxpc3QnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGlzRHJvcE9yUGFzdGUgbXVzdCBiZSBlaXRoZXIgJ2Ryb3AnIG9yICdwYXN0ZScsIGJ1dCBpdCdzICR7aXNEcm9wT3JQYXN0ZX1gKTtcbiAgICAgIH1cbiAgfVxuXG4gIHVybEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgaXRlbS5nZXRBc1N0cmluZyh1cmxTdHJpbmcgPT4gY2FsbGJhY2sodXJsU3RyaW5nKSk7XG4gIH0pO1xufSIsImltcG9ydCBoYXNPd25Qcm9wZXJ0eSBmcm9tICcuL2hhc1Byb3BlcnR5LmpzJztcbi8qKlxuICogTGl0dGxlIEFib3J0Q29udHJvbGxlciBwcm94eSBtb2R1bGUgc28gd2UgY2FuIHN3YXAgb3V0IHRoZSBpbXBsZW1lbnRhdGlvbiBlYXNpbHkgbGF0ZXIuXG4gKi9cblxuZXhwb3J0IGNvbnN0IHtcbiAgQWJvcnRDb250cm9sbGVyXG59ID0gZ2xvYmFsVGhpcztcbmV4cG9ydCBjb25zdCB7XG4gIEFib3J0U2lnbmFsXG59ID0gZ2xvYmFsVGhpcztcbmV4cG9ydCBjb25zdCBjcmVhdGVBYm9ydEVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgaWYgKG1lc3NhZ2UgPT09IHZvaWQgMCkge1xuICAgIG1lc3NhZ2UgPSAnQWJvcnRlZCc7XG4gIH1cblxuICBjb25zdCBlcnIgPSBuZXcgRE9NRXhjZXB0aW9uKG1lc3NhZ2UsICdBYm9ydEVycm9yJyk7XG5cbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCAmJiBoYXNPd25Qcm9wZXJ0eShvcHRpb25zLCAnY2F1c2UnKSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnIsICdjYXVzZScsIHtcbiAgICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG9wdGlvbnMuY2F1c2VcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBlcnI7XG59OyIsImltcG9ydCBoYXNQcm9wZXJ0eSBmcm9tICcuL2hhc1Byb3BlcnR5LmpzJztcblxuY2xhc3MgRXJyb3JXaXRoQ2F1c2UgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5jYXVzZSA9IG9wdGlvbnMuY2F1c2U7XG5cbiAgICBpZiAodGhpcy5jYXVzZSAmJiBoYXNQcm9wZXJ0eSh0aGlzLmNhdXNlLCAnaXNOZXR3b3JrRXJyb3InKSkge1xuICAgICAgdGhpcy5pc05ldHdvcmtFcnJvciA9IHRoaXMuY2F1c2UuaXNOZXR3b3JrRXJyb3I7XG4gICAgfVxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXJyb3JXaXRoQ2F1c2U7IiwiZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTsgfSByZXR1cm4gcmVjZWl2ZXI7IH1cblxudmFyIGlkID0gMDtcblxuZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkobmFtZSkgeyByZXR1cm4gXCJfX3ByaXZhdGVfXCIgKyBpZCsrICsgXCJfXCIgKyBuYW1lOyB9XG5cbnZhciBfZW1pdHRlciA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImVtaXR0ZXJcIik7XG5cbnZhciBfZXZlbnRzID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZXZlbnRzXCIpO1xuXG4vKipcbiAqIENyZWF0ZSBhIHdyYXBwZXIgYXJvdW5kIGFuIGV2ZW50IGVtaXR0ZXIgd2l0aCBhIGByZW1vdmVgIG1ldGhvZCB0byByZW1vdmVcbiAqIGFsbCBldmVudHMgdGhhdCB3ZXJlIGFkZGVkIHVzaW5nIHRoZSB3cmFwcGVkIGVtaXR0ZXIuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50VHJhY2tlciB7XG4gIGNvbnN0cnVjdG9yKGVtaXR0ZXIpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2VtaXR0ZXIsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZXZlbnRzLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBbXVxuICAgIH0pO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZW1pdHRlcilbX2VtaXR0ZXJdID0gZW1pdHRlcjtcbiAgfVxuXG4gIG9uKGV2ZW50LCBmbikge1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZXZlbnRzKVtfZXZlbnRzXS5wdXNoKFtldmVudCwgZm5dKTtcblxuICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2VtaXR0ZXIpW19lbWl0dGVyXS5vbihldmVudCwgZm4pO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIGZvciAoY29uc3QgW2V2ZW50LCBmbl0gb2YgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ldmVudHMpW19ldmVudHNdLnNwbGljZSgwKSkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9lbWl0dGVyKVtfZW1pdHRlcl0ub2ZmKGV2ZW50LCBmbik7XG4gICAgfVxuICB9XG5cbn0iLCJleHBvcnQgZGVmYXVsdCBbJ2FbaHJlZl06bm90KFt0YWJpbmRleF49XCItXCJdKTpub3QoW2luZXJ0XSk6bm90KFthcmlhLWhpZGRlbl0pJywgJ2FyZWFbaHJlZl06bm90KFt0YWJpbmRleF49XCItXCJdKTpub3QoW2luZXJ0XSk6bm90KFthcmlhLWhpZGRlbl0pJywgJ2lucHV0Om5vdChbZGlzYWJsZWRdKTpub3QoW2luZXJ0XSk6bm90KFthcmlhLWhpZGRlbl0pJywgJ3NlbGVjdDpub3QoW2Rpc2FibGVkXSk6bm90KFtpbmVydF0pOm5vdChbYXJpYS1oaWRkZW5dKScsICd0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSk6bm90KFtpbmVydF0pOm5vdChbYXJpYS1oaWRkZW5dKScsICdidXR0b246bm90KFtkaXNhYmxlZF0pOm5vdChbaW5lcnRdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAnaWZyYW1lOm5vdChbdGFiaW5kZXhePVwiLVwiXSk6bm90KFtpbmVydF0pOm5vdChbYXJpYS1oaWRkZW5dKScsICdvYmplY3Q6bm90KFt0YWJpbmRleF49XCItXCJdKTpub3QoW2luZXJ0XSk6bm90KFthcmlhLWhpZGRlbl0pJywgJ2VtYmVkOm5vdChbdGFiaW5kZXhePVwiLVwiXSk6bm90KFtpbmVydF0pOm5vdChbYXJpYS1oaWRkZW5dKScsICdbY29udGVudGVkaXRhYmxlXTpub3QoW3RhYmluZGV4Xj1cIi1cIl0pOm5vdChbaW5lcnRdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAnW3RhYmluZGV4XTpub3QoW3RhYmluZGV4Xj1cIi1cIl0pOm5vdChbaW5lcnRdKTpub3QoW2FyaWEtaGlkZGVuXSknXTsiLCJjbGFzcyBOZXR3b3JrRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKGVycm9yLCB4aHIpIHtcbiAgICBpZiAoeGhyID09PSB2b2lkIDApIHtcbiAgICAgIHhociA9IG51bGw7XG4gICAgfVxuXG4gICAgc3VwZXIoYFRoaXMgbG9va3MgbGlrZSBhIG5ldHdvcmsgZXJyb3IsIHRoZSBlbmRwb2ludCBtaWdodCBiZSBibG9ja2VkIGJ5IGFuIGludGVybmV0IHByb3ZpZGVyIG9yIGEgZmlyZXdhbGwuYCk7XG4gICAgdGhpcy5jYXVzZSA9IGVycm9yO1xuICAgIHRoaXMuaXNOZXR3b3JrRXJyb3IgPSB0cnVlO1xuICAgIHRoaXMucmVxdWVzdCA9IHhocjtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE5ldHdvcmtFcnJvcjsiLCJmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVjZWl2ZXIsIHByaXZhdGVLZXkpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gdXNlIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpOyB9IHJldHVybiByZWNlaXZlcjsgfVxuXG52YXIgaWQgPSAwO1xuXG5mdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShuYW1lKSB7IHJldHVybiBcIl9fcHJpdmF0ZV9cIiArIGlkKysgKyBcIl9cIiArIG5hbWU7IH1cblxuZnVuY3Rpb24gY3JlYXRlQ2FuY2VsRXJyb3IoY2F1c2UpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcignQ2FuY2VsbGVkJywge1xuICAgIGNhdXNlXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhYm9ydE9uKHNpZ25hbCkge1xuICBpZiAoc2lnbmFsICE9IG51bGwpIHtcbiAgICBjb25zdCBhYm9ydFByb21pc2UgPSAoKSA9PiB0aGlzLmFib3J0KHNpZ25hbC5yZWFzb24pO1xuXG4gICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRQcm9taXNlLCB7XG4gICAgICBvbmNlOiB0cnVlXG4gICAgfSk7XG5cbiAgICBjb25zdCByZW1vdmVBYm9ydExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRQcm9taXNlKTtcbiAgICB9O1xuXG4gICAgdGhpcy50aGVuKHJlbW92ZUFib3J0TGlzdGVuZXIsIHJlbW92ZUFib3J0TGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbnZhciBfYWN0aXZlUmVxdWVzdHMgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhY3RpdmVSZXF1ZXN0c1wiKTtcblxudmFyIF9xdWV1ZWRIYW5kbGVycyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInF1ZXVlZEhhbmRsZXJzXCIpO1xuXG52YXIgX3BhdXNlZCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInBhdXNlZFwiKTtcblxudmFyIF9wYXVzZVRpbWVyID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicGF1c2VUaW1lclwiKTtcblxudmFyIF9kb3duTGltaXQgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJkb3duTGltaXRcIik7XG5cbnZhciBfdXBwZXJMaW1pdCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInVwcGVyTGltaXRcIik7XG5cbnZhciBfcmF0ZUxpbWl0aW5nVGltZXIgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyYXRlTGltaXRpbmdUaW1lclwiKTtcblxudmFyIF9jYWxsID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiY2FsbFwiKTtcblxudmFyIF9xdWV1ZU5leHQgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJxdWV1ZU5leHRcIik7XG5cbnZhciBfbmV4dCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm5leHRcIik7XG5cbnZhciBfcXVldWUgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJxdWV1ZVwiKTtcblxudmFyIF9kZXF1ZXVlID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZGVxdWV1ZVwiKTtcblxudmFyIF9yZXN1bWUgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXN1bWVcIik7XG5cbnZhciBfaW5jcmVhc2VMaW1pdCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImluY3JlYXNlTGltaXRcIik7XG5cbmV4cG9ydCBjbGFzcyBSYXRlTGltaXRlZFF1ZXVlIHtcbiAgY29uc3RydWN0b3IobGltaXQpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2RlcXVldWUsIHtcbiAgICAgIHZhbHVlOiBfZGVxdWV1ZTJcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3F1ZXVlLCB7XG4gICAgICB2YWx1ZTogX3F1ZXVlMlxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbmV4dCwge1xuICAgICAgdmFsdWU6IF9uZXh0MlxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcXVldWVOZXh0LCB7XG4gICAgICB2YWx1ZTogX3F1ZXVlTmV4dDJcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2NhbGwsIHtcbiAgICAgIHZhbHVlOiBfY2FsbDJcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FjdGl2ZVJlcXVlc3RzLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiAwXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9xdWV1ZWRIYW5kbGVycywge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogW11cbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3BhdXNlZCwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZmFsc2VcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3BhdXNlVGltZXIsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZG93bkxpbWl0LCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiAxXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF91cHBlckxpbWl0LCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JhdGVMaW1pdGluZ1RpbWVyLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Jlc3VtZSwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogKCkgPT4gdGhpcy5yZXN1bWUoKVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaW5jcmVhc2VMaW1pdCwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogKCkgPT4ge1xuICAgICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wYXVzZWQpW19wYXVzZWRdKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yYXRlTGltaXRpbmdUaW1lcilbX3JhdGVMaW1pdGluZ1RpbWVyXSA9IHNldFRpbWVvdXQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pbmNyZWFzZUxpbWl0KVtfaW5jcmVhc2VMaW1pdF0sIDApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZG93bkxpbWl0KVtfZG93bkxpbWl0XSA9IHRoaXMubGltaXQ7XG4gICAgICAgIHRoaXMubGltaXQgPSBNYXRoLmNlaWwoKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdXBwZXJMaW1pdClbX3VwcGVyTGltaXRdICsgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kb3duTGltaXQpW19kb3duTGltaXRdKSAvIDIpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2Rvd25MaW1pdClbX2Rvd25MaW1pdF07IGkgPD0gdGhpcy5saW1pdDsgaSsrKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9xdWV1ZU5leHQpW19xdWV1ZU5leHRdKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF91cHBlckxpbWl0KVtfdXBwZXJMaW1pdF0gLSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2Rvd25MaW1pdClbX2Rvd25MaW1pdF0gPiAzKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yYXRlTGltaXRpbmdUaW1lcilbX3JhdGVMaW1pdGluZ1RpbWVyXSA9IHNldFRpbWVvdXQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pbmNyZWFzZUxpbWl0KVtfaW5jcmVhc2VMaW1pdF0sIDIwMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZG93bkxpbWl0KVtfZG93bkxpbWl0XSA9IE1hdGguZmxvb3IoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kb3duTGltaXQpW19kb3duTGltaXRdIC8gMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0eXBlb2YgbGltaXQgIT09ICdudW1iZXInIHx8IGxpbWl0ID09PSAwKSB7XG4gICAgICB0aGlzLmxpbWl0ID0gSW5maW5pdHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubGltaXQgPSBsaW1pdDtcbiAgICB9XG4gIH1cblxuICBydW4oZm4sIHF1ZXVlT3B0aW9ucykge1xuICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wYXVzZWQpW19wYXVzZWRdICYmIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWN0aXZlUmVxdWVzdHMpW19hY3RpdmVSZXF1ZXN0c10gPCB0aGlzLmxpbWl0KSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jYWxsKVtfY2FsbF0oZm4pO1xuICAgIH1cblxuICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3F1ZXVlKVtfcXVldWVdKGZuLCBxdWV1ZU9wdGlvbnMpO1xuICB9XG5cbiAgd3JhcFByb21pc2VGdW5jdGlvbihmbiwgcXVldWVPcHRpb25zKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgbGV0IHF1ZXVlZFJlcXVlc3Q7XG4gICAgICBjb25zdCBvdXRlclByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHF1ZXVlZFJlcXVlc3QgPSBfdGhpcy5ydW4oKCkgPT4ge1xuICAgICAgICAgIGxldCBjYW5jZWxFcnJvcjtcbiAgICAgICAgICBsZXQgaW5uZXJQcm9taXNlO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlubmVyUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShmbiguLi5hcmdzKSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpbm5lclByb21pc2UgPSBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlubmVyUHJvbWlzZS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBpZiAoY2FuY2VsRXJyb3IpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGNhbmNlbEVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHF1ZXVlZFJlcXVlc3QuZG9uZSgpO1xuICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgIGlmIChjYW5jZWxFcnJvcikge1xuICAgICAgICAgICAgICByZWplY3QoY2FuY2VsRXJyb3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcXVldWVkUmVxdWVzdC5kb25lKCk7XG4gICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBjYXVzZSA9PiB7XG4gICAgICAgICAgICBjYW5jZWxFcnJvciA9IGNyZWF0ZUNhbmNlbEVycm9yKGNhdXNlKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9LCBxdWV1ZU9wdGlvbnMpO1xuICAgICAgfSk7XG5cbiAgICAgIG91dGVyUHJvbWlzZS5hYm9ydCA9IGNhdXNlID0+IHtcbiAgICAgICAgcXVldWVkUmVxdWVzdC5hYm9ydChjYXVzZSk7XG4gICAgICB9O1xuXG4gICAgICBvdXRlclByb21pc2UuYWJvcnRPbiA9IGFib3J0T247XG4gICAgICByZXR1cm4gb3V0ZXJQcm9taXNlO1xuICAgIH07XG4gIH1cblxuICByZXN1bWUoKSB7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wYXVzZWQpW19wYXVzZWRdID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcGF1c2VUaW1lcilbX3BhdXNlVGltZXJdKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saW1pdDsgaSsrKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3F1ZXVlTmV4dClbX3F1ZXVlTmV4dF0oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRnJlZXplcyB0aGUgcXVldWUgZm9yIGEgd2hpbGUgb3IgaW5kZWZpbml0ZWx5LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlciB8IG51bGwgfSBbZHVyYXRpb25dIER1cmF0aW9uIGZvciB0aGUgcGF1c2UgdG8gaGFwcGVuLCBpbiBtaWxsaXNlY29uZHMuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgb21pdHRlZCwgdGhlIHF1ZXVlIHdvbid0IHJlc3VtZSBhdXRvbWF0aWNhbGx5LlxuICAgKi9cbiAgcGF1c2UoZHVyYXRpb24pIHtcbiAgICBpZiAoZHVyYXRpb24gPT09IHZvaWQgMCkge1xuICAgICAgZHVyYXRpb24gPSBudWxsO1xuICAgIH1cblxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcGF1c2VkKVtfcGF1c2VkXSA9IHRydWU7XG4gICAgY2xlYXJUaW1lb3V0KF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcGF1c2VUaW1lcilbX3BhdXNlVGltZXJdKTtcblxuICAgIGlmIChkdXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3BhdXNlVGltZXIpW19wYXVzZVRpbWVyXSA9IHNldFRpbWVvdXQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXN1bWUpW19yZXN1bWVdLCBkdXJhdGlvbik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBQYXVzZXMgdGhlIHF1ZXVlIGZvciBhIGR1cmF0aW9uLCBhbmQgbG93ZXIgdGhlIGxpbWl0IG9mIGNvbmN1cnJlbnQgcmVxdWVzdHNcbiAgICogd2hlbiB0aGUgcXVldWUgcmVzdW1lcy4gV2hlbiB0aGUgcXVldWUgcmVzdW1lcywgaXQgdHJpZXMgdG8gcHJvZ3Jlc3NpdmVseVxuICAgKiBpbmNyZWFzZSB0aGUgbGltaXQgaW4gYHRoaXMuI2luY3JlYXNlTGltaXRgIHVudGlsIGFub3RoZXIgY2FsbCBpcyBtYWRlIHRvXG4gICAqIGB0aGlzLnJhdGVMaW1pdGAuXG4gICAqIENhbGwgdGhpcyBmdW5jdGlvbiB3aGVuIHVzaW5nIHRoZSBSYXRlTGltaXRlZFF1ZXVlIGZvciBuZXR3b3JrIHJlcXVlc3RzIGFuZFxuICAgKiB0aGUgcmVtb3RlIHNlcnZlciByZXNwb25kcyB3aXRoIDQyOSBIVFRQIGNvZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuXG5cbiAgcmF0ZUxpbWl0KGR1cmF0aW9uKSB7XG4gICAgY2xlYXJUaW1lb3V0KF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmF0ZUxpbWl0aW5nVGltZXIpW19yYXRlTGltaXRpbmdUaW1lcl0pO1xuICAgIHRoaXMucGF1c2UoZHVyYXRpb24pO1xuXG4gICAgaWYgKHRoaXMubGltaXQgPiAxICYmIE51bWJlci5pc0Zpbml0ZSh0aGlzLmxpbWl0KSkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF91cHBlckxpbWl0KVtfdXBwZXJMaW1pdF0gPSB0aGlzLmxpbWl0IC0gMTtcbiAgICAgIHRoaXMubGltaXQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2Rvd25MaW1pdClbX2Rvd25MaW1pdF07XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JhdGVMaW1pdGluZ1RpbWVyKVtfcmF0ZUxpbWl0aW5nVGltZXJdID0gc2V0VGltZW91dChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2luY3JlYXNlTGltaXQpW19pbmNyZWFzZUxpbWl0XSwgZHVyYXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIGdldCBpc1BhdXNlZCgpIHtcbiAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wYXVzZWQpW19wYXVzZWRdO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gX2NhbGwyKGZuKSB7XG4gIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWN0aXZlUmVxdWVzdHMpW19hY3RpdmVSZXF1ZXN0c10gKz0gMTtcbiAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgbGV0IGNhbmNlbEFjdGl2ZTtcblxuICB0cnkge1xuICAgIGNhbmNlbEFjdGl2ZSA9IGZuKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWN0aXZlUmVxdWVzdHMpW19hY3RpdmVSZXF1ZXN0c10gLT0gMTtcbiAgICB0aHJvdyBlcnI7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFib3J0OiBjYXVzZSA9PiB7XG4gICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjdGl2ZVJlcXVlc3RzKVtfYWN0aXZlUmVxdWVzdHNdIC09IDE7XG4gICAgICBjYW5jZWxBY3RpdmUoY2F1c2UpO1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3F1ZXVlTmV4dClbX3F1ZXVlTmV4dF0oKTtcbiAgICB9LFxuICAgIGRvbmU6ICgpID0+IHtcbiAgICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWN0aXZlUmVxdWVzdHMpW19hY3RpdmVSZXF1ZXN0c10gLT0gMTtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9xdWV1ZU5leHQpW19xdWV1ZU5leHRdKCk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBfcXVldWVOZXh0MigpIHtcbiAgLy8gRG8gaXQgc29vbiBidXQgbm90IGltbWVkaWF0ZWx5LCB0aGlzIGFsbG93cyBjbGVhcmluZyBvdXQgdGhlIGVudGlyZSBxdWV1ZSBzeW5jaHJvbm91c2x5XG4gIC8vIG9uZSBieSBvbmUgd2l0aG91dCBjb250aW51b3VzbHkgX2FkdmFuY2luZ18gaXQgKGFuZCBzdGFydGluZyBuZXcgdGFza3MgYmVmb3JlIGltbWVkaWF0ZWx5XG4gIC8vIGFib3J0aW5nIHRoZW0pXG4gIHF1ZXVlTWljcm90YXNrKCgpID0+IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbmV4dClbX25leHRdKCkpO1xufVxuXG5mdW5jdGlvbiBfbmV4dDIoKSB7XG4gIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3BhdXNlZClbX3BhdXNlZF0gfHwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY3RpdmVSZXF1ZXN0cylbX2FjdGl2ZVJlcXVlc3RzXSA+PSB0aGlzLmxpbWl0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcXVldWVkSGFuZGxlcnMpW19xdWV1ZWRIYW5kbGVyc10ubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9IC8vIERpc3BhdGNoIHRoZSBuZXh0IHJlcXVlc3QsIGFuZCB1cGRhdGUgdGhlIGFib3J0L2RvbmUgaGFuZGxlcnNcbiAgLy8gc28gdGhhdCBjYW5jZWxsaW5nIGl0IGRvZXMgdGhlIFJpZ2h0IFRoaW5nIChhbmQgZG9lc24ndCBqdXN0IHRyeVxuICAvLyB0byBkZXF1ZXVlIGFuIGFscmVhZHktcnVubmluZyByZXF1ZXN0KS5cblxuXG4gIGNvbnN0IG5leHQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3F1ZXVlZEhhbmRsZXJzKVtfcXVldWVkSGFuZGxlcnNdLnNoaWZ0KCk7XG5cbiAgY29uc3QgaGFuZGxlciA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2FsbClbX2NhbGxdKG5leHQuZm4pO1xuXG4gIG5leHQuYWJvcnQgPSBoYW5kbGVyLmFib3J0O1xuICBuZXh0LmRvbmUgPSBoYW5kbGVyLmRvbmU7XG59XG5cbmZ1bmN0aW9uIF9xdWV1ZTIoZm4sIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZXIgPSB7XG4gICAgZm4sXG4gICAgcHJpb3JpdHk6IG9wdGlvbnMucHJpb3JpdHkgfHwgMCxcbiAgICBhYm9ydDogKCkgPT4ge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXF1ZXVlKVtfZGVxdWV1ZV0oaGFuZGxlcik7XG4gICAgfSxcbiAgICBkb25lOiAoKSA9PiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtYXJrIGEgcXVldWVkIHJlcXVlc3QgYXMgZG9uZTogdGhpcyBpbmRpY2F0ZXMgYSBidWcnKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaW5kZXggPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3F1ZXVlZEhhbmRsZXJzKVtfcXVldWVkSGFuZGxlcnNdLmZpbmRJbmRleChvdGhlciA9PiB7XG4gICAgcmV0dXJuIGhhbmRsZXIucHJpb3JpdHkgPiBvdGhlci5wcmlvcml0eTtcbiAgfSk7XG5cbiAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcXVldWVkSGFuZGxlcnMpW19xdWV1ZWRIYW5kbGVyc10ucHVzaChoYW5kbGVyKTtcbiAgfSBlbHNlIHtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3F1ZXVlZEhhbmRsZXJzKVtfcXVldWVkSGFuZGxlcnNdLnNwbGljZShpbmRleCwgMCwgaGFuZGxlcik7XG4gIH1cblxuICByZXR1cm4gaGFuZGxlcjtcbn1cblxuZnVuY3Rpb24gX2RlcXVldWUyKGhhbmRsZXIpIHtcbiAgY29uc3QgaW5kZXggPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3F1ZXVlZEhhbmRsZXJzKVtfcXVldWVkSGFuZGxlcnNdLmluZGV4T2YoaGFuZGxlcik7XG5cbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcXVldWVkSGFuZGxlcnMpW19xdWV1ZWRIYW5kbGVyc10uc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgaW50ZXJuYWxSYXRlTGltaXRlZFF1ZXVlID0gU3ltYm9sKCdfX3F1ZXVlJyk7IiwiZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTsgfSByZXR1cm4gcmVjZWl2ZXI7IH1cblxudmFyIGlkID0gMDtcblxuZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkobmFtZSkgeyByZXR1cm4gXCJfX3ByaXZhdGVfXCIgKyBpZCsrICsgXCJfXCIgKyBuYW1lOyB9XG5cbmltcG9ydCBoYXMgZnJvbSAnLi9oYXNQcm9wZXJ0eS5qcyc7XG5cbmZ1bmN0aW9uIGluc2VydFJlcGxhY2VtZW50KHNvdXJjZSwgcngsIHJlcGxhY2VtZW50KSB7XG4gIGNvbnN0IG5ld1BhcnRzID0gW107XG4gIHNvdXJjZS5mb3JFYWNoKGNodW5rID0+IHtcbiAgICAvLyBXaGVuIHRoZSBzb3VyY2UgY29udGFpbnMgbXVsdGlwbGUgcGxhY2Vob2xkZXJzIGZvciBpbnRlcnBvbGF0aW9uLFxuICAgIC8vIHdlIHNob3VsZCBpZ25vcmUgY2h1bmtzIHRoYXQgYXJlIG5vdCBzdHJpbmdzLCBiZWNhdXNlIHRob3NlXG4gICAgLy8gY2FuIGJlIEpTWCBvYmplY3RzIGFuZCB3aWxsIGJlIG90aGVyd2lzZSBpbmNvcnJlY3RseSB0dXJuZWQgaW50byBzdHJpbmdzLlxuICAgIC8vIFdpdGhvdXQgdGhpcyBjb25kaXRpb24gd2XigJlkIGdldCB0aGlzOiBbb2JqZWN0IE9iamVjdF0gaGVsbG8gW29iamVjdCBPYmplY3RdIG15IDxidXR0b24+XG4gICAgaWYgKHR5cGVvZiBjaHVuayAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBuZXdQYXJ0cy5wdXNoKGNodW5rKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcnhbU3ltYm9sLnNwbGl0XShjaHVuaykuZm9yRWFjaCgocmF3LCBpLCBsaXN0KSA9PiB7XG4gICAgICBpZiAocmF3ICE9PSAnJykge1xuICAgICAgICBuZXdQYXJ0cy5wdXNoKHJhdyk7XG4gICAgICB9IC8vIEludGVybGFjZSB3aXRoIHRoZSBgcmVwbGFjZW1lbnRgIHZhbHVlXG5cblxuICAgICAgaWYgKGkgPCBsaXN0Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgbmV3UGFydHMucHVzaChyZXBsYWNlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gbmV3UGFydHM7XG59XG4vKipcbiAqIFRha2VzIGEgc3RyaW5nIHdpdGggcGxhY2Vob2xkZXIgdmFyaWFibGVzIGxpa2UgYCV7c21hcnRfY291bnR9IGZpbGUgc2VsZWN0ZWRgXG4gKiBhbmQgcmVwbGFjZXMgaXQgd2l0aCB2YWx1ZXMgZnJvbSBvcHRpb25zIGB7c21hcnRfY291bnQ6IDV9YFxuICpcbiAqIEBsaWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS9haXJibmIvcG9seWdsb3QuanMvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICogdGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vYWlyYm5iL3BvbHlnbG90LmpzL2Jsb2IvbWFzdGVyL2xpYi9wb2x5Z2xvdC5qcyNMMjk5XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBocmFzZSB0aGF0IG5lZWRzIGludGVycG9sYXRpb24sIHdpdGggcGxhY2Vob2xkZXJzXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyB3aXRoIHZhbHVlcyB0aGF0IHdpbGwgYmUgdXNlZCB0byByZXBsYWNlIHBsYWNlaG9sZGVyc1xuICogQHJldHVybnMge2FueVtdfSBpbnRlcnBvbGF0ZWRcbiAqL1xuXG5cbmZ1bmN0aW9uIGludGVycG9sYXRlKHBocmFzZSwgb3B0aW9ucykge1xuICBjb25zdCBkb2xsYXJSZWdleCA9IC9cXCQvZztcbiAgY29uc3QgZG9sbGFyQmlsbHNZYWxsID0gJyQkJCQnO1xuICBsZXQgaW50ZXJwb2xhdGVkID0gW3BocmFzZV07XG4gIGlmIChvcHRpb25zID09IG51bGwpIHJldHVybiBpbnRlcnBvbGF0ZWQ7XG5cbiAgZm9yIChjb25zdCBhcmcgb2YgT2JqZWN0LmtleXMob3B0aW9ucykpIHtcbiAgICBpZiAoYXJnICE9PSAnXycpIHtcbiAgICAgIC8vIEVuc3VyZSByZXBsYWNlbWVudCB2YWx1ZSBpcyBlc2NhcGVkIHRvIHByZXZlbnQgc3BlY2lhbCAkLXByZWZpeGVkXG4gICAgICAvLyByZWdleCByZXBsYWNlIHRva2Vucy4gdGhlIFwiJCQkJFwiIGlzIG5lZWRlZCBiZWNhdXNlIGVhY2ggXCIkXCIgbmVlZHMgdG9cbiAgICAgIC8vIGJlIGVzY2FwZWQgd2l0aCBcIiRcIiBpdHNlbGYsIGFuZCB3ZSBuZWVkIHR3byBpbiB0aGUgcmVzdWx0aW5nIG91dHB1dC5cbiAgICAgIGxldCByZXBsYWNlbWVudCA9IG9wdGlvbnNbYXJnXTtcblxuICAgICAgaWYgKHR5cGVvZiByZXBsYWNlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmVwbGFjZW1lbnQgPSBkb2xsYXJSZWdleFtTeW1ib2wucmVwbGFjZV0ocmVwbGFjZW1lbnQsIGRvbGxhckJpbGxzWWFsbCk7XG4gICAgICB9IC8vIFdlIGNyZWF0ZSBhIG5ldyBgUmVnRXhwYCBlYWNoIHRpbWUgaW5zdGVhZCBvZiB1c2luZyBhIG1vcmUtZWZmaWNpZW50XG4gICAgICAvLyBzdHJpbmcgcmVwbGFjZSBzbyB0aGF0IHRoZSBzYW1lIGFyZ3VtZW50IGNhbiBiZSByZXBsYWNlZCBtdWx0aXBsZSB0aW1lc1xuICAgICAgLy8gaW4gdGhlIHNhbWUgcGhyYXNlLlxuXG5cbiAgICAgIGludGVycG9sYXRlZCA9IGluc2VydFJlcGxhY2VtZW50KGludGVycG9sYXRlZCwgbmV3IFJlZ0V4cChgJVxcXFx7JHthcmd9XFxcXH1gLCAnZycpLCByZXBsYWNlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGludGVycG9sYXRlZDtcbn1cbi8qKlxuICogVHJhbnNsYXRlcyBzdHJpbmdzIHdpdGggaW50ZXJwb2xhdGlvbiAmIHBsdXJhbGl6YXRpb24gc3VwcG9ydC5cbiAqIEV4dGVuc2libGUgd2l0aCBjdXN0b20gZGljdGlvbmFyaWVzIGFuZCBwbHVyYWxpemF0aW9uIGZ1bmN0aW9ucy5cbiAqXG4gKiBCb3Jyb3dzIGhlYXZpbHkgZnJvbSBhbmQgaW5zcGlyZWQgYnkgUG9seWdsb3QgaHR0cHM6Ly9naXRodWIuY29tL2FpcmJuYi9wb2x5Z2xvdC5qcyxcbiAqIGJhc2ljYWxseSBhIHN0cmlwcGVkLWRvd24gdmVyc2lvbiBvZiBpdC4gRGlmZmVyZW5jZXM6IHBsdXJhbGl6YXRpb24gZnVuY3Rpb25zIGFyZSBub3QgaGFyZGNvZGVkXG4gKiBhbmQgY2FuIGJlIGVhc2lseSBhZGRlZCBhbW9uZyB3aXRoIGRpY3Rpb25hcmllcywgbmVzdGVkIG9iamVjdHMgYXJlIHVzZWQgZm9yIHBsdXJhbGl6YXRpb25cbiAqIGFzIG9wcG9zZWQgdG8gYHx8fHxgIGRlbGltZXRlclxuICpcbiAqIFVzYWdlIGV4YW1wbGU6IGB0cmFuc2xhdG9yLnRyYW5zbGF0ZSgnZmlsZXNfY2hvc2VuJywge3NtYXJ0X2NvdW50OiAzfSlgXG4gKi9cblxuXG52YXIgX2FwcGx5ID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYXBwbHlcIik7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zbGF0b3Ige1xuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R8QXJyYXk8b2JqZWN0Pn0gbG9jYWxlcyAtIGxvY2FsZSBvciBsaXN0IG9mIGxvY2FsZXMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihsb2NhbGVzKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hcHBseSwge1xuICAgICAgdmFsdWU6IF9hcHBseTJcbiAgICB9KTtcbiAgICB0aGlzLmxvY2FsZSA9IHtcbiAgICAgIHN0cmluZ3M6IHt9LFxuXG4gICAgICBwbHVyYWxpemUobikge1xuICAgICAgICBpZiAobiA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG5cbiAgICB9O1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobG9jYWxlcykpIHtcbiAgICAgIGxvY2FsZXMuZm9yRWFjaChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FwcGx5KVtfYXBwbHldLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hcHBseSlbX2FwcGx5XShsb2NhbGVzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIHRyYW5zbGF0ZSBtZXRob2RcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyB3aXRoIHZhbHVlcyB0aGF0IHdpbGwgYmUgdXNlZCBsYXRlciB0byByZXBsYWNlIHBsYWNlaG9sZGVycyBpbiBzdHJpbmdcbiAgICogQHJldHVybnMge3N0cmluZ30gdHJhbnNsYXRlZCAoYW5kIGludGVycG9sYXRlZClcbiAgICovXG4gIHRyYW5zbGF0ZShrZXksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVBcnJheShrZXksIG9wdGlvbnMpLmpvaW4oJycpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSB0cmFuc2xhdGlvbiBhbmQgcmV0dXJuIHRoZSB0cmFuc2xhdGVkIGFuZCBpbnRlcnBvbGF0ZWQgcGFydHMgYXMgYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgd2l0aCB2YWx1ZXMgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmVwbGFjZSBwbGFjZWhvbGRlcnNcbiAgICogQHJldHVybnMge0FycmF5fSBUaGUgdHJhbnNsYXRlZCBhbmQgaW50ZXJwb2xhdGVkIHBhcnRzLCBpbiBvcmRlci5cbiAgICovXG5cblxuICB0cmFuc2xhdGVBcnJheShrZXksIG9wdGlvbnMpIHtcbiAgICBpZiAoIWhhcyh0aGlzLmxvY2FsZS5zdHJpbmdzLCBrZXkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYG1pc3Npbmcgc3RyaW5nOiAke2tleX1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdHJpbmcgPSB0aGlzLmxvY2FsZS5zdHJpbmdzW2tleV07XG4gICAgY29uc3QgaGFzUGx1cmFsRm9ybXMgPSB0eXBlb2Ygc3RyaW5nID09PSAnb2JqZWN0JztcblxuICAgIGlmIChoYXNQbHVyYWxGb3Jtcykge1xuICAgICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMuc21hcnRfY291bnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IHBsdXJhbCA9IHRoaXMubG9jYWxlLnBsdXJhbGl6ZShvcHRpb25zLnNtYXJ0X2NvdW50KTtcbiAgICAgICAgcmV0dXJuIGludGVycG9sYXRlKHN0cmluZ1twbHVyYWxdLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0ZWQgdG8gdXNlIGEgc3RyaW5nIHdpdGggcGx1cmFsIGZvcm1zLCBidXQgbm8gdmFsdWUgd2FzIGdpdmVuIGZvciAle3NtYXJ0X2NvdW50fScpO1xuICAgIH1cblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShzdHJpbmcsIG9wdGlvbnMpO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gX2FwcGx5Mihsb2NhbGUpIHtcbiAgaWYgKCEobG9jYWxlICE9IG51bGwgJiYgbG9jYWxlLnN0cmluZ3MpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcHJldkxvY2FsZSA9IHRoaXMubG9jYWxlO1xuICB0aGlzLmxvY2FsZSA9IHsgLi4ucHJldkxvY2FsZSxcbiAgICBzdHJpbmdzOiB7IC4uLnByZXZMb2NhbGUuc3RyaW5ncyxcbiAgICAgIC4uLmxvY2FsZS5zdHJpbmdzXG4gICAgfVxuICB9O1xuICB0aGlzLmxvY2FsZS5wbHVyYWxpemUgPSBsb2NhbGUucGx1cmFsaXplIHx8IHByZXZMb2NhbGUucGx1cmFsaXplO1xufSIsIi8qKlxuICogU2F2ZSBhIDxjYW52YXM+IGVsZW1lbnQncyBjb250ZW50IHRvIGEgQmxvYiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2FudmFzVG9CbG9iKGNhbnZhcywgdHlwZSwgcXVhbGl0eSkge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgY2FudmFzLnRvQmxvYihyZXNvbHZlLCB0eXBlLCBxdWFsaXR5KTtcbiAgfSk7XG59IiwiY29uc3QgREFUQV9VUkxfUEFUVEVSTiA9IC9eZGF0YTooW14vXStcXC9bXiw7XSsoPzpbXixdKj8pKSg7YmFzZTY0KT8sKFtcXHNcXFNdKikkLztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRhdGFVUkl0b0Jsb2IoZGF0YVVSSSwgb3B0cywgdG9GaWxlKSB7XG4gIHZhciBfcmVmLCBfb3B0cyRtaW1lVHlwZTtcblxuICAvLyBnZXQgdGhlIGJhc2U2NCBkYXRhXG4gIGNvbnN0IGRhdGFVUklEYXRhID0gREFUQV9VUkxfUEFUVEVSTi5leGVjKGRhdGFVUkkpOyAvLyB1c2VyIG1heSBwcm92aWRlIG1pbWUgdHlwZSwgaWYgbm90IGdldCBpdCBmcm9tIGRhdGEgVVJJXG5cbiAgY29uc3QgbWltZVR5cGUgPSAoX3JlZiA9IChfb3B0cyRtaW1lVHlwZSA9IG9wdHMubWltZVR5cGUpICE9IG51bGwgPyBfb3B0cyRtaW1lVHlwZSA6IGRhdGFVUklEYXRhID09IG51bGwgPyB2b2lkIDAgOiBkYXRhVVJJRGF0YVsxXSkgIT0gbnVsbCA/IF9yZWYgOiAncGxhaW4vdGV4dCc7XG4gIGxldCBkYXRhO1xuXG4gIGlmIChkYXRhVVJJRGF0YVsyXSAhPSBudWxsKSB7XG4gICAgY29uc3QgYmluYXJ5ID0gYXRvYihkZWNvZGVVUklDb21wb25lbnQoZGF0YVVSSURhdGFbM10pKTtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJpbmFyeS5sZW5ndGgpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGJ5dGVzW2ldID0gYmluYXJ5LmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuXG4gICAgZGF0YSA9IFtieXRlc107XG4gIH0gZWxzZSB7XG4gICAgZGF0YSA9IFtkZWNvZGVVUklDb21wb25lbnQoZGF0YVVSSURhdGFbM10pXTtcbiAgfSAvLyBDb252ZXJ0IHRvIGEgRmlsZT9cblxuXG4gIGlmICh0b0ZpbGUpIHtcbiAgICByZXR1cm4gbmV3IEZpbGUoZGF0YSwgb3B0cy5uYW1lIHx8ICcnLCB7XG4gICAgICB0eXBlOiBtaW1lVHlwZVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBCbG9iKGRhdGEsIHtcbiAgICB0eXBlOiBtaW1lVHlwZVxuICB9KTtcbn0iLCJpbXBvcnQgdGhyb3R0bGUgZnJvbSAnbG9kYXNoLnRocm90dGxlJztcblxuZnVuY3Rpb24gZW1pdFNvY2tldFByb2dyZXNzKHVwbG9hZGVyLCBwcm9ncmVzc0RhdGEsIGZpbGUpIHtcbiAgY29uc3Qge1xuICAgIHByb2dyZXNzLFxuICAgIGJ5dGVzVXBsb2FkZWQsXG4gICAgYnl0ZXNUb3RhbFxuICB9ID0gcHJvZ3Jlc3NEYXRhO1xuXG4gIGlmIChwcm9ncmVzcykge1xuICAgIHVwbG9hZGVyLnVwcHkubG9nKGBVcGxvYWQgcHJvZ3Jlc3M6ICR7cHJvZ3Jlc3N9YCk7XG4gICAgdXBsb2FkZXIudXBweS5lbWl0KCd1cGxvYWQtcHJvZ3Jlc3MnLCBmaWxlLCB7XG4gICAgICB1cGxvYWRlcixcbiAgICAgIGJ5dGVzVXBsb2FkZWQsXG4gICAgICBieXRlc1RvdGFsXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgdGhyb3R0bGUoZW1pdFNvY2tldFByb2dyZXNzLCAzMDAsIHtcbiAgbGVhZGluZzogdHJ1ZSxcbiAgdHJhaWxpbmc6IHRydWVcbn0pOyIsImltcG9ydCBOZXR3b3JrRXJyb3IgZnJvbSAnLi9OZXR3b3JrRXJyb3IuanMnO1xuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCB3aW5kb3cuZmV0Y2ggdGhhdCB0aHJvd3MgYSBOZXR3b3JrRXJyb3Igd2hlbiBhcHByb3ByaWF0ZVxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZldGNoV2l0aE5ldHdvcmtFcnJvcigpIHtcbiAgcmV0dXJuIGZldGNoKC4uLmFyZ3VtZW50cykuY2F0Y2goZXJyID0+IHtcbiAgICBpZiAoZXJyLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTmV0d29ya0Vycm9yKGVycik7XG4gICAgfVxuICB9KTtcbn0iLCJpbXBvcnQgaXNET01FbGVtZW50IGZyb20gJy4vaXNET01FbGVtZW50LmpzJztcbi8qKlxuICogRmluZCBvbmUgb3IgbW9yZSBET00gZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8Tm9kZX0gZWxlbWVudFxuICogQHJldHVybnMge05vZGVbXXxudWxsfVxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZpbmRBbGxET01FbGVtZW50cyhlbGVtZW50KSB7XG4gIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbWVudCk7XG4gICAgcmV0dXJuIGVsZW1lbnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBBcnJheS5mcm9tKGVsZW1lbnRzKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ29iamVjdCcgJiYgaXNET01FbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIFtlbGVtZW50XTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufSIsImltcG9ydCBpc0RPTUVsZW1lbnQgZnJvbSAnLi9pc0RPTUVsZW1lbnQuanMnO1xuLyoqXG4gKiBGaW5kIGEgRE9NIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtOb2RlfHN0cmluZ30gZWxlbWVudFxuICogQHJldHVybnMge05vZGV8bnVsbH1cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmaW5kRE9NRWxlbWVudChlbGVtZW50LCBjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHtcbiAgICBjb250ZXh0ID0gZG9jdW1lbnQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvcihlbGVtZW50KTtcbiAgfVxuXG4gIGlmIChpc0RPTUVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufSIsImltcG9ydCBnZXRGaWxlVHlwZSBmcm9tICcuL2dldEZpbGVUeXBlLmpzJztcblxuZnVuY3Rpb24gZW5jb2RlQ2hhcmFjdGVyKGNoYXJhY3Rlcikge1xuICByZXR1cm4gY2hhcmFjdGVyLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMzIpO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVGaWxlbmFtZShuYW1lKSB7XG4gIGxldCBzdWZmaXggPSAnJztcbiAgcmV0dXJuIG5hbWUucmVwbGFjZSgvW15BLVowLTldL2lnLCBjaGFyYWN0ZXIgPT4ge1xuICAgIHN1ZmZpeCArPSBgLSR7ZW5jb2RlQ2hhcmFjdGVyKGNoYXJhY3Rlcil9YDtcbiAgICByZXR1cm4gJy8nO1xuICB9KSArIHN1ZmZpeDtcbn1cbi8qKlxuICogVGFrZXMgYSBmaWxlIG9iamVjdCBhbmQgdHVybnMgaXQgaW50byBmaWxlSUQsIGJ5IGNvbnZlcnRpbmcgZmlsZS5uYW1lIHRvIGxvd2VyY2FzZSxcbiAqIHJlbW92aW5nIGV4dHJhIGNoYXJhY3RlcnMgYW5kIGFkZGluZyB0eXBlLCBzaXplIGFuZCBsYXN0TW9kaWZpZWRcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZmlsZVxuICogQHJldHVybnMge3N0cmluZ30gdGhlIGZpbGVJRFxuICovXG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuZXJhdGVGaWxlSUQoZmlsZSkge1xuICAvLyBJdCdzIHRlbXB0aW5nIHRvIGRvIGBbaXRlbXNdLmZpbHRlcihCb29sZWFuKS5qb2luKCctJylgIGhlcmUsIGJ1dCB0aGF0XG4gIC8vIGlzIHNsb3dlciEgc2ltcGxlIHN0cmluZyBjb25jYXRlbmF0aW9uIGlzIGZhc3RcbiAgbGV0IGlkID0gJ3VwcHknO1xuXG4gIGlmICh0eXBlb2YgZmlsZS5uYW1lID09PSAnc3RyaW5nJykge1xuICAgIGlkICs9IGAtJHtlbmNvZGVGaWxlbmFtZShmaWxlLm5hbWUudG9Mb3dlckNhc2UoKSl9YDtcbiAgfVxuXG4gIGlmIChmaWxlLnR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlkICs9IGAtJHtmaWxlLnR5cGV9YDtcbiAgfVxuXG4gIGlmIChmaWxlLm1ldGEgJiYgdHlwZW9mIGZpbGUubWV0YS5yZWxhdGl2ZVBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgaWQgKz0gYC0ke2VuY29kZUZpbGVuYW1lKGZpbGUubWV0YS5yZWxhdGl2ZVBhdGgudG9Mb3dlckNhc2UoKSl9YDtcbiAgfVxuXG4gIGlmIChmaWxlLmRhdGEuc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWQgKz0gYC0ke2ZpbGUuZGF0YS5zaXplfWA7XG4gIH1cblxuICBpZiAoZmlsZS5kYXRhLmxhc3RNb2RpZmllZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWQgKz0gYC0ke2ZpbGUuZGF0YS5sYXN0TW9kaWZpZWR9YDtcbiAgfVxuXG4gIHJldHVybiBpZDtcbn0gLy8gSWYgdGhlIHByb3ZpZGVyIGhhcyBhIHN0YWJsZSwgdW5pcXVlIElELCB0aGVuIHdlIGNhbiB1c2UgdGhhdCB0byBpZGVudGlmeSB0aGUgZmlsZS5cbi8vIFRoZW4gd2UgZG9uJ3QgaGF2ZSB0byBnZW5lcmF0ZSBvdXIgb3duIElELCBhbmQgd2UgY2FuIGFkZCB0aGUgc2FtZSBmaWxlIG1hbnkgdGltZXMgaWYgbmVlZGVkIChkaWZmZXJlbnQgcGF0aClcblxuZnVuY3Rpb24gaGFzRmlsZVN0YWJsZUlkKGZpbGUpIHtcbiAgaWYgKCFmaWxlLmlzUmVtb3RlIHx8ICFmaWxlLnJlbW90ZSkgcmV0dXJuIGZhbHNlOyAvLyBUaGVzZSBhcmUgdGhlIHByb3ZpZGVycyB0aGF0IGl0IHNlZW1zIGxpa2UgaGF2ZSBzdGFibGUgSURzIGZvciB0aGVpciBmaWxlcy4gVGhlIG90aGVyJ3MgSSBoYXZlbid0IGNoZWNrZWQgeWV0LlxuXG4gIGNvbnN0IHN0YWJsZUlkUHJvdmlkZXJzID0gbmV3IFNldChbJ2JveCcsICdkcm9wYm94JywgJ2RyaXZlJywgJ2ZhY2Vib29rJywgJ3Vuc3BsYXNoJ10pO1xuICByZXR1cm4gc3RhYmxlSWRQcm92aWRlcnMuaGFzKGZpbGUucmVtb3RlLnByb3ZpZGVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNhZmVGaWxlSWQoZmlsZSkge1xuICBpZiAoaGFzRmlsZVN0YWJsZUlkKGZpbGUpKSByZXR1cm4gZmlsZS5pZDtcbiAgY29uc3QgZmlsZVR5cGUgPSBnZXRGaWxlVHlwZShmaWxlKTtcbiAgcmV0dXJuIGdlbmVyYXRlRmlsZUlEKHsgLi4uZmlsZSxcbiAgICB0eXBlOiBmaWxlVHlwZVxuICB9KTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRCeXRlc1JlbWFpbmluZyhmaWxlUHJvZ3Jlc3MpIHtcbiAgcmV0dXJuIGZpbGVQcm9ncmVzcy5ieXRlc1RvdGFsIC0gZmlsZVByb2dyZXNzLmJ5dGVzVXBsb2FkZWQ7XG59IiwiaW1wb3J0IHdlYmtpdEdldEFzRW50cnlBcGkgZnJvbSAnLi91dGlscy93ZWJraXRHZXRBc0VudHJ5QXBpL2luZGV4LmpzJztcbmltcG9ydCBmYWxsYmFja0FwaSBmcm9tICcuL3V0aWxzL2ZhbGxiYWNrQXBpLmpzJztcbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgYXJyYXkgb2YgZHJvcHBlZCBmaWxlcyAoaWYgYSBmb2xkZXIgaXNcbiAqIGRyb3BwZWQsIGFuZCBicm93c2VyIHN1cHBvcnRzIGZvbGRlciBwYXJzaW5nIC0gcHJvbWlzZSByZXNvbHZlcyB0byB0aGUgZmxhdFxuICogYXJyYXkgb2YgYWxsIGZpbGVzIGluIGFsbCBkaXJlY3RvcmllcykuXG4gKiBFYWNoIGZpbGUgaGFzIC5yZWxhdGl2ZVBhdGggcHJvcCBhcHBlbmRlZCB0byBpdCAoZS5nLiBcIi9kb2NzL1ByYWd1ZS90aWNrZXRfZnJvbV9wcmFndWVfdG9fdWZhLnBkZlwiKVxuICogaWYgYnJvd3NlciBzdXBwb3J0cyBpdC4gT3RoZXJ3aXNlIGl0J3MgdW5kZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7RGF0YVRyYW5zZmVyfSBkYXRhVHJhbnNmZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGxvZ0Ryb3BFcnJvciAtIGEgZnVuY3Rpb24gdGhhdCdzIGNhbGxlZCBldmVyeSB0aW1lIHNvbWVcbiAqIGZvbGRlciBvciBzb21lIGZpbGUgZXJyb3Igb3V0IChlLmcuIGJlY2F1c2Ugb2YgdGhlIGZvbGRlciBuYW1lIGJlaW5nIHRvbyBsb25nXG4gKiBvbiBXaW5kb3dzKS4gTm90aWNlIHRoYXQgcmVzdWx0aW5nIHByb21pc2Ugd2lsbCBhbHdheXMgYmUgcmVzb2x2ZWQgYW55d2F5LlxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIEFycmF5PEZpbGU+XG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gZ2V0RHJvcHBlZEZpbGVzKGRhdGFUcmFuc2ZlciwgX3RlbXApIHtcbiAgbGV0IHtcbiAgICBsb2dEcm9wRXJyb3IgPSAoKSA9PiB7fVxuICB9ID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA7XG5cbiAgLy8gR2V0IGFsbCBmaWxlcyBmcm9tIGFsbCBzdWJkaXJzLiBXb3JrcyAoYXQgbGVhc3QpIGluIENocm9tZSwgTW96aWxsYSwgYW5kIFNhZmFyaVxuICB0cnkge1xuICAgIGNvbnN0IGFjY3VtdWxhdG9yID0gW107XG5cbiAgICBmb3IgYXdhaXQgKGNvbnN0IGZpbGUgb2Ygd2Via2l0R2V0QXNFbnRyeUFwaShkYXRhVHJhbnNmZXIsIGxvZ0Ryb3BFcnJvcikpIHtcbiAgICAgIGFjY3VtdWxhdG9yLnB1c2goZmlsZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yOyAvLyBPdGhlcndpc2UganVzdCByZXR1cm4gYWxsIGZpcnN0LW9yZGVyIGZpbGVzXG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxsYmFja0FwaShkYXRhVHJhbnNmZXIpO1xuICB9XG59IiwiaW1wb3J0IHRvQXJyYXkgZnJvbSAnLi4vLi4vdG9BcnJheS5qcyc7IC8vIC5maWxlcyBmYWxsYmFjaywgc2hvdWxkIGJlIGltcGxlbWVudGVkIGluIGFueSBicm93c2VyXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZhbGxiYWNrQXBpKGRhdGFUcmFuc2Zlcikge1xuICBjb25zdCBmaWxlcyA9IHRvQXJyYXkoZGF0YVRyYW5zZmVyLmZpbGVzKTtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmaWxlcyk7XG59IiwiLyoqXG4gKiBSZWN1cnNpdmUgZnVuY3Rpb24sIGNhbGxzIHRoZSBvcmlnaW5hbCBjYWxsYmFjaygpIHdoZW4gdGhlIGRpcmVjdG9yeSBpcyBlbnRpcmVseSBwYXJzZWQuXG4gKlxuICogQHBhcmFtIHtGaWxlU3lzdGVtRGlyZWN0b3J5UmVhZGVyfSBkaXJlY3RvcnlSZWFkZXJcbiAqIEBwYXJhbSB7QXJyYXl9IG9sZEVudHJpZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGxvZ0Ryb3BFcnJvclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBjYWxsZWQgd2l0aCAoWyBhbGwgZmlsZXMgYW5kIGRpcmVjdG9yaWVzIGluIHRoYXQgZGlyZWN0b3J5UmVhZGVyIF0pXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEZpbGVzQW5kRGlyZWN0b3JpZXNGcm9tRGlyZWN0b3J5KGRpcmVjdG9yeVJlYWRlciwgb2xkRW50cmllcywgbG9nRHJvcEVycm9yLCBfcmVmKSB7XG4gIGxldCB7XG4gICAgb25TdWNjZXNzXG4gIH0gPSBfcmVmO1xuICBkaXJlY3RvcnlSZWFkZXIucmVhZEVudHJpZXMoZW50cmllcyA9PiB7XG4gICAgY29uc3QgbmV3RW50cmllcyA9IFsuLi5vbGRFbnRyaWVzLCAuLi5lbnRyaWVzXTsgLy8gQWNjb3JkaW5nIHRvIHRoZSBGaWxlU3lzdGVtIEFQSSBzcGVjLCBnZXRGaWxlc0FuZERpcmVjdG9yaWVzRnJvbURpcmVjdG9yeSgpXG4gICAgLy8gbXVzdCBiZSBjYWxsZWQgdW50aWwgaXQgY2FsbHMgdGhlIG9uU3VjY2VzcyB3aXRoIGFuIGVtcHR5IGFycmF5LlxuXG4gICAgaWYgKGVudHJpZXMubGVuZ3RoKSB7XG4gICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgIGdldEZpbGVzQW5kRGlyZWN0b3JpZXNGcm9tRGlyZWN0b3J5KGRpcmVjdG9yeVJlYWRlciwgbmV3RW50cmllcywgbG9nRHJvcEVycm9yLCB7XG4gICAgICAgICAgb25TdWNjZXNzXG4gICAgICAgIH0pO1xuICAgICAgfSk7IC8vIERvbmUgaXRlcmF0aW5nIHRoaXMgcGFydGljdWxhciBkaXJlY3RvcnlcbiAgICB9IGVsc2Uge1xuICAgICAgb25TdWNjZXNzKG5ld0VudHJpZXMpO1xuICAgIH1cbiAgfSwgLy8gTWFrZSBzdXJlIHdlIHJlc29sdmUgb24gZXJyb3IgYW55d2F5LCBpdCdzIGZpbmUgaWYgb25seSBvbmUgZGlyZWN0b3J5IGNvdWxkbid0IGJlIHBhcnNlZCFcbiAgZXJyb3IgPT4ge1xuICAgIGxvZ0Ryb3BFcnJvcihlcnJvcik7XG4gICAgb25TdWNjZXNzKG9sZEVudHJpZXMpO1xuICB9KTtcbn0iLCJpbXBvcnQgZ2V0RmlsZXNBbmREaXJlY3Rvcmllc0Zyb21EaXJlY3RvcnkgZnJvbSAnLi9nZXRGaWxlc0FuZERpcmVjdG9yaWVzRnJvbURpcmVjdG9yeS5qcyc7XG4vKipcbiAqIFBvbHlmaWxsIGZvciB0aGUgbmV3IChleHBlcmltZW50YWwpIGdldEFzRmlsZVN5c3RlbUhhbmRsZSBBUEkgKHVzaW5nIHRoZSBwb3B1bGFyIHdlYmtpdEdldEFzRW50cnkgYmVoaW5kIHRoZSBzY2VuZXMpXG4gKiBzbyB0aGF0IHdlIGNhbiBzd2l0Y2ggdG8gdGhlIGdldEFzRmlsZVN5c3RlbUhhbmRsZSBBUEkgb25jZSBpdCAoaG9wZWZ1bGx5KSBiZWNvbWVzIHN0YW5kYXJkXG4gKi9cblxuZnVuY3Rpb24gZ2V0QXNGaWxlU3lzdGVtSGFuZGxlRnJvbUVudHJ5KGVudHJ5LCBsb2dEcm9wRXJyb3IpIHtcbiAgaWYgKGVudHJ5ID09IG51bGwpIHJldHVybiBlbnRyeTtcbiAgcmV0dXJuIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICBraW5kOiBlbnRyeS5pc0ZpbGUgPyAnZmlsZScgOiBlbnRyeS5pc0RpcmVjdG9yeSA/ICdkaXJlY3RvcnknIDogdW5kZWZpbmVkLFxuICAgIG5hbWU6IGVudHJ5Lm5hbWUsXG5cbiAgICBnZXRGaWxlKCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IGVudHJ5LmZpbGUocmVzb2x2ZSwgcmVqZWN0KSk7XG4gICAgfSxcblxuICAgIGFzeW5jICp2YWx1ZXMoKSB7XG4gICAgICAvLyBJZiB0aGUgZmlsZSBpcyBhIGRpcmVjdG9yeS5cbiAgICAgIGNvbnN0IGRpcmVjdG9yeVJlYWRlciA9IGVudHJ5LmNyZWF0ZVJlYWRlcigpO1xuICAgICAgY29uc3QgZW50cmllcyA9IGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICBnZXRGaWxlc0FuZERpcmVjdG9yaWVzRnJvbURpcmVjdG9yeShkaXJlY3RvcnlSZWFkZXIsIFtdLCBsb2dEcm9wRXJyb3IsIHtcbiAgICAgICAgICBvblN1Y2Nlc3M6IGRpckVudHJpZXMgPT4gcmVzb2x2ZShkaXJFbnRyaWVzLm1hcChmaWxlID0+IGdldEFzRmlsZVN5c3RlbUhhbmRsZUZyb21FbnRyeShmaWxlLCBsb2dEcm9wRXJyb3IpKSlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHlpZWxkKiBlbnRyaWVzO1xuICAgIH1cblxuICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiogY3JlYXRlUHJvbWlzZVRvQWRkRmlsZU9yUGFyc2VEaXJlY3RvcnkoZW50cnksIHJlbGF0aXZlUGF0aCwgbGFzdFJlc29ydEZpbGUpIHtcbiAgaWYgKGxhc3RSZXNvcnRGaWxlID09PSB2b2lkIDApIHtcbiAgICBsYXN0UmVzb3J0RmlsZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8vIEZvciBlYWNoIGRyb3BwZWQgaXRlbSwgLSBtYWtlIHN1cmUgaXQncyBhIGZpbGUvZGlyZWN0b3J5LCBhbmQgc3RhcnQgZGVlcGVuaW5nIGluIVxuICBpZiAoZW50cnkua2luZCA9PT0gJ2ZpbGUnKSB7XG4gICAgY29uc3QgZmlsZSA9IGF3YWl0IGVudHJ5LmdldEZpbGUoKTtcblxuICAgIGlmIChmaWxlICE9IG51bGwpIHtcbiAgICAgIGZpbGUucmVsYXRpdmVQYXRoID0gcmVsYXRpdmVQYXRoID8gYCR7cmVsYXRpdmVQYXRofS8ke2VudHJ5Lm5hbWV9YCA6IG51bGw7XG4gICAgICB5aWVsZCBmaWxlO1xuICAgIH0gZWxzZSBpZiAobGFzdFJlc29ydEZpbGUgIT0gbnVsbCkgeWllbGQgbGFzdFJlc29ydEZpbGU7XG4gIH0gZWxzZSBpZiAoZW50cnkua2luZCA9PT0gJ2RpcmVjdG9yeScpIHtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGhhbmRsZSBvZiBlbnRyeS52YWx1ZXMoKSkge1xuICAgICAgLy8gUmVjdXJzZSBvbiB0aGUgZGlyZWN0b3J5LCBhcHBlbmRpbmcgdGhlIGRpciBuYW1lIHRvIHRoZSByZWxhdGl2ZSBwYXRoXG4gICAgICB5aWVsZCogY3JlYXRlUHJvbWlzZVRvQWRkRmlsZU9yUGFyc2VEaXJlY3RvcnkoaGFuZGxlLCBgJHtyZWxhdGl2ZVBhdGh9LyR7ZW50cnkubmFtZX1gKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobGFzdFJlc29ydEZpbGUgIT0gbnVsbCkgeWllbGQgbGFzdFJlc29ydEZpbGU7XG59XG4vKipcbiAqIExvYWQgYWxsIGZpbGVzIGZyb20gZGF0YSB0cmFuc2ZlciwgYW5kIHJlY3Vyc2l2ZWx5IHJlYWQgYW55IGRpcmVjdG9yaWVzLlxuICogTm90ZSB0aGF0IElFIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIGRyYWctZHJvcCwgYmVjYXVzZSBJRSBkb2Vzbid0IHN1cHBvcnQgRGF0YSBUcmFuc2ZlcnNcbiAqXG4gKiBAcGFyYW0ge0RhdGFUcmFuc2Zlcn0gZGF0YVRyYW5zZmVyXG4gKiBAcGFyYW0geyp9IGxvZ0Ryb3BFcnJvciBvbiBlcnJvclxuICovXG5cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24qIGdldEZpbGVzRnJvbURhdGFUcmFuc2ZlcihkYXRhVHJhbnNmZXIsIGxvZ0Ryb3BFcnJvcikge1xuICAvLyBSZXRyaWV2aW5nIHRoZSBkcm9wcGVkIGl0ZW1zIG11c3QgaGFwcGVuIHN5bmNocm9ub3VzbHlcbiAgLy8gb3RoZXJ3aXNlIG9ubHkgdGhlIGZpcnN0IGl0ZW0gZ2V0cyB0cmVhdGVkIGFuZCB0aGUgb3RoZXIgb25lcyBhcmUgZ2FyYmFnZSBjb2xsZWN0ZWQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90cmFuc2xvYWRpdC91cHB5L3B1bGwvMzk5OFxuICBjb25zdCBmaWxlU3lzdGVtSGFuZGxlcyA9IGF3YWl0IFByb21pc2UuYWxsKEFycmF5LmZyb20oZGF0YVRyYW5zZmVyLml0ZW1zLCBhc3luYyBpdGVtID0+IHtcbiAgICB2YXIgX2ZpbGVTeXN0ZW1IYW5kbGU7XG5cbiAgICBsZXQgZmlsZVN5c3RlbUhhbmRsZTsgLy8gVE9ETyBlbmFibGUgZ2V0QXNGaWxlU3lzdGVtSGFuZGxlIEFQSSBvbmNlIHdlIGNhbiBnZXQgaXQgd29ya2luZyB3aXRoIHN1YmRpcmVjdG9yaWVzXG4gICAgLy8gSU1QT1JUQU5UOiBOZWVkIHRvIGNoZWNrIGlzU2VjdXJlQ29udGV4dCAqYmVmb3JlKiBjYWxsaW5nIGdldEFzRmlsZVN5c3RlbUhhbmRsZVxuICAgIC8vIG9yIGVsc2UgQ2hyb21lIHdpbGwgY3Jhc2ggd2hlbiBydW5uaW5nIGluIEhUVFA6IGh0dHBzOi8vZ2l0aHViLmNvbS90cmFuc2xvYWRpdC91cHB5L2lzc3Vlcy80MTMzXG4gICAgLy8gaWYgKHdpbmRvdy5pc1NlY3VyZUNvbnRleHQgJiYgaXRlbS5nZXRBc0ZpbGVTeXN0ZW1IYW5kbGUgIT0gbnVsbCkgZW50cnkgPSBhd2FpdCBpdGVtLmdldEFzRmlsZVN5c3RlbUhhbmRsZSgpXG4gICAgLy8gYHdlYmtpdEdldEFzRW50cnlgIGV4aXN0cyBpbiBhbGwgcG9wdWxhciBicm93c2VycyAoaW5jbHVkaW5nIG5vbi1XZWJLaXQgYnJvd3NlcnMpLFxuICAgIC8vIGhvd2V2ZXIgaXQgbWF5IGJlIHJlbmFtZWQgdG8gZ2V0QXNFbnRyeSgpIGluIHRoZSBmdXR1cmUsIHNvIHlvdSBzaG91bGQgY29kZSBkZWZlbnNpdmVseSwgbG9va2luZyBmb3IgYm90aC5cbiAgICAvLyBmcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9EYXRhVHJhbnNmZXJJdGVtL3dlYmtpdEdldEFzRW50cnlcblxuICAgIGNvbnN0IGdldEFzRW50cnkgPSAoKSA9PiB0eXBlb2YgaXRlbS5nZXRBc0VudHJ5ID09PSAnZnVuY3Rpb24nID8gaXRlbS5nZXRBc0VudHJ5KCkgOiBpdGVtLndlYmtpdEdldEFzRW50cnkoKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuXG5cbiAgICAoX2ZpbGVTeXN0ZW1IYW5kbGUgPSBmaWxlU3lzdGVtSGFuZGxlKSAhPSBudWxsID8gX2ZpbGVTeXN0ZW1IYW5kbGUgOiBmaWxlU3lzdGVtSGFuZGxlID0gZ2V0QXNGaWxlU3lzdGVtSGFuZGxlRnJvbUVudHJ5KGdldEFzRW50cnkoKSwgbG9nRHJvcEVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgZmlsZVN5c3RlbUhhbmRsZSxcbiAgICAgIGxhc3RSZXNvcnRGaWxlOiBpdGVtLmdldEFzRmlsZSgpIC8vIGNhbiBiZSB1c2VkIGFzIGEgZmFsbGJhY2sgaW4gY2FzZSBvdGhlciBtZXRob2RzIGZhaWxcblxuICAgIH07XG4gIH0pKTtcblxuICBmb3IgKGNvbnN0IHtcbiAgICBsYXN0UmVzb3J0RmlsZSxcbiAgICBmaWxlU3lzdGVtSGFuZGxlXG4gIH0gb2YgZmlsZVN5c3RlbUhhbmRsZXMpIHtcbiAgICAvLyBmaWxlU3lzdGVtSGFuZGxlIGFuZCBsYXN0UmVzb3J0RmlsZSBjYW4gYmUgbnVsbCB3aGVuIHdlIGRyb3AgYW4gdXJsLlxuICAgIGlmIChmaWxlU3lzdGVtSGFuZGxlICE9IG51bGwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHlpZWxkKiBjcmVhdGVQcm9taXNlVG9BZGRGaWxlT3JQYXJzZURpcmVjdG9yeShmaWxlU3lzdGVtSGFuZGxlLCAnJywgbGFzdFJlc29ydEZpbGUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIEV4YW1wbGU6IElmIGRyb3BwaW5nIGEgc3ltYm9saWMgbGluaywgQ2hyb21pdW0gd2lsbCB0aHJvdzpcbiAgICAgICAgLy8gXCJET01FeGNlcHRpb246IEEgcmVxdWVzdGVkIGZpbGUgb3IgZGlyZWN0b3J5IGNvdWxkIG5vdCBiZSBmb3VuZCBhdCB0aGUgdGltZSBhbiBvcGVyYXRpb24gd2FzIHByb2Nlc3NlZC5cIixcbiAgICAgICAgLy8gU28gd2Ugd2lsbCB1c2UgbGFzdFJlc29ydEZpbGUgaW5zdGVhZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90cmFuc2xvYWRpdC91cHB5L2lzc3Vlcy8zNTA1LlxuICAgICAgICBpZiAobGFzdFJlc29ydEZpbGUgIT0gbnVsbCkge1xuICAgICAgICAgIHlpZWxkIGxhc3RSZXNvcnRGaWxlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ0Ryb3BFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsYXN0UmVzb3J0RmlsZSAhPSBudWxsKSB5aWVsZCBsYXN0UmVzb3J0RmlsZTtcbiAgfVxufSIsIi8qKlxuICogVGFrZXMgYSBmdWxsIGZpbGVuYW1lIHN0cmluZyBhbmQgcmV0dXJucyBhbiBvYmplY3Qge25hbWUsIGV4dGVuc2lvbn1cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZnVsbEZpbGVOYW1lXG4gKiBAcmV0dXJucyB7b2JqZWN0fSB7bmFtZSwgZXh0ZW5zaW9ufVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRGaWxlTmFtZUFuZEV4dGVuc2lvbihmdWxsRmlsZU5hbWUpIHtcbiAgY29uc3QgbGFzdERvdCA9IGZ1bGxGaWxlTmFtZS5sYXN0SW5kZXhPZignLicpOyAvLyB0aGVzZSBjb3VudCBhcyBubyBleHRlbnNpb246IFwibm8tZG90XCIsIFwidHJhaWxpbmctZG90LlwiXG5cbiAgaWYgKGxhc3REb3QgPT09IC0xIHx8IGxhc3REb3QgPT09IGZ1bGxGaWxlTmFtZS5sZW5ndGggLSAxKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGZ1bGxGaWxlTmFtZSxcbiAgICAgIGV4dGVuc2lvbjogdW5kZWZpbmVkXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogZnVsbEZpbGVOYW1lLnNsaWNlKDAsIGxhc3REb3QpLFxuICAgIGV4dGVuc2lvbjogZnVsbEZpbGVOYW1lLnNsaWNlKGxhc3REb3QgKyAxKVxuICB9O1xufSIsImltcG9ydCBnZXRGaWxlTmFtZUFuZEV4dGVuc2lvbiBmcm9tICcuL2dldEZpbGVOYW1lQW5kRXh0ZW5zaW9uLmpzJztcbmltcG9ydCBtaW1lVHlwZXMgZnJvbSAnLi9taW1lVHlwZXMuanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RmlsZVR5cGUoZmlsZSkge1xuICB2YXIgX2dldEZpbGVOYW1lQW5kRXh0ZW5zO1xuXG4gIGlmIChmaWxlLnR5cGUpIHJldHVybiBmaWxlLnR5cGU7XG4gIGNvbnN0IGZpbGVFeHRlbnNpb24gPSBmaWxlLm5hbWUgPyAoX2dldEZpbGVOYW1lQW5kRXh0ZW5zID0gZ2V0RmlsZU5hbWVBbmRFeHRlbnNpb24oZmlsZS5uYW1lKS5leHRlbnNpb24pID09IG51bGwgPyB2b2lkIDAgOiBfZ2V0RmlsZU5hbWVBbmRFeHRlbnMudG9Mb3dlckNhc2UoKSA6IG51bGw7XG5cbiAgaWYgKGZpbGVFeHRlbnNpb24gJiYgZmlsZUV4dGVuc2lvbiBpbiBtaW1lVHlwZXMpIHtcbiAgICAvLyBlbHNlLCBzZWUgaWYgd2UgY2FuIG1hcCBleHRlbnNpb24gdG8gYSBtaW1lIHR5cGVcbiAgICByZXR1cm4gbWltZVR5cGVzW2ZpbGVFeHRlbnNpb25dO1xuICB9IC8vIGlmIGFsbCBmYWlscywgZmFsbCBiYWNrIHRvIGEgZ2VuZXJpYyBieXRlIHN0cmVhbSB0eXBlXG5cblxuICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7XG59IiwiY29uc3QgbWltZVRvRXh0ZW5zaW9ucyA9IHtcbiAgJ2F1ZGlvL21wMyc6ICdtcDMnLFxuICAnYXVkaW8vbXA0JzogJ21wNCcsXG4gICdhdWRpby9vZ2cnOiAnb2dnJyxcbiAgJ2F1ZGlvL3dlYm0nOiAnd2VibScsXG4gICdpbWFnZS9naWYnOiAnZ2lmJyxcbiAgJ2ltYWdlL2hlaWMnOiAnaGVpYycsXG4gICdpbWFnZS9oZWlmJzogJ2hlaWYnLFxuICAnaW1hZ2UvanBlZyc6ICdqcGcnLFxuICAnaW1hZ2UvcG5nJzogJ3BuZycsXG4gICdpbWFnZS9zdmcreG1sJzogJ3N2ZycsXG4gICd2aWRlby9tcDQnOiAnbXA0JyxcbiAgJ3ZpZGVvL29nZyc6ICdvZ3YnLFxuICAndmlkZW8vcXVpY2t0aW1lJzogJ21vdicsXG4gICd2aWRlby93ZWJtJzogJ3dlYm0nLFxuICAndmlkZW8veC1tYXRyb3NrYSc6ICdta3YnLFxuICAndmlkZW8veC1tc3ZpZGVvJzogJ2F2aSdcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRGaWxlVHlwZUV4dGVuc2lvbihtaW1lVHlwZSkge1xuICAvLyBSZW1vdmUgdGhlIDsgYml0IGluICd2aWRlby94LW1hdHJvc2thO2NvZGVjcz1hdmMxJ1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgW21pbWVUeXBlXSA9IG1pbWVUeXBlLnNwbGl0KCc7JywgMSk7XG4gIHJldHVybiBtaW1lVG9FeHRlbnNpb25zW21pbWVUeXBlXSB8fCBudWxsO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFNvY2tldEhvc3QodXJsKSB7XG4gIC8vIGdldCB0aGUgaG9zdCBkb21haW5cbiAgY29uc3QgcmVnZXggPSAvXig/Omh0dHBzPzpcXC9cXC98XFwvXFwvKT8oPzpbXkBcXG5dK0ApPyg/Ond3d1xcLik/KFteXFxuXSspL2k7XG4gIGNvbnN0IGhvc3QgPSByZWdleC5leGVjKHVybClbMV07XG4gIGNvbnN0IHNvY2tldFByb3RvY29sID0gL15odHRwOlxcL1xcLy9pLnRlc3QodXJsKSA/ICd3cycgOiAnd3NzJztcbiAgcmV0dXJuIGAke3NvY2tldFByb3RvY29sfTovLyR7aG9zdH1gO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFNwZWVkKGZpbGVQcm9ncmVzcykge1xuICBpZiAoIWZpbGVQcm9ncmVzcy5ieXRlc1VwbG9hZGVkKSByZXR1cm4gMDtcbiAgY29uc3QgdGltZUVsYXBzZWQgPSBEYXRlLm5vdygpIC0gZmlsZVByb2dyZXNzLnVwbG9hZFN0YXJ0ZWQ7XG4gIGNvbnN0IHVwbG9hZFNwZWVkID0gZmlsZVByb2dyZXNzLmJ5dGVzVXBsb2FkZWQgLyAodGltZUVsYXBzZWQgLyAxMDAwKTtcbiAgcmV0dXJuIHVwbG9hZFNwZWVkO1xufSIsIi8qKlxuICogR2V0IHRoZSBkZWNsYXJlZCB0ZXh0IGRpcmVjdGlvbiBmb3IgYW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge05vZGV9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfVxuICovXG5mdW5jdGlvbiBnZXRUZXh0RGlyZWN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIF9lbGVtZW50O1xuXG4gIC8vIFRoZXJlIGlzIGFub3RoZXIgd2F5IHRvIGRldGVybWluZSB0ZXh0IGRpcmVjdGlvbiB1c2luZyBnZXRDb21wdXRlZFN0eWxlKCksIGFzIGRvbmUgaGVyZTpcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BlbmNpbC1qcy90ZXh0LWRpcmVjdGlvbi9ibG9iLzJhMjM1Y2U5NTA4OWIzMTg1YWNlYzNiNTEzMTNjYmJhOTIxYjM4MTEvdGV4dC1kaXJlY3Rpb24uanNcbiAgLy9cbiAgLy8gV2UgZG8gbm90IHVzZSB0aGF0IGFwcHJvYWNoIGJlY2F1c2Ugd2UgYXJlIGludGVyZXN0ZWQgc3BlY2lmaWNhbGx5IGluIHRoZSBfZGVjbGFyZWRfIHRleHQgZGlyZWN0aW9uLlxuICAvLyBJZiBubyB0ZXh0IGRpcmVjdGlvbiBpcyBkZWNsYXJlZCwgd2UgaGF2ZSB0byBwcm92aWRlIG91ciBvd24gZXhwbGljaXQgdGV4dCBkaXJlY3Rpb24gc28gb3VyXG4gIC8vIGJpZGlyZWN0aW9uYWwgQ1NTIHN0eWxlIHNoZWV0cyB3b3JrLlxuICB3aGlsZSAoZWxlbWVudCAmJiAhZWxlbWVudC5kaXIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICB9XG5cbiAgcmV0dXJuIChfZWxlbWVudCA9IGVsZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZWxlbWVudC5kaXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldFRleHREaXJlY3Rpb247IiwiLyoqXG4gKiBBZGRzIHplcm8gdG8gc3RyaW5ncyBzaG9ydGVyIHRoYW4gdHdvIGNoYXJhY3RlcnMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG51bWJlclxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcGFkKG51bWJlcikge1xuICByZXR1cm4gbnVtYmVyIDwgMTAgPyBgMCR7bnVtYmVyfWAgOiBudW1iZXIudG9TdHJpbmcoKTtcbn1cbi8qKlxuICogUmV0dXJucyBhIHRpbWVzdGFtcCBpbiB0aGUgZm9ybWF0IG9mIGBob3VyczptaW51dGVzOnNlY29uZHNgXG4gKi9cblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRUaW1lU3RhbXAoKSB7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCBob3VycyA9IHBhZChkYXRlLmdldEhvdXJzKCkpO1xuICBjb25zdCBtaW51dGVzID0gcGFkKGRhdGUuZ2V0TWludXRlcygpKTtcbiAgY29uc3Qgc2Vjb25kcyA9IHBhZChkYXRlLmdldFNlY29uZHMoKSk7XG4gIHJldHVybiBgJHtob3Vyc306JHttaW51dGVzfToke3NlY29uZHN9YDtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYXMob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSk7XG59IiwiLyoqXG4gKiBDaGVjayBpZiBhbiBvYmplY3QgaXMgYSBET00gZWxlbWVudC4gRHVjay10eXBpbmcgYmFzZWQgb24gYG5vZGVUeXBlYC5cbiAqXG4gKiBAcGFyYW0geyp9IG9ialxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0RPTUVsZW1lbnQob2JqKSB7XG4gIHJldHVybiAob2JqID09IG51bGwgPyB2b2lkIDAgOiBvYmoubm9kZVR5cGUpID09PSBOb2RlLkVMRU1FTlRfTk9ERTtcbn0iLCIvKipcbiAqIENoZWNrcyBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBEcmFnICYgRHJvcCAobm90IHN1cHBvcnRlZCBvbiBtb2JpbGUgZGV2aWNlcywgZm9yIGV4YW1wbGUpLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0RyYWdEcm9wU3VwcG9ydGVkKCkge1xuICBjb25zdCBkaXYgPSBkb2N1bWVudC5ib2R5O1xuXG4gIGlmICghKCdkcmFnZ2FibGUnIGluIGRpdikgfHwgISgnb25kcmFnc3RhcnQnIGluIGRpdiAmJiAnb25kcm9wJyBpbiBkaXYpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCEoJ0Zvcm1EYXRhJyBpbiB3aW5kb3cpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCEoJ0ZpbGVSZWFkZXInIGluIHdpbmRvdykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn0iLCJmdW5jdGlvbiBpc05ldHdvcmtFcnJvcih4aHIpIHtcbiAgaWYgKCF4aHIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4geGhyLnJlYWR5U3RhdGUgIT09IDAgJiYgeGhyLnJlYWR5U3RhdGUgIT09IDQgfHwgeGhyLnN0YXR1cyA9PT0gMDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNOZXR3b3JrRXJyb3I7IiwiLyoqXG4gKiBDaGVjayBpZiBhIFVSTCBzdHJpbmcgaXMgYW4gb2JqZWN0IFVSTCBmcm9tIGBVUkwuY3JlYXRlT2JqZWN0VVJMYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNPYmplY3RVUkwodXJsKSB7XG4gIHJldHVybiB1cmwuc3RhcnRzV2l0aCgnYmxvYjonKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1ByZXZpZXdTdXBwb3J0ZWQoZmlsZVR5cGUpIHtcbiAgaWYgKCFmaWxlVHlwZSkgcmV0dXJuIGZhbHNlOyAvLyBsaXN0IG9mIGltYWdlcyB0aGF0IGJyb3dzZXJzIGNhbiBwcmV2aWV3XG5cbiAgcmV0dXJuIC9eW14vXStcXC8oanBlP2d8Z2lmfHBuZ3xzdmd8c3ZnXFwreG1sfGJtcHx3ZWJwfGF2aWYpJC8udGVzdChmaWxlVHlwZSk7XG59IiwiLy8gX19fV2h5IG5vdCBhZGQgdGhlIG1pbWUtdHlwZXMgcGFja2FnZT9cbi8vICAgIEl0J3MgMTkuN2tCIGd6aXBwZWQsIGFuZCB3ZSBvbmx5IG5lZWQgbWltZSB0eXBlcyBmb3Igd2VsbC1rbm93biBleHRlbnNpb25zIChmb3IgZmlsZSBwcmV2aWV3cykuXG4vLyBfX19XaGVyZSB0byB0YWtlIG5ldyBleHRlbnNpb25zIGZyb20/XG4vLyAgICBodHRwczovL2dpdGh1Yi5jb20vanNodHRwL21pbWUtZGIvYmxvYi9tYXN0ZXIvZGIuanNvblxuZXhwb3J0IGRlZmF1bHQge1xuICBtZDogJ3RleHQvbWFya2Rvd24nLFxuICBtYXJrZG93bjogJ3RleHQvbWFya2Rvd24nLFxuICBtcDQ6ICd2aWRlby9tcDQnLFxuICBtcDM6ICdhdWRpby9tcDMnLFxuICBzdmc6ICdpbWFnZS9zdmcreG1sJyxcbiAganBnOiAnaW1hZ2UvanBlZycsXG4gIHBuZzogJ2ltYWdlL3BuZycsXG4gIHdlYnA6ICdpbWFnZS93ZWJwJyxcbiAgZ2lmOiAnaW1hZ2UvZ2lmJyxcbiAgaGVpYzogJ2ltYWdlL2hlaWMnLFxuICBoZWlmOiAnaW1hZ2UvaGVpZicsXG4gIHlhbWw6ICd0ZXh0L3lhbWwnLFxuICB5bWw6ICd0ZXh0L3lhbWwnLFxuICBjc3Y6ICd0ZXh0L2NzdicsXG4gIHRzdjogJ3RleHQvdGFiLXNlcGFyYXRlZC12YWx1ZXMnLFxuICB0YWI6ICd0ZXh0L3RhYi1zZXBhcmF0ZWQtdmFsdWVzJyxcbiAgYXZpOiAndmlkZW8veC1tc3ZpZGVvJyxcbiAgbWtzOiAndmlkZW8veC1tYXRyb3NrYScsXG4gIG1rdjogJ3ZpZGVvL3gtbWF0cm9za2EnLFxuICBtb3Y6ICd2aWRlby9xdWlja3RpbWUnLFxuICBkaWNvbTogJ2FwcGxpY2F0aW9uL2RpY29tJyxcbiAgZG9jOiAnYXBwbGljYXRpb24vbXN3b3JkJyxcbiAgZG9jbTogJ2FwcGxpY2F0aW9uL3ZuZC5tcy13b3JkLmRvY3VtZW50Lm1hY3JvZW5hYmxlZC4xMicsXG4gIGRvY3g6ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCcsXG4gIGRvdDogJ2FwcGxpY2F0aW9uL21zd29yZCcsXG4gIGRvdG06ICdhcHBsaWNhdGlvbi92bmQubXMtd29yZC50ZW1wbGF0ZS5tYWNyb2VuYWJsZWQuMTInLFxuICBkb3R4OiAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwudGVtcGxhdGUnLFxuICB4bGE6ICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwnLFxuICB4bGFtOiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLmFkZGluLm1hY3JvZW5hYmxlZC4xMicsXG4gIHhsYzogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCcsXG4gIHhsZjogJ2FwcGxpY2F0aW9uL3gteGxpZmYreG1sJyxcbiAgeGxtOiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJyxcbiAgeGxzOiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJyxcbiAgeGxzYjogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5zaGVldC5iaW5hcnkubWFjcm9lbmFibGVkLjEyJyxcbiAgeGxzbTogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5zaGVldC5tYWNyb2VuYWJsZWQuMTInLFxuICB4bHN4OiAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQnLFxuICB4bHQ6ICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwnLFxuICB4bHRtOiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLnRlbXBsYXRlLm1hY3JvZW5hYmxlZC4xMicsXG4gIHhsdHg6ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC50ZW1wbGF0ZScsXG4gIHhsdzogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCcsXG4gIHR4dDogJ3RleHQvcGxhaW4nLFxuICB0ZXh0OiAndGV4dC9wbGFpbicsXG4gIGNvbmY6ICd0ZXh0L3BsYWluJyxcbiAgbG9nOiAndGV4dC9wbGFpbicsXG4gIHBkZjogJ2FwcGxpY2F0aW9uL3BkZicsXG4gIHppcDogJ2FwcGxpY2F0aW9uL3ppcCcsXG4gICc3eic6ICdhcHBsaWNhdGlvbi94LTd6LWNvbXByZXNzZWQnLFxuICByYXI6ICdhcHBsaWNhdGlvbi94LXJhci1jb21wcmVzc2VkJyxcbiAgdGFyOiAnYXBwbGljYXRpb24veC10YXInLFxuICBnejogJ2FwcGxpY2F0aW9uL2d6aXAnLFxuICBkbWc6ICdhcHBsaWNhdGlvbi94LWFwcGxlLWRpc2tpbWFnZSdcbn07IiwiaW1wb3J0IHNlY29uZHNUb1RpbWUgZnJvbSAnLi9zZWNvbmRzVG9UaW1lLmpzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHByZXR0eUVUQShzZWNvbmRzKSB7XG4gIGNvbnN0IHRpbWUgPSBzZWNvbmRzVG9UaW1lKHNlY29uZHMpOyAvLyBPbmx5IGRpc3BsYXkgaG91cnMgYW5kIG1pbnV0ZXMgaWYgdGhleSBhcmUgZ3JlYXRlciB0aGFuIDAgYnV0IGFsd2F5c1xuICAvLyBkaXNwbGF5IG1pbnV0ZXMgaWYgaG91cnMgaXMgYmVpbmcgZGlzcGxheWVkXG4gIC8vIERpc3BsYXkgYSBsZWFkaW5nIHplcm8gaWYgdGhlIHRoZXJlIGlzIGEgcHJlY2VkaW5nIHVuaXQ6IDFtIDA1cywgYnV0IDVzXG5cbiAgY29uc3QgaG91cnNTdHIgPSB0aW1lLmhvdXJzID09PSAwID8gJycgOiBgJHt0aW1lLmhvdXJzfWhgO1xuICBjb25zdCBtaW51dGVzU3RyID0gdGltZS5taW51dGVzID09PSAwID8gJycgOiBgJHt0aW1lLmhvdXJzID09PSAwID8gdGltZS5taW51dGVzIDogYCAke3RpbWUubWludXRlcy50b1N0cmluZygxMCkucGFkU3RhcnQoMiwgJzAnKX1gfW1gO1xuICBjb25zdCBzZWNvbmRzU3RyID0gdGltZS5ob3VycyAhPT0gMCA/ICcnIDogYCR7dGltZS5taW51dGVzID09PSAwID8gdGltZS5zZWNvbmRzIDogYCAke3RpbWUuc2Vjb25kcy50b1N0cmluZygxMCkucGFkU3RhcnQoMiwgJzAnKX1gfXNgO1xuICByZXR1cm4gYCR7aG91cnNTdHJ9JHttaW51dGVzU3RyfSR7c2Vjb25kc1N0cn1gO1xufSIsImltcG9ydCBnZXRGaWxlTmFtZUFuZEV4dGVuc2lvbiBmcm9tICcuL2dldEZpbGVOYW1lQW5kRXh0ZW5zaW9uLmpzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW90ZUZpbGVPYmpUb0xvY2FsKGZpbGUpIHtcbiAgcmV0dXJuIHsgLi4uZmlsZSxcbiAgICB0eXBlOiBmaWxlLm1pbWVUeXBlLFxuICAgIGV4dGVuc2lvbjogZmlsZS5uYW1lID8gZ2V0RmlsZU5hbWVBbmRFeHRlbnNpb24oZmlsZS5uYW1lKS5leHRlbnNpb24gOiBudWxsXG4gIH07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2Vjb25kc1RvVGltZShyYXdTZWNvbmRzKSB7XG4gIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihyYXdTZWNvbmRzIC8gMzYwMCkgJSAyNDtcbiAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IocmF3U2Vjb25kcyAvIDYwKSAlIDYwO1xuICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcihyYXdTZWNvbmRzICUgNjApO1xuICByZXR1cm4ge1xuICAgIGhvdXJzLFxuICAgIG1pbnV0ZXMsXG4gICAgc2Vjb25kc1xuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldHRsZShwcm9taXNlcykge1xuICBjb25zdCByZXNvbHV0aW9ucyA9IFtdO1xuICBjb25zdCByZWplY3Rpb25zID0gW107XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZWQodmFsdWUpIHtcbiAgICByZXNvbHV0aW9ucy5wdXNoKHZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlamVjdGVkKGVycm9yKSB7XG4gICAgcmVqZWN0aW9ucy5wdXNoKGVycm9yKTtcbiAgfVxuXG4gIGNvbnN0IHdhaXQgPSBQcm9taXNlLmFsbChwcm9taXNlcy5tYXAocHJvbWlzZSA9PiBwcm9taXNlLnRoZW4ocmVzb2x2ZWQsIHJlamVjdGVkKSkpO1xuICByZXR1cm4gd2FpdC50aGVuKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2Vzc2Z1bDogcmVzb2x1dGlvbnMsXG4gICAgICBmYWlsZWQ6IHJlamVjdGlvbnNcbiAgICB9O1xuICB9KTtcbn0iLCIvKipcbiAqIENvbnZlcnRzIGxpc3QgaW50byBhcnJheVxuICovXG5leHBvcnQgZGVmYXVsdCBBcnJheS5mcm9tOyIsIi8qKlxuICogVHJ1bmNhdGVzIGEgc3RyaW5nIHRvIHRoZSBnaXZlbiBudW1iZXIgb2YgY2hhcnMgKG1heExlbmd0aCkgYnkgaW5zZXJ0aW5nICcuLi4nIGluIHRoZSBtaWRkbGUgb2YgdGhhdCBzdHJpbmcuXG4gKiBQYXJ0aWFsbHkgdGFrZW4gZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTcyMzI3NC8zMTkyNDcwLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgLSBzdHJpbmcgdG8gYmUgdHJ1bmNhdGVkXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4TGVuZ3RoIC0gbWF4aW11bSBzaXplIG9mIHRoZSByZXN1bHRpbmcgc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5jb25zdCBzZXBhcmF0b3IgPSAnLi4uJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRydW5jYXRlU3RyaW5nKHN0cmluZywgbWF4TGVuZ3RoKSB7XG4gIC8vIFJldHVybiB0aGUgZW1wdHkgc3RyaW5nIGlmIG1heExlbmd0aCBpcyB6ZXJvXG4gIGlmIChtYXhMZW5ndGggPT09IDApIHJldHVybiAnJzsgLy8gUmV0dXJuIG9yaWdpbmFsIHN0cmluZyBpZiBpdCdzIGFscmVhZHkgc2hvcnRlciB0aGFuIG1heExlbmd0aFxuXG4gIGlmIChzdHJpbmcubGVuZ3RoIDw9IG1heExlbmd0aCkgcmV0dXJuIHN0cmluZzsgLy8gUmV0dXJuIHRydW5jYXRlZCBzdWJzdHJpbmcgYXBwZW5kZWQgb2YgdGhlIGVsbGlwc2lzIGNoYXIgaWYgc3RyaW5nIGNhbid0IGJlIG1lYW5pbmdmdWxseSB0cnVuY2F0ZWRcblxuICBpZiAobWF4TGVuZ3RoIDw9IHNlcGFyYXRvci5sZW5ndGggKyAxKSByZXR1cm4gYCR7c3RyaW5nLnNsaWNlKDAsIG1heExlbmd0aCAtIDEpfeKApmA7XG4gIGNvbnN0IGNoYXJzVG9TaG93ID0gbWF4TGVuZ3RoIC0gc2VwYXJhdG9yLmxlbmd0aDtcbiAgY29uc3QgZnJvbnRDaGFycyA9IE1hdGguY2VpbChjaGFyc1RvU2hvdyAvIDIpO1xuICBjb25zdCBiYWNrQ2hhcnMgPSBNYXRoLmZsb29yKGNoYXJzVG9TaG93IC8gMik7XG4gIHJldHVybiBzdHJpbmcuc2xpY2UoMCwgZnJvbnRDaGFycykgKyBzZXBhcmF0b3IgKyBzdHJpbmcuc2xpY2UoLWJhY2tDaGFycyk7XG59IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5leHBvcnQgZGVmYXVsdCAoKCkgPT4ge1xuICByZXR1cm4gaChcInN2Z1wiLCB7XG4gICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICBmb2N1c2FibGU6IFwiZmFsc2VcIixcbiAgICBmaWxsOiBcIiMwMDk3RENcIixcbiAgICB3aWR0aDogXCI2NlwiLFxuICAgIGhlaWdodDogXCI1NVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDY2IDU1XCJcbiAgfSwgaChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTU3LjMgOC40MzNjNC41OSAwIDguMSAzLjUxIDguMSA4LjF2MjkuN2MwIDQuNTktMy41MSA4LjEtOC4xIDguMUg4LjdjLTQuNTkgMC04LjEtMy41MS04LjEtOC4xdi0yOS43YzAtNC41OSAzLjUxLTguMSA4LjEtOC4xaDkuNDVsNC41OS03LjAyYy41NC0uNTQgMS4zNS0xLjA4IDIuMTYtMS4wOGgxNi4yYy44MSAwIDEuNjIuNTQgMi4xNiAxLjA4bDQuNTkgNy4wMmg5LjQ1ek0zMyAxNC42NGMtOC42MiAwLTE1LjM5MyA2Ljc3My0xNS4zOTMgMTUuMzkzIDAgOC42MiA2Ljc3MyAxNS4zOTMgMTUuMzkzIDE1LjM5MyA4LjYyIDAgMTUuMzkzLTYuNzczIDE1LjM5My0xNS4zOTMgMC04LjYyLTYuNzczLTE1LjM5My0xNS4zOTMtMTUuMzkzek0zMyA0MGMtNS42NDggMC05Ljk2Ni00LjMxOS05Ljk2Ni05Ljk2NyAwLTUuNjQ3IDQuMzE4LTkuOTY2IDkuOTY2LTkuOTY2czkuOTY2IDQuMzE5IDkuOTY2IDkuOTY2QzQyLjk2NiAzNS42ODEgMzguNjQ4IDQwIDMzIDQwelwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICB9KSk7XG59KTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuLyogZXNsaW50LWRpc2FibGUganN4LWExMXkvbWVkaWEtaGFzLWNhcHRpb24gKi9cbmltcG9ydCB7IGgsIENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgU25hcHNob3RCdXR0b24gZnJvbSBcIi4vU25hcHNob3RCdXR0b24uanNcIjtcbmltcG9ydCBSZWNvcmRCdXR0b24gZnJvbSBcIi4vUmVjb3JkQnV0dG9uLmpzXCI7XG5pbXBvcnQgUmVjb3JkaW5nTGVuZ3RoIGZyb20gXCIuL1JlY29yZGluZ0xlbmd0aC5qc1wiO1xuaW1wb3J0IFZpZGVvU291cmNlU2VsZWN0IGZyb20gXCIuL1ZpZGVvU291cmNlU2VsZWN0LmpzXCI7XG5pbXBvcnQgU3VibWl0QnV0dG9uIGZyb20gXCIuL1N1Ym1pdEJ1dHRvbi5qc1wiO1xuaW1wb3J0IERpc2NhcmRCdXR0b24gZnJvbSBcIi4vRGlzY2FyZEJ1dHRvbi5qc1wiO1xuXG5mdW5jdGlvbiBpc01vZGVBdmFpbGFibGUobW9kZXMsIG1vZGUpIHtcbiAgcmV0dXJuIG1vZGVzLmluY2x1ZGVzKG1vZGUpO1xufVxuXG5jbGFzcyBDYW1lcmFTY3JlZW4gZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBvbkZvY3VzXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgb25Gb2N1cygpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgb25TdG9wXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgb25TdG9wKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgc3JjLFxuICAgICAgcmVjb3JkZWRWaWRlbyxcbiAgICAgIHJlY29yZGluZyxcbiAgICAgIG1vZGVzLFxuICAgICAgc3VwcG9ydHNSZWNvcmRpbmcsXG4gICAgICB2aWRlb1NvdXJjZXMsXG4gICAgICBzaG93VmlkZW9Tb3VyY2VEcm9wZG93bixcbiAgICAgIHNob3dSZWNvcmRpbmdMZW5ndGgsXG4gICAgICBvblN1Ym1pdCxcbiAgICAgIGkxOG4sXG4gICAgICBtaXJyb3IsXG4gICAgICBvblNuYXBzaG90LFxuICAgICAgb25TdGFydFJlY29yZGluZyxcbiAgICAgIG9uU3RvcFJlY29yZGluZyxcbiAgICAgIG9uRGlzY2FyZFJlY29yZGVkVmlkZW8sXG4gICAgICByZWNvcmRpbmdMZW5ndGhTZWNvbmRzXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaGFzUmVjb3JkZWRWaWRlbyA9ICEhcmVjb3JkZWRWaWRlbztcbiAgICBjb25zdCBzaG91bGRTaG93UmVjb3JkQnV0dG9uID0gIWhhc1JlY29yZGVkVmlkZW8gJiYgc3VwcG9ydHNSZWNvcmRpbmcgJiYgKGlzTW9kZUF2YWlsYWJsZShtb2RlcywgJ3ZpZGVvLW9ubHknKSB8fCBpc01vZGVBdmFpbGFibGUobW9kZXMsICdhdWRpby1vbmx5JykgfHwgaXNNb2RlQXZhaWxhYmxlKG1vZGVzLCAndmlkZW8tYXVkaW8nKSk7XG4gICAgY29uc3Qgc2hvdWxkU2hvd1NuYXBzaG90QnV0dG9uID0gIWhhc1JlY29yZGVkVmlkZW8gJiYgaXNNb2RlQXZhaWxhYmxlKG1vZGVzLCAncGljdHVyZScpO1xuICAgIGNvbnN0IHNob3VsZFNob3dSZWNvcmRpbmdMZW5ndGggPSBzdXBwb3J0c1JlY29yZGluZyAmJiBzaG93UmVjb3JkaW5nTGVuZ3RoICYmICFoYXNSZWNvcmRlZFZpZGVvO1xuICAgIGNvbnN0IHNob3VsZFNob3dWaWRlb1NvdXJjZURyb3Bkb3duID0gc2hvd1ZpZGVvU291cmNlRHJvcGRvd24gJiYgdmlkZW9Tb3VyY2VzICYmIHZpZGVvU291cmNlcy5sZW5ndGggPiAxO1xuICAgIGNvbnN0IHZpZGVvUHJvcHMgPSB7XG4gICAgICBwbGF5c2lubGluZTogdHJ1ZVxuICAgIH07XG5cbiAgICBpZiAocmVjb3JkZWRWaWRlbykge1xuICAgICAgdmlkZW9Qcm9wcy5tdXRlZCA9IGZhbHNlO1xuICAgICAgdmlkZW9Qcm9wcy5jb250cm9scyA9IHRydWU7XG4gICAgICB2aWRlb1Byb3BzLnNyYyA9IHJlY29yZGVkVmlkZW87IC8vIHJlc2V0IHNyY09iamVjdCBpbiBkb20uIElmIG5vdCByZXNldHRlZCwgc3RyZWFtIHN0aWNrcyBpbiBlbGVtZW50XG5cbiAgICAgIGlmICh0aGlzLnZpZGVvRWxlbWVudCkge1xuICAgICAgICB0aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZpZGVvUHJvcHMubXV0ZWQgPSB0cnVlO1xuICAgICAgdmlkZW9Qcm9wcy5hdXRvcGxheSA9IHRydWU7XG4gICAgICB2aWRlb1Byb3BzLnNyY09iamVjdCA9IHNyYztcbiAgICB9XG5cbiAgICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidXBweSB1cHB5LVdlYmNhbS1jb250YWluZXJcIlxuICAgIH0sIGgoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInVwcHktV2ViY2FtLXZpZGVvQ29udGFpbmVyXCJcbiAgICB9LCBoKFwidmlkZW9cIiwgX2V4dGVuZHMoe1xuICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJldHVybi1hc3NpZ24gKi9cbiAgICAgIHJlZjogdmlkZW9FbGVtZW50ID0+IHRoaXMudmlkZW9FbGVtZW50ID0gdmlkZW9FbGVtZW50LFxuICAgICAgY2xhc3NOYW1lOiBgdXBweS1XZWJjYW0tdmlkZW8gICR7bWlycm9yID8gJ3VwcHktV2ViY2FtLXZpZGVvLS1taXJyb3JlZCcgOiAnJ31gXG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvanN4LXByb3BzLW5vLXNwcmVhZGluZyAqL1xuXG4gICAgfSwgdmlkZW9Qcm9wcykpKSwgaChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidXBweS1XZWJjYW0tZm9vdGVyXCJcbiAgICB9LCBoKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LVdlYmNhbS12aWRlb1NvdXJjZUNvbnRhaW5lclwiXG4gICAgfSwgc2hvdWxkU2hvd1ZpZGVvU291cmNlRHJvcGRvd24gPyBWaWRlb1NvdXJjZVNlbGVjdCh0aGlzLnByb3BzKSA6IG51bGwpLCBoKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LVdlYmNhbS1idXR0b25Db250YWluZXJcIlxuICAgIH0sIHNob3VsZFNob3dTbmFwc2hvdEJ1dHRvbiAmJiBoKFNuYXBzaG90QnV0dG9uLCB7XG4gICAgICBvblNuYXBzaG90OiBvblNuYXBzaG90LFxuICAgICAgaTE4bjogaTE4blxuICAgIH0pLCBzaG91bGRTaG93UmVjb3JkQnV0dG9uICYmIGgoUmVjb3JkQnV0dG9uLCB7XG4gICAgICByZWNvcmRpbmc6IHJlY29yZGluZyxcbiAgICAgIG9uU3RhcnRSZWNvcmRpbmc6IG9uU3RhcnRSZWNvcmRpbmcsXG4gICAgICBvblN0b3BSZWNvcmRpbmc6IG9uU3RvcFJlY29yZGluZyxcbiAgICAgIGkxOG46IGkxOG5cbiAgICB9KSwgaGFzUmVjb3JkZWRWaWRlbyAmJiBoKFN1Ym1pdEJ1dHRvbiwge1xuICAgICAgb25TdWJtaXQ6IG9uU3VibWl0LFxuICAgICAgaTE4bjogaTE4blxuICAgIH0pLCBoYXNSZWNvcmRlZFZpZGVvICYmIGgoRGlzY2FyZEJ1dHRvbiwge1xuICAgICAgb25EaXNjYXJkOiBvbkRpc2NhcmRSZWNvcmRlZFZpZGVvLFxuICAgICAgaTE4bjogaTE4blxuICAgIH0pKSwgaChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidXBweS1XZWJjYW0tcmVjb3JkaW5nTGVuZ3RoXCJcbiAgICB9LCBzaG91bGRTaG93UmVjb3JkaW5nTGVuZ3RoICYmIGgoUmVjb3JkaW5nTGVuZ3RoLCB7XG4gICAgICByZWNvcmRpbmdMZW5ndGhTZWNvbmRzOiByZWNvcmRpbmdMZW5ndGhTZWNvbmRzLFxuICAgICAgaTE4bjogaTE4blxuICAgIH0pKSkpO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FtZXJhU2NyZWVuOyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuXG5mdW5jdGlvbiBEaXNjYXJkQnV0dG9uKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBvbkRpc2NhcmQsXG4gICAgaTE4blxuICB9ID0gX3JlZjtcbiAgcmV0dXJuIGgoXCJidXR0b25cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LXUtcmVzZXQgdXBweS1jLWJ0biB1cHB5LVdlYmNhbS1idXR0b24gdXBweS1XZWJjYW0tYnV0dG9uLS1kaXNjYXJkXCIsXG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICB0aXRsZTogaTE4bignZGlzY2FyZFJlY29yZGVkRmlsZScpLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBpMThuKCdkaXNjYXJkUmVjb3JkZWRGaWxlJyksXG4gICAgb25DbGljazogb25EaXNjYXJkLFxuICAgIFwiZGF0YS11cHB5LXN1cGVyLWZvY3VzYWJsZVwiOiB0cnVlXG4gIH0sIGgoXCJzdmdcIiwge1xuICAgIHdpZHRoOiBcIjEzXCIsXG4gICAgaGVpZ2h0OiBcIjEzXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTMgMTNcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uXCJcbiAgfSwgaChcImdcIiwge1xuICAgIGZpbGw6IFwiI0ZGRlwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIlxuICB9LCBoKFwicGF0aFwiLCB7XG4gICAgZDogXCJNLjQ5NiAxMS4zNjdMMTEuMTAzLjc2bDEuNDE0IDEuNDE0TDEuOTExIDEyLjc4MXpcIlxuICB9KSwgaChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTExLjEwNCAxMi43ODJMLjQ5NyAyLjE3NSAxLjkxMS43NmwxMC42MDcgMTAuNjA2elwiXG4gIH0pKSkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBEaXNjYXJkQnV0dG9uOyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuZXhwb3J0IGRlZmF1bHQgKF9yZWYgPT4ge1xuICBsZXQge1xuICAgIGljb24sXG4gICAgaTE4bixcbiAgICBoYXNDYW1lcmFcbiAgfSA9IF9yZWY7XG4gIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS1XZWJjYW0tcGVybWlzc29uc1wiXG4gIH0sIGgoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1cHB5LVdlYmNhbS1wZXJtaXNzb25zSWNvblwiXG4gIH0sIGljb24oKSksIGgoXCJoMVwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktV2ViY2FtLXRpdGxlXCJcbiAgfSwgaGFzQ2FtZXJhID8gaTE4bignYWxsb3dBY2Nlc3NUaXRsZScpIDogaTE4bignbm9DYW1lcmFUaXRsZScpKSwgaChcInBcIiwgbnVsbCwgaGFzQ2FtZXJhID8gaTE4bignYWxsb3dBY2Nlc3NEZXNjcmlwdGlvbicpIDogaTE4bignbm9DYW1lcmFEZXNjcmlwdGlvbicpKSk7XG59KTsiLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlY29yZEJ1dHRvbihfcmVmKSB7XG4gIGxldCB7XG4gICAgcmVjb3JkaW5nLFxuICAgIG9uU3RhcnRSZWNvcmRpbmcsXG4gICAgb25TdG9wUmVjb3JkaW5nLFxuICAgIGkxOG5cbiAgfSA9IF9yZWY7XG5cbiAgaWYgKHJlY29yZGluZykge1xuICAgIHJldHVybiBoKFwiYnV0dG9uXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ1cHB5LXUtcmVzZXQgdXBweS1jLWJ0biB1cHB5LVdlYmNhbS1idXR0b25cIixcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICB0aXRsZTogaTE4bignc3RvcFJlY29yZGluZycpLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IGkxOG4oJ3N0b3BSZWNvcmRpbmcnKSxcbiAgICAgIG9uQ2xpY2s6IG9uU3RvcFJlY29yZGluZyxcbiAgICAgIFwiZGF0YS11cHB5LXN1cGVyLWZvY3VzYWJsZVwiOiB0cnVlXG4gICAgfSwgaChcInN2Z1wiLCB7XG4gICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgICBjbGFzc05hbWU6IFwidXBweS1jLWljb25cIixcbiAgICAgIHdpZHRoOiBcIjEwMFwiLFxuICAgICAgaGVpZ2h0OiBcIjEwMFwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAwIDEwMFwiXG4gICAgfSwgaChcInJlY3RcIiwge1xuICAgICAgeDogXCIxNVwiLFxuICAgICAgeTogXCIxNVwiLFxuICAgICAgd2lkdGg6IFwiNzBcIixcbiAgICAgIGhlaWdodDogXCI3MFwiXG4gICAgfSkpKTtcbiAgfVxuXG4gIHJldHVybiBoKFwiYnV0dG9uXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG4gdXBweS1XZWJjYW0tYnV0dG9uXCIsXG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICB0aXRsZTogaTE4bignc3RhcnRSZWNvcmRpbmcnKSxcbiAgICBcImFyaWEtbGFiZWxcIjogaTE4bignc3RhcnRSZWNvcmRpbmcnKSxcbiAgICBvbkNsaWNrOiBvblN0YXJ0UmVjb3JkaW5nLFxuICAgIFwiZGF0YS11cHB5LXN1cGVyLWZvY3VzYWJsZVwiOiB0cnVlXG4gIH0sIGgoXCJzdmdcIiwge1xuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgY2xhc3NOYW1lOiBcInVwcHktYy1pY29uXCIsXG4gICAgd2lkdGg6IFwiMTAwXCIsXG4gICAgaGVpZ2h0OiBcIjEwMFwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDEwMCAxMDBcIlxuICB9LCBoKFwiY2lyY2xlXCIsIHtcbiAgICBjeDogXCI1MFwiLFxuICAgIGN5OiBcIjUwXCIsXG4gICAgcjogXCI0MFwiXG4gIH0pKSk7XG59IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgZm9ybWF0U2Vjb25kcyBmcm9tICcuL2Zvcm1hdFNlY29uZHMuanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmVjb3JkaW5nTGVuZ3RoKF9yZWYpIHtcbiAgbGV0IHtcbiAgICByZWNvcmRpbmdMZW5ndGhTZWNvbmRzLFxuICAgIGkxOG5cbiAgfSA9IF9yZWY7XG4gIGNvbnN0IGZvcm1hdHRlZFJlY29yZGluZ0xlbmd0aFNlY29uZHMgPSBmb3JtYXRTZWNvbmRzKHJlY29yZGluZ0xlbmd0aFNlY29uZHMpO1xuICByZXR1cm4gaChcInNwYW5cIiwge1xuICAgIFwiYXJpYS1sYWJlbFwiOiBpMThuKCdyZWNvcmRpbmdMZW5ndGgnLCB7XG4gICAgICByZWNvcmRpbmdfbGVuZ3RoOiBmb3JtYXR0ZWRSZWNvcmRpbmdMZW5ndGhTZWNvbmRzXG4gICAgfSlcbiAgfSwgZm9ybWF0dGVkUmVjb3JkaW5nTGVuZ3RoU2Vjb25kcyk7XG59IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgQ2FtZXJhSWNvbiBmcm9tIFwiLi9DYW1lcmFJY29uLmpzXCI7XG5leHBvcnQgZGVmYXVsdCAoX3JlZiA9PiB7XG4gIGxldCB7XG4gICAgb25TbmFwc2hvdCxcbiAgICBpMThuXG4gIH0gPSBfcmVmO1xuICByZXR1cm4gaChcImJ1dHRvblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LWMtYnRuIHVwcHktV2ViY2FtLWJ1dHRvbiB1cHB5LVdlYmNhbS1idXR0b24tLXBpY3R1cmVcIixcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIHRpdGxlOiBpMThuKCd0YWtlUGljdHVyZScpLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBpMThuKCd0YWtlUGljdHVyZScpLFxuICAgIG9uQ2xpY2s6IG9uU25hcHNob3QsXG4gICAgXCJkYXRhLXVwcHktc3VwZXItZm9jdXNhYmxlXCI6IHRydWVcbiAgfSwgQ2FtZXJhSWNvbigpKTtcbn0pOyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuXG5mdW5jdGlvbiBTdWJtaXRCdXR0b24oX3JlZikge1xuICBsZXQge1xuICAgIG9uU3VibWl0LFxuICAgIGkxOG5cbiAgfSA9IF9yZWY7XG4gIHJldHVybiBoKFwiYnV0dG9uXCIsIHtcbiAgICBjbGFzc05hbWU6IFwidXBweS11LXJlc2V0IHVwcHktYy1idG4gdXBweS1XZWJjYW0tYnV0dG9uIHVwcHktV2ViY2FtLWJ1dHRvbi0tc3VibWl0XCIsXG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICB0aXRsZTogaTE4bignc3VibWl0UmVjb3JkZWRGaWxlJyksXG4gICAgXCJhcmlhLWxhYmVsXCI6IGkxOG4oJ3N1Ym1pdFJlY29yZGVkRmlsZScpLFxuICAgIG9uQ2xpY2s6IG9uU3VibWl0LFxuICAgIFwiZGF0YS11cHB5LXN1cGVyLWZvY3VzYWJsZVwiOiB0cnVlXG4gIH0sIGgoXCJzdmdcIiwge1xuICAgIHdpZHRoOiBcIjEyXCIsXG4gICAgaGVpZ2h0OiBcIjlcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxMiA5XCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgIGNsYXNzTmFtZTogXCJ1cHB5LWMtaWNvblwiXG4gIH0sIGgoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIiNmZmZcIixcbiAgICBmaWxsUnVsZTogXCJub256ZXJvXCIsXG4gICAgZDogXCJNMTAuNjYgMEwxMiAxLjMxIDQuMTM2IDkgMCA0Ljk1NmwxLjM0LTEuMzFMNC4xMzYgNi4zOHpcIlxuICB9KSkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTdWJtaXRCdXR0b247IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5leHBvcnQgZGVmYXVsdCAoX3JlZiA9PiB7XG4gIGxldCB7XG4gICAgY3VycmVudERldmljZUlkLFxuICAgIHZpZGVvU291cmNlcyxcbiAgICBvbkNoYW5nZVZpZGVvU291cmNlXG4gIH0gPSBfcmVmO1xuICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktV2ViY2FtLXZpZGVvU291cmNlXCJcbiAgfSwgaChcInNlbGVjdFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVwcHktdS1yZXNldCB1cHB5LVdlYmNhbS12aWRlb1NvdXJjZS1zZWxlY3RcIixcbiAgICBvbkNoYW5nZTogZXZlbnQgPT4ge1xuICAgICAgb25DaGFuZ2VWaWRlb1NvdXJjZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgIH1cbiAgfSwgdmlkZW9Tb3VyY2VzLm1hcCh2aWRlb1NvdXJjZSA9PiBoKFwib3B0aW9uXCIsIHtcbiAgICBrZXk6IHZpZGVvU291cmNlLmRldmljZUlkLFxuICAgIHZhbHVlOiB2aWRlb1NvdXJjZS5kZXZpY2VJZCxcbiAgICBzZWxlY3RlZDogdmlkZW9Tb3VyY2UuZGV2aWNlSWQgPT09IGN1cnJlbnREZXZpY2VJZFxuICB9LCB2aWRlb1NvdXJjZS5sYWJlbCkpKSk7XG59KTsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTsgfSByZXR1cm4gcmVjZWl2ZXI7IH1cblxudmFyIGlkID0gMDtcblxuZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkobmFtZSkgeyByZXR1cm4gXCJfX3ByaXZhdGVfXCIgKyBpZCsrICsgXCJfXCIgKyBuYW1lOyB9XG5cbmltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgVUlQbHVnaW4gfSBmcm9tICdAdXBweS9jb3JlJztcbmltcG9ydCBnZXRGaWxlVHlwZUV4dGVuc2lvbiBmcm9tICdAdXBweS91dGlscy9saWIvZ2V0RmlsZVR5cGVFeHRlbnNpb24nO1xuaW1wb3J0IG1pbWVUeXBlcyBmcm9tICdAdXBweS91dGlscy9saWIvbWltZVR5cGVzJztcbmltcG9ydCBpc01vYmlsZSBmcm9tICdpcy1tb2JpbGUnO1xuaW1wb3J0IGNhbnZhc1RvQmxvYiBmcm9tICdAdXBweS91dGlscy9saWIvY2FudmFzVG9CbG9iJztcbmltcG9ydCBzdXBwb3J0c01lZGlhUmVjb3JkZXIgZnJvbSAnLi9zdXBwb3J0c01lZGlhUmVjb3JkZXIuanMnO1xuaW1wb3J0IENhbWVyYUljb24gZnJvbSBcIi4vQ2FtZXJhSWNvbi5qc1wiO1xuaW1wb3J0IENhbWVyYVNjcmVlbiBmcm9tIFwiLi9DYW1lcmFTY3JlZW4uanNcIjtcbmltcG9ydCBQZXJtaXNzaW9uc1NjcmVlbiBmcm9tIFwiLi9QZXJtaXNzaW9uc1NjcmVlbi5qc1wiO1xuY29uc3QgcGFja2FnZUpzb24gPSB7XG4gIFwidmVyc2lvblwiOiBcIjMuMy4wXCJcbn07XG5pbXBvcnQgbG9jYWxlIGZyb20gJy4vbG9jYWxlLmpzJztcbi8qKlxuICogTm9ybWFsaXplIGEgTUlNRSB0eXBlIG9yIGZpbGUgZXh0ZW5zaW9uIGludG8gYSBNSU1FIHR5cGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVUeXBlIC0gTUlNRSB0eXBlIG9yIGEgZmlsZSBleHRlbnNpb24gcHJlZml4ZWQgd2l0aCBgLmAuXG4gKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gVGhlIE1JTUUgdHlwZSBvciBgdW5kZWZpbmVkYCBpZiB0aGUgZmlsZVR5cGUgaXMgYW4gZXh0ZW5zaW9uIGFuZCBpcyBub3Qga25vd24uXG4gKi9cblxuZnVuY3Rpb24gdG9NaW1lVHlwZShmaWxlVHlwZSkge1xuICBpZiAoZmlsZVR5cGVbMF0gPT09ICcuJykge1xuICAgIHJldHVybiBtaW1lVHlwZXNbZmlsZVR5cGUuc2xpY2UoMSldO1xuICB9XG5cbiAgcmV0dXJuIGZpbGVUeXBlO1xufVxuLyoqXG4gKiBJcyB0aGlzIE1JTUUgdHlwZSBhIHZpZGVvP1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtaW1lVHlwZSAtIE1JTUUgdHlwZS5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5cblxuZnVuY3Rpb24gaXNWaWRlb01pbWVUeXBlKG1pbWVUeXBlKSB7XG4gIHJldHVybiAvXnZpZGVvXFwvW14qXSskLy50ZXN0KG1pbWVUeXBlKTtcbn1cbi8qKlxuICogSXMgdGhpcyBNSU1FIHR5cGUgYW4gaW1hZ2U/XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1pbWVUeXBlIC0gTUlNRSB0eXBlLlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuXG5mdW5jdGlvbiBpc0ltYWdlTWltZVR5cGUobWltZVR5cGUpIHtcbiAgcmV0dXJuIC9eaW1hZ2VcXC9bXipdKyQvLnRlc3QobWltZVR5cGUpO1xufVxuXG5mdW5jdGlvbiBnZXRNZWRpYURldmljZXMoKSB7XG4gIC8vIGJ1ZyBpbiB0aGUgY29tcGF0aWJpbGl0eSBkYXRhXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wYXQvY29tcGF0XG4gIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzO1xufVxuXG5mdW5jdGlvbiBpc01vZGVBdmFpbGFibGUobW9kZXMsIG1vZGUpIHtcbiAgcmV0dXJuIG1vZGVzLmluY2x1ZGVzKG1vZGUpO1xufVxuLyoqXG4gKiBXZWJjYW1cbiAqL1xuXG5cbnZhciBfZW5hYmxlTWlycm9yID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZW5hYmxlTWlycm9yXCIpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJjYW0gZXh0ZW5kcyBVSVBsdWdpbiB7XG4gIC8vIGVuYWJsZU1pcnJvciBpcyB1c2VkIHRvIHRvZ2dsZSBtaXJyb3JpbmcsIGZvciBpbnN0YW5jZSB3aGVuIGRpc2NhcmRpbmcgdGhlIHZpZGVvLFxuICAvLyB3aGlsZSBgb3B0cy5taXJyb3JgIGlzIHVzZWQgdG8gcmVtZW1iZXIgdGhlIGluaXRpYWwgdXNlciBzZXR0aW5nXG4gIGNvbnN0cnVjdG9yKHVwcHksIG9wdHMpIHtcbiAgICBzdXBlcih1cHB5LCBvcHRzKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2VuYWJsZU1pcnJvciwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdm9pZCAwXG4gICAgfSk7XG4gICAgdGhpcy5tZWRpYURldmljZXMgPSBnZXRNZWRpYURldmljZXMoKTtcbiAgICB0aGlzLnN1cHBvcnRzVXNlck1lZGlhID0gISF0aGlzLm1lZGlhRGV2aWNlczsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuXG4gICAgdGhpcy5wcm90b2NvbCA9IGxvY2F0aW9uLnByb3RvY29sLm1hdGNoKC9odHRwcy9pKSA/ICdodHRwcycgOiAnaHR0cCc7XG4gICAgdGhpcy5pZCA9IHRoaXMub3B0cy5pZCB8fCAnV2ViY2FtJztcbiAgICB0aGlzLnR5cGUgPSAnYWNxdWlyZXInO1xuICAgIHRoaXMuY2FwdHVyZWRNZWRpYUZpbGUgPSBudWxsO1xuXG4gICAgdGhpcy5pY29uID0gKCkgPT4gaChcInN2Z1wiLCB7XG4gICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgICB3aWR0aDogXCIzMlwiLFxuICAgICAgaGVpZ2h0OiBcIjMyXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiXG4gICAgfSwgaChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMjMuNSA5LjVjMS40MTcgMCAyLjUgMS4wODMgMi41IDIuNXY5LjE2N2MwIDEuNDE2LTEuMDgzIDIuNS0yLjUgMi41aC0xNWMtMS40MTcgMC0yLjUtMS4wODQtMi41LTIuNVYxMmMwLTEuNDE3IDEuMDgzLTIuNSAyLjUtMi41aDIuOTE3bDEuNDE2LTIuMTY3QzEzIDcuMTY3IDEzLjI1IDcgMTMuNSA3aDVjLjI1IDAgLjUuMTY3LjY2Ny4zMzNMMjAuNTgzIDkuNUgyMy41ek0xNiAxMS40MTdhNC43MDYgNC43MDYgMCAwMC00Ljc1IDQuNzUgNC43MDQgNC43MDQgMCAwMDQuNzUgNC43NSA0LjcwMyA0LjcwMyAwIDAwNC43NS00Ljc1YzAtMi42NjMtMi4wOS00Ljc1LTQuNzUtNC43NXptMCA3LjgyNWMtMS43NDQgMC0zLjA3Ni0xLjMzMi0zLjA3Ni0zLjA3NCAwLTEuNzQ1IDEuMzMzLTMuMDc3IDMuMDc2LTMuMDc3IDEuNzQ0IDAgMy4wNzQgMS4zMzMgMy4wNzQgMy4wNzZzLTEuMzMgMy4wNzUtMy4wNzQgMy4wNzV6XCIsXG4gICAgICBmaWxsOiBcIiMwMkIzODNcIixcbiAgICAgIGZpbGxSdWxlOiBcIm5vbnplcm9cIlxuICAgIH0pKTtcblxuICAgIHRoaXMuZGVmYXVsdExvY2FsZSA9IGxvY2FsZTsgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuXG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICBvbkJlZm9yZVNuYXBzaG90OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoKSxcbiAgICAgIGNvdW50ZG93bjogZmFsc2UsXG4gICAgICBtb2RlczogWyd2aWRlby1hdWRpbycsICd2aWRlby1vbmx5JywgJ2F1ZGlvLW9ubHknLCAncGljdHVyZSddLFxuICAgICAgbWlycm9yOiB0cnVlLFxuICAgICAgc2hvd1ZpZGVvU291cmNlRHJvcGRvd246IGZhbHNlLFxuICAgICAgZmFjaW5nTW9kZTogJ3VzZXInLFxuICAgICAgLy8gQFRPRE86IHJlbW92ZSBpbiB0aGUgbmV4dCBtYWpvclxuICAgICAgdmlkZW9Db25zdHJhaW50czogdW5kZWZpbmVkLFxuICAgICAgcHJlZmVycmVkSW1hZ2VNaW1lVHlwZTogbnVsbCxcbiAgICAgIHByZWZlcnJlZFZpZGVvTWltZVR5cGU6IG51bGwsXG4gICAgICBzaG93UmVjb3JkaW5nTGVuZ3RoOiBmYWxzZSxcbiAgICAgIG1vYmlsZU5hdGl2ZUNhbWVyYTogaXNNb2JpbGUoe1xuICAgICAgICB0YWJsZXQ6IHRydWVcbiAgICAgIH0pXG4gICAgfTtcbiAgICB0aGlzLm9wdHMgPSB7IC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgLi4ub3B0c1xuICAgIH07XG4gICAgdGhpcy5pMThuSW5pdCgpO1xuICAgIHRoaXMudGl0bGUgPSB0aGlzLmkxOG4oJ3BsdWdpbk5hbWVDYW1lcmEnKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2VuYWJsZU1pcnJvcilbX2VuYWJsZU1pcnJvcl0gPSB0aGlzLm9wdHMubWlycm9yO1xuICAgIHRoaXMuaW5zdGFsbCA9IHRoaXMuaW5zdGFsbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUgPSB0aGlzLnNldFBsdWdpblN0YXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLnJlbmRlci5iaW5kKHRoaXMpOyAvLyBDYW1lcmEgY29udHJvbHNcblxuICAgIHRoaXMuc3RhcnQgPSB0aGlzLnN0YXJ0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdG9wID0gdGhpcy5zdG9wLmJpbmQodGhpcyk7XG4gICAgdGhpcy50YWtlU25hcHNob3QgPSB0aGlzLnRha2VTbmFwc2hvdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhcnRSZWNvcmRpbmcgPSB0aGlzLnN0YXJ0UmVjb3JkaW5nLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdG9wUmVjb3JkaW5nID0gdGhpcy5zdG9wUmVjb3JkaW5nLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kaXNjYXJkUmVjb3JkZWRWaWRlbyA9IHRoaXMuZGlzY2FyZFJlY29yZGVkVmlkZW8uYmluZCh0aGlzKTtcbiAgICB0aGlzLnN1Ym1pdCA9IHRoaXMuc3VibWl0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbmVUd29UaHJlZVNtaWxlID0gdGhpcy5vbmVUd29UaHJlZVNtaWxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5mb2N1cyA9IHRoaXMuZm9jdXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNoYW5nZVZpZGVvU291cmNlID0gdGhpcy5jaGFuZ2VWaWRlb1NvdXJjZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMud2ViY2FtQWN0aXZlID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5vcHRzLmNvdW50ZG93bikge1xuICAgICAgdGhpcy5vcHRzLm9uQmVmb3JlU25hcHNob3QgPSB0aGlzLm9uZVR3b1RocmVlU21pbGU7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgICBoYXNDYW1lcmE6IGZhbHNlLFxuICAgICAgY2FtZXJhUmVhZHk6IGZhbHNlLFxuICAgICAgY2FtZXJhRXJyb3I6IG51bGwsXG4gICAgICByZWNvcmRpbmdMZW5ndGhTZWNvbmRzOiAwLFxuICAgICAgdmlkZW9Tb3VyY2VzOiBbXSxcbiAgICAgIGN1cnJlbnREZXZpY2VJZDogbnVsbFxuICAgIH0pO1xuICB9XG5cbiAgc2V0T3B0aW9ucyhuZXdPcHRzKSB7XG4gICAgc3VwZXIuc2V0T3B0aW9ucyh7IC4uLm5ld09wdHMsXG4gICAgICB2aWRlb0NvbnN0cmFpbnRzOiB7IC8vIE1heSBiZSB1bmRlZmluZWQgYnV0IC4uLiBoYW5kbGVzIHRoYXRcbiAgICAgICAgLi4udGhpcy5vcHRzLnZpZGVvQ29uc3RyYWludHMsXG4gICAgICAgIC4uLihuZXdPcHRzID09IG51bGwgPyB2b2lkIDAgOiBuZXdPcHRzLnZpZGVvQ29uc3RyYWludHMpXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBoYXNDYW1lcmFDaGVjaygpIHtcbiAgICBpZiAoIXRoaXMubWVkaWFEZXZpY2VzKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oZGV2aWNlcyA9PiB7XG4gICAgICByZXR1cm4gZGV2aWNlcy5zb21lKGRldmljZSA9PiBkZXZpY2Uua2luZCA9PT0gJ3ZpZGVvaW5wdXQnKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlzQXVkaW9Pbmx5KCkge1xuICAgIHJldHVybiB0aGlzLm9wdHMubW9kZXMubGVuZ3RoID09PSAxICYmIHRoaXMub3B0cy5tb2Rlc1swXSA9PT0gJ2F1ZGlvLW9ubHknO1xuICB9XG5cbiAgZ2V0Q29uc3RyYWludHMoZGV2aWNlSWQpIHtcbiAgICBpZiAoZGV2aWNlSWQgPT09IHZvaWQgMCkge1xuICAgICAgZGV2aWNlSWQgPSBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGFjY2VwdHNBdWRpbyA9IHRoaXMub3B0cy5tb2Rlcy5pbmRleE9mKCd2aWRlby1hdWRpbycpICE9PSAtMSB8fCB0aGlzLm9wdHMubW9kZXMuaW5kZXhPZignYXVkaW8tb25seScpICE9PSAtMTtcbiAgICBjb25zdCBhY2NlcHRzVmlkZW8gPSAhdGhpcy5pc0F1ZGlvT25seSgpICYmICh0aGlzLm9wdHMubW9kZXMuaW5kZXhPZigndmlkZW8tYXVkaW8nKSAhPT0gLTEgfHwgdGhpcy5vcHRzLm1vZGVzLmluZGV4T2YoJ3ZpZGVvLW9ubHknKSAhPT0gLTEgfHwgdGhpcy5vcHRzLm1vZGVzLmluZGV4T2YoJ3BpY3R1cmUnKSAhPT0gLTEpO1xuICAgIGNvbnN0IHZpZGVvQ29uc3RyYWludHMgPSB7IC4uLih0aGlzLm9wdHMudmlkZW9Db25zdHJhaW50cyB8fCB7XG4gICAgICAgIGZhY2luZ01vZGU6IHRoaXMub3B0cy5mYWNpbmdNb2RlXG4gICAgICB9KSxcbiAgICAgIC8vIGZhY2luZ01vZGUgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGRldmljZUlkLCBhbmQgbm90IG5lZWRlZFxuICAgICAgLy8gd2hlbiBzcGVjaWZpYyBkZXZpY2UgaXMgc2VsZWN0ZWRcbiAgICAgIC4uLihkZXZpY2VJZCA/IHtcbiAgICAgICAgZGV2aWNlSWQsXG4gICAgICAgIGZhY2luZ01vZGU6IG51bGxcbiAgICAgIH0gOiB7fSlcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICBhdWRpbzogYWNjZXB0c0F1ZGlvLFxuICAgICAgdmlkZW86IGFjY2VwdHNWaWRlbyA/IHZpZGVvQ29uc3RyYWludHMgOiBmYWxzZVxuICAgIH07XG4gIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5cblxuICBzdGFydChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN1cHBvcnRzVXNlck1lZGlhKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdXZWJjYW0gYWNjZXNzIG5vdCBzdXBwb3J0ZWQnKSk7XG4gICAgfVxuXG4gICAgdGhpcy53ZWJjYW1BY3RpdmUgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMub3B0cy5taXJyb3IpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZW5hYmxlTWlycm9yKVtfZW5hYmxlTWlycm9yXSA9IHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmdldENvbnN0cmFpbnRzKG9wdGlvbnMgJiYgb3B0aW9ucy5kZXZpY2VJZCA/IG9wdGlvbnMuZGV2aWNlSWQgOiBudWxsKTtcbiAgICB0aGlzLmhhc0NhbWVyYUNoZWNrKCkudGhlbihoYXNDYW1lcmEgPT4ge1xuICAgICAgdGhpcy5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgICAgIGhhc0NhbWVyYVxuICAgICAgfSk7IC8vIGFzayB1c2VyIGZvciBhY2Nlc3MgdG8gdGhlaXIgY2FtZXJhXG5cbiAgICAgIHJldHVybiB0aGlzLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oc3RyZWFtID0+IHtcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBzdHJlYW07XG4gICAgICAgIGxldCBjdXJyZW50RGV2aWNlSWQgPSBudWxsO1xuICAgICAgICBjb25zdCB0cmFja3MgPSB0aGlzLmlzQXVkaW9Pbmx5KCkgPyBzdHJlYW0uZ2V0QXVkaW9UcmFja3MoKSA6IHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpO1xuXG4gICAgICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5kZXZpY2VJZCkge1xuICAgICAgICAgIGN1cnJlbnREZXZpY2VJZCA9IHRyYWNrc1swXS5nZXRTZXR0aW5ncygpLmRldmljZUlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyYWNrcy5mb3JFYWNoKHRyYWNrID0+IHtcbiAgICAgICAgICAgIGlmICh0cmFjay5nZXRTZXR0aW5ncygpLmRldmljZUlkID09PSBvcHRpb25zLmRldmljZUlkKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnREZXZpY2VJZCA9IHRyYWNrLmdldFNldHRpbmdzKCkuZGV2aWNlSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gLy8gVXBkYXRlIHRoZSBzb3VyY2VzIG5vdywgc28gd2UgY2FuIGFjY2VzcyB0aGUgbmFtZXMuXG5cblxuICAgICAgICB0aGlzLnVwZGF0ZVZpZGVvU291cmNlcygpO1xuICAgICAgICB0aGlzLnNldFBsdWdpblN0YXRlKHtcbiAgICAgICAgICBjdXJyZW50RGV2aWNlSWQsXG4gICAgICAgICAgY2FtZXJhUmVhZHk6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICB0aGlzLnNldFBsdWdpblN0YXRlKHtcbiAgICAgICAgICBjYW1lcmFSZWFkeTogZmFsc2UsXG4gICAgICAgICAgY2FtZXJhRXJyb3I6IGVyclxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cHB5LmluZm8oZXJyLm1lc3NhZ2UsICdlcnJvcicpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuXG5cbiAgZ2V0TWVkaWFSZWNvcmRlck9wdGlvbnMoKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHt9OyAvLyBUcnkgdG8gdXNlIHRoZSBgb3B0cy5wcmVmZXJyZWRWaWRlb01pbWVUeXBlYCBvciBvbmUgb2YgdGhlIGBhbGxvd2VkRmlsZVR5cGVzYCBmb3IgdGhlIHJlY29yZGluZy5cbiAgICAvLyBJZiB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgaXQsIHdlJ2xsIGZhbGwgYmFjayB0byB0aGUgYnJvd3NlciBkZWZhdWx0IGluc3RlYWQuXG4gICAgLy8gU2FmYXJpIGRvZXNuJ3QgaGF2ZSB0aGUgYGlzVHlwZVN1cHBvcnRlZGAgQVBJLlxuXG4gICAgaWYgKE1lZGlhUmVjb3JkZXIuaXNUeXBlU3VwcG9ydGVkKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHJlc3RyaWN0aW9uc1xuICAgICAgfSA9IHRoaXMudXBweS5vcHRzO1xuICAgICAgbGV0IHByZWZlcnJlZFZpZGVvTWltZVR5cGVzID0gW107XG5cbiAgICAgIGlmICh0aGlzLm9wdHMucHJlZmVycmVkVmlkZW9NaW1lVHlwZSkge1xuICAgICAgICBwcmVmZXJyZWRWaWRlb01pbWVUeXBlcyA9IFt0aGlzLm9wdHMucHJlZmVycmVkVmlkZW9NaW1lVHlwZV07XG4gICAgICB9IGVsc2UgaWYgKHJlc3RyaWN0aW9ucy5hbGxvd2VkRmlsZVR5cGVzKSB7XG4gICAgICAgIHByZWZlcnJlZFZpZGVvTWltZVR5cGVzID0gcmVzdHJpY3Rpb25zLmFsbG93ZWRGaWxlVHlwZXMubWFwKHRvTWltZVR5cGUpLmZpbHRlcihpc1ZpZGVvTWltZVR5cGUpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBmaWx0ZXJTdXBwb3J0ZWRUeXBlcyA9IGNhbmRpZGF0ZVR5cGUgPT4gTWVkaWFSZWNvcmRlci5pc1R5cGVTdXBwb3J0ZWQoY2FuZGlkYXRlVHlwZSkgJiYgZ2V0RmlsZVR5cGVFeHRlbnNpb24oY2FuZGlkYXRlVHlwZSk7XG5cbiAgICAgIGNvbnN0IGFjY2VwdGFibGVNaW1lVHlwZXMgPSBwcmVmZXJyZWRWaWRlb01pbWVUeXBlcy5maWx0ZXIoZmlsdGVyU3VwcG9ydGVkVHlwZXMpO1xuXG4gICAgICBpZiAoYWNjZXB0YWJsZU1pbWVUeXBlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICBvcHRpb25zLm1pbWVUeXBlID0gYWNjZXB0YWJsZU1pbWVUeXBlc1swXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIHN0YXJ0UmVjb3JkaW5nKCkge1xuICAgIC8vIG9ubHkgdXNlZCBpZiBzdXBwb3J0c01lZGlhUmVjb3JkZXIoKSByZXR1cm5lZCB0cnVlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBhdC9jb21wYXRcbiAgICB0aGlzLnJlY29yZGVyID0gbmV3IE1lZGlhUmVjb3JkZXIodGhpcy5zdHJlYW0sIHRoaXMuZ2V0TWVkaWFSZWNvcmRlck9wdGlvbnMoKSk7XG4gICAgdGhpcy5yZWNvcmRpbmdDaHVua3MgPSBbXTtcbiAgICBsZXQgc3RvcHBpbmdCZWNhdXNlT2ZNYXhTaXplID0gZmFsc2U7XG4gICAgdGhpcy5yZWNvcmRlci5hZGRFdmVudExpc3RlbmVyKCdkYXRhYXZhaWxhYmxlJywgZXZlbnQgPT4ge1xuICAgICAgdGhpcy5yZWNvcmRpbmdDaHVua3MucHVzaChldmVudC5kYXRhKTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVzdHJpY3Rpb25zXG4gICAgICB9ID0gdGhpcy51cHB5Lm9wdHM7XG5cbiAgICAgIGlmICh0aGlzLnJlY29yZGluZ0NodW5rcy5sZW5ndGggPiAxICYmIHJlc3RyaWN0aW9ucy5tYXhGaWxlU2l6ZSAhPSBudWxsICYmICFzdG9wcGluZ0JlY2F1c2VPZk1heFNpemUpIHtcbiAgICAgICAgY29uc3QgdG90YWxTaXplID0gdGhpcy5yZWNvcmRpbmdDaHVua3MucmVkdWNlKChhY2MsIGNodW5rKSA9PiBhY2MgKyBjaHVuay5zaXplLCAwKTsgLy8gRXhjbHVkZSB0aGUgaW5pdGlhbCBjaHVuayBmcm9tIHRoZSBhdmVyYWdlIHNpemUgY2FsY3VsYXRpb24gYmVjYXVzZSBpdCBpcyBsaWtlbHkgdG8gYmUgYSB2ZXJ5IHNtYWxsIG91dGxpZXJcblxuICAgICAgICBjb25zdCBhdmVyYWdlQ2h1bmtTaXplID0gKHRvdGFsU2l6ZSAtIHRoaXMucmVjb3JkaW5nQ2h1bmtzWzBdLnNpemUpIC8gKHRoaXMucmVjb3JkaW5nQ2h1bmtzLmxlbmd0aCAtIDEpO1xuICAgICAgICBjb25zdCBleHBlY3RlZEVuZENodW5rU2l6ZSA9IGF2ZXJhZ2VDaHVua1NpemUgKiAzO1xuICAgICAgICBjb25zdCBtYXhTaXplID0gTWF0aC5tYXgoMCwgcmVzdHJpY3Rpb25zLm1heEZpbGVTaXplIC0gZXhwZWN0ZWRFbmRDaHVua1NpemUpO1xuXG4gICAgICAgIGlmICh0b3RhbFNpemUgPiBtYXhTaXplKSB7XG4gICAgICAgICAgc3RvcHBpbmdCZWNhdXNlT2ZNYXhTaXplID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnVwcHkuaW5mbyh0aGlzLmkxOG4oJ3JlY29yZGluZ1N0b3BwZWRNYXhTaXplJyksICd3YXJuaW5nJywgNDAwMCk7XG4gICAgICAgICAgdGhpcy5zdG9wUmVjb3JkaW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTsgLy8gdXNlIGEgXCJ0aW1lIHNsaWNlXCIgb2YgNTAwbXM6IG9uZGF0YWF2YWlsYWJsZSB3aWxsIGJlIGNhbGxlZCBlYWNoIDUwMG1zXG4gICAgLy8gc21hbGxlciB0aW1lIHNsaWNlcyBtZWFuIHdlIGNhbiBtb3JlIGFjY3VyYXRlbHkgY2hlY2sgdGhlIG1heCBmaWxlIHNpemUgcmVzdHJpY3Rpb25cblxuICAgIHRoaXMucmVjb3JkZXIuc3RhcnQoNTAwKTtcblxuICAgIGlmICh0aGlzLm9wdHMuc2hvd1JlY29yZGluZ0xlbmd0aCkge1xuICAgICAgLy8gU3RhcnQgdGhlIHJlY29yZGluZ0xlbmd0aFRpbWVyIGlmIHdlIGFyZSBzaG93aW5nIHRoZSByZWNvcmRpbmcgbGVuZ3RoLlxuICAgICAgdGhpcy5yZWNvcmRpbmdMZW5ndGhUaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFJlY29yZGluZ0xlbmd0aCA9IHRoaXMuZ2V0UGx1Z2luU3RhdGUoKS5yZWNvcmRpbmdMZW5ndGhTZWNvbmRzO1xuICAgICAgICB0aGlzLnNldFBsdWdpblN0YXRlKHtcbiAgICAgICAgICByZWNvcmRpbmdMZW5ndGhTZWNvbmRzOiBjdXJyZW50UmVjb3JkaW5nTGVuZ3RoICsgMVxuICAgICAgICB9KTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cblxuICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgaXNSZWNvcmRpbmc6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIHN0b3BSZWNvcmRpbmcoKSB7XG4gICAgY29uc3Qgc3RvcHBlZCA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGhpcy5yZWNvcmRlci5hZGRFdmVudExpc3RlbmVyKCdzdG9wJywgKCkgPT4ge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucmVjb3JkZXIuc3RvcCgpO1xuXG4gICAgICBpZiAodGhpcy5vcHRzLnNob3dSZWNvcmRpbmdMZW5ndGgpIHtcbiAgICAgICAgLy8gU3RvcCB0aGUgcmVjb3JkaW5nTGVuZ3RoVGltZXIgaWYgd2UgYXJlIHNob3dpbmcgdGhlIHJlY29yZGluZyBsZW5ndGguXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvcmRpbmdMZW5ndGhUaW1lcik7XG4gICAgICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICAgIHJlY29yZGluZ0xlbmd0aFNlY29uZHM6IDBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0b3BwZWQudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnNldFBsdWdpblN0YXRlKHtcbiAgICAgICAgaXNSZWNvcmRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzLmdldFZpZGVvKCk7XG4gICAgfSkudGhlbihmaWxlID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuY2FwdHVyZWRNZWRpYUZpbGUgPSBmaWxlOyAvLyBjcmVhdGUgb2JqZWN0IHVybCBmb3IgY2FwdHVyZSByZXN1bHQgcHJldmlld1xuXG4gICAgICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wYXQvY29tcGF0XG4gICAgICAgICAgcmVjb3JkZWRWaWRlbzogVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlLmRhdGEpXG4gICAgICAgIH0pO1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2VuYWJsZU1pcnJvcilbX2VuYWJsZU1pcnJvcl0gPSBmYWxzZTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBMb2dnaW5nIHRoZSBlcnJvciwgZXhlcHQgcmVzdHJpY3Rpb25zLCB3aGljaCBpcyBoYW5kbGVkIGluIENvcmVcbiAgICAgICAgaWYgKCFlcnIuaXNSZXN0cmljdGlvbikge1xuICAgICAgICAgIHRoaXMudXBweS5sb2coZXJyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5yZWNvcmRpbmdDaHVua3MgPSBudWxsO1xuICAgICAgdGhpcy5yZWNvcmRlciA9IG51bGw7XG4gICAgfSwgZXJyb3IgPT4ge1xuICAgICAgdGhpcy5yZWNvcmRpbmdDaHVua3MgPSBudWxsO1xuICAgICAgdGhpcy5yZWNvcmRlciA9IG51bGw7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9KTtcbiAgfVxuXG4gIGRpc2NhcmRSZWNvcmRlZFZpZGVvKCkge1xuICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgcmVjb3JkZWRWaWRlbzogbnVsbFxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMub3B0cy5taXJyb3IpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZW5hYmxlTWlycm9yKVtfZW5hYmxlTWlycm9yXSA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5jYXB0dXJlZE1lZGlhRmlsZSA9IG51bGw7XG4gIH1cblxuICBzdWJtaXQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0aGlzLmNhcHR1cmVkTWVkaWFGaWxlKSB7XG4gICAgICAgIHRoaXMudXBweS5hZGRGaWxlKHRoaXMuY2FwdHVyZWRNZWRpYUZpbGUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gTG9nZ2luZyB0aGUgZXJyb3IsIGV4ZXB0IHJlc3RyaWN0aW9ucywgd2hpY2ggaXMgaGFuZGxlZCBpbiBDb3JlXG4gICAgICBpZiAoIWVyci5pc1Jlc3RyaWN0aW9uKSB7XG4gICAgICAgIHRoaXMudXBweS5sb2coZXJyLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBzdG9wKCkge1xuICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgY29uc3QgYXVkaW9UcmFja3MgPSB0aGlzLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpO1xuICAgICAgY29uc3QgdmlkZW9UcmFja3MgPSB0aGlzLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpO1xuICAgICAgYXVkaW9UcmFja3MuY29uY2F0KHZpZGVvVHJhY2tzKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVjb3JkZXIpIHtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICB0aGlzLnJlY29yZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3AnLCByZXNvbHZlLCB7XG4gICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZWNvcmRlci5zdG9wKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5zaG93UmVjb3JkaW5nTGVuZ3RoKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29yZGluZ0xlbmd0aFRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5yZWNvcmRpbmdDaHVua3MgPSBudWxsO1xuICAgIHRoaXMucmVjb3JkZXIgPSBudWxsO1xuICAgIHRoaXMud2ViY2FtQWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5zdHJlYW0gPSBudWxsO1xuICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgcmVjb3JkZWRWaWRlbzogbnVsbCxcbiAgICAgIGlzUmVjb3JkaW5nOiBmYWxzZSxcbiAgICAgIHJlY29yZGluZ0xlbmd0aFNlY29uZHM6IDBcbiAgICB9KTtcbiAgfVxuXG4gIGdldFZpZGVvRWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcudXBweS1XZWJjYW0tdmlkZW8nKTtcbiAgfVxuXG4gIG9uZVR3b1RocmVlU21pbGUoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBjb3VudCA9IHRoaXMub3B0cy5jb3VudGRvd247IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuXG4gICAgICBjb25zdCBjb3VudERvd24gPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy53ZWJjYW1BY3RpdmUpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGNvdW50RG93bik7XG4gICAgICAgICAgdGhpcy5jYXB0dXJlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKCdXZWJjYW0gaXMgbm90IGFjdGl2ZScpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgICB0aGlzLnVwcHkuaW5mbyhgJHtjb3VudH0uLi5gLCAnd2FybmluZycsIDgwMCk7XG4gICAgICAgICAgY291bnQtLTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGNvdW50RG93bik7XG4gICAgICAgICAgdGhpcy51cHB5LmluZm8odGhpcy5pMThuKCdzbWlsZScpLCAnc3VjY2VzcycsIDE1MDApO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSgpLCAxNTAwKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTAwMCk7XG4gICAgfSk7XG4gIH1cblxuICB0YWtlU25hcHNob3QoKSB7XG4gICAgaWYgKHRoaXMuY2FwdHVyZUluUHJvZ3Jlc3MpIHJldHVybjtcbiAgICB0aGlzLmNhcHR1cmVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICB0aGlzLm9wdHMub25CZWZvcmVTbmFwc2hvdCgpLmNhdGNoKGVyciA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gdHlwZW9mIGVyciA9PT0gJ29iamVjdCcgPyBlcnIubWVzc2FnZSA6IGVycjtcbiAgICAgIHRoaXMudXBweS5pbmZvKG1lc3NhZ2UsICdlcnJvcicsIDUwMDApO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgb25CZWZvcmVTbmFwc2hvdDogJHttZXNzYWdlfWApKTtcbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmdldEltYWdlKCk7XG4gICAgfSkudGhlbih0YWdGaWxlID0+IHtcbiAgICAgIHRoaXMuY2FwdHVyZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy51cHB5LmFkZEZpbGUodGFnRmlsZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gTG9nZ2luZyB0aGUgZXJyb3IsIGV4Y2VwdCByZXN0cmljdGlvbnMsIHdoaWNoIGlzIGhhbmRsZWQgaW4gQ29yZVxuICAgICAgICBpZiAoIWVyci5pc1Jlc3RyaWN0aW9uKSB7XG4gICAgICAgICAgdGhpcy51cHB5LmxvZyhlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgZXJyb3IgPT4ge1xuICAgICAgdGhpcy5jYXB0dXJlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSk7XG4gIH1cblxuICBnZXRJbWFnZSgpIHtcbiAgICBjb25zdCB2aWRlbyA9IHRoaXMuZ2V0VmlkZW9FbGVtZW50KCk7XG5cbiAgICBpZiAoIXZpZGVvKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdObyB2aWRlbyBlbGVtZW50IGZvdW5kLCBsaWtlbHkgZHVlIHRvIHRoZSBXZWJjYW0gdGFiIGJlaW5nIGNsb3NlZC4nKSk7XG4gICAgfVxuXG4gICAgY29uc3Qgd2lkdGggPSB2aWRlby52aWRlb1dpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IHZpZGVvLnZpZGVvSGVpZ2h0O1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmRyYXdJbWFnZSh2aWRlbywgMCwgMCk7XG4gICAgY29uc3Qge1xuICAgICAgcmVzdHJpY3Rpb25zXG4gICAgfSA9IHRoaXMudXBweS5vcHRzO1xuICAgIGxldCBwcmVmZXJyZWRJbWFnZU1pbWVUeXBlcyA9IFtdO1xuXG4gICAgaWYgKHRoaXMub3B0cy5wcmVmZXJyZWRJbWFnZU1pbWVUeXBlKSB7XG4gICAgICBwcmVmZXJyZWRJbWFnZU1pbWVUeXBlcyA9IFt0aGlzLm9wdHMucHJlZmVycmVkSW1hZ2VNaW1lVHlwZV07XG4gICAgfSBlbHNlIGlmIChyZXN0cmljdGlvbnMuYWxsb3dlZEZpbGVUeXBlcykge1xuICAgICAgcHJlZmVycmVkSW1hZ2VNaW1lVHlwZXMgPSByZXN0cmljdGlvbnMuYWxsb3dlZEZpbGVUeXBlcy5tYXAodG9NaW1lVHlwZSkuZmlsdGVyKGlzSW1hZ2VNaW1lVHlwZSk7XG4gICAgfVxuXG4gICAgY29uc3QgbWltZVR5cGUgPSBwcmVmZXJyZWRJbWFnZU1pbWVUeXBlc1swXSB8fCAnaW1hZ2UvanBlZyc7XG4gICAgY29uc3QgZXh0ID0gZ2V0RmlsZVR5cGVFeHRlbnNpb24obWltZVR5cGUpIHx8ICdqcGcnO1xuICAgIGNvbnN0IG5hbWUgPSBgY2FtLSR7RGF0ZS5ub3coKX0uJHtleHR9YDtcbiAgICByZXR1cm4gY2FudmFzVG9CbG9iKGNhbnZhcywgbWltZVR5cGUpLnRoZW4oYmxvYiA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzb3VyY2U6IHRoaXMuaWQsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGRhdGE6IG5ldyBCbG9iKFtibG9iXSwge1xuICAgICAgICAgIHR5cGU6IG1pbWVUeXBlXG4gICAgICAgIH0pLFxuICAgICAgICB0eXBlOiBtaW1lVHlwZVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFZpZGVvKCkge1xuICAgIC8vIFNvbWV0aW1lcyBpbiBpT1MgU2FmYXJpLCBCbG9icyAoZXNwZWNpYWxseSB0aGUgZmlyc3QgQmxvYiBpbiB0aGUgcmVjb3JkaW5nQ2h1bmtzIEFycmF5KVxuICAgIC8vIGhhdmUgZW1wdHkgJ3R5cGUnIGF0dHJpYnV0ZXMgKGUuZy4gJycpIHNvIHdlIG5lZWQgdG8gZmluZCBhIEJsb2IgdGhhdCBoYXMgYSBkZWZpbmVkICd0eXBlJ1xuICAgIC8vIGF0dHJpYnV0ZSBpbiBvcmRlciB0byBkZXRlcm1pbmUgdGhlIGNvcnJlY3QgTUlNRSB0eXBlLlxuICAgIGNvbnN0IG1pbWVUeXBlID0gdGhpcy5yZWNvcmRpbmdDaHVua3MuZmluZChibG9iID0+IHtcbiAgICAgIHZhciBfYmxvYiR0eXBlO1xuXG4gICAgICByZXR1cm4gKChfYmxvYiR0eXBlID0gYmxvYi50eXBlKSA9PSBudWxsID8gdm9pZCAwIDogX2Jsb2IkdHlwZS5sZW5ndGgpID4gMDtcbiAgICB9KS50eXBlO1xuICAgIGNvbnN0IGZpbGVFeHRlbnNpb24gPSBnZXRGaWxlVHlwZUV4dGVuc2lvbihtaW1lVHlwZSk7XG5cbiAgICBpZiAoIWZpbGVFeHRlbnNpb24pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYENvdWxkIG5vdCByZXRyaWV2ZSByZWNvcmRpbmc6IFVuc3VwcG9ydGVkIG1lZGlhIHR5cGUgXCIke21pbWVUeXBlfVwiYCkpO1xuICAgIH1cblxuICAgIGNvbnN0IG5hbWUgPSBgd2ViY2FtLSR7RGF0ZS5ub3coKX0uJHtmaWxlRXh0ZW5zaW9ufWA7XG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKHRoaXMucmVjb3JkaW5nQ2h1bmtzLCB7XG4gICAgICB0eXBlOiBtaW1lVHlwZVxuICAgIH0pO1xuICAgIGNvbnN0IGZpbGUgPSB7XG4gICAgICBzb3VyY2U6IHRoaXMuaWQsXG4gICAgICBuYW1lLFxuICAgICAgZGF0YTogbmV3IEJsb2IoW2Jsb2JdLCB7XG4gICAgICAgIHR5cGU6IG1pbWVUeXBlXG4gICAgICB9KSxcbiAgICAgIHR5cGU6IG1pbWVUeXBlXG4gICAgfTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZpbGUpO1xuICB9XG5cbiAgZm9jdXMoKSB7XG4gICAgaWYgKCF0aGlzLm9wdHMuY291bnRkb3duKSByZXR1cm47XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnVwcHkuaW5mbyh0aGlzLmkxOG4oJ3NtaWxlJyksICdzdWNjZXNzJywgMTUwMCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cblxuICBjaGFuZ2VWaWRlb1NvdXJjZShkZXZpY2VJZCkge1xuICAgIHRoaXMuc3RvcCgpO1xuICAgIHRoaXMuc3RhcnQoe1xuICAgICAgZGV2aWNlSWRcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVZpZGVvU291cmNlcygpIHtcbiAgICB0aGlzLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbihkZXZpY2VzID0+IHtcbiAgICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICB2aWRlb1NvdXJjZXM6IGRldmljZXMuZmlsdGVyKGRldmljZSA9PiBkZXZpY2Uua2luZCA9PT0gJ3ZpZGVvaW5wdXQnKVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLndlYmNhbUFjdGl2ZSkge1xuICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cblxuICAgIGNvbnN0IHdlYmNhbVN0YXRlID0gdGhpcy5nZXRQbHVnaW5TdGF0ZSgpO1xuXG4gICAgaWYgKCF3ZWJjYW1TdGF0ZS5jYW1lcmFSZWFkeSB8fCAhd2ViY2FtU3RhdGUuaGFzQ2FtZXJhKSB7XG4gICAgICByZXR1cm4gaChQZXJtaXNzaW9uc1NjcmVlbiwge1xuICAgICAgICBpY29uOiBDYW1lcmFJY29uLFxuICAgICAgICBpMThuOiB0aGlzLmkxOG4sXG4gICAgICAgIGhhc0NhbWVyYTogd2ViY2FtU3RhdGUuaGFzQ2FtZXJhXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaChDYW1lcmFTY3JlZW4gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2pzeC1wcm9wcy1uby1zcHJlYWRpbmdcbiAgICAsIF9leHRlbmRzKHt9LCB3ZWJjYW1TdGF0ZSwge1xuICAgICAgb25DaGFuZ2VWaWRlb1NvdXJjZTogdGhpcy5jaGFuZ2VWaWRlb1NvdXJjZSxcbiAgICAgIG9uU25hcHNob3Q6IHRoaXMudGFrZVNuYXBzaG90LFxuICAgICAgb25TdGFydFJlY29yZGluZzogdGhpcy5zdGFydFJlY29yZGluZyxcbiAgICAgIG9uU3RvcFJlY29yZGluZzogdGhpcy5zdG9wUmVjb3JkaW5nLFxuICAgICAgb25EaXNjYXJkUmVjb3JkZWRWaWRlbzogdGhpcy5kaXNjYXJkUmVjb3JkZWRWaWRlbyxcbiAgICAgIG9uU3VibWl0OiB0aGlzLnN1Ym1pdCxcbiAgICAgIG9uRm9jdXM6IHRoaXMuZm9jdXMsXG4gICAgICBvblN0b3A6IHRoaXMuc3RvcCxcbiAgICAgIGkxOG46IHRoaXMuaTE4bixcbiAgICAgIG1vZGVzOiB0aGlzLm9wdHMubW9kZXMsXG4gICAgICBzaG93UmVjb3JkaW5nTGVuZ3RoOiB0aGlzLm9wdHMuc2hvd1JlY29yZGluZ0xlbmd0aCxcbiAgICAgIHNob3dWaWRlb1NvdXJjZURyb3Bkb3duOiB0aGlzLm9wdHMuc2hvd1ZpZGVvU291cmNlRHJvcGRvd24sXG4gICAgICBzdXBwb3J0c1JlY29yZGluZzogc3VwcG9ydHNNZWRpYVJlY29yZGVyKCksXG4gICAgICByZWNvcmRpbmc6IHdlYmNhbVN0YXRlLmlzUmVjb3JkaW5nLFxuICAgICAgbWlycm9yOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2VuYWJsZU1pcnJvcilbX2VuYWJsZU1pcnJvcl0sXG4gICAgICBzcmM6IHRoaXMuc3RyZWFtXG4gICAgfSkpO1xuICB9XG5cbiAgaW5zdGFsbCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBtb2JpbGVOYXRpdmVDYW1lcmEsXG4gICAgICBtb2RlcyxcbiAgICAgIGZhY2luZ01vZGUsXG4gICAgICB2aWRlb0NvbnN0cmFpbnRzXG4gICAgfSA9IHRoaXMub3B0cztcbiAgICBjb25zdCB7XG4gICAgICB0YXJnZXRcbiAgICB9ID0gdGhpcy5vcHRzO1xuXG4gICAgaWYgKG1vYmlsZU5hdGl2ZUNhbWVyYSAmJiB0YXJnZXQpIHtcbiAgICAgIHZhciBfdGhpcyRnZXRUYXJnZXRQbHVnaW47XG5cbiAgICAgIChfdGhpcyRnZXRUYXJnZXRQbHVnaW4gPSB0aGlzLmdldFRhcmdldFBsdWdpbih0YXJnZXQpKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkZ2V0VGFyZ2V0UGx1Z2luLnNldE9wdGlvbnMoe1xuICAgICAgICBzaG93TmF0aXZlVmlkZW9DYW1lcmFCdXR0b246IGlzTW9kZUF2YWlsYWJsZShtb2RlcywgJ3ZpZGVvLW9ubHknKSB8fCBpc01vZGVBdmFpbGFibGUobW9kZXMsICd2aWRlby1hdWRpbycpLFxuICAgICAgICBzaG93TmF0aXZlUGhvdG9DYW1lcmFCdXR0b246IGlzTW9kZUF2YWlsYWJsZShtb2RlcywgJ3BpY3R1cmUnKSxcbiAgICAgICAgbmF0aXZlQ2FtZXJhRmFjaW5nTW9kZTogKHZpZGVvQ29uc3RyYWludHMgPT0gbnVsbCA/IHZvaWQgMCA6IHZpZGVvQ29uc3RyYWludHMuZmFjaW5nTW9kZSkgfHwgZmFjaW5nTW9kZVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRQbHVnaW5TdGF0ZSh7XG4gICAgICBjYW1lcmFSZWFkeTogZmFsc2UsXG4gICAgICByZWNvcmRpbmdMZW5ndGhTZWNvbmRzOiAwXG4gICAgfSk7XG5cbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICB0aGlzLm1vdW50KHRhcmdldCwgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubWVkaWFEZXZpY2VzKSB7XG4gICAgICB0aGlzLnVwZGF0ZVZpZGVvU291cmNlcygpO1xuXG4gICAgICB0aGlzLm1lZGlhRGV2aWNlcy5vbmRldmljZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVWaWRlb1NvdXJjZXMoKTtcblxuICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICBsZXQgcmVzdGFydFN0cmVhbSA9IHRydWU7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgdmlkZW9Tb3VyY2VzLFxuICAgICAgICAgICAgY3VycmVudERldmljZUlkXG4gICAgICAgICAgfSA9IHRoaXMuZ2V0UGx1Z2luU3RhdGUoKTtcbiAgICAgICAgICB2aWRlb1NvdXJjZXMuZm9yRWFjaCh2aWRlb1NvdXJjZSA9PiB7XG4gICAgICAgICAgICBpZiAoY3VycmVudERldmljZUlkID09PSB2aWRlb1NvdXJjZS5kZXZpY2VJZCkge1xuICAgICAgICAgICAgICByZXN0YXJ0U3RyZWFtID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAocmVzdGFydFN0cmVhbSkge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHVuaW5zdGFsbCgpIHtcbiAgICB0aGlzLnN0b3AoKTtcbiAgICB0aGlzLnVubW91bnQoKTtcbiAgfVxuXG4gIG9uVW5tb3VudCgpIHtcbiAgICB0aGlzLnN0b3AoKTtcbiAgfVxuXG59XG5XZWJjYW0uVkVSU0lPTiA9IHBhY2thZ2VKc29uLnZlcnNpb247IiwiLyoqXG4gKiBUYWtlcyBhbiBJbnRlZ2VyIHZhbHVlIG9mIHNlY29uZHMgKGUuZy4gODMpIGFuZCBjb252ZXJ0cyBpdCBpbnRvIGEgaHVtYW4tcmVhZGFibGUgZm9ybWF0dGVkIHN0cmluZyAoZS5nLiAnMToyMycpLlxuICpcbiAqIEBwYXJhbSB7SW50ZWdlcn0gc2Vjb25kc1xuICogQHJldHVybnMge3N0cmluZ30gdGhlIGZvcm1hdHRlZCBzZWNvbmRzIChlLmcuICcxOjIzJyBmb3IgMSBtaW51dGUgYW5kIDIzIHNlY29uZHMpXG4gKlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXRTZWNvbmRzKHNlY29uZHMpIHtcbiAgcmV0dXJuIGAke01hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKX06JHtTdHJpbmcoc2Vjb25kcyAlIDYwKS5wYWRTdGFydCgyLCAwKX1gO1xufSIsImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tIFwiLi9XZWJjYW0uanNcIjsiLCJleHBvcnQgZGVmYXVsdCB7XG4gIHN0cmluZ3M6IHtcbiAgICBwbHVnaW5OYW1lQ2FtZXJhOiAnQ2FtZXJhJyxcbiAgICBub0NhbWVyYVRpdGxlOiAnQ2FtZXJhIE5vdCBBdmFpbGFibGUnLFxuICAgIG5vQ2FtZXJhRGVzY3JpcHRpb246ICdJbiBvcmRlciB0byB0YWtlIHBpY3R1cmVzIG9yIHJlY29yZCB2aWRlbywgcGxlYXNlIGNvbm5lY3QgYSBjYW1lcmEgZGV2aWNlJyxcbiAgICByZWNvcmRpbmdTdG9wcGVkTWF4U2l6ZTogJ1JlY29yZGluZyBzdG9wcGVkIGJlY2F1c2UgdGhlIGZpbGUgc2l6ZSBpcyBhYm91dCB0byBleGNlZWQgdGhlIGxpbWl0JyxcbiAgICBzdWJtaXRSZWNvcmRlZEZpbGU6ICdTdWJtaXQgcmVjb3JkZWQgZmlsZScsXG4gICAgZGlzY2FyZFJlY29yZGVkRmlsZTogJ0Rpc2NhcmQgcmVjb3JkZWQgZmlsZScsXG4gICAgLy8gU2hvd24gYmVmb3JlIGEgcGljdHVyZSBpcyB0YWtlbiB3aGVuIHRoZSBgY291bnRkb3duYCBvcHRpb24gaXMgc2V0LlxuICAgIHNtaWxlOiAnU21pbGUhJyxcbiAgICAvLyBVc2VkIGFzIHRoZSBsYWJlbCBmb3IgdGhlIGJ1dHRvbiB0aGF0IHRha2VzIGEgcGljdHVyZS5cbiAgICAvLyBUaGlzIGlzIG5vdCB2aXNpYmx5IHJlbmRlcmVkIGJ1dCBpcyBwaWNrZWQgdXAgYnkgc2NyZWVuIHJlYWRlcnMuXG4gICAgdGFrZVBpY3R1cmU6ICdUYWtlIGEgcGljdHVyZScsXG4gICAgLy8gVXNlZCBhcyB0aGUgbGFiZWwgZm9yIHRoZSBidXR0b24gdGhhdCBzdGFydHMgYSB2aWRlbyByZWNvcmRpbmcuXG4gICAgLy8gVGhpcyBpcyBub3QgdmlzaWJseSByZW5kZXJlZCBidXQgaXMgcGlja2VkIHVwIGJ5IHNjcmVlbiByZWFkZXJzLlxuICAgIHN0YXJ0UmVjb3JkaW5nOiAnQmVnaW4gdmlkZW8gcmVjb3JkaW5nJyxcbiAgICAvLyBVc2VkIGFzIHRoZSBsYWJlbCBmb3IgdGhlIGJ1dHRvbiB0aGF0IHN0b3BzIGEgdmlkZW8gcmVjb3JkaW5nLlxuICAgIC8vIFRoaXMgaXMgbm90IHZpc2libHkgcmVuZGVyZWQgYnV0IGlzIHBpY2tlZCB1cCBieSBzY3JlZW4gcmVhZGVycy5cbiAgICBzdG9wUmVjb3JkaW5nOiAnU3RvcCB2aWRlbyByZWNvcmRpbmcnLFxuICAgIC8vIFVzZWQgYXMgdGhlIGxhYmVsIGZvciB0aGUgcmVjb3JkaW5nIGxlbmd0aCBjb3VudGVyLiBTZWUgdGhlIHNob3dSZWNvcmRpbmdMZW5ndGggb3B0aW9uLlxuICAgIC8vIFRoaXMgaXMgbm90IHZpc2libHkgcmVuZGVyZWQgYnV0IGlzIHBpY2tlZCB1cCBieSBzY3JlZW4gcmVhZGVycy5cbiAgICByZWNvcmRpbmdMZW5ndGg6ICdSZWNvcmRpbmcgbGVuZ3RoICV7cmVjb3JkaW5nX2xlbmd0aH0nLFxuICAgIC8vIFRpdGxlIG9uIHRoZSDigJxhbGxvdyBhY2Nlc3PigJ0gc2NyZWVuXG4gICAgYWxsb3dBY2Nlc3NUaXRsZTogJ1BsZWFzZSBhbGxvdyBhY2Nlc3MgdG8geW91ciBjYW1lcmEnLFxuICAgIC8vIERlc2NyaXB0aW9uIG9uIHRoZSDigJxhbGxvdyBhY2Nlc3PigJ0gc2NyZWVuXG4gICAgYWxsb3dBY2Nlc3NEZXNjcmlwdGlvbjogJ0luIG9yZGVyIHRvIHRha2UgcGljdHVyZXMgb3IgcmVjb3JkIHZpZGVvIHdpdGggeW91ciBjYW1lcmEsIHBsZWFzZSBhbGxvdyBjYW1lcmEgYWNjZXNzIGZvciB0aGlzIHNpdGUuJ1xuICB9XG59OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN1cHBvcnRzTWVkaWFSZWNvcmRlcigpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgY29tcGF0L2NvbXBhdCAqL1xuICByZXR1cm4gdHlwZW9mIE1lZGlhUmVjb3JkZXIgPT09ICdmdW5jdGlvbicgJiYgISFNZWRpYVJlY29yZGVyLnByb3RvdHlwZSAmJiB0eXBlb2YgTWVkaWFSZWNvcmRlci5wcm90b3R5cGUuc3RhcnQgPT09ICdmdW5jdGlvbic7XG4gIC8qIGVzbGludC1lbmFibGUgY29tcGF0L2NvbXBhdCAqL1xufSIsImZ1bmN0aW9uIGUoZSx0LHMpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cyxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cyxlfXZhciB0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6Z2xvYmFsO2NvbnN0IHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvcixpPXMmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBIVE1MSW1hZ2VFbGVtZW50LG49IShcInVuZGVmaW5lZFwiPT10eXBlb2YgZ2xvYmFsfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgcHJvY2Vzc3x8IXByb2Nlc3MudmVyc2lvbnN8fCFwcm9jZXNzLnZlcnNpb25zLm5vZGUpLHI9dC5CdWZmZXIsYT0hIXIsaD1lPT52b2lkIDAhPT1lO2Z1bmN0aW9uIGYoZSl7cmV0dXJuIHZvaWQgMD09PWV8fChlIGluc3RhbmNlb2YgTWFwPzA9PT1lLnNpemU6MD09PU9iamVjdC52YWx1ZXMoZSkuZmlsdGVyKGgpLmxlbmd0aCl9ZnVuY3Rpb24gbChlKXtsZXQgdD1uZXcgRXJyb3IoZSk7dGhyb3cgZGVsZXRlIHQuc3RhY2ssdH1mdW5jdGlvbiBvKGUpe2xldCB0PWZ1bmN0aW9uKGUpe2xldCB0PTA7cmV0dXJuIGUuaWZkMC5lbmFibGVkJiYodCs9MTAyNCksZS5leGlmLmVuYWJsZWQmJih0Kz0yMDQ4KSxlLm1ha2VyTm90ZSYmKHQrPTIwNDgpLGUudXNlckNvbW1lbnQmJih0Kz0xMDI0KSxlLmdwcy5lbmFibGVkJiYodCs9NTEyKSxlLmludGVyb3AuZW5hYmxlZCYmKHQrPTEwMCksZS5pZmQxLmVuYWJsZWQmJih0Kz0xMDI0KSx0KzIwNDh9KGUpO3JldHVybiBlLmpmaWYuZW5hYmxlZCYmKHQrPTUwKSxlLnhtcC5lbmFibGVkJiYodCs9MmU0KSxlLmlwdGMuZW5hYmxlZCYmKHQrPTE0ZTMpLGUuaWNjLmVuYWJsZWQmJih0Kz02ZTMpLHR9Y29uc3QgdT1lPT5TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsZSksZD1cInVuZGVmaW5lZFwiIT10eXBlb2YgVGV4dERlY29kZXI/bmV3IFRleHREZWNvZGVyKFwidXRmLThcIik6dm9pZCAwO2NsYXNzIGN7c3RhdGljIGZyb20oZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIHRoaXMmJmUubGU9PT10P2U6bmV3IGMoZSx2b2lkIDAsdm9pZCAwLHQpfWNvbnN0cnVjdG9yKGUsdD0wLHMsaSl7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBpJiYodGhpcy5sZT1pKSxBcnJheS5pc0FycmF5KGUpJiYoZT1uZXcgVWludDhBcnJheShlKSksMD09PWUpdGhpcy5ieXRlT2Zmc2V0PTAsdGhpcy5ieXRlTGVuZ3RoPTA7ZWxzZSBpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3ZvaWQgMD09PXMmJihzPWUuYnl0ZUxlbmd0aC10KTtsZXQgaT1uZXcgRGF0YVZpZXcoZSx0LHMpO3RoaXMuX3N3YXBEYXRhVmlldyhpKX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxlIGluc3RhbmNlb2YgRGF0YVZpZXd8fGUgaW5zdGFuY2VvZiBjKXt2b2lkIDA9PT1zJiYocz1lLmJ5dGVMZW5ndGgtdCksKHQrPWUuYnl0ZU9mZnNldCkrcz5lLmJ5dGVPZmZzZXQrZS5ieXRlTGVuZ3RoJiZsKFwiQ3JlYXRpbmcgdmlldyBvdXRzaWRlIG9mIGF2YWlsYWJsZSBtZW1vcnkgaW4gQXJyYXlCdWZmZXJcIik7bGV0IGk9bmV3IERhdGFWaWV3KGUuYnVmZmVyLHQscyk7dGhpcy5fc3dhcERhdGFWaWV3KGkpfWVsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIGUpe2xldCB0PW5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoZSkpO3RoaXMuX3N3YXBEYXRhVmlldyh0KX1lbHNlIGwoXCJJbnZhbGlkIGlucHV0IGFyZ3VtZW50IGZvciBCdWZmZXJWaWV3OiBcIitlKX1fc3dhcEFycmF5QnVmZmVyKGUpe3RoaXMuX3N3YXBEYXRhVmlldyhuZXcgRGF0YVZpZXcoZSkpfV9zd2FwQnVmZmVyKGUpe3RoaXMuX3N3YXBEYXRhVmlldyhuZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCkpfV9zd2FwRGF0YVZpZXcoZSl7dGhpcy5kYXRhVmlldz1lLHRoaXMuYnVmZmVyPWUuYnVmZmVyLHRoaXMuYnl0ZU9mZnNldD1lLmJ5dGVPZmZzZXQsdGhpcy5ieXRlTGVuZ3RoPWUuYnl0ZUxlbmd0aH1fbGVuZ3RoVG9FbmQoZSl7cmV0dXJuIHRoaXMuYnl0ZUxlbmd0aC1lfXNldChlLHQscz1jKXtyZXR1cm4gZSBpbnN0YW5jZW9mIERhdGFWaWV3fHxlIGluc3RhbmNlb2YgYz9lPW5ldyBVaW50OEFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpOmUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGU9bmV3IFVpbnQ4QXJyYXkoZSkpLGUgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxsKFwiQnVmZmVyVmlldy5zZXQoKTogSW52YWxpZCBkYXRhIGFyZ3VtZW50LlwiKSx0aGlzLnRvVWludDgoKS5zZXQoZSx0KSxuZXcgcyh0aGlzLHQsZS5ieXRlTGVuZ3RoKX1zdWJhcnJheShlLHQpe3JldHVybiB0PXR8fHRoaXMuX2xlbmd0aFRvRW5kKGUpLG5ldyBjKHRoaXMsZSx0KX10b1VpbnQ4KCl7cmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyLHRoaXMuYnl0ZU9mZnNldCx0aGlzLmJ5dGVMZW5ndGgpfWdldFVpbnQ4QXJyYXkoZSx0KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsdGhpcy5ieXRlT2Zmc2V0K2UsdCl9Z2V0U3RyaW5nKGU9MCx0PXRoaXMuYnl0ZUxlbmd0aCl7bGV0IHM9dGhpcy5nZXRVaW50OEFycmF5KGUsdCk7cmV0dXJuIGk9cyxkP2QuZGVjb2RlKGkpOmE/QnVmZmVyLmZyb20oaSkudG9TdHJpbmcoXCJ1dGY4XCIpOmRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUodShpKSkpO3ZhciBpfWdldExhdGluMVN0cmluZyhlPTAsdD10aGlzLmJ5dGVMZW5ndGgpe2xldCBzPXRoaXMuZ2V0VWludDhBcnJheShlLHQpO3JldHVybiB1KHMpfWdldFVuaWNvZGVTdHJpbmcoZT0wLHQ9dGhpcy5ieXRlTGVuZ3RoKXtjb25zdCBzPVtdO2ZvcihsZXQgaT0wO2k8dCYmZStpPHRoaXMuYnl0ZUxlbmd0aDtpKz0yKXMucHVzaCh0aGlzLmdldFVpbnQxNihlK2kpKTtyZXR1cm4gdShzKX1nZXRJbnQ4KGUpe3JldHVybiB0aGlzLmRhdGFWaWV3LmdldEludDgoZSl9Z2V0VWludDgoZSl7cmV0dXJuIHRoaXMuZGF0YVZpZXcuZ2V0VWludDgoZSl9Z2V0SW50MTYoZSx0PXRoaXMubGUpe3JldHVybiB0aGlzLmRhdGFWaWV3LmdldEludDE2KGUsdCl9Z2V0SW50MzIoZSx0PXRoaXMubGUpe3JldHVybiB0aGlzLmRhdGFWaWV3LmdldEludDMyKGUsdCl9Z2V0VWludDE2KGUsdD10aGlzLmxlKXtyZXR1cm4gdGhpcy5kYXRhVmlldy5nZXRVaW50MTYoZSx0KX1nZXRVaW50MzIoZSx0PXRoaXMubGUpe3JldHVybiB0aGlzLmRhdGFWaWV3LmdldFVpbnQzMihlLHQpfWdldEZsb2F0MzIoZSx0PXRoaXMubGUpe3JldHVybiB0aGlzLmRhdGFWaWV3LmdldEZsb2F0MzIoZSx0KX1nZXRGbG9hdDY0KGUsdD10aGlzLmxlKXtyZXR1cm4gdGhpcy5kYXRhVmlldy5nZXRGbG9hdDY0KGUsdCl9Z2V0RmxvYXQoZSx0PXRoaXMubGUpe3JldHVybiB0aGlzLmRhdGFWaWV3LmdldEZsb2F0MzIoZSx0KX1nZXREb3VibGUoZSx0PXRoaXMubGUpe3JldHVybiB0aGlzLmRhdGFWaWV3LmdldEZsb2F0NjQoZSx0KX1nZXRVaW50Qnl0ZXMoZSx0LHMpe3N3aXRjaCh0KXtjYXNlIDE6cmV0dXJuIHRoaXMuZ2V0VWludDgoZSxzKTtjYXNlIDI6cmV0dXJuIHRoaXMuZ2V0VWludDE2KGUscyk7Y2FzZSA0OnJldHVybiB0aGlzLmdldFVpbnQzMihlLHMpO2Nhc2UgODpyZXR1cm4gdGhpcy5nZXRVaW50NjQmJnRoaXMuZ2V0VWludDY0KGUscyl9fWdldFVpbnQoZSx0LHMpe3N3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuZ2V0VWludDgoZSxzKTtjYXNlIDE2OnJldHVybiB0aGlzLmdldFVpbnQxNihlLHMpO2Nhc2UgMzI6cmV0dXJuIHRoaXMuZ2V0VWludDMyKGUscyk7Y2FzZSA2NDpyZXR1cm4gdGhpcy5nZXRVaW50NjQmJnRoaXMuZ2V0VWludDY0KGUscyl9fXRvU3RyaW5nKGUpe3JldHVybiB0aGlzLmRhdGFWaWV3LnRvU3RyaW5nKGUsdGhpcy5jb25zdHJ1Y3Rvci5uYW1lKX1lbnN1cmVDaHVuaygpe319ZnVuY3Rpb24gcChlLHQpe2woYCR7ZX0gJyR7dH0nIHdhcyBub3QgbG9hZGVkLCB0cnkgdXNpbmcgZnVsbCBidWlsZCBvZiBleGlmci5gKX1jbGFzcyBnIGV4dGVuZHMgTWFwe2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5raW5kPWV9Z2V0KGUsdCl7cmV0dXJuIHRoaXMuaGFzKGUpfHxwKHRoaXMua2luZCxlKSx0JiYoZSBpbiB0fHxmdW5jdGlvbihlLHQpe2woYFVua25vd24gJHtlfSAnJHt0fScuYCl9KHRoaXMua2luZCxlKSx0W2VdLmVuYWJsZWR8fHAodGhpcy5raW5kLGUpKSxzdXBlci5nZXQoZSl9a2V5TGlzdCgpe3JldHVybiBBcnJheS5mcm9tKHRoaXMua2V5cygpKX19dmFyIG09bmV3IGcoXCJmaWxlIHBhcnNlclwiKSx5PW5ldyBnKFwic2VnbWVudCBwYXJzZXJcIiksYj1uZXcgZyhcImZpbGUgcmVhZGVyXCIpO2xldCB3PXQuZmV0Y2g7ZnVuY3Rpb24gayhlLHQpe3JldHVybihpPWUpLnN0YXJ0c1dpdGgoXCJkYXRhOlwiKXx8aS5sZW5ndGg+MWU0P3YoZSx0LFwiYmFzZTY0XCIpOm4mJmUuaW5jbHVkZXMoXCI6Ly9cIik/TyhlLHQsXCJ1cmxcIixTKTpuP3YoZSx0LFwiZnNcIik6cz9PKGUsdCxcInVybFwiLFMpOnZvaWQgbChcIkludmFsaWQgaW5wdXQgYXJndW1lbnRcIik7dmFyIGl9YXN5bmMgZnVuY3Rpb24gTyhlLHQscyxpKXtyZXR1cm4gYi5oYXMocyk/dihlLHQscyk6aT9hc3luYyBmdW5jdGlvbihlLHQpe2xldCBzPWF3YWl0IHQoZSk7cmV0dXJuIG5ldyBjKHMpfShlLGkpOnZvaWQgbChgUGFyc2VyICR7c30gaXMgbm90IGxvYWRlZGApfWFzeW5jIGZ1bmN0aW9uIHYoZSx0LHMpe2xldCBpPW5ldyhiLmdldChzKSkoZSx0KTtyZXR1cm4gYXdhaXQgaS5yZWFkKCksaX1jb25zdCBTPWU9PncoZSkudGhlbigoZT0+ZS5hcnJheUJ1ZmZlcigpKSksQT1lPT5uZXcgUHJvbWlzZSgoKHQscyk9PntsZXQgaT1uZXcgRmlsZVJlYWRlcjtpLm9ubG9hZGVuZD0oKT0+dChpLnJlc3VsdHx8bmV3IEFycmF5QnVmZmVyKSxpLm9uZXJyb3I9cyxpLnJlYWRBc0FycmF5QnVmZmVyKGUpfSkpO2NsYXNzIFUgZXh0ZW5kcyBNYXB7Z2V0IHRhZ0tleXMoKXtyZXR1cm4gdGhpcy5hbGxLZXlzfHwodGhpcy5hbGxLZXlzPUFycmF5LmZyb20odGhpcy5rZXlzKCkpKSx0aGlzLmFsbEtleXN9Z2V0IHRhZ1ZhbHVlcygpe3JldHVybiB0aGlzLmFsbFZhbHVlc3x8KHRoaXMuYWxsVmFsdWVzPUFycmF5LmZyb20odGhpcy52YWx1ZXMoKSkpLHRoaXMuYWxsVmFsdWVzfX1mdW5jdGlvbiB4KGUsdCxzKXtsZXQgaT1uZXcgVTtmb3IobGV0W2UsdF1vZiBzKWkuc2V0KGUsdCk7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IobGV0IHMgb2YgdCllLnNldChzLGkpO2Vsc2UgZS5zZXQodCxpKTtyZXR1cm4gaX1mdW5jdGlvbiBDKGUsdCxzKXtsZXQgaSxuPWUuZ2V0KHQpO2ZvcihpIG9mIHMpbi5zZXQoaVswXSxpWzFdKX1jb25zdCBCPW5ldyBNYXAsVj1uZXcgTWFwLEk9bmV3IE1hcCxMPVtcImNodW5rZWRcIixcImZpcnN0Q2h1bmtTaXplXCIsXCJmaXJzdENodW5rU2l6ZU5vZGVcIixcImZpcnN0Q2h1bmtTaXplQnJvd3NlclwiLFwiY2h1bmtTaXplXCIsXCJjaHVua0xpbWl0XCJdLFQ9W1wiamZpZlwiLFwieG1wXCIsXCJpY2NcIixcImlwdGNcIixcImloZHJcIl0sej1bXCJ0aWZmXCIsLi4uVF0sUD1bXCJpZmQwXCIsXCJpZmQxXCIsXCJleGlmXCIsXCJncHNcIixcImludGVyb3BcIl0sRj1bLi4ueiwuLi5QXSxqPVtcIm1ha2VyTm90ZVwiLFwidXNlckNvbW1lbnRcIl0sRT1bXCJ0cmFuc2xhdGVLZXlzXCIsXCJ0cmFuc2xhdGVWYWx1ZXNcIixcInJldml2ZVZhbHVlc1wiLFwibXVsdGlTZWdtZW50XCJdLE09Wy4uLkUsXCJzYW5pdGl6ZVwiLFwibWVyZ2VPdXRwdXRcIixcInNpbGVudEVycm9yc1wiXTtjbGFzcyBfe2dldCB0cmFuc2xhdGUoKXtyZXR1cm4gdGhpcy50cmFuc2xhdGVLZXlzfHx0aGlzLnRyYW5zbGF0ZVZhbHVlc3x8dGhpcy5yZXZpdmVWYWx1ZXN9fWNsYXNzIEQgZXh0ZW5kcyBfe2dldCBuZWVkZWQoKXtyZXR1cm4gdGhpcy5lbmFibGVkfHx0aGlzLmRlcHMuc2l6ZT4wfWNvbnN0cnVjdG9yKHQscyxpLG4pe2lmKHN1cGVyKCksZSh0aGlzLFwiZW5hYmxlZFwiLCExKSxlKHRoaXMsXCJza2lwXCIsbmV3IFNldCksZSh0aGlzLFwicGlja1wiLG5ldyBTZXQpLGUodGhpcyxcImRlcHNcIixuZXcgU2V0KSxlKHRoaXMsXCJ0cmFuc2xhdGVLZXlzXCIsITEpLGUodGhpcyxcInRyYW5zbGF0ZVZhbHVlc1wiLCExKSxlKHRoaXMsXCJyZXZpdmVWYWx1ZXNcIiwhMSksdGhpcy5rZXk9dCx0aGlzLmVuYWJsZWQ9cyx0aGlzLnBhcnNlPXRoaXMuZW5hYmxlZCx0aGlzLmFwcGx5SW5oZXJpdGFibGVzKG4pLHRoaXMuY2FuQmVGaWx0ZXJlZD1QLmluY2x1ZGVzKHQpLHRoaXMuY2FuQmVGaWx0ZXJlZCYmKHRoaXMuZGljdD1CLmdldCh0KSksdm9pZCAwIT09aSlpZihBcnJheS5pc0FycmF5KGkpKXRoaXMucGFyc2U9dGhpcy5lbmFibGVkPSEwLHRoaXMuY2FuQmVGaWx0ZXJlZCYmaS5sZW5ndGg+MCYmdGhpcy50cmFuc2xhdGVUYWdTZXQoaSx0aGlzLnBpY2spO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGkpe2lmKHRoaXMuZW5hYmxlZD0hMCx0aGlzLnBhcnNlPSExIT09aS5wYXJzZSx0aGlzLmNhbkJlRmlsdGVyZWQpe2xldHtwaWNrOmUsc2tpcDp0fT1pO2UmJmUubGVuZ3RoPjAmJnRoaXMudHJhbnNsYXRlVGFnU2V0KGUsdGhpcy5waWNrKSx0JiZ0Lmxlbmd0aD4wJiZ0aGlzLnRyYW5zbGF0ZVRhZ1NldCh0LHRoaXMuc2tpcCl9dGhpcy5hcHBseUluaGVyaXRhYmxlcyhpKX1lbHNlITA9PT1pfHwhMT09PWk/dGhpcy5wYXJzZT10aGlzLmVuYWJsZWQ9aTpsKGBJbnZhbGlkIG9wdGlvbnMgYXJndW1lbnQ6ICR7aX1gKX1hcHBseUluaGVyaXRhYmxlcyhlKXtsZXQgdCxzO2Zvcih0IG9mIEUpcz1lW3RdLHZvaWQgMCE9PXMmJih0aGlzW3RdPXMpfXRyYW5zbGF0ZVRhZ1NldChlLHQpe2lmKHRoaXMuZGljdCl7bGV0IHMsaSx7dGFnS2V5czpuLHRhZ1ZhbHVlczpyfT10aGlzLmRpY3Q7Zm9yKHMgb2YgZSlcInN0cmluZ1wiPT10eXBlb2Ygcz8oaT1yLmluZGV4T2YocyksLTE9PT1pJiYoaT1uLmluZGV4T2YoTnVtYmVyKHMpKSksLTEhPT1pJiZ0LmFkZChOdW1iZXIobltpXSkpKTp0LmFkZChzKX1lbHNlIGZvcihsZXQgcyBvZiBlKXQuYWRkKHMpfWZpbmFsaXplRmlsdGVycygpeyF0aGlzLmVuYWJsZWQmJnRoaXMuZGVwcy5zaXplPjA/KHRoaXMuZW5hYmxlZD0hMCxYKHRoaXMucGljayx0aGlzLmRlcHMpKTp0aGlzLmVuYWJsZWQmJnRoaXMucGljay5zaXplPjAmJlgodGhpcy5waWNrLHRoaXMuZGVwcyl9fXZhciBOPXtqZmlmOiExLHRpZmY6ITAseG1wOiExLGljYzohMSxpcHRjOiExLGlmZDA6ITAsaWZkMTohMSxleGlmOiEwLGdwczohMCxpbnRlcm9wOiExLGloZHI6dm9pZCAwLG1ha2VyTm90ZTohMSx1c2VyQ29tbWVudDohMSxtdWx0aVNlZ21lbnQ6ITEsc2tpcDpbXSxwaWNrOltdLHRyYW5zbGF0ZUtleXM6ITAsdHJhbnNsYXRlVmFsdWVzOiEwLHJldml2ZVZhbHVlczohMCxzYW5pdGl6ZTohMCxtZXJnZU91dHB1dDohMCxzaWxlbnRFcnJvcnM6ITAsY2h1bmtlZDohMCxmaXJzdENodW5rU2l6ZTp2b2lkIDAsZmlyc3RDaHVua1NpemVOb2RlOjUxMixmaXJzdENodW5rU2l6ZUJyb3dzZXI6NjU1MzYsY2h1bmtTaXplOjY1NTM2LGNodW5rTGltaXQ6NX0sJD1uZXcgTWFwO2NsYXNzIFIgZXh0ZW5kcyBfe3N0YXRpYyB1c2VDYWNoZWQoZSl7bGV0IHQ9JC5nZXQoZSk7cmV0dXJuIHZvaWQgMCE9PXR8fCh0PW5ldyB0aGlzKGUpLCQuc2V0KGUsdCkpLHR9Y29uc3RydWN0b3IoZSl7c3VwZXIoKSwhMD09PWU/dGhpcy5zZXR1cEZyb21UcnVlKCk6dm9pZCAwPT09ZT90aGlzLnNldHVwRnJvbVVuZGVmaW5lZCgpOkFycmF5LmlzQXJyYXkoZSk/dGhpcy5zZXR1cEZyb21BcnJheShlKTpcIm9iamVjdFwiPT10eXBlb2YgZT90aGlzLnNldHVwRnJvbU9iamVjdChlKTpsKGBJbnZhbGlkIG9wdGlvbnMgYXJndW1lbnQgJHtlfWApLHZvaWQgMD09PXRoaXMuZmlyc3RDaHVua1NpemUmJih0aGlzLmZpcnN0Q2h1bmtTaXplPXM/dGhpcy5maXJzdENodW5rU2l6ZUJyb3dzZXI6dGhpcy5maXJzdENodW5rU2l6ZU5vZGUpLHRoaXMubWVyZ2VPdXRwdXQmJih0aGlzLmlmZDEuZW5hYmxlZD0hMSksdGhpcy5maWx0ZXJOZXN0ZWRTZWdtZW50VGFncygpLHRoaXMudHJhdmVyc2VUaWZmRGVwZW5kZW5jeVRyZWUoKSx0aGlzLmNoZWNrTG9hZGVkUGx1Z2lucygpfXNldHVwRnJvbVVuZGVmaW5lZCgpe2xldCBlO2ZvcihlIG9mIEwpdGhpc1tlXT1OW2VdO2ZvcihlIG9mIE0pdGhpc1tlXT1OW2VdO2ZvcihlIG9mIGopdGhpc1tlXT1OW2VdO2ZvcihlIG9mIEYpdGhpc1tlXT1uZXcgRChlLE5bZV0sdm9pZCAwLHRoaXMpfXNldHVwRnJvbVRydWUoKXtsZXQgZTtmb3IoZSBvZiBMKXRoaXNbZV09TltlXTtmb3IoZSBvZiBNKXRoaXNbZV09TltlXTtmb3IoZSBvZiBqKXRoaXNbZV09ITA7Zm9yKGUgb2YgRil0aGlzW2VdPW5ldyBEKGUsITAsdm9pZCAwLHRoaXMpfXNldHVwRnJvbUFycmF5KGUpe2xldCB0O2Zvcih0IG9mIEwpdGhpc1t0XT1OW3RdO2Zvcih0IG9mIE0pdGhpc1t0XT1OW3RdO2Zvcih0IG9mIGopdGhpc1t0XT1OW3RdO2Zvcih0IG9mIEYpdGhpc1t0XT1uZXcgRCh0LCExLHZvaWQgMCx0aGlzKTt0aGlzLnNldHVwR2xvYmFsRmlsdGVycyhlLHZvaWQgMCxQKX1zZXR1cEZyb21PYmplY3QoZSl7bGV0IHQ7Zm9yKHQgb2YoUC5pZmQwPVAuaWZkMHx8UC5pbWFnZSxQLmlmZDE9UC5pZmQxfHxQLnRodW1ibmFpbCxPYmplY3QuYXNzaWduKHRoaXMsZSksTCkpdGhpc1t0XT1XKGVbdF0sTlt0XSk7Zm9yKHQgb2YgTSl0aGlzW3RdPVcoZVt0XSxOW3RdKTtmb3IodCBvZiBqKXRoaXNbdF09VyhlW3RdLE5bdF0pO2Zvcih0IG9mIHopdGhpc1t0XT1uZXcgRCh0LE5bdF0sZVt0XSx0aGlzKTtmb3IodCBvZiBQKXRoaXNbdF09bmV3IEQodCxOW3RdLGVbdF0sdGhpcy50aWZmKTt0aGlzLnNldHVwR2xvYmFsRmlsdGVycyhlLnBpY2ssZS5za2lwLFAsRiksITA9PT1lLnRpZmY/dGhpcy5iYXRjaEVuYWJsZVdpdGhCb29sKFAsITApOiExPT09ZS50aWZmP3RoaXMuYmF0Y2hFbmFibGVXaXRoVXNlclZhbHVlKFAsZSk6QXJyYXkuaXNBcnJheShlLnRpZmYpP3RoaXMuc2V0dXBHbG9iYWxGaWx0ZXJzKGUudGlmZix2b2lkIDAsUCk6XCJvYmplY3RcIj09dHlwZW9mIGUudGlmZiYmdGhpcy5zZXR1cEdsb2JhbEZpbHRlcnMoZS50aWZmLnBpY2ssZS50aWZmLnNraXAsUCl9YmF0Y2hFbmFibGVXaXRoQm9vbChlLHQpe2ZvcihsZXQgcyBvZiBlKXRoaXNbc10uZW5hYmxlZD10fWJhdGNoRW5hYmxlV2l0aFVzZXJWYWx1ZShlLHQpe2ZvcihsZXQgcyBvZiBlKXtsZXQgZT10W3NdO3RoaXNbc10uZW5hYmxlZD0hMSE9PWUmJnZvaWQgMCE9PWV9fXNldHVwR2xvYmFsRmlsdGVycyhlLHQscyxpPXMpe2lmKGUmJmUubGVuZ3RoKXtmb3IobGV0IGUgb2YgaSl0aGlzW2VdLmVuYWJsZWQ9ITE7bGV0IHQ9SyhlLHMpO2ZvcihsZXRbZSxzXW9mIHQpWCh0aGlzW2VdLnBpY2sscyksdGhpc1tlXS5lbmFibGVkPSEwfWVsc2UgaWYodCYmdC5sZW5ndGgpe2xldCBlPUsodCxzKTtmb3IobGV0W3Qsc11vZiBlKVgodGhpc1t0XS5za2lwLHMpfX1maWx0ZXJOZXN0ZWRTZWdtZW50VGFncygpe2xldHtpZmQwOmUsZXhpZjp0LHhtcDpzLGlwdGM6aSxpY2M6bn09dGhpczt0aGlzLm1ha2VyTm90ZT90LmRlcHMuYWRkKDM3NTAwKTp0LnNraXAuYWRkKDM3NTAwKSx0aGlzLnVzZXJDb21tZW50P3QuZGVwcy5hZGQoMzc1MTApOnQuc2tpcC5hZGQoMzc1MTApLHMuZW5hYmxlZHx8ZS5za2lwLmFkZCg3MDApLGkuZW5hYmxlZHx8ZS5za2lwLmFkZCgzMzcyMyksbi5lbmFibGVkfHxlLnNraXAuYWRkKDM0Njc1KX10cmF2ZXJzZVRpZmZEZXBlbmRlbmN5VHJlZSgpe2xldHtpZmQwOmUsZXhpZjp0LGdwczpzLGludGVyb3A6aX09dGhpcztpLm5lZWRlZCYmKHQuZGVwcy5hZGQoNDA5NjUpLGUuZGVwcy5hZGQoNDA5NjUpKSx0Lm5lZWRlZCYmZS5kZXBzLmFkZCgzNDY2NSkscy5uZWVkZWQmJmUuZGVwcy5hZGQoMzQ4NTMpLHRoaXMudGlmZi5lbmFibGVkPVAuc29tZSgoZT0+ITA9PT10aGlzW2VdLmVuYWJsZWQpKXx8dGhpcy5tYWtlck5vdGV8fHRoaXMudXNlckNvbW1lbnQ7Zm9yKGxldCBlIG9mIFApdGhpc1tlXS5maW5hbGl6ZUZpbHRlcnMoKX1nZXQgb25seVRpZmYoKXtyZXR1cm4hVC5tYXAoKGU9PnRoaXNbZV0uZW5hYmxlZCkpLnNvbWUoKGU9PiEwPT09ZSkpJiZ0aGlzLnRpZmYuZW5hYmxlZH1jaGVja0xvYWRlZFBsdWdpbnMoKXtmb3IobGV0IGUgb2Ygeil0aGlzW2VdLmVuYWJsZWQmJiF5LmhhcyhlKSYmcChcInNlZ21lbnQgcGFyc2VyXCIsZSl9fWZ1bmN0aW9uIEsoZSx0KXtsZXQgcyxpLG4scixhPVtdO2ZvcihuIG9mIHQpe2ZvcihyIG9mKHM9Qi5nZXQobiksaT1bXSxzKSkoZS5pbmNsdWRlcyhyWzBdKXx8ZS5pbmNsdWRlcyhyWzFdKSkmJmkucHVzaChyWzBdKTtpLmxlbmd0aCYmYS5wdXNoKFtuLGldKX1yZXR1cm4gYX1mdW5jdGlvbiBXKGUsdCl7cmV0dXJuIHZvaWQgMCE9PWU/ZTp2b2lkIDAhPT10P3Q6dm9pZCAwfWZ1bmN0aW9uIFgoZSx0KXtmb3IobGV0IHMgb2YgdCllLmFkZChzKX1lKFIsXCJkZWZhdWx0XCIsTik7Y2xhc3MgSHtjb25zdHJ1Y3Rvcih0KXtlKHRoaXMsXCJwYXJzZXJzXCIse30pLGUodGhpcyxcIm91dHB1dFwiLHt9KSxlKHRoaXMsXCJlcnJvcnNcIixbXSksZSh0aGlzLFwicHVzaFRvRXJyb3JzXCIsKGU9PnRoaXMuZXJyb3JzLnB1c2goZSkpKSx0aGlzLm9wdGlvbnM9Ui51c2VDYWNoZWQodCl9YXN5bmMgcmVhZChlKXt0aGlzLmZpbGU9YXdhaXQgZnVuY3Rpb24oZSx0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9rKGUsdCk6cyYmIWkmJmUgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50P2soZS5zcmMsdCk6ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8ZSBpbnN0YW5jZW9mIERhdGFWaWV3P25ldyBjKGUpOnMmJmUgaW5zdGFuY2VvZiBCbG9iP08oZSx0LFwiYmxvYlwiLEEpOnZvaWQgbChcIkludmFsaWQgaW5wdXQgYXJndW1lbnRcIil9KGUsdGhpcy5vcHRpb25zKX1zZXR1cCgpe2lmKHRoaXMuZmlsZVBhcnNlcilyZXR1cm47bGV0e2ZpbGU6ZX09dGhpcyx0PWUuZ2V0VWludDE2KDApO2ZvcihsZXRbcyxpXW9mIG0paWYoaS5jYW5IYW5kbGUoZSx0KSlyZXR1cm4gdGhpcy5maWxlUGFyc2VyPW5ldyBpKHRoaXMub3B0aW9ucyx0aGlzLmZpbGUsdGhpcy5wYXJzZXJzKSxlW3NdPSEwO3RoaXMuZmlsZS5jbG9zZSYmdGhpcy5maWxlLmNsb3NlKCksbChcIlVua25vd24gZmlsZSBmb3JtYXRcIil9YXN5bmMgcGFyc2UoKXtsZXR7b3V0cHV0OmUsZXJyb3JzOnR9PXRoaXM7cmV0dXJuIHRoaXMuc2V0dXAoKSx0aGlzLm9wdGlvbnMuc2lsZW50RXJyb3JzPyhhd2FpdCB0aGlzLmV4ZWN1dGVQYXJzZXJzKCkuY2F0Y2godGhpcy5wdXNoVG9FcnJvcnMpLHQucHVzaCguLi50aGlzLmZpbGVQYXJzZXIuZXJyb3JzKSk6YXdhaXQgdGhpcy5leGVjdXRlUGFyc2VycygpLHRoaXMuZmlsZS5jbG9zZSYmdGhpcy5maWxlLmNsb3NlKCksdGhpcy5vcHRpb25zLnNpbGVudEVycm9ycyYmdC5sZW5ndGg+MCYmKGUuZXJyb3JzPXQpLGYocz1lKT92b2lkIDA6czt2YXIgc31hc3luYyBleGVjdXRlUGFyc2Vycygpe2xldHtvdXRwdXQ6ZX09dGhpczthd2FpdCB0aGlzLmZpbGVQYXJzZXIucGFyc2UoKTtsZXQgdD1PYmplY3QudmFsdWVzKHRoaXMucGFyc2VycykubWFwKChhc3luYyB0PT57bGV0IHM9YXdhaXQgdC5wYXJzZSgpO3QuYXNzaWduVG9PdXRwdXQoZSxzKX0pKTt0aGlzLm9wdGlvbnMuc2lsZW50RXJyb3JzJiYodD10Lm1hcCgoZT0+ZS5jYXRjaCh0aGlzLnB1c2hUb0Vycm9ycykpKSksYXdhaXQgUHJvbWlzZS5hbGwodCl9YXN5bmMgZXh0cmFjdFRodW1ibmFpbCgpe3RoaXMuc2V0dXAoKTtsZXR7b3B0aW9uczplLGZpbGU6dH09dGhpcyxzPXkuZ2V0KFwidGlmZlwiLGUpO3ZhciBpO2lmKHQudGlmZj9pPXtzdGFydDowLHR5cGU6XCJ0aWZmXCJ9OnQuanBlZyYmKGk9YXdhaXQgdGhpcy5maWxlUGFyc2VyLmdldE9yRmluZFNlZ21lbnQoXCJ0aWZmXCIpKSx2b2lkIDA9PT1pKXJldHVybjtsZXQgbj1hd2FpdCB0aGlzLmZpbGVQYXJzZXIuZW5zdXJlU2VnbWVudENodW5rKGkpLHI9dGhpcy5wYXJzZXJzLnRpZmY9bmV3IHMobixlLHQpLGE9YXdhaXQgci5leHRyYWN0VGh1bWJuYWlsKCk7cmV0dXJuIHQuY2xvc2UmJnQuY2xvc2UoKSxhfX1hc3luYyBmdW5jdGlvbiBZKGUsdCl7bGV0IHM9bmV3IEgodCk7cmV0dXJuIGF3YWl0IHMucmVhZChlKSxzLnBhcnNlKCl9dmFyIEc9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwscGFyc2U6WSxFeGlmcjpILGZpbGVQYXJzZXJzOm0sc2VnbWVudFBhcnNlcnM6eSxmaWxlUmVhZGVyczpiLHRhZ0tleXM6Qix0YWdWYWx1ZXM6Vix0YWdSZXZpdmVyczpJLGNyZWF0ZURpY3Rpb25hcnk6eCxleHRlbmREaWN0aW9uYXJ5OkMsZmV0Y2hVcmxBc0FycmF5QnVmZmVyOlMscmVhZEJsb2JBc0FycmF5QnVmZmVyOkEsY2h1bmtlZFByb3BzOkwsb3RoZXJTZWdtZW50czpULHNlZ21lbnRzOnosdGlmZkJsb2NrczpQLHNlZ21lbnRzQW5kQmxvY2tzOkYsdGlmZkV4dHJhY3RhYmxlczpqLGluaGVyaXRhYmxlczpFLGFsbEZvcm1hdHRlcnM6TSxPcHRpb25zOlJ9KTtjbGFzcyBKe3N0YXRpYyBmaW5kUG9zaXRpb24oZSx0KXtsZXQgcz1lLmdldFVpbnQxNih0KzIpKzIsaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmhlYWRlckxlbmd0aD90aGlzLmhlYWRlckxlbmd0aChlLHQscyk6dGhpcy5oZWFkZXJMZW5ndGgsbj10K2kscj1zLWk7cmV0dXJue29mZnNldDp0LGxlbmd0aDpzLGhlYWRlckxlbmd0aDppLHN0YXJ0Om4sc2l6ZTpyLGVuZDpuK3J9fXN0YXRpYyBwYXJzZShlLHQ9e30pe3JldHVybiBuZXcgdGhpcyhlLG5ldyBSKHtbdGhpcy50eXBlXTp0fSksZSkucGFyc2UoKX1ub3JtYWxpemVJbnB1dChlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGM/ZTpuZXcgYyhlKX1jb25zdHJ1Y3Rvcih0LHM9e30saSl7ZSh0aGlzLFwiZXJyb3JzXCIsW10pLGUodGhpcyxcInJhd1wiLG5ldyBNYXApLGUodGhpcyxcImhhbmRsZUVycm9yXCIsKGU9PntpZighdGhpcy5vcHRpb25zLnNpbGVudEVycm9ycyl0aHJvdyBlO3RoaXMuZXJyb3JzLnB1c2goZS5tZXNzYWdlKX0pKSx0aGlzLmNodW5rPXRoaXMubm9ybWFsaXplSW5wdXQodCksdGhpcy5maWxlPWksdGhpcy50eXBlPXRoaXMuY29uc3RydWN0b3IudHlwZSx0aGlzLmdsb2JhbE9wdGlvbnM9dGhpcy5vcHRpb25zPXMsdGhpcy5sb2NhbE9wdGlvbnM9c1t0aGlzLnR5cGVdLHRoaXMuY2FuVHJhbnNsYXRlPXRoaXMubG9jYWxPcHRpb25zJiZ0aGlzLmxvY2FsT3B0aW9ucy50cmFuc2xhdGV9dHJhbnNsYXRlKCl7dGhpcy5jYW5UcmFuc2xhdGUmJih0aGlzLnRyYW5zbGF0ZWQ9dGhpcy50cmFuc2xhdGVCbG9jayh0aGlzLnJhdyx0aGlzLnR5cGUpKX1nZXQgb3V0cHV0KCl7cmV0dXJuIHRoaXMudHJhbnNsYXRlZD90aGlzLnRyYW5zbGF0ZWQ6dGhpcy5yYXc/T2JqZWN0LmZyb21FbnRyaWVzKHRoaXMucmF3KTp2b2lkIDB9dHJhbnNsYXRlQmxvY2soZSx0KXtsZXQgcz1JLmdldCh0KSxpPVYuZ2V0KHQpLG49Qi5nZXQodCkscj10aGlzLm9wdGlvbnNbdF0sYT1yLnJldml2ZVZhbHVlcyYmISFzLGg9ci50cmFuc2xhdGVWYWx1ZXMmJiEhaSxmPXIudHJhbnNsYXRlS2V5cyYmISFuLGw9e307Zm9yKGxldFt0LHJdb2YgZSlhJiZzLmhhcyh0KT9yPXMuZ2V0KHQpKHIpOmgmJmkuaGFzKHQpJiYocj10aGlzLnRyYW5zbGF0ZVZhbHVlKHIsaS5nZXQodCkpKSxmJiZuLmhhcyh0KSYmKHQ9bi5nZXQodCl8fHQpLGxbdF09cjtyZXR1cm4gbH10cmFuc2xhdGVWYWx1ZShlLHQpe3JldHVybiB0W2VdfHx0LkRFRkFVTFR8fGV9YXNzaWduVG9PdXRwdXQoZSx0KXt0aGlzLmFzc2lnbk9iamVjdFRvT3V0cHV0KGUsdGhpcy5jb25zdHJ1Y3Rvci50eXBlLHQpfWFzc2lnbk9iamVjdFRvT3V0cHV0KGUsdCxzKXtpZih0aGlzLmdsb2JhbE9wdGlvbnMubWVyZ2VPdXRwdXQpcmV0dXJuIE9iamVjdC5hc3NpZ24oZSxzKTtlW3RdP09iamVjdC5hc3NpZ24oZVt0XSxzKTplW3RdPXN9fWUoSixcImhlYWRlckxlbmd0aFwiLDQpLGUoSixcInR5cGVcIix2b2lkIDApLGUoSixcIm11bHRpU2VnbWVudFwiLCExKSxlKEosXCJjYW5IYW5kbGVcIiwoKCk9PiExKSk7ZnVuY3Rpb24gcShlKXtyZXR1cm4gMTkyPT09ZXx8MTk0PT09ZXx8MTk2PT09ZXx8MjE5PT09ZXx8MjIxPT09ZXx8MjE4PT09ZXx8MjU0PT09ZX1mdW5jdGlvbiBRKGUpe3JldHVybiBlPj0yMjQmJmU8PTIzOX1mdW5jdGlvbiBaKGUsdCxzKXtmb3IobGV0W2ksbl1vZiB5KWlmKG4uY2FuSGFuZGxlKGUsdCxzKSlyZXR1cm4gaX1jbGFzcyBlZSBleHRlbmRzIGNsYXNze2NvbnN0cnVjdG9yKHQscyxpKXtlKHRoaXMsXCJlcnJvcnNcIixbXSksZSh0aGlzLFwiZW5zdXJlU2VnbWVudENodW5rXCIsKGFzeW5jIGU9PntsZXQgdD1lLnN0YXJ0LHM9ZS5zaXplfHw2NTUzNjtpZih0aGlzLmZpbGUuY2h1bmtlZClpZih0aGlzLmZpbGUuYXZhaWxhYmxlKHQscykpZS5jaHVuaz10aGlzLmZpbGUuc3ViYXJyYXkodCxzKTtlbHNlIHRyeXtlLmNodW5rPWF3YWl0IHRoaXMuZmlsZS5yZWFkQ2h1bmsodCxzKX1jYXRjaCh0KXtsKGBDb3VsZG4ndCByZWFkIHNlZ21lbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZSl9LiAke3QubWVzc2FnZX1gKX1lbHNlIHRoaXMuZmlsZS5ieXRlTGVuZ3RoPnQrcz9lLmNodW5rPXRoaXMuZmlsZS5zdWJhcnJheSh0LHMpOnZvaWQgMD09PWUuc2l6ZT9lLmNodW5rPXRoaXMuZmlsZS5zdWJhcnJheSh0KTpsKFwiU2VnbWVudCB1bnJlYWNoYWJsZTogXCIrSlNPTi5zdHJpbmdpZnkoZSkpO3JldHVybiBlLmNodW5rfSkpLHRoaXMuZXh0ZW5kT3B0aW9ucyYmdGhpcy5leHRlbmRPcHRpb25zKHQpLHRoaXMub3B0aW9ucz10LHRoaXMuZmlsZT1zLHRoaXMucGFyc2Vycz1pfWluamVjdFNlZ21lbnQoZSx0KXt0aGlzLm9wdGlvbnNbZV0uZW5hYmxlZCYmdGhpcy5jcmVhdGVQYXJzZXIoZSx0KX1jcmVhdGVQYXJzZXIoZSx0KXtsZXQgcz1uZXcoeS5nZXQoZSkpKHQsdGhpcy5vcHRpb25zLHRoaXMuZmlsZSk7cmV0dXJuIHRoaXMucGFyc2Vyc1tlXT1zfWNyZWF0ZVBhcnNlcnMoZSl7Zm9yKGxldCB0IG9mIGUpe2xldHt0eXBlOmUsY2h1bms6c309dCxpPXRoaXMub3B0aW9uc1tlXTtpZihpJiZpLmVuYWJsZWQpe2xldCB0PXRoaXMucGFyc2Vyc1tlXTt0JiZ0LmFwcGVuZHx8dHx8dGhpcy5jcmVhdGVQYXJzZXIoZSxzKX19fWFzeW5jIHJlYWRTZWdtZW50cyhlKXtsZXQgdD1lLm1hcCh0aGlzLmVuc3VyZVNlZ21lbnRDaHVuayk7YXdhaXQgUHJvbWlzZS5hbGwodCl9fXtjb25zdHJ1Y3RvciguLi50KXtzdXBlciguLi50KSxlKHRoaXMsXCJhcHBTZWdtZW50c1wiLFtdKSxlKHRoaXMsXCJqcGVnU2VnbWVudHNcIixbXSksZSh0aGlzLFwidW5rbm93blNlZ21lbnRzXCIsW10pfXN0YXRpYyBjYW5IYW5kbGUoZSx0KXtyZXR1cm4gNjU0OTY9PT10fWFzeW5jIHBhcnNlKCl7YXdhaXQgdGhpcy5maW5kQXBwU2VnbWVudHMoKSxhd2FpdCB0aGlzLnJlYWRTZWdtZW50cyh0aGlzLmFwcFNlZ21lbnRzKSx0aGlzLm1lcmdlTXVsdGlTZWdtZW50cygpLHRoaXMuY3JlYXRlUGFyc2Vycyh0aGlzLm1lcmdlZEFwcFNlZ21lbnRzfHx0aGlzLmFwcFNlZ21lbnRzKX1zZXR1cFNlZ21lbnRGaW5kZXJBcmdzKGUpeyEwPT09ZT8odGhpcy5maW5kQWxsPSEwLHRoaXMud2FudGVkPW5ldyBTZXQoeS5rZXlMaXN0KCkpKTooZT12b2lkIDA9PT1lP3kua2V5TGlzdCgpLmZpbHRlcigoZT0+dGhpcy5vcHRpb25zW2VdLmVuYWJsZWQpKTplLmZpbHRlcigoZT0+dGhpcy5vcHRpb25zW2VdLmVuYWJsZWQmJnkuaGFzKGUpKSksdGhpcy5maW5kQWxsPSExLHRoaXMucmVtYWluaW5nPW5ldyBTZXQoZSksdGhpcy53YW50ZWQ9bmV3IFNldChlKSksdGhpcy51bmZpbmlzaGVkTXVsdGlTZWdtZW50PSExfWFzeW5jIGZpbmRBcHBTZWdtZW50cyhlPTAsdCl7dGhpcy5zZXR1cFNlZ21lbnRGaW5kZXJBcmdzKHQpO2xldHtmaWxlOnMsZmluZEFsbDppLHdhbnRlZDpuLHJlbWFpbmluZzpyfT10aGlzO2lmKCFpJiZ0aGlzLmZpbGUuY2h1bmtlZCYmKGk9QXJyYXkuZnJvbShuKS5zb21lKChlPT57bGV0IHQ9eS5nZXQoZSkscz10aGlzLm9wdGlvbnNbZV07cmV0dXJuIHQubXVsdGlTZWdtZW50JiZzLm11bHRpU2VnbWVudH0pKSxpJiZhd2FpdCB0aGlzLmZpbGUucmVhZFdob2xlKCkpLGU9dGhpcy5maW5kQXBwU2VnbWVudHNJblJhbmdlKGUscy5ieXRlTGVuZ3RoKSwhdGhpcy5vcHRpb25zLm9ubHlUaWZmJiZzLmNodW5rZWQpe2xldCB0PSExO2Zvcig7ci5zaXplPjAmJiF0JiYocy5jYW5SZWFkTmV4dENodW5rfHx0aGlzLnVuZmluaXNoZWRNdWx0aVNlZ21lbnQpOyl7bGV0e25leHRDaHVua09mZnNldDppfT1zLG49dGhpcy5hcHBTZWdtZW50cy5zb21lKChlPT4hdGhpcy5maWxlLmF2YWlsYWJsZShlLm9mZnNldHx8ZS5zdGFydCxlLmxlbmd0aHx8ZS5zaXplKSkpO2lmKHQ9ZT5pJiYhbj8hYXdhaXQgcy5yZWFkTmV4dENodW5rKGUpOiFhd2FpdCBzLnJlYWROZXh0Q2h1bmsoaSksdm9pZCAwPT09KGU9dGhpcy5maW5kQXBwU2VnbWVudHNJblJhbmdlKGUscy5ieXRlTGVuZ3RoKSkpcmV0dXJufX19ZmluZEFwcFNlZ21lbnRzSW5SYW5nZShlLHQpe3QtPTI7bGV0IHMsaSxuLHIsYSxoLHtmaWxlOmYsZmluZEFsbDpsLHdhbnRlZDpvLHJlbWFpbmluZzp1LG9wdGlvbnM6ZH09dGhpcztmb3IoO2U8dDtlKyspaWYoMjU1PT09Zi5nZXRVaW50OChlKSlpZihzPWYuZ2V0VWludDgoZSsxKSxRKHMpKXtpZihpPWYuZ2V0VWludDE2KGUrMiksbj1aKGYsZSxpKSxuJiZvLmhhcyhuKSYmKHI9eS5nZXQobiksYT1yLmZpbmRQb3NpdGlvbihmLGUpLGg9ZFtuXSxhLnR5cGU9bix0aGlzLmFwcFNlZ21lbnRzLnB1c2goYSksIWwmJihyLm11bHRpU2VnbWVudCYmaC5tdWx0aVNlZ21lbnQ/KHRoaXMudW5maW5pc2hlZE11bHRpU2VnbWVudD1hLmNodW5rTnVtYmVyPGEuY2h1bmtDb3VudCx0aGlzLnVuZmluaXNoZWRNdWx0aVNlZ21lbnR8fHUuZGVsZXRlKG4pKTp1LmRlbGV0ZShuKSwwPT09dS5zaXplKSkpYnJlYWs7ZC5yZWNvcmRVbmtub3duU2VnbWVudHMmJihhPUouZmluZFBvc2l0aW9uKGYsZSksYS5tYXJrZXI9cyx0aGlzLnVua25vd25TZWdtZW50cy5wdXNoKGEpKSxlKz1pKzF9ZWxzZSBpZihxKHMpKXtpZihpPWYuZ2V0VWludDE2KGUrMiksMjE4PT09cyYmITEhPT1kLnN0b3BBZnRlclNvcylyZXR1cm47ZC5yZWNvcmRKcGVnU2VnbWVudHMmJnRoaXMuanBlZ1NlZ21lbnRzLnB1c2goe29mZnNldDplLGxlbmd0aDppLG1hcmtlcjpzfSksZSs9aSsxfXJldHVybiBlfW1lcmdlTXVsdGlTZWdtZW50cygpe2lmKCF0aGlzLmFwcFNlZ21lbnRzLnNvbWUoKGU9PmUubXVsdGlTZWdtZW50KSkpcmV0dXJuO2xldCBlPWZ1bmN0aW9uKGUsdCl7bGV0IHMsaSxuLHI9bmV3IE1hcDtmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKylzPWVbYV0saT1zW3RdLHIuaGFzKGkpP249ci5nZXQoaSk6ci5zZXQoaSxuPVtdKSxuLnB1c2gocyk7cmV0dXJuIEFycmF5LmZyb20ocil9KHRoaXMuYXBwU2VnbWVudHMsXCJ0eXBlXCIpO3RoaXMubWVyZ2VkQXBwU2VnbWVudHM9ZS5tYXAoKChbZSx0XSk9PntsZXQgcz15LmdldChlLHRoaXMub3B0aW9ucyk7aWYocy5oYW5kbGVNdWx0aVNlZ21lbnRzKXtyZXR1cm57dHlwZTplLGNodW5rOnMuaGFuZGxlTXVsdGlTZWdtZW50cyh0KX19cmV0dXJuIHRbMF19KSl9Z2V0U2VnbWVudChlKXtyZXR1cm4gdGhpcy5hcHBTZWdtZW50cy5maW5kKCh0PT50LnR5cGU9PT1lKSl9YXN5bmMgZ2V0T3JGaW5kU2VnbWVudChlKXtsZXQgdD10aGlzLmdldFNlZ21lbnQoZSk7cmV0dXJuIHZvaWQgMD09PXQmJihhd2FpdCB0aGlzLmZpbmRBcHBTZWdtZW50cygwLFtlXSksdD10aGlzLmdldFNlZ21lbnQoZSkpLHR9fWUoZWUsXCJ0eXBlXCIsXCJqcGVnXCIpLG0uc2V0KFwianBlZ1wiLGVlKTtjb25zdCB0ZT1bdm9pZCAwLDEsMSwyLDQsOCwxLDEsMiw0LDgsNCw4LDRdO2NsYXNzIHNlIGV4dGVuZHMgSntwYXJzZUhlYWRlcigpe3ZhciBlPXRoaXMuY2h1bmsuZ2V0VWludDE2KCk7MTg3NjE9PT1lP3RoaXMubGU9ITA6MTk3ODk9PT1lJiYodGhpcy5sZT0hMSksdGhpcy5jaHVuay5sZT10aGlzLmxlLHRoaXMuaGVhZGVyUGFyc2VkPSEwfXBhcnNlVGFncyhlLHQscz1uZXcgTWFwKXtsZXR7cGljazppLHNraXA6bn09dGhpcy5vcHRpb25zW3RdO2k9bmV3IFNldChpKTtsZXQgcj1pLnNpemU+MCxhPTA9PT1uLnNpemUsaD10aGlzLmNodW5rLmdldFVpbnQxNihlKTtlKz0yO2ZvcihsZXQgZj0wO2Y8aDtmKyspe2xldCBoPXRoaXMuY2h1bmsuZ2V0VWludDE2KGUpO2lmKHIpe2lmKGkuaGFzKGgpJiYocy5zZXQoaCx0aGlzLnBhcnNlVGFnKGUsaCx0KSksaS5kZWxldGUoaCksMD09PWkuc2l6ZSkpYnJlYWt9ZWxzZSFhJiZuLmhhcyhoKXx8cy5zZXQoaCx0aGlzLnBhcnNlVGFnKGUsaCx0KSk7ZSs9MTJ9cmV0dXJuIHN9cGFyc2VUYWcoZSx0LHMpe2xldHtjaHVuazppfT10aGlzLG49aS5nZXRVaW50MTYoZSsyKSxyPWkuZ2V0VWludDMyKGUrNCksYT10ZVtuXTtpZihhKnI8PTQ/ZSs9ODplPWkuZ2V0VWludDMyKGUrOCksKG48MXx8bj4xMykmJmwoYEludmFsaWQgVElGRiB2YWx1ZSB0eXBlLiBibG9jazogJHtzLnRvVXBwZXJDYXNlKCl9LCB0YWc6ICR7dC50b1N0cmluZygxNil9LCB0eXBlOiAke259LCBvZmZzZXQgJHtlfWApLGU+aS5ieXRlTGVuZ3RoJiZsKGBJbnZhbGlkIFRJRkYgdmFsdWUgb2Zmc2V0LiBibG9jazogJHtzLnRvVXBwZXJDYXNlKCl9LCB0YWc6ICR7dC50b1N0cmluZygxNil9LCB0eXBlOiAke259LCBvZmZzZXQgJHtlfSBpcyBvdXRzaWRlIG9mIGNodW5rIHNpemUgJHtpLmJ5dGVMZW5ndGh9YCksMT09PW4pcmV0dXJuIGkuZ2V0VWludDhBcnJheShlLHIpO2lmKDI9PT1uKXJldHVyblwiXCI9PT0oaD1mdW5jdGlvbihlKXtmb3IoO2UuZW5kc1dpdGgoXCJcXDBcIik7KWU9ZS5zbGljZSgwLC0xKTtyZXR1cm4gZX0oaD1pLmdldFN0cmluZyhlLHIpKS50cmltKCkpP3ZvaWQgMDpoO3ZhciBoO2lmKDc9PT1uKXJldHVybiBpLmdldFVpbnQ4QXJyYXkoZSxyKTtpZigxPT09cilyZXR1cm4gdGhpcy5wYXJzZVRhZ1ZhbHVlKG4sZSk7e2xldCB0PW5ldyhmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAxOnJldHVybiBVaW50OEFycmF5O2Nhc2UgMzpyZXR1cm4gVWludDE2QXJyYXk7Y2FzZSA0OnJldHVybiBVaW50MzJBcnJheTtjYXNlIDU6cmV0dXJuIEFycmF5O2Nhc2UgNjpyZXR1cm4gSW50OEFycmF5O2Nhc2UgODpyZXR1cm4gSW50MTZBcnJheTtjYXNlIDk6cmV0dXJuIEludDMyQXJyYXk7Y2FzZSAxMDpyZXR1cm4gQXJyYXk7Y2FzZSAxMTpyZXR1cm4gRmxvYXQzMkFycmF5O2Nhc2UgMTI6cmV0dXJuIEZsb2F0NjRBcnJheTtkZWZhdWx0OnJldHVybiBBcnJheX19KG4pKShyKSxzPWE7Zm9yKGxldCBpPTA7aTxyO2krKyl0W2ldPXRoaXMucGFyc2VUYWdWYWx1ZShuLGUpLGUrPXM7cmV0dXJuIHR9fXBhcnNlVGFnVmFsdWUoZSx0KXtsZXR7Y2h1bms6c309dGhpcztzd2l0Y2goZSl7Y2FzZSAxOnJldHVybiBzLmdldFVpbnQ4KHQpO2Nhc2UgMzpyZXR1cm4gcy5nZXRVaW50MTYodCk7Y2FzZSA0OnJldHVybiBzLmdldFVpbnQzMih0KTtjYXNlIDU6cmV0dXJuIHMuZ2V0VWludDMyKHQpL3MuZ2V0VWludDMyKHQrNCk7Y2FzZSA2OnJldHVybiBzLmdldEludDgodCk7Y2FzZSA4OnJldHVybiBzLmdldEludDE2KHQpO2Nhc2UgOTpyZXR1cm4gcy5nZXRJbnQzMih0KTtjYXNlIDEwOnJldHVybiBzLmdldEludDMyKHQpL3MuZ2V0SW50MzIodCs0KTtjYXNlIDExOnJldHVybiBzLmdldEZsb2F0KHQpO2Nhc2UgMTI6cmV0dXJuIHMuZ2V0RG91YmxlKHQpO2Nhc2UgMTM6cmV0dXJuIHMuZ2V0VWludDMyKHQpO2RlZmF1bHQ6bChgSW52YWxpZCB0aWZmIHR5cGUgJHtlfWApfX19Y2xhc3MgaWUgZXh0ZW5kcyBzZXtzdGF0aWMgY2FuSGFuZGxlKGUsdCl7cmV0dXJuIDIyNT09PWUuZ2V0VWludDgodCsxKSYmMTE2NTUxOTIwNj09PWUuZ2V0VWludDMyKHQrNCkmJjA9PT1lLmdldFVpbnQxNih0KzgpfWFzeW5jIHBhcnNlKCl7dGhpcy5wYXJzZUhlYWRlcigpO2xldHtvcHRpb25zOmV9PXRoaXM7cmV0dXJuIGUuaWZkMC5lbmFibGVkJiZhd2FpdCB0aGlzLnBhcnNlSWZkMEJsb2NrKCksZS5leGlmLmVuYWJsZWQmJmF3YWl0IHRoaXMuc2FmZVBhcnNlKFwicGFyc2VFeGlmQmxvY2tcIiksZS5ncHMuZW5hYmxlZCYmYXdhaXQgdGhpcy5zYWZlUGFyc2UoXCJwYXJzZUdwc0Jsb2NrXCIpLGUuaW50ZXJvcC5lbmFibGVkJiZhd2FpdCB0aGlzLnNhZmVQYXJzZShcInBhcnNlSW50ZXJvcEJsb2NrXCIpLGUuaWZkMS5lbmFibGVkJiZhd2FpdCB0aGlzLnNhZmVQYXJzZShcInBhcnNlVGh1bWJuYWlsQmxvY2tcIiksdGhpcy5jcmVhdGVPdXRwdXQoKX1zYWZlUGFyc2UoZSl7bGV0IHQ9dGhpc1tlXSgpO3JldHVybiB2b2lkIDAhPT10LmNhdGNoJiYodD10LmNhdGNoKHRoaXMuaGFuZGxlRXJyb3IpKSx0fWZpbmRJZmQwT2Zmc2V0KCl7dm9pZCAwPT09dGhpcy5pZmQwT2Zmc2V0JiYodGhpcy5pZmQwT2Zmc2V0PXRoaXMuY2h1bmsuZ2V0VWludDMyKDQpKX1maW5kSWZkMU9mZnNldCgpe2lmKHZvaWQgMD09PXRoaXMuaWZkMU9mZnNldCl7dGhpcy5maW5kSWZkME9mZnNldCgpO2xldCBlPXRoaXMuY2h1bmsuZ2V0VWludDE2KHRoaXMuaWZkME9mZnNldCksdD10aGlzLmlmZDBPZmZzZXQrMisxMiplO3RoaXMuaWZkMU9mZnNldD10aGlzLmNodW5rLmdldFVpbnQzMih0KX19cGFyc2VCbG9jayhlLHQpe2xldCBzPW5ldyBNYXA7cmV0dXJuIHRoaXNbdF09cyx0aGlzLnBhcnNlVGFncyhlLHQscyksc31hc3luYyBwYXJzZUlmZDBCbG9jaygpe2lmKHRoaXMuaWZkMClyZXR1cm47bGV0e2ZpbGU6ZX09dGhpczt0aGlzLmZpbmRJZmQwT2Zmc2V0KCksdGhpcy5pZmQwT2Zmc2V0PDgmJmwoXCJNYWxmb3JtZWQgRVhJRiBkYXRhXCIpLCFlLmNodW5rZWQmJnRoaXMuaWZkME9mZnNldD5lLmJ5dGVMZW5ndGgmJmwoYElGRDAgb2Zmc2V0IHBvaW50cyB0byBvdXRzaWRlIG9mIGZpbGUuXFxudGhpcy5pZmQwT2Zmc2V0OiAke3RoaXMuaWZkME9mZnNldH0sIGZpbGUuYnl0ZUxlbmd0aDogJHtlLmJ5dGVMZW5ndGh9YCksZS50aWZmJiZhd2FpdCBlLmVuc3VyZUNodW5rKHRoaXMuaWZkME9mZnNldCxvKHRoaXMub3B0aW9ucykpO2xldCB0PXRoaXMucGFyc2VCbG9jayh0aGlzLmlmZDBPZmZzZXQsXCJpZmQwXCIpO3JldHVybiAwIT09dC5zaXplPyh0aGlzLmV4aWZPZmZzZXQ9dC5nZXQoMzQ2NjUpLHRoaXMuaW50ZXJvcE9mZnNldD10LmdldCg0MDk2NSksdGhpcy5ncHNPZmZzZXQ9dC5nZXQoMzQ4NTMpLHRoaXMueG1wPXQuZ2V0KDcwMCksdGhpcy5pcHRjPXQuZ2V0KDMzNzIzKSx0aGlzLmljYz10LmdldCgzNDY3NSksdGhpcy5vcHRpb25zLnNhbml0aXplJiYodC5kZWxldGUoMzQ2NjUpLHQuZGVsZXRlKDQwOTY1KSx0LmRlbGV0ZSgzNDg1MyksdC5kZWxldGUoNzAwKSx0LmRlbGV0ZSgzMzcyMyksdC5kZWxldGUoMzQ2NzUpKSx0KTp2b2lkIDB9YXN5bmMgcGFyc2VFeGlmQmxvY2soKXtpZih0aGlzLmV4aWYpcmV0dXJuO2lmKHRoaXMuaWZkMHx8YXdhaXQgdGhpcy5wYXJzZUlmZDBCbG9jaygpLHZvaWQgMD09PXRoaXMuZXhpZk9mZnNldClyZXR1cm47dGhpcy5maWxlLnRpZmYmJmF3YWl0IHRoaXMuZmlsZS5lbnN1cmVDaHVuayh0aGlzLmV4aWZPZmZzZXQsbyh0aGlzLm9wdGlvbnMpKTtsZXQgZT10aGlzLnBhcnNlQmxvY2sodGhpcy5leGlmT2Zmc2V0LFwiZXhpZlwiKTtyZXR1cm4gdGhpcy5pbnRlcm9wT2Zmc2V0fHwodGhpcy5pbnRlcm9wT2Zmc2V0PWUuZ2V0KDQwOTY1KSksdGhpcy5tYWtlck5vdGU9ZS5nZXQoMzc1MDApLHRoaXMudXNlckNvbW1lbnQ9ZS5nZXQoMzc1MTApLHRoaXMub3B0aW9ucy5zYW5pdGl6ZSYmKGUuZGVsZXRlKDQwOTY1KSxlLmRlbGV0ZSgzNzUwMCksZS5kZWxldGUoMzc1MTApKSx0aGlzLnVucGFjayhlLDQxNzI4KSx0aGlzLnVucGFjayhlLDQxNzI5KSxlfXVucGFjayhlLHQpe2xldCBzPWUuZ2V0KHQpO3MmJjE9PT1zLmxlbmd0aCYmZS5zZXQodCxzWzBdKX1hc3luYyBwYXJzZUdwc0Jsb2NrKCl7aWYodGhpcy5ncHMpcmV0dXJuO2lmKHRoaXMuaWZkMHx8YXdhaXQgdGhpcy5wYXJzZUlmZDBCbG9jaygpLHZvaWQgMD09PXRoaXMuZ3BzT2Zmc2V0KXJldHVybjtsZXQgZT10aGlzLnBhcnNlQmxvY2sodGhpcy5ncHNPZmZzZXQsXCJncHNcIik7cmV0dXJuIGUmJmUuaGFzKDIpJiZlLmhhcyg0KSYmKGUuc2V0KFwibGF0aXR1ZGVcIixuZSguLi5lLmdldCgyKSxlLmdldCgxKSkpLGUuc2V0KFwibG9uZ2l0dWRlXCIsbmUoLi4uZS5nZXQoNCksZS5nZXQoMykpKSksZX1hc3luYyBwYXJzZUludGVyb3BCbG9jaygpe2lmKCF0aGlzLmludGVyb3AmJih0aGlzLmlmZDB8fGF3YWl0IHRoaXMucGFyc2VJZmQwQmxvY2soKSx2b2lkIDAhPT10aGlzLmludGVyb3BPZmZzZXR8fHRoaXMuZXhpZnx8YXdhaXQgdGhpcy5wYXJzZUV4aWZCbG9jaygpLHZvaWQgMCE9PXRoaXMuaW50ZXJvcE9mZnNldCkpcmV0dXJuIHRoaXMucGFyc2VCbG9jayh0aGlzLmludGVyb3BPZmZzZXQsXCJpbnRlcm9wXCIpfWFzeW5jIHBhcnNlVGh1bWJuYWlsQmxvY2soZT0hMSl7aWYoIXRoaXMuaWZkMSYmIXRoaXMuaWZkMVBhcnNlZCYmKCF0aGlzLm9wdGlvbnMubWVyZ2VPdXRwdXR8fGUpKXJldHVybiB0aGlzLmZpbmRJZmQxT2Zmc2V0KCksdGhpcy5pZmQxT2Zmc2V0PjAmJih0aGlzLnBhcnNlQmxvY2sodGhpcy5pZmQxT2Zmc2V0LFwiaWZkMVwiKSx0aGlzLmlmZDFQYXJzZWQ9ITApLHRoaXMuaWZkMX1hc3luYyBleHRyYWN0VGh1bWJuYWlsKCl7aWYodGhpcy5oZWFkZXJQYXJzZWR8fHRoaXMucGFyc2VIZWFkZXIoKSx0aGlzLmlmZDFQYXJzZWR8fGF3YWl0IHRoaXMucGFyc2VUaHVtYm5haWxCbG9jayghMCksdm9pZCAwPT09dGhpcy5pZmQxKXJldHVybjtsZXQgZT10aGlzLmlmZDEuZ2V0KDUxMyksdD10aGlzLmlmZDEuZ2V0KDUxNCk7cmV0dXJuIHRoaXMuY2h1bmsuZ2V0VWludDhBcnJheShlLHQpfWdldCBpbWFnZSgpe3JldHVybiB0aGlzLmlmZDB9Z2V0IHRodW1ibmFpbCgpe3JldHVybiB0aGlzLmlmZDF9Y3JlYXRlT3V0cHV0KCl7bGV0IGUsdCxzLGk9e307Zm9yKHQgb2YgUClpZihlPXRoaXNbdF0sIWYoZSkpaWYocz10aGlzLmNhblRyYW5zbGF0ZT90aGlzLnRyYW5zbGF0ZUJsb2NrKGUsdCk6T2JqZWN0LmZyb21FbnRyaWVzKGUpLHRoaXMub3B0aW9ucy5tZXJnZU91dHB1dCl7aWYoXCJpZmQxXCI9PT10KWNvbnRpbnVlO09iamVjdC5hc3NpZ24oaSxzKX1lbHNlIGlbdF09cztyZXR1cm4gdGhpcy5tYWtlck5vdGUmJihpLm1ha2VyTm90ZT10aGlzLm1ha2VyTm90ZSksdGhpcy51c2VyQ29tbWVudCYmKGkudXNlckNvbW1lbnQ9dGhpcy51c2VyQ29tbWVudCksaX1hc3NpZ25Ub091dHB1dChlLHQpe2lmKHRoaXMuZ2xvYmFsT3B0aW9ucy5tZXJnZU91dHB1dClPYmplY3QuYXNzaWduKGUsdCk7ZWxzZSBmb3IobGV0W3MsaV1vZiBPYmplY3QuZW50cmllcyh0KSl0aGlzLmFzc2lnbk9iamVjdFRvT3V0cHV0KGUscyxpKX19ZnVuY3Rpb24gbmUoZSx0LHMsaSl7dmFyIG49ZSt0LzYwK3MvMzYwMDtyZXR1cm5cIlNcIiE9PWkmJlwiV1wiIT09aXx8KG4qPS0xKSxufWUoaWUsXCJ0eXBlXCIsXCJ0aWZmXCIpLGUoaWUsXCJoZWFkZXJMZW5ndGhcIiwxMCkseS5zZXQoXCJ0aWZmXCIsaWUpO3ZhciByZT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxkZWZhdWx0OkcsRXhpZnI6SCxmaWxlUGFyc2VyczptLHNlZ21lbnRQYXJzZXJzOnksZmlsZVJlYWRlcnM6Yix0YWdLZXlzOkIsdGFnVmFsdWVzOlYsdGFnUmV2aXZlcnM6SSxjcmVhdGVEaWN0aW9uYXJ5OngsZXh0ZW5kRGljdGlvbmFyeTpDLGZldGNoVXJsQXNBcnJheUJ1ZmZlcjpTLHJlYWRCbG9iQXNBcnJheUJ1ZmZlcjpBLGNodW5rZWRQcm9wczpMLG90aGVyU2VnbWVudHM6VCxzZWdtZW50czp6LHRpZmZCbG9ja3M6UCxzZWdtZW50c0FuZEJsb2NrczpGLHRpZmZFeHRyYWN0YWJsZXM6aixpbmhlcml0YWJsZXM6RSxhbGxGb3JtYXR0ZXJzOk0sT3B0aW9uczpSLHBhcnNlOll9KTtjb25zdCBhZT17aWZkMDohMSxpZmQxOiExLGV4aWY6ITEsZ3BzOiExLGludGVyb3A6ITEsc2FuaXRpemU6ITEscmV2aXZlVmFsdWVzOiEwLHRyYW5zbGF0ZUtleXM6ITEsdHJhbnNsYXRlVmFsdWVzOiExLG1lcmdlT3V0cHV0OiExfSxoZT1PYmplY3QuYXNzaWduKHt9LGFlLHtmaXJzdENodW5rU2l6ZTo0ZTQsZ3BzOlsxLDIsMyw0XX0pO2FzeW5jIGZ1bmN0aW9uIGZlKGUpe2xldCB0PW5ldyBIKGhlKTthd2FpdCB0LnJlYWQoZSk7bGV0IHM9YXdhaXQgdC5wYXJzZSgpO2lmKHMmJnMuZ3BzKXtsZXR7bGF0aXR1ZGU6ZSxsb25naXR1ZGU6dH09cy5ncHM7cmV0dXJue2xhdGl0dWRlOmUsbG9uZ2l0dWRlOnR9fX1jb25zdCBsZT1PYmplY3QuYXNzaWduKHt9LGFlLHt0aWZmOiExLGlmZDE6ITAsbWVyZ2VPdXRwdXQ6ITF9KTthc3luYyBmdW5jdGlvbiBvZShlKXtsZXQgdD1uZXcgSChsZSk7YXdhaXQgdC5yZWFkKGUpO2xldCBzPWF3YWl0IHQuZXh0cmFjdFRodW1ibmFpbCgpO3JldHVybiBzJiZhP3IuZnJvbShzKTpzfWFzeW5jIGZ1bmN0aW9uIHVlKGUpe2xldCB0PWF3YWl0IHRoaXMudGh1bWJuYWlsKGUpO2lmKHZvaWQgMCE9PXQpe2xldCBlPW5ldyBCbG9iKFt0XSk7cmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwoZSl9fWNvbnN0IGRlPU9iamVjdC5hc3NpZ24oe30sYWUse2ZpcnN0Q2h1bmtTaXplOjRlNCxpZmQwOlsyNzRdfSk7YXN5bmMgZnVuY3Rpb24gY2UoZSl7bGV0IHQ9bmV3IEgoZGUpO2F3YWl0IHQucmVhZChlKTtsZXQgcz1hd2FpdCB0LnBhcnNlKCk7aWYocyYmcy5pZmQwKXJldHVybiBzLmlmZDBbMjc0XX1jb25zdCBwZT1PYmplY3QuZnJlZXplKHsxOntkaW1lbnNpb25Td2FwcGVkOiExLHNjYWxlWDoxLHNjYWxlWToxLGRlZzowLHJhZDowfSwyOntkaW1lbnNpb25Td2FwcGVkOiExLHNjYWxlWDotMSxzY2FsZVk6MSxkZWc6MCxyYWQ6MH0sMzp7ZGltZW5zaW9uU3dhcHBlZDohMSxzY2FsZVg6MSxzY2FsZVk6MSxkZWc6MTgwLHJhZDoxODAqTWF0aC5QSS8xODB9LDQ6e2RpbWVuc2lvblN3YXBwZWQ6ITEsc2NhbGVYOi0xLHNjYWxlWToxLGRlZzoxODAscmFkOjE4MCpNYXRoLlBJLzE4MH0sNTp7ZGltZW5zaW9uU3dhcHBlZDohMCxzY2FsZVg6MSxzY2FsZVk6LTEsZGVnOjkwLHJhZDo5MCpNYXRoLlBJLzE4MH0sNjp7ZGltZW5zaW9uU3dhcHBlZDohMCxzY2FsZVg6MSxzY2FsZVk6MSxkZWc6OTAscmFkOjkwKk1hdGguUEkvMTgwfSw3OntkaW1lbnNpb25Td2FwcGVkOiEwLHNjYWxlWDoxLHNjYWxlWTotMSxkZWc6MjcwLHJhZDoyNzAqTWF0aC5QSS8xODB9LDg6e2RpbWVuc2lvblN3YXBwZWQ6ITAsc2NhbGVYOjEsc2NhbGVZOjEsZGVnOjI3MCxyYWQ6MjcwKk1hdGguUEkvMTgwfX0pO2xldCBnZT0hMCxtZT0hMDtpZihcIm9iamVjdFwiPT10eXBlb2YgbmF2aWdhdG9yKXtsZXQgZT1uYXZpZ2F0b3IudXNlckFnZW50O2lmKGUuaW5jbHVkZXMoXCJpUGFkXCIpfHxlLmluY2x1ZGVzKFwiaVBob25lXCIpKXtsZXQgdD1lLm1hdGNoKC9PUyAoXFxkKylfKFxcZCspLyk7aWYodCl7bGV0WyxlLHNdPXQsaT1OdW1iZXIoZSkrLjEqTnVtYmVyKHMpO2dlPWk8MTMuNCxtZT0hMX19ZWxzZSBpZihlLmluY2x1ZGVzKFwiT1MgWCAxMFwiKSl7bGV0Wyx0XT1lLm1hdGNoKC9PUyBYIDEwW18uXShcXGQrKS8pO2dlPW1lPU51bWJlcih0KTwxNX1pZihlLmluY2x1ZGVzKFwiQ2hyb21lL1wiKSl7bGV0Wyx0XT1lLm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKTtnZT1tZT1OdW1iZXIodCk8ODF9ZWxzZSBpZihlLmluY2x1ZGVzKFwiRmlyZWZveC9cIikpe2xldFssdF09ZS5tYXRjaCgvRmlyZWZveFxcLyhcXGQrKS8pO2dlPW1lPU51bWJlcih0KTw3N319YXN5bmMgZnVuY3Rpb24geWUoZSl7bGV0IHQ9YXdhaXQgY2UoZSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oe2NhbnZhczpnZSxjc3M6bWV9LHBlW3RdKX1jbGFzcyBiZSBleHRlbmRzIGN7Y29uc3RydWN0b3IoLi4udCl7c3VwZXIoLi4udCksZSh0aGlzLFwicmFuZ2VzXCIsbmV3IHdlKSwwIT09dGhpcy5ieXRlTGVuZ3RoJiZ0aGlzLnJhbmdlcy5hZGQoMCx0aGlzLmJ5dGVMZW5ndGgpfV90cnlFeHRlbmQoZSx0LHMpe2lmKDA9PT1lJiYwPT09dGhpcy5ieXRlTGVuZ3RoJiZzKXtsZXQgZT1uZXcgRGF0YVZpZXcocy5idWZmZXJ8fHMscy5ieXRlT2Zmc2V0LHMuYnl0ZUxlbmd0aCk7dGhpcy5fc3dhcERhdGFWaWV3KGUpfWVsc2V7bGV0IHM9ZSt0O2lmKHM+dGhpcy5ieXRlTGVuZ3RoKXtsZXR7ZGF0YVZpZXc6ZX09dGhpcy5fZXh0ZW5kKHMpO3RoaXMuX3N3YXBEYXRhVmlldyhlKX19fV9leHRlbmQoZSl7bGV0IHQ7dD1hP3IuYWxsb2NVbnNhZmUoZSk6bmV3IFVpbnQ4QXJyYXkoZSk7bGV0IHM9bmV3IERhdGFWaWV3KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpO3JldHVybiB0LnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcix0aGlzLmJ5dGVPZmZzZXQsdGhpcy5ieXRlTGVuZ3RoKSwwKSx7dWludFZpZXc6dCxkYXRhVmlldzpzfX1zdWJhcnJheShlLHQscz0hMSl7cmV0dXJuIHQ9dHx8dGhpcy5fbGVuZ3RoVG9FbmQoZSkscyYmdGhpcy5fdHJ5RXh0ZW5kKGUsdCksdGhpcy5yYW5nZXMuYWRkKGUsdCksc3VwZXIuc3ViYXJyYXkoZSx0KX1zZXQoZSx0LHM9ITEpe3MmJnRoaXMuX3RyeUV4dGVuZCh0LGUuYnl0ZUxlbmd0aCxlKTtsZXQgaT1zdXBlci5zZXQoZSx0KTtyZXR1cm4gdGhpcy5yYW5nZXMuYWRkKHQsaS5ieXRlTGVuZ3RoKSxpfWFzeW5jIGVuc3VyZUNodW5rKGUsdCl7dGhpcy5jaHVua2VkJiYodGhpcy5yYW5nZXMuYXZhaWxhYmxlKGUsdCl8fGF3YWl0IHRoaXMucmVhZENodW5rKGUsdCkpfWF2YWlsYWJsZShlLHQpe3JldHVybiB0aGlzLnJhbmdlcy5hdmFpbGFibGUoZSx0KX19Y2xhc3Mgd2V7Y29uc3RydWN0b3IoKXtlKHRoaXMsXCJsaXN0XCIsW10pfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5saXN0Lmxlbmd0aH1hZGQoZSx0LHM9MCl7bGV0IGk9ZSt0LG49dGhpcy5saXN0LmZpbHRlcigodD0+a2UoZSx0Lm9mZnNldCxpKXx8a2UoZSx0LmVuZCxpKSkpO2lmKG4ubGVuZ3RoPjApe2U9TWF0aC5taW4oZSwuLi5uLm1hcCgoZT0+ZS5vZmZzZXQpKSksaT1NYXRoLm1heChpLC4uLm4ubWFwKChlPT5lLmVuZCkpKSx0PWktZTtsZXQgcz1uLnNoaWZ0KCk7cy5vZmZzZXQ9ZSxzLmxlbmd0aD10LHMuZW5kPWksdGhpcy5saXN0PXRoaXMubGlzdC5maWx0ZXIoKGU9PiFuLmluY2x1ZGVzKGUpKSl9ZWxzZSB0aGlzLmxpc3QucHVzaCh7b2Zmc2V0OmUsbGVuZ3RoOnQsZW5kOml9KX1hdmFpbGFibGUoZSx0KXtsZXQgcz1lK3Q7cmV0dXJuIHRoaXMubGlzdC5zb21lKCh0PT50Lm9mZnNldDw9ZSYmczw9dC5lbmQpKX19ZnVuY3Rpb24ga2UoZSx0LHMpe3JldHVybiBlPD10JiZ0PD1zfWNsYXNzIE9lIGV4dGVuZHMgYmV7Y29uc3RydWN0b3IodCxzKXtzdXBlcigwKSxlKHRoaXMsXCJjaHVua3NSZWFkXCIsMCksdGhpcy5pbnB1dD10LHRoaXMub3B0aW9ucz1zfWFzeW5jIHJlYWRXaG9sZSgpe3RoaXMuY2h1bmtlZD0hMSxhd2FpdCB0aGlzLnJlYWRDaHVuayh0aGlzLm5leHRDaHVua09mZnNldCl9YXN5bmMgcmVhZENodW5rZWQoKXt0aGlzLmNodW5rZWQ9ITAsYXdhaXQgdGhpcy5yZWFkQ2h1bmsoMCx0aGlzLm9wdGlvbnMuZmlyc3RDaHVua1NpemUpfWFzeW5jIHJlYWROZXh0Q2h1bmsoZT10aGlzLm5leHRDaHVua09mZnNldCl7aWYodGhpcy5mdWxseVJlYWQpcmV0dXJuIHRoaXMuY2h1bmtzUmVhZCsrLCExO2xldCB0PXRoaXMub3B0aW9ucy5jaHVua1NpemUscz1hd2FpdCB0aGlzLnJlYWRDaHVuayhlLHQpO3JldHVybiEhcyYmcy5ieXRlTGVuZ3RoPT09dH1hc3luYyByZWFkQ2h1bmsoZSx0KXtpZih0aGlzLmNodW5rc1JlYWQrKywwIT09KHQ9dGhpcy5zYWZlV3JhcEFkZHJlc3MoZSx0KSkpcmV0dXJuIHRoaXMuX3JlYWRDaHVuayhlLHQpfXNhZmVXcmFwQWRkcmVzcyhlLHQpe3JldHVybiB2b2lkIDAhPT10aGlzLnNpemUmJmUrdD50aGlzLnNpemU/TWF0aC5tYXgoMCx0aGlzLnNpemUtZSk6dH1nZXQgbmV4dENodW5rT2Zmc2V0KCl7aWYoMCE9PXRoaXMucmFuZ2VzLmxpc3QubGVuZ3RoKXJldHVybiB0aGlzLnJhbmdlcy5saXN0WzBdLmxlbmd0aH1nZXQgY2FuUmVhZE5leHRDaHVuaygpe3JldHVybiB0aGlzLmNodW5rc1JlYWQ8dGhpcy5vcHRpb25zLmNodW5rTGltaXR9Z2V0IGZ1bGx5UmVhZCgpe3JldHVybiB2b2lkIDAhPT10aGlzLnNpemUmJnRoaXMubmV4dENodW5rT2Zmc2V0PT09dGhpcy5zaXplfXJlYWQoKXtyZXR1cm4gdGhpcy5vcHRpb25zLmNodW5rZWQ/dGhpcy5yZWFkQ2h1bmtlZCgpOnRoaXMucmVhZFdob2xlKCl9Y2xvc2UoKXt9fWIuc2V0KFwiYmxvYlwiLGNsYXNzIGV4dGVuZHMgT2V7YXN5bmMgcmVhZFdob2xlKCl7dGhpcy5jaHVua2VkPSExO2xldCBlPWF3YWl0IEEodGhpcy5pbnB1dCk7dGhpcy5fc3dhcEFycmF5QnVmZmVyKGUpfXJlYWRDaHVua2VkKCl7cmV0dXJuIHRoaXMuY2h1bmtlZD0hMCx0aGlzLnNpemU9dGhpcy5pbnB1dC5zaXplLHN1cGVyLnJlYWRDaHVua2VkKCl9YXN5bmMgX3JlYWRDaHVuayhlLHQpe2xldCBzPXQ/ZSt0OnZvaWQgMCxpPXRoaXMuaW5wdXQuc2xpY2UoZSxzKSxuPWF3YWl0IEEoaSk7cmV0dXJuIHRoaXMuc2V0KG4sZSwhMCl9fSk7ZXhwb3J0IGRlZmF1bHQgcmU7ZXhwb3J0e0ggYXMgRXhpZnIsUiBhcyBPcHRpb25zLE0gYXMgYWxsRm9ybWF0dGVycyxMIGFzIGNodW5rZWRQcm9wcyx4IGFzIGNyZWF0ZURpY3Rpb25hcnksQyBhcyBleHRlbmREaWN0aW9uYXJ5LFMgYXMgZmV0Y2hVcmxBc0FycmF5QnVmZmVyLG0gYXMgZmlsZVBhcnNlcnMsYiBhcyBmaWxlUmVhZGVycyxmZSBhcyBncHMsaGUgYXMgZ3BzT25seU9wdGlvbnMsRSBhcyBpbmhlcml0YWJsZXMsY2UgYXMgb3JpZW50YXRpb24sZGUgYXMgb3JpZW50YXRpb25Pbmx5T3B0aW9ucyxUIGFzIG90aGVyU2VnbWVudHMsWSBhcyBwYXJzZSxBIGFzIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcixnZSBhcyByb3RhdGVDYW52YXMsbWUgYXMgcm90YXRlQ3NzLHllIGFzIHJvdGF0aW9uLHBlIGFzIHJvdGF0aW9ucyx5IGFzIHNlZ21lbnRQYXJzZXJzLHogYXMgc2VnbWVudHMsRiBhcyBzZWdtZW50c0FuZEJsb2NrcyxCIGFzIHRhZ0tleXMsSSBhcyB0YWdSZXZpdmVycyxWIGFzIHRhZ1ZhbHVlcyxvZSBhcyB0aHVtYm5haWwsbGUgYXMgdGh1bWJuYWlsT25seU9wdGlvbnMsdWUgYXMgdGh1bWJuYWlsVXJsLFAgYXMgdGlmZkJsb2NrcyxqIGFzIHRpZmZFeHRyYWN0YWJsZXN9O1xuIiwiLyoqXG4gKiAgYmFzZTY0LnRzXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgMy1DbGF1c2UgTGljZW5zZS5cbiAqICAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqXG4gKiAgUmVmZXJlbmNlczpcbiAqICAgIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0XG4gKlxuICogQGF1dGhvciBEYW4gS29nYWkgKGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5rb2dhaSlcbiAqL1xuY29uc3QgdmVyc2lvbiA9ICczLjcuNSc7XG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBsb3dlcmNhc2UgYHZlcnNpb25gLlxuICovXG5jb25zdCBWRVJTSU9OID0gdmVyc2lvbjtcbmNvbnN0IF9oYXNhdG9iID0gdHlwZW9mIGF0b2IgPT09ICdmdW5jdGlvbic7XG5jb25zdCBfaGFzYnRvYSA9IHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nO1xuY29uc3QgX2hhc0J1ZmZlciA9IHR5cGVvZiBCdWZmZXIgPT09ICdmdW5jdGlvbic7XG5jb25zdCBfVEQgPSB0eXBlb2YgVGV4dERlY29kZXIgPT09ICdmdW5jdGlvbicgPyBuZXcgVGV4dERlY29kZXIoKSA6IHVuZGVmaW5lZDtcbmNvbnN0IF9URSA9IHR5cGVvZiBUZXh0RW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG5ldyBUZXh0RW5jb2RlcigpIDogdW5kZWZpbmVkO1xuY29uc3QgYjY0Y2ggPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuY29uc3QgYjY0Y2hzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYjY0Y2gpO1xuY29uc3QgYjY0dGFiID0gKChhKSA9PiB7XG4gICAgbGV0IHRhYiA9IHt9O1xuICAgIGEuZm9yRWFjaCgoYywgaSkgPT4gdGFiW2NdID0gaSk7XG4gICAgcmV0dXJuIHRhYjtcbn0pKGI2NGNocyk7XG5jb25zdCBiNjRyZSA9IC9eKD86W0EtWmEtelxcZCtcXC9dezR9KSo/KD86W0EtWmEtelxcZCtcXC9dezJ9KD86PT0pP3xbQS1aYS16XFxkK1xcL117M309Pyk/JC87XG5jb25zdCBfZnJvbUNDID0gU3RyaW5nLmZyb21DaGFyQ29kZS5iaW5kKFN0cmluZyk7XG5jb25zdCBfVThBZnJvbSA9IHR5cGVvZiBVaW50OEFycmF5LmZyb20gPT09ICdmdW5jdGlvbidcbiAgICA/IFVpbnQ4QXJyYXkuZnJvbS5iaW5kKFVpbnQ4QXJyYXkpXG4gICAgOiAoaXQpID0+IG5ldyBVaW50OEFycmF5KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGl0LCAwKSk7XG5jb25zdCBfbWtVcmlTYWZlID0gKHNyYykgPT4gc3JjXG4gICAgLnJlcGxhY2UoLz0vZywgJycpLnJlcGxhY2UoL1srXFwvXS9nLCAobTApID0+IG0wID09ICcrJyA/ICctJyA6ICdfJyk7XG5jb25zdCBfdGlkeUI2NCA9IChzKSA9PiBzLnJlcGxhY2UoL1teQS1aYS16MC05XFwrXFwvXS9nLCAnJyk7XG4vKipcbiAqIHBvbHlmaWxsIHZlcnNpb24gb2YgYGJ0b2FgXG4gKi9cbmNvbnN0IGJ0b2FQb2x5ZmlsbCA9IChiaW4pID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZygncG9seWZpbGxlZCcpO1xuICAgIGxldCB1MzIsIGMwLCBjMSwgYzIsIGFzYyA9ICcnO1xuICAgIGNvbnN0IHBhZCA9IGJpbi5sZW5ndGggJSAzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluLmxlbmd0aDspIHtcbiAgICAgICAgaWYgKChjMCA9IGJpbi5jaGFyQ29kZUF0KGkrKykpID4gMjU1IHx8XG4gICAgICAgICAgICAoYzEgPSBiaW4uY2hhckNvZGVBdChpKyspKSA+IDI1NSB8fFxuICAgICAgICAgICAgKGMyID0gYmluLmNoYXJDb2RlQXQoaSsrKSkgPiAyNTUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGNoYXJhY3RlciBmb3VuZCcpO1xuICAgICAgICB1MzIgPSAoYzAgPDwgMTYpIHwgKGMxIDw8IDgpIHwgYzI7XG4gICAgICAgIGFzYyArPSBiNjRjaHNbdTMyID4+IDE4ICYgNjNdXG4gICAgICAgICAgICArIGI2NGNoc1t1MzIgPj4gMTIgJiA2M11cbiAgICAgICAgICAgICsgYjY0Y2hzW3UzMiA+PiA2ICYgNjNdXG4gICAgICAgICAgICArIGI2NGNoc1t1MzIgJiA2M107XG4gICAgfVxuICAgIHJldHVybiBwYWQgPyBhc2Muc2xpY2UoMCwgcGFkIC0gMykgKyBcIj09PVwiLnN1YnN0cmluZyhwYWQpIDogYXNjO1xufTtcbi8qKlxuICogZG9lcyB3aGF0IGB3aW5kb3cuYnRvYWAgb2Ygd2ViIGJyb3dzZXJzIGRvLlxuICogQHBhcmFtIHtTdHJpbmd9IGJpbiBiaW5hcnkgc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBCYXNlNjQtZW5jb2RlZCBzdHJpbmdcbiAqL1xuY29uc3QgX2J0b2EgPSBfaGFzYnRvYSA/IChiaW4pID0+IGJ0b2EoYmluKVxuICAgIDogX2hhc0J1ZmZlciA/IChiaW4pID0+IEJ1ZmZlci5mcm9tKGJpbiwgJ2JpbmFyeScpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICAgICAgICA6IGJ0b2FQb2x5ZmlsbDtcbmNvbnN0IF9mcm9tVWludDhBcnJheSA9IF9oYXNCdWZmZXJcbiAgICA/ICh1OGEpID0+IEJ1ZmZlci5mcm9tKHU4YSkudG9TdHJpbmcoJ2Jhc2U2NCcpXG4gICAgOiAodThhKSA9PiB7XG4gICAgICAgIC8vIGNmLiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMjcxMDAwMS9ob3ctdG8tY29udmVydC11aW50OC1hcnJheS10by1iYXNlNjQtZW5jb2RlZC1zdHJpbmcvMTI3MTMzMjYjMTI3MTMzMjZcbiAgICAgICAgY29uc3QgbWF4YXJncyA9IDB4MTAwMDtcbiAgICAgICAgbGV0IHN0cnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB1OGEubGVuZ3RoOyBpIDwgbDsgaSArPSBtYXhhcmdzKSB7XG4gICAgICAgICAgICBzdHJzLnB1c2goX2Zyb21DQy5hcHBseShudWxsLCB1OGEuc3ViYXJyYXkoaSwgaSArIG1heGFyZ3MpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9idG9hKHN0cnMuam9pbignJykpO1xuICAgIH07XG4vKipcbiAqIGNvbnZlcnRzIGEgVWludDhBcnJheSB0byBhIEJhc2U2NCBzdHJpbmcuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1cmxzYWZlXSBVUkwtYW5kLWZpbGVuYW1lLXNhZmUgYSBsYSBSRkM0NjQ4IMKnNVxuICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0IHN0cmluZ1xuICovXG5jb25zdCBmcm9tVWludDhBcnJheSA9ICh1OGEsIHVybHNhZmUgPSBmYWxzZSkgPT4gdXJsc2FmZSA/IF9ta1VyaVNhZmUoX2Zyb21VaW50OEFycmF5KHU4YSkpIDogX2Zyb21VaW50OEFycmF5KHU4YSk7XG4vLyBUaGlzIHRyaWNrIGlzIGZvdW5kIGJyb2tlbiBodHRwczovL2dpdGh1Yi5jb20vZGFua29nYWkvanMtYmFzZTY0L2lzc3Vlcy8xMzBcbi8vIGNvbnN0IHV0b2IgPSAoc3JjOiBzdHJpbmcpID0+IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzcmMpKTtcbi8vIHJldmVydGluZyBnb29kIG9sZCBmYXRpb25lZCByZWdleHBcbmNvbnN0IGNiX3V0b2IgPSAoYykgPT4ge1xuICAgIGlmIChjLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgdmFyIGNjID0gYy5jaGFyQ29kZUF0KDApO1xuICAgICAgICByZXR1cm4gY2MgPCAweDgwID8gY1xuICAgICAgICAgICAgOiBjYyA8IDB4ODAwID8gKF9mcm9tQ0MoMHhjMCB8IChjYyA+Pj4gNikpXG4gICAgICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoY2MgJiAweDNmKSkpXG4gICAgICAgICAgICAgICAgOiAoX2Zyb21DQygweGUwIHwgKChjYyA+Pj4gMTIpICYgMHgwZikpXG4gICAgICAgICAgICAgICAgICAgICsgX2Zyb21DQygweDgwIHwgKChjYyA+Pj4gNikgJiAweDNmKSlcbiAgICAgICAgICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoY2MgJiAweDNmKSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGNjID0gMHgxMDAwMFxuICAgICAgICAgICAgKyAoYy5jaGFyQ29kZUF0KDApIC0gMHhEODAwKSAqIDB4NDAwXG4gICAgICAgICAgICArIChjLmNoYXJDb2RlQXQoMSkgLSAweERDMDApO1xuICAgICAgICByZXR1cm4gKF9mcm9tQ0MoMHhmMCB8ICgoY2MgPj4+IDE4KSAmIDB4MDcpKVxuICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoKGNjID4+PiAxMikgJiAweDNmKSlcbiAgICAgICAgICAgICsgX2Zyb21DQygweDgwIHwgKChjYyA+Pj4gNikgJiAweDNmKSlcbiAgICAgICAgICAgICsgX2Zyb21DQygweDgwIHwgKGNjICYgMHgzZikpKTtcbiAgICB9XG59O1xuY29uc3QgcmVfdXRvYiA9IC9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZGXXxbXlxceDAwLVxceDdGXS9nO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBzaG91bGQgaGF2ZSBiZWVuIGludGVybmFsIHVzZSBvbmx5LlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBVVEYtOCBzdHJpbmdcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFVURi0xNiBzdHJpbmdcbiAqL1xuY29uc3QgdXRvYiA9ICh1KSA9PiB1LnJlcGxhY2UocmVfdXRvYiwgY2JfdXRvYik7XG4vL1xuY29uc3QgX2VuY29kZSA9IF9oYXNCdWZmZXJcbiAgICA/IChzKSA9PiBCdWZmZXIuZnJvbShzLCAndXRmOCcpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICAgIDogX1RFXG4gICAgICAgID8gKHMpID0+IF9mcm9tVWludDhBcnJheShfVEUuZW5jb2RlKHMpKVxuICAgICAgICA6IChzKSA9PiBfYnRvYSh1dG9iKHMpKTtcbi8qKlxuICogY29udmVydHMgYSBVVEYtOC1lbmNvZGVkIHN0cmluZyB0byBhIEJhc2U2NCBzdHJpbmcuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1cmxzYWZlXSBpZiBgdHJ1ZWAgbWFrZSB0aGUgcmVzdWx0IFVSTC1zYWZlXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBCYXNlNjQgc3RyaW5nXG4gKi9cbmNvbnN0IGVuY29kZSA9IChzcmMsIHVybHNhZmUgPSBmYWxzZSkgPT4gdXJsc2FmZVxuICAgID8gX21rVXJpU2FmZShfZW5jb2RlKHNyYykpXG4gICAgOiBfZW5jb2RlKHNyYyk7XG4vKipcbiAqIGNvbnZlcnRzIGEgVVRGLTgtZW5jb2RlZCBzdHJpbmcgdG8gVVJMLXNhZmUgQmFzZTY0IFJGQzQ2NDggwqc1LlxuICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0IHN0cmluZ1xuICovXG5jb25zdCBlbmNvZGVVUkkgPSAoc3JjKSA9PiBlbmNvZGUoc3JjLCB0cnVlKTtcbi8vIFRoaXMgdHJpY2sgaXMgZm91bmQgYnJva2VuIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5rb2dhaS9qcy1iYXNlNjQvaXNzdWVzLzEzMFxuLy8gY29uc3QgYnRvdSA9IChzcmM6IHN0cmluZykgPT4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShzcmMpKTtcbi8vIHJldmVydGluZyBnb29kIG9sZCBmYXRpb25lZCByZWdleHBcbmNvbnN0IHJlX2J0b3UgPSAvW1xceEMwLVxceERGXVtcXHg4MC1cXHhCRl18W1xceEUwLVxceEVGXVtcXHg4MC1cXHhCRl17Mn18W1xceEYwLVxceEY3XVtcXHg4MC1cXHhCRl17M30vZztcbmNvbnN0IGNiX2J0b3UgPSAoY2NjYykgPT4ge1xuICAgIHN3aXRjaCAoY2NjYy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgdmFyIGNwID0gKCgweDA3ICYgY2NjYy5jaGFyQ29kZUF0KDApKSA8PCAxOClcbiAgICAgICAgICAgICAgICB8ICgoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgxKSkgPDwgMTIpXG4gICAgICAgICAgICAgICAgfCAoKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMikpIDw8IDYpXG4gICAgICAgICAgICAgICAgfCAoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgzKSksIG9mZnNldCA9IGNwIC0gMHgxMDAwMDtcbiAgICAgICAgICAgIHJldHVybiAoX2Zyb21DQygob2Zmc2V0ID4+PiAxMCkgKyAweEQ4MDApXG4gICAgICAgICAgICAgICAgKyBfZnJvbUNDKChvZmZzZXQgJiAweDNGRikgKyAweERDMDApKTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIF9mcm9tQ0MoKCgweDBmICYgY2NjYy5jaGFyQ29kZUF0KDApKSA8PCAxMilcbiAgICAgICAgICAgICAgICB8ICgoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgxKSkgPDwgNilcbiAgICAgICAgICAgICAgICB8ICgweDNmICYgY2NjYy5jaGFyQ29kZUF0KDIpKSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gX2Zyb21DQygoKDB4MWYgJiBjY2NjLmNoYXJDb2RlQXQoMCkpIDw8IDYpXG4gICAgICAgICAgICAgICAgfCAoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgxKSkpO1xuICAgIH1cbn07XG4vKipcbiAqIEBkZXByZWNhdGVkIHNob3VsZCBoYXZlIGJlZW4gaW50ZXJuYWwgdXNlIG9ubHkuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjIFVURi0xNiBzdHJpbmdcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFVURi04IHN0cmluZ1xuICovXG5jb25zdCBidG91ID0gKGIpID0+IGIucmVwbGFjZShyZV9idG91LCBjYl9idG91KTtcbi8qKlxuICogcG9seWZpbGwgdmVyc2lvbiBvZiBgYXRvYmBcbiAqL1xuY29uc3QgYXRvYlBvbHlmaWxsID0gKGFzYykgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKCdwb2x5ZmlsbGVkJyk7XG4gICAgYXNjID0gYXNjLnJlcGxhY2UoL1xccysvZywgJycpO1xuICAgIGlmICghYjY0cmUudGVzdChhc2MpKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYWxmb3JtZWQgYmFzZTY0LicpO1xuICAgIGFzYyArPSAnPT0nLnNsaWNlKDIgLSAoYXNjLmxlbmd0aCAmIDMpKTtcbiAgICBsZXQgdTI0LCBiaW4gPSAnJywgcjEsIHIyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXNjLmxlbmd0aDspIHtcbiAgICAgICAgdTI0ID0gYjY0dGFiW2FzYy5jaGFyQXQoaSsrKV0gPDwgMThcbiAgICAgICAgICAgIHwgYjY0dGFiW2FzYy5jaGFyQXQoaSsrKV0gPDwgMTJcbiAgICAgICAgICAgIHwgKHIxID0gYjY0dGFiW2FzYy5jaGFyQXQoaSsrKV0pIDw8IDZcbiAgICAgICAgICAgIHwgKHIyID0gYjY0dGFiW2FzYy5jaGFyQXQoaSsrKV0pO1xuICAgICAgICBiaW4gKz0gcjEgPT09IDY0ID8gX2Zyb21DQyh1MjQgPj4gMTYgJiAyNTUpXG4gICAgICAgICAgICA6IHIyID09PSA2NCA/IF9mcm9tQ0ModTI0ID4+IDE2ICYgMjU1LCB1MjQgPj4gOCAmIDI1NSlcbiAgICAgICAgICAgICAgICA6IF9mcm9tQ0ModTI0ID4+IDE2ICYgMjU1LCB1MjQgPj4gOCAmIDI1NSwgdTI0ICYgMjU1KTtcbiAgICB9XG4gICAgcmV0dXJuIGJpbjtcbn07XG4vKipcbiAqIGRvZXMgd2hhdCBgd2luZG93LmF0b2JgIG9mIHdlYiBicm93c2VycyBkby5cbiAqIEBwYXJhbSB7U3RyaW5nfSBhc2MgQmFzZTY0LWVuY29kZWQgc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBiaW5hcnkgc3RyaW5nXG4gKi9cbmNvbnN0IF9hdG9iID0gX2hhc2F0b2IgPyAoYXNjKSA9PiBhdG9iKF90aWR5QjY0KGFzYykpXG4gICAgOiBfaGFzQnVmZmVyID8gKGFzYykgPT4gQnVmZmVyLmZyb20oYXNjLCAnYmFzZTY0JykudG9TdHJpbmcoJ2JpbmFyeScpXG4gICAgICAgIDogYXRvYlBvbHlmaWxsO1xuLy9cbmNvbnN0IF90b1VpbnQ4QXJyYXkgPSBfaGFzQnVmZmVyXG4gICAgPyAoYSkgPT4gX1U4QWZyb20oQnVmZmVyLmZyb20oYSwgJ2Jhc2U2NCcpKVxuICAgIDogKGEpID0+IF9VOEFmcm9tKF9hdG9iKGEpLnNwbGl0KCcnKS5tYXAoYyA9PiBjLmNoYXJDb2RlQXQoMCkpKTtcbi8qKlxuICogY29udmVydHMgYSBCYXNlNjQgc3RyaW5nIHRvIGEgVWludDhBcnJheS5cbiAqL1xuY29uc3QgdG9VaW50OEFycmF5ID0gKGEpID0+IF90b1VpbnQ4QXJyYXkoX3VuVVJJKGEpKTtcbi8vXG5jb25zdCBfZGVjb2RlID0gX2hhc0J1ZmZlclxuICAgID8gKGEpID0+IEJ1ZmZlci5mcm9tKGEsICdiYXNlNjQnKS50b1N0cmluZygndXRmOCcpXG4gICAgOiBfVERcbiAgICAgICAgPyAoYSkgPT4gX1RELmRlY29kZShfdG9VaW50OEFycmF5KGEpKVxuICAgICAgICA6IChhKSA9PiBidG91KF9hdG9iKGEpKTtcbmNvbnN0IF91blVSSSA9IChhKSA9PiBfdGlkeUI2NChhLnJlcGxhY2UoL1stX10vZywgKG0wKSA9PiBtMCA9PSAnLScgPyAnKycgOiAnLycpKTtcbi8qKlxuICogY29udmVydHMgYSBCYXNlNjQgc3RyaW5nIHRvIGEgVVRGLTggc3RyaW5nLlxuICogQHBhcmFtIHtTdHJpbmd9IHNyYyBCYXNlNjQgc3RyaW5nLiAgQm90aCBub3JtYWwgYW5kIFVSTC1zYWZlIGFyZSBzdXBwb3J0ZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFVURi04IHN0cmluZ1xuICovXG5jb25zdCBkZWNvZGUgPSAoc3JjKSA9PiBfZGVjb2RlKF91blVSSShzcmMpKTtcbi8qKlxuICogY2hlY2sgaWYgYSB2YWx1ZSBpcyBhIHZhbGlkIEJhc2U2NCBzdHJpbmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgYSB2YWx1ZSB0byBjaGVja1xuICAqL1xuY29uc3QgaXNWYWxpZCA9IChzcmMpID0+IHtcbiAgICBpZiAodHlwZW9mIHNyYyAhPT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBzID0gc3JjLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoLz17MCwyfSQvLCAnJyk7XG4gICAgcmV0dXJuICEvW15cXHMwLTlhLXpBLVpcXCsvXS8udGVzdChzKSB8fCAhL1teXFxzMC05YS16QS1aXFwtX10vLnRlc3Qocyk7XG59O1xuLy9cbmNvbnN0IF9ub0VudW0gPSAodikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB2LCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH07XG59O1xuLyoqXG4gKiBleHRlbmQgU3RyaW5nLnByb3RvdHlwZSB3aXRoIHJlbGV2YW50IG1ldGhvZHNcbiAqL1xuY29uc3QgZXh0ZW5kU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IF9hZGQgPSAobmFtZSwgYm9keSkgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsIG5hbWUsIF9ub0VudW0oYm9keSkpO1xuICAgIF9hZGQoJ2Zyb21CYXNlNjQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWNvZGUodGhpcyk7IH0pO1xuICAgIF9hZGQoJ3RvQmFzZTY0JywgZnVuY3Rpb24gKHVybHNhZmUpIHsgcmV0dXJuIGVuY29kZSh0aGlzLCB1cmxzYWZlKTsgfSk7XG4gICAgX2FkZCgndG9CYXNlNjRVUkknLCBmdW5jdGlvbiAoKSB7IHJldHVybiBlbmNvZGUodGhpcywgdHJ1ZSk7IH0pO1xuICAgIF9hZGQoJ3RvQmFzZTY0VVJMJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZW5jb2RlKHRoaXMsIHRydWUpOyB9KTtcbiAgICBfYWRkKCd0b1VpbnQ4QXJyYXknLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0b1VpbnQ4QXJyYXkodGhpcyk7IH0pO1xufTtcbi8qKlxuICogZXh0ZW5kIFVpbnQ4QXJyYXkucHJvdG90eXBlIHdpdGggcmVsZXZhbnQgbWV0aG9kc1xuICovXG5jb25zdCBleHRlbmRVaW50OEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IF9hZGQgPSAobmFtZSwgYm9keSkgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KFVpbnQ4QXJyYXkucHJvdG90eXBlLCBuYW1lLCBfbm9FbnVtKGJvZHkpKTtcbiAgICBfYWRkKCd0b0Jhc2U2NCcsIGZ1bmN0aW9uICh1cmxzYWZlKSB7IHJldHVybiBmcm9tVWludDhBcnJheSh0aGlzLCB1cmxzYWZlKTsgfSk7XG4gICAgX2FkZCgndG9CYXNlNjRVUkknLCBmdW5jdGlvbiAoKSB7IHJldHVybiBmcm9tVWludDhBcnJheSh0aGlzLCB0cnVlKTsgfSk7XG4gICAgX2FkZCgndG9CYXNlNjRVUkwnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBmcm9tVWludDhBcnJheSh0aGlzLCB0cnVlKTsgfSk7XG59O1xuLyoqXG4gKiBleHRlbmQgQnVpbHRpbiBwcm90b3R5cGVzIHdpdGggcmVsZXZhbnQgbWV0aG9kc1xuICovXG5jb25zdCBleHRlbmRCdWlsdGlucyA9ICgpID0+IHtcbiAgICBleHRlbmRTdHJpbmcoKTtcbiAgICBleHRlbmRVaW50OEFycmF5KCk7XG59O1xuY29uc3QgZ0Jhc2U2NCA9IHtcbiAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgIFZFUlNJT046IFZFUlNJT04sXG4gICAgYXRvYjogX2F0b2IsXG4gICAgYXRvYlBvbHlmaWxsOiBhdG9iUG9seWZpbGwsXG4gICAgYnRvYTogX2J0b2EsXG4gICAgYnRvYVBvbHlmaWxsOiBidG9hUG9seWZpbGwsXG4gICAgZnJvbUJhc2U2NDogZGVjb2RlLFxuICAgIHRvQmFzZTY0OiBlbmNvZGUsXG4gICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgZW5jb2RlVVJJOiBlbmNvZGVVUkksXG4gICAgZW5jb2RlVVJMOiBlbmNvZGVVUkksXG4gICAgdXRvYjogdXRvYixcbiAgICBidG91OiBidG91LFxuICAgIGRlY29kZTogZGVjb2RlLFxuICAgIGlzVmFsaWQ6IGlzVmFsaWQsXG4gICAgZnJvbVVpbnQ4QXJyYXk6IGZyb21VaW50OEFycmF5LFxuICAgIHRvVWludDhBcnJheTogdG9VaW50OEFycmF5LFxuICAgIGV4dGVuZFN0cmluZzogZXh0ZW5kU3RyaW5nLFxuICAgIGV4dGVuZFVpbnQ4QXJyYXk6IGV4dGVuZFVpbnQ4QXJyYXksXG4gICAgZXh0ZW5kQnVpbHRpbnM6IGV4dGVuZEJ1aWx0aW5zLFxufTtcbi8vIG1ha2VjanM6Q1VUIC8vXG5leHBvcnQgeyB2ZXJzaW9uIH07XG5leHBvcnQgeyBWRVJTSU9OIH07XG5leHBvcnQgeyBfYXRvYiBhcyBhdG9iIH07XG5leHBvcnQgeyBhdG9iUG9seWZpbGwgfTtcbmV4cG9ydCB7IF9idG9hIGFzIGJ0b2EgfTtcbmV4cG9ydCB7IGJ0b2FQb2x5ZmlsbCB9O1xuZXhwb3J0IHsgZGVjb2RlIGFzIGZyb21CYXNlNjQgfTtcbmV4cG9ydCB7IGVuY29kZSBhcyB0b0Jhc2U2NCB9O1xuZXhwb3J0IHsgdXRvYiB9O1xuZXhwb3J0IHsgZW5jb2RlIH07XG5leHBvcnQgeyBlbmNvZGVVUkkgfTtcbmV4cG9ydCB7IGVuY29kZVVSSSBhcyBlbmNvZGVVUkwgfTtcbmV4cG9ydCB7IGJ0b3UgfTtcbmV4cG9ydCB7IGRlY29kZSB9O1xuZXhwb3J0IHsgaXNWYWxpZCB9O1xuZXhwb3J0IHsgZnJvbVVpbnQ4QXJyYXkgfTtcbmV4cG9ydCB7IHRvVWludDhBcnJheSB9O1xuZXhwb3J0IHsgZXh0ZW5kU3RyaW5nIH07XG5leHBvcnQgeyBleHRlbmRVaW50OEFycmF5IH07XG5leHBvcnQgeyBleHRlbmRCdWlsdGlucyB9O1xuLy8gYW5kIGZpbmFsbHksXG5leHBvcnQgeyBnQmFzZTY0IGFzIEJhc2U2NCB9O1xuIiwibGV0IHVybEFscGhhYmV0ID1cbiAgJ3VzZWFuZG9tLTI2VDE5ODM0MFBYNzVweEpBQ0tWRVJZTUlOREJVU0hXT0xGX0dRWmJmZ2hqa2xxdnd5enJpY3QnXG5leHBvcnQgbGV0IGN1c3RvbUFscGhhYmV0ID0gKGFscGhhYmV0LCBkZWZhdWx0U2l6ZSA9IDIxKSA9PiB7XG4gIHJldHVybiAoc2l6ZSA9IGRlZmF1bHRTaXplKSA9PiB7XG4gICAgbGV0IGlkID0gJydcbiAgICBsZXQgaSA9IHNpemVcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBpZCArPSBhbHBoYWJldFsoTWF0aC5yYW5kb20oKSAqIGFscGhhYmV0Lmxlbmd0aCkgfCAwXVxuICAgIH1cbiAgICByZXR1cm4gaWRcbiAgfVxufVxuZXhwb3J0IGxldCBuYW5vaWQgPSAoc2l6ZSA9IDIxKSA9PiB7XG4gIGxldCBpZCA9ICcnXG4gIGxldCBpID0gc2l6ZVxuICB3aGlsZSAoaS0tKSB7XG4gICAgaWQgKz0gdXJsQWxwaGFiZXRbKE1hdGgucmFuZG9tKCkgKiA2NCkgfCAwXVxuICB9XG4gIHJldHVybiBpZFxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdFwibWFpblwiOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA9IHVuZGVmaW5lZDsiLCJpbXBvcnQgVXBweSBmcm9tICdAdXBweS9jb3JlJztcbmltcG9ydCBUaHVtYm5haWxHZW5lcmF0b3IgZnJvbSAnQHVwcHkvdGh1bWJuYWlsLWdlbmVyYXRvcidcbmltcG9ydCBEYXNoYm9hcmQgZnJvbSAnQHVwcHkvZGFzaGJvYXJkJztcbmltcG9ydCBHb29nbGVEcml2ZSBmcm9tICdAdXBweS9nb29nbGUtZHJpdmUnO1xuaW1wb3J0IERyb3Bib3ggZnJvbSAnQHVwcHkvZHJvcGJveCc7XG5pbXBvcnQgSW5zdGFncmFtIGZyb20gJ0B1cHB5L2luc3RhZ3JhbSc7XG5pbXBvcnQgRmFjZWJvb2sgZnJvbSAnQHVwcHkvZmFjZWJvb2snO1xuaW1wb3J0IE9uZURyaXZlIGZyb20gJ0B1cHB5L29uZWRyaXZlJztcbmltcG9ydCBXZWJjYW0gZnJvbSAnQHVwcHkvd2ViY2FtJztcbmltcG9ydCBVcmwgZnJvbSAnQHVwcHkvdXJsJztcbmltcG9ydCBJbWFnZUVkaXRvciBmcm9tICdAdXBweS9pbWFnZS1lZGl0b3InO1xuaW1wb3J0IEF3c1MzTXVsdGlwYXJ0IGZyb20gJ0B1cHB5L2F3cy1zMy1tdWx0aXBhcnQnO1xuaW1wb3J0IFR1cyBmcm9tICdAdXBweS90dXMnO1xuaW1wb3J0IEZyZW5jaCBmcm9tICdAdXBweS9sb2NhbGVzL2xpYi9mcl9GUic7XG5pbXBvcnQgU3BhbmlzaCBmcm9tICdAdXBweS9sb2NhbGVzL2xpYi9lc19FUyc7XG5pbXBvcnQgR29sZGVuUmV0cmlldmVyIGZyb20gJ0B1cHB5L2dvbGRlbi1yZXRyaWV2ZXInO1xuXG5pbXBvcnQgJ0B1cHB5L2NvcmUvZGlzdC9zdHlsZS5jc3MnO1xuaW1wb3J0ICdAdXBweS9kYXNoYm9hcmQvZGlzdC9zdHlsZS5jc3MnO1xuaW1wb3J0ICdAdXBweS93ZWJjYW0vZGlzdC9zdHlsZS5jc3MnO1xuaW1wb3J0ICdAdXBweS9zY3JlZW4tY2FwdHVyZS9kaXN0L3N0eWxlLmNzcyc7XG5pbXBvcnQgJ0B1cHB5L2ltYWdlLWVkaXRvci9kaXN0L3N0eWxlLmNzcyc7XG5pbXBvcnQgJ0B1cHB5L3VybC9kaXN0L3N0eWxlLmNzcyc7XG5pbXBvcnQgJ0B1cHB5L2dvbGRlbi1yZXRyaWV2ZXIvbGliL1NlcnZpY2VXb3JrZXInO1xuXG53aW5kb3cuY29tX2FzYW93ZWJfdmFhZGluX3VwcHlmaWxldXBsb2FkX1VwcHlVcGxvYWRlckNvbXBvbmVudCAgPSBmdW5jdGlvbigpIHtcblxuICAgIC8qXG4gICAgKiBUaGUgUlBDIHByb3h5IHRvIHRoZSBzZXJ2ZXIgc2lkZSBpbXBsZW1lbnRhdGlvbi5cbiAgICAqL1xuICAgIHZhciBycGNQcm94eSA9IHRoaXMuZ2V0UnBjUHJveHkoKTtcblxuICAgIHZhciB1cHB5ID0gbnVsbDtcblxuICAgIHZhciBjb25uZWN0b3JJZCA9IHRoaXMuZ2V0Q29ubmVjdG9ySWQoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBkaXYgdGhhdCBjb250YWlucyB0aGUgYnV0dG9ucyBhbmQgaW5wdXRzIGZvciB1cGxvYWQuXG4gICAgICpcbiAgICAgKiBAdHlwZSBAZXhwO2RvY3VtZW50QGNhbGw7Y3JlYXRlRWxlbWVudFxuICAgICAqL1xuICAgIHZhciBjb250YWluZXI7XG5cbiAgICB2YXIgdCA9IHRoaXM7XG4gICAgdmFyIGUgPSB0LmdldEVsZW1lbnQoKTtcbiAgICB2YXIgZCA9IHRydWU7IC8qIGRlYnVnZ2VyICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgVFVTIGNsaWVudCBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIHVwbG9hZGVyO1xuXG4gICAgLyoqXG4gICAgICogU3RvcmUgY3VycmVudCB1cGxvYWRlciBzdGF0dXMuXG4gICAgICovXG4gICAgdmFyIGlzVXBsb2FkaW5nID0gZmFsc2U7XG5cbiAgICB2YXIgYXV0b0hpZGVUaHVtYnMgPSB0cnVlO1xuXG4gICAgdmFyIGxhc3RUaW1lID0gW107XG5cbiAgICB2YXIgbGFzdFBlcmNlbnRQcm9ncmVzcyA9IFtdO1xuXG4gICAgdmFyIGNvbnRhaW5lcklkID0gXCJ1cHB5bXVsdGl1cGxvYWRfY29udGFpbmVyX1wiICsgY29ubmVjdG9ySWQ7XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIGNvbnRhaW5lciBkaXZzIGFuZCB0aGUgYnV0dG9ucyBpbiB0aGUgZGl2LlxuICAgICAqXG4gICAgICogQHBhcmFtIHt0eXBlfSBzdGF0ZVxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5fYnVpbGRCdXR0b25zID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZShcImlkXCIsIGNvbnRhaW5lcklkICk7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcInVwcHktaXRlbS1kYXNoYm9hcmRcIjtcbiAgICAgICAgZS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgICAgICB0LnNldFNpemUoc3RhdGUud2lkdGgsIHN0YXRlLmhlaWdodClcbiAgICB9XG5cbiAgICAvKlxuICogQ2FsbGVkIHdoZW4gdGhlIHN0YXRlIG9uIHRoZSBzZXJ2ZXIgc2lkZSBjaGFuZ2VzLiBJZiB0aGUgc3RhdGVcbiAqIGNoYW5nZXMgcmVxdWlyZSBhIHJlYnVpbGQgb2YgdGhlIHVwbG9hZCBjb21wb25lbnQsIGl0IHdpbGwgYmVcbiAqIGRlc3Ryb3llZCBhbmQgcmVjcmVhdGVkLiBBbGwgb3RoZXIgc3RhdGUgY2hhbmdlcyB3aWxsIGJlIGFwcGxpZWRcbiAqIHRvIHRoZSBleGlzdGluZyB1cGxvYWQgaW5zdGFuY2UuXG4gKi9cbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2UgPSBmdW5jdGlvbihlKSB7XG5cbiAgICAgICAgbGV0IHMgPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgICAgIGQgPSBzLmRlYnVnO1xuXG4gICAgICAgIGlmICggIWNvbnRhaW5lcikge1xuXG5cbiAgICAgICAgICAgIC8vIENsZWFudXAgdGhlIGN1cnJlbnQgdXBsb2FkZXIgaWYgdGhlcmUgaXMgb25lLlxuICAgICAgICAgICAgLy8gdXBsb2FkZXIgPSBudWxsOyAvLyBub3QgbmVlZGVkOiByZWNyZWF0ZWQgZm9yIGVhY2ggZmlsZSB1cGxvYWRcbiAgICAgICAgICAgIGUuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBCdWlsZCB0aGUgbmV3IHVwbG9hZGVyLlxuICAgICAgICAgICAgICAgIHRoaXMuX2J1aWxkQnV0dG9ucyhzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHVwcHkpIHtcbiAgICAgICAgICAgICAgICBhcHBseVN0YXRlKHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc2V0U2l6ZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoID4gMCkge1xuICAgICAgICAgICAgY29udGFpbmVyLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBlLndpZHRoID0gd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlaWdodCA+IDApIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBlLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmxvZyA9IGZ1bmN0aW9uIChpdGVtLCB2YXJpYWJsZXMpIHtcbiAgICAgICAgaWYgKHQuZCkge1xuICAgICAgICAgICAgY29uc29sZS5kaXIoXCJVcHB5OiBcIiwgaXRlbSwgdmFyaWFibGVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYXBwbHlTdGF0ZSA9IGZ1bmN0aW9uKHN0YXRlKXtcbiAgICAgICAgaWYgKHVwcHkpIHtcbiAgICAgICAgICAgIHVwcHkuc2V0T3B0aW9ucyhzLmNvcmVPcHRpb25zKTtcbiAgICAgICAgICAgIGxldCBkYXNoYm9hcmQgPSB1cHB5LmdldFBsdWdpbignRGFzaGJvYXJkJylcbiAgICAgICAgICAgIGlmIChkYXNoYm9hcmQpIHtcbiAgICAgICAgICAgICAgICBzLmRhc2hib2FyZHBhcmFtZXRlcnMudGFyZ2V0ID0gXCIjXCIgKyBjb250YWluZXJJZDtcbiAgICAgICAgICAgICAgICBkYXNoYm9hcmQuc2V0T3B0aW9ucyhzLmRhc2hib2FyZHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRodW1ibmFpbEdlbmVyYXRvciA9IHVwcHkuZ2V0UGx1Z2luKCdUaHVtYm5haWxHZW5lcmF0b3InKVxuICAgICAgICAgICAgaWYgKHRodW1ibmFpbEdlbmVyYXRvcikge1xuICAgICAgICAgICAgICAgIHRodW1ibmFpbEdlbmVyYXRvci5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsV2lkdGg6IHMuZGFzaGJvYXJkcGFyYW1ldGVycy50aHVtYm5haWxXaWR0aFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZWdpc3RlclJwYyh7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgLy9sZXQgc3RhdGUgPSB0LmdldFN0YXRlKCk7XG4gICAgICAgICAgICBsZXQgY29tcGFuaW9uVXJsID0gc3RhdGUuY29tcGFuaW9uVXJsO1xuICAgICAgICAgICAgbGV0IGRhc2hib2FyZHBhcmFtZXRlcnMgPSBzdGF0ZS5kYXNoYm9hcmRwYXJhbWV0ZXJzO1xuICAgICAgICAgICAgZGFzaGJvYXJkcGFyYW1ldGVycy50YXJnZXQgPSBcIiNcIiArIGNvbnRhaW5lcklkO1xuICAgICAgICAgICAgbGV0IGNvcmVvcHRpb25zID0gc3RhdGUuY29yZU9wdGlvbnM7XG4gICAgICAgICAgICBkID0gc3RhdGUuZGVidWc7XG4gICAgICAgICAgICBpZihlLm9mZnNldFdpZHRoID4gMCAmJiBlLnN0eWxlLndpZHRoID09ICcxMDAlJyApIHtcbiAgICAgICAgICAgICAgICBkYXNoYm9hcmRwYXJhbWV0ZXJzLndpZHRoID0gZS5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGUub2Zmc2V0SGVpZ2h0ID4gMCAmJiAgZS5zdHlsZS5oZWlnaHQgPT0gJzEwMCUnICkge1xuICAgICAgICAgICAgICAgIGRhc2hib2FyZHBhcmFtZXRlcnMuaGVpZ2h0ID0gZS5vZmZzZXRIZWlnaHQgLSAxMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdC5zZXRTaXplKGRhc2hib2FyZHBhcmFtZXRlcnMud2lkdGgsIGRhc2hib2FyZHBhcmFtZXRlcnMuaGVpZ2h0KTtcblxuICAgICAgICAgICAgaWYgKGNvcmVvcHRpb25zLmVkb21haW4gPT0gJ0ZSJykge1xuICAgICAgICAgICAgICAgIGNvcmVvcHRpb25zLmxvY2FsZSA9IEZyZW5jaDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29yZW9wdGlvbnMuZWRvbWFpbiA9PSAnRVMnKSB7XG4gICAgICAgICAgICAgICAgY29yZW9wdGlvbnMubG9jYWxlID0gU3BhbmlzaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvcmVvcHRpb25zLmVkb21haW4gPSBudWxsO1xuXG4gICAgICAgICAgICBhdXRvSGlkZVRodW1icyA9IGNvcmVvcHRpb25zLmF1dG9IaWRlVGh1bWJzO1xuICAgICAgICAgICAgY29yZW9wdGlvbnMuYXV0b0hpZGVUaHVtYnMgPSBudWxsO1xuXG4gICAgICAgICAgICB0LmxvZyhcIkluaXRpYWxpemluZyB1cHB5XCIpO1xuICAgICAgICAgICAgdXBweSA9IG5ldyBVcHB5KGNvcmVvcHRpb25zKVxuICAgICAgICAgICAgICAgIC51c2UoRGFzaGJvYXJkLCBkYXNoYm9hcmRwYXJhbWV0ZXJzKVxuICAgICAgICAgICAgICAgIC51c2UoV2ViY2FtLCB7dGFyZ2V0OiBEYXNoYm9hcmR9KVxuICAgICAgICAgICAgICAgIC51c2UoVGh1bWJuYWlsR2VuZXJhdG9yLCB7XG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbFdpZHRoOiBkYXNoYm9hcmRwYXJhbWV0ZXJzLnRodW1ibmFpbFdpZHRoXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc3RhdGUuYWxsb3dJbWFnZUVkaXRvcikge1xuICAgICAgICAgICAgICAgIC8vLnVzZShTY3JlZW5DYXB0dXJlLCB7IHRhcmdldDogRGFzaGJvYXJkIH0pXG4gICAgICAgICAgICAgICAgdXBweS51c2UoSW1hZ2VFZGl0b3IsIHt0YXJnZXQ6IERhc2hib2FyZH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihzdGF0ZS51cGxvYWRNb2R1bGUgPT0gJ1MzJykge1xuICAgICAgICAgICAgICAgIHVwcHkudXNlKEF3c1MzTXVsdGlwYXJ0LCB7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0OiAxMDAwLCBjb21wYW5pb25Vcmw6IGNvbXBhbmlvblVybCxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTXVsdGlwYXJ0VXBsb2FkKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgc3RpbmdzIGFyZSBhbGxvd2VzIGluIG1ldGFkYXRhLCB3ZSdyZSBzZXR0aW5ncyBpbiB0aGUgczMgbWV0YWRhdGEgb25seSB0aGUgdWkgaWQgYW5kIHRoZSB1c2VyIGlkXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goYCR7Y29tcGFuaW9uVXJsfS9zMy9tdWx0aXBhcnRgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZmlsZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IFVJVWlkKGZpbGUubWV0YS5pZCwgZmlsZS5tZXRhLnVzZXJJZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmKHN0YXRlLnVwbG9hZE1vZHVsZSA9PSAnVFVTJykge1xuICAgICAgICAgICAgICAgIHVwcHkudXNlKFR1cywge1xuICAgICAgICAgICAgICAgICAgICBlbmRwb2ludDogYCR7Y29tcGFuaW9uVXJsfS90dXMvZmlsZXMvYCwgLy8gdXNlIHlvdXIgdHVzIGVuZHBvaW50IGhlcmVcbiAgICAgICAgICAgICAgICAgICAgcmVzdW1lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICByZXRyeURlbGF5czogc3RhdGUucmV0cnlEZWxheXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoZGFzaGJvYXJkcGFyYW1ldGVycy5wbHVnaW5zLmluY2x1ZGVzKFwiR29vZ2xlRHJpdmVcIikpIHVwcHkudXNlKEdvb2dsZURyaXZlLCB7IHRhcmdldDogRGFzaGJvYXJkLCBjb21wYW5pb25Vcmw6IGNvbXBhbmlvblVybCB9KTtcbiAgICAgICAgICAgIGlmKGRhc2hib2FyZHBhcmFtZXRlcnMucGx1Z2lucy5pbmNsdWRlcyhcIkRyb3Bib3hcIikpIHVwcHkudXNlKERyb3Bib3gsIHsgdGFyZ2V0OiBEYXNoYm9hcmQsIGNvbXBhbmlvblVybDogY29tcGFuaW9uVXJsIH0pO1xuICAgICAgICAgICAgaWYoZGFzaGJvYXJkcGFyYW1ldGVycy5wbHVnaW5zLmluY2x1ZGVzKFwiSW5zdGFncmFtXCIpKSB1cHB5LnVzZShJbnN0YWdyYW0sIHsgdGFyZ2V0OiBEYXNoYm9hcmQsIGNvbXBhbmlvblVybDogY29tcGFuaW9uVXJsIH0pO1xuICAgICAgICAgICAgaWYoZGFzaGJvYXJkcGFyYW1ldGVycy5wbHVnaW5zLmluY2x1ZGVzKFwiRmFjZWJvb2tcIikpIHVwcHkudXNlKEZhY2Vib29rLCB7IHRhcmdldDogRGFzaGJvYXJkLCBjb21wYW5pb25Vcmw6IGNvbXBhbmlvblVybCB9KTtcbiAgICAgICAgICAgIGlmKGRhc2hib2FyZHBhcmFtZXRlcnMucGx1Z2lucy5pbmNsdWRlcyhcIk9uZURyaXZlXCIpKSB1cHB5LnVzZShPbmVEcml2ZSwgeyB0YXJnZXQ6IERhc2hib2FyZCwgY29tcGFuaW9uVXJsOiBjb21wYW5pb25VcmwgfSk7XG4gICAgICAgICAgICBpZihkYXNoYm9hcmRwYXJhbWV0ZXJzLnBsdWdpbnMuaW5jbHVkZXMoXCJMaW5rc1wiKSkgdXBweS51c2UoVXJsLCB7dGFyZ2V0OiBEYXNoYm9hcmQsIGNvbXBhbmlvblVybDogY29tcGFuaW9uVXJsfSk7XG5cbiAgICAgICAgICAgIHVwcHkudXNlKEdvbGRlblJldHJpZXZlciwge3NlcnZpY2VXb3JrZXI6IHRydWV9KVxuICAgICAgICAgICAgaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlclxuICAgICAgICAgICAgICAgICAgICAucmVnaXN0ZXIoJy9zdy5qcycpIC8vIHBhdGggdG8geW91ciBidW5kbGVkIHNlcnZpY2Ugd29ya2VyIHdpdGggR29sZGVuUmV0cmlldmVyIHNlcnZpY2Ugd29ya2VyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZWdpc3RyYXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsIHdpdGggc2NvcGU6ICcsIHJlZ2lzdHJhdGlvbi5zY29wZSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlZ2lzdHJhdGlvbiBmYWlsZWQgd2l0aCAnICsgZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHVwcHkub24oJ3Jlc3RyaWN0aW9uLWZhaWxlZCcsIChmaWxlLCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHQubG9nKCdSZXN0cmljdGlvbiBmYWlsZWQnLCBmaWxlKVxuICAgICAgICAgICAgICAgIHJwY1Byb3h5Lm9uUmVzdHJpY3Rpb25GYWlsZWQodGhpcy5zYWZlU2VyaWFsaXplKGZpbGUpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhZmVTZXJpYWxpemUoZXJyb3IpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB1cHB5Lm9uKCAndXBsb2FkJywgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0LmxvZygnVXBsb2FkIHN0YXJ0ZWQgOiAnICsgZGF0YSk7XG4gICAgICAgICAgICAgICAgcnBjUHJveHkub25VcGxvYWRTdGFydGVkKHRoaXMuc2FmZVNlcmlhbGl6ZShkYXRhKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHN0YXRlLnRyYW5zZmVyUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICB1cHB5Lm9uKCd1cGxvYWQtcHJvZ3Jlc3MnLCAoZmlsZSwgcHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZUxhc3RUaW1lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RUaW1lW2ZpbGUuaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlTGFzdFRpbWUgPSBsYXN0VGltZVtmaWxlLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZUxhc3RQZXJjZW50UHJvZ3Jlc3MgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RQZXJjZW50UHJvZ3Jlc3NbZmlsZS5pZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVMYXN0UGVyY2VudFByb2dyZXNzID0gbGFzdFBlcmNlbnRQcm9ncmVzc1tmaWxlLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBub3RpZnkgdGhlIHJwYyBzZXJ2ZXIgZXZlcnkgc2Vjb25kIGFuZCBldmVyeSBwZXJjZW50IGNoYW5nZSBtYXhpbXVtXG4gICAgICAgICAgICAgICAgICAgIGlmICgobmV3VGltZSAtIGZpbGVMYXN0VGltZSkgPiAxMDAwICYmICghcHJvZ3Jlc3MuYnl0ZXNUb3RhbCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgMTAwICogcHJvZ3Jlc3MuYnl0ZXNVcGxvYWRlZCAvIHByb2dyZXNzLmJ5dGVzVG90YWwgPj0gZmlsZUxhc3RQZXJjZW50UHJvZ3Jlc3MgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcHJvZ3Jlc3MuYnl0ZXNVcGxvYWRlZCA9PSBwcm9ncmVzcy5ieXRlc1RvdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKFwiUHJvZ3Jlc3Mgc3RyaW5naWZ5IDogXCIgKyB0aGlzLnNhZmVTdHJpbmdpZnkocHJvZ3Jlc3MpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJwY1Byb3h5Lm9uVXBsb2FkUHJvZ3Jlc3NVcGRhdGVkKHRoaXMuc2FmZVNlcmlhbGl6ZShmaWxlKSwgdGhpcy5zYWZlU2VyaWFsaXplKHByb2dyZXNzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0VGltZVtmaWxlLmlkXSA9IG5ld1RpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MuYnl0ZXNUb3RhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQZXJjZW50UHJvZ3Jlc3NbZmlsZS5pZF0gPSAxMDAgKiBwcm9ncmVzcy5ieXRlc1VwbG9hZGVkIC8gcHJvZ3Jlc3MuYnl0ZXNUb3RhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdXBweS5vbignZmlsZS1hZGRlZCcsIChmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHQubG9nKCdBZGRlZCBmaWxlJywgZmlsZSlcbiAgICAgICAgICAgICAgICAgICAgcnBjUHJveHkub25GaWxlQWRkZWQodGhpcy5zYWZlU2VyaWFsaXplKGZpbGUpKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHVwcHkub24oICd1cGxvYWQtZXJyb3InLCAoZmlsZSwgZXJyb3IsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHQubG9nKCdGaWxlIGZhaWx1cmUgaWQgJyArIGZpbGUuaWQsICcgOyBlcnJvciA6ICcgKyBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWxlU2VyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTZXIgPSB0aGlzLnNhZmVTZXJpYWxpemUoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yU2VyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvclNlciA9IHRoaXMuc2FmZVNlcmlhbGl6ZShlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlU2VyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVNlciA9IHRoaXMuc2FmZVNlcmlhbGl6ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcnBjUHJveHkub25VcGxvYWRFcnJvcihmaWxlU2VyLCBlcnJvclNlciwgcmVzcG9uc2VTZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1cHB5Lm9uKCAndXBsb2FkLXN1Y2Nlc3MnLCAoZmlsZSwgcmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICB0LmxvZygnRmlsZSBzdWNjZXNzZnVsbHkgdXBsb2FkZWQgJyArIGZpbGUuaWQpO1xuICAgICAgICAgICAgICAgIHJwY1Byb3h5Lm9uVXBsb2FkU3VjY2VzcyhmaWxlLCB0aGlzLnNhZmVTZXJpYWxpemUocmVzcG9uc2UpKTtcbiAgICAgICAgICAgICAgICAvLyB1cHB5LnJlbW92ZUZpbGUoZmlsZS5pZCk7IC8vIG5vIGNvbXBsZXRlIGZpcmVkXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdXBweS5vbignY29tcGxldGUnLCAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgdC5sb2coXCJVcGxvYWQgY29tcGxldGUhIFdl4oCZdmUgdXBsb2FkZWQgdGhlc2UgZmlsZXM6XCIsIHJlc3VsdC5zdWNjZXNzZnVsKTtcbiAgICAgICAgICAgICAgICB0LmxvZyhcIkZhaWx1cmVzOlwiLCByZXN1bHQuZmFpbGVkKTtcbiAgICAgICAgICAgICAgICBycGNQcm94eS5vblVwbG9hZENvbXBsZXRlKHRoaXMuc2FmZVNlcmlhbGl6ZShyZXN1bHQuc3VjY2Vzc2Z1bCksIHRoaXMuc2FmZVNlcmlhbGl6ZShyZXN1bHQuZmFpbGVkKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdXBweS5vbigndGh1bWJuYWlsOmdlbmVyYXRlZCcsIChmaWxlLCBwcmV2aWV3KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gcHJldmlld1xuICAgICAgICAgICAgICAgIGltZy53aWR0aCA9IHQuZ2V0U3RhdGUoKS5kYXNoYm9hcmRwYXJhbWV0ZXJzLnRodW1ibmFpbFdpZHRoO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW1nKVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdXBweS5nZXRGaWxlcygpLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgdXBweS5zZXRGaWxlU3RhdGUoZmlsZS5pZCwge1xuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogeyB1cGxvYWRDb21wbGV0ZTogdHJ1ZSwgdXBsb2FkU3RhcnRlZDogZmFsc2UgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmVGaWxlOiBmdW5jdGlvbiAoZmlsZUlkKSB7XG4gICAgICAgICAgICB1cHB5LnJlbW92ZUZpbGUoZmlsZUlkKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsQWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB1cHB5LmNhbmNlbEFsbCgpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0TW9kYWw6IGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgICAgICB0aGlzLmluaXQob3B0cyk7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRJbmxpbmU6IGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgICAgICB0aGlzLmluaXQob3B0cyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldE1ldGE6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBpZiAodXBweSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB1cHB5LnNldE1ldGEoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0RGFzaGJvYXJkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodXBweSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB1cHB5LmNhbmNlbEFsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvLyBzYWZlbHkgaGFuZGxlcyBjaXJjdWxhciByZWZlcmVuY2VzXG4gICAgICAgIHNhZmVTdHJpbmdpZnk6IGZ1bmN0aW9uKG9iaiwgaW5kZW50ID0gMikgIHtcbiAgICAgICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgICAgICBsZXQgY2FjaGUgPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXRWYWwgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICAgICAgb2JqLFxuICAgICAgICAgICAgICAgICAgICAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PSAndXBsb2FkZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjYWNoZS5pbmNsdWRlcyh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWQgLy8gRHVwbGljYXRlIHJlZmVyZW5jZSBmb3VuZCwgZGlzY2FyZCBrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjYWNoZS5wdXNoKHZhbHVlKSAmJiB2YWx1ZSAvLyBTdG9yZSB2YWx1ZSBpbiBvdXIgY29sbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjYWNoZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldFZhbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwie31cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2FmZVNlcmlhbGl6ZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5zYWZlU3RyaW5naWZ5KG9iaikpO1xuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgIGNsYXNzIFVJVWlkIHtcblxuICAgICAgICBjb25zdHJ1Y3RvcihpZCwgdXNlcklkKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgICAgICB0aGlzLnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9